function _P(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Im=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Tg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function bP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var bx={exports:{}},rh={},Sx={exports:{}},xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function SP(){if(yw)return xt;yw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,P={};function N(B,U,V){this.props=B,this.context=U,this.refs=P,this.updater=V||C}N.prototype.isReactComponent={},N.prototype.setState=function(B,U){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,U,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function R(){}R.prototype=N.prototype;function k(B,U,V){this.props=B,this.context=U,this.refs=P,this.updater=V||C}var T=k.prototype=new R;T.constructor=k,E(T,N.prototype),T.isPureReactComponent=!0;var O=Array.isArray,I=Object.prototype.hasOwnProperty,L={current:null},z={key:!0,ref:!0,__self:!0,__source:!0};function F(B,U,V){var oe,ue={},he=null,te=null;if(U!=null)for(oe in U.ref!==void 0&&(te=U.ref),U.key!==void 0&&(he=""+U.key),U)I.call(U,oe)&&!z.hasOwnProperty(oe)&&(ue[oe]=U[oe]);var fe=arguments.length-2;if(fe===1)ue.children=V;else if(1<fe){for(var je=Array(fe),Ce=0;Ce<fe;Ce++)je[Ce]=arguments[Ce+2];ue.children=je}if(B&&B.defaultProps)for(oe in fe=B.defaultProps,fe)ue[oe]===void 0&&(ue[oe]=fe[oe]);return{$$typeof:n,type:B,key:he,ref:te,props:ue,_owner:L.current}}function q(B,U){return{$$typeof:n,type:B.type,key:U,ref:B.ref,props:B.props,_owner:B._owner}}function X(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function re(B){var U={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(V){return U[V]})}var ae=/\/+/g;function pe(B,U){return typeof B=="object"&&B!==null&&B.key!=null?re(""+B.key):U.toString(36)}function me(B,U,V,oe,ue){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var te=!1;if(B===null)te=!0;else switch(he){case"string":case"number":te=!0;break;case"object":switch(B.$$typeof){case n:case e:te=!0}}if(te)return te=B,ue=ue(te),B=oe===""?"."+pe(te,0):oe,O(ue)?(V="",B!=null&&(V=B.replace(ae,"$&/")+"/"),me(ue,U,V,"",function(Ce){return Ce})):ue!=null&&(X(ue)&&(ue=q(ue,V+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(ae,"$&/")+"/")+B)),U.push(ue)),1;if(te=0,oe=oe===""?".":oe+":",O(B))for(var fe=0;fe<B.length;fe++){he=B[fe];var je=oe+pe(he,fe);te+=me(he,U,V,je,ue)}else if(je=b(B),typeof je=="function")for(B=je.call(B),fe=0;!(he=B.next()).done;)he=he.value,je=oe+pe(he,fe++),te+=me(he,U,V,je,ue);else if(he==="object")throw U=String(B),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return te}function ke(B,U,V){if(B==null)return B;var oe=[],ue=0;return me(B,oe,"","",function(he){return U.call(V,he,ue++)}),oe}function ge(B){if(B._status===-1){var U=B._result;U=U(),U.then(function(V){(B._status===0||B._status===-1)&&(B._status=1,B._result=V)},function(V){(B._status===0||B._status===-1)&&(B._status=2,B._result=V)}),B._status===-1&&(B._status=0,B._result=U)}if(B._status===1)return B._result.default;throw B._result}var be={current:null},W={transition:null},K={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:W,ReactCurrentOwner:L};function ne(){throw Error("act(...) is not supported in production builds of React.")}return xt.Children={map:ke,forEach:function(B,U,V){ke(B,function(){U.apply(this,arguments)},V)},count:function(B){var U=0;return ke(B,function(){U++}),U},toArray:function(B){return ke(B,function(U){return U})||[]},only:function(B){if(!X(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},xt.Component=N,xt.Fragment=t,xt.Profiler=o,xt.PureComponent=k,xt.StrictMode=r,xt.Suspense=p,xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,xt.act=ne,xt.cloneElement=function(B,U,V){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var oe=E({},B.props),ue=B.key,he=B.ref,te=B._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,te=L.current),U.key!==void 0&&(ue=""+U.key),B.type&&B.type.defaultProps)var fe=B.type.defaultProps;for(je in U)I.call(U,je)&&!z.hasOwnProperty(je)&&(oe[je]=U[je]===void 0&&fe!==void 0?fe[je]:U[je])}var je=arguments.length-2;if(je===1)oe.children=V;else if(1<je){fe=Array(je);for(var Ce=0;Ce<je;Ce++)fe[Ce]=arguments[Ce+2];oe.children=fe}return{$$typeof:n,type:B.type,key:ue,ref:he,props:oe,_owner:te}},xt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:c,_context:B},B.Consumer=B},xt.createElement=F,xt.createFactory=function(B){var U=F.bind(null,B);return U.type=B,U},xt.createRef=function(){return{current:null}},xt.forwardRef=function(B){return{$$typeof:h,render:B}},xt.isValidElement=X,xt.lazy=function(B){return{$$typeof:x,_payload:{_status:-1,_result:B},_init:ge}},xt.memo=function(B,U){return{$$typeof:g,type:B,compare:U===void 0?null:U}},xt.startTransition=function(B){var U=W.transition;W.transition={};try{B()}finally{W.transition=U}},xt.unstable_act=ne,xt.useCallback=function(B,U){return be.current.useCallback(B,U)},xt.useContext=function(B){return be.current.useContext(B)},xt.useDebugValue=function(){},xt.useDeferredValue=function(B){return be.current.useDeferredValue(B)},xt.useEffect=function(B,U){return be.current.useEffect(B,U)},xt.useId=function(){return be.current.useId()},xt.useImperativeHandle=function(B,U,V){return be.current.useImperativeHandle(B,U,V)},xt.useInsertionEffect=function(B,U){return be.current.useInsertionEffect(B,U)},xt.useLayoutEffect=function(B,U){return be.current.useLayoutEffect(B,U)},xt.useMemo=function(B,U){return be.current.useMemo(B,U)},xt.useReducer=function(B,U,V){return be.current.useReducer(B,U,V)},xt.useRef=function(B){return be.current.useRef(B)},xt.useState=function(B){return be.current.useState(B)},xt.useSyncExternalStore=function(B,U,V){return be.current.useSyncExternalStore(B,U,V)},xt.useTransition=function(){return be.current.useTransition()},xt.version="18.3.1",xt}var ww;function Ag(){return ww||(ww=1,Sx.exports=SP()),Sx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function jP(){if(_w)return rh;_w=1;var n=Ag(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var x,y={},b=null,C=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)r.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:e,type:h,key:b,ref:C,props:y,_owner:o.current}}return rh.Fragment=t,rh.jsx=u,rh.jsxs=u,rh}var bw;function NP(){return bw||(bw=1,bx.exports=jP()),bx.exports}var i=NP(),w=Ag();const on=Tg(w),G0=_P({__proto__:null,default:on},[w]);var Om={},jx={exports:{}},Ir={},Nx={exports:{}},kx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sw;function kP(){return Sw||(Sw=1,function(n){function e(W,K){var ne=W.length;W.push(K);e:for(;0<ne;){var B=ne-1>>>1,U=W[B];if(0<o(U,K))W[B]=K,W[ne]=U,ne=B;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ne=W.pop();if(ne!==K){W[0]=ne;e:for(var B=0,U=W.length,V=U>>>1;B<V;){var oe=2*(B+1)-1,ue=W[oe],he=oe+1,te=W[he];if(0>o(ue,ne))he<U&&0>o(te,ue)?(W[B]=te,W[he]=ne,B=he):(W[B]=ue,W[oe]=ne,B=oe);else if(he<U&&0>o(te,ne))W[B]=te,W[he]=ne,B=he;else break e}}return K}function o(W,K){var ne=W.sortIndex-K.sortIndex;return ne!==0?ne:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],g=[],x=1,y=null,b=3,C=!1,E=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var K=t(g);K!==null;){if(K.callback===null)r(g);else if(K.startTime<=W)r(g),K.sortIndex=K.expirationTime,e(p,K);else break;K=t(g)}}function O(W){if(P=!1,T(W),!E)if(t(p)!==null)E=!0,ge(I);else{var K=t(g);K!==null&&be(O,K.startTime-W)}}function I(W,K){E=!1,P&&(P=!1,R(F),F=-1),C=!0;var ne=b;try{for(T(K),y=t(p);y!==null&&(!(y.expirationTime>K)||W&&!re());){var B=y.callback;if(typeof B=="function"){y.callback=null,b=y.priorityLevel;var U=B(y.expirationTime<=K);K=n.unstable_now(),typeof U=="function"?y.callback=U:y===t(p)&&r(p),T(K)}else r(p);y=t(p)}if(y!==null)var V=!0;else{var oe=t(g);oe!==null&&be(O,oe.startTime-K),V=!1}return V}finally{y=null,b=ne,C=!1}}var L=!1,z=null,F=-1,q=5,X=-1;function re(){return!(n.unstable_now()-X<q)}function ae(){if(z!==null){var W=n.unstable_now();X=W;var K=!0;try{K=z(!0,W)}finally{K?pe():(L=!1,z=null)}}else L=!1}var pe;if(typeof k=="function")pe=function(){k(ae)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ke=me.port2;me.port1.onmessage=ae,pe=function(){ke.postMessage(null)}}else pe=function(){N(ae,0)};function ge(W){z=W,L||(L=!0,pe())}function be(W,K){F=N(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){E||C||(E=!0,ge(I))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ne=b;b=K;try{return W()}finally{b=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=b;b=W;try{return K()}finally{b=ne}},n.unstable_scheduleCallback=function(W,K,ne){var B=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ne+U,W={id:x++,callback:K,priorityLevel:W,startTime:ne,expirationTime:U,sortIndex:-1},ne>B?(W.sortIndex=ne,e(g,W),t(p)===null&&W===t(g)&&(P?(R(F),F=-1):P=!0,be(O,ne-B))):(W.sortIndex=U,e(p,W),E||C||(E=!0,ge(I))),W},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(W){var K=b;return function(){var ne=b;b=K;try{return W.apply(this,arguments)}finally{b=ne}}}}(kx)),kx}var jw;function CP(){return jw||(jw=1,Nx.exports=kP()),Nx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nw;function EP(){if(Nw)return Ir;Nw=1;var n=Ag(),e=CP();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)a+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function c(s,a){u(s,a),u(s+"Capture",a)}function u(s,a){for(o[s]=a,s=0;s<a.length;s++)r.add(a[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function b(s){return p.call(y,s)?!0:p.call(x,s)?!1:g.test(s)?y[s]=!0:(x[s]=!0,!1)}function C(s,a,f,m){if(f!==null&&f.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,a,f,m){if(a===null||typeof a>"u"||C(s,a,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function P(s,a,f,m,_,S,M){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=s,this.type=a,this.sanitizeURL=S,this.removeEmptyString=M}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];N[a]=new P(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(R,k);N[a]=new P(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(R,k);N[a]=new P(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(R,k);N[a]=new P(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,a,f,m){var _=N.hasOwnProperty(a)?N[a]:null;(_!==null?_.type!==0:m||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(E(a,f,_,m)&&(f=null),m||_===null?b(a)&&(f===null?s.removeAttribute(a):s.setAttribute(a,""+f)):_.mustUseProperty?s[_.propertyName]=f===null?_.type===3?!1:"":f:(a=_.attributeName,m=_.attributeNamespace,f===null?s.removeAttribute(a):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,m?s.setAttributeNS(m,a,f):s.setAttribute(a,f))))}var O=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),L=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),re=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),W=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,B;function U(s){if(B===void 0)try{throw Error()}catch(f){var a=f.stack.trim().match(/\n( *(at )?)/);B=a&&a[1]||""}return`
`+B+s}var V=!1;function oe(s,a){if(!s||V)return"";V=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(ce){var m=ce}Reflect.construct(s,[],a)}else{try{a.call()}catch(ce){m=ce}s.call(a.prototype)}else{try{throw Error()}catch(ce){m=ce}s()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var _=ce.stack.split(`
`),S=m.stack.split(`
`),M=_.length-1,H=S.length-1;1<=M&&0<=H&&_[M]!==S[H];)H--;for(;1<=M&&0<=H;M--,H--)if(_[M]!==S[H]){if(M!==1||H!==1)do if(M--,H--,0>H||_[M]!==S[H]){var Y=`
`+_[M].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=M&&0<=H);break}}}finally{V=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?U(s):""}function ue(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=oe(s.type,!1),s;case 11:return s=oe(s.type.render,!1),s;case 1:return s=oe(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case z:return"Fragment";case L:return"Portal";case q:return"Profiler";case F:return"StrictMode";case pe:return"Suspense";case me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case ae:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return a=s.displayName||null,a!==null?a:he(s.type)||"Memo";case ge:a=s._payload,s=s._init;try{return he(s(a))}catch{}}return null}function te(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(a);case 8:return a===F?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ce(s){var a=je(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),m=""+s[a];if(!s.hasOwnProperty(a)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,S=f.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return _.call(this)},set:function(M){m=""+M,S.call(this,M)}}),Object.defineProperty(s,a,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function He(s){s._valueTracker||(s._valueTracker=Ce(s))}function Le(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var f=a.getValue(),m="";return s&&(m=je(s)?s.checked?"true":"false":s.value),s=m,s!==f?(a.setValue(s),!0):!1}function tt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function vt(s,a){var f=a.checked;return ne({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function mn(s,a){var f=a.defaultValue==null?"":a.defaultValue,m=a.checked!=null?a.checked:a.defaultChecked;f=fe(a.value!=null?a.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function or(s,a){a=a.checked,a!=null&&T(s,"checked",a,!1)}function Yt(s,a){or(s,a);var f=fe(a.value),m=a.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?Mr(s,a.type,f):a.hasOwnProperty("defaultValue")&&Mr(s,a.type,fe(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function en(s,a,f){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var m=a.type;if(!(m!=="submit"&&m!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,f||a===s.value||(s.value=a),s.defaultValue=a}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Mr(s,a,f){(a!=="number"||tt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Dr=Array.isArray;function qt(s,a,f,m){if(s=s.options,a){a={};for(var _=0;_<f.length;_++)a["$"+f[_]]=!0;for(f=0;f<s.length;f++)_=a.hasOwnProperty("$"+s[f].value),s[f].selected!==_&&(s[f].selected=_),_&&m&&(s[f].defaultSelected=!0)}else{for(f=""+fe(f),a=null,_=0;_<s.length;_++){if(s[_].value===f){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}a!==null||s[_].disabled||(a=s[_])}a!==null&&(a.selected=!0)}}function es(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Bo(s,a){var f=a.value;if(f==null){if(f=a.children,a=a.defaultValue,f!=null){if(a!=null)throw Error(t(92));if(Dr(f)){if(1<f.length)throw Error(t(93));f=f[0]}a=f}a==null&&(a=""),f=a}s._wrapperState={initialValue:fe(f)}}function Qh(s,a){var f=fe(a.value),m=fe(a.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),a.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Li(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function Zh(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wo(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?Zh(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var js,uc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,f,m,_){MSApp.execUnsafeLocalFunction(function(){return s(a,f,m,_)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(js=js||document.createElement("div"),js.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=js.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ho(s,a){if(a){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=a;return}}s.textContent=a}var Vo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},kd=["Webkit","ms","Moz","O"];Object.keys(Vo).forEach(function(s){kd.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),Vo[a]=Vo[s]})});function dc(s,a,f){return a==null||typeof a=="boolean"||a===""?"":f||typeof a!="number"||a===0||Vo.hasOwnProperty(s)&&Vo[s]?(""+a).trim():a+"px"}function fc(s,a){s=s.style;for(var f in a)if(a.hasOwnProperty(f)){var m=f.indexOf("--")===0,_=dc(f,a[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,_):s[f]=_}}var Cd=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fa(s,a){if(a){if(Cd[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function za(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ed=null;function Pd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Rd=null,Go=null,qo=null;function ep(s){if(s=Pn(s)){if(typeof Rd!="function")throw Error(t(280));var a=s.stateNode;a&&(a=Wc(a),Rd(s.stateNode,s.type,a))}}function tp(s){Go?qo?qo.push(s):qo=[s]:Go=s}function np(){if(Go){var s=Go,a=qo;if(qo=Go=null,ep(s),a)for(s=0;s<a.length;s++)ep(a[s])}}function rp(s,a){return s(a)}function Td(){}var Ad=!1;function sp(s,a,f){if(Ad)return s(a,f);Ad=!0;try{return rp(s,a,f)}finally{Ad=!1,(Go!==null||qo!==null)&&(Td(),np())}}function Ua(s,a){var f=s.stateNode;if(f===null)return null;var m=Wc(f);if(m===null)return null;f=m[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,a,typeof f));return f}var Ba=!1;if(h)try{var Wa={};Object.defineProperty(Wa,"passive",{get:function(){Ba=!0}}),window.addEventListener("test",Wa,Wa),window.removeEventListener("test",Wa,Wa)}catch{Ba=!1}function Id(s,a,f,m,_,S,M,H,Y){var ce=Array.prototype.slice.call(arguments,3);try{a.apply(f,ce)}catch(we){this.onError(we)}}var Ha=!1,hc=null,pc=!1,Od=null,xv={onError:function(s){Ha=!0,hc=s}};function yv(s,a,f,m,_,S,M,H,Y){Ha=!1,hc=null,Id.apply(xv,arguments)}function wv(s,a,f,m,_,S,M,H,Y){if(yv.apply(this,arguments),Ha){if(Ha){var ce=hc;Ha=!1,hc=null}else throw Error(t(198));pc||(pc=!0,Od=ce)}}function Ko(s){var a=s,f=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(f=a.return),s=a.return;while(s)}return a.tag===3?f:null}function Md(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function op(s){if(Ko(s)!==s)throw Error(t(188))}function _v(s){var a=s.alternate;if(!a){if(a=Ko(s),a===null)throw Error(t(188));return a!==s?null:s}for(var f=s,m=a;;){var _=f.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){f=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===f)return op(_),s;if(S===m)return op(_),a;S=S.sibling}throw Error(t(188))}if(f.return!==m.return)f=_,m=S;else{for(var M=!1,H=_.child;H;){if(H===f){M=!0,f=_,m=S;break}if(H===m){M=!0,m=_,f=S;break}H=H.sibling}if(!M){for(H=S.child;H;){if(H===f){M=!0,f=S,m=_;break}if(H===m){M=!0,m=S,f=_;break}H=H.sibling}if(!M)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:a}function ip(s){return s=_v(s),s!==null?ap(s):null}function ap(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ap(s);if(a!==null)return a;s=s.sibling}return null}var lp=e.unstable_scheduleCallback,cp=e.unstable_cancelCallback,mc=e.unstable_shouldYield,bv=e.unstable_requestPaint,zt=e.unstable_now,Sv=e.unstable_getCurrentPriorityLevel,Dd=e.unstable_ImmediatePriority,up=e.unstable_UserBlockingPriority,Va=e.unstable_NormalPriority,dp=e.unstable_LowPriority,Ld=e.unstable_IdlePriority,gc=null,ts=null;function jv(s){if(ts&&typeof ts.onCommitFiberRoot=="function")try{ts.onCommitFiberRoot(gc,s,void 0,(s.current.flags&128)===128)}catch{}}var Lr=Math.clz32?Math.clz32:pp,fp=Math.log,hp=Math.LN2;function pp(s){return s>>>=0,s===0?32:31-(fp(s)/hp|0)|0}var $i=64,vc=4194304;function Fi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Yo(s,a){var f=s.pendingLanes;if(f===0)return 0;var m=0,_=s.suspendedLanes,S=s.pingedLanes,M=f&268435455;if(M!==0){var H=M&~_;H!==0?m=Fi(H):(S&=M,S!==0&&(m=Fi(S)))}else M=f&~_,M!==0?m=Fi(M):S!==0&&(m=Fi(S));if(m===0)return 0;if(a!==0&&a!==m&&(a&_)===0&&(_=m&-m,S=a&-a,_>=S||_===16&&(S&4194240)!==0))return a;if((m&4)!==0&&(m|=f&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=m;0<a;)f=31-Lr(a),_=1<<f,m|=s[f],a&=~_;return m}function mp(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nv(s,a){for(var f=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes;0<S;){var M=31-Lr(S),H=1<<M,Y=_[M];Y===-1?((H&f)===0||(H&m)!==0)&&(_[M]=mp(H,a)):Y<=a&&(s.expiredLanes|=H),S&=~H}}function xc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function $d(){var s=$i;return $i<<=1,($i&4194240)===0&&($i=64),s}function Ga(s){for(var a=[],f=0;31>f;f++)a.push(s);return a}function qa(s,a,f){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Lr(a),s[a]=f}function gp(s,a){var f=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var _=31-Lr(f),S=1<<_;a[_]=0,m[_]=-1,s[_]=-1,f&=~S}}function Ka(s,a){var f=s.entangledLanes|=a;for(s=s.entanglements;f;){var m=31-Lr(f),_=1<<m;_&a|s[m]&a&&(s[m]|=a),f&=~_}}var Ct=0;function Jo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Fd,yc,vp,zd,Ud,wc=!1,Ya=[],to=null,no=null,ro=null,zi=new Map,Ja=new Map,so=[],kv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function xp(s,a){switch(s){case"focusin":case"focusout":to=null;break;case"dragenter":case"dragleave":no=null;break;case"mouseover":case"mouseout":ro=null;break;case"pointerover":case"pointerout":zi.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ja.delete(a.pointerId)}}function Xo(s,a,f,m,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:a,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},a!==null&&(a=Pn(a),a!==null&&yc(a)),s):(s.eventSystemFlags|=m,a=s.targetContainers,_!==null&&a.indexOf(_)===-1&&a.push(_),s)}function Cv(s,a,f,m,_){switch(a){case"focusin":return to=Xo(to,s,a,f,m,_),!0;case"dragenter":return no=Xo(no,s,a,f,m,_),!0;case"mouseover":return ro=Xo(ro,s,a,f,m,_),!0;case"pointerover":var S=_.pointerId;return zi.set(S,Xo(zi.get(S)||null,s,a,f,m,_)),!0;case"gotpointercapture":return S=_.pointerId,Ja.set(S,Xo(Ja.get(S)||null,s,a,f,m,_)),!0}return!1}function yp(s){var a=os(s.target);if(a!==null){var f=Ko(a);if(f!==null){if(a=f.tag,a===13){if(a=Md(f),a!==null){s.blockedOn=a,Ud(s.priority,function(){vp(f)});return}}else if(a===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _c(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var f=jc(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Ed=m,f.target.dispatchEvent(m),Ed=null}else return a=Pn(f),a!==null&&yc(a),s.blockedOn=f,!1;a.shift()}return!0}function wp(s,a,f){_c(s)&&f.delete(a)}function Ev(){wc=!1,to!==null&&_c(to)&&(to=null),no!==null&&_c(no)&&(no=null),ro!==null&&_c(ro)&&(ro=null),zi.forEach(wp),Ja.forEach(wp)}function Pt(s,a){s.blockedOn===a&&(s.blockedOn=null,wc||(wc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ev)))}function Et(s){function a(_){return Pt(_,s)}if(0<Ya.length){Pt(Ya[0],s);for(var f=1;f<Ya.length;f++){var m=Ya[f];m.blockedOn===s&&(m.blockedOn=null)}}for(to!==null&&Pt(to,s),no!==null&&Pt(no,s),ro!==null&&Pt(ro,s),zi.forEach(a),Ja.forEach(a),f=0;f<so.length;f++)m=so[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<so.length&&(f=so[0],f.blockedOn===null);)yp(f),f.blockedOn===null&&so.shift()}var Ui=O.ReactCurrentBatchConfig,bc=!0;function Pv(s,a,f,m){var _=Ct,S=Ui.transition;Ui.transition=null;try{Ct=1,Bd(s,a,f,m)}finally{Ct=_,Ui.transition=S}}function Rv(s,a,f,m){var _=Ct,S=Ui.transition;Ui.transition=null;try{Ct=4,Bd(s,a,f,m)}finally{Ct=_,Ui.transition=S}}function Bd(s,a,f,m){if(bc){var _=jc(s,a,f,m);if(_===null)of(s,a,m,Sc,f),xp(s,m);else if(Cv(_,s,a,f,m))m.stopPropagation();else if(xp(s,m),a&4&&-1<kv.indexOf(s)){for(;_!==null;){var S=Pn(_);if(S!==null&&Fd(S),S=jc(s,a,f,m),S===null&&of(s,a,m,Sc,f),S===_)break;_=S}_!==null&&m.stopPropagation()}else of(s,a,m,null,f)}}var Sc=null;function jc(s,a,f,m){if(Sc=null,s=Pd(m),s=os(s),s!==null)if(a=Ko(s),a===null)s=null;else if(f=a.tag,f===13){if(s=Md(a),s!==null)return s;s=null}else if(f===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Sc=s,null}function _p(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Sv()){case Dd:return 1;case up:return 4;case Va:case dp:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var Ut=null,Xa=null,ns=null;function Wd(){if(ns)return ns;var s,a=Xa,f=a.length,m,_="value"in Ut?Ut.value:Ut.textContent,S=_.length;for(s=0;s<f&&a[s]===_[s];s++);var M=f-s;for(m=1;m<=M&&a[f-m]===_[S-m];m++);return ns=_.slice(s,1<m?1-m:void 0)}function Bi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function $n(){return!0}function Hd(){return!1}function Yn(s){function a(f,m,_,S,M){this._reactName=f,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(S):S[H]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?$n:Hd,this.isPropagationStopped=Hd,this}return ne(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=$n)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=$n)},persist:function(){},isPersistent:$n}),a}var Qo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=Yn(Qo),Wi=ne({},Qo,{view:0,detail:0}),bp=Yn(Wi),Fn,Vd,Cn,kc=ne({},Wi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Jd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Cn&&(Cn&&s.type==="mousemove"?(Fn=s.screenX-Cn.screenX,Vd=s.screenY-Cn.screenY):Vd=Fn=0,Cn=s),Fn)},movementY:function(s){return"movementY"in s?s.movementY:Vd}}),Gd=Yn(kc),oo=ne({},kc,{dataTransfer:0}),Cc=Yn(oo),qd=ne({},Wi,{relatedTarget:0}),Ot=Yn(qd),io=ne({},Qo,{animationName:0,elapsedTime:0,pseudoElement:0}),Kd=Yn(io),Tv=ne({},Qo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Yd=Yn(Tv),Av=ne({},Qo,{data:0}),Sp=Yn(Av),Iv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ec={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hi(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Ec[s])?!!a[s]:!1}function Jd(){return Hi}var Np=ne({},Wi,{key:function(s){if(s.key){var a=Iv[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?jp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Jd,charCode:function(s){return s.type==="keypress"?Bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),kp=Yn(Np),Xd=ne({},kc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Pc=Yn(Xd),Cp=ne({},Wi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Jd}),Ov=Yn(Cp),Qd=ne({},Qo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zd=Yn(Qd),Mv=ne({},kc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Ep=Yn(Mv),ir=[9,13,27,32],Qa=h&&"CompositionEvent"in window,Ns=null;h&&"documentMode"in document&&(Ns=document.documentMode);var Pp=h&&"TextEvent"in window&&!Ns,ef=h&&(!Qa||Ns&&8<Ns&&11>=Ns),Rp=" ",Tp=!1;function Ap(s,a){switch(s){case"keyup":return ir.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ip(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Vi=!1;function Gi(s,a){switch(s){case"compositionend":return Ip(a);case"keypress":return a.which!==32?null:(Tp=!0,Rp);case"textInput":return s=a.data,s===Rp&&Tp?null:s;default:return null}}function Dv(s,a){if(Vi)return s==="compositionend"||!Qa&&Ap(s,a)?(s=Wd(),ns=Xa=Ut=null,Vi=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return ef&&a.locale!=="ko"?null:a.data;default:return null}}var Lv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rc(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!Lv[s.type]:a==="textarea"}function tf(s,a,f,m){tp(m),a=Fc(a,"onChange"),0<a.length&&(f=new Nc("onChange","change",null,f,m),s.push({event:f,listeners:a}))}var xr=null,ao=null;function $v(s){zp(s,0)}function Tc(s){var a=ct(s);if(Le(a))return s}function Fv(s,a){if(s==="change")return a}var Zo=!1;if(h){var ar;if(h){var Ac="oninput"in document;if(!Ac){var Op=document.createElement("div");Op.setAttribute("oninput","return;"),Ac=typeof Op.oninput=="function"}ar=Ac}else ar=!1;Zo=ar&&(!document.documentMode||9<document.documentMode)}function Mp(){xr&&(xr.detachEvent("onpropertychange",Dp),ao=xr=null)}function Dp(s){if(s.propertyName==="value"&&Tc(ao)){var a=[];tf(a,ao,s,Pd(s)),sp($v,a)}}function zv(s,a,f){s==="focusin"?(Mp(),xr=a,ao=f,xr.attachEvent("onpropertychange",Dp)):s==="focusout"&&Mp()}function Uv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Tc(ao)}function qi(s,a){if(s==="click")return Tc(a)}function Z(s,a){if(s==="input"||s==="change")return Tc(a)}function de(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var le=typeof Object.is=="function"?Object.is:de;function Te(s,a){if(le(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var f=Object.keys(s),m=Object.keys(a);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var _=f[m];if(!p.call(a,_)||!le(s[_],a[_]))return!1}return!0}function it(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function jt(s,a){var f=it(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=a&&m>=a)return{node:f,offset:a-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=it(f)}}function tn(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?tn(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Rt(){for(var s=window,a=tt();a instanceof s.HTMLIFrameElement;){try{var f=typeof a.contentWindow.location.href=="string"}catch{f=!1}if(f)s=a.contentWindow;else break;a=tt(s.document)}return a}function Za(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Bv(s){var a=Rt(),f=s.focusedElem,m=s.selectionRange;if(a!==f&&f&&f.ownerDocument&&tn(f.ownerDocument.documentElement,f)){if(m!==null&&Za(f)){if(a=m.start,s=m.end,s===void 0&&(s=a),"selectionStart"in f)f.selectionStart=a,f.selectionEnd=Math.min(s,f.value.length);else if(s=(a=f.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var _=f.textContent.length,S=Math.min(m.start,_);m=m.end===void 0?S:Math.min(m.end,_),!s.extend&&S>m&&(_=m,m=S,S=_),_=jt(f,S);var M=jt(f,m);_&&M&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==M.node||s.focusOffset!==M.offset)&&(a=a.createRange(),a.setStart(_.node,_.offset),s.removeAllRanges(),S>m?(s.addRange(a),s.extend(M.node,M.offset)):(a.setEnd(M.node,M.offset),s.addRange(a)))}}for(a=[],s=f;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<a.length;f++)s=a[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yr=h&&"documentMode"in document&&11>=document.documentMode,ks=null,nf=null,rs=null,Ki=!1;function el(s,a,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ki||ks==null||ks!==tt(m)||(m=ks,"selectionStart"in m&&Za(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),rs&&Te(rs,m)||(rs=m,m=Fc(nf,"onSelect"),0<m.length&&(a=new Nc("onSelect","select",null,a,f),s.push({event:a,listeners:m}),a.target=ks)))}function Nt(s,a){var f={};return f[s.toLowerCase()]=a.toLowerCase(),f["Webkit"+s]="webkit"+a,f["Moz"+s]="moz"+a,f}var Yi={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},Ic={},tl={};h&&(tl=document.createElement("div").style,"AnimationEvent"in window||(delete Yi.animationend.animation,delete Yi.animationiteration.animation,delete Yi.animationstart.animation),"TransitionEvent"in window||delete Yi.transitionend.transition);function Oc(s){if(Ic[s])return Ic[s];if(!Yi[s])return s;var a=Yi[s],f;for(f in a)if(a.hasOwnProperty(f)&&f in tl)return Ic[s]=a[f];return s}var Lp=Oc("animationend"),$p=Oc("animationiteration"),nl=Oc("animationstart"),Cs=Oc("transitionend"),rl=new Map,rf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function $r(s,a){rl.set(s,a),c(a,[s])}for(var Mc=0;Mc<rf.length;Mc++){var Dc=rf[Mc],Lc=Dc.toLowerCase(),Fp=Dc[0].toUpperCase()+Dc.slice(1);$r(Lc,"on"+Fp)}$r(Lp,"onAnimationEnd"),$r($p,"onAnimationIteration"),$r(nl,"onAnimationStart"),$r("dblclick","onDoubleClick"),$r("focusin","onFocus"),$r("focusout","onBlur"),$r(Cs,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Es="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ei=new Set("cancel close invalid load scroll toggle".split(" ").concat(Es));function sl(s,a,f){var m=s.type||"unknown-event";s.currentTarget=f,wv(m,a,void 0,s),s.currentTarget=null}function zp(s,a){a=(a&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],_=m.event;m=m.listeners;e:{var S=void 0;if(a)for(var M=m.length-1;0<=M;M--){var H=m[M],Y=H.instance,ce=H.currentTarget;if(H=H.listener,Y!==S&&_.isPropagationStopped())break e;sl(_,H,ce),S=Y}else for(M=0;M<m.length;M++){if(H=m[M],Y=H.instance,ce=H.currentTarget,H=H.listener,Y!==S&&_.isPropagationStopped())break e;sl(_,H,ce),S=Y}}}if(pc)throw s=Od,pc=!1,Od=null,s}function Dt(s,a){var f=a[Bc];f===void 0&&(f=a[Bc]=new Set);var m=s+"__bubble";f.has(m)||($c(a,s,2,!1),f.add(m))}function sf(s,a,f){var m=0;a&&(m|=4),$c(f,s,m,a)}var ti="_reactListening"+Math.random().toString(36).slice(2);function lo(s){if(!s[ti]){s[ti]=!0,r.forEach(function(f){f!=="selectionchange"&&(ei.has(f)||sf(f,!1,s),sf(f,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[ti]||(a[ti]=!0,sf("selectionchange",!1,a))}}function $c(s,a,f,m){switch(_p(a)){case 1:var _=Pv;break;case 4:_=Rv;break;default:_=Bd}f=_.bind(null,a,f,s),_=void 0,!Ba||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(a,f,{capture:!0,passive:_}):s.addEventListener(a,f,!0):_!==void 0?s.addEventListener(a,f,{passive:_}):s.addEventListener(a,f,!1)}function of(s,a,f,m,_){var S=m;if((a&1)===0&&(a&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var H=m.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(M===4)for(M=m.return;M!==null;){var Y=M.tag;if((Y===3||Y===4)&&(Y=M.stateNode.containerInfo,Y===_||Y.nodeType===8&&Y.parentNode===_))return;M=M.return}for(;H!==null;){if(M=os(H),M===null)return;if(Y=M.tag,Y===5||Y===6){m=S=M;continue e}H=H.parentNode}}m=m.return}sp(function(){var ce=S,we=Pd(f),Se=[];e:{var ye=rl.get(s);if(ye!==void 0){var Ae=Nc,Me=s;switch(s){case"keypress":if(Bi(f)===0)break e;case"keydown":case"keyup":Ae=kp;break;case"focusin":Me="focus",Ae=Ot;break;case"focusout":Me="blur",Ae=Ot;break;case"beforeblur":case"afterblur":Ae=Ot;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ae=Gd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ae=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ae=Ov;break;case Lp:case $p:case nl:Ae=Kd;break;case Cs:Ae=Zd;break;case"scroll":Ae=bp;break;case"wheel":Ae=Ep;break;case"copy":case"cut":case"paste":Ae=Yd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ae=Pc}var De=(a&4)!==0,Xt=!De&&s==="scroll",se=De?ye!==null?ye+"Capture":null:ye;De=[];for(var Q=ce,ie;Q!==null;){ie=Q;var Ne=ie.stateNode;if(ie.tag===5&&Ne!==null&&(ie=Ne,se!==null&&(Ne=Ua(Q,se),Ne!=null&&De.push(Ji(Q,Ne,ie)))),Xt)break;Q=Q.return}0<De.length&&(ye=new Ae(ye,Me,null,f,we),Se.push({event:ye,listeners:De}))}}if((a&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Ae=s==="mouseout"||s==="pointerout",ye&&f!==Ed&&(Me=f.relatedTarget||f.fromElement)&&(os(Me)||Me[lr]))break e;if((Ae||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Ae?(Me=f.relatedTarget||f.toElement,Ae=ce,Me=Me?os(Me):null,Me!==null&&(Xt=Ko(Me),Me!==Xt||Me.tag!==5&&Me.tag!==6)&&(Me=null)):(Ae=null,Me=ce),Ae!==Me)){if(De=Gd,Ne="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(De=Pc,Ne="onPointerLeave",se="onPointerEnter",Q="pointer"),Xt=Ae==null?ye:ct(Ae),ie=Me==null?ye:ct(Me),ye=new De(Ne,Q+"leave",Ae,f,we),ye.target=Xt,ye.relatedTarget=ie,Ne=null,os(we)===ce&&(De=new De(se,Q+"enter",Me,f,we),De.target=ie,De.relatedTarget=Xt,Ne=De),Xt=Ne,Ae&&Me)t:{for(De=Ae,se=Me,Q=0,ie=De;ie;ie=Xi(ie))Q++;for(ie=0,Ne=se;Ne;Ne=Xi(Ne))ie++;for(;0<Q-ie;)De=Xi(De),Q--;for(;0<ie-Q;)se=Xi(se),ie--;for(;Q--;){if(De===se||se!==null&&De===se.alternate)break t;De=Xi(De),se=Xi(se)}De=null}else De=null;Ae!==null&&nn(Se,ye,Ae,De,!1),Me!==null&&Xt!==null&&nn(Se,Xt,Me,De,!0)}}e:{if(ye=ce?ct(ce):window,Ae=ye.nodeName&&ye.nodeName.toLowerCase(),Ae==="select"||Ae==="input"&&ye.type==="file")var Be=Fv;else if(Rc(ye))if(Zo)Be=Z;else{Be=Uv;var Qe=zv}else(Ae=ye.nodeName)&&Ae.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(Be=qi);if(Be&&(Be=Be(s,ce))){tf(Se,Be,f,we);break e}Qe&&Qe(s,ye,ce),s==="focusout"&&(Qe=ye._wrapperState)&&Qe.controlled&&ye.type==="number"&&Mr(ye,"number",ye.value)}switch(Qe=ce?ct(ce):window,s){case"focusin":(Rc(Qe)||Qe.contentEditable==="true")&&(ks=Qe,nf=ce,rs=null);break;case"focusout":rs=nf=ks=null;break;case"mousedown":Ki=!0;break;case"contextmenu":case"mouseup":case"dragend":Ki=!1,el(Se,f,we);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":el(Se,f,we)}var Xe;if(Qa)e:{switch(s){case"compositionstart":var nt="onCompositionStart";break e;case"compositionend":nt="onCompositionEnd";break e;case"compositionupdate":nt="onCompositionUpdate";break e}nt=void 0}else Vi?Ap(s,f)&&(nt="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(nt="onCompositionStart");nt&&(ef&&f.locale!=="ko"&&(Vi||nt!=="onCompositionStart"?nt==="onCompositionEnd"&&Vi&&(Xe=Wd()):(Ut=we,Xa="value"in Ut?Ut.value:Ut.textContent,Vi=!0)),Qe=Fc(ce,nt),0<Qe.length&&(nt=new Sp(nt,s,null,f,we),Se.push({event:nt,listeners:Qe}),Xe?nt.data=Xe:(Xe=Ip(f),Xe!==null&&(nt.data=Xe)))),(Xe=Pp?Gi(s,f):Dv(s,f))&&(ce=Fc(ce,"onBeforeInput"),0<ce.length&&(we=new Sp("onBeforeInput","beforeinput",null,f,we),Se.push({event:we,listeners:ce}),we.data=Xe))}zp(Se,a)})}function Ji(s,a,f){return{instance:s,listener:a,currentTarget:f}}function Fc(s,a){for(var f=a+"Capture",m=[];s!==null;){var _=s,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=Ua(s,f),S!=null&&m.unshift(Ji(s,S,_)),S=Ua(s,a),S!=null&&m.push(Ji(s,S,_))),s=s.return}return m}function Xi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function nn(s,a,f,m,_){for(var S=a._reactName,M=[];f!==null&&f!==m;){var H=f,Y=H.alternate,ce=H.stateNode;if(Y!==null&&Y===m)break;H.tag===5&&ce!==null&&(H=ce,_?(Y=Ua(f,S),Y!=null&&M.unshift(Ji(f,Y,H))):_||(Y=Ua(f,S),Y!=null&&M.push(Ji(f,Y,H)))),f=f.return}M.length!==0&&s.push({event:a,listeners:M})}var En=/\r\n?/g,Wv=/\u0000|\uFFFD/g;function Up(s){return(typeof s=="string"?s:""+s).replace(En,`
`).replace(Wv,"")}function ol(s,a,f){if(a=Up(a),Up(s)!==a&&f)throw Error(t(425))}function zc(){}var il=null,ni=null;function al(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var co=typeof setTimeout=="function"?setTimeout:void 0,ll=typeof clearTimeout=="function"?clearTimeout:void 0,Qi=typeof Promise=="function"?Promise:void 0,Uc=typeof queueMicrotask=="function"?queueMicrotask:typeof Qi<"u"?function(s){return Qi.resolve(null).then(s).catch(Zi)}:co;function Zi(s){setTimeout(function(){throw s})}function af(s,a){var f=a,m=0;do{var _=f.nextSibling;if(s.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(m===0){s.removeChild(_),Et(a);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=_}while(f);Et(a)}function uo(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function Bp(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(a===0)return s;a--}else f==="/$"&&a++}s=s.previousSibling}return null}var ea=Math.random().toString(36).slice(2),ss="__reactFiber$"+ea,fo="__reactProps$"+ea,lr="__reactContainer$"+ea,Bc="__reactEvents$"+ea,D="__reactListeners$"+ea,ta="__reactHandles$"+ea;function os(s){var a=s[ss];if(a)return a;for(var f=s.parentNode;f;){if(a=f[lr]||f[ss]){if(f=a.alternate,a.child!==null||f!==null&&f.child!==null)for(s=Bp(s);s!==null;){if(f=s[ss])return f;s=Bp(s)}return a}s=f,f=s.parentNode}return null}function Pn(s){return s=s[ss]||s[lr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ct(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Wc(s){return s[fo]||null}var lf=[],na=-1;function Jn(s){return{current:s}}function Lt(s){0>na||(s.current=lf[na],lf[na]=null,na--)}function Mt(s,a){na++,lf[na]=s.current,s.current=a}var ho={},Rn=Jn(ho),Xn=Jn(!1),zn=ho;function ra(s,a){var f=s.type.contextTypes;if(!f)return ho;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===a)return m.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in f)_[S]=a[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=_),_}function Qn(s){return s=s.childContextTypes,s!=null}function Hc(){Lt(Xn),Lt(Rn)}function Wp(s,a,f){if(Rn.current!==ho)throw Error(t(168));Mt(Rn,a),Mt(Xn,f)}function Hp(s,a,f){var m=s.stateNode;if(a=a.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var _ in m)if(!(_ in a))throw Error(t(108,te(s)||"Unknown",_));return ne({},f,m)}function wr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ho,zn=Rn.current,Mt(Rn,s),Mt(Xn,Xn.current),!0}function Vp(s,a,f){var m=s.stateNode;if(!m)throw Error(t(169));f?(s=Hp(s,a,zn),m.__reactInternalMemoizedMergedChildContext=s,Lt(Xn),Lt(Rn),Mt(Rn,s)):Lt(Xn),Mt(Xn,f)}var Ps=null,Vc=!1,cf=!1;function Gp(s){Ps===null?Ps=[s]:Ps.push(s)}function ri(s){Vc=!0,Gp(s)}function po(){if(!cf&&Ps!==null){cf=!0;var s=0,a=Ct;try{var f=Ps;for(Ct=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}Ps=null,Vc=!1}catch(_){throw Ps!==null&&(Ps=Ps.slice(s+1)),lp(Dd,po),_}finally{Ct=a,cf=!1}}return null}var sa=[],Tn=0,Gc=null,qc=0,_r=[],br=0,si=null,is=1,as="";function oi(s,a){sa[Tn++]=qc,sa[Tn++]=Gc,Gc=s,qc=a}function qp(s,a,f){_r[br++]=is,_r[br++]=as,_r[br++]=si,si=s;var m=is;s=as;var _=32-Lr(m)-1;m&=~(1<<_),f+=1;var S=32-Lr(a)+_;if(30<S){var M=_-_%5;S=(m&(1<<M)-1).toString(32),m>>=M,_-=M,is=1<<32-Lr(a)+_|f<<_|m,as=S+s}else is=1<<S|f<<_|m,as=s}function cl(s){s.return!==null&&(oi(s,1),qp(s,1,0))}function ii(s){for(;s===Gc;)Gc=sa[--Tn],sa[Tn]=null,qc=sa[--Tn],sa[Tn]=null;for(;s===si;)si=_r[--br],_r[br]=null,as=_r[--br],_r[br]=null,is=_r[--br],_r[br]=null}var An=null,cr=null,$t=!1,Fr=null;function ls(s,a){var f=Pr(5,null,null,0);f.elementType="DELETED",f.stateNode=a,f.return=s,a=s.deletions,a===null?(s.deletions=[f],s.flags|=16):a.push(f)}function Kc(s,a){switch(s.tag){case 5:var f=s.type;return a=a.nodeType!==1||f.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,An=s,cr=uo(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,An=s,cr=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(f=si!==null?{id:is,overflow:as}:null,s.memoizedState={dehydrated:a,treeContext:f,retryLane:1073741824},f=Pr(18,null,null,0),f.stateNode=a,f.return=s,s.child=f,An=s,cr=null,!0):!1;default:return!1}}function Rs(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Zn(s){if($t){var a=cr;if(a){var f=a;if(!Kc(s,a)){if(Rs(s))throw Error(t(418));a=uo(f.nextSibling);var m=An;a&&Kc(s,a)?ls(m,f):(s.flags=s.flags&-4097|2,$t=!1,An=s)}}else{if(Rs(s))throw Error(t(418));s.flags=s.flags&-4097|2,$t=!1,An=s}}}function Kp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;An=s}function ul(s){if(s!==An)return!1;if(!$t)return Kp(s),$t=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!al(s.type,s.memoizedProps)),a&&(a=cr)){if(Rs(s))throw uf(),Error(t(418));for(;a;)ls(s,a),a=uo(a.nextSibling)}if(Kp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(a===0){cr=uo(s.nextSibling);break e}a--}else f!=="$"&&f!=="$!"&&f!=="$?"||a++}s=s.nextSibling}cr=null}}else cr=An?uo(s.stateNode.nextSibling):null;return!0}function uf(){for(var s=cr;s;)s=uo(s.nextSibling)}function cs(){cr=An=null,$t=!1}function us(s){Fr===null?Fr=[s]:Fr.push(s)}var Yp=O.ReactCurrentBatchConfig;function dl(s,a,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,s));var _=m,S=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===S?a.ref:(a=function(M){var H=_.refs;M===null?delete H[S]:H[S]=M},a._stringRef=S,a)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function ai(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function Jp(s){var a=s._init;return a(s._payload)}function df(s){function a(se,Q){if(s){var ie=se.deletions;ie===null?(se.deletions=[Q],se.flags|=16):ie.push(Q)}}function f(se,Q){if(!s)return null;for(;Q!==null;)a(se,Q),Q=Q.sibling;return null}function m(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function _(se,Q){return se=Gr(se,Q),se.index=0,se.sibling=null,se}function S(se,Q,ie){return se.index=ie,s?(ie=se.alternate,ie!==null?(ie=ie.index,ie<Q?(se.flags|=2,Q):ie):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function M(se){return s&&se.alternate===null&&(se.flags|=2),se}function H(se,Q,ie,Ne){return Q===null||Q.tag!==6?(Q=Xf(ie,se.mode,Ne),Q.return=se,Q):(Q=_(Q,ie),Q.return=se,Q)}function Y(se,Q,ie,Ne){var Be=ie.type;return Be===z?we(se,Q,ie.props.children,Ne,ie.key):Q!==null&&(Q.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ge&&Jp(Be)===Q.type)?(Ne=_(Q,ie.props),Ne.ref=dl(se,Q,ie),Ne.return=se,Ne):(Ne=Pu(ie.type,ie.key,ie.props,null,se.mode,Ne),Ne.ref=dl(se,Q,ie),Ne.return=se,Ne)}function ce(se,Q,ie,Ne){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==ie.containerInfo||Q.stateNode.implementation!==ie.implementation?(Q=Qf(ie,se.mode,Ne),Q.return=se,Q):(Q=_(Q,ie.children||[]),Q.return=se,Q)}function we(se,Q,ie,Ne,Be){return Q===null||Q.tag!==7?(Q=xi(ie,se.mode,Ne,Be),Q.return=se,Q):(Q=_(Q,ie),Q.return=se,Q)}function Se(se,Q,ie){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Xf(""+Q,se.mode,ie),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return ie=Pu(Q.type,Q.key,Q.props,null,se.mode,ie),ie.ref=dl(se,null,Q),ie.return=se,ie;case L:return Q=Qf(Q,se.mode,ie),Q.return=se,Q;case ge:var Ne=Q._init;return Se(se,Ne(Q._payload),ie)}if(Dr(Q)||K(Q))return Q=xi(Q,se.mode,ie,null),Q.return=se,Q;ai(se,Q)}return null}function ye(se,Q,ie,Ne){var Be=Q!==null?Q.key:null;if(typeof ie=="string"&&ie!==""||typeof ie=="number")return Be!==null?null:H(se,Q,""+ie,Ne);if(typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:return ie.key===Be?Y(se,Q,ie,Ne):null;case L:return ie.key===Be?ce(se,Q,ie,Ne):null;case ge:return Be=ie._init,ye(se,Q,Be(ie._payload),Ne)}if(Dr(ie)||K(ie))return Be!==null?null:we(se,Q,ie,Ne,null);ai(se,ie)}return null}function Ae(se,Q,ie,Ne,Be){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return se=se.get(ie)||null,H(Q,se,""+Ne,Be);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case I:return se=se.get(Ne.key===null?ie:Ne.key)||null,Y(Q,se,Ne,Be);case L:return se=se.get(Ne.key===null?ie:Ne.key)||null,ce(Q,se,Ne,Be);case ge:var Qe=Ne._init;return Ae(se,Q,ie,Qe(Ne._payload),Be)}if(Dr(Ne)||K(Ne))return se=se.get(ie)||null,we(Q,se,Ne,Be,null);ai(Q,Ne)}return null}function Me(se,Q,ie,Ne){for(var Be=null,Qe=null,Xe=Q,nt=Q=0,xn=null;Xe!==null&&nt<ie.length;nt++){Xe.index>nt?(xn=Xe,Xe=null):xn=Xe.sibling;var kt=ye(se,Xe,ie[nt],Ne);if(kt===null){Xe===null&&(Xe=xn);break}s&&Xe&&kt.alternate===null&&a(se,Xe),Q=S(kt,Q,nt),Qe===null?Be=kt:Qe.sibling=kt,Qe=kt,Xe=xn}if(nt===ie.length)return f(se,Xe),$t&&oi(se,nt),Be;if(Xe===null){for(;nt<ie.length;nt++)Xe=Se(se,ie[nt],Ne),Xe!==null&&(Q=S(Xe,Q,nt),Qe===null?Be=Xe:Qe.sibling=Xe,Qe=Xe);return $t&&oi(se,nt),Be}for(Xe=m(se,Xe);nt<ie.length;nt++)xn=Ae(Xe,se,nt,ie[nt],Ne),xn!==null&&(s&&xn.alternate!==null&&Xe.delete(xn.key===null?nt:xn.key),Q=S(xn,Q,nt),Qe===null?Be=xn:Qe.sibling=xn,Qe=xn);return s&&Xe.forEach(function(ko){return a(se,ko)}),$t&&oi(se,nt),Be}function De(se,Q,ie,Ne){var Be=K(ie);if(typeof Be!="function")throw Error(t(150));if(ie=Be.call(ie),ie==null)throw Error(t(151));for(var Qe=Be=null,Xe=Q,nt=Q=0,xn=null,kt=ie.next();Xe!==null&&!kt.done;nt++,kt=ie.next()){Xe.index>nt?(xn=Xe,Xe=null):xn=Xe.sibling;var ko=ye(se,Xe,kt.value,Ne);if(ko===null){Xe===null&&(Xe=xn);break}s&&Xe&&ko.alternate===null&&a(se,Xe),Q=S(ko,Q,nt),Qe===null?Be=ko:Qe.sibling=ko,Qe=ko,Xe=xn}if(kt.done)return f(se,Xe),$t&&oi(se,nt),Be;if(Xe===null){for(;!kt.done;nt++,kt=ie.next())kt=Se(se,kt.value,Ne),kt!==null&&(Q=S(kt,Q,nt),Qe===null?Be=kt:Qe.sibling=kt,Qe=kt);return $t&&oi(se,nt),Be}for(Xe=m(se,Xe);!kt.done;nt++,kt=ie.next())kt=Ae(Xe,se,nt,kt.value,Ne),kt!==null&&(s&&kt.alternate!==null&&Xe.delete(kt.key===null?nt:kt.key),Q=S(kt,Q,nt),Qe===null?Be=kt:Qe.sibling=kt,Qe=kt);return s&&Xe.forEach(function(ux){return a(se,ux)}),$t&&oi(se,nt),Be}function Xt(se,Q,ie,Ne){if(typeof ie=="object"&&ie!==null&&ie.type===z&&ie.key===null&&(ie=ie.props.children),typeof ie=="object"&&ie!==null){switch(ie.$$typeof){case I:e:{for(var Be=ie.key,Qe=Q;Qe!==null;){if(Qe.key===Be){if(Be=ie.type,Be===z){if(Qe.tag===7){f(se,Qe.sibling),Q=_(Qe,ie.props.children),Q.return=se,se=Q;break e}}else if(Qe.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===ge&&Jp(Be)===Qe.type){f(se,Qe.sibling),Q=_(Qe,ie.props),Q.ref=dl(se,Qe,ie),Q.return=se,se=Q;break e}f(se,Qe);break}else a(se,Qe);Qe=Qe.sibling}ie.type===z?(Q=xi(ie.props.children,se.mode,Ne,ie.key),Q.return=se,se=Q):(Ne=Pu(ie.type,ie.key,ie.props,null,se.mode,Ne),Ne.ref=dl(se,Q,ie),Ne.return=se,se=Ne)}return M(se);case L:e:{for(Qe=ie.key;Q!==null;){if(Q.key===Qe)if(Q.tag===4&&Q.stateNode.containerInfo===ie.containerInfo&&Q.stateNode.implementation===ie.implementation){f(se,Q.sibling),Q=_(Q,ie.children||[]),Q.return=se,se=Q;break e}else{f(se,Q);break}else a(se,Q);Q=Q.sibling}Q=Qf(ie,se.mode,Ne),Q.return=se,se=Q}return M(se);case ge:return Qe=ie._init,Xt(se,Q,Qe(ie._payload),Ne)}if(Dr(ie))return Me(se,Q,ie,Ne);if(K(ie))return De(se,Q,ie,Ne);ai(se,ie)}return typeof ie=="string"&&ie!==""||typeof ie=="number"?(ie=""+ie,Q!==null&&Q.tag===6?(f(se,Q.sibling),Q=_(Q,ie),Q.return=se,se=Q):(f(se,Q),Q=Xf(ie,se.mode,Ne),Q.return=se,se=Q),M(se)):f(se,Q)}return Xt}var Kt=df(!0),Yc=df(!1),fl=Jn(null),ur=null,mo=null,oa=null;function Ts(){oa=mo=ur=null}function Jc(s){var a=fl.current;Lt(fl),s._currentValue=a}function wn(s,a,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,m!==null&&(m.childLanes|=a)):m!==null&&(m.childLanes&a)!==a&&(m.childLanes|=a),s===f)break;s=s.return}}function go(s,a){ur=s,oa=mo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(Bn=!0),s.firstContext=null)}function Sr(s){var a=s._currentValue;if(oa!==s)if(s={context:s,memoizedValue:a,next:null},mo===null){if(ur===null)throw Error(t(308));mo=s,ur.dependencies={lanes:0,firstContext:s}}else mo=mo.next=s;return a}var li=null;function ff(s){li===null?li=[s]:li.push(s)}function Xc(s,a,f,m){var _=a.interleaved;return _===null?(f.next=f,ff(a)):(f.next=_.next,_.next=f),a.interleaved=f,As(s,m)}function As(s,a){s.lanes|=a;var f=s.alternate;for(f!==null&&(f.lanes|=a),f=s,s=s.return;s!==null;)s.childLanes|=a,f=s.alternate,f!==null&&(f.childLanes|=a),f=s,s=s.return;return f.tag===3?f.stateNode:null}var jr=!1;function Qc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Is(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function Nr(s,a,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(bt&2)!==0){var _=m.pending;return _===null?a.next=a:(a.next=_.next,_.next=a),m.pending=a,As(s,f)}return _=m.interleaved,_===null?(a.next=a,ff(m)):(a.next=_.next,_.next=a),m.interleaved=a,As(s,f)}function Zc(s,a,f){if(a=a.updateQueue,a!==null&&(a=a.shared,(f&4194240)!==0)){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,Ka(s,f)}}function Qp(s,a){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var _=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?_=S=M:S=S.next=M,f=f.next}while(f!==null);S===null?_=S=a:S=S.next=a}else _=S=a;f={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=a:s.next=a,f.lastBaseUpdate=a}function ia(s,a,f,m){var _=s.updateQueue;jr=!1;var S=_.firstBaseUpdate,M=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var Y=H,ce=Y.next;Y.next=null,M===null?S=ce:M.next=ce,M=Y;var we=s.alternate;we!==null&&(we=we.updateQueue,H=we.lastBaseUpdate,H!==M&&(H===null?we.firstBaseUpdate=ce:H.next=ce,we.lastBaseUpdate=Y))}if(S!==null){var Se=_.baseState;M=0,we=ce=Y=null,H=S;do{var ye=H.lane,Ae=H.eventTime;if((m&ye)===ye){we!==null&&(we=we.next={eventTime:Ae,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Me=s,De=H;switch(ye=a,Ae=f,De.tag){case 1:if(Me=De.payload,typeof Me=="function"){Se=Me.call(Ae,Se,ye);break e}Se=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,ye=typeof Me=="function"?Me.call(Ae,Se,ye):Me,ye==null)break e;Se=ne({},Se,ye);break e;case 2:jr=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ye=_.effects,ye===null?_.effects=[H]:ye.push(H))}else Ae={eventTime:Ae,lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},we===null?(ce=we=Ae,Y=Se):we=we.next=Ae,M|=ye;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,_.lastBaseUpdate=ye,_.shared.pending=null}}while(!0);if(we===null&&(Y=Se),_.baseState=Y,_.firstBaseUpdate=ce,_.lastBaseUpdate=we,a=_.shared.interleaved,a!==null){_=a;do M|=_.lane,_=_.next;while(_!==a)}else S===null&&(_.shared.lanes=0);_o|=M,s.lanes=M,s.memoizedState=Se}}function hf(s,a,f){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var m=s[a],_=m.callback;if(_!==null){if(m.callback=null,m=f,typeof _!="function")throw Error(t(191,_));_.call(m)}}}var hl={},ds=Jn(hl),pl=Jn(hl),aa=Jn(hl);function Os(s){if(s===hl)throw Error(t(174));return s}function pf(s,a){switch(Mt(aa,a),Mt(pl,s),Mt(ds,hl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Wo(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=Wo(a,s)}Lt(ds),Mt(ds,a)}function vo(){Lt(ds),Lt(pl),Lt(aa)}function mf(s){Os(aa.current);var a=Os(ds.current),f=Wo(a,s.type);a!==f&&(Mt(pl,s),Mt(ds,f))}function eu(s){pl.current===s&&(Lt(ds),Lt(pl))}var Bt=Jn(0);function ci(s){for(var a=s;a!==null;){if(a.tag===13){var f=a.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var gf=[];function tu(){for(var s=0;s<gf.length;s++)gf[s]._workInProgressVersionPrimary=null;gf.length=0}var ml=O.ReactCurrentDispatcher,vf=O.ReactCurrentBatchConfig,xo=0,Vt=null,Jt=null,ln=null,la=!1,gl=!1,ui=0,ft=0;function In(){throw Error(t(321))}function xf(s,a){if(a===null)return!1;for(var f=0;f<a.length&&f<s.length;f++)if(!le(s[f],a[f]))return!1;return!0}function di(s,a,f,m,_,S){if(xo=S,Vt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ml.current=s===null||s.memoizedState===null?Vv:lu,s=f(m,_),gl){S=0;do{if(gl=!1,ui=0,25<=S)throw Error(t(301));S+=1,ln=Jt=null,a.updateQueue=null,ml.current=fa,s=f(m,_)}while(gl)}if(ml.current=au,a=Jt!==null&&Jt.next!==null,xo=0,ln=Jt=Vt=null,la=!1,a)throw Error(t(300));return s}function nu(){var s=ui!==0;return ui=0,s}function fs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Vt.memoizedState=ln=s:ln=ln.next=s,ln}function kr(){if(Jt===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var a=ln===null?Vt.memoizedState:ln.next;if(a!==null)ln=a,Jt=s;else{if(s===null)throw Error(t(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Vt.memoizedState=ln=s:ln=ln.next=s}return ln}function On(s,a){return typeof a=="function"?a(s):a}function yf(s){var a=kr(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=Jt,_=m.baseQueue,S=f.pending;if(S!==null){if(_!==null){var M=_.next;_.next=S.next,S.next=M}m.baseQueue=_=S,f.pending=null}if(_!==null){S=_.next,m=m.baseState;var H=M=null,Y=null,ce=S;do{var we=ce.lane;if((xo&we)===we)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:s(m,ce.action);else{var Se={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(H=Y=Se,M=m):Y=Y.next=Se,Vt.lanes|=we,_o|=we}ce=ce.next}while(ce!==null&&ce!==S);Y===null?M=m:Y.next=H,le(m,a.memoizedState)||(Bn=!0),a.memoizedState=m,a.baseState=M,a.baseQueue=Y,f.lastRenderedState=m}if(s=f.interleaved,s!==null){_=s;do S=_.lane,Vt.lanes|=S,_o|=S,_=_.next;while(_!==s)}else _===null&&(f.lanes=0);return[a.memoizedState,f.dispatch]}function ca(s){var a=kr(),f=a.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=f.dispatch,_=f.pending,S=a.memoizedState;if(_!==null){f.pending=null;var M=_=_.next;do S=s(S,M.action),M=M.next;while(M!==_);le(S,a.memoizedState)||(Bn=!0),a.memoizedState=S,a.baseQueue===null&&(a.baseState=S),f.lastRenderedState=S}return[S,m]}function ru(){}function wf(s,a){var f=Vt,m=kr(),_=a(),S=!le(m.memoizedState,_);if(S&&(m.memoizedState=_,Bn=!0),m=m.queue,hs(Ms.bind(null,f,m,s),[s]),m.getSnapshot!==a||S||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,ua(9,er.bind(null,f,m,_,a),void 0,null),vn===null)throw Error(t(349));(xo&30)!==0||_f(f,a,_)}return _}function _f(s,a,f){s.flags|=16384,s={getSnapshot:a,value:f},a=Vt.updateQueue,a===null?(a={lastEffect:null,stores:null},Vt.updateQueue=a,a.stores=[s]):(f=a.stores,f===null?a.stores=[s]:f.push(s))}function er(s,a,f,m){a.value=f,a.getSnapshot=m,su(a)&&bf(s)}function Ms(s,a,f){return f(function(){su(a)&&bf(s)})}function su(s){var a=s.getSnapshot;s=s.value;try{var f=a();return!le(s,f)}catch{return!0}}function bf(s){var a=As(s,1);a!==null&&Vr(a,s,1,-1)}function vl(s){var a=fs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},a.queue=s,s=s.dispatch=sm.bind(null,Vt,s),[a.memoizedState,s]}function ua(s,a,f,m){return s={tag:s,create:a,destroy:f,deps:m,next:null},a=Vt.updateQueue,a===null?(a={lastEffect:null,stores:null},Vt.updateQueue=a,a.lastEffect=s.next=s):(f=a.lastEffect,f===null?a.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,a.lastEffect=s)),s}function ou(){return kr().memoizedState}function xl(s,a,f,m){var _=fs();Vt.flags|=s,_.memoizedState=ua(1|a,f,void 0,m===void 0?null:m)}function da(s,a,f,m){var _=kr();m=m===void 0?null:m;var S=void 0;if(Jt!==null){var M=Jt.memoizedState;if(S=M.destroy,m!==null&&xf(m,M.deps)){_.memoizedState=ua(a,f,S,m);return}}Vt.flags|=s,_.memoizedState=ua(1|a,f,S,m)}function iu(s,a){return xl(8390656,8,s,a)}function hs(s,a){return da(2048,8,s,a)}function Zp(s,a){return da(4,2,s,a)}function Ds(s,a){return da(4,4,s,a)}function Sf(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function jf(s,a,f){return f=f!=null?f.concat([s]):null,da(4,4,Sf.bind(null,a,s),f)}function yl(){}function em(s,a){var f=kr();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&xf(a,m[1])?m[0]:(f.memoizedState=[s,a],s)}function tm(s,a){var f=kr();a=a===void 0?null:a;var m=f.memoizedState;return m!==null&&a!==null&&xf(a,m[1])?m[0]:(s=s(),f.memoizedState=[s,a],s)}function nm(s,a,f){return(xo&21)===0?(s.baseState&&(s.baseState=!1,Bn=!0),s.memoizedState=f):(le(f,a)||(f=$d(),Vt.lanes|=f,_o|=f,s.baseState=!0),a)}function rm(s,a){var f=Ct;Ct=f!==0&&4>f?f:4,s(!0);var m=vf.transition;vf.transition={};try{s(!1),a()}finally{Ct=f,vf.transition=m}}function Nf(){return kr().memoizedState}function Hv(s,a,f){var m=jo(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},kf(s))Un(a,f);else if(f=Xc(s,a,f,m),f!==null){var _=Vn();Vr(f,s,m,_),zr(f,a,m)}}function sm(s,a,f){var m=jo(s),_={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(kf(s))Un(a,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=a.lastRenderedReducer,S!==null))try{var M=a.lastRenderedState,H=S(M,f);if(_.hasEagerState=!0,_.eagerState=H,le(H,M)){var Y=a.interleaved;Y===null?(_.next=_,ff(a)):(_.next=Y.next,Y.next=_),a.interleaved=_;return}}catch{}finally{}f=Xc(s,a,_,m),f!==null&&(_=Vn(),Vr(f,s,m,_),zr(f,a,m))}}function kf(s){var a=s.alternate;return s===Vt||a!==null&&a===Vt}function Un(s,a){gl=la=!0;var f=s.pending;f===null?a.next=a:(a.next=f.next,f.next=a),s.pending=a}function zr(s,a,f){if((f&4194240)!==0){var m=a.lanes;m&=s.pendingLanes,f|=m,a.lanes=f,Ka(s,f)}}var au={readContext:Sr,useCallback:In,useContext:In,useEffect:In,useImperativeHandle:In,useInsertionEffect:In,useLayoutEffect:In,useMemo:In,useReducer:In,useRef:In,useState:In,useDebugValue:In,useDeferredValue:In,useTransition:In,useMutableSource:In,useSyncExternalStore:In,useId:In,unstable_isNewReconciler:!1},Vv={readContext:Sr,useCallback:function(s,a){return fs().memoizedState=[s,a===void 0?null:a],s},useContext:Sr,useEffect:iu,useImperativeHandle:function(s,a,f){return f=f!=null?f.concat([s]):null,xl(4194308,4,Sf.bind(null,a,s),f)},useLayoutEffect:function(s,a){return xl(4194308,4,s,a)},useInsertionEffect:function(s,a){return xl(4,2,s,a)},useMemo:function(s,a){var f=fs();return a=a===void 0?null:a,s=s(),f.memoizedState=[s,a],s},useReducer:function(s,a,f){var m=fs();return a=f!==void 0?f(a):a,m.memoizedState=m.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},m.queue=s,s=s.dispatch=Hv.bind(null,Vt,s),[m.memoizedState,s]},useRef:function(s){var a=fs();return s={current:s},a.memoizedState=s},useState:vl,useDebugValue:yl,useDeferredValue:function(s){return fs().memoizedState=s},useTransition:function(){var s=vl(!1),a=s[0];return s=rm.bind(null,s[1]),fs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,f){var m=Vt,_=fs();if($t){if(f===void 0)throw Error(t(407));f=f()}else{if(f=a(),vn===null)throw Error(t(349));(xo&30)!==0||_f(m,a,f)}_.memoizedState=f;var S={value:f,getSnapshot:a};return _.queue=S,iu(Ms.bind(null,m,S,s),[s]),m.flags|=2048,ua(9,er.bind(null,m,S,f,a),void 0,null),f},useId:function(){var s=fs(),a=vn.identifierPrefix;if($t){var f=as,m=is;f=(m&~(1<<32-Lr(m)-1)).toString(32)+f,a=":"+a+"R"+f,f=ui++,0<f&&(a+="H"+f.toString(32)),a+=":"}else f=ft++,a=":"+a+"r"+f.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},lu={readContext:Sr,useCallback:em,useContext:Sr,useEffect:hs,useImperativeHandle:jf,useInsertionEffect:Zp,useLayoutEffect:Ds,useMemo:tm,useReducer:yf,useRef:ou,useState:function(){return yf(On)},useDebugValue:yl,useDeferredValue:function(s){var a=kr();return nm(a,Jt.memoizedState,s)},useTransition:function(){var s=yf(On)[0],a=kr().memoizedState;return[s,a]},useMutableSource:ru,useSyncExternalStore:wf,useId:Nf,unstable_isNewReconciler:!1},fa={readContext:Sr,useCallback:em,useContext:Sr,useEffect:hs,useImperativeHandle:jf,useInsertionEffect:Zp,useLayoutEffect:Ds,useMemo:tm,useReducer:ca,useRef:ou,useState:function(){return ca(On)},useDebugValue:yl,useDeferredValue:function(s){var a=kr();return Jt===null?a.memoizedState=s:nm(a,Jt.memoizedState,s)},useTransition:function(){var s=ca(On)[0],a=kr().memoizedState;return[s,a]},useMutableSource:ru,useSyncExternalStore:wf,useId:Nf,unstable_isNewReconciler:!1};function Cr(s,a){if(s&&s.defaultProps){a=ne({},a),s=s.defaultProps;for(var f in s)a[f]===void 0&&(a[f]=s[f]);return a}return a}function cu(s,a,f,m){a=s.memoizedState,f=f(m,a),f=f==null?a:ne({},a,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var uu={isMounted:function(s){return(s=s._reactInternals)?Ko(s)===s:!1},enqueueSetState:function(s,a,f){s=s._reactInternals;var m=Vn(),_=jo(s),S=Is(m,_);S.payload=a,f!=null&&(S.callback=f),a=Nr(s,S,_),a!==null&&(Vr(a,s,_,m),Zc(a,s,_))},enqueueReplaceState:function(s,a,f){s=s._reactInternals;var m=Vn(),_=jo(s),S=Is(m,_);S.tag=1,S.payload=a,f!=null&&(S.callback=f),a=Nr(s,S,_),a!==null&&(Vr(a,s,_,m),Zc(a,s,_))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var f=Vn(),m=jo(s),_=Is(f,m);_.tag=2,a!=null&&(_.callback=a),a=Nr(s,_,m),a!==null&&(Vr(a,s,m,f),Zc(a,s,m))}};function Cf(s,a,f,m,_,S,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,M):a.prototype&&a.prototype.isPureReactComponent?!Te(f,m)||!Te(_,S):!0}function fi(s,a,f){var m=!1,_=ho,S=a.contextType;return typeof S=="object"&&S!==null?S=Sr(S):(_=Qn(a)?zn:Rn.current,m=a.contextTypes,S=(m=m!=null)?ra(s,_):ho),a=new a(f,S),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=uu,s.stateNode=a,a._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=S),a}function ha(s,a,f,m){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(f,m),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(f,m),a.state!==s&&uu.enqueueReplaceState(a,a.state,null)}function Ef(s,a,f,m){var _=s.stateNode;_.props=f,_.state=s.memoizedState,_.refs={},Qc(s);var S=a.contextType;typeof S=="object"&&S!==null?_.context=Sr(S):(S=Qn(a)?zn:Rn.current,_.context=ra(s,S)),_.state=s.memoizedState,S=a.getDerivedStateFromProps,typeof S=="function"&&(cu(s,a,S,f),_.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(a=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),a!==_.state&&uu.enqueueReplaceState(_,_.state,null),ia(s,f,_,m),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function hi(s,a){try{var f="",m=a;do f+=ue(m),m=m.return;while(m);var _=f}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:a,stack:_,digest:null}}function du(s,a,f){return{value:s,source:null,stack:f??null,digest:a??null}}function pa(s,a){try{console.error(a.value)}catch(f){setTimeout(function(){throw f})}}var om=typeof WeakMap=="function"?WeakMap:Map;function wl(s,a,f){f=Is(-1,f),f.tag=3,f.payload={element:null};var m=a.value;return f.callback=function(){bu||(bu=!0,Hf=m),pa(s,a)},f}function fu(s,a,f){f=Is(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var _=a.value;f.payload=function(){return m(_)},f.callback=function(){pa(s,a)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){pa(s,a),typeof m!="function"&&(bo===null?bo=new Set([this]):bo.add(this));var M=a.stack;this.componentDidCatch(a.value,{componentStack:M!==null?M:""})}),f}function _l(s,a,f){var m=s.pingCache;if(m===null){m=s.pingCache=new om;var _=new Set;m.set(a,_)}else _=m.get(a),_===void 0&&(_=new Set,m.set(a,_));_.has(f)||(_.add(f),s=Zv.bind(null,s,a,f),a.then(s,s))}function im(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function Pf(s,a,f,m,_){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(a=Is(-1,1),a.tag=2,Nr(f,a,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var hu=O.ReactCurrentOwner,Bn=!1;function _n(s,a,f,m){a.child=s===null?Yc(a,null,f,m):Kt(a,s.child,f,m)}function am(s,a,f,m,_){f=f.render;var S=a.ref;return go(a,_),m=di(s,a,f,m,S,_),f=nu(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,Ur(s,a,_)):($t&&f&&cl(a),a.flags|=1,_n(s,a,m,_),a.child)}function Rf(s,a,f,m,_){if(s===null){var S=f.type;return typeof S=="function"&&!Eu(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(a.tag=15,a.type=S,ps(s,a,S,m,_)):(s=Pu(f.type,null,m,a,a.mode,_),s.ref=a.ref,s.return=a,a.child=s)}if(S=s.child,(s.lanes&_)===0){var M=S.memoizedProps;if(f=f.compare,f=f!==null?f:Te,f(M,m)&&s.ref===a.ref)return Ur(s,a,_)}return a.flags|=1,s=Gr(S,m),s.ref=a.ref,s.return=a,a.child=s}function ps(s,a,f,m,_){if(s!==null){var S=s.memoizedProps;if(Te(S,m)&&s.ref===a.ref)if(Bn=!1,a.pendingProps=m=S,(s.lanes&_)!==0)(s.flags&131072)!==0&&(Bn=!0);else return a.lanes=s.lanes,Ur(s,a,_)}return If(s,a,f,m,_)}function Tf(s,a,f){var m=a.pendingProps,_=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(xa,fr),fr|=f;else{if((f&1073741824)===0)return s=S!==null?S.baseLanes|f:f,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,Mt(xa,fr),fr|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:f,Mt(xa,fr),fr|=m}else S!==null?(m=S.baseLanes|f,a.memoizedState=null):m=f,Mt(xa,fr),fr|=m;return _n(s,a,_,f),a.child}function Af(s,a){var f=a.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(a.flags|=512,a.flags|=2097152)}function If(s,a,f,m,_){var S=Qn(f)?zn:Rn.current;return S=ra(a,S),go(a,_),f=di(s,a,f,m,S,_),m=nu(),s!==null&&!Bn?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~_,Ur(s,a,_)):($t&&m&&cl(a),a.flags|=1,_n(s,a,f,_),a.child)}function Of(s,a,f,m,_){if(Qn(f)){var S=!0;wr(a)}else S=!1;if(go(a,_),a.stateNode===null)mu(s,a),fi(a,f,m),Ef(a,f,m,_),m=!0;else if(s===null){var M=a.stateNode,H=a.memoizedProps;M.props=H;var Y=M.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=Sr(ce):(ce=Qn(f)?zn:Rn.current,ce=ra(a,ce));var we=f.getDerivedStateFromProps,Se=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";Se||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==m||Y!==ce)&&ha(a,M,m,ce),jr=!1;var ye=a.memoizedState;M.state=ye,ia(a,m,M,_),Y=a.memoizedState,H!==m||ye!==Y||Xn.current||jr?(typeof we=="function"&&(cu(a,f,we,m),Y=a.memoizedState),(H=jr||Cf(a,f,H,m,ye,Y,ce))?(Se||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(a.flags|=4194308)):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=m,a.memoizedState=Y),M.props=m,M.state=Y,M.context=ce,m=H):(typeof M.componentDidMount=="function"&&(a.flags|=4194308),m=!1)}else{M=a.stateNode,Xp(s,a),H=a.memoizedProps,ce=a.type===a.elementType?H:Cr(a.type,H),M.props=ce,Se=a.pendingProps,ye=M.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=Sr(Y):(Y=Qn(f)?zn:Rn.current,Y=ra(a,Y));var Ae=f.getDerivedStateFromProps;(we=typeof Ae=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(H!==Se||ye!==Y)&&ha(a,M,m,Y),jr=!1,ye=a.memoizedState,M.state=ye,ia(a,m,M,_);var Me=a.memoizedState;H!==Se||ye!==Me||Xn.current||jr?(typeof Ae=="function"&&(cu(a,f,Ae,m),Me=a.memoizedState),(ce=jr||Cf(a,f,ce,m,ye,Me,Y)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,Me,Y),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,Me,Y)),typeof M.componentDidUpdate=="function"&&(a.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof M.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),a.memoizedProps=m,a.memoizedState=Me),M.props=m,M.state=Me,M.context=Y,m=ce):(typeof M.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(a.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(a.flags|=1024),m=!1)}return Mf(s,a,f,m,S,_)}function Mf(s,a,f,m,_,S){Af(s,a);var M=(a.flags&128)!==0;if(!m&&!M)return _&&Vp(a,f,!1),Ur(s,a,S);m=a.stateNode,hu.current=a;var H=M&&typeof f.getDerivedStateFromError!="function"?null:m.render();return a.flags|=1,s!==null&&M?(a.child=Kt(a,s.child,null,S),a.child=Kt(a,null,H,S)):_n(s,a,H,S),a.memoizedState=m.state,_&&Vp(a,f,!0),a.child}function lm(s){var a=s.stateNode;a.pendingContext?Wp(s,a.pendingContext,a.pendingContext!==a.context):a.context&&Wp(s,a.context,!1),pf(s,a.containerInfo)}function ms(s,a,f,m,_){return cs(),us(_),a.flags|=256,_n(s,a,f,m),a.child}var bl={dehydrated:null,treeContext:null,retryLane:0};function Sl(s){return{baseLanes:s,cachePool:null,transitions:null}}function pu(s,a,f){var m=a.pendingProps,_=Bt.current,S=!1,M=(a.flags&128)!==0,H;if((H=M)||(H=s!==null&&s.memoizedState===null?!1:(_&2)!==0),H?(S=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),Mt(Bt,_&1),s===null)return Zn(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(M=m.children,s=m.fallback,S?(m=a.mode,S=a.child,M={mode:"hidden",children:M},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=M):S=Ru(M,m,0,null),s=xi(s,m,f,null),S.return=a,s.return=a,S.sibling=s,a.child=S,a.child.memoizedState=Sl(f),a.memoizedState=bl,s):ma(a,M));if(_=s.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return Ze(s,a,M,m,H,_,f);if(S){S=m.fallback,M=a.mode,_=s.child,H=_.sibling;var Y={mode:"hidden",children:m.children};return(M&1)===0&&a.child!==_?(m=a.child,m.childLanes=0,m.pendingProps=Y,a.deletions=null):(m=Gr(_,Y),m.subtreeFlags=_.subtreeFlags&14680064),H!==null?S=Gr(H,S):(S=xi(S,M,f,null),S.flags|=2),S.return=a,m.return=a,m.sibling=S,a.child=m,m=S,S=a.child,M=s.child.memoizedState,M=M===null?Sl(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},S.memoizedState=M,S.childLanes=s.childLanes&~f,a.memoizedState=bl,m}return S=s.child,s=S.sibling,m=Gr(S,{mode:"visible",children:m.children}),(a.mode&1)===0&&(m.lanes=f),m.return=a,m.sibling=null,s!==null&&(f=a.deletions,f===null?(a.deletions=[s],a.flags|=16):f.push(s)),a.child=m,a.memoizedState=null,m}function ma(s,a){return a=Ru({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Ls(s,a,f,m){return m!==null&&us(m),Kt(a,s.child,null,f),s=ma(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function Ze(s,a,f,m,_,S,M){if(f)return a.flags&256?(a.flags&=-257,m=du(Error(t(422))),Ls(s,a,M,m)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(S=m.fallback,_=a.mode,m=Ru({mode:"visible",children:m.children},_,0,null),S=xi(S,_,M,null),S.flags|=2,m.return=a,S.return=a,m.sibling=S,a.child=m,(a.mode&1)!==0&&Kt(a,s.child,null,M),a.child.memoizedState=Sl(M),a.memoizedState=bl,S);if((a.mode&1)===0)return Ls(s,a,M,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var H=m.dgst;return m=H,S=Error(t(419)),m=du(S,m,void 0),Ls(s,a,M,m)}if(H=(M&s.childLanes)!==0,Bn||H){if(m=vn,m!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(m.suspendedLanes|M))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,As(s,_),Vr(m,s,_,-1))}return Jf(),m=du(Error(t(421))),Ls(s,a,M,m)}return _.data==="$?"?(a.flags|=128,a.child=s.child,a=ex.bind(null,s),_._reactRetry=a,null):(s=S.treeContext,cr=uo(_.nextSibling),An=a,$t=!0,Fr=null,s!==null&&(_r[br++]=is,_r[br++]=as,_r[br++]=si,is=s.id,as=s.overflow,si=a),a=ma(a,m.children),a.flags|=4096,a)}function jl(s,a,f){s.lanes|=a;var m=s.alternate;m!==null&&(m.lanes|=a),wn(s.return,a,f)}function Nl(s,a,f,m,_){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:_}:(S.isBackwards=a,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=_)}function yo(s,a,f){var m=a.pendingProps,_=m.revealOrder,S=m.tail;if(_n(s,a,m.children,f),m=Bt.current,(m&2)!==0)m=m&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&jl(s,f,a);else if(s.tag===19)jl(s,f,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Mt(Bt,m),(a.mode&1)===0)a.memoizedState=null;else switch(_){case"forwards":for(f=a.child,_=null;f!==null;)s=f.alternate,s!==null&&ci(s)===null&&(_=f),f=f.sibling;f=_,f===null?(_=a.child,a.child=null):(_=f.sibling,f.sibling=null),Nl(a,!1,_,f,S);break;case"backwards":for(f=null,_=a.child,a.child=null;_!==null;){if(s=_.alternate,s!==null&&ci(s)===null){a.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}Nl(a,!0,f,null,S);break;case"together":Nl(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function mu(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Ur(s,a,f){if(s!==null&&(a.dependencies=s.dependencies),_o|=a.lanes,(f&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,f=Gr(s,s.pendingProps),a.child=f,f.return=a;s.sibling!==null;)s=s.sibling,f=f.sibling=Gr(s,s.pendingProps),f.return=a;f.sibling=null}return a.child}function cm(s,a,f){switch(a.tag){case 3:lm(a),cs();break;case 5:mf(a);break;case 1:Qn(a.type)&&wr(a);break;case 4:pf(a,a.stateNode.containerInfo);break;case 10:var m=a.type._context,_=a.memoizedProps.value;Mt(fl,m._currentValue),m._currentValue=_;break;case 13:if(m=a.memoizedState,m!==null)return m.dehydrated!==null?(Mt(Bt,Bt.current&1),a.flags|=128,null):(f&a.child.childLanes)!==0?pu(s,a,f):(Mt(Bt,Bt.current&1),s=Ur(s,a,f),s!==null?s.sibling:null);Mt(Bt,Bt.current&1);break;case 19:if(m=(f&a.childLanes)!==0,(s.flags&128)!==0){if(m)return yo(s,a,f);a.flags|=128}if(_=a.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Mt(Bt,Bt.current),m)break;return null;case 22:case 23:return a.lanes=0,Tf(s,a,f)}return Ur(s,a,f)}var bn,Df,um,Lf;bn=function(s,a){for(var f=a.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break;for(;f.sibling===null;){if(f.return===null||f.return===a)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Df=function(){},um=function(s,a,f,m){var _=s.memoizedProps;if(_!==m){s=a.stateNode,Os(ds.current);var S=null;switch(f){case"input":_=vt(s,_),m=vt(s,m),S=[];break;case"select":_=ne({},_,{value:void 0}),m=ne({},m,{value:void 0}),S=[];break;case"textarea":_=es(s,_),m=es(s,m),S=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=zc)}Fa(f,m);var M;f=null;for(ce in _)if(!m.hasOwnProperty(ce)&&_.hasOwnProperty(ce)&&_[ce]!=null)if(ce==="style"){var H=_[ce];for(M in H)H.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in m){var Y=m[ce];if(H=_!=null?_[ce]:void 0,m.hasOwnProperty(ce)&&Y!==H&&(Y!=null||H!=null))if(ce==="style")if(H){for(M in H)!H.hasOwnProperty(M)||Y&&Y.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in Y)Y.hasOwnProperty(M)&&H[M]!==Y[M]&&(f||(f={}),f[M]=Y[M])}else f||(S||(S=[]),S.push(ce,f)),f=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(S=S||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(S=S||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Dt("scroll",s),S||H===Y||(S=[])):(S=S||[]).push(ce,Y))}f&&(S=S||[]).push("style",f);var ce=S;(a.updateQueue=ce)&&(a.flags|=4)}},Lf=function(s,a,f,m){f!==m&&(a.flags|=4)};function kl(s,a){if(!$t)switch(s.tailMode){case"hidden":a=s.tail;for(var f=null;a!==null;)a.alternate!==null&&(f=a),a=a.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function Sn(s){var a=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(a)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=f,a}function Gv(s,a,f){var m=a.pendingProps;switch(ii(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(a),null;case 1:return Qn(a.type)&&Hc(),Sn(a),null;case 3:return m=a.stateNode,vo(),Lt(Xn),Lt(Rn),tu(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(ul(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Fr!==null&&(qf(Fr),Fr=null))),Df(s,a),Sn(a),null;case 5:eu(a);var _=Os(aa.current);if(f=a.type,s!==null&&a.stateNode!=null)um(s,a,f,m,_),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!m){if(a.stateNode===null)throw Error(t(166));return Sn(a),null}if(s=Os(ds.current),ul(a)){m=a.stateNode,f=a.type;var S=a.memoizedProps;switch(m[ss]=a,m[fo]=S,s=(a.mode&1)!==0,f){case"dialog":Dt("cancel",m),Dt("close",m);break;case"iframe":case"object":case"embed":Dt("load",m);break;case"video":case"audio":for(_=0;_<Es.length;_++)Dt(Es[_],m);break;case"source":Dt("error",m);break;case"img":case"image":case"link":Dt("error",m),Dt("load",m);break;case"details":Dt("toggle",m);break;case"input":mn(m,S),Dt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Dt("invalid",m);break;case"textarea":Bo(m,S),Dt("invalid",m)}Fa(f,S),_=null;for(var M in S)if(S.hasOwnProperty(M)){var H=S[M];M==="children"?typeof H=="string"?m.textContent!==H&&(S.suppressHydrationWarning!==!0&&ol(m.textContent,H,s),_=["children",H]):typeof H=="number"&&m.textContent!==""+H&&(S.suppressHydrationWarning!==!0&&ol(m.textContent,H,s),_=["children",""+H]):o.hasOwnProperty(M)&&H!=null&&M==="onScroll"&&Dt("scroll",m)}switch(f){case"input":He(m),en(m,S,!0);break;case"textarea":He(m),Li(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=zc)}m=_,a.updateQueue=m,m!==null&&(a.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Zh(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=M.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=M.createElement(f,{is:m.is}):(s=M.createElement(f),f==="select"&&(M=s,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):s=M.createElementNS(s,f),s[ss]=a,s[fo]=m,bn(s,a,!1,!1),a.stateNode=s;e:{switch(M=za(f,m),f){case"dialog":Dt("cancel",s),Dt("close",s),_=m;break;case"iframe":case"object":case"embed":Dt("load",s),_=m;break;case"video":case"audio":for(_=0;_<Es.length;_++)Dt(Es[_],s);_=m;break;case"source":Dt("error",s),_=m;break;case"img":case"image":case"link":Dt("error",s),Dt("load",s),_=m;break;case"details":Dt("toggle",s),_=m;break;case"input":mn(s,m),_=vt(s,m),Dt("invalid",s);break;case"option":_=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},_=ne({},m,{value:void 0}),Dt("invalid",s);break;case"textarea":Bo(s,m),_=es(s,m),Dt("invalid",s);break;default:_=m}Fa(f,_),H=_;for(S in H)if(H.hasOwnProperty(S)){var Y=H[S];S==="style"?fc(s,Y):S==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&uc(s,Y)):S==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&Ho(s,Y):typeof Y=="number"&&Ho(s,""+Y):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?Y!=null&&S==="onScroll"&&Dt("scroll",s):Y!=null&&T(s,S,Y,M))}switch(f){case"input":He(s),en(s,m,!1);break;case"textarea":He(s),Li(s);break;case"option":m.value!=null&&s.setAttribute("value",""+fe(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?qt(s,!!m.multiple,S,!1):m.defaultValue!=null&&qt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=zc)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Sn(a),null;case 6:if(s&&a.stateNode!=null)Lf(s,a,s.memoizedProps,m);else{if(typeof m!="string"&&a.stateNode===null)throw Error(t(166));if(f=Os(aa.current),Os(ds.current),ul(a)){if(m=a.stateNode,f=a.memoizedProps,m[ss]=a,(S=m.nodeValue!==f)&&(s=An,s!==null))switch(s.tag){case 3:ol(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ol(m.nodeValue,f,(s.mode&1)!==0)}S&&(a.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[ss]=a,a.stateNode=m}return Sn(a),null;case 13:if(Lt(Bt),m=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&cr!==null&&(a.mode&1)!==0&&(a.flags&128)===0)uf(),cs(),a.flags|=98560,S=!1;else if(S=ul(a),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=a.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[ss]=a}else cs(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Sn(a),S=!1}else Fr!==null&&(qf(Fr),Fr=null),S=!0;if(!S)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=f,a):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Bt.current&1)!==0?cn===0&&(cn=3):Jf())),a.updateQueue!==null&&(a.flags|=4),Sn(a),null);case 4:return vo(),Df(s,a),s===null&&lo(a.stateNode.containerInfo),Sn(a),null;case 10:return Jc(a.type._context),Sn(a),null;case 17:return Qn(a.type)&&Hc(),Sn(a),null;case 19:if(Lt(Bt),S=a.memoizedState,S===null)return Sn(a),null;if(m=(a.flags&128)!==0,M=S.rendering,M===null)if(m)kl(S,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(M=ci(s),M!==null){for(a.flags|=128,kl(S,!1),m=M.updateQueue,m!==null&&(a.updateQueue=m,a.flags|=4),a.subtreeFlags=0,m=f,f=a.child;f!==null;)S=f,s=m,S.flags&=14680066,M=S.alternate,M===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=M.childLanes,S.lanes=M.lanes,S.child=M.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=M.memoizedProps,S.memoizedState=M.memoizedState,S.updateQueue=M.updateQueue,S.type=M.type,s=M.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Mt(Bt,Bt.current&1|2),a.child}s=s.sibling}S.tail!==null&&zt()>pi&&(a.flags|=128,m=!0,kl(S,!1),a.lanes=4194304)}else{if(!m)if(s=ci(M),s!==null){if(a.flags|=128,m=!0,f=s.updateQueue,f!==null&&(a.updateQueue=f,a.flags|=4),kl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!$t)return Sn(a),null}else 2*zt()-S.renderingStartTime>pi&&f!==1073741824&&(a.flags|=128,m=!0,kl(S,!1),a.lanes=4194304);S.isBackwards?(M.sibling=a.child,a.child=M):(f=S.last,f!==null?f.sibling=M:a.child=M,S.last=M)}return S.tail!==null?(a=S.tail,S.rendering=a,S.tail=a.sibling,S.renderingStartTime=zt(),a.sibling=null,f=Bt.current,Mt(Bt,m?f&1|2:f&1),a):(Sn(a),null);case 22:case 23:return Yf(),m=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(a.flags|=8192),m&&(a.mode&1)!==0?(fr&1073741824)!==0&&(Sn(a),a.subtreeFlags&6&&(a.flags|=8192)):Sn(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function qv(s,a){switch(ii(a),a.tag){case 1:return Qn(a.type)&&Hc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return vo(),Lt(Xn),Lt(Rn),tu(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return eu(a),null;case 13:if(Lt(Bt),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));cs()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return Lt(Bt),null;case 4:return vo(),null;case 10:return Jc(a.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var gu=!1,Wt=!1,Wn=typeof WeakSet=="function"?WeakSet:Set,Oe=null;function ga(s,a){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Gt(s,a,m)}else f.current=null}function Cl(s,a,f){try{f()}catch(m){Gt(s,a,m)}}var dm=!1;function Kv(s,a){if(il=bc,s=Rt(),Za(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var M=0,H=-1,Y=-1,ce=0,we=0,Se=s,ye=null;t:for(;;){for(var Ae;Se!==f||_!==0&&Se.nodeType!==3||(H=M+_),Se!==S||m!==0&&Se.nodeType!==3||(Y=M+m),Se.nodeType===3&&(M+=Se.nodeValue.length),(Ae=Se.firstChild)!==null;)ye=Se,Se=Ae;for(;;){if(Se===s)break t;if(ye===f&&++ce===_&&(H=M),ye===S&&++we===m&&(Y=M),(Ae=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=Ae}f=H===-1||Y===-1?null:{start:H,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(ni={focusedElem:s,selectionRange:f},bc=!1,Oe=a;Oe!==null;)if(a=Oe,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,Oe=s;else for(;Oe!==null;){a=Oe;try{var Me=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Me!==null){var De=Me.memoizedProps,Xt=Me.memoizedState,se=a.stateNode,Q=se.getSnapshotBeforeUpdate(a.elementType===a.type?De:Cr(a.type,De),Xt);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var ie=a.stateNode.containerInfo;ie.nodeType===1?ie.textContent="":ie.nodeType===9&&ie.documentElement&&ie.removeChild(ie.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ne){Gt(a,a.return,Ne)}if(s=a.sibling,s!==null){s.return=a.return,Oe=s;break}Oe=a.return}return Me=dm,dm=!1,Me}function $s(s,a,f){var m=a.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&s)===s){var S=_.destroy;_.destroy=void 0,S!==void 0&&Cl(a,f,S)}_=_.next}while(_!==m)}}function El(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var f=a=a.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==a)}}function vu(s){var a=s.ref;if(a!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof a=="function"?a(s):a.current=s}}function fm(s){var a=s.alternate;a!==null&&(s.alternate=null,fm(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[ss],delete a[fo],delete a[Bc],delete a[D],delete a[ta])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function hm(s){return s.tag===5||s.tag===3||s.tag===4}function pm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||hm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $f(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.nodeType===8?f.parentNode.insertBefore(s,a):f.insertBefore(s,a):(f.nodeType===8?(a=f.parentNode,a.insertBefore(s,f)):(a=f,a.appendChild(s)),f=f._reactRootContainer,f!=null||a.onclick!==null||(a.onclick=zc));else if(m!==4&&(s=s.child,s!==null))for($f(s,a,f),s=s.sibling;s!==null;)$f(s,a,f),s=s.sibling}function xu(s,a,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,a?f.insertBefore(s,a):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(xu(s,a,f),s=s.sibling;s!==null;)xu(s,a,f),s=s.sibling}var gn=null,Br=!1;function gs(s,a,f){for(f=f.child;f!==null;)Ff(s,a,f),f=f.sibling}function Ff(s,a,f){if(ts&&typeof ts.onCommitFiberUnmount=="function")try{ts.onCommitFiberUnmount(gc,f)}catch{}switch(f.tag){case 5:Wt||ga(f,a);case 6:var m=gn,_=Br;gn=null,gs(s,a,f),gn=m,Br=_,gn!==null&&(Br?(s=gn,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):gn.removeChild(f.stateNode));break;case 18:gn!==null&&(Br?(s=gn,f=f.stateNode,s.nodeType===8?af(s.parentNode,f):s.nodeType===1&&af(s,f),Et(s)):af(gn,f.stateNode));break;case 4:m=gn,_=Br,gn=f.stateNode.containerInfo,Br=!0,gs(s,a,f),gn=m,Br=_;break;case 0:case 11:case 14:case 15:if(!Wt&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var S=_,M=S.destroy;S=S.tag,M!==void 0&&((S&2)!==0||(S&4)!==0)&&Cl(f,a,M),_=_.next}while(_!==m)}gs(s,a,f);break;case 1:if(!Wt&&(ga(f,a),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(H){Gt(f,a,H)}gs(s,a,f);break;case 21:gs(s,a,f);break;case 22:f.mode&1?(Wt=(m=Wt)||f.memoizedState!==null,gs(s,a,f),Wt=m):gs(s,a,f);break;default:gs(s,a,f)}}function va(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new Wn),a.forEach(function(m){var _=tx.bind(null,s,m);f.has(m)||(f.add(m),m.then(_,_))})}}function dr(s,a){var f=a.deletions;if(f!==null)for(var m=0;m<f.length;m++){var _=f[m];try{var S=s,M=a,H=M;e:for(;H!==null;){switch(H.tag){case 5:gn=H.stateNode,Br=!1;break e;case 3:gn=H.stateNode.containerInfo,Br=!0;break e;case 4:gn=H.stateNode.containerInfo,Br=!0;break e}H=H.return}if(gn===null)throw Error(t(160));Ff(S,M,_),gn=null,Br=!1;var Y=_.alternate;Y!==null&&(Y.return=null),_.return=null}catch(ce){Gt(_,a,ce)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)zf(a,s),a=a.sibling}function zf(s,a){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(dr(a,s),Wr(s),m&4){try{$s(3,s,s.return),El(3,s)}catch(De){Gt(s,s.return,De)}try{$s(5,s,s.return)}catch(De){Gt(s,s.return,De)}}break;case 1:dr(a,s),Wr(s),m&512&&f!==null&&ga(f,f.return);break;case 5:if(dr(a,s),Wr(s),m&512&&f!==null&&ga(f,f.return),s.flags&32){var _=s.stateNode;try{Ho(_,"")}catch(De){Gt(s,s.return,De)}}if(m&4&&(_=s.stateNode,_!=null)){var S=s.memoizedProps,M=f!==null?f.memoizedProps:S,H=s.type,Y=s.updateQueue;if(s.updateQueue=null,Y!==null)try{H==="input"&&S.type==="radio"&&S.name!=null&&or(_,S),za(H,M);var ce=za(H,S);for(M=0;M<Y.length;M+=2){var we=Y[M],Se=Y[M+1];we==="style"?fc(_,Se):we==="dangerouslySetInnerHTML"?uc(_,Se):we==="children"?Ho(_,Se):T(_,we,Se,ce)}switch(H){case"input":Yt(_,S);break;case"textarea":Qh(_,S);break;case"select":var ye=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var Ae=S.value;Ae!=null?qt(_,!!S.multiple,Ae,!1):ye!==!!S.multiple&&(S.defaultValue!=null?qt(_,!!S.multiple,S.defaultValue,!0):qt(_,!!S.multiple,S.multiple?[]:"",!1))}_[fo]=S}catch(De){Gt(s,s.return,De)}}break;case 6:if(dr(a,s),Wr(s),m&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,S=s.memoizedProps;try{_.nodeValue=S}catch(De){Gt(s,s.return,De)}}break;case 3:if(dr(a,s),Wr(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Et(a.containerInfo)}catch(De){Gt(s,s.return,De)}break;case 4:dr(a,s),Wr(s);break;case 13:dr(a,s),Wr(s),_=s.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(Wf=zt())),m&4&&va(s);break;case 22:if(we=f!==null&&f.memoizedState!==null,s.mode&1?(Wt=(ce=Wt)||we,dr(a,s),Wt=ce):dr(a,s),Wr(s),m&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!we&&(s.mode&1)!==0)for(Oe=s,we=s.child;we!==null;){for(Se=Oe=we;Oe!==null;){switch(ye=Oe,Ae=ye.child,ye.tag){case 0:case 11:case 14:case 15:$s(4,ye,ye.return);break;case 1:ga(ye,ye.return);var Me=ye.stateNode;if(typeof Me.componentWillUnmount=="function"){m=ye,f=ye.return;try{a=m,Me.props=a.memoizedProps,Me.state=a.memoizedState,Me.componentWillUnmount()}catch(De){Gt(m,f,De)}}break;case 5:ga(ye,ye.return);break;case 22:if(ye.memoizedState!==null){wo(Se);continue}}Ae!==null?(Ae.return=ye,Oe=Ae):wo(Se)}we=we.sibling}e:for(we=null,Se=s;;){if(Se.tag===5){if(we===null){we=Se;try{_=Se.stateNode,ce?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(H=Se.stateNode,Y=Se.memoizedProps.style,M=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=dc("display",M))}catch(De){Gt(s,s.return,De)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(De){Gt(s,s.return,De)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===s)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===s)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===s)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:dr(a,s),Wr(s),m&4&&va(s);break;case 21:break;default:dr(a,s),Wr(s)}}function Wr(s){var a=s.flags;if(a&2){try{e:{for(var f=s.return;f!==null;){if(hm(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&(Ho(_,""),m.flags&=-33);var S=pm(s);xu(s,S,_);break;case 3:case 4:var M=m.stateNode.containerInfo,H=pm(s);$f(s,H,M);break;default:throw Error(t(161))}}catch(Y){Gt(s,s.return,Y)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function yu(s,a,f){Oe=s,Uf(s)}function Uf(s,a,f){for(var m=(s.mode&1)!==0;Oe!==null;){var _=Oe,S=_.child;if(_.tag===22&&m){var M=_.memoizedState!==null||gu;if(!M){var H=_.alternate,Y=H!==null&&H.memoizedState!==null||Wt;H=gu;var ce=Wt;if(gu=M,(Wt=Y)&&!ce)for(Oe=_;Oe!==null;)M=Oe,Y=M.child,M.tag===22&&M.memoizedState!==null?mm(_):Y!==null?(Y.return=M,Oe=Y):mm(_);for(;S!==null;)Oe=S,Uf(S),S=S.sibling;Oe=_,gu=H,Wt=ce}Hr(s)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,Oe=S):Hr(s)}}function Hr(s){for(;Oe!==null;){var a=Oe;if((a.flags&8772)!==0){var f=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Wt||El(5,a);break;case 1:var m=a.stateNode;if(a.flags&4&&!Wt)if(f===null)m.componentDidMount();else{var _=a.elementType===a.type?f.memoizedProps:Cr(a.type,f.memoizedProps);m.componentDidUpdate(_,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=a.updateQueue;S!==null&&hf(a,S,m);break;case 3:var M=a.updateQueue;if(M!==null){if(f=null,a.child!==null)switch(a.child.tag){case 5:f=a.child.stateNode;break;case 1:f=a.child.stateNode}hf(a,M,f)}break;case 5:var H=a.stateNode;if(f===null&&a.flags&4){f=H;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var ce=a.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&Et(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||a.flags&512&&vu(a)}catch(ye){Gt(a,a.return,ye)}}if(a===s){Oe=null;break}if(f=a.sibling,f!==null){f.return=a.return,Oe=f;break}Oe=a.return}}function wo(s){for(;Oe!==null;){var a=Oe;if(a===s){Oe=null;break}var f=a.sibling;if(f!==null){f.return=a.return,Oe=f;break}Oe=a.return}}function mm(s){for(;Oe!==null;){var a=Oe;try{switch(a.tag){case 0:case 11:case 15:var f=a.return;try{El(4,a)}catch(Y){Gt(a,f,Y)}break;case 1:var m=a.stateNode;if(typeof m.componentDidMount=="function"){var _=a.return;try{m.componentDidMount()}catch(Y){Gt(a,_,Y)}}var S=a.return;try{vu(a)}catch(Y){Gt(a,S,Y)}break;case 5:var M=a.return;try{vu(a)}catch(Y){Gt(a,M,Y)}}}catch(Y){Gt(a,a.return,Y)}if(a===s){Oe=null;break}var H=a.sibling;if(H!==null){H.return=a.return,Oe=H;break}Oe=a.return}}var gm=Math.ceil,wu=O.ReactCurrentDispatcher,Bf=O.ReactCurrentOwner,Er=O.ReactCurrentBatchConfig,bt=0,vn=null,rn=null,jn=0,fr=0,xa=Jn(0),cn=0,Pl=null,_o=0,Rl=0,_u=0,Tl=null,tr=null,Wf=0,pi=1/0,Fs=null,bu=!1,Hf=null,bo=null,Su=!1,So=null,Hn=0,Al=0,Vf=null,ju=-1,Il=0;function Vn(){return(bt&6)!==0?zt():ju!==-1?ju:ju=zt()}function jo(s){return(s.mode&1)===0?1:(bt&2)!==0&&jn!==0?jn&-jn:Yp.transition!==null?(Il===0&&(Il=$d()),Il):(s=Ct,s!==0||(s=window.event,s=s===void 0?16:_p(s.type)),s)}function Vr(s,a,f,m){if(50<Al)throw Al=0,Vf=null,Error(t(185));qa(s,f,m),((bt&2)===0||s!==vn)&&(s===vn&&((bt&2)===0&&(Rl|=f),cn===4&&No(s,jn)),nr(s,m),f===1&&bt===0&&(a.mode&1)===0&&(pi=zt()+500,Vc&&po()))}function nr(s,a){var f=s.callbackNode;Nv(s,a);var m=Yo(s,s===vn?jn:0);if(m===0)f!==null&&cp(f),s.callbackNode=null,s.callbackPriority=0;else if(a=m&-m,s.callbackPriority!==a){if(f!=null&&cp(f),a===1)s.tag===0?ri(vm.bind(null,s)):Gp(vm.bind(null,s)),Uc(function(){(bt&6)===0&&po()}),f=null;else{switch(Jo(m)){case 1:f=Dd;break;case 4:f=up;break;case 16:f=Va;break;case 536870912:f=Ld;break;default:f=Va}f=jm(f,Nu.bind(null,s))}s.callbackPriority=a,s.callbackNode=f}}function Nu(s,a){if(ju=-1,Il=0,(bt&6)!==0)throw Error(t(327));var f=s.callbackNode;if(ya()&&s.callbackNode!==f)return null;var m=Yo(s,s===vn?jn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||a)a=ku(s,m);else{a=m;var _=bt;bt|=2;var S=ym();(vn!==s||jn!==a)&&(Fs=null,pi=zt()+500,gi(s,a));do try{Xv();break}catch(H){xm(s,H)}while(!0);Ts(),wu.current=S,bt=_,rn!==null?a=0:(vn=null,jn=0,a=cn)}if(a!==0){if(a===2&&(_=xc(s),_!==0&&(m=_,a=Gf(s,_))),a===1)throw f=Pl,gi(s,0),No(s,m),nr(s,zt()),f;if(a===6)No(s,m);else{if(_=s.current.alternate,(m&30)===0&&!Yv(_)&&(a=ku(s,m),a===2&&(S=xc(s),S!==0&&(m=S,a=Gf(s,S))),a===1))throw f=Pl,gi(s,0),No(s,m),nr(s,zt()),f;switch(s.finishedWork=_,s.finishedLanes=m,a){case 0:case 1:throw Error(t(345));case 2:vi(s,tr,Fs);break;case 3:if(No(s,m),(m&130023424)===m&&(a=Wf+500-zt(),10<a)){if(Yo(s,0)!==0)break;if(_=s.suspendedLanes,(_&m)!==m){Vn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=co(vi.bind(null,s,tr,Fs),a);break}vi(s,tr,Fs);break;case 4:if(No(s,m),(m&4194240)===m)break;for(a=s.eventTimes,_=-1;0<m;){var M=31-Lr(m);S=1<<M,M=a[M],M>_&&(_=M),m&=~S}if(m=_,m=zt()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*gm(m/1960))-m,10<m){s.timeoutHandle=co(vi.bind(null,s,tr,Fs),m);break}vi(s,tr,Fs);break;case 5:vi(s,tr,Fs);break;default:throw Error(t(329))}}}return nr(s,zt()),s.callbackNode===f?Nu.bind(null,s):null}function Gf(s,a){var f=Tl;return s.current.memoizedState.isDehydrated&&(gi(s,a).flags|=256),s=ku(s,a),s!==2&&(a=tr,tr=f,a!==null&&qf(a)),s}function qf(s){tr===null?tr=s:tr.push.apply(tr,s)}function Yv(s){for(var a=s;;){if(a.flags&16384){var f=a.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var _=f[m],S=_.getSnapshot;_=_.value;try{if(!le(S(),_))return!1}catch{return!1}}}if(f=a.child,a.subtreeFlags&16384&&f!==null)f.return=a,a=f;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function No(s,a){for(a&=~_u,a&=~Rl,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var f=31-Lr(a),m=1<<f;s[f]=-1,a&=~m}}function vm(s){if((bt&6)!==0)throw Error(t(327));ya();var a=Yo(s,0);if((a&1)===0)return nr(s,zt()),null;var f=ku(s,a);if(s.tag!==0&&f===2){var m=xc(s);m!==0&&(a=m,f=Gf(s,m))}if(f===1)throw f=Pl,gi(s,0),No(s,a),nr(s,zt()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,vi(s,tr,Fs),nr(s,zt()),null}function Kf(s,a){var f=bt;bt|=1;try{return s(a)}finally{bt=f,bt===0&&(pi=zt()+500,Vc&&po())}}function mi(s){So!==null&&So.tag===0&&(bt&6)===0&&ya();var a=bt;bt|=1;var f=Er.transition,m=Ct;try{if(Er.transition=null,Ct=1,s)return s()}finally{Ct=m,Er.transition=f,bt=a,(bt&6)===0&&po()}}function Yf(){fr=xa.current,Lt(xa)}function gi(s,a){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,ll(f)),rn!==null)for(f=rn.return;f!==null;){var m=f;switch(ii(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Hc();break;case 3:vo(),Lt(Xn),Lt(Rn),tu();break;case 5:eu(m);break;case 4:vo();break;case 13:Lt(Bt);break;case 19:Lt(Bt);break;case 10:Jc(m.type._context);break;case 22:case 23:Yf()}f=f.return}if(vn=s,rn=s=Gr(s.current,null),jn=fr=a,cn=0,Pl=null,_u=Rl=_o=0,tr=Tl=null,li!==null){for(a=0;a<li.length;a++)if(f=li[a],m=f.interleaved,m!==null){f.interleaved=null;var _=m.next,S=f.pending;if(S!==null){var M=S.next;S.next=_,m.next=M}f.pending=m}li=null}return s}function xm(s,a){do{var f=rn;try{if(Ts(),ml.current=au,la){for(var m=Vt.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}la=!1}if(xo=0,ln=Jt=Vt=null,gl=!1,ui=0,Bf.current=null,f===null||f.return===null){cn=1,Pl=a,rn=null;break}e:{var S=s,M=f.return,H=f,Y=a;if(a=jn,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,we=H,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Ae=im(M);if(Ae!==null){Ae.flags&=-257,Pf(Ae,M,H,S,a),Ae.mode&1&&_l(S,ce,a),a=Ae,Y=ce;var Me=a.updateQueue;if(Me===null){var De=new Set;De.add(Y),a.updateQueue=De}else Me.add(Y);break e}else{if((a&1)===0){_l(S,ce,a),Jf();break e}Y=Error(t(426))}}else if($t&&H.mode&1){var Xt=im(M);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),Pf(Xt,M,H,S,a),us(hi(Y,H));break e}}S=Y=hi(Y,H),cn!==4&&(cn=2),Tl===null?Tl=[S]:Tl.push(S),S=M;do{switch(S.tag){case 3:S.flags|=65536,a&=-a,S.lanes|=a;var se=wl(S,Y,a);Qp(S,se);break e;case 1:H=Y;var Q=S.type,ie=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||ie!==null&&typeof ie.componentDidCatch=="function"&&(bo===null||!bo.has(ie)))){S.flags|=65536,a&=-a,S.lanes|=a;var Ne=fu(S,H,a);Qp(S,Ne);break e}}S=S.return}while(S!==null)}_m(f)}catch(Be){a=Be,rn===f&&f!==null&&(rn=f=f.return);continue}break}while(!0)}function ym(){var s=wu.current;return wu.current=au,s===null?au:s}function Jf(){(cn===0||cn===3||cn===2)&&(cn=4),vn===null||(_o&268435455)===0&&(Rl&268435455)===0||No(vn,jn)}function ku(s,a){var f=bt;bt|=2;var m=ym();(vn!==s||jn!==a)&&(Fs=null,gi(s,a));do try{Jv();break}catch(_){xm(s,_)}while(!0);if(Ts(),bt=f,wu.current=m,rn!==null)throw Error(t(261));return vn=null,jn=0,cn}function Jv(){for(;rn!==null;)wm(rn)}function Xv(){for(;rn!==null&&!mc();)wm(rn)}function wm(s){var a=Sm(s.alternate,s,fr);s.memoizedProps=s.pendingProps,a===null?_m(s):rn=a,Bf.current=null}function _m(s){var a=s;do{var f=a.alternate;if(s=a.return,(a.flags&32768)===0){if(f=Gv(f,a,fr),f!==null){rn=f;return}}else{if(f=qv(f,a),f!==null){f.flags&=32767,rn=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,rn=null;return}}if(a=a.sibling,a!==null){rn=a;return}rn=a=s}while(a!==null);cn===0&&(cn=5)}function vi(s,a,f){var m=Ct,_=Er.transition;try{Er.transition=null,Ct=1,Qv(s,a,f,m)}finally{Er.transition=_,Ct=m}return null}function Qv(s,a,f,m){do ya();while(So!==null);if((bt&6)!==0)throw Error(t(327));f=s.finishedWork;var _=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(gp(s,S),s===vn&&(rn=vn=null,jn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Su||(Su=!0,jm(Va,function(){return ya(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Er.transition,Er.transition=null;var M=Ct;Ct=1;var H=bt;bt|=4,Bf.current=null,Kv(s,f),zf(f,s),Bv(ni),bc=!!il,ni=il=null,s.current=f,yu(f),bv(),bt=H,Ct=M,Er.transition=S}else s.current=f;if(Su&&(Su=!1,So=s,Hn=_),S=s.pendingLanes,S===0&&(bo=null),jv(f.stateNode),nr(s,zt()),a!==null)for(m=s.onRecoverableError,f=0;f<a.length;f++)_=a[f],m(_.value,{componentStack:_.stack,digest:_.digest});if(bu)throw bu=!1,s=Hf,Hf=null,s;return(Hn&1)!==0&&s.tag!==0&&ya(),S=s.pendingLanes,(S&1)!==0?s===Vf?Al++:(Al=0,Vf=s):Al=0,po(),null}function ya(){if(So!==null){var s=Jo(Hn),a=Er.transition,f=Ct;try{if(Er.transition=null,Ct=16>s?16:s,So===null)var m=!1;else{if(s=So,So=null,Hn=0,(bt&6)!==0)throw Error(t(331));var _=bt;for(bt|=4,Oe=s.current;Oe!==null;){var S=Oe,M=S.child;if((Oe.flags&16)!==0){var H=S.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var ce=H[Y];for(Oe=ce;Oe!==null;){var we=Oe;switch(we.tag){case 0:case 11:case 15:$s(8,we,S)}var Se=we.child;if(Se!==null)Se.return=we,Oe=Se;else for(;Oe!==null;){we=Oe;var ye=we.sibling,Ae=we.return;if(fm(we),we===ce){Oe=null;break}if(ye!==null){ye.return=Ae,Oe=ye;break}Oe=Ae}}}var Me=S.alternate;if(Me!==null){var De=Me.child;if(De!==null){Me.child=null;do{var Xt=De.sibling;De.sibling=null,De=Xt}while(De!==null)}}Oe=S}}if((S.subtreeFlags&2064)!==0&&M!==null)M.return=S,Oe=M;else e:for(;Oe!==null;){if(S=Oe,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:$s(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Oe=se;break e}Oe=S.return}}var Q=s.current;for(Oe=Q;Oe!==null;){M=Oe;var ie=M.child;if((M.subtreeFlags&2064)!==0&&ie!==null)ie.return=M,Oe=ie;else e:for(M=Q;Oe!==null;){if(H=Oe,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:El(9,H)}}catch(Be){Gt(H,H.return,Be)}if(H===M){Oe=null;break e}var Ne=H.sibling;if(Ne!==null){Ne.return=H.return,Oe=Ne;break e}Oe=H.return}}if(bt=_,po(),ts&&typeof ts.onPostCommitFiberRoot=="function")try{ts.onPostCommitFiberRoot(gc,s)}catch{}m=!0}return m}finally{Ct=f,Er.transition=a}}return!1}function Cu(s,a,f){a=hi(f,a),a=wl(s,a,1),s=Nr(s,a,1),a=Vn(),s!==null&&(qa(s,1,a),nr(s,a))}function Gt(s,a,f){if(s.tag===3)Cu(s,s,f);else for(;a!==null;){if(a.tag===3){Cu(a,s,f);break}else if(a.tag===1){var m=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(bo===null||!bo.has(m))){s=hi(f,s),s=fu(a,s,1),a=Nr(a,s,1),s=Vn(),a!==null&&(qa(a,1,s),nr(a,s));break}}a=a.return}}function Zv(s,a,f){var m=s.pingCache;m!==null&&m.delete(a),a=Vn(),s.pingedLanes|=s.suspendedLanes&f,vn===s&&(jn&f)===f&&(cn===4||cn===3&&(jn&130023424)===jn&&500>zt()-Wf?gi(s,0):_u|=f),nr(s,a)}function bm(s,a){a===0&&((s.mode&1)===0?a=1:(a=vc,vc<<=1,(vc&130023424)===0&&(vc=4194304)));var f=Vn();s=As(s,a),s!==null&&(qa(s,a,f),nr(s,f))}function ex(s){var a=s.memoizedState,f=0;a!==null&&(f=a.retryLane),bm(s,f)}function tx(s,a){var f=0;switch(s.tag){case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(f=_.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(a),bm(s,f)}var Sm;Sm=function(s,a,f){if(s!==null)if(s.memoizedProps!==a.pendingProps||Xn.current)Bn=!0;else{if((s.lanes&f)===0&&(a.flags&128)===0)return Bn=!1,cm(s,a,f);Bn=(s.flags&131072)!==0}else Bn=!1,$t&&(a.flags&1048576)!==0&&qp(a,qc,a.index);switch(a.lanes=0,a.tag){case 2:var m=a.type;mu(s,a),s=a.pendingProps;var _=ra(a,Rn.current);go(a,f),_=di(null,a,m,s,_,f);var S=nu();return a.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Qn(m)?(S=!0,wr(a)):S=!1,a.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Qc(a),_.updater=uu,a.stateNode=_,_._reactInternals=a,Ef(a,m,s,f),a=Mf(null,a,m,!0,S,f)):(a.tag=0,$t&&S&&cl(a),_n(null,a,_,f),a=a.child),a;case 16:m=a.elementType;e:{switch(mu(s,a),s=a.pendingProps,_=m._init,m=_(m._payload),a.type=m,_=a.tag=rx(m),s=Cr(m,s),_){case 0:a=If(null,a,m,s,f);break e;case 1:a=Of(null,a,m,s,f);break e;case 11:a=am(null,a,m,s,f);break e;case 14:a=Rf(null,a,m,Cr(m.type,s),f);break e}throw Error(t(306,m,""))}return a;case 0:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Cr(m,_),If(s,a,m,_,f);case 1:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Cr(m,_),Of(s,a,m,_,f);case 3:e:{if(lm(a),s===null)throw Error(t(387));m=a.pendingProps,S=a.memoizedState,_=S.element,Xp(s,a),ia(a,m,null,f);var M=a.memoizedState;if(m=M.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},a.updateQueue.baseState=S,a.memoizedState=S,a.flags&256){_=hi(Error(t(423)),a),a=ms(s,a,m,f,_);break e}else if(m!==_){_=hi(Error(t(424)),a),a=ms(s,a,m,f,_);break e}else for(cr=uo(a.stateNode.containerInfo.firstChild),An=a,$t=!0,Fr=null,f=Yc(a,null,m,f),a.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(cs(),m===_){a=Ur(s,a,f);break e}_n(s,a,m,f)}a=a.child}return a;case 5:return mf(a),s===null&&Zn(a),m=a.type,_=a.pendingProps,S=s!==null?s.memoizedProps:null,M=_.children,al(m,_)?M=null:S!==null&&al(m,S)&&(a.flags|=32),Af(s,a),_n(s,a,M,f),a.child;case 6:return s===null&&Zn(a),null;case 13:return pu(s,a,f);case 4:return pf(a,a.stateNode.containerInfo),m=a.pendingProps,s===null?a.child=Kt(a,null,m,f):_n(s,a,m,f),a.child;case 11:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Cr(m,_),am(s,a,m,_,f);case 7:return _n(s,a,a.pendingProps,f),a.child;case 8:return _n(s,a,a.pendingProps.children,f),a.child;case 12:return _n(s,a,a.pendingProps.children,f),a.child;case 10:e:{if(m=a.type._context,_=a.pendingProps,S=a.memoizedProps,M=_.value,Mt(fl,m._currentValue),m._currentValue=M,S!==null)if(le(S.value,M)){if(S.children===_.children&&!Xn.current){a=Ur(s,a,f);break e}}else for(S=a.child,S!==null&&(S.return=a);S!==null;){var H=S.dependencies;if(H!==null){M=S.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===m){if(S.tag===1){Y=Is(-1,f&-f),Y.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),ce.pending=Y}}S.lanes|=f,Y=S.alternate,Y!==null&&(Y.lanes|=f),wn(S.return,f,a),H.lanes|=f;break}Y=Y.next}}else if(S.tag===10)M=S.type===a.type?null:S.child;else if(S.tag===18){if(M=S.return,M===null)throw Error(t(341));M.lanes|=f,H=M.alternate,H!==null&&(H.lanes|=f),wn(M,f,a),M=S.sibling}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===a){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}_n(s,a,_.children,f),a=a.child}return a;case 9:return _=a.type,m=a.pendingProps.children,go(a,f),_=Sr(_),m=m(_),a.flags|=1,_n(s,a,m,f),a.child;case 14:return m=a.type,_=Cr(m,a.pendingProps),_=Cr(m.type,_),Rf(s,a,m,_,f);case 15:return ps(s,a,a.type,a.pendingProps,f);case 17:return m=a.type,_=a.pendingProps,_=a.elementType===m?_:Cr(m,_),mu(s,a),a.tag=1,Qn(m)?(s=!0,wr(a)):s=!1,go(a,f),fi(a,m,_),Ef(a,m,_,f),Mf(null,a,m,!0,s,f);case 19:return yo(s,a,f);case 22:return Tf(s,a,f)}throw Error(t(156,a.tag))};function jm(s,a){return lp(s,a)}function nx(s,a,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(s,a,f,m){return new nx(s,a,f,m)}function Eu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function rx(s){if(typeof s=="function")return Eu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ae)return 11;if(s===ke)return 14}return 2}function Gr(s,a){var f=s.alternate;return f===null?(f=Pr(s.tag,a,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=a,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,a=s.dependencies,f.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Pu(s,a,f,m,_,S){var M=2;if(m=s,typeof s=="function")Eu(s)&&(M=1);else if(typeof s=="string")M=5;else e:switch(s){case z:return xi(f.children,_,S,a);case F:M=8,_|=8;break;case q:return s=Pr(12,f,a,_|2),s.elementType=q,s.lanes=S,s;case pe:return s=Pr(13,f,a,_),s.elementType=pe,s.lanes=S,s;case me:return s=Pr(19,f,a,_),s.elementType=me,s.lanes=S,s;case be:return Ru(f,_,S,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:M=10;break e;case re:M=9;break e;case ae:M=11;break e;case ke:M=14;break e;case ge:M=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=Pr(M,f,a,_),a.elementType=s,a.type=m,a.lanes=S,a}function xi(s,a,f,m){return s=Pr(7,s,m,a),s.lanes=f,s}function Ru(s,a,f,m){return s=Pr(22,s,m,a),s.elementType=be,s.lanes=f,s.stateNode={isHidden:!1},s}function Xf(s,a,f){return s=Pr(6,s,null,a),s.lanes=f,s}function Qf(s,a,f){return a=Pr(4,s.children!==null?s.children:[],s.key,a),a.lanes=f,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function sx(s,a,f,m,_){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ga(0),this.expirationTimes=Ga(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ga(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Zf(s,a,f,m,_,S,M,H,Y){return s=new sx(s,a,f,H,Y),a===1?(a=1,S===!0&&(a|=8)):a=0,S=Pr(3,null,null,a),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qc(S),s}function ox(s,a,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:m==null?null:""+m,children:s,containerInfo:a,implementation:f}}function Nm(s){if(!s)return ho;s=s._reactInternals;e:{if(Ko(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Qn(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(Qn(f))return Hp(s,f,a)}return a}function km(s,a,f,m,_,S,M,H,Y){return s=Zf(f,m,!0,s,_,S,M,H,Y),s.context=Nm(null),f=s.current,m=Vn(),_=jo(f),S=Is(m,_),S.callback=a??null,Nr(f,S,_),s.current.lanes=_,qa(s,_,m),nr(s,m),s}function Tu(s,a,f,m){var _=a.current,S=Vn(),M=jo(_);return f=Nm(f),a.context===null?a.context=f:a.pendingContext=f,a=Is(S,M),a.payload={element:s},m=m===void 0?null:m,m!==null&&(a.callback=m),s=Nr(_,a,M),s!==null&&(Vr(s,_,M,S),Zc(s,_,M)),M}function Au(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Cm(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<a?f:a}}function eh(s,a){Cm(s,a),(s=s.alternate)&&Cm(s,a)}function ix(){return null}var Em=typeof reportError=="function"?reportError:function(s){console.error(s)};function Iu(s){this._internalRoot=s}Ol.prototype.render=Iu.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));Tu(s,a,null,null)},Ol.prototype.unmount=Iu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;mi(function(){Tu(null,s,null,null)}),a[lr]=null}};function Ol(s){this._internalRoot=s}Ol.prototype.unstable_scheduleHydration=function(s){if(s){var a=zd();s={blockedOn:null,target:s,priority:a};for(var f=0;f<so.length&&a!==0&&a<so[f].priority;f++);so.splice(f,0,s),f===0&&yp(s)}};function th(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Ou(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Pm(){}function ax(s,a,f,m,_){if(_){if(typeof m=="function"){var S=m;m=function(){var ce=Au(M);S.call(ce)}}var M=km(a,m,s,0,null,!1,!1,"",Pm);return s._reactRootContainer=M,s[lr]=M.current,lo(s.nodeType===8?s.parentNode:s),mi(),M}for(;_=s.lastChild;)s.removeChild(_);if(typeof m=="function"){var H=m;m=function(){var ce=Au(Y);H.call(ce)}}var Y=Zf(s,0,!1,null,null,!1,!1,"",Pm);return s._reactRootContainer=Y,s[lr]=Y.current,lo(s.nodeType===8?s.parentNode:s),mi(function(){Tu(a,Y,f,m)}),Y}function yi(s,a,f,m,_){var S=f._reactRootContainer;if(S){var M=S;if(typeof _=="function"){var H=_;_=function(){var Y=Au(M);H.call(Y)}}Tu(a,M,s,_)}else M=ax(f,a,s,_,m);return Au(M)}Fd=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var f=Fi(a.pendingLanes);f!==0&&(Ka(a,f|1),nr(a,zt()),(bt&6)===0&&(pi=zt()+500,po()))}break;case 13:mi(function(){var m=As(s,1);if(m!==null){var _=Vn();Vr(m,s,1,_)}}),eh(s,1)}},yc=function(s){if(s.tag===13){var a=As(s,134217728);if(a!==null){var f=Vn();Vr(a,s,134217728,f)}eh(s,134217728)}},vp=function(s){if(s.tag===13){var a=jo(s),f=As(s,a);if(f!==null){var m=Vn();Vr(f,s,a,m)}eh(s,a)}},zd=function(){return Ct},Ud=function(s,a){var f=Ct;try{return Ct=s,a()}finally{Ct=f}},Rd=function(s,a,f){switch(a){case"input":if(Yt(s,f),a=f.name,f.type==="radio"&&a!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<f.length;a++){var m=f[a];if(m!==s&&m.form===s.form){var _=Wc(m);if(!_)throw Error(t(90));Le(m),Yt(m,_)}}}break;case"textarea":Qh(s,f);break;case"select":a=f.value,a!=null&&qt(s,!!f.multiple,a,!1)}},rp=Kf,Td=mi;var lx={usingClientEntryPoint:!1,Events:[Pn,ct,Wc,tp,np,Kf]},Ml={findFiberByHostInstance:os,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},cx={bundleType:Ml.bundleType,version:Ml.version,rendererPackageName:Ml.rendererPackageName,rendererConfig:Ml.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:O.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ip(s),s===null?null:s.stateNode},findFiberByHostInstance:Ml.findFiberByHostInstance||ix,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Mu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Mu.isDisabled&&Mu.supportsFiber)try{gc=Mu.inject(cx),ts=Mu}catch{}}return Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lx,Ir.createPortal=function(s,a){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!th(a))throw Error(t(200));return ox(s,a,null,f)},Ir.createRoot=function(s,a){if(!th(s))throw Error(t(299));var f=!1,m="",_=Em;return a!=null&&(a.unstable_strictMode===!0&&(f=!0),a.identifierPrefix!==void 0&&(m=a.identifierPrefix),a.onRecoverableError!==void 0&&(_=a.onRecoverableError)),a=Zf(s,1,!1,null,null,f,!1,m,_),s[lr]=a.current,lo(s.nodeType===8?s.parentNode:s),new Iu(a)},Ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ip(a),s=s===null?null:s.stateNode,s},Ir.flushSync=function(s){return mi(s)},Ir.hydrate=function(s,a,f){if(!Ou(a))throw Error(t(200));return yi(null,s,a,!0,f)},Ir.hydrateRoot=function(s,a,f){if(!th(s))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,_=!1,S="",M=Em;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),a=km(a,null,s,1,f??null,_,!1,S,M),s[lr]=a.current,lo(s),m)for(s=0;s<m.length;s++)f=m[s],_=f._getVersion,_=_(f._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[f,_]:a.mutableSourceEagerHydrationData.push(f,_);return new Ol(a)},Ir.render=function(s,a,f){if(!Ou(a))throw Error(t(200));return yi(null,s,a,!1,f)},Ir.unmountComponentAtNode=function(s){if(!Ou(s))throw Error(t(40));return s._reactRootContainer?(mi(function(){yi(null,null,s,!1,function(){s._reactRootContainer=null,s[lr]=null})}),!0):!1},Ir.unstable_batchedUpdates=Kf,Ir.unstable_renderSubtreeIntoContainer=function(s,a,f,m){if(!Ou(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return yi(s,a,f,!1,m)},Ir.version="18.3.1-next-f1338f8080-20240426",Ir}var kw;function Bb(){if(kw)return jx.exports;kw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),jx.exports=EP(),jx.exports}var Cw;function PP(){if(Cw)return Om;Cw=1;var n=Bb();return Om.createRoot=n.createRoot,Om.hydrateRoot=n.hydrateRoot,Om}var RP=PP();const TP=Tg(RP),at=n=>typeof n=="string",sh=()=>{let n,e;const t=new Promise((r,o)=>{n=r,e=o});return t.resolve=n,t.reject=e,t},Ew=n=>n==null?"":""+n,AP=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},IP=/###/g,Pw=n=>n&&n.indexOf("###")>-1?n.replace(IP,"."):n,Rw=n=>!n||at(n),xh=(n,e,t)=>{const r=at(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(Rw(n))return{};const c=Pw(r[o]);!n[c]&&t&&(n[c]=new t),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return Rw(n)?{}:{obj:n,k:Pw(r[o])}},Tw=(n,e,t)=>{const{obj:r,k:o}=xh(n,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let c=e[e.length-1],u=e.slice(0,e.length-1),h=xh(n,u,Object);for(;h.obj===void 0&&u.length;)c=`${u[u.length-1]}.${c}`,u=u.slice(0,u.length-1),h=xh(n,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=t},OP=(n,e,t,r)=>{const{obj:o,k:c}=xh(n,e,Object);o[c]=o[c]||[],o[c].push(t)},cg=(n,e)=>{const{obj:t,k:r}=xh(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},MP=(n,e,t)=>{const r=cg(n,t);return r!==void 0?r:cg(e,t)},Wb=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?at(n[r])||n[r]instanceof String||at(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):Wb(n[r],e[r],t):n[r]=e[r]);return n},$u=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var DP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const LP=n=>at(n)?n.replace(/[&<>"'\/]/g,e=>DP[e]):n;class $P{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const FP=[" ",",","?","!",";"],zP=new $P(20),UP=(n,e,t)=>{e=e||"",t=t||"";const r=FP.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const o=zP.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let c=!o.test(n);if(!c){const u=n.indexOf(t);u>0&&!o.test(n.substring(0,u))&&(c=!0)}return c},i0=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let o=n;for(let c=0;c<r.length;){if(!o||typeof o!="object")return;let u,h="";for(let p=c;p<r.length;++p)if(p!==c&&(h+=t),h+=r[p],u=o[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&p<r.length-1)continue;c+=p-c+1;break}o=u}return o},kh=n=>n==null?void 0:n.replace("_","-"),BP={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class ug{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||BP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(at(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ug(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ug(this.logger,e)}}var Ro=new ug;class Ig{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o.apply(o,[e,...t])})}}class Aw extends Ig{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,o={}){var g,x;const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],r&&(Array.isArray(r)?h.push(...r):at(r)&&c?h.push(...r.split(c)):h.push(r)));const p=cg(this.data,h);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=h[0],t=h[1],r=h.slice(2).join(".")),p||!u||!at(r)?p:i0((x=(g=this.data)==null?void 0:g[e])==null?void 0:x[t],r,c)}addResource(e,t,r,o,c={silent:!1}){const u=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[e,t];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),o=t,t=h[1]),this.addNamespaces(t),Tw(this.data,h,o),c.silent||this.emit("added",e,t,r,o)}addResources(e,t,r,o={silent:!1}){for(const c in r)(at(r[c])||Array.isArray(r[c]))&&this.addResource(e,t,c,r[c],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,c,u={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),o=r,r=t,t=h[1]),this.addNamespaces(t);let p=cg(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?Wb(p,r,c):p={...p,...r},Tw(this.data,h,p),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var Hb={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,o){return n.forEach(c=>{var u;e=((u=this.processors[c])==null?void 0:u.process(e,t,r,o))??e}),e}};const Iw={},Ow=n=>!at(n)&&typeof n!="boolean"&&typeof n!="number";class dg extends Ig{constructor(e,t={}){super(),AP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ro.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const o=this.resolve(e,r);return(o==null?void 0:o.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!UP(e,r,o);if(u&&!h){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:at(c)?[c]:c};const g=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),e=g.join(o)}return{key:e,namespaces:at(c)?[c]:c}}translate(e,t,r){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o={...o}),o||(o={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const c=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(e[e.length-1],o),g=p[p.length-1];let x=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const y=o.lng||this.language,b=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return b?c?{res:`${g}${x}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${x}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:h;const C=this.resolve(e,o);let E=C==null?void 0:C.res;const P=(C==null?void 0:C.usedKey)||h,N=(C==null?void 0:C.exactUsedKey)||h,R=["[object Number]","[object Function]","[object RegExp]"],k=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,O=o.count!==void 0&&!at(o.count),I=dg.hasDefaultValue(o),L=O?this.pluralResolver.getSuffix(y,o.count,o):"",z=o.ordinal&&O?this.pluralResolver.getSuffix(y,o.count,{ordinal:!1}):"",F=O&&!o.ordinal&&o.count===0,q=F&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${L}`]||o[`defaultValue${z}`]||o.defaultValue;let X=E;T&&!E&&I&&(X=q);const re=Ow(X),ae=Object.prototype.toString.apply(X);if(T&&X&&re&&R.indexOf(ae)<0&&!(at(k)&&Array.isArray(X))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,X,{...o,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(C.res=pe,C.usedParams=this.getUsedParamsDetails(o),C):pe}if(u){const pe=Array.isArray(X),me=pe?[]:{},ke=pe?N:P;for(const ge in X)if(Object.prototype.hasOwnProperty.call(X,ge)){const be=`${ke}${u}${ge}`;I&&!E?me[ge]=this.translate(be,{...o,defaultValue:Ow(q)?q[ge]:void 0,joinArrays:!1,ns:p}):me[ge]=this.translate(be,{...o,joinArrays:!1,ns:p}),me[ge]===be&&(me[ge]=X[ge])}E=me}}else if(T&&at(k)&&Array.isArray(E))E=E.join(k),E&&(E=this.extendTranslation(E,e,o,r));else{let pe=!1,me=!1;!this.isValidLookup(E)&&I&&(pe=!0,E=q),this.isValidLookup(E)||(me=!0,E=h);const ge=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:E,be=I&&q!==E&&this.options.updateMissing;if(me||pe||be){if(this.logger.log(be?"updateKey":"missingKey",y,g,h,be?q:E),u){const B=this.resolve(h,{...o,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let B=0;B<K.length;B++)W.push(K[B]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(o.lng||this.language):W.push(o.lng||this.language);const ne=(B,U,V)=>{var ue;const oe=I&&V!==E?V:ge;this.options.missingKeyHandler?this.options.missingKeyHandler(B,g,U,oe,be,o):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(B,g,U,oe,be,o),this.emit("missingKey",B,g,U,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&O?W.forEach(B=>{const U=this.pluralResolver.getSuffixes(B,o);F&&o[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(V=>{ne([B],h+V,o[`defaultValue${V}`]||q)})}):ne(W,h,q))}E=this.extendTranslation(E,e,o,C,r),me&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${g}${x}${h}`),(me||pe)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${x}${h}`:h,pe?E:void 0,o))}return c?(C.res=E,C.usedParams=this.getUsedParamsDetails(o),C):E}extendTranslation(e,t,r,o,c){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const x=at(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(x){const C=e.match(this.interpolator.nestingRegexp);y=C&&C.length}let b=r.replace&&!at(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||o.usedLng,r),x){const C=e.match(this.interpolator.nestingRegexp),E=C&&C.length;y<E&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...C)=>(c==null?void 0:c[0])===C[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${C[0]} in key: ${t[0]}`),null):this.translate(...C,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=at(u)?[u]:u;return e!=null&&(h!=null&&h.length)&&r.applyPostProcessor!==!1&&(e=Hb.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,o,c,u,h;return at(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),x=g.key;o=x;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!at(t.count),C=b&&!t.ordinal&&t.count===0,E=t.context!==void 0&&(at(t.context)||typeof t.context=="number")&&t.context!=="",P=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(N=>{var R,k;this.isValidLookup(r)||(h=N,!Iw[`${P[0]}-${N}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(h))&&(Iw[`${P[0]}-${N}`]=!0,this.logger.warn(`key "${o}" for languages "${P.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(T=>{var L;if(this.isValidLookup(r))return;u=T;const O=[x];if((L=this.i18nFormat)!=null&&L.addLookupKeys)this.i18nFormat.addLookupKeys(O,x,T,N,t);else{let z;b&&(z=this.pluralResolver.getSuffix(T,t.count,t));const F=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(O.push(x+z),t.ordinal&&z.indexOf(q)===0&&O.push(x+z.replace(q,this.options.pluralSeparator)),C&&O.push(x+F)),E){const X=`${x}${this.options.contextSeparator}${t.context}`;O.push(X),b&&(O.push(X+z),t.ordinal&&z.indexOf(q)===0&&O.push(X+z.replace(q,this.options.pluralSeparator)),C&&O.push(X+F))}}let I;for(;I=O.pop();)this.isValidLookup(r)||(c=I,r=this.getResource(T,N,I,t))}))})}),{res:r,usedKey:o,exactUsedKey:c,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,o={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!at(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const c of t)delete o[c]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Mw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ro.create("languageUtils")}getScriptPartFromCode(e){if(e=kh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=kh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(at(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return t=o;const c=this.getLanguagePartFromCode(r);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(u=>{if(u===c)return u;if(!(u.indexOf("-")<0&&c.indexOf("-")<0)&&(u.indexOf("-")>0&&c.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===c||u.indexOf(c)===0&&c.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),at(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],c=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return at(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):at(e)&&c(this.formatLanguageCode(e)),r.forEach(u=>{o.indexOf(u)<0&&c(this.formatLanguageCode(u))}),o}}const Dw={zero:0,one:1,two:2,few:3,many:4,other:5},Lw={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class WP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Ro.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=kh(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:r,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let u;try{u=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Lw;if(!e.match(/-|_/))return Lw;const p=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(p,t)}return this.pluralRulesCache[c]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,c)=>Dw[o]-Dw[c]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,r={}){const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const $w=(n,e,t,r=".",o=!0)=>{let c=MP(n,e,t);return!c&&o&&at(t)&&(c=i0(n,t,r),c===void 0&&(c=i0(e,t,r))),c},Cx=n=>n.replace(/\$/g,"$$$$");class HP{constructor(e={}){var t;this.logger=Ro.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:c,prefixEscaped:u,suffix:h,suffixEscaped:p,formatSeparator:g,unescapeSuffix:x,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:C,nestingSuffix:E,nestingSuffixEscaped:P,nestingOptionsSeparator:N,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:LP,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?$u(c):u||"{{",this.suffix=h?$u(h):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=x?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=b?$u(b):C||$u("$t("),this.nestingSuffix=E?$u(E):P||$u(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,o){var C;let c,u,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=E=>{if(E.indexOf(this.formatSeparator)<0){const k=$w(t,p,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...o,...t,interpolationkey:E}):k}const P=E.split(this.formatSeparator),N=P.shift().trim(),R=P.join(this.formatSeparator).trim();return this.format($w(t,p,N,this.options.keySeparator,this.options.ignoreJSONStructure),R,r,{...o,...t,interpolationkey:N})};this.resetRegExp();const x=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((C=o==null?void 0:o.interpolation)==null?void 0:C.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Cx(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Cx(this.escape(E)):Cx(E)}].forEach(E=>{for(h=0;c=E.regex.exec(e);){const P=c[1].trim();if(u=g(P),u===void 0)if(typeof x=="function"){const R=x(e,c,o);u=at(R)?R:""}else if(o&&Object.prototype.hasOwnProperty.call(o,P))u="";else if(y){u=c[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!at(u)&&!this.useRawValueToEscape&&(u=Ew(u));const N=E.safeValue(u);if(e=e.replace(c[0],N),y?(E.regex.lastIndex+=u.length,E.regex.lastIndex-=c[0].length):E.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,r={}){let o,c,u;const h=(p,g)=>{const x=this.nestingOptionsSeparator;if(p.indexOf(x)<0)return p;const y=p.split(new RegExp(`${x}[ ]*{`));let b=`{${y[1]}`;p=y[0],b=this.interpolate(b,u);const C=b.match(/'/g),E=b.match(/"/g);(((C==null?void 0:C.length)??0)%2===0&&!E||E.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),g&&(u={...g,...u})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,P),`${p}${x}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,p};for(;o=this.nestingRegexp.exec(e);){let p=[];u={...r},u=u.replace&&!at(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(p=o[1].slice(g).split(this.formatSeparator).map(x=>x.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),c=t(h.call(this,o[1].trim(),u),u),c&&o[0]===e&&!at(c))return c;at(c)||(c=Ew(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((x,y)=>this.format(x,y,r.lng,{...r,interpolationkey:o[1].trim()}),c.trim())),e=e.replace(o[0],c),this.regexp.lastIndex=0}return e}}const VP=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(u=>{if(u){const[h,...p]=u.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),x=h.trim();t[x]||(t[x]=g),g==="false"&&(t[x]=!1),g==="true"&&(t[x]=!0),isNaN(g)||(t[x]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Fw=n=>{const e={};return(t,r,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const u=r+JSON.stringify(c);let h=e[u];return h||(h=n(kh(r),o),e[u]=h),h(t)}},GP=n=>(e,t,r)=>n(kh(t),r)(e);class qP{constructor(e={}){this.logger=Ro.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Fw:GP;this.formats={number:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c});return h=>u.format(h)}),currency:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c,style:"currency"});return h=>u.format(h)}),datetime:r((o,c)=>{const u=new Intl.DateTimeFormat(o,{...c});return h=>u.format(h)}),relativetime:r((o,c)=>{const u=new Intl.RelativeTimeFormat(o,{...c});return h=>u.format(h,c.range||"day")}),list:r((o,c)=>{const u=new Intl.ListFormat(o,{...c});return h=>u.format(h)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Fw(t)}format(e,t,r,o={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,p)=>{var y;const{formatName:g,formatOptions:x}=VP(p);if(this.formats[g]){let b=h;try{const C=((y=o==null?void 0:o.formatParams)==null?void 0:y[o.interpolationkey])||{},E=C.locale||C.lng||o.locale||o.lng||r;b=this.formats[g](h,E,{...x,...o,...C})}catch(C){this.logger.warn(C)}return b}else this.logger.warn(`there was no format function for ${g}`);return h},e)}}const KP=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class YP extends Ig{constructor(e,t,r,o={}){var c,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Ro.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(u=(c=this.backend)==null?void 0:c.init)==null||u.call(c,r,o.backend,o)}queueLoad(e,t,r,o){const c={},u={},h={},p={};return e.forEach(g=>{let x=!0;t.forEach(y=>{const b=`${g}|${y}`;!r.reload&&this.store.hasResourceBundle(g,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,x=!1,u[b]===void 0&&(u[b]=!0),c[b]===void 0&&(c[b]=!0),p[y]===void 0&&(p[y]=!0)))}),x||(h[g]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const o=e.split("|"),c=o[0],u=o[1];t&&this.emit("failedLoading",c,u,t),!t&&r&&this.store.addResourceBundle(c,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const h={};this.queue.forEach(p=>{OP(p.loaded,[c],u),KP(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{h[g]||(h[g]={});const x=p.loaded[g];x.length&&x.forEach(y=>{h[g][y]===void 0&&(h[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,o=0,c=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:c,callback:u});return}this.readingCalls++;const h=(g,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&x&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,c*2,u)},c);return}u(g,x)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(x=>h(null,x)).catch(h):h(null,g)}catch(g){h(g)}return}return p(e,t,h)}prepareLoading(e,t,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();at(e)&&(e=this.languageUtils.toResolveHierarchy(e)),at(t)&&(t=[t]);const c=this.queueLoad(e,t,r,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),o=r[0],c=r[1];this.read(o,c,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${t}loading namespace ${c} for language ${o} failed`,u),!u&&h&&this.logger.log(`${t}loaded namespace ${c} for language ${o}`,h),this.loaded(e,u,h)})}saveMissing(e,t,r,o,c,u={},h=()=>{}){var p,g,x,y,b;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((y=(x=this.services)==null?void 0:x.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const C={...u,isUpdate:c},E=this.backend.create.bind(this.backend);if(E.length<6)try{let P;E.length===5?P=E(e,t,r,o,C):P=E(e,t,r,o),P&&typeof P.then=="function"?P.then(N=>h(null,N)).catch(h):h(null,P)}catch(P){h(P)}else E(e,t,r,o,h,C)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const zw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),at(n[1])&&(e.defaultValue=n[1]),at(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Uw=n=>{var e,t;return at(n.ns)&&(n.ns=[n.ns]),at(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),at(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Mm=()=>{},JP=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Ch extends Ig{constructor(e={},t){if(super(),this.options=Uw(e),this.services={},this.logger=Ro,this.modules={external:[]},JP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(at(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=zw();this.options={...r,...this.options,...Uw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Ro.init(o(this.modules.logger),this.options):Ro.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=qP;const x=new Mw(this.options);this.store=new Aw(this.options.resources,this.options);const y=this.services;y.logger=Ro,y.resourceStore=this.store,y.languageUtils=x,y.pluralResolver=new WP(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=o(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new HP(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new YP(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new dg(this.services,this.options),this.translator.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Mm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...x)=>this.store[g](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...x)=>(this.store[g](...x),this)});const h=sh(),p=()=>{const g=(x,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),t(x,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e,t=Mm){var c,u;let r=t;const o=at(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};o?p(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>p(x)),(u=(c=this.options.preload)==null?void 0:c.forEach)==null||u.call(c,g=>p(g)),this.services.backendConnector.load(h,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const o=sh();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Mm),this.services.backendConnector.reload(e,t,c=>{o.resolve(),r(c)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Hb.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=sh();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(h,(...g)=>this.t(...g))},u=h=>{var x,y;!e&&!h&&this.services.languageDetector&&(h=[]);const p=at(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(at(h)?[h]:h);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),(y=(x=this.services.languageDetector)==null?void 0:x.cacheUserLanguage)==null||y.call(x,g)),this.loadResources(g,b=>{c(b,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const o=(c,u,...h)=>{let p;typeof u!="object"?p=this.options.overloadTranslationOptionHandler([c,u].concat(h)):p={...u},p.lng=p.lng||o.lng,p.lngs=p.lngs||o.lngs,p.ns=p.ns||o.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||o.keyPrefix);const g=this.options.keySeparator||".";let x;return p.keyPrefix&&Array.isArray(c)?x=c.map(y=>`${p.keyPrefix}${g}${y}`):x=p.keyPrefix?`${p.keyPrefix}${g}${c}`:c,this.t(x,p)};return at(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,p)=>{const g=this.services.backendConnector.state[`${h}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const h=t.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!o||u(c,e)))}loadNamespaces(e,t){const r=sh();return this.options.ns?(at(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=sh();at(e)&&(e=[e]);const o=this.options.preload||[],c=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return c.length?(this.options.preload=o.concat(c),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var o,c;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const h=u.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((c=this.services)==null?void 0:c.languageUtils)||new Mw(zw());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Ch(e,t)}cloneInstance(e={},t=Mm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},c=new Ch(o);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},r){const h=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((x,y)=>(x[y]={...p[g][y]},x),p[g]),p),{});c.store=new Aw(h,o),c.services.resourceStore=c.store}return c.translator=new dg(c.services,o),c.translator.on("*",(h,...p)=>{c.emit(h,...p)}),c.init(o,t),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const sr=Ch.createInstance();sr.createInstance=Ch.createInstance;sr.createInstance;sr.dir;sr.init;sr.loadResources;sr.reloadResources;sr.use;sr.changeLanguage;sr.getFixedT;sr.t;sr.exists;sr.setDefaultNamespace;sr.hasLoadedNamespace;sr.loadNamespaces;sr.loadLanguages;const XP=(n,e,t,r)=>{var c,u,h,p;const o=[t,{code:e,...r||{}}];if((u=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&u.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);ql(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(p=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&p.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Bw={},a0=(n,e,t,r)=>{ql(t)&&Bw[t]||(ql(t)&&(Bw[t]=new Date),XP(n,e,t,r))},Vb=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},l0=(n,e,t)=>{n.loadNamespaces(e,Vb(n,t))},Ww=(n,e,t,r)=>{if(ql(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return l0(n,t,r);t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,Vb(n,r))},QP=(n,e,t={})=>!e.languages||!e.languages.length?(a0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,n))return!1}}),ql=n=>typeof n=="string",ZP=n=>typeof n=="object"&&n!==null,eR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,tR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},nR=n=>tR[n],rR=n=>n.replace(eR,nR);let c0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:rR};const sR=(n={})=>{c0={...c0,...n}},oR=()=>c0;let Gb;const iR=n=>{Gb=n},aR=()=>Gb,lR={type:"3rdParty",init(n){sR(n.options.react),iR(n)}},cR=w.createContext();class uR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const dR=(n,e)=>{const t=w.useRef();return w.useEffect(()=>{t.current=n},[n,e]),t.current},qb=(n,e,t,r)=>n.getFixedT(e,t,r),fR=(n,e,t,r)=>w.useCallback(qb(n,e,t,r),[n,e,t,r]),hR=(n,e={})=>{var O,I,L,z;const{i18n:t}=e,{i18n:r,defaultNS:o}=w.useContext(cR)||{},c=t||r||aR();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new uR),!c){a0(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const F=(X,re)=>ql(re)?re:ZP(re)&&ql(re.defaultValue)?re.defaultValue:Array.isArray(X)?X[X.length-1]:X,q=[F,{},!1];return q.t=F,q.i18n={},q.ready=!1,q}(O=c.options.react)!=null&&O.wait&&a0(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...oR(),...c.options.react,...e},{useSuspense:h,keyPrefix:p}=u;let g=n||o||((I=c.options)==null?void 0:I.defaultNS);g=ql(g)?[g]:g||["translation"],(z=(L=c.reportNamespaces).addUsedNamespaces)==null||z.call(L,g);const x=(c.isInitialized||c.initializedStoreOnce)&&g.every(F=>QP(F,c,u)),y=fR(c,e.lng||null,u.nsMode==="fallback"?g:g[0],p),b=()=>y,C=()=>qb(c,e.lng||null,u.nsMode==="fallback"?g:g[0],p),[E,P]=w.useState(b);let N=g.join();e.lng&&(N=`${e.lng}${N}`);const R=dR(N),k=w.useRef(!0);w.useEffect(()=>{const{bindI18n:F,bindI18nStore:q}=u;k.current=!0,!x&&!h&&(e.lng?Ww(c,e.lng,g,()=>{k.current&&P(C)}):l0(c,g,()=>{k.current&&P(C)})),x&&R&&R!==N&&k.current&&P(C);const X=()=>{k.current&&P(C)};return F&&(c==null||c.on(F,X)),q&&(c==null||c.store.on(q,X)),()=>{k.current=!1,c&&F&&(F==null||F.split(" ").forEach(re=>c.off(re,X))),q&&c&&q.split(" ").forEach(re=>c.store.off(re,X))}},[c,N]),w.useEffect(()=>{k.current&&x&&P(b)},[c,p,x]);const T=[E,c,x];if(T.t=E,T.i18n=c,T.ready=x,x||!x&&!h)return T;throw new Promise(F=>{e.lng?Ww(c,e.lng,g,()=>F()):l0(c,g,()=>F())})},{slice:pR,forEach:mR}=[];function gR(n){return mR.call(pR.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function vR(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const Hw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,xR=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let c=`${n}=${o}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!Hw.test(r.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${r.domain}`}if(r.path){if(!Hw.test(r.path))throw new TypeError("option path is invalid");c+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(c+="; Partitioned"),c},Vw={create(n,e,t,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),r&&(o.domain=r),document.cookie=xR(n,e,o)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let o=t[r];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var yR={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Vw.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:o,cookieOptions:c}=e;t&&typeof document<"u"&&Vw.create(t,n,r,o,c)}},wR={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const u=o.substring(1).split("&");for(let h=0;h<u.length;h++){const p=u[h].indexOf("=");p>0&&u[h].substring(0,p)===e&&(t=u[h].substring(p+1))}}return t}},_R={name:"hash",lookup(n){var o;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const u=c.substring(1);if(e){const h=u.split("&");for(let p=0;p<h.length;p++){const g=h[p].indexOf("=");g>0&&h[p].substring(0,g)===e&&(r=h[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(o=h[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}}}return r}};let Fu=null;const Gw=()=>{if(Fu!==null)return Fu;try{if(Fu=typeof window<"u"&&window.localStorage!==null,!Fu)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Fu=!1}return Fu};var bR={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Gw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Gw()&&window.localStorage.setItem(t,n)}};let zu=null;const qw=()=>{if(zu!==null)return zu;try{if(zu=typeof window<"u"&&window.sessionStorage!==null,!zu)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{zu=!1}return zu};var SR={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&qw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&qw()&&window.sessionStorage.setItem(t,n)}},jR={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:o}=navigator;if(t)for(let c=0;c<t.length;c++)e.push(t[c]);r&&e.push(r),o&&e.push(o)}return e.length>0?e:void 0}},NR={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},kR={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},CR={name:"subdomain",lookup(n){var o,c;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((c=(o=window.location)==null?void 0:o.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let Kb=!1;try{document.cookie,Kb=!0}catch{}const Yb=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Kb||Yb.splice(1,1);const ER=()=>({order:Yb,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class Jb{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=gR(t,this.options||{},ER()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(yR),this.addDetector(wR),this.addDetector(bR),this.addDetector(SR),this.addDetector(jR),this.addDetector(NR),this.addDetector(kR),this.addDetector(CR),this.addDetector(_R)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let o=this.detectors[r].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(r=>r!=null&&!vR(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Jb.type="languageDetector";const PR={en:{common:{app:{name:"Hotel PMS",tagline:"Professional Property Management System"},navigation:{dashboard:"Dashboard",bookings:"Bookings",calendar:"Calendar",rooms:"Rooms",guests:"Guests",chat:"Messages",channels:"Channel Manager",reports:"Reports",settings:"Settings"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",export:"Export",import:"Import",sync:"Synchronize",connect:"Connect",disconnect:"Disconnect",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",select:"Select",signOut:"Sign Out"}},dashboard:{title:"Booking Calendar",subtitle:"Manage your reservations",navigation:{previousMonth:"Previous month",nextMonth:"Next month",today:"Today"},actions:{newReservation:"New reservation",signOut:"Sign out"},grid:{rooms:"Rooms",loading:"Loading calendar...",noData:"No rooms available",dragToSelect:"Drag to select dates"},errors:{loadingBookings:"Error loading bookings",loadingData:"Error loading data"}},bookings:{title:"Bookings",search:{placeholder:"Search by guest name..."},filter:{allStatuses:"All statuses",byStatus:"Filter by status"},status:{confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",checked_in:"Checked In",checked_out:"Checked Out"},table:{guest:"Guest",source:"Source",room:"Room",dates:"Dates",status:"Status",accommodation:"Accommodation",services:"Services",paid:"Paid",balance:"Balance",noResults:"No bookings found",unknownGuest:"Unknown Guest"},actions:{newBooking:"New Booking",edit:"Edit",cancel:"Cancel",checkIn:"Check In",checkOut:"Check Out"}},auth:{appName:"Hotel PMS",subtitle:"Staff access portal",tabs:{signIn:"Sign In",signUp:"Sign Up"},fields:{email:"Email",password:"Password"},placeholders:{email:"Enter your email",password:"Enter your password",passwordHint:"Minimum 6 characters"},buttons:{signIn:"Sign In",signUp:"Sign Up",signingIn:"Signing in...",signingUp:"Creating account...",signInWithGoogle:"Sign in with Google"},divider:"OR",messages:{checkEmail:"Check your email to confirm registration!"},errors:{invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please confirm your email first",signInFailed:"Sign in failed. Please try again.",signUpFailed:"Registration failed. Please try again.",googleSignIn:"Google sign in failed",passwordTooShort:"Password must be at least 6 characters",emailAlreadyRegistered:"This email is already registered"}},chat:{title:"Messages",header:"Chats",search:{placeholder:"Search messages..."},conversation:{selectChat:"Select a chat",selectChatDescription:"Choose a chat from the list to view the conversation",noMessages:"No messages yet",typeMessage:"Type a message...",send:"Send",unknownContact:"Unknown contact"}},booking:{grid:{rooms:"Rooms",loading:"Loading calendar...",guest:"Guest",hasDebt:"Has outstanding balance"},title:"New Reservation",editTitle:"Edit Booking",tabs:{details:"Details & Finance",services:"Services"},guest:{title:"Guest Information",fullName:"Full Name",phone:"Phone",email:"Email"},details:{title:"Booking Details",room:"Room",selectRoom:"Select room...",noAvailableRooms:"No available rooms for these dates",checkIn:"Check-in",checkOut:"Check-out",guestCount:"Number of Guests",status:"Status",source:"Source",notes:"Notes",notesPlaceholder:"Additional notes..."},finance:{title:"Finance",accommodation:"Accommodation ({{nights}} nights)",orderedServices:"Ordered Services:",noServices:"None",total:"Total",paid:"Paid",balance:"Balance Due"},services:{available:"Available Services",cart:"Service Cart",ordered:"Ordered Services",addToCart:"Add",cartEmpty:"Cart is empty",noOrdered:"No services added",addSelected:"Add Selected Services"},actions:{save:"Save",cancel:"Cancel",delete:"Delete Booking",saving:"Saving..."},status:{pending:"Pending",confirmed:"Confirmed",checkedIn:"Checked In",checkedOut:"Checked Out",cancelled:"Cancelled"},sources:{direct:"Direct",website:"Website",phone:"Phone",aiAgent:"AI Agent",other:"Other"},errors:{guestNameRequired:"Guest name is required"},messages:{confirmDelete:"Are you sure you want to delete this booking? This action cannot be undone."},popover:{unknownGuest:"Unknown Guest",stayPeriod:"Stay Period",duration:"Duration",guestCount:"Number of Guests",comment:"Comment",additionalServices:"Additional Services",accommodation:"Accommodation",services:"Services",total:"Total",toPay:"To Pay",paidFully:"Paid in Full",alreadyPaid:"Already Paid"},roomTypes:{single:"Single",double:"Double",twin:"Twin",suite:"Suite",deluxe:"Deluxe",standard:"Standard",economy:"Economy",family:"Family"}}},ru:{common:{app:{name:"Отель PMS",tagline:"Профессиональная система управления недвижимостью"},navigation:{dashboard:"Главная",bookings:"Бронирования",calendar:"Календарь",rooms:"Номера",guests:"Гости",chat:"Сообщения",channels:"Каналы продаж",reports:"Отчеты",settings:"Настройки"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",create:"Создать",search:"Поиск",filter:"Фильтр",export:"Экспорт",import:"Импорт",sync:"Синхронизировать",connect:"Подключить",disconnect:"Отключить",refresh:"Обновить",back:"Назад",next:"Далее",previous:"Назад",close:"Закрыть",confirm:"Подтвердить",select:"Выбрать",signOut:"Выйти"}},dashboard:{title:"Календарь бронирований",subtitle:"Управление бронированиями",navigation:{previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",today:"Сегодня"},actions:{newReservation:"Новое бронирование",signOut:"Выйти"},grid:{rooms:"Номера",loading:"Загрузка календаря...",noData:"Нет доступных номеров",dragToSelect:"Перетащите для выбора дат"},errors:{loadingBookings:"Ошибка загрузки бронирований",loadingData:"Ошибка загрузки данных"}},bookings:{title:"Бронирования",search:{placeholder:"Поиск по имени гостя..."},filter:{allStatuses:"Все статусы",byStatus:"Фильтр по статусу"},status:{confirmed:"Подтверждено",pending:"Не подтверждено",cancelled:"Отменено",checked_in:"Проживание",checked_out:"Выехал"},table:{guest:"Гость",source:"Источник",room:"Номер",dates:"Даты",status:"Статус",accommodation:"Проживание",services:"Услуги",paid:"Оплачено",balance:"К оплате",noResults:"Бронирования не найдены",unknownGuest:"Неизвестный гость"},actions:{newBooking:"Новая бронь",edit:"Редактировать",cancel:"Отменить",checkIn:"Заселить",checkOut:"Выселить"}},auth:{appName:"Отель PMS",subtitle:"Вход для персонала",tabs:{signIn:"Войти",signUp:"Регистрация"},fields:{email:"Email",password:"Пароль"},placeholders:{email:"Введите email",password:"Введите пароль",passwordHint:"Минимум 6 символов"},buttons:{signIn:"Войти",signUp:"Зарегистрироваться",signingIn:"Вход...",signingUp:"Создание аккаунта...",signInWithGoogle:"Войти через Google"},divider:"ИЛИ",messages:{checkEmail:"Проверьте вашу почту для подтверждения регистрации!"},errors:{invalidCredentials:"Неверный email или пароль",emailNotConfirmed:"Пожалуйста, подтвердите email",signInFailed:"Ошибка входа. Попробуйте снова.",signUpFailed:"Ошибка регистрации. Попробуйте снова.",googleSignIn:"Ошибка входа через Google",passwordTooShort:"Пароль должен быть минимум 6 символов",emailAlreadyRegistered:"Этот email уже зарегистрирован"}},chat:{title:"Сообщения",header:"Чаты",search:{placeholder:"Поиск по сообщениям..."},conversation:{selectChat:"Выберите диалог",selectChatDescription:"Выберите чат из списка слева, чтобы начать общение",noMessages:"Сообщений пока нет",typeMessage:"Введите сообщение...",send:"Отправить",unknownContact:"Неизвестный контакт"}},grid:{rooms:"Номера",loading:"Загрузка календаря...",guest:"Гость",hasDebt:"Есть задолженность"},title:"Новое бронирование",editTitle:"Редактирование брони",tabs:{details:"Детали и Финансы",services:"Услуги"},guest:{title:"Информация о госте",fullName:"ФИО",phone:"Телефон",email:"Email"},details:{title:"Детали бронирования",room:"Номер",selectRoom:"Выберите номер...",noAvailableRooms:"Свободных номеров на эти даты нет",checkIn:"Заезд",checkOut:"Выезд",guestCount:"Кол-во гостей",status:"Статус",source:"Источник",notes:"Комментарий",notesPlaceholder:"Дополнительные заметки..."},finance:{title:"Финансы",accommodation:"Проживание ({{nights}} дн.)",orderedServices:"Заказанные услуги:",noServices:"Нет",total:"Итого",paid:"Оплачено",balance:"К оплате"},services:{available:"Доступные услуги",cart:"Корзина услуг",ordered:"Заказанные услуги",addToCart:"В корзину",cartEmpty:"Корзина пуста",noOrdered:"Услуги не добавлены",addSelected:"Добавить выбранные услуги"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить бронь",saving:"Сохранение..."},status:{pending:"Не подтверждено",confirmed:"Подтверждено",checkedIn:"Проживание",checkedOut:"Выезд",cancelled:"Отменено"},sources:{direct:"Напрямую",website:"Сайт",phone:"Телефон",aiAgent:"AI-агент",other:"Другое"},errors:{guestNameRequired:"Необходимо указать имя гостя"},messages:{confirmDelete:"Вы уверены, что хотите удалить это бронирование? Это действие нельзя отменить."},popover:{unknownGuest:"Неизвестный гость",stayPeriod:"Период проживания",duration:"Длительность",guestCount:"Количество гостей",comment:"Комментарий",additionalServices:"Дополнительные услуги",accommodation:"Проживание",services:"Услуги",total:"Итого",toPay:"К оплате",paidFully:"Оплачено полностью",alreadyPaid:"Уже оплачено"},roomTypes:{single:"Одноместный",double:"Двухместный",twin:"Твин",suite:"Люкс",deluxe:"Делюкс",standard:"Стандарт",economy:"Эконом",family:"Семейный"}}};sr.use(Jb).use(lR).init({resources:PR,lng:"en",fallbackLng:"en",ns:["common","dashboard","bookings","auth","chat"],defaultNS:"common",interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie","navigator"],caches:["localStorage","cookie"],cookieName:"pms_language",lookupLocalStorage:"pms_language"},react:{useSuspense:!1},debug:!0});function Zr(n="common"){const{t:e,i18n:t}=hR(n);return{t:e,i18n:t,formatDate:(u,h="short")=>new Intl.DateTimeFormat(t.language,{dateStyle:h}).format(new Date(u)),formatCurrency:(u,h="USD")=>new Intl.NumberFormat(t.language,{style:"currency",currency:h}).format(u),formatNumber:u=>new Intl.NumberFormat(t.language).format(u),currentLanguage:t.language,changeLanguage:t.changeLanguage}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Kw="popstate";function RR(n={}){function e(r,o){let{pathname:c,search:u,hash:h}=r.location;return u0("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Eh(o)}return AR(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function TR(){return Math.random().toString(36).substring(2,10)}function Yw(n,e){return{usr:n.state,key:n.key,idx:e}}function u0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?gd(e):e,state:t,key:e&&e.key||r||TR()}}function Eh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function gd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function AR(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",p=null,g=x();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function x(){return(u.state||{idx:null}).idx}function y(){h="POP";let N=x(),R=N==null?null:N-g;g=N,p&&p({action:h,location:P.location,delta:R})}function b(N,R){h="PUSH";let k=u0(P.location,N,R);g=x()+1;let T=Yw(k,g),O=P.createHref(k);try{u.pushState(T,"",O)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(O)}c&&p&&p({action:h,location:P.location,delta:1})}function C(N,R){h="REPLACE";let k=u0(P.location,N,R);g=x();let T=Yw(k,g),O=P.createHref(k);u.replaceState(T,"",O),c&&p&&p({action:h,location:P.location,delta:0})}function E(N){return IR(N)}let P={get action(){return h},get location(){return n(o,u)},listen(N){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Kw,y),p=N,()=>{o.removeEventListener(Kw,y),p=null}},createHref(N){return e(o,N)},createURL:E,encodeLocation(N){let R=E(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:C,go(N){return u.go(N)}};return P}function IR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Eh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function Xb(n,e,t="/"){return OR(n,e,t,!1)}function OR(n,e,t,r){let o=typeof e=="string"?gd(e):e,c=Ti(o.pathname||"/",t);if(c==null)return null;let u=Qb(n);MR(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=GR(c);h=HR(u[p],g,r)}return h}function Qb(n,e=[],t=[],r=""){let o=(c,u,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};p.relativePath.startsWith("/")&&(Zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=Ri([r,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),Qb(c.children,e,x,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:BR(g,c.index),routesMeta:x})};return n.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,u);else for(let p of Zb(c.path))o(c,u,p)}),e}function Zb(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=Zb(r.join("/")),h=[];return h.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...u),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function MR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:WR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var DR=/^:[\w-]+$/,LR=3,$R=2,FR=1,zR=10,UR=-2,Jw=n=>n==="*";function BR(n,e){let t=n.split("/"),r=t.length;return t.some(Jw)&&(r+=UR),e&&(r+=$R),t.filter(o=>!Jw(o)).reduce((o,c)=>o+(DR.test(c)?LR:c===""?FR:zR),r)}function WR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function HR(n,e,t=!1){let{routesMeta:r}=n,o={},c="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=fg({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),b=p.route;if(!y&&g&&t&&!r[r.length-1].route.index&&(y=fg({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Ri([c,y.pathname]),pathnameBase:JR(Ri([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Ri([c,y.pathnameBase]))}return u}function fg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=VR(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:y},b)=>{if(x==="*"){let E=h[b]||"";u=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const C=h[b];return y&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:n}}function VR(n,e=!1,t=!0){Mo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function GR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ti(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function qR(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?gd(n):n;return{pathname:t?t.startsWith("/")?t:KR(t,e):e,search:XR(r),hash:QR(o)}}function KR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Ex(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function e1(n){let e=YR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function t1(n,e,t,r=!1){let o;typeof n=="string"?o=gd(n):(o={...n},Zt(!o.pathname||!o.pathname.includes("?"),Ex("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),Ex("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),Ex("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}h=y>=0?e[y]:"/"}let p=qR(o,h),g=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var Ri=n=>n.join("/").replace(/\/\/+/g,"/"),JR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),XR=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,QR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function ZR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var n1=["POST","PUT","PATCH","DELETE"];new Set(n1);var eT=["GET",...n1];new Set(eT);var vd=w.createContext(null);vd.displayName="DataRouter";var Og=w.createContext(null);Og.displayName="DataRouterState";w.createContext(!1);var r1=w.createContext({isTransitioning:!1});r1.displayName="ViewTransition";var tT=w.createContext(new Map);tT.displayName="Fetchers";var nT=w.createContext(null);nT.displayName="Await";var $o=w.createContext(null);$o.displayName="Navigation";var $h=w.createContext(null);$h.displayName="Location";var Di=w.createContext({outlet:null,matches:[],isDataRoute:!1});Di.displayName="Route";var q0=w.createContext(null);q0.displayName="RouteError";function rT(n,{relative:e}={}){Zt(Fh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext($o),{hash:o,pathname:c,search:u}=zh(n,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:Ri([t,c])),r.createHref({pathname:h,search:u,hash:o})}function Fh(){return w.useContext($h)!=null}function Ia(){return Zt(Fh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext($h).location}var s1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function o1(n){w.useContext($o).static||w.useLayoutEffect(n)}function i1(){let{isDataRoute:n}=w.useContext(Di);return n?gT():sT()}function sT(){Zt(Fh(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(vd),{basename:e,navigator:t}=w.useContext($o),{matches:r}=w.useContext(Di),{pathname:o}=Ia(),c=JSON.stringify(e1(r)),u=w.useRef(!1);return o1(()=>{u.current=!0}),w.useCallback((p,g={})=>{if(Mo(u.current,s1),!u.current)return;if(typeof p=="number"){t.go(p);return}let x=t1(p,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:Ri([e,x.pathname])),(g.replace?t.replace:t.push)(x,g.state,g)},[e,t,c,o,n])}w.createContext(null);function zh(n,{relative:e}={}){let{matches:t}=w.useContext(Di),{pathname:r}=Ia(),o=JSON.stringify(e1(t));return w.useMemo(()=>t1(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function oT(n,e){return a1(n,e)}function a1(n,e,t,r){var R;Zt(Fh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext($o),{matches:c}=w.useContext(Di),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",x=u&&u.route;{let k=x&&x.path||"";l1(p,!x||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=Ia(),b;if(e){let k=typeof e=="string"?gd(e):e;Zt(g==="/"||((R=k.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=y;let C=b.pathname||"/",E=C;if(g!=="/"){let k=g.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=Xb(n,{pathname:E});Mo(x||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Mo(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=uT(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Ri([g,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?g:Ri([g,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,t,r);return e&&N?w.createElement($h.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function iT(){let n=mT(),e=ZR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,u)}var aT=w.createElement(iT,null),lT=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Di.Provider,{value:this.props.routeContext},w.createElement(q0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function cT({routeContext:n,match:e,children:t}){let r=w.useContext(vd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Di.Provider,{value:n},t)}function uT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:y}=t,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let y,b=!1,C=null,E=null;t&&(y=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||aT,u&&(h<0&&x===0?(l1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):h===x&&(b=!0,E=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,x+1)),N=()=>{let R;return y?R=C:b?R=E:g.route.Component?R=w.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,w.createElement(cT,{match:g,routeContext:{outlet:p,matches:P,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(lT,{location:t.location,revalidation:t.revalidation,component:C,error:y,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function K0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dT(n){let e=w.useContext(vd);return Zt(e,K0(n)),e}function fT(n){let e=w.useContext(Og);return Zt(e,K0(n)),e}function hT(n){let e=w.useContext(Di);return Zt(e,K0(n)),e}function Y0(n){let e=hT(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function pT(){return Y0("useRouteId")}function mT(){var r;let n=w.useContext(q0),e=fT("useRouteError"),t=Y0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function gT(){let{router:n}=dT("useNavigate"),e=Y0("useNavigate"),t=w.useRef(!1);return o1(()=>{t.current=!0}),w.useCallback(async(o,c={})=>{Mo(t.current,s1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Xw={};function l1(n,e,t){!e&&!Xw[n]&&(Xw[n]=!0,Mo(!1,t))}w.memo(vT);function vT({routes:n,future:e,state:t}){return a1(n,void 0,t,e)}function Gn(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Zt(!Fh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=gd(t));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:b="default"}=t,C=w.useMemo(()=>{let E=Ti(p,u);return E==null?null:{location:{pathname:E,search:g,hash:x,state:y,key:b},navigationType:r}},[u,p,g,x,y,b,r]);return Mo(C!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement($o.Provider,{value:h},w.createElement($h.Provider,{children:e,value:C}))}function yT({children:n,location:e}){return oT(d0(n),e)}function d0(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let c=[...e,o];if(r.type===w.Fragment){t.push.apply(t,d0(r.props.children,c));return}Zt(r.type===Gn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=d0(r.props.children,c)),t.push(u)}),t}var Zm="get",eg="application/x-www-form-urlencoded";function Mg(n){return n!=null&&typeof n.tagName=="string"}function wT(n){return Mg(n)&&n.tagName.toLowerCase()==="button"}function _T(n){return Mg(n)&&n.tagName.toLowerCase()==="form"}function bT(n){return Mg(n)&&n.tagName.toLowerCase()==="input"}function ST(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jT(n,e){return n.button===0&&(!e||e==="_self")&&!ST(n)}var Dm=null;function NT(){if(Dm===null)try{new FormData(document.createElement("form"),0),Dm=!1}catch{Dm=!0}return Dm}var kT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Px(n){return n!=null&&!kT.has(n)?(Mo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eg}"`),null):n}function CT(n,e){let t,r,o,c,u;if(_T(n)){let h=n.getAttribute("action");r=h?Ti(h,e):null,t=n.getAttribute("method")||Zm,o=Px(n.getAttribute("enctype"))||eg,c=new FormData(n)}else if(wT(n)||bT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?Ti(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Zm,o=Px(n.getAttribute("formenctype"))||Px(h.getAttribute("enctype"))||eg,c=new FormData(h,n),!NT()){let{name:g,type:x,value:y}=n;if(x==="image"){let b=g?`${g}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else g&&c.append(g,y)}}else{if(Mg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Zm,r=null,o=eg,u=n}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function J0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function ET(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ti(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function PT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function RT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function TT(n,e,t){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await PT(c,t);return u.links?u.links():[]}return[]}));return MT(r.flat(1).filter(RT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Qw(n,e,t,r,o,c){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>{var x;return t[g].pathname!==p.pathname||((x=t[g].route.path)==null?void 0:x.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>u(p,g)||h(p,g)):c==="data"?e.filter((p,g)=>{var y;let x=r.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function AT(n,e,{includeHydrateFallback:t}={}){return IT(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function IT(n){return[...new Set(n)]}function OT(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function MT(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(OT(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function c1(){let n=w.useContext(vd);return J0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function DT(){let n=w.useContext(Og);return J0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var X0=w.createContext(void 0);X0.displayName="FrameworkContext";function u1(){let n=w.useContext(X0);return J0(n,"You must render this element inside a <HydratedRouter> element"),n}function LT(n,e){let t=w.useContext(X0),[r,o]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=R=>{R.forEach(k=>{u(k.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let C=()=>{o(!0)},E=()=>{o(!1),u(!1)};return t?n!=="intent"?[c,b,{}]:[c,b,{onFocus:oh(h,C),onBlur:oh(p,E),onMouseEnter:oh(g,C),onMouseLeave:oh(x,E),onTouchStart:oh(y,C)}]:[!1,b,{}]}function oh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function $T({page:n,...e}){let{router:t}=c1(),r=w.useMemo(()=>Xb(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(zT,{page:n,matches:r,...e}):null}function FT(n){let{manifest:e,routeModules:t}=u1(),[r,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return TT(n,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[n,e,t]),r}function zT({page:n,matches:e,...t}){let r=Ia(),{manifest:o,routeModules:c}=u1(),{basename:u}=c1(),{loaderData:h,matches:p}=DT(),g=w.useMemo(()=>Qw(n,e,p,o,r,"data"),[n,e,p,o,r]),x=w.useMemo(()=>Qw(n,e,p,o,r,"assets"),[n,e,p,o,r]),y=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,P=!1;if(e.forEach(R=>{var T;let k=o.routes[R.route.id];!k||!k.hasLoader||(!g.some(O=>O.route.id===R.route.id)&&R.route.id in h&&((T=c[R.route.id])!=null&&T.shouldRevalidate)||k.hasClientLoader?P=!0:E.add(R.route.id))}),E.size===0)return[];let N=ET(n,u,"data");return P&&E.size>0&&N.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[u,h,r,o,g,e,n,c]),b=w.useMemo(()=>AT(x,o),[x,o]),C=FT(x);return w.createElement(w.Fragment,null,y.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),C.map(({key:E,link:P})=>w.createElement("link",{key:E,...P})))}function UT(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var d1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{d1&&(window.__reactRouterVersion="7.7.1")}catch{}function BT({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=RR({window:t,v5Compat:!0}));let o=r.current,[c,u]=w.useState({action:o.action,location:o.location}),h=w.useCallback(p=>{w.startTransition(()=>u(p))},[u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(xT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var f1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,h1=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:p,to:g,preventScrollReset:x,viewTransition:y,...b},C){let{basename:E}=w.useContext($o),P=typeof g=="string"&&f1.test(g),N,R=!1;if(typeof g=="string"&&P&&(N=g,d1))try{let q=new URL(window.location.href),X=g.startsWith("//")?new URL(q.protocol+g):new URL(g),re=Ti(X.pathname,E);X.origin===q.origin&&re!=null?g=re+X.search+X.hash:R=!0}catch{Mo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=rT(g,{relative:o}),[T,O,I]=LT(r,b),L=GT(g,{replace:u,state:h,target:p,preventScrollReset:x,relative:o,viewTransition:y});function z(q){e&&e(q),q.defaultPrevented||L(q)}let F=w.createElement("a",{...b,...I,href:N||k,onClick:R||c?e:z,ref:UT(C,O),target:p,"data-discover":!P&&t==="render"?"true":void 0});return T&&!P?w.createElement(w.Fragment,null,F,w.createElement($T,{page:k})):F});h1.displayName="Link";var WT=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:p,...g},x){let y=zh(u,{relative:g.relative}),b=Ia(),C=w.useContext(Og),{navigator:E,basename:P}=w.useContext($o),N=C!=null&&XT(y)&&h===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,k=b.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(k=k.toLowerCase(),T=T?T.toLowerCase():null,R=R.toLowerCase()),T&&P&&(T=Ti(T,P)||T);const O=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let I=k===R||!o&&k.startsWith(R)&&k.charAt(O)==="/",L=T!=null&&(T===R||!o&&T.startsWith(R)&&T.charAt(R.length)==="/"),z={isActive:I,isPending:L,isTransitioning:N},F=I?e:void 0,q;typeof r=="function"?q=r(z):q=[r,I?"active":null,L?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(z):c;return w.createElement(h1,{...g,"aria-current":F,className:q,ref:x,style:X,to:u,viewTransition:h},typeof p=="function"?p(z):p)});WT.displayName="NavLink";var HT=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:u=Zm,action:h,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...b},C)=>{let E=YT(),P=JT(h,{relative:g}),N=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&f1.test(h),k=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let O=T.nativeEvent.submitter,I=(O==null?void 0:O.getAttribute("formmethod"))||u;E(O||T.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:y})};return w.createElement("form",{ref:C,method:N,action:P,onSubmit:r?p:k,...b,"data-discover":!R&&n==="render"?"true":void 0})});HT.displayName="Form";function VT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function p1(n){let e=w.useContext(vd);return Zt(e,VT(n)),e}function GT(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let h=i1(),p=Ia(),g=zh(n,{relative:c});return w.useCallback(x=>{if(jT(x,e)){x.preventDefault();let y=t!==void 0?t:Eh(p)===Eh(g);h(n,{replace:y,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[p,h,g,t,r,e,n,o,c,u])}var qT=0,KT=()=>`__${String(++qT)}__`;function YT(){let{router:n}=p1("useSubmit"),{basename:e}=w.useContext($o),t=pT();return w.useCallback(async(r,o={})=>{let{action:c,method:u,encType:h,formData:p,body:g}=CT(r,e);if(o.navigate===!1){let x=o.fetcherKey||KT();await n.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function JT(n,{relative:e}={}){let{basename:t}=w.useContext($o),r=w.useContext(Di);Zt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...zh(n||".",{relative:e})},u=Ia();if(n==null){c.search=u.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(x=>x==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let x=h.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Ri([t,c.pathname])),Eh(c)}function XT(n,{relative:e}={}){let t=w.useContext(r1);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=p1("useViewTransitionState"),o=zh(n,{relative:e});if(!t.isTransitioning)return!1;let c=Ti(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ti(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fg(o.pathname,u)!=null||fg(o.pathname,c)!=null}var Uh=Bb();const QT=Tg(Uh),ZT="modulepreload",eA=function(n){return"/"+n},Zw={},oc=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let u=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(t.map(g=>{if(g=eA(g),g in Zw)return;Zw[g]=!0;const x=g.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":ZT,x||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),x)return new Promise((C,E)=>{b.addEventListener("load",C),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},tA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Q0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class nA extends Q0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class e_ extends Q0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class t_ extends Q0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var f0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(f0||(f0={}));var rA=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class sA{constructor(e,{headers:t={},customFetch:r,region:o=f0.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=tA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return rA(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=t;let h={},{region:p}=t;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)));const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x}).catch(P=>{throw new nA(P)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new e_(y);if(!y.ok)throw new t_(y);let C=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield y.json():C==="application/octet-stream"?E=yield y.blob():C==="text/event-stream"?E=y:C==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof t_||o instanceof e_?o.context:void 0}}})}}var Dn={},Uu={},Bu={},Wu={},Hu={},Vu={},oA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},hd=oA();const iA=hd.fetch,m1=hd.fetch.bind(hd),g1=hd.Headers,aA=hd.Request,lA=hd.Response,xd=Object.freeze(Object.defineProperty({__proto__:null,Headers:g1,Request:aA,Response:lA,default:m1,fetch:iA},Symbol.toStringTag,{value:"Module"})),cA=bP(xd);var Lm={},n_;function v1(){if(n_)return Lm;n_=1,Object.defineProperty(Lm,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Lm.default=n,Lm}var r_;function x1(){if(r_)return Vu;r_=1;var n=Vu&&Vu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Vu,"__esModule",{value:!0});const e=n(cA),t=n(v1());class r{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,b;let C=null,E=null,P=null,N=g.status,R=g.statusText;if(g.ok){if(this.method!=="HEAD"){const I=await g.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=I:E=JSON.parse(I))}const T=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),O=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&O&&O.length>1&&(P=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,P=null,N=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const T=await g.text();try{C=JSON.parse(T),Array.isArray(C)&&g.status===404&&(E=[],C=null,N=200,R="OK")}catch{g.status===404&&T===""?(N=204,R="No Content"):C={message:T}}if(C&&this.isMaybeSingle&&(!((b=C==null?void 0:C.details)===null||b===void 0)&&b.includes("0 rows"))&&(C=null,N=200,R="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:E,count:P,status:N,statusText:R}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,y,b;return{error:{message:`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(y=g==null?void 0:g.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=g==null?void 0:g.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return Vu.default=r,Vu}var s_;function y1(){if(s_)return Hu;s_=1;var n=Hu&&Hu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hu,"__esModule",{value:!0});const e=n(x1());class t extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var x;const y=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${b}"; options=${y};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Hu.default=t,Hu}var o_;function Z0(){if(o_)return Wu;o_=1;var n=Wu&&Wu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Wu,"__esModule",{value:!0});const e=n(y1());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Wu.default=t,Wu}var i_;function w1(){if(i_)return Bu;i_=1;var n=Bu&&Bu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bu,"__esModule",{value:!0});const e=n(Z0());class t{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),u||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const g=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){const g="POST",x=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const y=o.reduce((b,C)=>b.concat(Object.keys(C)),[]);if(y.length>0){const b=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Bu.default=t,Bu}var ih={},ah={},a_;function uA(){return a_||(a_=1,Object.defineProperty(ah,"__esModule",{value:!0}),ah.version=void 0,ah.version="0.0.0-automated"),ah}var l_;function dA(){if(l_)return ih;l_=1,Object.defineProperty(ih,"__esModule",{value:!0}),ih.DEFAULT_HEADERS=void 0;const n=uA();return ih.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},ih}var c_;function fA(){if(c_)return Uu;c_=1;var n=Uu&&Uu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Uu,"__esModule",{value:!0});const e=n(w1()),t=n(Z0()),r=dA();class o{constructor(u,{headers:h={},schema:p,fetch:g}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=g}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:p=!1,get:g=!1,count:x}={}){let y;const b=new URL(`${this.url}/rpc/${u}`);let C;p||g?(y=p?"HEAD":"GET",Object.entries(h).filter(([P,N])=>N!==void 0).map(([P,N])=>[P,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([P,N])=>{b.searchParams.append(P,N)})):(y="POST",C=h);const E=Object.assign({},this.headers);return x&&(E.Prefer=`count=${x}`),new t.default({method:y,url:b,headers:E,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Uu.default=o,Uu}var u_;function hA(){if(u_)return Dn;u_=1;var n=Dn&&Dn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Dn,"__esModule",{value:!0}),Dn.PostgrestError=Dn.PostgrestBuilder=Dn.PostgrestTransformBuilder=Dn.PostgrestFilterBuilder=Dn.PostgrestQueryBuilder=Dn.PostgrestClient=void 0;const e=n(fA());Dn.PostgrestClient=e.default;const t=n(w1());Dn.PostgrestQueryBuilder=t.default;const r=n(Z0());Dn.PostgrestFilterBuilder=r.default;const o=n(y1());Dn.PostgrestTransformBuilder=o.default;const c=n(x1());Dn.PostgrestBuilder=c.default;const u=n(v1());return Dn.PostgrestError=u.default,Dn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},Dn}var pA=hA();const mA=Tg(pA),{PostgrestClient:gA,PostgrestQueryBuilder:Zz,PostgrestFilterBuilder:eU,PostgrestTransformBuilder:tU,PostgrestBuilder:nU,PostgrestError:rU}=mA;function vA(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const xA=vA(),yA="2.11.15",wA=`realtime-js/${yA}`,_A="1.0.0",_1=1e4,bA=1e3;var yh;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(yh||(yh={}));var rr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(rr||(rr={}));var Hs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Hs||(Hs={}));var h0;(function(n){n.websocket="websocket"})(h0||(h0={}));var Hl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Hl||(Hl={}));class SA{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),c=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const p=r.decode(e.slice(u,u+c));u=u+c;const g=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class b1{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ht||(Ht={}));const d_=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((c,u)=>(c[u]=jA(u,n,e,o),c),{})},jA=(n,e,t,r)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,u=t[n];return c&&!r.includes(c)?S1(c,u):p0(u)},S1=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return EA(e,t)}switch(n){case Ht.bool:return NA(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return kA(e);case Ht.json:case Ht.jsonb:return CA(e);case Ht.timestamp:return PA(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return p0(e);default:return p0(e)}},p0=n=>n,NA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},kA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},CA=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},EA=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,t);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>S1(e,h))}return n},PA=n=>typeof n=="string"?n.replace(" ","T"):n,j1=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Rx{constructor(e,t,r={},o=_1){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var f_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(f_||(f_={}));class wh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=wh.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=wh.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=wh.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const c=this.cloneDeep(e),u=this.transformState(t),h={},p={};return this.map(c,(g,x)=>{u[g]||(p[g]=x)}),this.map(u,(g,x)=>{const y=c[g];if(y){const b=x.map(N=>N.presence_ref),C=y.map(N=>N.presence_ref),E=x.filter(N=>C.indexOf(N.presence_ref)<0),P=y.filter(N=>b.indexOf(N.presence_ref)<0);E.length>0&&(h[g]=E),P.length>0&&(p[g]=P)}else h[g]=x}),this.syncDiff(c,{joins:h,leaves:p},r,o)}static syncDiff(e,t,r,o){const{joins:c,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(h,p)=>{var g;const x=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),x.length>0){const y=e[h].map(C=>C.presence_ref),b=x.filter(C=>y.indexOf(C.presence_ref)<0);e[h].unshift(...b)}r(h,x,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),e[h]=g,o(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var h_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(h_||(h_={}));var p_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(p_||(p_={}));var Ni;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Ni||(Ni={}));class ey{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=rr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Rx(this,Hs.join,this.params,this.timeout),this.rejoinTimer=new b1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=rr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=rr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=rr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hs.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new wh(this),this.broadcastEndpointURL=j1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==rr.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(x=>e==null?void 0:e(Ni.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(Ni.CLOSED));const p={},g={broadcast:c,presence:u,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(Ni.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,E=[];for(let P=0;P<C;P++){const N=b[P],{filter:{event:R,schema:k,table:T,filter:O}}=N,I=x&&x[P];if(I&&I.event===R&&I.schema===k&&I.table===T&&I.filter===O)E.push(Object.assign(Object.assign({},N),{id:I.id}));else{this.unsubscribe(),this.state=rr.errored,e==null||e(Ni.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Ni.SUBSCRIBED);return}}).receive("error",x=>{this.state=rr.errored,e==null||e(Ni.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Ni.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=rr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Rx(this,Hs.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),u}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Rx(this,e,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:x}=Hs;if(r&&[h,p,g,x].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(C=>{var E,P,N;return((E=C.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(P=C.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(C=>C.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(C=>{var E,P,N,R,k,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const O=C.id,I=(E=C.filter)===null||E===void 0?void 0:E.event;return O&&((P=t.ids)===null||P===void 0?void 0:P.includes(O))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const O=(k=(R=C==null?void 0:C.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return O==="*"||O===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:P,table:N,commit_timestamp:R,type:k,errors:T}=E;b=Object.assign(Object.assign({},{schema:P,table:N,commit_timestamp:R,eventType:k,new:{},old:{},errors:T}),this._getPayloadRecords(E))}C.callback(b,r)})}_isClosed(){return this.state===rr.closed}_isJoined(){return this.state===rr.joined}_isJoining(){return this.state===rr.joining}_isLeaving(){return this.state===rr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&ey.isEqual(o.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Hs.close,{},e)}_onError(e){this._on(Hs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=rr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=d_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=d_(e.columns,e.old_record)),t}}const m_=()=>{},RA=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class TA{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=_1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=m_,this.ref=0,this.logger=m_,this.conn=null,this.sendBuffer=[],this.serializer=new SA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>oc(async()=>{const{default:p}=await Promise.resolve().then(()=>xd);return{default:p}},void 0).then(({default:p})=>p(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${h0.websocket}`,this.httpEndpoint=j1(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(c,u)=>u(JSON.stringify(c)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new b1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=xA),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:_A}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case yh.connecting:return Hl.Connecting;case yh.open:return Hl.Open;case yh.closing:return Hl.Closing;default:return Hl.Closed}}isConnected(){return this.connectionState()===Hl.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new ey(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:r,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:wA};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Hs.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(bA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:o,payload:c,ref:u}=t;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${r} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Hs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([RA],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class ty extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Ln(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class AA extends ty{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class m0 extends ty{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var IA=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const N1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},OA=()=>IA(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield oc(()=>Promise.resolve().then(()=>xd),void 0)).Response:Response}),g0=n=>{if(Array.isArray(n))return n.map(t=>g0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=g0(r)}),e},MA=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var ic=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const Tx=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),DA=(n,e,t)=>ic(void 0,void 0,void 0,function*(){const r=yield OA();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const c=n.status||500,u=(o==null?void 0:o.statusCode)||c+"";e(new AA(Tx(o),c,u))}).catch(o=>{e(new m0(Tx(o),o))}):e(new m0(Tx(n),n))}),LA=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(MA(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function Bh(n,e,t,r,o,c){return ic(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(t,LA(e,r,o,c)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>DA(p,h,r))})})}function hg(n,e,t,r){return ic(this,void 0,void 0,function*(){return Bh(n,"GET",e,t,r)})}function ki(n,e,t,r,o){return ic(this,void 0,void 0,function*(){return Bh(n,"POST",e,r,o,t)})}function v0(n,e,t,r,o){return ic(this,void 0,void 0,function*(){return Bh(n,"PUT",e,r,o,t)})}function $A(n,e,t,r){return ic(this,void 0,void 0,function*(){return Bh(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function k1(n,e,t,r,o){return ic(this,void 0,void 0,function*(){return Bh(n,"DELETE",e,r,o,t)})}var Or=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const FA={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},g_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zA{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=N1(o)}uploadOrUpdate(e,t,r,o){return Or(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},g_),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(t),x=this._getFinalPath(g),y=yield(e=="PUT"?v0:ki)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(Ln(c))return{data:null,error:c};throw c}})}upload(e,t,r){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Or(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const g=Object.assign({upsert:g_.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield v0(this.fetch,h.toString(),p,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(Ln(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,t){return Or(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield ki(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new ty("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}update(e,t,r){return Or(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Or(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Or(this,void 0,void 0,function*(){try{return{data:{path:(yield ki(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Or(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield ki(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Or(this,void 0,void 0,function*(){try{const o=yield ki(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}download(e,t){return Or(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield hg(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Ln(h))return{data:null,error:h};throw h}})}info(e){return Or(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield hg(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:g0(r),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}exists(e){return Or(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield $A(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Ln(r)&&r instanceof m0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(e){return Or(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}list(e,t,r){return Or(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},FA),t),{prefix:e||""});return{data:yield ki(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Ln(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const UA="2.10.4",BA={"X-Client-Info":`storage-js/${UA}`};var Gu=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class WA{constructor(e,t={},r,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},BA),t),this.fetch=N1(r)}listBuckets(){return Gu(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Ln(e))return{data:null,error:e};throw e}})}getBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield hg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Gu(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Gu(this,void 0,void 0,function*(){try{return{data:yield v0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Ln(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield ki(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Gu(this,void 0,void 0,function*(){try{return{data:yield k1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Ln(t))return{data:null,error:t};throw t}})}}class HA extends WA{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new zA(this.url,this.headers,e,this.fetch)}}const VA="2.53.0";let fh="";typeof Deno<"u"?fh="deno":typeof document<"u"?fh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?fh="react-native":fh="node";const GA={"X-Client-Info":`supabase-js-${fh}/${VA}`},qA={headers:GA},KA={schema:"public"},YA={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},JA={};var XA=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const QA=n=>{let e;return n?e=n:typeof fetch>"u"?e=m1:e=fetch,(...t)=>e(...t)},ZA=()=>typeof Headers>"u"?g1:Headers,eI=(n,e,t)=>{const r=QA(t),o=ZA();return(c,u)=>XA(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:n;let g=new o(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},u),{headers:g}))})};var tI=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};function nI(n){return n.endsWith("/")?n:n+"/"}function rI(n,e){var t,r;const{db:o,auth:c,realtime:u,global:h}=n,{db:p,auth:g,realtime:x,global:y}=e,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>tI(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}const C1="2.71.1",rd=30*1e3,x0=3,Ax=x0*rd,sI="http://localhost:9999",oI="supabase.auth.token",iI={"X-Client-Info":`gotrue-js/${C1}`},y0="X-Supabase-Api-Version",E1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},aI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,lI=600*1e3;class ny extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function dt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class cI extends ny{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function uI(n){return dt(n)&&n.name==="AuthApiError"}class P1 extends ny{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Oa extends ny{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class ja extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dI(n){return dt(n)&&n.name==="AuthSessionMissingError"}class $m extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Fm extends Oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class zm extends Oa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function fI(n){return dt(n)&&n.name==="AuthImplicitGrantRedirectError"}class v_ extends Oa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class w0 extends Oa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Ix(n){return dt(n)&&n.name==="AuthRetryableFetchError"}class x_ extends Oa{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class _0 extends Oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),y_=` 	
\r=`.split(""),hI=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<y_.length;e+=1)n[y_[e].charCodeAt(0)]=-2;for(let e=0;e<pg.length;e+=1)n[pg[e].charCodeAt(0)]=e;return n})();function w_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(pg[r]),e.queuedBits-=6}}function R1(n,e,t){const r=hI[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function __(n){const e=[],t=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{gI(u,r,t)};for(let u=0;u<n.length;u+=1)R1(n.charCodeAt(u),o,c);return e.join("")}function pI(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function mI(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}pI(r,e)}}function gI(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function vI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)R1(n.charCodeAt(o),t,r);return new Uint8Array(e)}function xI(n){const e=[];return mI(n,t=>e.push(t)),new Uint8Array(e)}function yI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>w_(o,t,r)),w_(null,t,r),e.join("")}function wI(n){return Math.round(Date.now()/1e3)+n}function _I(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Bs=()=>typeof window<"u"&&typeof document<"u",Ll={tested:!1,writable:!1},T1=()=>{if(!Bs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ll.tested)return Ll.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ll.tested=!0,Ll.writable=!0}catch{Ll.tested=!0,Ll.writable=!1}return Ll.writable};function bI(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const A1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>oc(async()=>{const{default:r}=await Promise.resolve().then(()=>xd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},SI=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",sd=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},$l=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},_a=async(n,e)=>{await n.removeItem(e)};class Dg{constructor(){this.promise=new Dg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Dg.promiseConstructor=Promise;function Ox(n){const e=n.split(".");if(e.length!==3)throw new _0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!aI.test(e[r]))throw new _0("JWT not in base64url format");return{header:JSON.parse(__(e[0])),payload:JSON.parse(__(e[1])),signature:vI(e[2]),raw:{header:e[0],payload:e[1]}}}async function jI(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function NI(n,e){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){r(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function kI(n){return("0"+n.toString(16)).substr(-2)}function CI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,kI).join("")}async function EI(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function PI(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await EI(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qu(n,e,t=!1){const r=CI();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await sd(n,`${e}-code-verifier`,o);const c=await PI(r);return[c,r===c?"plain":"s256"]}const RI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function TI(n){const e=n.headers.get(y0);if(!e||!e.match(RI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function AI(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function II(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const OI=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ku(n){if(!OI.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Mx(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function b_(n){return JSON.parse(JSON.stringify(n))}var MI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};const Bl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),DI=[502,503,504];async function S_(n){var e;if(!SI(n))throw new w0(Bl(n),0);if(DI.includes(n.status))throw new w0(Bl(n),n.status);let t;try{t=await n.json()}catch(c){throw new P1(Bl(c),c)}let r;const o=TI(n);if(o&&o.getTime()>=E1["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new x_(Bl(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new ja}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new x_(Bl(t),n.status,t.weak_password.reasons);throw new cI(Bl(t),n.status||500,r)}const LI=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function wt(n,e,t,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[y0]||(c[y0]=E1["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await $I(n,e,t+h,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function $I(n,e,t,r,o,c){const u=LI(e,r,o,c);let h;try{h=await n(t,Object.assign({},u))}catch(p){throw console.error(p),new w0(Bl(p),0)}if(h.ok||await S_(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(p){await S_(p)}}function ji(n){var e;let t=null;BI(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=wI(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function j_(n){const e=ji(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ka(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function FI(n){return{data:n,error:null}}function zI(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c}=n,u=MI(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function UI(n){return n}function BI(n){return n.access_token&&n.refresh_token&&n.expires_in}const Dx=["global","local","others"];var WI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class HI{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=A1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Dx[0]){if(Dx.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dx.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ka})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=WI(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:zI,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(dt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ka})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,c,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},x=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:UI});if(x.error)throw x.error;const y=await x.json(),b=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(E=>{const P=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);g[`${N}Page`]=P}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(dt(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Ku(e);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ka})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Ku(e);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ka})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Ku(e);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ka})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ku(e.userId);try{const{data:t,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Ku(e.userId),Ku(e.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}}function N_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function VI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Yu={debug:!!(globalThis&&T1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class I1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class GI extends I1{}async function qI(n,e,t){Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Yu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new GI(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Yu.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}VI();const KI={url:sI,storageKey:oI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:iI,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function k_(n,e,t){return await t()}const Ju={};class Ph{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ph.nextInstanceID,Ph.nextInstanceID+=1,this.instanceID>0&&Bs()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},KI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new HI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=A1(o.fetch),this.lock=o.lock||k_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Bs()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=qI:this.lock=k_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:T1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=N_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=N_(this.memoryStorage)),Bs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Ju[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Ju[this.storageKey]=Object.assign(Object.assign({},Ju[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Ju[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Ju[this.storageKey]=Object.assign(Object.assign({},Ju[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${C1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=bI(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Bs()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),fI(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return dt(t)?{error:t}:{error:new P1("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:ji}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(dt(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,r,o;try{let c;if("email"in e){const{email:x,password:y,options:b}=e;let C=null,E=null;this.flowType==="pkce"&&([C,E]=await qu(this.storage,this.storageKey)),c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:E},xform:ji})}else if("phone"in e){const{phone:x,password:y,options:b}=e;c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:ji})}else throw new Fm("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(dt(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:u,options:h}=e;t=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:j_})}else if("phone"in e){const{phone:c,password:u,options:h}=e;t=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:j_})}else throw new Fm("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new $m}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,c,u,h,p,g,x,y,b,C;let E,P;if("message"in e)E=e.message,P=e.signature;else{const{chain:N,wallet:R,statement:k,options:T}=e;let O;if(Bs())if(typeof R=="object")O=R;else{const L=window;if("solana"in L&&typeof L.solana=="object"&&("signIn"in L.solana&&typeof L.solana.signIn=="function"||"signMessage"in L.solana&&typeof L.solana.signMessage=="function"))O=L.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=R}const I=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in O&&O.signIn){const L=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),k?{statement:k}:null));let z;if(Array.isArray(L)&&L[0]&&typeof L[0]=="object")z=L[0];else if(L&&typeof L=="object"&&"signedMessage"in L&&"signature"in L)z=L;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)E=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),P=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${I.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const L=await O.signMessage(new TextEncoder().encode(E),"utf8");if(!L||!(L instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=L}}try{const{data:N,error:R}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:yI(P)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:ji});if(R)throw R;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new $m}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:R})}catch(N){if(dt(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const t=await $l(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:c,error:u}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ji});if(await _a(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new $m}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(dt(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:c,nonce:u}=e,h=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:ji}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new $m}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,c,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await qu(this.storage,this.storageKey));const{error:y}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:x}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new Fm("You must provide either an email or phone number.")}catch(h){if(dt(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,r;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:ji});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await qu(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:FI})}catch(c){if(dt(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ja;const{error:o}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:c}=e,{error:u}=await wt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:c}=e,{data:u,error:h}=await wt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Fm("You must provide either an email or phone number and a type")}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await $l(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ax:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await $l(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Mx()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,x)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ka}):await this._useSession(async t=>{var r,o,c;const{data:u,error:h}=t;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ja}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ka})})}catch(t){if(dt(t))return dI(t)&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new ja;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await qu(this.storage,this.storageKey));const{data:g,error:x}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:ka});if(x)throw x;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ja;const t=Date.now()/1e3;let r=t,o=!0,c=null;const{payload:u}=Ox(e.access_token);if(u.exp&&(r=u.exp,o=r<=t),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(dt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new ja;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Bs())throw new zm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new zm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new v_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new zm("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new v_("No code detected.");const{data:k,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!u||!g)throw new zm("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let b=x+y;p&&(b=parseInt(p));const C=b-x;C*1e3<=rd&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const E=b-y;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,x);const{data:P,error:N}=await this._getUser(c);if(N)throw N;const R={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:b,refresh_token:u,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await $l(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{error:c};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(uI(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await _a(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=_I(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:c},error:u}=t;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await qu(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(dt(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async c=>{var u,h,p,g,x;const{data:y,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Bs()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(dt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)throw u;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await NI(async o=>(o>0&&await jI(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ji})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Ix(c)&&Date.now()+u-r<rd})}catch(r){if(this._debug(t,"error",r),dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Bs()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await $l(this.storage,this.storageKey);if(o&&this.userStorage){let u=await $l(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await sd(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Mx()}else if(o&&!o.user&&!o.user){const u=await $l(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await _a(this.storage,this.storageKey+"-user"),await sd(this.storage,this.storageKey,o)):o.user=Mx()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ax;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${Ax}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Ix(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ja;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Dg;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new ja;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),dt(c)){const u={session:null,error:c};return Ix(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await sd(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=b_(o);await sd(this.storage,this.storageKey,c)}else{const o=b_(t);await sd(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await _a(this.storage,this.storageKey),await _a(this.storage,this.storageKey+"-code-verifier"),await _a(this.storage,this.storageKey+"-user"),this.userStorage&&await _a(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Bs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),rd);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/rd);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${rd}ms, refresh threshold is ${x0} ticks`),o<=x0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof I1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Bs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await qu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await wt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:u,error:h}=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Ox(o.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const x=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+lI>o)return r;const{data:c,error:u}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:C,error:E}=await this.getSession();if(E||!C.session)return{data:null,error:E};r=C.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:p}}=Ox(r);t!=null&&t.allowExpired||AI(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:c,header:o,signature:u},error:null}}const x=II(o.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,u,xI(`${h}.${p}`)))throw new _0("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}Ph.nextInstanceID=0;const YI=Ph;class JI extends YI{constructor(e){super(e)}}var XI=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class QI{constructor(e,t,r){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=nI(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:KA,realtime:JA,auth:Object.assign(Object.assign({},YA),{storageKey:g}),global:qA},y=rI(r??{},x);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=eI(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new gA(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new HA(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new sA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return XI(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:c,flowType:u,lock:h,debug:p},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new JI({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new TA(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O1=(n,e,t)=>new QI(n,e,t);function ZI(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}ZI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const M1="https://zbhvwxpvlxqxadqzshfc.supabase.co",eO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MjUzNzQsImV4cCI6MjA2NzUwMTM3NH0.TfyuqzBbK-8CIQ-8sTKrH4nMHW7w28nPIhtTLi9Olsc",tO="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTkyNTM3NCwiZXhwIjoyMDY3NTAxMzc0fQ.0kO3vG1OXNS05NPgm7MmcbkdMuLSG49GKwkCP4979tc",Ee=O1(M1,eO),C_=O1(M1,tO),D1=w.createContext(),Wh=()=>{const n=w.useContext(D1);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},nO=({children:n})=>{const[e,t]=w.useState({id:"test-user",email:"prudnik47@gmail.com"}),[r,o]=w.useState(!1),g={user:e,loading:r,signInWithProvider:async x=>{const{error:y}=await Ee.auth.signInWithOAuth({provider:x});if(y)throw y},signInWithEmail:async(x,y)=>{const{error:b}=await Ee.auth.signInWithPassword({email:x,password:y});if(b)throw b},signUpWithEmail:async(x,y)=>{const{data:b,error:C}=await Ee.auth.signUp({email:x,password:y});if(C)throw C;return b},signOut:async()=>{const{error:x}=await Ee.auth.signOut();if(x)throw x}};return i.jsx(D1.Provider,{value:g,children:!r&&n})};function E_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Lg(...n){return e=>{let t=!1;const r=n.map(o=>{const c=E_(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():E_(n[o],null)}}}}function It(...n){return w.useCallback(Lg(...n),n)}function Yl(n){const e=sO(n),t=w.forwardRef((r,o)=>{const{children:c,...u}=r,h=w.Children.toArray(c),p=h.find(iO);if(p){const g=p.props.children,x=h.map(y=>y===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:y);return i.jsx(e,{...u,ref:o,children:w.isValidElement(g)?w.cloneElement(g,void 0,x):null})}return i.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var rO=Yl("Slot");function sO(n){const e=w.forwardRef((t,r)=>{const{children:o,...c}=t;if(w.isValidElement(o)){const u=lO(o),h=aO(c,o.props);return o.type!==w.Fragment&&(h.ref=r?Lg(r,u):u),w.cloneElement(o,h)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var oO=Symbol("radix.slottable");function iO(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===oO}function aO(n,e){const t={...e};for(const r in e){const o=n[r],c=e[r];/^on[A-Z]/.test(r)?o&&c?t[r]=(...h)=>{const p=c(...h);return o(...h),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...c}:r==="className"&&(t[r]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function lO(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function L1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=L1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function $1(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=L1(n))&&(r&&(r+=" "),r+=e);return r}const P_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,R_=$1,Hh=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return R_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(g=>{const x=t==null?void 0:t[g],y=c==null?void 0:c[g];if(x===null)return null;const b=P_(x)||P_(y);return o[g][b]}),h=t&&Object.entries(t).reduce((g,x)=>{let[y,b]=x;return b===void 0||(g[y]=b),g},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,x)=>{let{class:y,className:b,...C}=x;return Object.entries(C).every(E=>{let[P,N]=E;return Array.isArray(N)?N.includes({...c,...h}[P]):{...c,...h}[P]===N})?[...g,y,b]:g},[]);return R_(n,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},ry="-",cO=n=>{const e=dO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(ry);return h[0]===""&&h.length!==1&&h.shift(),F1(h,e)||uO(u)},getConflictingClassGroupIds:(u,h)=>{const p=t[u]||[];return h&&r[u]?[...p,...r[u]]:p}}},F1=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?F1(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(ry);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},T_=/^\[(.+)\]$/,uO=n=>{if(T_.test(n)){const e=T_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},dO=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)b0(t[o],r,o,e);return r},b0=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:A_(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(fO(o)){b0(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{b0(u,A_(e,c),t,r)})})},A_=(n,e)=>{let t=n;return e.split(ry).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},fO=n=>n.isThemeGetter,hO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(c,u)=>{t.set(c,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=r.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},S0="!",j0=":",pO=j0.length,mO=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const c=[];let u=0,h=0,p=0,g;for(let E=0;E<o.length;E++){let P=o[E];if(u===0&&h===0){if(P===j0){c.push(o.slice(p,E)),p=E+pO;continue}if(P==="/"){g=E;continue}}P==="["?u++:P==="]"?u--:P==="("?h++:P===")"&&h--}const x=c.length===0?o:o.substring(p),y=gO(x),b=y!==x,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:C}};if(e){const o=e+j0,c=r;r=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=c=>t({className:c,parseClassName:o})}return r},gO=n=>n.endsWith(S0)?n.substring(0,n.length-1):n.startsWith(S0)?n.substring(1):n,vO=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let c=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},xO=n=>({cache:hO(n.cacheSize),parseClassName:mO(n),sortModifiers:vO(n),...cO(n)}),yO=/\s+/,wO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=n.trim().split(yO);let p="";for(let g=h.length-1;g>=0;g-=1){const x=h[g],{isExternal:y,modifiers:b,hasImportantModifier:C,baseClassName:E,maybePostfixModifierPosition:P}=t(x);if(y){p=x+(p.length>0?" "+p:p);continue}let N=!!P,R=r(N?E.substring(0,P):E);if(!R){if(!N){p=x+(p.length>0?" "+p:p);continue}if(R=r(E),!R){p=x+(p.length>0?" "+p:p);continue}N=!1}const k=c(b).join(":"),T=C?k+S0:k,O=T+R;if(u.includes(O))continue;u.push(O);const I=o(R,N);for(let L=0;L<I.length;++L){const z=I[L];u.push(T+z)}p=x+(p.length>0?" "+p:p)}return p};function _O(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=z1(e))&&(r&&(r+=" "),r+=t);return r}const z1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=z1(n[r]))&&(t&&(t+=" "),t+=e);return t};function bO(n,...e){let t,r,o,c=u;function u(p){const g=e.reduce((x,y)=>y(x),n());return t=xO(g),r=t.cache.get,o=t.cache.set,c=h,h(p)}function h(p){const g=r(p);if(g)return g;const x=wO(p,t);return o(p,x),x}return function(){return c(_O.apply(null,arguments))}}const Nn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},U1=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,B1=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SO=/^\d+\/\d+$/,jO=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NO=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kO=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,EO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xu=n=>SO.test(n),gt=n=>!!n&&!Number.isNaN(Number(n)),ba=n=>!!n&&Number.isInteger(Number(n)),Lx=n=>n.endsWith("%")&&gt(n.slice(0,-1)),Si=n=>jO.test(n),PO=()=>!0,RO=n=>NO.test(n)&&!kO.test(n),W1=()=>!1,TO=n=>CO.test(n),AO=n=>EO.test(n),IO=n=>!$e(n)&&!Fe(n),OO=n=>yd(n,G1,W1),$e=n=>U1.test(n),Fl=n=>yd(n,q1,RO),$x=n=>yd(n,FO,gt),I_=n=>yd(n,H1,W1),MO=n=>yd(n,V1,AO),Um=n=>yd(n,K1,TO),Fe=n=>B1.test(n),lh=n=>wd(n,q1),DO=n=>wd(n,zO),O_=n=>wd(n,H1),LO=n=>wd(n,G1),$O=n=>wd(n,V1),Bm=n=>wd(n,K1,!0),yd=(n,e,t)=>{const r=U1.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},wd=(n,e,t=!1)=>{const r=B1.exec(n);return r?r[1]?e(r[1]):t:!1},H1=n=>n==="position"||n==="percentage",V1=n=>n==="image"||n==="url",G1=n=>n==="length"||n==="size"||n==="bg-size",q1=n=>n==="length",FO=n=>n==="number",zO=n=>n==="family-name",K1=n=>n==="shadow",UO=()=>{const n=Nn("color"),e=Nn("font"),t=Nn("text"),r=Nn("font-weight"),o=Nn("tracking"),c=Nn("leading"),u=Nn("breakpoint"),h=Nn("container"),p=Nn("spacing"),g=Nn("radius"),x=Nn("shadow"),y=Nn("inset-shadow"),b=Nn("text-shadow"),C=Nn("drop-shadow"),E=Nn("blur"),P=Nn("perspective"),N=Nn("aspect"),R=Nn("ease"),k=Nn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],O=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...O(),Fe,$e],L=()=>["auto","hidden","clip","visible","scroll"],z=()=>["auto","contain","none"],F=()=>[Fe,$e,p],q=()=>[Xu,"full","auto",...F()],X=()=>[ba,"none","subgrid",Fe,$e],re=()=>["auto",{span:["full",ba,Fe,$e]},ba,Fe,$e],ae=()=>[ba,"auto",Fe,$e],pe=()=>["auto","min","max","fr",Fe,$e],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...F()],be=()=>[Xu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],W=()=>[n,Fe,$e],K=()=>[...O(),O_,I_,{position:[Fe,$e]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",LO,OO,{size:[Fe,$e]}],U=()=>[Lx,lh,Fl],V=()=>["","none","full",g,Fe,$e],oe=()=>["",gt,lh,Fl],ue=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[gt,Lx,O_,I_],fe=()=>["","none",E,Fe,$e],je=()=>["none",gt,Fe,$e],Ce=()=>["none",gt,Fe,$e],He=()=>[gt,Fe,$e],Le=()=>[Xu,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Si],breakpoint:[Si],color:[PO],container:[Si],"drop-shadow":[Si],ease:["in","out","in-out"],font:[IO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Si],shadow:[Si],spacing:["px",gt],text:[Si],"text-shadow":[Si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Xu,$e,Fe,N]}],container:["container"],columns:[{columns:[gt,$e,Fe,h]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:L()}],"overflow-x":[{"overflow-x":L()}],"overflow-y":[{"overflow-y":L()}],overscroll:[{overscroll:z()}],"overscroll-x":[{"overscroll-x":z()}],"overscroll-y":[{"overscroll-y":z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[ba,"auto",Fe,$e]}],basis:[{basis:[Xu,"full","auto",h,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,Xu,"auto","initial","none",$e]}],grow:[{grow:["",gt,Fe,$e]}],shrink:[{shrink:["",gt,Fe,$e]}],order:[{order:[ba,"first","last","none",Fe,$e]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[h,"screen",...be()]}],"min-w":[{"min-w":[h,"screen","none",...be()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",t,lh,Fl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Fe,$x]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Lx,$e]}],"font-family":[{font:[DO,$e,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Fe,$e]}],"line-clamp":[{"line-clamp":[gt,"none",Fe,$x]}],leading:[{leading:[c,...F()]}],"list-image":[{"list-image":["none",Fe,$e]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Fe,$e]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",Fe,Fl]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[gt,"auto",Fe,$e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe,$e]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe,$e]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ba,Fe,$e],radial:["",Fe,$e],conic:[ba,Fe,$e]},$O,MO]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,Fe,$e]}],"outline-w":[{outline:["",gt,lh,Fl]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",x,Bm,Um]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",y,Bm,Um]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[gt,Fl]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",b,Bm,Um]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[gt,Fe,$e]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Fe,$e]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":O()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Fe,$e]}],filter:[{filter:["","none",Fe,$e]}],blur:[{blur:fe()}],brightness:[{brightness:[gt,Fe,$e]}],contrast:[{contrast:[gt,Fe,$e]}],"drop-shadow":[{"drop-shadow":["","none",C,Bm,Um]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",gt,Fe,$e]}],"hue-rotate":[{"hue-rotate":[gt,Fe,$e]}],invert:[{invert:["",gt,Fe,$e]}],saturate:[{saturate:[gt,Fe,$e]}],sepia:[{sepia:["",gt,Fe,$e]}],"backdrop-filter":[{"backdrop-filter":["","none",Fe,$e]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[gt,Fe,$e]}],"backdrop-contrast":[{"backdrop-contrast":[gt,Fe,$e]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,Fe,$e]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,Fe,$e]}],"backdrop-invert":[{"backdrop-invert":["",gt,Fe,$e]}],"backdrop-opacity":[{"backdrop-opacity":[gt,Fe,$e]}],"backdrop-saturate":[{"backdrop-saturate":[gt,Fe,$e]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,Fe,$e]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Fe,$e]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",Fe,$e]}],ease:[{ease:["linear","initial",R,Fe,$e]}],delay:[{delay:[gt,Fe,$e]}],animate:[{animate:["none",k,Fe,$e]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Fe,$e]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:He()}],"skew-x":[{"skew-x":He()}],"skew-y":[{"skew-y":He()}],transform:[{transform:[Fe,$e,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Le()}],"translate-x":[{"translate-x":Le()}],"translate-y":[{"translate-y":Le()}],"translate-z":[{"translate-z":Le()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe,$e]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe,$e]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[gt,lh,Fl,$x]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},BO=bO(UO);function Ue(...n){return BO($1(n))}const WO=Hh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),et=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},c)=>{const u=r?rO:"button";return i.jsx(u,{className:Ue(WO({variant:e,size:t,className:n})),ref:c,...o})});et.displayName="Button";const Pe=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Pe.displayName="Card";const Ke=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("flex flex-col space-y-1.5 p-6",n),...e}));Ke.displayName="CardHeader";const Ye=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("font-semibold leading-none tracking-tight",n),...e}));Ye.displayName="CardTitle";const Kn=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("text-sm text-muted-foreground",n),...e}));Kn.displayName="CardDescription";const Ie=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("p-6 pt-0",n),...e}));Ie.displayName="CardContent";const HO=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("flex items-center p-6 pt-0",n),...e}));HO.displayName="CardFooter";const qe=w.forwardRef(({className:n,type:e,...t},r)=>i.jsx("input",{type:e,className:Ue("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));qe.displayName="Input";var VO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ot=VO.reduce((n,e)=>{const t=Yl(`Primitive.${e}`),r=w.forwardRef((o,c)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),i.jsx(p,{...h,ref:c})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Y1(n,e){n&&Uh.flushSync(()=>n.dispatchEvent(e))}var GO="Label",J1=w.forwardRef((n,e)=>i.jsx(ot.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));J1.displayName=GO;var X1=J1;const qO=Hh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Je=w.forwardRef(({className:n,...e},t)=>i.jsx(X1,{ref:t,className:Ue(qO(),n),...e}));Je.displayName=X1.displayName;const KO=Hh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_s=w.forwardRef(({className:n,variant:e,...t},r)=>i.jsx("div",{ref:r,role:"alert",className:Ue(KO({variant:e}),n),...t}));_s.displayName="Alert";const YO=w.forwardRef(({className:n,...e},t)=>i.jsx("h5",{ref:t,className:Ue("mb-1 font-medium leading-none tracking-tight",n),...e}));YO.displayName="AlertTitle";const bs=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("text-sm [&_p]:leading-relaxed",n),...e}));bs.displayName="AlertDescription";function Ve(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function JO(n,e){const t=w.createContext(e),r=c=>{const{children:u,...h}=c,p=w.useMemo(()=>h,Object.values(h));return i.jsx(t.Provider,{value:p,children:u})};r.displayName=n+"Provider";function o(c){const u=w.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[r,o]}function Ss(n,e=[]){let t=[];function r(c,u){const h=w.createContext(u),p=t.length;t=[...t,u];const g=y=>{var R;const{scope:b,children:C,...E}=y,P=((R=b==null?void 0:b[n])==null?void 0:R[p])||h,N=w.useMemo(()=>E,Object.values(E));return i.jsx(P.Provider,{value:N,children:C})};g.displayName=c+"Provider";function x(y,b){var P;const C=((P=b==null?void 0:b[n])==null?void 0:P[p])||h,E=w.useContext(C);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=t.map(u=>w.createContext(u));return function(h){const p=(h==null?void 0:h[n])||c;return w.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[r,XO(o,...e)]}function XO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=r.reduce((h,{useScope:p,scopeName:g})=>{const y=p(c)[`__scope${g}`];return{...h,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function $g(n){const e=n+"CollectionProvider",[t,r]=Ss(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=P=>{const{scope:N,children:R}=P,k=on.useRef(null),T=on.useRef(new Map).current;return i.jsx(o,{scope:N,itemMap:T,collectionRef:k,children:R})};u.displayName=e;const h=n+"CollectionSlot",p=Yl(h),g=on.forwardRef((P,N)=>{const{scope:R,children:k}=P,T=c(h,R),O=It(N,T.collectionRef);return i.jsx(p,{ref:O,children:k})});g.displayName=h;const x=n+"CollectionItemSlot",y="data-radix-collection-item",b=Yl(x),C=on.forwardRef((P,N)=>{const{scope:R,children:k,...T}=P,O=on.useRef(null),I=It(N,O),L=c(x,R);return on.useEffect(()=>(L.itemMap.set(O,{ref:O,...T}),()=>void L.itemMap.delete(O))),i.jsx(b,{[y]:"",ref:I,children:k})});C.displayName=x;function E(P){const N=c(n+"CollectionConsumer",P);return on.useCallback(()=>{const k=N.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((L,z)=>T.indexOf(L.ref.current)-T.indexOf(z.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},E,r]}var yn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},QO=G0[" useId ".trim().toString()]||(()=>{}),ZO=0;function xs(n){const[e,t]=w.useState(QO());return yn(()=>{t(r=>r??String(ZO++))},[n]),e?`radix-${e}`:""}function Ks(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var eM=G0[" useInsertionEffect ".trim().toString()]||yn;function Ai({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,c,u]=tM({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:o;{const x=w.useRef(n!==void 0);w.useEffect(()=>{const y=x.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=h},[h,r])}const g=w.useCallback(x=>{var y;if(h){const b=nM(x)?x(n):x;b!==n&&((y=u.current)==null||y.call(u,b))}else c(x)},[h,n,c,u]);return[p,g]}function tM({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),c=w.useRef(e);return eM(()=>{c.current=e},[e]),w.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,r,c]}function nM(n){return typeof n=="function"}var rM=w.createContext(void 0);function Vh(n){const e=w.useContext(rM);return n||e||"ltr"}var Fx="rovingFocusGroup.onEntryFocus",sM={bubbles:!1,cancelable:!0},Gh="RovingFocusGroup",[N0,Q1,oM]=$g(Gh),[iM,Fg]=Ss(Gh,[oM]),[aM,lM]=iM(Gh),Z1=w.forwardRef((n,e)=>i.jsx(N0.Provider,{scope:n.__scopeRovingFocusGroup,children:i.jsx(N0.Slot,{scope:n.__scopeRovingFocusGroup,children:i.jsx(cM,{...n,ref:e})})}));Z1.displayName=Gh;var cM=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=n,b=w.useRef(null),C=It(e,b),E=Vh(c),[P,N]=Ai({prop:u,defaultProp:h??null,onChange:p,caller:Gh}),[R,k]=w.useState(!1),T=Ks(g),O=Q1(t),I=w.useRef(!1),[L,z]=w.useState(0);return w.useEffect(()=>{const F=b.current;if(F)return F.addEventListener(Fx,T),()=>F.removeEventListener(Fx,T)},[T]),i.jsx(aM,{scope:t,orientation:r,dir:E,loop:o,currentTabStopId:P,onItemFocus:w.useCallback(F=>N(F),[N]),onItemShiftTab:w.useCallback(()=>k(!0),[]),onFocusableItemAdd:w.useCallback(()=>z(F=>F+1),[]),onFocusableItemRemove:w.useCallback(()=>z(F=>F-1),[]),children:i.jsx(ot.div,{tabIndex:R||L===0?-1:0,"data-orientation":r,...y,ref:C,style:{outline:"none",...n.style},onMouseDown:Ve(n.onMouseDown,()=>{I.current=!0}),onFocus:Ve(n.onFocus,F=>{const q=!I.current;if(F.target===F.currentTarget&&q&&!R){const X=new CustomEvent(Fx,sM);if(F.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=O().filter(ge=>ge.focusable),ae=re.find(ge=>ge.active),pe=re.find(ge=>ge.id===P),ke=[ae,pe,...re].filter(Boolean).map(ge=>ge.ref.current);nS(ke,x)}}I.current=!1}),onBlur:Ve(n.onBlur,()=>k(!1))})})}),eS="RovingFocusGroupItem",tS=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:c,children:u,...h}=n,p=xs(),g=c||p,x=lM(eS,t),y=x.currentTabStopId===g,b=Q1(t),{onFocusableItemAdd:C,onFocusableItemRemove:E,currentTabStopId:P}=x;return w.useEffect(()=>{if(r)return C(),()=>E()},[r,C,E]),i.jsx(N0.ItemSlot,{scope:t,id:g,focusable:r,active:o,children:i.jsx(ot.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...h,ref:e,onMouseDown:Ve(n.onMouseDown,N=>{r?x.onItemFocus(g):N.preventDefault()}),onFocus:Ve(n.onFocus,()=>x.onItemFocus(g)),onKeyDown:Ve(n.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){x.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const R=fM(N,x.orientation,x.dir);if(R!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(O=>O.focusable).map(O=>O.ref.current);if(R==="last")T.reverse();else if(R==="prev"||R==="next"){R==="prev"&&T.reverse();const O=T.indexOf(N.currentTarget);T=x.loop?hM(T,O+1):T.slice(O+1)}setTimeout(()=>nS(T))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:P!=null}):u})})});tS.displayName=eS;var uM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function dM(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function fM(n,e,t){const r=dM(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return uM[r]}function nS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function hM(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var rS=Z1,sS=tS;function pM(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var Fo=n=>{const{present:e,children:t}=n,r=mM(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),c=It(r.ref,gM(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:c}):null};Fo.displayName="Presence";function mM(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),c=w.useRef("none"),u=n?"mounted":"unmounted",[h,p]=pM(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Wm(r.current);c.current=h==="mounted"?g:"none"},[h]),yn(()=>{const g=r.current,x=o.current;if(x!==n){const b=c.current,C=Wm(g);n?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(x&&b!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),yn(()=>{if(e){let g;const x=e.ownerDocument.defaultView??window,y=C=>{const P=Wm(r.current).includes(C.animationName);if(C.target===e&&P&&(p("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",g=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=C=>{C.target===e&&(c.current=Wm(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{x.clearTimeout(g),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:w.useCallback(g=>{r.current=g?getComputedStyle(g):null,t(g)},[])}}function Wm(n){return(n==null?void 0:n.animationName)||"none"}function gM(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var zg="Tabs",[vM,sU]=Ss(zg,[Fg]),oS=Fg(),[xM,sy]=vM(zg),iS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:p="automatic",...g}=n,x=Vh(h),[y,b]=Ai({prop:r,onChange:o,defaultProp:c??"",caller:zg});return i.jsx(xM,{scope:t,baseId:xs(),value:y,onValueChange:b,orientation:u,dir:x,activationMode:p,children:i.jsx(ot.div,{dir:x,"data-orientation":u,...g,ref:e})})});iS.displayName=zg;var aS="TabsList",lS=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,c=sy(aS,t),u=oS(t);return i.jsx(rS,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:r,children:i.jsx(ot.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});lS.displayName=aS;var cS="TabsTrigger",uS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...c}=n,u=sy(cS,t),h=oS(t),p=hS(u.baseId,r),g=pS(u.baseId,r),x=r===u.value;return i.jsx(sS,{asChild:!0,...h,focusable:!o,active:x,children:i.jsx(ot.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:e,onMouseDown:Ve(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(r):y.preventDefault()}),onKeyDown:Ve(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(r)}),onFocus:Ve(n.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(r)})})})});uS.displayName=cS;var dS="TabsContent",fS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:c,...u}=n,h=sy(dS,t),p=hS(h.baseId,r),g=pS(h.baseId,r),x=r===h.value,y=w.useRef(x);return w.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),i.jsx(Fo,{present:o||x,children:({present:b})=>i.jsx(ot.div,{"data-state":x?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!b,id:g,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:b&&c})})});fS.displayName=dS;function hS(n,e){return`${n}-trigger-${e}`}function pS(n,e){return`${n}-content-${e}`}var yM=iS,mS=lS,gS=uS,vS=fS;const _d=yM,ac=w.forwardRef(({className:n,...e},t)=>i.jsx(mS,{ref:t,className:Ue("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));ac.displayName=mS.displayName;const fn=w.forwardRef(({className:n,...e},t)=>i.jsx(gS,{ref:t,className:Ue("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));fn.displayName=gS.displayName;const hn=w.forwardRef(({className:n,...e},t)=>i.jsx(vS,{ref:t,className:Ue("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));hn.displayName=vS.displayName;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),xS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _M={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...h},p)=>w.createElement("svg",{ref:p,..._M,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:xS("lucide",o),...h},[...u.map(([g,x])=>w.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ze=(n,e)=>{const t=w.forwardRef(({className:r,...o},c)=>w.createElement(bM,{ref:c,iconNode:e,className:xS(`lucide-${wM(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],yS=ze("Bed",SM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],NM=ze("Bot",jM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],CM=ze("CalendarDays",kM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Jl=ze("Calendar",EM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],RM=ze("ChartColumn",PM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],_h=ze("CheckCheck",TM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ii=ze("Check",AM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],oy=ze("ChevronDown",IM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],MM=ze("ChevronLeft",OM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wS=ze("ChevronRight",DM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],$M=ze("ChevronUp",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ys=ze("CircleAlert",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],pd=ze("CircleCheckBig",zM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],BM=ze("CirclePlus",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],HM=ze("Circle",WM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],bh=ze("Clock",VM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],qM=ze("Cloud",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],_S=ze("CreditCard",KM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],bS=ze("DollarSign",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],mg=ze("Download",JM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],QM=ze("EllipsisVertical",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gg=ze("FileText",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],tD=ze("FileWarning",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],qh=ze("Filter",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],k0=ze("Gift",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],SS=ze("Globe",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],iD=ze("GripVertical",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],lD=ze("History",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],jS=ze("Hotel",cD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Xl=ze("House",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],fD=ze("Laptop",dD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],ad=ze("LoaderCircle",hD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],ld=ze("LogIn",pD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ea=ze("LogOut",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ug=ze("Mail",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Bg=ze("MapPin",vD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],vg=ze("MessageCircle",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],wD=ze("Package",yD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],bD=ze("Paperclip",_D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ma=ze("Phone",SD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],ND=ze("Play",jD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Rh=ze("Plus",kD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],ED=ze("Printer",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ra=ze("RefreshCw",PD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],NS=ze("Save",RD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Ql=ze("Search",TD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AD=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],iy=ze("Send",AD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],M_=ze("Server",ID);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],D_=ze("Settings",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],DD=ze("Smile",MD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],$D=ze("Sparkles",LD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FD=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],C0=ze("SquareCheckBig",FD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],UD=ze("SquarePen",zD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],zx=ze("Trash2",BD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],HD=ze("TrendingDown",WD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],kS=ze("TrendingUp",VD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qD=ze("TriangleAlert",GD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],YD=ze("Upload",KD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],XD=ze("UserCheck",JD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ys=ze("User",QD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],CS=ze("Users",ZD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],tL=ze("Video",eL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],ES=ze("Webhook",nL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ay=ze("X",rL);function sL(n,e=globalThis==null?void 0:globalThis.document){const t=Ks(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var oL="DismissableLayer",E0="dismissableLayer.update",iL="dismissableLayer.pointerDownOutside",aL="dismissableLayer.focusOutside",L_,PS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Wg=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...p}=n,g=w.useContext(PS),[x,y]=w.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),E=It(e,z=>y(z)),P=Array.from(g.layers),[N]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=P.indexOf(N),k=x?P.indexOf(x):-1,T=g.layersWithOutsidePointerEventsDisabled.size>0,O=k>=R,I=uL(z=>{const F=z.target,q=[...g.branches].some(X=>X.contains(F));!O||q||(o==null||o(z),u==null||u(z),z.defaultPrevented||h==null||h())},b),L=dL(z=>{const F=z.target;[...g.branches].some(X=>X.contains(F))||(c==null||c(z),u==null||u(z),z.defaultPrevented||h==null||h())},b);return sL(z=>{k===g.layers.size-1&&(r==null||r(z),!z.defaultPrevented&&h&&(z.preventDefault(),h()))},b),w.useEffect(()=>{if(x)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(L_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),$_(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=L_)}},[x,b,t,g]),w.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),$_())},[x,g]),w.useEffect(()=>{const z=()=>C({});return document.addEventListener(E0,z),()=>document.removeEventListener(E0,z)},[]),i.jsx(ot.div,{...p,ref:E,style:{pointerEvents:T?O?"auto":"none":void 0,...n.style},onFocusCapture:Ve(n.onFocusCapture,L.onFocusCapture),onBlurCapture:Ve(n.onBlurCapture,L.onBlurCapture),onPointerDownCapture:Ve(n.onPointerDownCapture,I.onPointerDownCapture)})});Wg.displayName=oL;var lL="DismissableLayerBranch",cL=w.forwardRef((n,e)=>{const t=w.useContext(PS),r=w.useRef(null),o=It(e,r);return w.useEffect(()=>{const c=r.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),i.jsx(ot.div,{...n,ref:o})});cL.displayName=lL;function uL(n,e=globalThis==null?void 0:globalThis.document){const t=Ks(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let p=function(){RS(iL,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function dL(n,e=globalThis==null?void 0:globalThis.document){const t=Ks(n),r=w.useRef(!1);return w.useEffect(()=>{const o=c=>{c.target&&!r.current&&RS(aL,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function $_(){const n=new CustomEvent(E0);document.dispatchEvent(n)}function RS(n,e,t,{discrete:r}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?Y1(o,c):o.dispatchEvent(c)}var Ux=0;function ly(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??F_()),document.body.insertAdjacentElement("beforeend",n[1]??F_()),Ux++,()=>{Ux===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ux--}},[])}function F_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Bx="focusScope.autoFocusOnMount",Wx="focusScope.autoFocusOnUnmount",z_={bubbles:!1,cancelable:!0},fL="FocusScope",Hg=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=n,[h,p]=w.useState(null),g=Ks(o),x=Ks(c),y=w.useRef(null),b=It(e,P=>p(P)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let P=function(T){if(C.paused||!h)return;const O=T.target;h.contains(O)?y.current=O:Na(y.current,{select:!0})},N=function(T){if(C.paused||!h)return;const O=T.relatedTarget;O!==null&&(h.contains(O)||Na(y.current,{select:!0}))},R=function(T){if(document.activeElement===document.body)for(const I of T)I.removedNodes.length>0&&Na(h)};document.addEventListener("focusin",P),document.addEventListener("focusout",N);const k=new MutationObserver(R);return h&&k.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",N),k.disconnect()}}},[r,h,C.paused]),w.useEffect(()=>{if(h){B_.add(C);const P=document.activeElement;if(!h.contains(P)){const R=new CustomEvent(Bx,z_);h.addEventListener(Bx,g),h.dispatchEvent(R),R.defaultPrevented||(hL(xL(TS(h)),{select:!0}),document.activeElement===P&&Na(h))}return()=>{h.removeEventListener(Bx,g),setTimeout(()=>{const R=new CustomEvent(Wx,z_);h.addEventListener(Wx,x),h.dispatchEvent(R),R.defaultPrevented||Na(P??document.body,{select:!0}),h.removeEventListener(Wx,x),B_.remove(C)},0)}}},[h,g,x,C]);const E=w.useCallback(P=>{if(!t&&!r||C.paused)return;const N=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,R=document.activeElement;if(N&&R){const k=P.currentTarget,[T,O]=pL(k);T&&O?!P.shiftKey&&R===O?(P.preventDefault(),t&&Na(T,{select:!0})):P.shiftKey&&R===T&&(P.preventDefault(),t&&Na(O,{select:!0})):R===k&&P.preventDefault()}},[t,r,C.paused]);return i.jsx(ot.div,{tabIndex:-1,...u,ref:b,onKeyDown:E})});Hg.displayName=fL;function hL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Na(r,{select:e}),document.activeElement!==t)return}function pL(n){const e=TS(n),t=U_(e,n),r=U_(e.reverse(),n);return[t,r]}function TS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function U_(n,e){for(const t of n)if(!mL(t,{upTo:e}))return t}function mL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function gL(n){return n instanceof HTMLInputElement&&"select"in n}function Na(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&gL(n)&&e&&n.select()}}var B_=vL();function vL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=W_(n,e),n.unshift(e)},remove(e){var t;n=W_(n,e),(t=n[0])==null||t.resume()}}}function W_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function xL(n){return n.filter(e=>e.tagName!=="A")}const yL=["top","right","bottom","left"],Ta=Math.min,Xr=Math.max,xg=Math.round,Hm=Math.floor,Oo=n=>({x:n,y:n}),wL={left:"right",right:"left",bottom:"top",top:"bottom"},_L={start:"end",end:"start"};function P0(n,e,t){return Xr(n,Ta(e,t))}function Oi(n,e){return typeof n=="function"?n(e):n}function Mi(n){return n.split("-")[0]}function bd(n){return n.split("-")[1]}function cy(n){return n==="x"?"y":"x"}function uy(n){return n==="y"?"height":"width"}const bL=new Set(["top","bottom"]);function To(n){return bL.has(Mi(n))?"y":"x"}function dy(n){return cy(To(n))}function SL(n,e,t){t===void 0&&(t=!1);const r=bd(n),o=dy(n),c=uy(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=yg(u)),[u,yg(u)]}function jL(n){const e=yg(n);return[R0(n),e,R0(e)]}function R0(n){return n.replace(/start|end/g,e=>_L[e])}const H_=["left","right"],V_=["right","left"],NL=["top","bottom"],kL=["bottom","top"];function CL(n,e,t){switch(n){case"top":case"bottom":return t?e?V_:H_:e?H_:V_;case"left":case"right":return e?NL:kL;default:return[]}}function EL(n,e,t,r){const o=bd(n);let c=CL(Mi(n),t==="start",r);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(R0)))),c}function yg(n){return n.replace(/left|right|bottom|top/g,e=>wL[e])}function PL(n){return{top:0,right:0,bottom:0,left:0,...n}}function AS(n){return typeof n!="number"?PL(n):{top:n,right:n,bottom:n,left:n}}function wg(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function G_(n,e,t){let{reference:r,floating:o}=n;const c=To(e),u=dy(e),h=uy(u),p=Mi(e),g=c==="y",x=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,b=r[h]/2-o[h]/2;let C;switch(p){case"top":C={x,y:r.y-o.height};break;case"bottom":C={x,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y};break;case"left":C={x:r.x-o.width,y};break;default:C={x:r.x,y:r.y}}switch(bd(e)){case"start":C[u]-=b*(t&&g?-1:1);break;case"end":C[u]+=b*(t&&g?-1:1);break}return C}const RL=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,h=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:o}),{x,y}=G_(g,r,p),b=r,C={},E=0;for(let P=0;P<h.length;P++){const{name:N,fn:R}=h[P],{x:k,y:T,data:O,reset:I}=await R({x,y,initialPlacement:r,placement:b,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:n,floating:e}});x=k??x,y=T??y,C={...C,[N]:{...C[N],...O}},I&&E<=50&&(E++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(g=I.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):I.rects),{x,y}=G_(g,b,p)),P=-1)}return{x,y,placement:b,strategy:o,middlewareData:C}};async function Th(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:c,rects:u,elements:h,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:b=!1,padding:C=0}=Oi(e,n),E=AS(C),N=h[b?y==="floating"?"reference":"floating":y],R=wg(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(N)))==null||t?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:g,rootBoundary:x,strategy:p})),k=y==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),O=await(c.isElement==null?void 0:c.isElement(T))?await(c.getScale==null?void 0:c.getScale(T))||{x:1,y:1}:{x:1,y:1},I=wg(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:k,offsetParent:T,strategy:p}):k);return{top:(R.top-I.top+E.top)/O.y,bottom:(I.bottom-R.bottom+E.bottom)/O.y,left:(R.left-I.left+E.left)/O.x,right:(I.right-R.right+E.right)/O.x}}const TL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:c,platform:u,elements:h,middlewareData:p}=e,{element:g,padding:x=0}=Oi(n,e)||{};if(g==null)return{};const y=AS(x),b={x:t,y:r},C=dy(o),E=uy(C),P=await u.getDimensions(g),N=C==="y",R=N?"top":"left",k=N?"bottom":"right",T=N?"clientHeight":"clientWidth",O=c.reference[E]+c.reference[C]-b[C]-c.floating[E],I=b[C]-c.reference[C],L=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let z=L?L[T]:0;(!z||!await(u.isElement==null?void 0:u.isElement(L)))&&(z=h.floating[T]||c.floating[E]);const F=O/2-I/2,q=z/2-P[E]/2-1,X=Ta(y[R],q),re=Ta(y[k],q),ae=X,pe=z-P[E]-re,me=z/2-P[E]/2+F,ke=P0(ae,me,pe),ge=!p.arrow&&bd(o)!=null&&me!==ke&&c.reference[E]/2-(me<ae?X:re)-P[E]/2<0,be=ge?me<ae?me-ae:me-pe:0;return{[C]:b[C]+be,data:{[C]:ke,centerOffset:me-ke-be,...ge&&{alignmentOffset:be}},reset:ge}}}),AL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:P=!0,...N}=Oi(n,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const R=Mi(o),k=To(h),T=Mi(h)===h,O=await(p.isRTL==null?void 0:p.isRTL(g.floating)),I=b||(T||!P?[yg(h)]:jL(h)),L=E!=="none";!b&&L&&I.push(...EL(h,P,E,O));const z=[h,...I],F=await Th(e,N),q=[];let X=((r=c.flip)==null?void 0:r.overflows)||[];if(x&&q.push(F[R]),y){const me=SL(o,u,O);q.push(F[me[0]],F[me[1]])}if(X=[...X,{placement:o,overflows:q}],!q.every(me=>me<=0)){var re,ae;const me=(((re=c.flip)==null?void 0:re.index)||0)+1,ke=z[me];if(ke&&(!(y==="alignment"?k!==To(ke):!1)||X.every(W=>W.overflows[0]>0&&To(W.placement)===k)))return{data:{index:me,overflows:X},reset:{placement:ke}};let ge=(ae=X.filter(be=>be.overflows[0]<=0).sort((be,W)=>be.overflows[1]-W.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(C){case"bestFit":{var pe;const be=(pe=X.filter(W=>{if(L){const K=To(W.placement);return K===k||K==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(K=>K>0).reduce((K,ne)=>K+ne,0)]).sort((W,K)=>W[1]-K[1])[0])==null?void 0:pe[0];be&&(ge=be);break}case"initialPlacement":ge=h;break}if(o!==ge)return{reset:{placement:ge}}}return{}}}};function q_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function K_(n){return yL.some(e=>n[e]>=0)}const IL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Oi(n,e);switch(r){case"referenceHidden":{const c=await Th(e,{...o,elementContext:"reference"}),u=q_(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:K_(u)}}}case"escaped":{const c=await Th(e,{...o,altBoundary:!0}),u=q_(c,t.floating);return{data:{escapedOffsets:u,escaped:K_(u)}}}default:return{}}}}},IS=new Set(["left","top"]);async function OL(n,e){const{placement:t,platform:r,elements:o}=n,c=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Mi(t),h=bd(t),p=To(t)==="y",g=IS.has(u)?-1:1,x=c&&p?-1:1,y=Oi(e,n);let{mainAxis:b,crossAxis:C,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof E=="number"&&(C=h==="end"?E*-1:E),p?{x:C*x,y:b*g}:{x:b*g,y:C*x}}const ML=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:c,placement:u,middlewareData:h}=e,p=await OL(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},DL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:N=>{let{x:R,y:k}=N;return{x:R,y:k}}},...p}=Oi(n,e),g={x:t,y:r},x=await Th(e,p),y=To(Mi(o)),b=cy(y);let C=g[b],E=g[y];if(c){const N=b==="y"?"top":"left",R=b==="y"?"bottom":"right",k=C+x[N],T=C-x[R];C=P0(k,C,T)}if(u){const N=y==="y"?"top":"left",R=y==="y"?"bottom":"right",k=E+x[N],T=E-x[R];E=P0(k,E,T)}const P=h.fn({...e,[b]:C,[y]:E});return{...P,data:{x:P.x-t,y:P.y-r,enabled:{[b]:c,[y]:u}}}}}},LL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:c,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:g=!0}=Oi(n,e),x={x:t,y:r},y=To(o),b=cy(y);let C=x[b],E=x[y];const P=Oi(h,e),N=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(p){const T=b==="y"?"height":"width",O=c.reference[b]-c.floating[T]+N.mainAxis,I=c.reference[b]+c.reference[T]-N.mainAxis;C<O?C=O:C>I&&(C=I)}if(g){var R,k;const T=b==="y"?"width":"height",O=IS.has(Mi(o)),I=c.reference[y]-c.floating[T]+(O&&((R=u.offset)==null?void 0:R[y])||0)+(O?0:N.crossAxis),L=c.reference[y]+c.reference[T]+(O?0:((k=u.offset)==null?void 0:k[y])||0)-(O?N.crossAxis:0);E<I?E=I:E>L&&(E=L)}return{[b]:C,[y]:E}}}},$L=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:c,platform:u,elements:h}=e,{apply:p=()=>{},...g}=Oi(n,e),x=await Th(e,g),y=Mi(o),b=bd(o),C=To(o)==="y",{width:E,height:P}=c.floating;let N,R;y==="top"||y==="bottom"?(N=y,R=b===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(R=y,N=b==="end"?"top":"bottom");const k=P-x.top-x.bottom,T=E-x.left-x.right,O=Ta(P-x[N],k),I=Ta(E-x[R],T),L=!e.middlewareData.shift;let z=O,F=I;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(F=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(z=k),L&&!b){const X=Xr(x.left,0),re=Xr(x.right,0),ae=Xr(x.top,0),pe=Xr(x.bottom,0);C?F=E-2*(X!==0||re!==0?X+re:Xr(x.left,x.right)):z=P-2*(ae!==0||pe!==0?ae+pe:Xr(x.top,x.bottom))}await p({...e,availableWidth:F,availableHeight:z});const q=await u.getDimensions(h.floating);return E!==q.width||P!==q.height?{reset:{rects:!0}}:{}}}};function Vg(){return typeof window<"u"}function Sd(n){return OS(n)?(n.nodeName||"").toLowerCase():"#document"}function Qr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function zo(n){var e;return(e=(OS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function OS(n){return Vg()?n instanceof Node||n instanceof Qr(n).Node:!1}function Js(n){return Vg()?n instanceof Element||n instanceof Qr(n).Element:!1}function Do(n){return Vg()?n instanceof HTMLElement||n instanceof Qr(n).HTMLElement:!1}function Y_(n){return!Vg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Qr(n).ShadowRoot}const FL=new Set(["inline","contents"]);function Kh(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Xs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!FL.has(o)}const zL=new Set(["table","td","th"]);function UL(n){return zL.has(Sd(n))}const BL=[":popover-open",":modal"];function Gg(n){return BL.some(e=>{try{return n.matches(e)}catch{return!1}})}const WL=["transform","translate","scale","rotate","perspective"],HL=["transform","translate","scale","rotate","perspective","filter"],VL=["paint","layout","strict","content"];function fy(n){const e=hy(),t=Js(n)?Xs(n):n;return WL.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||HL.some(r=>(t.willChange||"").includes(r))||VL.some(r=>(t.contain||"").includes(r))}function GL(n){let e=Aa(n);for(;Do(e)&&!md(e);){if(fy(e))return e;if(Gg(e))return null;e=Aa(e)}return null}function hy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const qL=new Set(["html","body","#document"]);function md(n){return qL.has(Sd(n))}function Xs(n){return Qr(n).getComputedStyle(n)}function qg(n){return Js(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Aa(n){if(Sd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||Y_(n)&&n.host||zo(n);return Y_(e)?e.host:e}function MS(n){const e=Aa(n);return md(e)?n.ownerDocument?n.ownerDocument.body:n.body:Do(e)&&Kh(e)?e:MS(e)}function Ah(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=MS(n),c=o===((r=n.ownerDocument)==null?void 0:r.body),u=Qr(o);if(c){const h=T0(u);return e.concat(u,u.visualViewport||[],Kh(o)?o:[],h&&t?Ah(h):[])}return e.concat(o,Ah(o,[],t))}function T0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function DS(n){const e=Xs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Do(n),c=o?n.offsetWidth:t,u=o?n.offsetHeight:r,h=xg(t)!==c||xg(r)!==u;return h&&(t=c,r=u),{width:t,height:r,$:h}}function py(n){return Js(n)?n:n.contextElement}function cd(n){const e=py(n);if(!Do(e))return Oo(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:c}=DS(e);let u=(c?xg(t.width):t.width)/r,h=(c?xg(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const KL=Oo(0);function LS(n){const e=Qr(n);return!hy()||!e.visualViewport?KL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function YL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Qr(n)?!1:e}function Zl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),c=py(n);let u=Oo(1);e&&(r?Js(r)&&(u=cd(r)):u=cd(n));const h=YL(c,t,r)?LS(c):Oo(0);let p=(o.left+h.x)/u.x,g=(o.top+h.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const b=Qr(c),C=r&&Js(r)?Qr(r):r;let E=b,P=T0(E);for(;P&&r&&C!==E;){const N=cd(P),R=P.getBoundingClientRect(),k=Xs(P),T=R.left+(P.clientLeft+parseFloat(k.paddingLeft))*N.x,O=R.top+(P.clientTop+parseFloat(k.paddingTop))*N.y;p*=N.x,g*=N.y,x*=N.x,y*=N.y,p+=T,g+=O,E=Qr(P),P=T0(E)}}return wg({width:x,height:y,x:p,y:g})}function my(n,e){const t=qg(n).scrollLeft;return e?e.left+t:Zl(zo(n)).left+t}function $S(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:my(n,r)),c=r.top+e.scrollTop;return{x:o,y:c}}function JL(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const c=o==="fixed",u=zo(r),h=e?Gg(e.floating):!1;if(r===u||h&&c)return t;let p={scrollLeft:0,scrollTop:0},g=Oo(1);const x=Oo(0),y=Do(r);if((y||!y&&!c)&&((Sd(r)!=="body"||Kh(u))&&(p=qg(r)),Do(r))){const C=Zl(r);g=cd(r),x.x=C.x+r.clientLeft,x.y=C.y+r.clientTop}const b=u&&!y&&!c?$S(u,p,!0):Oo(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+x.x+b.x,y:t.y*g.y-p.scrollTop*g.y+x.y+b.y}}function XL(n){return Array.from(n.getClientRects())}function QL(n){const e=zo(n),t=qg(n),r=n.ownerDocument.body,o=Xr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),c=Xr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+my(n);const h=-t.scrollTop;return Xs(r).direction==="rtl"&&(u+=Xr(e.clientWidth,r.clientWidth)-o),{width:o,height:c,x:u,y:h}}function ZL(n,e){const t=Qr(n),r=zo(n),o=t.visualViewport;let c=r.clientWidth,u=r.clientHeight,h=0,p=0;if(o){c=o.width,u=o.height;const g=hy();(!g||g&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}return{width:c,height:u,x:h,y:p}}const e$=new Set(["absolute","fixed"]);function t$(n,e){const t=Zl(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,c=Do(n)?cd(n):Oo(1),u=n.clientWidth*c.x,h=n.clientHeight*c.y,p=o*c.x,g=r*c.y;return{width:u,height:h,x:p,y:g}}function J_(n,e,t){let r;if(e==="viewport")r=ZL(n,t);else if(e==="document")r=QL(zo(n));else if(Js(e))r=t$(e,t);else{const o=LS(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return wg(r)}function FS(n,e){const t=Aa(n);return t===e||!Js(t)||md(t)?!1:Xs(t).position==="fixed"||FS(t,e)}function n$(n,e){const t=e.get(n);if(t)return t;let r=Ah(n,[],!1).filter(h=>Js(h)&&Sd(h)!=="body"),o=null;const c=Xs(n).position==="fixed";let u=c?Aa(n):n;for(;Js(u)&&!md(u);){const h=Xs(u),p=fy(u);!p&&h.position==="fixed"&&(o=null),(c?!p&&!o:!p&&h.position==="static"&&!!o&&e$.has(o.position)||Kh(u)&&!p&&FS(n,u))?r=r.filter(x=>x!==u):o=h,u=Aa(u)}return e.set(n,r),r}function r$(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?Gg(e)?[]:n$(e,this._c):[].concat(t),r],h=u[0],p=u.reduce((g,x)=>{const y=J_(e,x,o);return g.top=Xr(y.top,g.top),g.right=Ta(y.right,g.right),g.bottom=Ta(y.bottom,g.bottom),g.left=Xr(y.left,g.left),g},J_(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function s$(n){const{width:e,height:t}=DS(n);return{width:e,height:t}}function o$(n,e,t){const r=Do(e),o=zo(e),c=t==="fixed",u=Zl(n,!0,c,e);let h={scrollLeft:0,scrollTop:0};const p=Oo(0);function g(){p.x=my(o)}if(r||!r&&!c)if((Sd(e)!=="body"||Kh(o))&&(h=qg(e)),r){const C=Zl(e,!0,c,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();c&&!r&&o&&g();const x=o&&!r&&!c?$S(o,h):Oo(0),y=u.left+h.scrollLeft-p.x-x.x,b=u.top+h.scrollTop-p.y-x.y;return{x:y,y:b,width:u.width,height:u.height}}function Hx(n){return Xs(n).position==="static"}function X_(n,e){if(!Do(n)||Xs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return zo(n)===t&&(t=t.ownerDocument.body),t}function zS(n,e){const t=Qr(n);if(Gg(n))return t;if(!Do(n)){let o=Aa(n);for(;o&&!md(o);){if(Js(o)&&!Hx(o))return o;o=Aa(o)}return t}let r=X_(n,e);for(;r&&UL(r)&&Hx(r);)r=X_(r,e);return r&&md(r)&&Hx(r)&&!fy(r)?t:r||GL(n)||t}const i$=async function(n){const e=this.getOffsetParent||zS,t=this.getDimensions,r=await t(n.floating);return{reference:o$(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function a$(n){return Xs(n).direction==="rtl"}const l$={convertOffsetParentRelativeRectToViewportRelativeRect:JL,getDocumentElement:zo,getClippingRect:r$,getOffsetParent:zS,getElementRects:i$,getClientRects:XL,getDimensions:s$,getScale:cd,isElement:Js,isRTL:a$};function US(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function c$(n,e){let t=null,r;const o=zo(n);function c(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),c();const g=n.getBoundingClientRect(),{left:x,top:y,width:b,height:C}=g;if(h||e(),!b||!C)return;const E=Hm(y),P=Hm(o.clientWidth-(x+b)),N=Hm(o.clientHeight-(y+C)),R=Hm(x),T={rootMargin:-E+"px "+-P+"px "+-N+"px "+-R+"px",threshold:Xr(0,Ta(1,p))||1};let O=!0;function I(L){const z=L[0].intersectionRatio;if(z!==p){if(!O)return u();z?u(!1,z):r=setTimeout(()=>{u(!1,1e-7)},1e3)}z===1&&!US(g,n.getBoundingClientRect())&&u(),O=!1}try{t=new IntersectionObserver(I,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(I,T)}t.observe(n)}return u(!0),c}function u$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,g=py(n),x=o||c?[...g?Ah(g):[],...Ah(e)]:[];x.forEach(R=>{o&&R.addEventListener("scroll",t,{passive:!0}),c&&R.addEventListener("resize",t)});const y=g&&h?c$(g,t):null;let b=-1,C=null;u&&(C=new ResizeObserver(R=>{let[k]=R;k&&k.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let E,P=p?Zl(n):null;p&&N();function N(){const R=Zl(n);P&&!US(P,R)&&t(),P=R,E=requestAnimationFrame(N)}return t(),()=>{var R;x.forEach(k=>{o&&k.removeEventListener("scroll",t),c&&k.removeEventListener("resize",t)}),y==null||y(),(R=C)==null||R.disconnect(),C=null,p&&cancelAnimationFrame(E)}}const d$=ML,f$=DL,h$=AL,p$=$L,m$=IL,Q_=TL,g$=LL,v$=(n,e,t)=>{const r=new Map,o={platform:l$,...t},c={...o.platform,_c:r};return RL(n,e,{...o,platform:c})};var x$=typeof document<"u",y$=function(){},tg=x$?w.useLayoutEffect:y$;function _g(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!_g(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const c=o[r];if(!(c==="_owner"&&n.$$typeof)&&!_g(n[c],e[c]))return!1}return!0}return n!==n&&e!==e}function BS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function Z_(n,e){const t=BS(n);return Math.round(e*t)/t}function Vx(n){const e=w.useRef(n);return tg(()=>{e.current=n}),e}function w$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:p,open:g}=n,[x,y]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,C]=w.useState(r);_g(b,r)||C(r);const[E,P]=w.useState(null),[N,R]=w.useState(null),k=w.useCallback(W=>{W!==L.current&&(L.current=W,P(W))},[]),T=w.useCallback(W=>{W!==z.current&&(z.current=W,R(W))},[]),O=c||E,I=u||N,L=w.useRef(null),z=w.useRef(null),F=w.useRef(x),q=p!=null,X=Vx(p),re=Vx(o),ae=Vx(g),pe=w.useCallback(()=>{if(!L.current||!z.current)return;const W={placement:e,strategy:t,middleware:b};re.current&&(W.platform=re.current),v$(L.current,z.current,W).then(K=>{const ne={...K,isPositioned:ae.current!==!1};me.current&&!_g(F.current,ne)&&(F.current=ne,Uh.flushSync(()=>{y(ne)}))})},[b,e,t,re,ae]);tg(()=>{g===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,y(W=>({...W,isPositioned:!1})))},[g]);const me=w.useRef(!1);tg(()=>(me.current=!0,()=>{me.current=!1}),[]),tg(()=>{if(O&&(L.current=O),I&&(z.current=I),O&&I){if(X.current)return X.current(O,I,pe);pe()}},[O,I,pe,X,q]);const ke=w.useMemo(()=>({reference:L,floating:z,setReference:k,setFloating:T}),[k,T]),ge=w.useMemo(()=>({reference:O,floating:I}),[O,I]),be=w.useMemo(()=>{const W={position:t,left:0,top:0};if(!ge.floating)return W;const K=Z_(ge.floating,x.x),ne=Z_(ge.floating,x.y);return h?{...W,transform:"translate("+K+"px, "+ne+"px)",...BS(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:ne}},[t,h,ge.floating,x.x,x.y]);return w.useMemo(()=>({...x,update:pe,refs:ke,elements:ge,floatingStyles:be}),[x,pe,ke,ge,be])}const _$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?Q_({element:r.current,padding:o}).fn(t):{}:r?Q_({element:r,padding:o}).fn(t):{}}}},b$=(n,e)=>({...d$(n),options:[n,e]}),S$=(n,e)=>({...f$(n),options:[n,e]}),j$=(n,e)=>({...g$(n),options:[n,e]}),N$=(n,e)=>({...h$(n),options:[n,e]}),k$=(n,e)=>({...p$(n),options:[n,e]}),C$=(n,e)=>({...m$(n),options:[n,e]}),E$=(n,e)=>({..._$(n),options:[n,e]});var P$="Arrow",WS=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...c}=n;return i.jsx(ot.svg,{...c,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:i.jsx("polygon",{points:"0,0 30,0 15,10"})})});WS.displayName=P$;var R$=WS;function T$(n){const[e,t]=w.useState(void 0);return yn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,h;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,h=g.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var gy="Popper",[HS,Kg]=Ss(gy),[A$,VS]=HS(gy),GS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return i.jsx(A$,{scope:e,anchor:r,onAnchorChange:o,children:t})};GS.displayName=gy;var qS="PopperAnchor",KS=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,c=VS(qS,t),u=w.useRef(null),h=It(e,u);return w.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:i.jsx(ot.div,{...o,ref:h})});KS.displayName=qS;var vy="PopperContent",[I$,O$]=HS(vy),YS=w.forwardRef((n,e)=>{var te,fe,je,Ce,He,Le;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:C="optimized",onPlaced:E,...P}=n,N=VS(vy,t),[R,k]=w.useState(null),T=It(e,tt=>k(tt)),[O,I]=w.useState(null),L=T$(O),z=(L==null?void 0:L.width)??0,F=(L==null?void 0:L.height)??0,q=r+(c!=="center"?"-"+c:""),X=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},re=Array.isArray(g)?g:[g],ae=re.length>0,pe={padding:X,boundary:re.filter(D$),altBoundary:ae},{refs:me,floatingStyles:ke,placement:ge,isPositioned:be,middlewareData:W}=w$({strategy:"fixed",placement:q,whileElementsMounted:(...tt)=>u$(...tt,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[b$({mainAxis:o+F,alignmentAxis:u}),p&&S$({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?j$():void 0,...pe}),p&&N$({...pe}),k$({...pe,apply:({elements:tt,rects:vt,availableWidth:mn,availableHeight:or})=>{const{width:Yt,height:en}=vt.reference,Mr=tt.floating.style;Mr.setProperty("--radix-popper-available-width",`${mn}px`),Mr.setProperty("--radix-popper-available-height",`${or}px`),Mr.setProperty("--radix-popper-anchor-width",`${Yt}px`),Mr.setProperty("--radix-popper-anchor-height",`${en}px`)}}),O&&E$({element:O,padding:h}),L$({arrowWidth:z,arrowHeight:F}),b&&C$({strategy:"referenceHidden",...pe})]}),[K,ne]=QS(ge),B=Ks(E);yn(()=>{be&&(B==null||B())},[be,B]);const U=(te=W.arrow)==null?void 0:te.x,V=(fe=W.arrow)==null?void 0:fe.y,oe=((je=W.arrow)==null?void 0:je.centerOffset)!==0,[ue,he]=w.useState();return yn(()=>{R&&he(window.getComputedStyle(R).zIndex)},[R]),i.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:be?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ce=W.transformOrigin)==null?void 0:Ce.x,(He=W.transformOrigin)==null?void 0:He.y].join(" "),...((Le=W.hide)==null?void 0:Le.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:i.jsx(I$,{scope:t,placedSide:K,onArrowChange:I,arrowX:U,arrowY:V,shouldHideArrow:oe,children:i.jsx(ot.div,{"data-side":K,"data-align":ne,...P,ref:T,style:{...P.style,animation:be?void 0:"none"}})})})});YS.displayName=vy;var JS="PopperArrow",M$={top:"bottom",right:"left",bottom:"top",left:"right"},XS=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,c=O$(JS,r),u=M$[c.placedSide];return i.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:i.jsx(R$,{...o,ref:t,style:{...o.style,display:"block"}})})});XS.displayName=JS;function D$(n){return n!==null}var L$=n=>({name:"transformOrigin",options:n,fn(e){var N,R,k;const{placement:t,rects:r,middlewareData:o}=e,u=((N=o.arrow)==null?void 0:N.centerOffset)!==0,h=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[g,x]=QS(t),y={start:"0%",center:"50%",end:"100%"}[x],b=(((R=o.arrow)==null?void 0:R.x)??0)+h/2,C=(((k=o.arrow)==null?void 0:k.y)??0)+p/2;let E="",P="";return g==="bottom"?(E=u?y:`${b}px`,P=`${-p}px`):g==="top"?(E=u?y:`${b}px`,P=`${r.floating.height+p}px`):g==="right"?(E=`${-p}px`,P=u?y:`${C}px`):g==="left"&&(E=`${r.floating.width+p}px`,P=u?y:`${C}px`),{data:{x:E,y:P}}}});function QS(n){const[e,t="center"]=n.split("-");return[e,t]}var ZS=GS,ej=KS,tj=YS,nj=XS,$$="Portal",Yg=w.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[o,c]=w.useState(!1);yn(()=>c(!0),[]);const u=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?QT.createPortal(i.jsx(ot.div,{...r,ref:e}),u):null});Yg.displayName=$$;var F$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Qu=new WeakMap,Vm=new WeakMap,Gm={},Gx=0,rj=function(n){return n&&(n.host||rj(n.parentNode))},z$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=rj(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},U$=function(n,e,t,r){var o=z$(e,Array.isArray(n)?n:[n]);Gm[t]||(Gm[t]=new WeakMap);var c=Gm[t],u=[],h=new Set,p=new Set(o),g=function(y){!y||h.has(y)||(h.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(b){if(h.has(b))x(b);else try{var C=b.getAttribute(r),E=C!==null&&C!=="false",P=(Qu.get(b)||0)+1,N=(c.get(b)||0)+1;Qu.set(b,P),c.set(b,N),u.push(b),P===1&&E&&Vm.set(b,!0),N===1&&b.setAttribute(t,"true"),E||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return x(e),h.clear(),Gx++,function(){u.forEach(function(y){var b=Qu.get(y)-1,C=c.get(y)-1;Qu.set(y,b),c.set(y,C),b||(Vm.has(y)||y.removeAttribute(r),Vm.delete(y)),C||y.removeAttribute(t)}),Gx--,Gx||(Qu=new WeakMap,Qu=new WeakMap,Vm=new WeakMap,Gm={})}},xy=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=F$(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),U$(r,o,t,"aria-hidden")):function(){return null}},Co=function(){return Co=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Co.apply(this,arguments)};function sj(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function B$(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,c;r<o;r++)(c||!(r in e))&&(c||(c=Array.prototype.slice.call(e,0,r)),c[r]=e[r]);return n.concat(c||Array.prototype.slice.call(e))}var ng="right-scroll-bar-position",rg="width-before-scroll-bar",W$="with-scroll-bars-hidden",H$="--removed-body-scroll-bar-size";function qx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function V$(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var G$=typeof window<"u"?w.useLayoutEffect:w.useEffect,eb=new WeakMap;function q$(n,e){var t=V$(null,function(r){return n.forEach(function(o){return qx(o,r)})});return G$(function(){var r=eb.get(t);if(r){var o=new Set(r),c=new Set(n),u=t.current;o.forEach(function(h){c.has(h)||qx(h,null)}),c.forEach(function(h){o.has(h)||qx(h,u)})}eb.set(t,n)},[n]),t}function K$(n){return n}function Y$(n,e){e===void 0&&(e=K$);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var u=e(c,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(r=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(c),u=t}var p=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),t}}}};return o}function J$(n){n===void 0&&(n={});var e=Y$(null);return e.options=Co({async:!0,ssr:!1},n),e}var oj=function(n){var e=n.sideCar,t=sj(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Co({},t))};oj.isSideCarExport=!0;function X$(n,e){return n.useMedium(e),oj}var ij=J$(),Kx=function(){},Jg=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:Kx,onWheelCapture:Kx,onTouchMoveCapture:Kx}),o=r[0],c=r[1],u=n.forwardProps,h=n.children,p=n.className,g=n.removeScrollBar,x=n.enabled,y=n.shards,b=n.sideCar,C=n.noRelative,E=n.noIsolation,P=n.inert,N=n.allowPinchZoom,R=n.as,k=R===void 0?"div":R,T=n.gapMode,O=sj(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,L=q$([t,e]),z=Co(Co({},O),o);return w.createElement(w.Fragment,null,x&&w.createElement(I,{sideCar:ij,removeScrollBar:g,shards:y,noRelative:C,noIsolation:E,inert:P,setCallbacks:c,allowPinchZoom:!!N,lockRef:t,gapMode:T}),u?w.cloneElement(w.Children.only(h),Co(Co({},z),{ref:L})):w.createElement(k,Co({},z,{className:p,ref:L}),h))});Jg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Jg.classNames={fullWidth:rg,zeroRight:ng};var Q$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Z$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=Q$();return e&&n.setAttribute("nonce",e),n}function e4(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function t4(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var n4=function(){var n=0,e=null;return{add:function(t){n==0&&(e=Z$())&&(e4(e,t),t4(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},r4=function(){var n=n4();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},aj=function(){var n=r4(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},s4={left:0,top:0,right:0,gap:0},Yx=function(n){return parseInt(n||"",10)||0},o4=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Yx(t),Yx(r),Yx(o)]},i4=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return s4;var e=o4(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},a4=aj(),ud="data-scroll-locked",l4=function(n,e,t,r){var o=n.left,c=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(W$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(ud,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(ng,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(rg,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(ng," .").concat(ng,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rg," .").concat(rg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ud,`] {
    `).concat(H$,": ").concat(h,`px;
  }
`)},tb=function(){var n=parseInt(document.body.getAttribute(ud)||"0",10);return isFinite(n)?n:0},c4=function(){w.useEffect(function(){return document.body.setAttribute(ud,(tb()+1).toString()),function(){var n=tb()-1;n<=0?document.body.removeAttribute(ud):document.body.setAttribute(ud,n.toString())}},[])},u4=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;c4();var c=w.useMemo(function(){return i4(o)},[o]);return w.createElement(a4,{styles:l4(c,!e,o,t?"":"!important")})},A0=!1;if(typeof window<"u")try{var qm=Object.defineProperty({},"passive",{get:function(){return A0=!0,!0}});window.addEventListener("test",qm,qm),window.removeEventListener("test",qm,qm)}catch{A0=!1}var Zu=A0?{passive:!1}:!1,d4=function(n){return n.tagName==="TEXTAREA"},lj=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!d4(n)&&t[e]==="visible")},f4=function(n){return lj(n,"overflowY")},h4=function(n){return lj(n,"overflowX")},nb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=cj(n,r);if(o){var c=uj(n,r),u=c[1],h=c[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},p4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},m4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},cj=function(n,e){return n==="v"?f4(e):h4(e)},uj=function(n,e){return n==="v"?p4(e):m4(e)},g4=function(n,e){return n==="h"&&e==="rtl"?-1:1},v4=function(n,e,t,r,o){var c=g4(n,window.getComputedStyle(e).direction),u=c*r,h=t.target,p=e.contains(h),g=!1,x=u>0,y=0,b=0;do{if(!h)break;var C=uj(n,h),E=C[0],P=C[1],N=C[2],R=P-N-c*E;(E||R)&&cj(n,h)&&(y+=R,b+=E);var k=h.parentNode;h=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(x&&Math.abs(y)<1||!x&&Math.abs(b)<1)&&(g=!0),g},Km=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},rb=function(n){return[n.deltaX,n.deltaY]},sb=function(n){return n&&"current"in n?n.current:n},x4=function(n,e){return n[0]===e[0]&&n[1]===e[1]},y4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},w4=0,ed=[];function _4(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(w4++)[0],c=w.useState(aj)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var P=B$([n.lockRef.current],(n.shards||[]).map(sb),!0).filter(Boolean);return P.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),P.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=w.useCallback(function(P,N){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!u.current.allowPinchZoom;var R=Km(P),k=t.current,T="deltaX"in P?P.deltaX:k[0]-R[0],O="deltaY"in P?P.deltaY:k[1]-R[1],I,L=P.target,z=Math.abs(T)>Math.abs(O)?"h":"v";if("touches"in P&&z==="h"&&L.type==="range")return!1;var F=nb(z,L);if(!F)return!0;if(F?I=z:(I=z==="v"?"h":"v",F=nb(z,L)),!F)return!1;if(!r.current&&"changedTouches"in P&&(T||O)&&(r.current=I),!I)return!0;var q=r.current||I;return v4(q,N,P,q==="h"?T:O)},[]),p=w.useCallback(function(P){var N=P;if(!(!ed.length||ed[ed.length-1]!==c)){var R="deltaY"in N?rb(N):Km(N),k=e.current.filter(function(I){return I.name===N.type&&(I.target===N.target||N.target===I.shadowParent)&&x4(I.delta,R)})[0];if(k&&k.should){N.cancelable&&N.preventDefault();return}if(!k){var T=(u.current.shards||[]).map(sb).filter(Boolean).filter(function(I){return I.contains(N.target)}),O=T.length>0?h(N,T[0]):!u.current.noIsolation;O&&N.cancelable&&N.preventDefault()}}},[]),g=w.useCallback(function(P,N,R,k){var T={name:P,delta:N,target:R,should:k,shadowParent:b4(R)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(O){return O!==T})},1)},[]),x=w.useCallback(function(P){t.current=Km(P),r.current=void 0},[]),y=w.useCallback(function(P){g(P.type,rb(P),P.target,h(P,n.lockRef.current))},[]),b=w.useCallback(function(P){g(P.type,Km(P),P.target,h(P,n.lockRef.current))},[]);w.useEffect(function(){return ed.push(c),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Zu),document.addEventListener("touchmove",p,Zu),document.addEventListener("touchstart",x,Zu),function(){ed=ed.filter(function(P){return P!==c}),document.removeEventListener("wheel",p,Zu),document.removeEventListener("touchmove",p,Zu),document.removeEventListener("touchstart",x,Zu)}},[]);var C=n.removeScrollBar,E=n.inert;return w.createElement(w.Fragment,null,E?w.createElement(c,{styles:y4(o)}):null,C?w.createElement(u4,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function b4(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const S4=X$(ij,_4);var Xg=w.forwardRef(function(n,e){return w.createElement(Jg,Co({},n,{ref:e,sideCar:S4}))});Xg.classNames=Jg.classNames;var I0=["Enter"," "],j4=["ArrowDown","PageUp","Home"],dj=["ArrowUp","PageDown","End"],N4=[...j4,...dj],k4={ltr:[...I0,"ArrowRight"],rtl:[...I0,"ArrowLeft"]},C4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Yh="Menu",[Ih,E4,P4]=$g(Yh),[lc,fj]=Ss(Yh,[P4,Kg,Fg]),Qg=Kg(),hj=Fg(),[R4,cc]=lc(Yh),[T4,Jh]=lc(Yh),pj=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:c,modal:u=!0}=n,h=Qg(e),[p,g]=w.useState(null),x=w.useRef(!1),y=Ks(c),b=Vh(o);return w.useEffect(()=>{const C=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),i.jsx(ZS,{...h,children:i.jsx(R4,{scope:e,open:t,onOpenChange:y,content:p,onContentChange:g,children:i.jsx(T4,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:x,dir:b,modal:u,children:r})})})};pj.displayName=Yh;var A4="MenuAnchor",yy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Qg(t);return i.jsx(ej,{...o,...r,ref:e})});yy.displayName=A4;var wy="MenuPortal",[I4,mj]=lc(wy,{forceMount:void 0}),gj=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,c=cc(wy,e);return i.jsx(I4,{scope:e,forceMount:t,children:i.jsx(Fo,{present:t||c.open,children:i.jsx(Yg,{asChild:!0,container:o,children:r})})})};gj.displayName=wy;var ws="MenuContent",[O4,_y]=lc(ws),vj=w.forwardRef((n,e)=>{const t=mj(ws,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=cc(ws,n.__scopeMenu),u=Jh(ws,n.__scopeMenu);return i.jsx(Ih.Provider,{scope:n.__scopeMenu,children:i.jsx(Fo,{present:r||c.open,children:i.jsx(Ih.Slot,{scope:n.__scopeMenu,children:u.modal?i.jsx(M4,{...o,ref:e}):i.jsx(D4,{...o,ref:e})})})})}),M4=w.forwardRef((n,e)=>{const t=cc(ws,n.__scopeMenu),r=w.useRef(null),o=It(e,r);return w.useEffect(()=>{const c=r.current;if(c)return xy(c)},[]),i.jsx(by,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ve(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),D4=w.forwardRef((n,e)=>{const t=cc(ws,n.__scopeMenu);return i.jsx(by,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),L4=Yl("MenuContent.ScrollLock"),by=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,disableOutsideScroll:E,...P}=n,N=cc(ws,t),R=Jh(ws,t),k=Qg(t),T=hj(t),O=E4(t),[I,L]=w.useState(null),z=w.useRef(null),F=It(e,z,N.onContentChange),q=w.useRef(0),X=w.useRef(""),re=w.useRef(0),ae=w.useRef(null),pe=w.useRef("right"),me=w.useRef(0),ke=E?Xg:w.Fragment,ge=E?{as:L4,allowPinchZoom:!0}:void 0,be=K=>{var te,fe;const ne=X.current+K,B=O().filter(je=>!je.disabled),U=document.activeElement,V=(te=B.find(je=>je.ref.current===U))==null?void 0:te.textValue,oe=B.map(je=>je.textValue),ue=Y4(oe,ne,V),he=(fe=B.find(je=>je.textValue===ue))==null?void 0:fe.ref.current;(function je(Ce){X.current=Ce,window.clearTimeout(q.current),Ce!==""&&(q.current=window.setTimeout(()=>je(""),1e3))})(ne),he&&setTimeout(()=>he.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),ly();const W=w.useCallback(K=>{var B,U;return pe.current===((B=ae.current)==null?void 0:B.side)&&X4(K,(U=ae.current)==null?void 0:U.area)},[]);return i.jsx(O4,{scope:t,searchRef:X,onItemEnter:w.useCallback(K=>{W(K)&&K.preventDefault()},[W]),onItemLeave:w.useCallback(K=>{var ne;W(K)||((ne=z.current)==null||ne.focus(),L(null))},[W]),onTriggerLeave:w.useCallback(K=>{W(K)&&K.preventDefault()},[W]),pointerGraceTimerRef:re,onPointerGraceIntentChange:w.useCallback(K=>{ae.current=K},[]),children:i.jsx(ke,{...ge,children:i.jsx(Hg,{asChild:!0,trapped:o,onMountAutoFocus:Ve(c,K=>{var ne;K.preventDefault(),(ne=z.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:i.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,children:i.jsx(rS,{asChild:!0,...T,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:L,onEntryFocus:Ve(p,K=>{R.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:i.jsx(tj,{role:"menu","aria-orientation":"vertical","data-state":Ij(N.open),"data-radix-menu-content":"",dir:R.dir,...k,...P,ref:F,style:{outline:"none",...P.style},onKeyDown:Ve(P.onKeyDown,K=>{const B=K.target.closest("[data-radix-menu-content]")===K.currentTarget,U=K.ctrlKey||K.altKey||K.metaKey,V=K.key.length===1;B&&(K.key==="Tab"&&K.preventDefault(),!U&&V&&be(K.key));const oe=z.current;if(K.target!==oe||!N4.includes(K.key))return;K.preventDefault();const he=O().filter(te=>!te.disabled).map(te=>te.ref.current);dj.includes(K.key)&&he.reverse(),q4(he)}),onBlur:Ve(n.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(q.current),X.current="")}),onPointerMove:Ve(n.onPointerMove,Oh(K=>{const ne=K.target,B=me.current!==K.clientX;if(K.currentTarget.contains(ne)&&B){const U=K.clientX>me.current?"right":"left";pe.current=U,me.current=K.clientX}}))})})})})})})});vj.displayName=ws;var $4="MenuGroup",Sy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return i.jsx(ot.div,{role:"group",...r,ref:e})});Sy.displayName=$4;var F4="MenuLabel",xj=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return i.jsx(ot.div,{...r,ref:e})});xj.displayName=F4;var bg="MenuItem",ob="menu.itemSelect",Zg=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,c=w.useRef(null),u=Jh(bg,n.__scopeMenu),h=_y(bg,n.__scopeMenu),p=It(e,c),g=w.useRef(!1),x=()=>{const y=c.current;if(!t&&y){const b=new CustomEvent(ob,{bubbles:!0,cancelable:!0});y.addEventListener(ob,C=>r==null?void 0:r(C),{once:!0}),Y1(y,b),b.defaultPrevented?g.current=!1:u.onClose()}};return i.jsx(yj,{...o,ref:p,disabled:t,onClick:Ve(n.onClick,x),onPointerDown:y=>{var b;(b=n.onPointerDown)==null||b.call(n,y),g.current=!0},onPointerUp:Ve(n.onPointerUp,y=>{var b;g.current||(b=y.currentTarget)==null||b.click()}),onKeyDown:Ve(n.onKeyDown,y=>{const b=h.searchRef.current!=="";t||b&&y.key===" "||I0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Zg.displayName=bg;var yj=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...c}=n,u=_y(bg,t),h=hj(t),p=w.useRef(null),g=It(e,p),[x,y]=w.useState(!1),[b,C]=w.useState("");return w.useEffect(()=>{const E=p.current;E&&C((E.textContent??"").trim())},[c.children]),i.jsx(Ih.ItemSlot,{scope:t,disabled:r,textValue:o??b,children:i.jsx(sS,{asChild:!0,...h,focusable:!r,children:i.jsx(ot.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:g,onPointerMove:Ve(n.onPointerMove,Oh(E=>{r?u.onItemLeave(E):(u.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ve(n.onPointerLeave,Oh(E=>u.onItemLeave(E))),onFocus:Ve(n.onFocus,()=>y(!0)),onBlur:Ve(n.onBlur,()=>y(!1))})})})}),z4="MenuCheckboxItem",wj=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return i.jsx(Nj,{scope:n.__scopeMenu,checked:t,children:i.jsx(Zg,{role:"menuitemcheckbox","aria-checked":Sg(t)?"mixed":t,...o,ref:e,"data-state":Ny(t),onSelect:Ve(o.onSelect,()=>r==null?void 0:r(Sg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});wj.displayName=z4;var _j="MenuRadioGroup",[U4,B4]=lc(_j,{value:void 0,onValueChange:()=>{}}),bj=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,c=Ks(r);return i.jsx(U4,{scope:n.__scopeMenu,value:t,onValueChange:c,children:i.jsx(Sy,{...o,ref:e})})});bj.displayName=_j;var Sj="MenuRadioItem",jj=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=B4(Sj,n.__scopeMenu),c=t===o.value;return i.jsx(Nj,{scope:n.__scopeMenu,checked:c,children:i.jsx(Zg,{role:"menuitemradio","aria-checked":c,...r,ref:e,"data-state":Ny(c),onSelect:Ve(r.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,t)},{checkForDefaultPrevented:!1})})})});jj.displayName=Sj;var jy="MenuItemIndicator",[Nj,W4]=lc(jy,{checked:!1}),kj=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,c=W4(jy,t);return i.jsx(Fo,{present:r||Sg(c.checked)||c.checked===!0,children:i.jsx(ot.span,{...o,ref:e,"data-state":Ny(c.checked)})})});kj.displayName=jy;var H4="MenuSeparator",Cj=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return i.jsx(ot.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Cj.displayName=H4;var V4="MenuArrow",Ej=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Qg(t);return i.jsx(nj,{...o,...r,ref:e})});Ej.displayName=V4;var G4="MenuSub",[oU,Pj]=lc(G4),hh="MenuSubTrigger",Rj=w.forwardRef((n,e)=>{const t=cc(hh,n.__scopeMenu),r=Jh(hh,n.__scopeMenu),o=Pj(hh,n.__scopeMenu),c=_y(hh,n.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:p}=c,g={__scopeMenu:n.__scopeMenu},x=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>x,[x]),w.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),p(null)}},[h,p]),i.jsx(yy,{asChild:!0,...g,children:i.jsx(yj,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":Ij(t.open),...n,ref:Lg(e,o.onTriggerChange),onClick:y=>{var b;(b=n.onClick)==null||b.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ve(n.onPointerMove,Oh(y=>{c.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),x()},100))})),onPointerLeave:Ve(n.onPointerLeave,Oh(y=>{var C,E;x();const b=(C=t.content)==null?void 0:C.getBoundingClientRect();if(b){const P=(E=t.content)==null?void 0:E.dataset.side,N=P==="right",R=N?-5:5,k=b[N?"left":"right"],T=b[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+R,y:y.clientY},{x:k,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:k,y:b.bottom}],side:P}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Ve(n.onKeyDown,y=>{var C;const b=c.searchRef.current!=="";n.disabled||b&&y.key===" "||k4[r.dir].includes(y.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),y.preventDefault())})})})});Rj.displayName=hh;var Tj="MenuSubContent",Aj=w.forwardRef((n,e)=>{const t=mj(ws,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=cc(ws,n.__scopeMenu),u=Jh(ws,n.__scopeMenu),h=Pj(Tj,n.__scopeMenu),p=w.useRef(null),g=It(e,p);return i.jsx(Ih.Provider,{scope:n.__scopeMenu,children:i.jsx(Fo,{present:r||c.open,children:i.jsx(Ih.Slot,{scope:n.__scopeMenu,children:i.jsx(by,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var y;u.isUsingKeyboardRef.current&&((y=p.current)==null||y.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:Ve(n.onFocusOutside,x=>{x.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Ve(n.onEscapeKeyDown,x=>{u.onClose(),x.preventDefault()}),onKeyDown:Ve(n.onKeyDown,x=>{var C;const y=x.currentTarget.contains(x.target),b=C4[u.dir].includes(x.key);y&&b&&(c.onOpenChange(!1),(C=h.trigger)==null||C.focus(),x.preventDefault())})})})})})});Aj.displayName=Tj;function Ij(n){return n?"open":"closed"}function Sg(n){return n==="indeterminate"}function Ny(n){return Sg(n)?"indeterminate":n?"checked":"unchecked"}function q4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function K4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function Y4(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=K4(n,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function J4(n,e){const{x:t,y:r}=n;let o=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const h=e[c],p=e[u],g=h.x,x=h.y,y=p.x,b=p.y;x>r!=b>r&&t<(y-g)*(r-x)/(b-x)+g&&(o=!o)}return o}function X4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return J4(t,e)}function Oh(n){return e=>e.pointerType==="mouse"?n(e):void 0}var Q4=pj,Z4=yy,e3=gj,t3=vj,n3=Sy,r3=xj,s3=Zg,o3=wj,i3=bj,a3=jj,l3=kj,c3=Cj,u3=Ej,d3=Rj,f3=Aj,ev="DropdownMenu",[h3,iU]=Ss(ev,[fj]),vr=fj(),[p3,Oj]=h3(ev),Mj=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:c,onOpenChange:u,modal:h=!0}=n,p=vr(e),g=w.useRef(null),[x,y]=Ai({prop:o,defaultProp:c??!1,onChange:u,caller:ev});return i.jsx(p3,{scope:e,triggerId:xs(),triggerRef:g,contentId:xs(),open:x,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),modal:h,children:i.jsx(Q4,{...p,open:x,onOpenChange:y,dir:r,modal:h,children:t})})};Mj.displayName=ev;var Dj="DropdownMenuTrigger",Lj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,c=Oj(Dj,t),u=vr(t);return i.jsx(Z4,{asChild:!0,...u,children:i.jsx(ot.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Lg(e,c.triggerRef),onPointerDown:Ve(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:Ve(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});Lj.displayName=Dj;var m3="DropdownMenuPortal",$j=n=>{const{__scopeDropdownMenu:e,...t}=n,r=vr(e);return i.jsx(e3,{...r,...t})};$j.displayName=m3;var Fj="DropdownMenuContent",zj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Oj(Fj,t),c=vr(t),u=w.useRef(!1);return i.jsx(t3,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...r,ref:e,onCloseAutoFocus:Ve(n.onCloseAutoFocus,h=>{var p;u.current||(p=o.triggerRef.current)==null||p.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:Ve(n.onInteractOutside,h=>{const p=h.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,x=p.button===2||g;(!o.modal||x)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});zj.displayName=Fj;var g3="DropdownMenuGroup",v3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(n3,{...o,...r,ref:e})});v3.displayName=g3;var x3="DropdownMenuLabel",Uj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(r3,{...o,...r,ref:e})});Uj.displayName=x3;var y3="DropdownMenuItem",Bj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(s3,{...o,...r,ref:e})});Bj.displayName=y3;var w3="DropdownMenuCheckboxItem",Wj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(o3,{...o,...r,ref:e})});Wj.displayName=w3;var _3="DropdownMenuRadioGroup",b3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(i3,{...o,...r,ref:e})});b3.displayName=_3;var S3="DropdownMenuRadioItem",Hj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(a3,{...o,...r,ref:e})});Hj.displayName=S3;var j3="DropdownMenuItemIndicator",Vj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(l3,{...o,...r,ref:e})});Vj.displayName=j3;var N3="DropdownMenuSeparator",Gj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(c3,{...o,...r,ref:e})});Gj.displayName=N3;var k3="DropdownMenuArrow",C3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(u3,{...o,...r,ref:e})});C3.displayName=k3;var E3="DropdownMenuSubTrigger",qj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(d3,{...o,...r,ref:e})});qj.displayName=E3;var P3="DropdownMenuSubContent",Kj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=vr(t);return i.jsx(f3,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Kj.displayName=P3;var R3=Mj,T3=Lj,A3=$j,Yj=zj,Jj=Uj,Xj=Bj,Qj=Wj,Zj=Hj,eN=Vj,tN=Gj,nN=qj,rN=Kj;const ib=R3,ab=T3,I3=w.forwardRef(({className:n,inset:e,children:t,...r},o)=>i.jsxs(nN,{ref:o,className:Ue("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,i.jsx(wS,{className:"ml-auto"})]}));I3.displayName=nN.displayName;const O3=w.forwardRef(({className:n,...e},t)=>i.jsx(rN,{ref:t,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));O3.displayName=rN.displayName;const O0=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>i.jsx(A3,{children:i.jsx(Yj,{ref:r,sideOffset:e,className:Ue("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));O0.displayName=Yj.displayName;const M0=w.forwardRef(({className:n,inset:e,...t},r)=>i.jsx(Xj,{ref:r,className:Ue("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));M0.displayName=Xj.displayName;const M3=w.forwardRef(({className:n,children:e,checked:t,...r},o)=>i.jsxs(Qj,{ref:o,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eN,{children:i.jsx(Ii,{className:"h-4 w-4"})})}),e]}));M3.displayName=Qj.displayName;const D3=w.forwardRef(({className:n,children:e,...t},r)=>i.jsxs(Zj,{ref:r,className:Ue("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[i.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(eN,{children:i.jsx(HM,{className:"h-2 w-2 fill-current"})})}),e]}));D3.displayName=Zj.displayName;const L3=w.forwardRef(({className:n,inset:e,...t},r)=>i.jsx(Jj,{ref:r,className:Ue("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));L3.displayName=Jj.displayName;const $3=w.forwardRef(({className:n,...e},t)=>i.jsx(tN,{ref:t,className:Ue("-mx-1 my-1 h-px bg-muted",n),...e}));$3.displayName=tN.displayName;const zl=[{code:"en",name:"English",flag:"🇬🇧",shortName:"EN"},{code:"ru",name:"Русский",flag:"🇷🇺",shortName:"RU"}];function sN({variant:n="default"}){const{i18n:e,currentLanguage:t}=Zr(),[r,o]=w.useState(zl.find(u=>u.code===t)||zl[0]);w.useEffect(()=>{const u=zl.find(h=>h.code===e.language)||zl[0];o(u)},[e.language]);const c=async u=>{console.log("Changing language to:",u);try{await e.changeLanguage(u),localStorage.setItem("pms_language",u),document.cookie=`pms_language=${u};path=/;max-age=31536000`,o(zl.find(h=>h.code===u)),window.dispatchEvent(new Event("languagechange")),console.log("Language changed successfully to:",u)}catch(h){console.error("Error changing language:",h)}};return n==="compact"?i.jsxs(ib,{children:[i.jsx(ab,{asChild:!0,children:i.jsx(et,{variant:"outline",size:"icon",title:"Change language",children:i.jsx("span",{className:"text-lg",children:r.flag})})}),i.jsx(O0,{align:"end",className:"w-48",children:zl.map(u=>i.jsxs(M0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[i.jsx("span",{className:"mr-2 text-lg",children:u.flag}),i.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&i.jsx(Ii,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]}):i.jsxs(ib,{children:[i.jsx(ab,{asChild:!0,children:i.jsxs(et,{variant:"outline",size:"sm",className:"gap-2",children:[i.jsx(SS,{className:"h-4 w-4"}),i.jsxs("span",{className:"hidden sm:inline",children:[r.flag," ",r.name]}),i.jsx("span",{className:"sm:hidden",children:r.flag})]})}),i.jsx(O0,{align:"end",className:"w-48",children:zl.map(u=>i.jsxs(M0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[i.jsx("span",{className:"mr-2 text-lg",children:u.flag}),i.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&i.jsx(Ii,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]})}const F3=()=>i.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[i.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),i.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),i.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),i.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function oN(){const{signInWithProvider:n,signInWithEmail:e,signUpWithEmail:t}=Wh(),{t:r}=Zr("auth"),[o,c]=w.useState(!1),[u,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),[b,C]=w.useState(""),E=async()=>{c(!0),y("");try{await n("google")}catch{y(r("errors.googleSignIn")),c(!1)}},P=async R=>{R.preventDefault(),c(!0),y(""),C("");try{await e(u,p)}catch(k){k.message.includes("Invalid login credentials")?y(r("errors.invalidCredentials")):k.message.includes("Email not confirmed")?y(r("errors.emailNotConfirmed")):y(r("errors.signInFailed"))}c(!1)},N=async R=>{if(R.preventDefault(),c(!0),y(""),C(""),p.length<6){y(r("errors.passwordTooShort")),c(!1);return}try{await t(u,p),C(r("messages.checkEmail")),h(""),g("")}catch(k){k.message.includes("already registered")?y(r("errors.emailAlreadyRegistered")):y(r("errors.signUpFailed"))}c(!1)};return i.jsxs(Pe,{className:"w-full max-w-md",children:[i.jsxs(Ke,{className:"text-center",children:[i.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:i.jsx(jS,{className:"h-8 w-8 text-white"})}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx(Ye,{className:"text-2xl font-bold text-slate-800",children:r("appName")}),i.jsx(sN,{})]}),i.jsx(Kn,{className:"text-slate-600",children:r("subtitle")})]}),i.jsxs(Ie,{children:[x&&i.jsx(_s,{variant:"destructive",className:"mb-4",children:i.jsx(bs,{children:x})}),b&&i.jsx(_s,{variant:"default",className:"mb-4",children:i.jsx(bs,{children:b})}),i.jsxs(_d,{defaultValue:"signin",className:"w-full",children:[i.jsxs(ac,{className:"grid w-full grid-cols-2",children:[i.jsx(fn,{value:"signin",children:r("tabs.signIn")}),i.jsx(fn,{value:"signup",children:r("tabs.signUp")})]}),i.jsx(hn,{value:"signin",children:i.jsxs("form",{onSubmit:P,className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"email-signin",children:r("fields.email")}),i.jsx(qe,{id:"email-signin",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"password-signin",children:r("fields.password")}),i.jsx(qe,{id:"password-signin",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.password"),required:!0})]}),i.jsx(et,{type:"submit",className:"w-full",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):r("buttons.signIn")})]})}),i.jsx(hn,{value:"signup",children:i.jsxs("form",{onSubmit:N,className:"space-y-4 pt-4",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"email-signup",children:r("fields.email")}),i.jsx(qe,{id:"email-signup",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"password-signup",children:r("fields.password")}),i.jsx(qe,{id:"password-signup",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.passwordHint"),required:!0})]}),i.jsx(et,{type:"submit",className:"w-full",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingUp")]}):r("buttons.signUp")})]})})]}),i.jsxs("div",{className:"relative my-6",children:[i.jsx("div",{className:"absolute inset-0 flex items-center",children:i.jsx("span",{className:"w-full border-t"})}),i.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:i.jsx("span",{className:"bg-white px-2 text-slate-500",children:r("divider")})})]}),i.jsx(et,{onClick:E,className:"w-full",variant:"outline",disabled:o,children:o?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):i.jsxs(i.Fragment,{children:[i.jsx(F3,{}),r("buttons.signInWithGoogle")]})})]})]})}const tv=w.createContext(null);tv.displayName="PanelGroupContext";const an={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},ky=10,Kl=w.useLayoutEffect,lb=G0.useId,z3=typeof lb=="function"?lb:()=>null;let U3=0;function Cy(n=null){const e=z3(),t=w.useRef(n||e||null);return t.current===null&&(t.current=""+U3++),n??t.current}function iN({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:o,forwardedRef:c,id:u,maxSize:h,minSize:p,onCollapse:g,onExpand:x,onResize:y,order:b,style:C,tagName:E="div",...P}){const N=w.useContext(tv);if(N===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:k,getPanelSize:T,getPanelStyle:O,groupId:I,isPanelCollapsed:L,reevaluatePanelConstraints:z,registerPanel:F,resizePanel:q,unregisterPanel:X}=N,re=Cy(u),ae=w.useRef({callbacks:{onCollapse:g,onExpand:x,onResize:y},constraints:{collapsedSize:t,collapsible:r,defaultSize:o,maxSize:h,minSize:p},id:re,idIsFromProps:u!==void 0,order:b});w.useRef({didLogMissingDefaultSizeWarning:!1}),Kl(()=>{const{callbacks:me,constraints:ke}=ae.current,ge={...ke};ae.current.id=re,ae.current.idIsFromProps=u!==void 0,ae.current.order=b,me.onCollapse=g,me.onExpand=x,me.onResize=y,ke.collapsedSize=t,ke.collapsible=r,ke.defaultSize=o,ke.maxSize=h,ke.minSize=p,(ge.collapsedSize!==ke.collapsedSize||ge.collapsible!==ke.collapsible||ge.maxSize!==ke.maxSize||ge.minSize!==ke.minSize)&&z(ae.current,ge)}),Kl(()=>{const me=ae.current;return F(me),()=>{X(me)}},[b,re,F,X]),w.useImperativeHandle(c,()=>({collapse:()=>{R(ae.current)},expand:me=>{k(ae.current,me)},getId(){return re},getSize(){return T(ae.current)},isCollapsed(){return L(ae.current)},isExpanded(){return!L(ae.current)},resize:me=>{q(ae.current,me)}}),[R,k,T,L,re,q]);const pe=O(ae.current,o);return w.createElement(E,{...P,children:n,className:e,id:re,style:{...pe,...C},[an.groupId]:I,[an.panel]:"",[an.panelCollapsible]:r||void 0,[an.panelId]:re,[an.panelSize]:parseFloat(""+pe.flexGrow).toFixed(1)})}const aN=w.forwardRef((n,e)=>w.createElement(iN,{...n,forwardedRef:e}));iN.displayName="Panel";aN.displayName="forwardRef(Panel)";let D0=null,sg=-1,Ca=null;function B3(n,e){if(e){const t=(e&fN)!==0,r=(e&hN)!==0,o=(e&pN)!==0,c=(e&mN)!==0;if(t)return o?"se-resize":c?"ne-resize":"e-resize";if(r)return o?"sw-resize":c?"nw-resize":"w-resize";if(o)return"s-resize";if(c)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function W3(){Ca!==null&&(document.head.removeChild(Ca),D0=null,Ca=null,sg=-1)}function Jx(n,e){var t,r;const o=B3(n,e);if(D0!==o){if(D0=o,Ca===null&&(Ca=document.createElement("style"),document.head.appendChild(Ca)),sg>=0){var c;(c=Ca.sheet)===null||c===void 0||c.removeRule(sg)}sg=(t=(r=Ca.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&t!==void 0?t:-1}}function lN(n){return n.type==="keydown"}function cN(n){return n.type.startsWith("pointer")}function uN(n){return n.type.startsWith("mouse")}function nv(n){if(cN(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(uN(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function H3(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function V3(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function G3(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:db(n),b:db(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;mt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:ub(cb(t.a)),b:ub(cb(t.b))};if(o.a===o.b){const c=r.childNodes,u={a:t.a.at(-1),b:t.b.at(-1)};let h=c.length;for(;h--;){const p=c[h];if(p===u.a)return 1;if(p===u.b)return-1}}return Math.sign(o.a-o.b)}const q3=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function K3(n){var e;const t=getComputedStyle((e=dN(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function Y3(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||K3(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||q3.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function cb(n){let e=n.length;for(;e--;){const t=n[e];if(mt(t,"Missing node"),Y3(t))return t}return null}function ub(n){return n&&Number(getComputedStyle(n).zIndex)||0}function db(n){const e=[];for(;n;)e.push(n),n=dN(n);return e}function dN(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const fN=1,hN=2,pN=4,mN=8,J3=H3()==="coarse";let qs=[],dd=!1,Vl=new Map,rv=new Map;const Mh=new Set;function X3(n,e,t,r,o){var c;const{ownerDocument:u}=e,h={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:o},p=(c=Vl.get(u))!==null&&c!==void 0?c:0;return Vl.set(u,p+1),Mh.add(h),jg(),function(){var x;rv.delete(n),Mh.delete(h);const y=(x=Vl.get(u))!==null&&x!==void 0?x:1;if(Vl.set(u,y-1),jg(),y===1&&Vl.delete(u),qs.includes(h)){const b=qs.indexOf(h);b>=0&&qs.splice(b,1),Py(),o("up",!0,null)}}}function Q3(n){const{target:e}=n,{x:t,y:r}=nv(n);dd=!0,Ey({target:e,x:t,y:r}),jg(),qs.length>0&&(Ng("down",n),n.preventDefault(),gN(e)||n.stopImmediatePropagation())}function Xx(n){const{x:e,y:t}=nv(n);if(dd&&n.buttons===0&&(dd=!1,Ng("up",n)),!dd){const{target:r}=n;Ey({target:r,x:e,y:t})}Ng("move",n),Py(),qs.length>0&&n.preventDefault()}function Qx(n){const{target:e}=n,{x:t,y:r}=nv(n);rv.clear(),dd=!1,qs.length>0&&(n.preventDefault(),gN(e)||n.stopImmediatePropagation()),Ng("up",n),Ey({target:e,x:t,y:r}),Py(),jg()}function gN(n){let e=n;for(;e;){if(e.hasAttribute(an.resizeHandle))return!0;e=e.parentElement}return!1}function Ey({target:n,x:e,y:t}){qs.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),Mh.forEach(o=>{const{element:c,hitAreaMargins:u}=o,h=c.getBoundingClientRect(),{bottom:p,left:g,right:x,top:y}=h,b=J3?u.coarse:u.fine;if(e>=g-b&&e<=x+b&&t>=y-b&&t<=p+b){if(r!==null&&document.contains(r)&&c!==r&&!c.contains(r)&&!r.contains(c)&&G3(r,c)>0){let E=r,P=!1;for(;E&&!E.contains(c);){if(V3(E.getBoundingClientRect(),h)){P=!0;break}E=E.parentElement}if(P)return}qs.push(o)}})}function Zx(n,e){rv.set(n,e)}function Py(){let n=!1,e=!1;qs.forEach(r=>{const{direction:o}=r;o==="horizontal"?n=!0:e=!0});let t=0;rv.forEach(r=>{t|=r}),n&&e?Jx("intersection",t):n?Jx("horizontal",t):e?Jx("vertical",t):W3()}let e0=new AbortController;function jg(){e0.abort(),e0=new AbortController;const n={capture:!0,signal:e0.signal};Mh.size&&(dd?(qs.length>0&&Vl.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",Qx,n),r.addEventListener("pointerleave",Xx,n),r.addEventListener("pointermove",Xx,n))}),window.addEventListener("pointerup",Qx,n),window.addEventListener("pointercancel",Qx,n)):Vl.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",Q3,n),r.addEventListener("pointermove",Xx,n))}))}function Ng(n,e){Mh.forEach(t=>{const{setResizeHandlerState:r}=t,o=qs.includes(t);r(n,o,e)})}function Z3(){const[n,e]=w.useState(0);return w.useCallback(()=>e(t=>t+1),[])}function mt(n,e){if(!n)throw console.error(e),Error(e)}function ec(n,e,t=ky){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function Ci(n,e,t=ky){return ec(n,e,t)===0}function Jr(n,e,t){return ec(n,e,t)===0}function e5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const o=n[r],c=e[r];if(!Jr(o,c,t))return!1}return!0}function id({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];mt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:c,maxSize:u=100,minSize:h=0}=r;if(ec(t,h)<0)if(c){const p=(o+h)/2;ec(t,p)<0?t=o:t=h}else t=h;return t=Math.min(u,t),t=parseFloat(t.toFixed(ky)),t}function ph({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:c}){if(Jr(n,0))return e;const u=[...e],[h,p]=r;mt(h!=null,"Invalid first pivot index"),mt(p!=null,"Invalid second pivot index");let g=0;if(c==="keyboard"){{const y=n<0?p:h,b=t[y];mt(b,`Panel constraints not found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const N=e[y];if(mt(N!=null,`Previous layout not found for panel index ${y}`),Jr(N,C)){const R=P-N;ec(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}{const y=n<0?h:p,b=t[y];mt(b,`No panel constraints found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const N=e[y];if(mt(N!=null,`Previous layout not found for panel index ${y}`),Jr(N,P)){const R=N-C;ec(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}}{const y=n<0?1:-1;let b=n<0?p:h,C=0;for(;;){const P=e[b];mt(P!=null,`Previous layout not found for panel index ${b}`);const R=id({panelConstraints:t,panelIndex:b,size:100})-P;if(C+=R,b+=y,b<0||b>=t.length)break}const E=Math.min(Math.abs(n),Math.abs(C));n=n<0?0-E:E}{let b=n<0?h:p;for(;b>=0&&b<t.length;){const C=Math.abs(n)-Math.abs(g),E=e[b];mt(E!=null,`Previous layout not found for panel index ${b}`);const P=E-C,N=id({panelConstraints:t,panelIndex:b,size:P});if(!Jr(E,N)&&(g+=E-N,u[b]=N,g.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?b--:b++}}if(e5(o,u))return o;{const y=n<0?p:h,b=e[y];mt(b!=null,`Previous layout not found for panel index ${y}`);const C=b+g,E=id({panelConstraints:t,panelIndex:y,size:C});if(u[y]=E,!Jr(E,C)){let P=C-E,R=n<0?p:h;for(;R>=0&&R<t.length;){const k=u[R];mt(k!=null,`Previous layout not found for panel index ${R}`);const T=k+P,O=id({panelConstraints:t,panelIndex:R,size:T});if(Jr(k,O)||(P-=O-k,u[R]=O),Jr(P,0))break;n>0?R--:R++}}}const x=u.reduce((y,b)=>b+y,0);return Jr(x,100)?u:o}function t5({layout:n,panelsArray:e,pivotIndices:t}){let r=0,o=100,c=0,u=0;const h=t[0];mt(h!=null,"No pivot index found"),e.forEach((y,b)=>{const{constraints:C}=y,{maxSize:E=100,minSize:P=0}=C;b===h?(r=P,o=E):(c+=P,u+=E)});const p=Math.min(o,100-c),g=Math.max(r,100-u),x=n[h];return{valueMax:p,valueMin:g,valueNow:x}}function Dh(n,e=document){return Array.from(e.querySelectorAll(`[${an.resizeHandleId}][data-panel-group-id="${n}"]`))}function vN(n,e,t=document){const o=Dh(n,t).findIndex(c=>c.getAttribute(an.resizeHandleId)===e);return o??null}function xN(n,e,t){const r=vN(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function yN(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return r||null}function sv(n,e=document){const t=e.querySelector(`[${an.resizeHandleId}="${n}"]`);return t||null}function n5(n,e,t,r=document){var o,c,u,h;const p=sv(e,r),g=Dh(n,r),x=p?g.indexOf(p):-1,y=(o=(c=t[x])===null||c===void 0?void 0:c.id)!==null&&o!==void 0?o:null,b=(u=(h=t[x+1])===null||h===void 0?void 0:h.id)!==null&&u!==void 0?u:null;return[y,b]}function r5({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:o,panelGroupElement:c,setLayout:u}){w.useRef({didWarnAboutMissingResizeHandle:!1}),Kl(()=>{if(!c)return;const h=Dh(t,c);for(let p=0;p<o.length-1;p++){const{valueMax:g,valueMin:x,valueNow:y}=t5({layout:r,panelsArray:o,pivotIndices:[p,p+1]}),b=h[p];if(b!=null){const C=o[p];mt(C,`No panel data found for index "${p}"`),b.setAttribute("aria-controls",C.id),b.setAttribute("aria-valuemax",""+Math.round(g)),b.setAttribute("aria-valuemin",""+Math.round(x)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{h.forEach((p,g)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[t,r,o,c]),w.useEffect(()=>{if(!c)return;const h=e.current;mt(h,"Eager values not found");const{panelDataArray:p}=h,g=yN(t,c);mt(g!=null,`No group found for id "${t}"`);const x=Dh(t,c);mt(x,`No resize handles found for group id "${t}"`);const y=x.map(b=>{const C=b.getAttribute(an.resizeHandleId);mt(C,"Resize handle element has no handle id attribute");const[E,P]=n5(t,C,p,c);if(E==null||P==null)return()=>{};const N=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const k=p.findIndex(T=>T.id===E);if(k>=0){const T=p[k];mt(T,`No panel data found for index ${k}`);const O=r[k],{collapsedSize:I=0,collapsible:L,minSize:z=0}=T.constraints;if(O!=null&&L){const F=ph({delta:Jr(O,I)?z-I:I-O,initialLayout:r,panelConstraints:p.map(q=>q.constraints),pivotIndices:xN(t,C,c),prevLayout:r,trigger:"keyboard"});r!==F&&u(F)}}break}}};return b.addEventListener("keydown",N),()=>{b.removeEventListener("keydown",N)}});return()=>{y.forEach(b=>b())}},[c,n,e,t,r,o,u])}function fb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function wN(n,e){const t=n==="horizontal",{x:r,y:o}=nv(e);return t?r:o}function s5(n,e,t,r,o){const c=t==="horizontal",u=sv(e,o);mt(u,`No resize handle element found for id "${e}"`);const h=u.getAttribute(an.groupId);mt(h,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=r;const g=wN(t,n),x=yN(h,o);mt(x,`No group element found for id "${h}"`);const y=x.getBoundingClientRect(),b=c?y.width:y.height;return(g-p)/b*100}function o5(n,e,t,r,o,c){if(lN(n)){const u=t==="horizontal";let h=0;n.shiftKey?h=100:o!=null?h=o:h=10;let p=0;switch(n.key){case"ArrowDown":p=u?0:h;break;case"ArrowLeft":p=u?-h:0;break;case"ArrowRight":p=u?h:0;break;case"ArrowUp":p=u?0:-h;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return r==null?0:s5(n,e,t,r,c)}function i5({panelDataArray:n}){const e=Array(n.length),t=n.map(c=>c.constraints);let r=0,o=100;for(let c=0;c<n.length;c++){const u=t[c];mt(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;h!=null&&(r++,e[c]=h,o-=h)}for(let c=0;c<n.length;c++){const u=t[c];mt(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;if(h!=null)continue;const p=n.length-r,g=o/p;r++,e[c]=g,o-=g}return e}function td(n,e,t){e.forEach((r,o)=>{const c=n[o];mt(c,`Panel data not found for index ${o}`);const{callbacks:u,constraints:h,id:p}=c,{collapsedSize:g=0,collapsible:x}=h,y=t[p];if(y==null||r!==y){t[p]=r;const{onCollapse:b,onExpand:C,onResize:E}=u;E&&E(r,y),x&&(b||C)&&(C&&(y==null||Ci(y,g))&&!Ci(r,g)&&C(),b&&(y==null||!Ci(y,g))&&Ci(r,g)&&b())}})}function Ym(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function a5({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:o,precision:c=3}){const u=t[o];let h;return u==null?h=n!=null?n.toPrecision(c):"1":r.length===1?h="1":h=u.toPrecision(c),{flexBasis:0,flexGrow:h,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function l5(n,e=10){let t=null;return(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)}}function hb(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function _N(n){return`react-resizable-panels:${n}`}function bN(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:o,order:c}=e;return o?r:c?`${c}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function SN(n,e){try{const t=_N(n),r=e.getItem(t);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function c5(n,e,t){var r,o;const c=(r=SN(n,t))!==null&&r!==void 0?r:{},u=bN(e);return(o=c[u])!==null&&o!==void 0?o:null}function u5(n,e,t,r,o){var c;const u=_N(n),h=bN(e),p=(c=SN(n,o))!==null&&c!==void 0?c:{};p[h]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(u,JSON.stringify(p))}catch(g){console.error(g)}}function pb({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((c,u)=>c+u,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(c=>`${c}%`).join(", ")}`);if(!Jr(r,100)&&t.length>0)for(let c=0;c<e.length;c++){const u=t[c];mt(u!=null,`No layout data found for index ${c}`);const h=100/r*u;t[c]=h}let o=0;for(let c=0;c<e.length;c++){const u=t[c];mt(u!=null,`No layout data found for index ${c}`);const h=id({panelConstraints:e,panelIndex:c,size:u});u!=h&&(o+=u-h,t[c]=h)}if(!Jr(o,0))for(let c=0;c<e.length;c++){const u=t[c];mt(u!=null,`No layout data found for index ${c}`);const h=u+o,p=id({panelConstraints:e,panelIndex:c,size:h});if(u!==p&&(o-=p-u,t[c]=p,Jr(o,0)))break}return t}const d5=100,mh={getItem:n=>(hb(mh),mh.getItem(n)),setItem:(n,e)=>{hb(mh),mh.setItem(n,e)}},mb={};function jN({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:o,id:c=null,onLayout:u=null,keyboardResizeBy:h=null,storage:p=mh,style:g,tagName:x="div",...y}){const b=Cy(c),C=w.useRef(null),[E,P]=w.useState(null),[N,R]=w.useState([]),k=Z3(),T=w.useRef({}),O=w.useRef(new Map),I=w.useRef(0),L=w.useRef({autoSaveId:n,direction:r,dragState:E,id:b,keyboardResizeBy:h,onLayout:u,storage:p}),z=w.useRef({layout:N,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>L.current.id,getLayout:()=>{const{layout:V}=z.current;return V},setLayout:V=>{const{onLayout:oe}=L.current,{layout:ue,panelDataArray:he}=z.current,te=pb({layout:V,panelConstraints:he.map(fe=>fe.constraints)});fb(ue,te)||(R(te),z.current.layout=te,oe&&oe(te),td(he,te,T.current))}}),[]),Kl(()=>{L.current.autoSaveId=n,L.current.direction=r,L.current.dragState=E,L.current.id=b,L.current.onLayout=u,L.current.storage=p}),r5({committedValuesRef:L,eagerValuesRef:z,groupId:b,layout:N,panelDataArray:z.current.panelDataArray,setLayout:R,panelGroupElement:C.current}),w.useEffect(()=>{const{panelDataArray:V}=z.current;if(n){if(N.length===0||N.length!==V.length)return;let oe=mb[n];oe==null&&(oe=l5(u5,d5),mb[n]=oe);const ue=[...V],he=new Map(O.current);oe(n,ue,he,N,p)}},[n,N,p]),w.useEffect(()=>{});const F=w.useCallback(V=>{const{onLayout:oe}=L.current,{layout:ue,panelDataArray:he}=z.current;if(V.constraints.collapsible){const te=he.map(He=>He.constraints),{collapsedSize:fe=0,panelSize:je,pivotIndices:Ce}=Ul(he,V,ue);if(mt(je!=null,`Panel size not found for panel "${V.id}"`),!Ci(je,fe)){O.current.set(V.id,je);const Le=od(he,V)===he.length-1?je-fe:fe-je,tt=ph({delta:Le,initialLayout:ue,panelConstraints:te,pivotIndices:Ce,prevLayout:ue,trigger:"imperative-api"});Ym(ue,tt)||(R(tt),z.current.layout=tt,oe&&oe(tt),td(he,tt,T.current))}}},[]),q=w.useCallback((V,oe)=>{const{onLayout:ue}=L.current,{layout:he,panelDataArray:te}=z.current;if(V.constraints.collapsible){const fe=te.map(vt=>vt.constraints),{collapsedSize:je=0,panelSize:Ce=0,minSize:He=0,pivotIndices:Le}=Ul(te,V,he),tt=oe??He;if(Ci(Ce,je)){const vt=O.current.get(V.id),mn=vt!=null&&vt>=tt?vt:tt,Yt=od(te,V)===te.length-1?Ce-mn:mn-Ce,en=ph({delta:Yt,initialLayout:he,panelConstraints:fe,pivotIndices:Le,prevLayout:he,trigger:"imperative-api"});Ym(he,en)||(R(en),z.current.layout=en,ue&&ue(en),td(te,en,T.current))}}},[]),X=w.useCallback(V=>{const{layout:oe,panelDataArray:ue}=z.current,{panelSize:he}=Ul(ue,V,oe);return mt(he!=null,`Panel size not found for panel "${V.id}"`),he},[]),re=w.useCallback((V,oe)=>{const{panelDataArray:ue}=z.current,he=od(ue,V);return a5({defaultSize:oe,dragState:E,layout:N,panelData:ue,panelIndex:he})},[E,N]),ae=w.useCallback(V=>{const{layout:oe,panelDataArray:ue}=z.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Ul(ue,V,oe);return mt(fe!=null,`Panel size not found for panel "${V.id}"`),te===!0&&Ci(fe,he)},[]),pe=w.useCallback(V=>{const{layout:oe,panelDataArray:ue}=z.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Ul(ue,V,oe);return mt(fe!=null,`Panel size not found for panel "${V.id}"`),!te||ec(fe,he)>0},[]),me=w.useCallback(V=>{const{panelDataArray:oe}=z.current;oe.push(V),oe.sort((ue,he)=>{const te=ue.order,fe=he.order;return te==null&&fe==null?0:te==null?-1:fe==null?1:te-fe}),z.current.panelDataArrayChanged=!0,k()},[k]);Kl(()=>{if(z.current.panelDataArrayChanged){z.current.panelDataArrayChanged=!1;const{autoSaveId:V,onLayout:oe,storage:ue}=L.current,{layout:he,panelDataArray:te}=z.current;let fe=null;if(V){const Ce=c5(V,te,ue);Ce&&(O.current=new Map(Object.entries(Ce.expandToSizes)),fe=Ce.layout)}fe==null&&(fe=i5({panelDataArray:te}));const je=pb({layout:fe,panelConstraints:te.map(Ce=>Ce.constraints)});fb(he,je)||(R(je),z.current.layout=je,oe&&oe(je),td(te,je,T.current))}}),Kl(()=>{const V=z.current;return()=>{V.layout=[]}},[]);const ke=w.useCallback(V=>{let oe=!1;const ue=C.current;return ue&&window.getComputedStyle(ue,null).getPropertyValue("direction")==="rtl"&&(oe=!0),function(te){te.preventDefault();const fe=C.current;if(!fe)return()=>null;const{direction:je,dragState:Ce,id:He,keyboardResizeBy:Le,onLayout:tt}=L.current,{layout:vt,panelDataArray:mn}=z.current,{initialLayout:or}=Ce??{},Yt=xN(He,V,fe);let en=o5(te,V,je,Ce,Le,fe);const Mr=je==="horizontal";Mr&&oe&&(en=-en);const Dr=mn.map(Bo=>Bo.constraints),qt=ph({delta:en,initialLayout:or??vt,panelConstraints:Dr,pivotIndices:Yt,prevLayout:vt,trigger:lN(te)?"keyboard":"mouse-or-touch"}),es=!Ym(vt,qt);(cN(te)||uN(te))&&I.current!=en&&(I.current=en,!es&&en!==0?Mr?Zx(V,en<0?fN:hN):Zx(V,en<0?pN:mN):Zx(V,0)),es&&(R(qt),z.current.layout=qt,tt&&tt(qt),td(mn,qt,T.current))}},[]),ge=w.useCallback((V,oe)=>{const{onLayout:ue}=L.current,{layout:he,panelDataArray:te}=z.current,fe=te.map(vt=>vt.constraints),{panelSize:je,pivotIndices:Ce}=Ul(te,V,he);mt(je!=null,`Panel size not found for panel "${V.id}"`);const Le=od(te,V)===te.length-1?je-oe:oe-je,tt=ph({delta:Le,initialLayout:he,panelConstraints:fe,pivotIndices:Ce,prevLayout:he,trigger:"imperative-api"});Ym(he,tt)||(R(tt),z.current.layout=tt,ue&&ue(tt),td(te,tt,T.current))},[]),be=w.useCallback((V,oe)=>{const{layout:ue,panelDataArray:he}=z.current,{collapsedSize:te=0,collapsible:fe}=oe,{collapsedSize:je=0,collapsible:Ce,maxSize:He=100,minSize:Le=0}=V.constraints,{panelSize:tt}=Ul(he,V,ue);tt!=null&&(fe&&Ce&&Ci(tt,te)?Ci(te,je)||ge(V,je):tt<Le?ge(V,Le):tt>He&&ge(V,He))},[ge]),W=w.useCallback((V,oe)=>{const{direction:ue}=L.current,{layout:he}=z.current;if(!C.current)return;const te=sv(V,C.current);mt(te,`Drag handle element not found for id "${V}"`);const fe=wN(ue,oe);P({dragHandleId:V,dragHandleRect:te.getBoundingClientRect(),initialCursorPosition:fe,initialLayout:he})},[]),K=w.useCallback(()=>{P(null)},[]),ne=w.useCallback(V=>{const{panelDataArray:oe}=z.current,ue=od(oe,V);ue>=0&&(oe.splice(ue,1),delete T.current[V.id],z.current.panelDataArrayChanged=!0,k())},[k]),B=w.useMemo(()=>({collapsePanel:F,direction:r,dragState:E,expandPanel:q,getPanelSize:X,getPanelStyle:re,groupId:b,isPanelCollapsed:ae,isPanelExpanded:pe,reevaluatePanelConstraints:be,registerPanel:me,registerResizeHandle:ke,resizePanel:ge,startDragging:W,stopDragging:K,unregisterPanel:ne,panelGroupElement:C.current}),[F,E,r,q,X,re,b,ae,pe,be,me,ke,ge,W,K,ne]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(tv.Provider,{value:B},w.createElement(x,{...y,children:e,className:t,id:c,ref:C,style:{...U,...g},[an.group]:"",[an.groupDirection]:r,[an.groupId]:b}))}const NN=w.forwardRef((n,e)=>w.createElement(jN,{...n,forwardedRef:e}));jN.displayName="PanelGroup";NN.displayName="forwardRef(PanelGroup)";function od(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Ul(n,e,t){const r=od(n,e),c=r===n.length-1?[r-1,r]:[r,r+1],u=t[r];return{...e.constraints,panelSize:u,pivotIndices:c}}function f5({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){w.useEffect(()=>{if(n||t==null||r==null)return;const o=sv(e,r);if(o==null)return;const c=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),t(u);break}case"F6":{u.preventDefault();const h=o.getAttribute(an.groupId);mt(h,`No group element found for id "${h}"`);const p=Dh(h,r),g=vN(h,e,r);mt(g!==null,`No resize element found for id "${e}"`);const x=u.shiftKey?g>0?g-1:p.length-1:g+1<p.length?g+1:0;p[x].focus();break}}};return o.addEventListener("keydown",c),()=>{o.removeEventListener("keydown",c)}},[r,n,e,t])}function kN({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:o,onBlur:c,onClick:u,onDragging:h,onFocus:p,onPointerDown:g,onPointerUp:x,style:y={},tabIndex:b=0,tagName:C="div",...E}){var P,N;const R=w.useRef(null),k=w.useRef({onClick:u,onDragging:h,onPointerDown:g,onPointerUp:x});w.useEffect(()=>{k.current.onClick=u,k.current.onDragging=h,k.current.onPointerDown=g,k.current.onPointerUp=x});const T=w.useContext(tv);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:O,groupId:I,registerResizeHandle:L,startDragging:z,stopDragging:F,panelGroupElement:q}=T,X=Cy(o),[re,ae]=w.useState("inactive"),[pe,me]=w.useState(!1),[ke,ge]=w.useState(null),be=w.useRef({state:re});Kl(()=>{be.current.state=re}),w.useEffect(()=>{if(t)ge(null);else{const B=L(X);ge(()=>B)}},[t,X,L]);const W=(P=r==null?void 0:r.coarse)!==null&&P!==void 0?P:15,K=(N=r==null?void 0:r.fine)!==null&&N!==void 0?N:5;w.useEffect(()=>{if(t||ke==null)return;const B=R.current;mt(B,"Element ref not attached");let U=!1;return X3(X,B,O,{coarse:W,fine:K},(oe,ue,he)=>{if(!ue){ae("inactive");return}switch(oe){case"down":{ae("drag"),U=!1,mt(he,'Expected event to be defined for "down" action'),z(X,he);const{onDragging:te,onPointerDown:fe}=k.current;te==null||te(!0),fe==null||fe();break}case"move":{const{state:te}=be.current;U=!0,te!=="drag"&&ae("hover"),mt(he,'Expected event to be defined for "move" action'),ke(he);break}case"up":{ae("hover"),F();const{onClick:te,onDragging:fe,onPointerUp:je}=k.current;fe==null||fe(!1),je==null||je(),U||te==null||te();break}}})},[W,O,t,K,L,X,ke,z,F]),f5({disabled:t,handleId:X,resizeHandler:ke,panelGroupElement:q});const ne={touchAction:"none",userSelect:"none"};return w.createElement(C,{...E,children:n,className:e,id:o,onBlur:()=>{me(!1),c==null||c()},onFocus:()=>{me(!0),p==null||p()},ref:R,role:"separator",style:{...ne,...y},tabIndex:b,[an.groupDirection]:O,[an.groupId]:I,[an.resizeHandle]:"",[an.resizeHandleActive]:re==="drag"?"pointer":pe?"keyboard":void 0,[an.resizeHandleEnabled]:!t,[an.resizeHandleId]:X,[an.resizeHandleState]:re})}kN.displayName="PanelResizeHandle";const gb=({className:n,...e})=>i.jsx(NN,{className:Ue("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e}),Jm=aN,vb=({withHandle:n,className:e,...t})=>i.jsx(kN,{className:Ue("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&i.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:i.jsx(iD,{className:"h-2.5 w-2.5"})})});var t0={exports:{}},n0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xb;function h5(){if(xb)return n0;xb=1;var n=Ag();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,c=n.useLayoutEffect,u=n.useDebugValue;function h(y,b){var C=b(),E=r({inst:{value:C,getSnapshot:b}}),P=E[0].inst,N=E[1];return c(function(){P.value=C,P.getSnapshot=b,p(P)&&N({inst:P})},[y,C,b]),o(function(){return p(P)&&N({inst:P}),y(function(){p(P)&&N({inst:P})})},[y]),u(C),C}function p(y){var b=y.getSnapshot;y=y.value;try{var C=b();return!t(y,C)}catch{return!0}}function g(y,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return n0.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:x,n0}var yb;function p5(){return yb||(yb=1,t0.exports=h5()),t0.exports}var m5=p5();function g5(){return m5.useSyncExternalStore(v5,()=>!0,()=>!1)}function v5(){return()=>{}}var Ry="Avatar",[x5,aU]=Ss(Ry),[y5,CN]=x5(Ry),EN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,c]=w.useState("idle");return i.jsx(y5,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:i.jsx(ot.span,{...r,ref:e})})});EN.displayName=Ry;var PN="AvatarImage",RN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...c}=n,u=CN(PN,t),h=w5(r,c),p=Ks(g=>{o(g),u.onImageLoadingStatusChange(g)});return yn(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?i.jsx(ot.img,{...c,ref:e,src:r}):null});RN.displayName=PN;var TN="AvatarFallback",AN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,c=CN(TN,t),[u,h]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),u&&c.imageLoadingStatus!=="loaded"?i.jsx(ot.span,{...o,ref:e}):null});AN.displayName=TN;function wb(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function w5(n,{referrerPolicy:e,crossOrigin:t}){const r=g5(),o=w.useRef(null),c=r?(o.current||(o.current=new window.Image),o.current):null,[u,h]=w.useState(()=>wb(c,n));return yn(()=>{h(wb(c,n))},[c,n]),yn(()=>{const p=y=>()=>{h(y)};if(!c)return;const g=p("loaded"),x=p("error");return c.addEventListener("load",g),c.addEventListener("error",x),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",g),c.removeEventListener("error",x)}},[c,t,e]),u}var IN=EN,ON=RN,MN=AN;const DN=w.forwardRef(({className:n,...e},t)=>i.jsx(IN,{ref:t,className:Ue("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));DN.displayName=IN.displayName;const LN=w.forwardRef(({className:n,...e},t)=>i.jsx(ON,{ref:t,className:Ue("aspect-square h-full w-full",n),...e}));LN.displayName=ON.displayName;const $N=w.forwardRef(({className:n,...e},t)=>i.jsx(MN,{ref:t,className:Ue("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));$N.displayName=MN.displayName;function pn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Qs(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function FN(n,e){const t=pn(n);return isNaN(e)?Qs(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function _b(n,e){const t=pn(n);if(isNaN(e))return Qs(n,NaN);if(!e)return t;const r=t.getDate(),o=Qs(n,t.getTime());o.setMonth(t.getMonth()+e+1,0);const c=o.getDate();return r>=c?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}const zN=6048e5,_5=864e5,UN=6e4,BN=36e5;let b5={};function ov(){return b5}function tc(n,e){var h,p,g,x;const t=ov(),r=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,o=pn(n),c=o.getDay(),u=(c<r?7:0)+c-r;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function kg(n){return tc(n,{weekStartsOn:1})}function WN(n){const e=pn(n),t=e.getFullYear(),r=Qs(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const o=kg(r),c=Qs(n,0);c.setFullYear(t,0,4),c.setHours(0,0,0,0);const u=kg(c);return e.getTime()>=o.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function Pa(n){const e=pn(n);return e.setHours(0,0,0,0),e}function bb(n){const e=pn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Ty(n,e){const t=Pa(n),r=Pa(e),o=+t-bb(t),c=+r-bb(r);return Math.round((o-c)/_5)}function S5(n){const e=WN(n),t=Qs(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),kg(t)}function HN(n){return Qs(n,Date.now())}function Ay(n,e){const t=Pa(n),r=Pa(e);return+t==+r}function j5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function VN(n){if(!j5(n)&&typeof n!="number")return!1;const e=pn(n);return!isNaN(Number(e))}function L0(n,e){const t=pn(n),r=pn(e),o=Sb(t,r),c=Math.abs(Ty(t,r));t.setDate(t.getDate()-o*c);const u=+(Sb(t,r)===-o),h=o*(c-u);return h===0?0:h}function Sb(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function N5(n){const e=pn(n);return e.setHours(23,59,59,999),e}function Xm(n){const e=pn(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function k5(n,e){const t=pn(n.start),r=pn(n.end);let o=+t>+r;const c=o?+t:+r,u=o?r:t;u.setHours(0,0,0,0);let h=1;const p=[];for(;+u<=c;)p.push(pn(u)),u.setDate(u.getDate()+h),u.setHours(0,0,0,0);return o?p.reverse():p}function ch(n){const e=pn(n);return e.setDate(1),e.setHours(0,0,0,0),e}function C5(n){const e=pn(n),t=Qs(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const E5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},P5=(n,e,t)=>{let r;const o=E5[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function fd(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const R5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},T5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},A5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},I5={date:fd({formats:R5,defaultWidth:"full"}),time:fd({formats:T5,defaultWidth:"full"}),dateTime:fd({formats:A5,defaultWidth:"full"})},O5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},M5=(n,e,t,r)=>O5[n];function Eo(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;o=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[u]}const c=n.argumentCallback?n.argumentCallback(e):e;return o[c]}}const D5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},L5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},z5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},U5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},B5=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},W5={ordinalNumber:B5,era:Eo({values:D5,defaultWidth:"wide"}),quarter:Eo({values:L5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Eo({values:$5,defaultWidth:"wide"}),day:Eo({values:F5,defaultWidth:"wide"}),dayPeriod:Eo({values:z5,defaultWidth:"wide",formattingValues:U5,defaultFormattingWidth:"wide"})};function Po(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],c=e.match(o);if(!c)return null;const u=c[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?V5(h,y=>y.test(u)):H5(h,y=>y.test(u));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const x=e.slice(u.length);return{value:g,rest:x}}}function H5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function V5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function GN(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],c=e.match(n.parsePattern);if(!c)return null;let u=n.valueCallback?n.valueCallback(c[0]):c[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}const G5=/^(\d+)(th|st|nd|rd)?/i,q5=/\d+/i,K5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Y5={any:[/^b/i,/^(a|c)/i]},J5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},X5={any:[/1/i,/2/i,/3/i,/4/i]},Q5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Z5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},e6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},t6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},n6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},r6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},s6={ordinalNumber:GN({matchPattern:G5,parsePattern:q5,valueCallback:n=>parseInt(n,10)}),era:Po({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any"}),quarter:Po({matchPatterns:J5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Po({matchPatterns:Q5,defaultMatchWidth:"wide",parsePatterns:Z5,defaultParseWidth:"any"}),day:Po({matchPatterns:e6,defaultMatchWidth:"wide",parsePatterns:t6,defaultParseWidth:"any"}),dayPeriod:Po({matchPatterns:n6,defaultMatchWidth:"any",parsePatterns:r6,defaultParseWidth:"any"})},Uo={code:"en-US",formatDistance:P5,formatLong:I5,formatRelative:M5,localize:W5,match:s6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function o6(n){const e=pn(n);return Ty(e,C5(e))+1}function i6(n){const e=pn(n),t=+kg(e)-+S5(e);return Math.round(t/zN)+1}function qN(n,e){var x,y,b,C;const t=pn(n),r=t.getFullYear(),o=ov(),c=(e==null?void 0:e.firstWeekContainsDate)??((y=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(b=o.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=Qs(n,0);u.setFullYear(r+1,0,c),u.setHours(0,0,0,0);const h=tc(u,e),p=Qs(n,0);p.setFullYear(r,0,c),p.setHours(0,0,0,0);const g=tc(p,e);return t.getTime()>=h.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function a6(n,e){var h,p,g,x;const t=ov(),r=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=qN(n,e),c=Qs(n,0);return c.setFullYear(o,0,r),c.setHours(0,0,0,0),tc(c,e)}function l6(n,e){const t=pn(n),r=+tc(t,e)-+a6(t,e);return Math.round(r/zN)+1}function At(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const Sa={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return At(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):At(t+1,2)},d(n,e){return At(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return At(n.getHours()%12||12,e.length)},H(n,e){return At(n.getHours(),e.length)},m(n,e){return At(n.getMinutes(),e.length)},s(n,e){return At(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return At(o,e.length)}},nd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jb={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return Sa.y(n,e)},Y:function(n,e,t,r){const o=qN(n,r),c=o>0?o:1-o;if(e==="YY"){const u=c%100;return At(u,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):At(c,e.length)},R:function(n,e){const t=WN(n);return At(t,e.length)},u:function(n,e){const t=n.getFullYear();return At(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return At(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return At(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return Sa.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return At(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const o=l6(n,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):At(o,e.length)},I:function(n,e,t){const r=i6(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):At(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):Sa.d(n,e)},D:function(n,e,t){const r=o6(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):At(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return At(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return At(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return At(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let o;switch(r===12?o=nd.noon:r===0?o=nd.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let o;switch(r>=17?o=nd.evening:r>=12?o=nd.afternoon:r>=4?o=nd.morning:o=nd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return Sa.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):Sa.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):At(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):Sa.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):Sa.s(n,e)},S:function(n,e){return Sa.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return kb(r);case"XXXX":case"XX":return Wl(r);case"XXXXX":case"XXX":default:return Wl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return kb(r);case"xxxx":case"xx":return Wl(r);case"xxxxx":case"xxx":default:return Wl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Nb(r,":");case"OOOO":default:return"GMT"+Wl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Nb(r,":");case"zzzz":default:return"GMT"+Wl(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return At(r,e.length)},T:function(n,e,t){const r=n.getTime();return At(r,e.length)}};function Nb(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Math.trunc(r/60),c=r%60;return c===0?t+String(o):t+String(o)+e+At(c,2)}function kb(n,e){return n%60===0?(n>0?"-":"+")+At(Math.abs(n)/60,2):Wl(n,e)}function Wl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=At(Math.trunc(r/60),2),c=At(r%60,2);return t+o+e+c}const Cb=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},KN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},c6=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return Cb(n,e);let c;switch(r){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",Cb(r,e)).replace("{{time}}",KN(o,e))},u6={p:KN,P:c6},d6=/^D+$/,f6=/^Y+$/,h6=["D","DD","YY","YYYY"];function p6(n){return d6.test(n)}function m6(n){return f6.test(n)}function g6(n,e,t){const r=v6(n,e,t);if(console.warn(r),h6.includes(n))throw new RangeError(r)}function v6(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const x6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,y6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,w6=/^'([^]*?)'?$/,_6=/''/g,b6=/[a-zA-Z]/;function We(n,e,t){var x,y,b,C,E,P,N,R;const r=ov(),o=(t==null?void 0:t.locale)??r.locale??Uo,c=(t==null?void 0:t.firstWeekContainsDate)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((P=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:P.weekStartsOn)??r.weekStartsOn??((R=(N=r.locale)==null?void 0:N.options)==null?void 0:R.weekStartsOn)??0,h=pn(n);if(!VN(h))throw new RangeError("Invalid time value");let p=e.match(y6).map(k=>{const T=k[0];if(T==="p"||T==="P"){const O=u6[T];return O(k,o.formatLong)}return k}).join("").match(x6).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const T=k[0];if(T==="'")return{isToken:!1,value:S6(k)};if(jb[T])return{isToken:!0,value:k};if(T.match(b6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:k}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const g={firstWeekContainsDate:c,weekStartsOn:u,locale:o};return p.map(k=>{if(!k.isToken)return k.value;const T=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&m6(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&p6(T))&&g6(T,e,String(n));const O=jb[T[0]];return O(h,T,o.localize,g)}).join("")}function S6(n){const e=n.match(w6);return e?e[1].replace(_6,"'"):n}function Eb(n,e,t){const r=tc(n,t),o=tc(e,t);return+r==+o}function Lh(n){return Ay(n,HN(n))}function j6(n,e){return FN(n,-1)}function N6(n){return Ay(n,j6(HN(n)))}function _t(n,e){const r=P6(n);let o;if(r.date){const p=R6(r.date,2);o=T6(p.restDateString,p.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const c=o.getTime();let u=0,h;if(r.time&&(u=A6(r.time),isNaN(u)))return new Date(NaN);if(r.timezone){if(h=I6(r.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(c+u),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(c+u+h)}const Qm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},k6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,C6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,E6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function P6(n){const e={},t=n.split(Qm.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Qm.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Qm.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const o=Qm.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function R6(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:c===null?o:c*100,restDateString:n.slice((r[1]||r[2]).length)}}function T6(n,e){if(e===null)return new Date(NaN);const t=n.match(k6);if(!t)return new Date(NaN);const r=!!t[4],o=uh(t[1]),c=uh(t[2])-1,u=uh(t[3]),h=uh(t[4]),p=uh(t[5])-1;if(r)return $6(e,h,p)?O6(e,h,p):new Date(NaN);{const g=new Date(0);return!D6(e,c,u)||!L6(e,o)?new Date(NaN):(g.setUTCFullYear(e,c,Math.max(o,u)),g)}}function uh(n){return n?parseInt(n):1}function A6(n){const e=n.match(C6);if(!e)return NaN;const t=r0(e[1]),r=r0(e[2]),o=r0(e[3]);return F6(t,r,o)?t*BN+r*UN+o*1e3:NaN}function r0(n){return n&&parseFloat(n.replace(",","."))||0}function I6(n){if(n==="Z")return 0;const e=n.match(E6);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return z6(r,o)?t*(r*BN+o*UN):NaN}function O6(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const o=r.getUTCDay()||7,c=(e-1)*7+t+1-o;return r.setUTCDate(r.getUTCDate()+c),r}const M6=[31,null,31,30,31,30,31,31,30,31,30,31];function YN(n){return n%400===0||n%4===0&&n%100!==0}function D6(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(M6[e]||(YN(n)?29:28))}function L6(n,e){return e>=1&&e<=(YN(n)?366:365)}function $6(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function F6(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function z6(n,e){return e>=0&&e<=59}function dh(n,e){if(n.one!==void 0&&e===1)return n.one;const t=e%10,r=e%100;return t===1&&r!==11?n.singularNominative.replace("{{count}}",String(e)):t>=2&&t<=4&&(r<10||r>20)?n.singularGenitive.replace("{{count}}",String(e)):n.pluralGenitive.replace("{{count}}",String(e))}function pr(n){return(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n.future?dh(n.future,e):"через "+dh(n.regular,e):n.past?dh(n.past,e):dh(n.regular,e)+" назад":dh(n.regular,e)}const U6={lessThanXSeconds:pr({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:pr({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(n,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:pr({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:pr({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:pr({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:pr({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:pr({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:pr({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:pr({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:pr({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:pr({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:pr({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:pr({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:pr({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:pr({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},B6=(n,e,t)=>U6[n](e,t),W6={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},H6={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},V6={any:"{{date}}, {{time}}"},G6={date:fd({formats:W6,defaultWidth:"full"}),time:fd({formats:H6,defaultWidth:"full"}),dateTime:fd({formats:V6,defaultWidth:"any"})},Iy=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function q6(n){const e=Iy[n];switch(n){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function Pb(n){const e=Iy[n];return n===2?"'во "+e+" в' p":"'в "+e+" в' p"}function K6(n){const e=Iy[n];switch(n){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const Y6={lastWeek:(n,e,t)=>{const r=n.getDay();return Eb(n,e,t)?Pb(r):q6(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(n,e,t)=>{const r=n.getDay();return Eb(n,e,t)?Pb(r):K6(r)},other:"P"},J6=(n,e,t,r)=>{const o=Y6[n];return typeof o=="function"?o(e,t,r):o},X6={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},Q6={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},Z6={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},eF={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},tF={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},nF={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},rF={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},sF=(n,e)=>{const t=Number(n),r=e==null?void 0:e.unit;let o;return r==="date"?o="-е":r==="week"||r==="minute"||r==="second"?o="-я":o="-й",t+o},oF={ordinalNumber:sF,era:Eo({values:X6,defaultWidth:"wide"}),quarter:Eo({values:Q6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Eo({values:Z6,defaultWidth:"wide",formattingValues:eF,defaultFormattingWidth:"wide"}),day:Eo({values:tF,defaultWidth:"wide"}),dayPeriod:Eo({values:nF,defaultWidth:"any",formattingValues:rF,defaultFormattingWidth:"wide"})},iF=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,aF=/\d+/i,lF={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},cF={any:[/^д/i,/^н/i]},uF={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},dF={any:[/1/i,/2/i,/3/i,/4/i]},fF={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},hF={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},pF={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},mF={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},gF={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},vF={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},xF={ordinalNumber:GN({matchPattern:iF,parsePattern:aF,valueCallback:n=>parseInt(n,10)}),era:Po({matchPatterns:lF,defaultMatchWidth:"wide",parsePatterns:cF,defaultParseWidth:"any"}),quarter:Po({matchPatterns:uF,defaultMatchWidth:"wide",parsePatterns:dF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Po({matchPatterns:fF,defaultMatchWidth:"wide",parsePatterns:hF,defaultParseWidth:"any"}),day:Po({matchPatterns:pF,defaultMatchWidth:"wide",parsePatterns:mF,defaultParseWidth:"any"}),dayPeriod:Po({matchPatterns:gF,defaultMatchWidth:"wide",parsePatterns:vF,defaultParseWidth:"any"})},gr={code:"ru",formatDistance:B6,formatLong:G6,formatRelative:J6,localize:oF,match:xF,options:{weekStartsOn:1,firstWeekContainsDate:1}},yF=({channel:n})=>{const e=typeof n=="string"?n.toLowerCase():"",t={whatsapp:i.jsx("img",{src:"/icons/whatsapp.png",alt:"WhatsApp",className:"h-4 w-4"}),telegram:i.jsx("img",{src:"/icons/telegram.png",alt:"Telegram",className:"h-4 w-4"}),avito:i.jsx("img",{src:"/icons/avito.png",alt:"Avito",className:"h-4 w-4"}),email:i.jsx("img",{src:"/icons/email.png",alt:"Email",className:"h-4 w-4"})};return t[e]?i.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg border-2 border-white flex items-center justify-center transform transition-transform hover:scale-110",children:t[e]}):null},wF=({status:n,isLastMessageFromStaff:e})=>{if(!e)return null;switch(n){case"sent":return i.jsx("div",{className:"flex items-center",title:"Отправлено",children:i.jsx(Ii,{className:"h-3.5 w-3.5 text-slate-400"})});case"delivered":return i.jsx("div",{className:"flex items-center",title:"Доставлено",children:i.jsx(_h,{className:"h-3.5 w-3.5 text-slate-400"})});case"read":return i.jsx("div",{className:"flex items-center",title:"Прочитано",children:i.jsx(_h,{className:"h-3.5 w-3.5 text-blue-500"})});case"failed":return i.jsx("div",{className:"flex items-center",title:"Ошибка отправки",children:i.jsx(ys,{className:"h-3.5 w-3.5 text-rose-500 animate-pulse"})});default:return null}},_F=n=>{if(!n)return"";const e=new Date(n);return VN(e)?Lh(e)?We(e,"HH:mm"):N6(e)?"Вчера":We(e,"dd.MM.yy",{locale:gr}):""},og=n=>n!=null&&n.contact_full_name?n.contact_full_name:`Диалог #${((n==null?void 0:n.id)||"").substring(0,6)}`,bF=n=>{const e=og(n);if(e.startsWith("Диалог"))return n.channel==="whatsapp"?"WA":n.channel==="telegram"?"TG":n.channel==="avito"?"AV":n.channel==="email"?"@":"??";const t=e.trim().split(" ");return t.length===1?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(r=>r[0]).join("").toUpperCase()};function Rb({onConversationSelect:n,selectedConversation:e}){const[t,r]=w.useState([]),[o,c]=w.useState(!0),[u,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),b=async O=>{if(O.contact_avatar_url)return console.log(`ℹ️ Аватар уже есть для ${O.contact_full_name}`),null;if(!O.contact_id)return console.log(`❌ Нет contact_id для ${O.contact_full_name}`),null;if(O.channel!=="whatsapp"&&O.channel!=="telegram")return console.log(`ℹ️ Канал ${O.channel} не поддерживается для аватаров`),null;try{console.log(`🖼️ Загружаем аватар для ${O.channel}:`,O.contact_full_name);let I;if(O.channel==="telegram"?I=O.telegram_user_id:O.channel==="whatsapp"&&(I=O.whatsapp_sender_id),!I){console.log(`❌ Не найден external_id в диалоге для ${O.channel}`),console.log("🔄 Пробуем найти external_id в таблице contacts...");const{data:X,error:re}=await Ee.from("contacts").select("external_id").eq("id",O.contact_id).single();if(re||!(X!=null&&X.external_id))return console.log("❌ external_id не найден и в таблице contacts"),null;I=X.external_id}console.log(`📞 Загружаем аватар для ${O.channel} ID:`,I);const L=O.channel==="telegram"?"fetch-telegram-avatar":"fetch-whatsapp-avatar",z=O.channel==="telegram"?"telegram_user_id":"wa_id",{data:F,error:q}=await Ee.functions.invoke(L,{body:{[z]:I,contact_id:O.contact_id}});return q?(console.error("❌ Ошибка Edge Function:",q),null):F!=null&&F.success&&(F!=null&&F.avatar_url)?(console.log("✅ Аватар загружен:",F.avatar_url),r(X=>X.map(re=>re.id===O.id?{...re,contact_avatar_url:F.avatar_url}:re)),F.avatar_url):(console.log("ℹ️ Аватар не найден:",(F==null?void 0:F.message)||"Неизвестная ошибка"),null)}catch(I){return console.error("💥 Ошибка при загрузке аватара:",I),null}},C=w.useCallback(async O=>{console.log("🎯 Обновляем статус последнего сообщения в диалоге:",O);try{r(I=>I.map(L=>L.id===O.conversation_id&&L.last_message_sender_is_staff?(console.log(`✅ Обновляем статус диалога ${L.contact_full_name}: ${O.status}`),{...L,last_message_status:O.status,updated_at:new Date().toISOString()}):L)),console.log("✅ Статус диалога обновлен мгновенно")}catch(I){console.error("💥 Ошибка умного обновления статуса:",I),setTimeout(()=>N(!0),500)}},[]),E=async O=>{try{console.log("🧠 Получено сообщение от гостя, проверяем непрочитанные сообщения...");const{data:I,error:L}=await Ee.from("messages").select("id, content, created_at").eq("conversation_id",O.conversation_id).eq("sender_type","staff").in("status",["sent","delivered"]).order("created_at",{ascending:!1});if(L){console.error("❌ Ошибка поиска непрочитанных сообщений:",L);return}if(!(I!=null&&I.length)){console.log("ℹ️ Нет непрочитанных сообщений от персонала");return}if(console.log(`📖 Найдено ${I.length} непрочитанных сообщений от персонала`),new Date-new Date(I[0].created_at)<1440*60*1e3){const q=I.map(re=>re.id),{error:X}=await Ee.from("messages").update({status:"read",updated_at:new Date().toISOString()}).in("id",q);X?console.error("❌ Ошибка обновления статусов:",X):(console.log(`✅ Помечено как прочитанное ${q.length} сообщений (пользователь ответил)`),setTimeout(()=>N(!0),500))}else console.log("⏰ Сообщения слишком старые, не помечаем как прочитанные автоматически")}catch(I){console.error("💥 Ошибка умной логики прочтения:",I)}},P=async()=>{var O,I;console.log("🧪 Тестируем Telegram Avatar Function...");try{const L=await Ee.functions.invoke("fetch-telegram-avatar",{body:{telegram_user_id:"1322101796",contact_id:"d860abee-90a9-4e01-a5bd-5ef07adb13da"}});console.log("📊 Результат тестирования:",L),(O=L.data)!=null&&O.success?(console.log("✅ Аватар успешно загружен:",L.data.avatar_url),N(!0)):console.log("❌ Не удалось загрузить аватар:",(I=L.data)==null?void 0:I.message)}catch(L){console.error("💥 Ошибка тестирования:",L)}},N=w.useCallback(async(O=!1)=>{console.log("🔄 Начинаем загрузку диалогов через RPC...",O?"(тихое обновление)":""),g(""),O||c(!0);try{const{data:I,error:L}=await Ee.rpc("get_conversations");L?(console.error("❌ Ошибка RPC get_conversations:",L),g(`Ошибка RPC: ${L.message}`),y(`RPC ошибка: ${L.code} - ${L.message}`)):(console.log("✅ RPC функция вернула данные:",(I==null?void 0:I.length)||0),console.log("📊 Первые 3 диалога:",I==null?void 0:I.slice(0,3)),console.log("🖼️ Аватары:",I==null?void 0:I.slice(0,3).map(z=>({id:z.id,avatar:z.contact_avatar_url}))),r(I||[]),y(`RPC функция работает. Найдено: ${(I==null?void 0:I.length)||0} диалогов`))}catch(I){console.error("💥 Неожиданная ошибка:",I),g(`Неожиданная ошибка: ${I.message}`),y(`Исключение: ${I.message}`)}O||c(!1)},[]);w.useEffect(()=>{N();const O=Ee.channel("public-db-changes-smart-read-sidebar").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},I=>{console.log("🔔 Новое сообщение в БД (sidebar):",I.new),I.new.sender_type==="guest"&&(console.log("👤 Сообщение от гостя"),e&&I.new.conversation_id===e.id?(console.log("📖 Сообщение в активном диалоге - помечаем как прочитанное сразу"),setTimeout(async()=>{const{error:L}=await Ee.rpc("mark_conversation_as_read",{conv_id:I.new.conversation_id});L||console.log("✅ Активный диалог отмечен как прочитанный")},100)):(console.log("💭 Сообщение в неактивном диалоге - запускаем умную логику"),E(I.new))),setTimeout(()=>N(!0),300)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},I=>{console.log("🔄 Обновление сообщения (sidebar):",I.new.id,"статус:",I.new.status),C(I.new),setTimeout(()=>{console.log("🔄 Дополнительная синхронизация диалогов"),N(!0)},2e3)}).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},I=>{console.log("🔔 Изменение в диалогах:",I),setTimeout(()=>N(!0),500)}).subscribe();return console.log("📡 Подписка на умную логику прочтения (sidebar) настроена"),()=>{console.log("🔌 Отключаем подписку (sidebar)"),Ee.removeChannel(O)}},[]);const R=async()=>{try{console.log("⏰ Проверяем старые сообщения для автоматического прочтения...");const O=new Date(Date.now()-7200*1e3).toISOString(),{data:I,error:L}=await Ee.from("messages").select("id, conversation_id").eq("sender_type","staff").eq("status","delivered").lt("created_at",O);if(L||!(I!=null&&I.length))return;console.log(`📅 Найдено ${I.length} старых сообщений для автопрочтения`);const z=I.map(q=>q.id),{error:F}=await Ee.from("messages").update({status:"read"}).in("id",z);F||console.log(`✅ Автоматически помечено как прочитанное ${z.length} старых сообщений`)}catch(O){console.error("💥 Ошибка автопрочтения старых сообщений:",O)}};w.useEffect(()=>{const O=async()=>{console.log("🔍 Проверяем аватары для всех диалогов...");const I=t.filter(L=>{const z=!L.contact_avatar_url,F=L.channel==="whatsapp"||L.channel==="telegram",q=L.contact_id;return console.log(`📋 Диалог ${L.contact_full_name}: канал=${L.channel}, аватар=${L.contact_avatar_url?"есть":"нет"}, contact_id=${L.contact_id?"есть":"нет"}`),z&&F&&q});if(console.log(`🔄 Найдено ${I.length} контактов без аватаров для загрузки`),I.length===0){console.log("✅ Все аватары уже загружены или каналы не поддерживаются");return}I.forEach(L=>{console.log(`🎯 Планируем загрузить аватар: ${L.contact_full_name} (${L.channel})`)});for(const L of I.slice(0,3))console.log(`⏳ Загружаем аватар для ${L.contact_full_name} (${L.channel})`),await b(L),await new Promise(z=>setTimeout(z,1e3))};t.length>0&&(console.log(`📊 Всего диалогов: ${t.length}`),O())},[t.length]);const k=async O=>{if(console.log("👆 Клик по диалогу:",O.id,"Непрочитанных:",O.unread_count),n(O),O.unread_count>0){r(L=>L.map(z=>z.id===O.id?{...z,unread_count:0}:z)),console.log("🔄 Отмечаем диалог как прочитанный...");const{error:I}=await Ee.rpc("mark_conversation_as_read",{conv_id:O.id});I?(console.error("❌ Ошибка при отметке о прочтении:",I),r(L=>L.map(z=>z.id===O.id?{...z,unread_count:O.unread_count}:z))):console.log("✅ Диалог отмечен как прочитанный")}};w.useEffect(()=>{const O=setInterval(R,18e5);return()=>clearInterval(O)},[]);const T=t.filter(O=>u?og(O).toLowerCase().includes(u.toLowerCase()):!0);return i.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 via-white to-blue-50/30 backdrop-blur-xl",children:[i.jsxs("div",{className:"p-5 bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent flex items-center",children:[i.jsx("div",{className:"mr-3 p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg shadow-blue-500/20",children:i.jsx(vg,{className:"h-5 w-5 text-white"})}),"Сообщения"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:P,className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl text-xs hover:shadow-lg hover:shadow-blue-500/25 transform transition-all hover:-translate-y-0.5",title:"Тест Telegram Avatar",children:i.jsx($D,{className:"h-4 w-4"})}),i.jsx("button",{onClick:()=>N(!1),className:"p-2.5 bg-white hover:bg-slate-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group",title:"Обновить список",children:i.jsx(Ra,{className:`h-4 w-4 text-slate-600 group-hover:text-blue-600 transition-colors ${o?"animate-spin":""}`})})]})]}),x&&i.jsx("div",{className:"mb-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-xl text-xs text-blue-700 backdrop-blur-sm",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"animate-pulse mr-2",children:"🔍"}),x]})}),p&&i.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-rose-50 to-pink-50 border border-rose-200/50 rounded-xl text-xs text-rose-700 flex items-center backdrop-blur-sm",children:[i.jsx(ys,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p]}),i.jsxs("div",{className:"relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl blur opacity-20 group-hover:opacity-30 transition-opacity"}),i.jsxs("div",{className:"relative",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),i.jsx(qe,{placeholder:"Поиск по сообщениям...",value:u,onChange:O=>h(O.target.value),className:"pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border-slate-200/50 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 transition-all"})]})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[o&&i.jsx("div",{className:"p-8 text-center",children:i.jsxs("div",{className:"inline-flex flex-col items-center",children:[i.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl mb-4",children:i.jsx(Ra,{className:"h-8 w-8 animate-spin text-blue-600"})}),i.jsx("p",{className:"text-slate-600 font-medium",children:"Загрузка сообщений..."})]})}),!o&&!p&&T.length===0&&t.length===0&&i.jsx("div",{className:"p-8 text-center",children:i.jsxs("div",{className:"inline-flex flex-col items-center",children:[i.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl mb-4",children:i.jsx(vg,{className:"h-8 w-8 text-slate-400"})}),i.jsx("p",{className:"text-slate-600 font-medium",children:"Диалогов пока нет"}),i.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Новые сообщения появятся здесь"})]})}),!o&&!p&&T.length===0&&t.length>0&&i.jsx("div",{className:"p-8 text-center",children:i.jsxs("div",{className:"inline-flex flex-col items-center",children:[i.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-100 to-amber-100 rounded-2xl mb-4",children:i.jsx(Ql,{className:"h-8 w-8 text-orange-500"})}),i.jsx("p",{className:"text-slate-600 font-medium",children:"Ничего не найдено"}),i.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:['По запросу "',u,'"']})]})}),i.jsx("div",{className:"p-2",children:!o&&!p&&T.map(O=>i.jsx("div",{onClick:()=>k(O),className:`
                                relative mb-2 p-4 rounded-2xl cursor-pointer
                                transition-all duration-200 transform hover:scale-[1.02]
                                ${(e==null?void 0:e.id)===O.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 shadow-sm hover:shadow-md"}
                            `,children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("div",{className:"relative flex-shrink-0",children:i.jsxs("div",{className:"relative",children:[i.jsxs(DN,{className:"h-12 w-12 ring-2 ring-white shadow-md",children:[O.contact_avatar_url?i.jsx(LN,{src:O.contact_avatar_url,alt:og(O),onError:I=>{console.log("❌ Ошибка загрузки аватара:",I.target.src),b(O)}}):null,i.jsx($N,{className:`font-semibold text-sm ${(e==null?void 0:e.id)===O.id?"bg-white/20 text-white":"bg-gradient-to-br from-blue-500 to-purple-600 text-white"}`,children:bF(O)})]}),i.jsx(yF,{channel:O.channel})]})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("h3",{className:`font-semibold truncate flex-1 pr-2 ${(e==null?void 0:e.id)===O.id?"text-white":"text-slate-800"}`,children:og(O)}),i.jsx("span",{className:`text-xs flex-shrink-0 ${(e==null?void 0:e.id)===O.id?"text-white/80":"text-slate-400"}`,children:_F(O.updated_at)})]}),i.jsxs("div",{className:"flex items-start justify-between mt-1",children:[i.jsxs("p",{className:`text-sm truncate pr-2 ${(e==null?void 0:e.id)===O.id?"text-white/90":"text-slate-500"}`,children:[O.last_message_sender_is_staff&&i.jsx("span",{className:"font-medium",children:"Вы: "}),O.last_message_preview]}),i.jsx("div",{className:"flex-shrink-0 h-5 flex items-center justify-center min-w-[20px]",children:O.unread_count>0?i.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 text-white text-xs font-bold rounded-full h-6 min-w-[24px] flex items-center justify-center px-1.5 shadow-lg shadow-emerald-500/30 animate-pulse",children:O.unread_count}):O.last_message_sender_is_staff?i.jsx(wF,{status:O.last_message_status,isLastMessageFromStaff:O.last_message_sender_is_staff}):null})]})]})]})},O.id))})]})]})}const SF=({status:n,channel:e})=>{if(e==="telegram"&&n==="read")return i.jsx("div",{className:"flex items-center ml-1.5",title:"Доставлено в Telegram",children:i.jsx(_h,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});switch(n){case"sent":return i.jsx("div",{className:"flex items-center ml-1.5",title:"Отправлено",children:i.jsx(Ii,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"delivered":const t=e==="telegram"?"Доставлено в Telegram":e==="email"?"Доставлено в почтовый ящик":e==="whatsapp"?"Доставлено в WhatsApp":"Доставлено";return i.jsx("div",{className:"flex items-center ml-1.5",title:t,children:i.jsx(_h,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"read":const r=e==="email"?"Прочитано (получатель открыл письмо)":e==="whatsapp"?"Прочитано в WhatsApp":"Прочитано";return i.jsx("div",{className:"flex items-center ml-1.5",title:r,children:i.jsx(_h,{className:"h-3.5 w-3.5 text-emerald-400 drop-shadow-glow"})});case"failed":const o=e==="email"?"Ошибка отправки письма":e==="whatsapp"?"Ошибка отправки в WhatsApp":e==="telegram"?"Ошибка отправки в Telegram":"Ошибка отправки";return i.jsx("div",{className:"flex items-center ml-1.5",title:o,children:i.jsx(ys,{className:"h-3.5 w-3.5 text-rose-400 animate-pulse drop-shadow-glow"})});default:return null}},jF=({channel:n})=>{const e={whatsapp:"from-green-400 to-green-600 text-white",telegram:"from-blue-400 to-blue-600 text-white",avito:"from-purple-400 to-purple-600 text-white",email:"from-orange-400 to-orange-600 text-white"},t={whatsapp:"💬",telegram:"✈️",avito:"🏠",email:"📧"},r=e[n==null?void 0:n.toLowerCase()]||"from-slate-400 to-slate-600 text-white",o=t[n==null?void 0:n.toLowerCase()]||"💬";return i.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r ${r} rounded-full text-xs font-medium shadow-md`,children:[i.jsx("span",{children:o}),i.jsx("span",{className:"capitalize",children:n})]})};function $0({selectedConversation:n}){const{user:e}=Wh(),[t,r]=w.useState([]),[o,c]=w.useState(""),[u,h]=w.useState(!1),[p,g]=w.useState(!1),x=w.useRef(null);w.useEffect(()=>{if(!(n!=null&&n.id)){r([]);return}(async()=>{h(!0);try{const{data:k,error:T}=await Ee.from("messages").select("*").eq("conversation_id",n.id).order("created_at",{ascending:!0});if(T)throw T;r(k||[])}catch(k){console.error("Ошибка загрузки сообщений:",k)}finally{h(!1)}})();const R=Ee.channel(`messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},k=>{console.log("💬 Новое сообщение в чате:",k.new),r(T=>T.find(O=>O.id===k.new.id)?T:[...T,k.new])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},k=>{console.log("🔄 Обновление статуса сообщения:",k.new.id,"статус:",k.new.status,"канал:",k.new.channel),r(T=>T.map(O=>O.id===k.new.id?{...O,status:k.new.status,brevo_message_id:k.new.brevo_message_id}:O))}).subscribe();return()=>{Ee.removeChannel(R)}},[n==null?void 0:n.id]),w.useEffect(()=>{var N;(N=x.current)==null||N.scrollIntoView({behavior:"smooth"})},[t]);const y=async()=>{var T;const N=n;if(!o.trim()||!N||!e)return;const R=o.trim();c("");const k={id:`temp-${Date.now()}`,conversation_id:N.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent",created_at:new Date().toISOString(),isOptimistic:!0};r(O=>[...O,k]);try{console.log(`📤 Отправляем сообщение в ${N.channel}:`,R);const{data:O,error:I}=await Ee.from("messages").insert({conversation_id:N.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent"}).select().single();if(I)throw I;console.log("✅ Сообщение сохранено в БД:",O.id),r(q=>q.map(X=>X.id===k.id?{...O,isOptimistic:!1}:X));const L=(T=N.channel)==null?void 0:T.toLowerCase();let z=null,F={conversation_id:N.id,message_id:O.id,content:R};switch(L){case"whatsapp":z="https://vodahotel.app.n8n.cloud/webhook/pms_to_whatsapp",console.log("📱 Отправляем в WhatsApp...");break;case"telegram":z="https://vodahotel.app.n8n.cloud/webhook/telegram-reply",console.log("🤖 Отправляем в Telegram...");break;case"avito":z="https://vodahotel.app.n8n.cloud/webhook/c2e07a8b-9c99-4dfb-b45f-37e6db393a54",console.log("🏠 Отправляем в Avito...");break;case"email":z="https://vodahotel.app.n8n.cloud/webhook/pms_to_email_brevo",console.log("📧 Отправляем в Email через Brevo...");break;default:console.warn("⚠️ Неизвестный канал:",N.channel);return}if(z){console.log("🔗 Вызываем webhook:",z),console.log("📦 Payload:",F);const q=await fetch(z,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(F)});if(q.ok){console.log(`✅ Webhook успешно вызван для ${N.channel}`);try{const X=await q.json();if(console.log(`📊 ${N.channel} Response:`,X),L==="whatsapp"&&X&&X.messages&&X.messages[0]&&X.messages[0].id){const re=X.messages[0].id;await Ee.from("messages").update({whatsapp_message_id:re}).eq("id",O.id),console.log("✅ WhatsApp Message ID сохранен:",re)}L==="email"&&X&&X.messageId&&console.log("✅ Email отправлен через Brevo, messageId:",X.messageId)}catch(X){console.log("ℹ️ Не удалось получить response JSON:",X.message)}L==="telegram"&&(console.log("🧪 Запускаем симуляцию статусов для Telegram..."),setTimeout(async()=>{try{await Ee.from("messages").update({status:"delivered"}).eq("id",O.id),console.log("📬 Статус обновлен: delivered")}catch(X){console.error("❌ Ошибка обновления delivered:",X)}},1500))}else{console.error(`❌ Ошибка webhook для ${N.channel}:`,q.status);const X=await q.text();console.error("Ошибка webhook:",X),r(re=>re.map(ae=>ae.id===k.id||ae.id===O.id?{...ae.id===k.id?O:ae,status:"failed"}:ae)),await Ee.from("messages").update({status:"failed"}).eq("id",O.id)}}}catch(O){console.error("💥 Ошибка отправки сообщения:",O),r(I=>I.filter(L=>L.id!==k.id))}},b=()=>n?n.contact_full_name||"Неизвестный контакт":"",C=N=>{const R={};return N.forEach(k=>{const T=We(new Date(k.created_at),"yyyy-MM-dd");R[T]||(R[T]=[]),R[T].push(k)}),R},E=N=>{const R=new Date(N),k=new Date,T=new Date(k);return T.setDate(T.getDate()-1),We(R,"yyyy-MM-dd")===We(k,"yyyy-MM-dd")?"Сегодня":We(R,"yyyy-MM-dd")===We(T,"yyyy-MM-dd")?"Вчера":We(R,"d MMMM yyyy",{locale:gr})},P=C(t);return i.jsx("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50/50 via-white to-blue-50/30",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"px-6 py-4 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-4",children:i.jsxs("div",{className:"flex flex-col",children:[i.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:b()}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(jF,{channel:n.channel}),p&&i.jsx("span",{className:"text-xs text-green-600 font-medium animate-pulse",children:"печатает..."})]})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:i.jsx(Ma,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),i.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:i.jsx(tL,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),i.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:i.jsx(QM,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})})]})]})}),i.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[u&&i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mb-4"}),i.jsx("p",{className:"text-slate-500 font-medium",children:"Загрузка сообщений..."})]})}),Object.entries(P).map(([N,R])=>i.jsxs("div",{children:[i.jsx("div",{className:"flex items-center justify-center my-4",children:i.jsx("div",{className:"px-4 py-1.5 bg-white/80 backdrop-blur-sm rounded-full shadow-sm border border-slate-200/50",children:i.jsx("span",{className:"text-xs font-medium text-slate-600",children:E(N)})})}),R.map(k=>{var O;const T=k.sender_type==="staff";return i.jsx("div",{className:`flex mb-3 ${T?"justify-end":"justify-start"} animate-fadeIn`,children:i.jsxs("div",{className:`group relative max-w-[70%] ${T?"items-end":"items-start"}`,children:[i.jsx("div",{className:`
                            px-4 py-2.5 rounded-2xl break-words shadow-sm
                            transition-all duration-200 transform hover:scale-[1.02]
                            ${T?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md shadow-lg shadow-blue-500/20":"bg-white text-slate-900 rounded-bl-md shadow-md border border-slate-100"}
                            ${k.isOptimistic?"opacity-70":""}
                          `,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:i.jsxs("div",{className:"flex items-end justify-between gap-2",children:[i.jsx("p",{className:"break-words whitespace-pre-wrap flex-1 leading-relaxed",children:k.content}),i.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 self-end ml-2",children:[k.created_at&&i.jsx("span",{className:`text-xs leading-none ${T?"text-blue-100":"text-slate-400"}`,children:We(new Date(k.created_at),"HH:mm",{locale:gr})}),T&&k.status&&i.jsx(SF,{status:k.status,channel:(O=n==null?void 0:n.channel)==null?void 0:O.toLowerCase()})]})]})}),i.jsx("div",{className:`
                          absolute bottom-0 w-2 h-2
                          ${T?"right-[-4px] bg-gradient-to-r from-blue-500 to-blue-600":"left-[-4px] bg-white border-l border-b border-slate-100"}
                          ${T?"rounded-bl-md":"rounded-br-md"}
                        `})]})},k.id)})]},N)),i.jsx("div",{ref:x})]}),i.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-xl border-t border-slate-200/50",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:i.jsx(bD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),i.jsxs("div",{className:"flex-1 relative group",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur opacity-0 group-focus-within:opacity-20 transition-opacity"}),i.jsx(qe,{placeholder:"Введите сообщение...",value:o,onChange:N=>c(N.target.value),onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},className:"relative pl-4 pr-4 py-3 bg-slate-50 border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 focus:bg-white transition-all placeholder:text-slate-400"})]}),i.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:i.jsx(DD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),i.jsx(et,{onClick:y,disabled:!o.trim(),className:`
                  px-4 py-3 rounded-xl font-medium transition-all duration-200 transform
                  ${o.trim()?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5":"bg-slate-200 text-slate-400 cursor-not-allowed"}
                `,children:i.jsx(iy,{className:"h-5 w-5"})})]})})]}):i.jsx("div",{className:"flex h-full items-center justify-center p-4",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl mb-6 shadow-lg shadow-blue-500/10",children:i.jsx(vg,{className:"h-16 w-16 text-gradient bg-gradient-to-br from-blue-500 to-purple-600",style:{background:"linear-gradient(135deg, #3b82f6 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})}),i.jsx("p",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Выберите диалог"}),i.jsx("p",{className:"text-sm text-slate-500 max-w-xs",children:"Выберите чат из списка слева, чтобы начать общение"})]})})})}function NF({children:n,currentPageName:e}){const[t,r]=w.useState(null),o=u=>{console.log("🎯 Выбран диалог в Layout:",u.id),r(u)};return e==="Chat"?i.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-slate-50 flex",children:[i.jsx("div",{className:"w-80 h-full bg-white border-r border-slate-200 flex-shrink-0",children:i.jsx(Rb,{onConversationSelect:o,selectedConversation:t})}),i.jsx("div",{className:"flex-1 h-full",children:i.jsx($0,{selectedConversation:t})})]}):i.jsx("div",{className:"h-screen w-screen overflow-hidden bg-slate-50",children:i.jsxs(gb,{direction:"horizontal",className:"h-full",children:[i.jsx(Jm,{defaultSize:20,minSize:15,maxSize:35,children:i.jsx("div",{className:"h-full bg-white border-r border-slate-200",children:i.jsx(Rb,{onConversationSelect:o,selectedConversation:t})})}),i.jsx(vb,{withHandle:!0}),i.jsx(Jm,{defaultSize:80,children:i.jsxs(gb,{direction:"vertical",className:"h-full",children:[i.jsx(Jm,{defaultSize:50,minSize:30,children:i.jsx("div",{className:"h-full p-6 overflow-auto bg-slate-50",children:n})}),i.jsx(vb,{withHandle:!0}),i.jsx(Jm,{defaultSize:50,minSize:20,children:i.jsx("div",{className:"h-full bg-white border-t border-slate-200",children:i.jsx($0,{selectedConversation:t})})})]})})]})})}function kF({children:n,currentPageName:e}){const{user:t,loading:r}=Wh();return r?i.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Загрузка..."}):t?i.jsx(NF,{currentPageName:e,children:n}):i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:i.jsx(oN,{})})}const CF=Hh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function lt({className:n,variant:e,...t}){return i.jsx("div",{className:Ue(CF({variant:e}),n),...t})}var Oy="Progress",My=100,[EF,lU]=Ss(Oy),[PF,RF]=EF(Oy),JN=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:c=TF,...u}=n;(o||o===0)&&!Tb(o)&&console.error(AF(`${o}`,"Progress"));const h=Tb(o)?o:My;r!==null&&!Ab(r,h)&&console.error(IF(`${r}`,"Progress"));const p=Ab(r,h)?r:null,g=Cg(p)?c(p,h):void 0;return i.jsx(PF,{scope:t,value:p,max:h,children:i.jsx(ot.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Cg(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":ZN(p,h),"data-value":p??void 0,"data-max":h,...u,ref:e})})});JN.displayName=Oy;var XN="ProgressIndicator",QN=w.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,o=RF(XN,t);return i.jsx(ot.div,{"data-state":ZN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});QN.displayName=XN;function TF(n,e){return`${Math.round(n/e*100)}%`}function ZN(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Cg(n){return typeof n=="number"}function Tb(n){return Cg(n)&&!isNaN(n)&&n>0}function Ab(n,e){return Cg(n)&&!isNaN(n)&&n<=e&&n>=0}function AF(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${My}\`.`}function IF(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${My} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var ek=JN,OF=QN;const tk=w.forwardRef(({className:n,value:e,...t},r)=>i.jsx(ek,{ref:r,className:Ue("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:i.jsx(OF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));tk.displayName=ek.displayName;class MF{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.useMockData=!this.apiKey,this.useMockData?console.warn("🎭 Channex работает в режиме MOCK данных. Установите VITE_CHANNEX_API_KEY в .env"):(console.log("✅ Channex работает в режиме PRODUCTION"),console.log(`🏨 Property ID: ${this.propertyId}`)),console.log("✅ Booking CRS App установлен через UI")}async apiRequest(e,t="GET",r=null){var c,u;if(this.useMockData)return console.log(`🎭 Mock API Request: ${t} ${e}`),{data:{},success:!0};const o=`${this.baseURL}${e}`;console.log(`🌐 API запрос: ${t} ${o}`);try{const h={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(h.body=JSON.stringify(r));const p=await fetch(o,h),g=await p.text();if(console.log(`📡 Ответ API: ${p.status}`),!p.ok){console.error("📄 Полный ответ ошибки:",g);let y;try{y=JSON.parse(g)}catch{y={message:g}}const b=((c=y==null?void 0:y.errors)==null?void 0:c.title)||((u=y==null?void 0:y.errors)==null?void 0:u.details)||g;throw new Error(`Channex API Error: ${b}`)}if(!g)return{success:!0};const x=JSON.parse(g);return console.log("📊 Данные от API:",x),x}catch(h){throw console.error("💥 Channex API Request Error:",h),h}}async initializeBookingCRS(){try{const e=await this.checkInstalledApps();!e||e.length===0?(console.log("⚠️ Нет установленных приложений. Устанавливаем Booking CRS App..."),await this.installBookingCRSApp()):e.some(r=>{var o,c,u,h;return((c=(o=r.attributes)==null?void 0:o.application_code)==null?void 0:c.includes("booking"))||((h=(u=r.attributes)==null?void 0:u.application_code)==null?void 0:h.includes("crs"))})?console.log("✅ Booking CRS App уже установлен"):(console.log("⚠️ Booking CRS App не найден. Устанавливаем..."),await this.installBookingCRSApp())}catch(e){console.error("❌ Ошибка при инициализации Booking CRS:",e)}}async installBookingCRSApp(){var t,r;console.log("🔧 Устанавливаем Booking CRS App...");const e=["booking_crs","channex_booking_crs","crs","bookings"];for(const o of e)try{const c=await this.apiRequest("/applications","POST",{application_installation:{property_id:this.propertyId,application_code:o}});if((r=(t=c==null?void 0:c.data)==null?void 0:t[0])!=null&&r.id)return console.log(`✅ Установлено приложение с кодом: ${o}`,c),c.data[0].id}catch(c){console.log(`❌ Код ${o} не подошел:`,c.message)}throw console.error("❌ Не удалось установить Booking CRS App ни с одним из кодов"),new Error("Failed to install Booking CRS App")}async checkInstalledApps(){try{const e=await this.apiRequest(`/applications?filter[property_id]=${this.propertyId}`,"GET");return console.log("📋 Установленные приложения:",(e==null?void 0:e.data)||[]),(e==null?void 0:e.data)||[]}catch(e){return console.error("❌ Ошибка при проверке приложений:",e),[]}}async createBookingInChannex(e){var t,r,o,c,u;console.log("📤 Отправляем бронирование в Channex:",e.id);try{const{data:h,error:p}=await Ee.from("rooms").select("*");if(p)throw p;const g=await this.apiRequest(`/room_types?filter[property_id]=${this.propertyId}`,"GET"),x=(g==null?void 0:g.data)||[],y=await this.apiRequest(`/rate_plans?filter[property_id]=${this.propertyId}`,"GET"),b=(y==null?void 0:y.data)||[];console.log(`... получено ${x.length} типов комнат и ${b.length} тарифов из Channex`),console.log("🏠 ВСЕ ТИПЫ КОМНАТ ИЗ CHANNEX:"),x.forEach((k,T)=>{var O,I,L;console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Title: "${(O=k.attributes)==null?void 0:O.title}"`),console.log(`     Kind: ${(I=k.attributes)==null?void 0:I.room_kind}`),console.log(`     Count: ${(L=k.attributes)==null?void 0:L.count_of_rooms}`),console.log("     ---")}),console.log("💰 ВСЕ ТАРИФНЫЕ ПЛАНЫ ИЗ CHANNEX:"),b.forEach((k,T)=>{var O,I,L,z,F;console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Title: "${(O=k.attributes)==null?void 0:O.title}"`),console.log(`     Room Type ID: ${(z=(L=(I=k.relationships)==null?void 0:I.room_type)==null?void 0:L.data)==null?void 0:z.id}`),console.log(`     Currency: ${(F=k.attributes)==null?void 0:F.currency}`),console.log("     ---")}),console.log("🔍 PMS КОМНАТА:"),console.log(`  ID: ${e.room_id}`),console.log("  Ищем комнату в PMS..."),console.log("🏠 ВСЕ КОМНАТЫ ИЗ PMS:"),h.forEach((k,T)=>{console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Number: "${k.room_number}"`),console.log(`     Name: "${k.name}"`),console.log(`     Type: "${k.room_type}"`),console.log(`     Channex Room Type ID: ${k.channex_room_type_id||"НЕТ"}`),console.log("     ---")});const C=h.find(k=>k.id===e.room_id);if(!C)throw console.error(`❌ Комната с ID ${e.room_id} не найдена в PMS.`),console.error("📋 Доступные комнаты:",h.map(k=>({id:k.id,number:k.room_number}))),new Error(`Комната с ID ${e.room_id} не найдена в PMS. Проверьте room_id в бронировании.`);console.log("🎯 НАЙДЕННАЯ PMS КОМНАТА:"),console.log(`  ID: ${C.id}`),console.log(`  Number: "${C.room_number}"`),console.log(`  Name: "${C.name}"`),console.log(`  Channex Room Type ID: ${C.channex_room_type_id||"НЕТ"}`);let E;if(console.log(`🔍 ПОИСК CHANNEX ROOM TYPE ДЛЯ PMS КОМНАТЫ "${C.room_number}"`),C.channex_room_type_id&&(E=x.find(k=>k.id===C.channex_room_type_id),console.log(`  🎯 По ID из базы (${C.channex_room_type_id}): ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)),!E){let k="Standard Room";const T=C.room_number;T&&(T.startsWith("1")?k="Standard Room":T.startsWith("2")?k="Deluxe Room":T.startsWith("3")&&(k="Suite")),console.log(`  🏠 Маппинг номера "${T}" → тип "${k}"`),E=x.find(O=>O.attributes.title===k),console.log(`  🔍 Поиск типа "${k}": ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)}if(E||(E=x[0],console.warn(`  ⚠️ Используем первый доступный: ${(t=E==null?void 0:E.attributes)==null?void 0:t.title}`)),!E)throw new Error(`Не найден ни один тип комнаты в Channex для "${C.room_number}"`);console.log("✅ ВЫБРАННЫЙ CHANNEX ROOM TYPE:"),console.log(`  ID: ${E.id}`),console.log(`  Title: "${(r=E.attributes)==null?void 0:r.title}"`),console.log(`  Kind: ${(o=E.attributes)==null?void 0:o.room_kind}`);const P=b.find(k=>{var T,O,I;return((I=(O=(T=k.relationships)==null?void 0:T.room_type)==null?void 0:O.data)==null?void 0:I.id)===E.id});if(console.log(`🔍 Поиск rate plan для room_type_id: ${E.id}`),console.log(`  Найден rate plan: ${P?"ДА":"НЕТ"}`),!P)throw new Error(`Тарифный план для типа комнаты "${E.attributes.title}" не найден в Channex.`);console.log("✅ ВЫБРАННЫЙ RATE PLAN:"),console.log(`  ID: ${P.id}`),console.log(`  Title: "${(c=P.attributes)==null?void 0:c.title}"`),console.log(`  Currency: ${(u=P.attributes)==null?void 0:u.currency}`),console.log(`✅ Найдена связка: PMS Room "${C.room_number}" -> Channex Room Type "${E.attributes.title}" -> Channex Rate Plan "${P.attributes.title}"`);const N=this.mapPMSToChannexBooking(e,P,E,C);console.log("📋 Финальные данные для отправки:",JSON.stringify(N,null,2));const R=await this.apiRequest("/bookings","POST",N);if(R!=null&&R.data){console.log("✅ Бронь создана в Channex:",R.data.id);const k={external_booking_id:R.data.id,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(R.data)};return e.room_id||(k.room_id=C.id,console.log(`🔗 Привязываем бронирование к комнате: ${C.room_number} (${C.id})`)),await Ee.from("bookings").update(k).eq("id",e.id),R.data}}catch(h){throw console.error(`❌ Ошибка отправки брони ${e.id} в Channex:`,h),await Ee.from("sync_errors").insert({booking_id:e.id,service:"channex",error_message:h.message,error_details:h.stack,occurred_at:new Date().toISOString()}),h}}mapPMSToChannexBooking(e,t,r,o){var N,R,k,T,O,I,L,z;const u=(((N=e.guests)==null?void 0:N.full_name)||"Guest").trim().split(" ").filter(Boolean),h=u[0]||"Guest",p=u.length>1?u.slice(1).join(" "):"Guest",g=e.guests_count||1,x=new Date(e.check_in),y=new Date(e.check_out),b=Math.ceil((y-x)/(1e3*60*60*24));let C="100.00";const E=((R=r==null?void 0:r.attributes)==null?void 0:R.title)||"";E==="Standard Room"?C="100.00":E==="Deluxe Room"?C="200.00":E==="Suite"&&(C="300.00"),console.log("💰 ОБРАБОТКА ЦЕН (ПО ТИПАМ КОМНАТ):"),console.log(`  Тип комнаты: "${E}"`),console.log(`  Цена за ночь: ${C}`),console.log(`  Количество ночей: ${b}`);const P={};for(let F=0;F<b;F++){const q=new Date(x);q.setDate(q.getDate()+F);const X=q.toISOString().split("T")[0];P[X]=C,console.log(`    ${X}: ${C}`)}return{booking:{property_id:this.propertyId,ota_reservation_code:`PMS-${e.id}`,ota_name:this.mapSourceToOtaName(e.source),arrival_date:e.check_in,departure_date:e.check_out,currency:"GBP",arrival_hour:"15:00",customer:{name:h,surname:p,mail:((k=e.guests)==null?void 0:k.email)||"guest@example.com",phone:((T=e.guests)==null?void 0:T.phone)||"",address:((O=e.guests)==null?void 0:O.address)||"",city:((I=e.guests)==null?void 0:I.city)||"",country:((L=e.guests)==null?void 0:L.country)||"GB",zip:((z=e.guests)==null?void 0:z.zip)||""},rooms:[{room_type_id:r.id,rate_plan_id:t.id,days:P,guests:[{name:h,surname:p}],occupancy:{adults:g,children:0,infants:0,ages:[]}}],notes:e.notes||`PMS Room: ${o.room_number}`,meta:{pms_room_id:e.room_id,pms_room_number:o.room_number,source:"PMS"}}}}mapSourceToOtaName(e){const t={"Open Channel":"Booking.com",booking:"Booking.com",airbnb:"Airbnb",expedia:"Expedia",agoda:"Agoda",direct:"Booking.com",phone:"Booking.com",email:"Booking.com","walk-in":"Booking.com"};return console.log(`🏷️ Маппинг источника: "${e}" → "${t[e]||"Booking.com"}"`),t[e]||"Booking.com"}cleanRoomTitle(e){return e?e.replace(/[^a-zA-Z0-9\s\-]/g,"").trim():"Room"}async updateBookingInChannex(e,t){console.log("📝 Обновляем бронирование в Channex:",e);try{const r=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:t});return console.log("✅ Бронирование обновлено в Channex"),r.data}catch(r){throw console.error("❌ Ошибка обновления бронирования:",r),r}}async cancelBookingInChannex(e){console.log("🚫 Отменяем бронирование в Channex:",e);try{const t=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:{status:"cancelled"}});return console.log("✅ Бронирование отменено в Channex"),t.data}catch(t){throw console.error("❌ Ошибка отмены бронирования:",t),t}}async getBookingsFromChannex(){var e;console.log("📥 Получаем все бронирования из Channex...");try{const t=await this.apiRequest(`/bookings?filter[property_id]=${this.propertyId}`,"GET");return console.log(`✅ Получено ${((e=t.data)==null?void 0:e.length)||0} бронирований из Channex`),t.data||[]}catch(t){throw console.error("❌ Ошибка получения бронирований:",t),t}}async importBookingsToPMS(){console.log("📋 Импортируем бронирования из Channex в PMS...");try{const e=await this.getBookingsFromChannex();if(!e||e.length===0)return console.log("ℹ️ Нет бронирований для импорта"),{imported:0,skipped:0,errors:0};const{data:t,error:r}=await Ee.from("bookings").select("external_booking_id");if(r)throw r;const o=new Set(t.map(p=>p.external_booking_id));let c=0,u=0,h=0;for(const p of e)try{const g=p.id;if(o.has(g)){console.log(`⏭️ Пропускаем существующее бронирование: ${g}`),u++;continue}const x=await this.convertChannexToPMSBooking(p),{error:y}=await Ee.from("bookings").insert([x]);y?(console.error(`❌ Ошибка вставки бронирования ${g}:`,y),h++):(console.log(`✅ Импортировано бронирование: ${g}`),c++)}catch(g){console.error("❌ Ошибка обработки бронирования:",g),h++}return console.log(`📊 Результат импорта: ${c} импортировано, ${u} пропущено, ${h} ошибок`),{imported:c,skipped:u,errors:h}}catch(e){throw console.error("❌ Ошибка импорта бронирований:",e),e}}async convertChannexToPMSBooking(e){var h,p,g,x,y,b,C,E,P,N,R,k;const t=e.attributes,r=((h=t.rooms)==null?void 0:h[0])||{};let o="101";if((p=t.meta)!=null&&p.pms_room_number)o=t.meta.pms_room_number;else{const T=((g=r.room_type)==null?void 0:g.title)||"";T.includes("Deluxe")?o="201":T.includes("Suite")&&(o="301")}let c=null;try{const{data:T,error:O}=await Ee.from("rooms").select("id, room_number").eq("room_number",o);O?console.error("❌ Ошибка поиска комнаты:",O):T&&T.length>0?(c=T[0].id,console.log(`✅ Найдена комната в PMS: ${o} → ID ${c}`)):console.warn(`⚠️ Комната ${o} не найдена в PMS. Создаем бронирование без привязки к комнате.`)}catch(T){console.error("❌ Ошибка при поиске комнаты в базе:",T)}let u=0;return r.days&&(u=Object.values(r.days).reduce((T,O)=>T+parseFloat(O||0),0)),{id:`channex-${e.id}`,external_booking_id:e.id,room_id:c,check_in:t.arrival_date,check_out:t.departure_date,guests:{full_name:`${((x=t.customer)==null?void 0:x.name)||""} ${((y=t.customer)==null?void 0:y.surname)||""}`.trim(),email:((b=t.customer)==null?void 0:b.mail)||((C=t.customer)==null?void 0:C.email),phone:((E=t.customer)==null?void 0:E.phone)||"",address:((P=t.customer)==null?void 0:P.address)||"",city:((N=t.customer)==null?void 0:N.city)||"",country:((R=t.customer)==null?void 0:R.country)||"GB"},guests_count:((k=r.occupancy)==null?void 0:k.adults)||1,total_amount:u,currency:t.currency||"GBP",status:this.mapChannexStatusToPMS(t.status),source:this.mapOtaNameToSource(t.ota_name),notes:t.notes||`Импортировано из Channex (${t.ota_name})`,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(e),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}mapChannexStatusToPMS(e){return{new:"pending",confirmed:"confirmed",checked_in:"checked_in",checked_out:"checked_out",cancelled:"cancelled"}[e]||"pending"}mapOtaNameToSource(e){return{"Booking.com":"booking",Airbnb:"airbnb",Expedia:"expedia",Agoda:"agoda"}[e]||"direct"}async handleWebhook(e){console.log("🔔 Обработка webhook события в ChannexService:",e.event);try{const t=e.event||"booking",r=e.booking_id,o=e.revision_id;switch(console.log("📋 Данные webhook:",{eventType:t,bookingId:r,revisionId:o,propertyId:e.property_id,timestamp:e.timestamp}),t){case"test":return console.log("🧪 Получен тестовый webhook - все работает!"),{success:!0,message:"Test webhook processed"};case"booking_created":case"booking_updated":case"booking_cancelled":if(r)return await this.handleBookingWebhookEvent(t,r,e);break;case"booking_revision_created":case"booking_revision_updated":if(o)return await this.handleBookingRevisionWebhookEvent(t,o,e);break;default:return console.log(`ℹ️ Неизвестный тип события: ${t}`),{success:!0,message:`Unknown event type: ${t}`}}return{success:!0,message:"Webhook processed"}}catch(t){throw console.error("❌ Ошибка обработки webhook:",t),t}}async handleBookingWebhookEvent(e,t,r){console.log(`📋 Обработка booking webhook: ${e} для ID ${t}`);try{const o=await this.apiRequest(`/bookings/${t}`,"GET");if(o&&o.data){const c=o.data;return await this.syncChannexBookingToPMS(c,e),console.log(`✅ Бронирование ${t} синхронизировано в PMS`),{success:!0,message:`Booking ${t} synchronized`,booking_id:t}}else return console.warn(`⚠️ Не удалось получить данные бронирования ${t} - возможно тестовое`),{success:!0,message:`Test booking ${t} - no sync needed`}}catch(o){return console.error("❌ Ошибка обработки booking webhook:",o),{success:!1,message:`Error processing booking ${t}: ${o.message}`}}}async handleBookingRevisionWebhookEvent(e,t,r){console.log(`📝 Обработка booking revision webhook: ${e} для revision ${t}`);try{if(r.data&&r.data.booking)return await this.syncChannexBookingToPMS(r.data.booking,e),{success:!0,message:`Booking revision ${t} processed`,revision_id:t};{const o=await this.apiRequest(`/booking_revisions/${t}`,"GET");if(o&&o.data&&o.data.booking)return await this.syncChannexBookingToPMS(o.data.booking,e),{success:!0,message:`Booking revision ${t} synchronized`,revision_id:t}}return{success:!0,message:`Revision ${t} processed - no action needed`}}catch(o){return console.error("❌ Ошибка обработки booking revision webhook:",o),{success:!1,message:`Error processing revision ${t}: ${o.message}`}}}async syncChannexBookingToPMS(e,t){var r,o;console.log("📥 Синхронизация Channex бронирования в PMS:",e.id);try{const c=(r=e.attributes)==null?void 0:r.ota_name;console.log("📋 OTA канал:",c);let u;if(c==="Airbnb")try{const{default:g}=await oc(async()=>{const{default:x}=await Promise.resolve().then(()=>k8);return{default:x}},void 0);u=g.convertToPMSFormat(e)}catch{console.warn("⚠️ AirbnbChannexService не найден, используем общий маппинг"),u=await this.convertChannexToPMSBooking(e)}else u=await this.convertChannexToPMSBooking(e);if(!await this.checkRoomAvailability(u.room_id,u.check_in,u.check_out,e.id)&&t==="booking_created")throw console.error(`❌ Комната ${u.room_id} недоступна на даты ${u.check_in} - ${u.check_out}`),await Ee.from("booking_conflicts").insert({channex_booking_id:e.id,room_id:u.room_id,check_in:u.check_in,check_out:u.check_out,conflict_reason:"room_unavailable",created_at:new Date().toISOString()}),new Error(`Room ${u.room_id} is not available for dates ${u.check_in} - ${u.check_out}`);const{data:p}=await Ee.from("bookings").select("id, room_id").or(`external_booking_id.eq.${e.id},ota_reservation_code.eq.${(o=e.attributes)==null?void 0:o.ota_reservation_code}`).single();if(p){const{error:g}=await Ee.from("bookings").update({...u,updated_at:new Date().toISOString()}).eq("id",p.id);if(g)throw console.error("❌ Ошибка обновления бронирования:",g),g;console.log(`✅ Бронирование ${e.id} обновлено в PMS`)}else{const{error:g}=await Ee.from("bookings").insert({...u,created_at:new Date().toISOString()});if(g)throw console.error("❌ Ошибка создания бронирования:",g),g;console.log(`✅ Бронирование ${e.id} создано в PMS`)}}catch(c){throw console.error("❌ Ошибка синхронизации Channex бронирования:",c),c}}async checkRoomAvailability(e,t,r,o=null){console.log(`🔍 Проверка доступности комнаты ${e} на даты ${t} - ${r}`);try{let c=Ee.from("bookings").select("id, external_booking_id, check_in, check_out, status").eq("room_id",e).neq("status","cancelled").or(`and(check_in.lte.${r},check_out.gt.${t})`);o&&(c=c.neq("external_booking_id",o));const{data:u,error:h}=await c;return h?(console.error("❌ Ошибка проверки доступности комнаты:",h),!1):u&&u.length>0?(console.warn("⚠️ Найдены конфликтующие бронирования:",u),!1):(console.log(`✅ Комната ${e} доступна на запрашиваемые даты`),!0)}catch(c){return console.error("❌ Ошибка при проверке доступности комнаты:",c),!1}}}const mr=new MF,DF=Object.freeze(Object.defineProperty({__proto__:null,default:mr},Symbol.toStringTag,{value:"Module"}));function LF(){const[n,e]=w.useState("unknown"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState([]),[p,g]=w.useState(!1),x=(k,T="info")=>{const O=new Date().toLocaleTimeString();h(I=>[...I,{message:k,type:T,timestamp:O}])},y=async()=>{const k=window.location.hostname==="localhost"?"http://localhost:3001/health":"https://pms.voda.center/api/health";try{const T=await fetch(k);if(T.ok){const O=await T.json();e("running"),x(`✅ Webhook сервер работает (${O.environment||"production"})`,"success")}else e("error"),x("❌ Webhook сервер недоступен","error")}catch{e("offline"),x("🔌 Webhook сервер не запущен","warning")}},b=async()=>{try{const{data:k,error:T}=await Ee.from("channex_webhooks").select("*").order("received_at",{ascending:!1}).limit(20);if(T)throw T;r(k||[]),x(`📥 Загружено webhook'ов: ${(k==null?void 0:k.length)||0}`,"info")}catch(k){x(`❌ Ошибка загрузки webhooks: ${k.message}`,"error")}},C=async()=>{try{const{data:k,error:T}=await Ee.from("bookings").select("*").not("external_booking_id","is",null).order("created_at",{ascending:!1}).limit(20);if(T)throw T;c(k||[]),x(`📋 Загружено бронирований из Channex: ${(k==null?void 0:k.length)||0}`,"info")}catch(k){x(`❌ Ошибка загрузки бронирований: ${k.message}`,"error")}},E=async()=>{g(!0),x("🧪 Создаем тестовое бронирование...","info");try{const k={external_booking_id:`test_${Date.now()}`,source:"booking",check_in:new Date().toISOString().split("T")[0],check_out:new Date(Date.now()+1728e5).toISOString().split("T")[0],guest_name:"Тест Гость",guest_email:"test@example.com",guest_phone:"+7 999 123-45-67",total_amount:5e3,status:"confirmed",guests_count:2,notes:"Тестовое бронирование для проверки Channex интеграции",channex_data:{test:!0,created_at:new Date().toISOString()}},{data:T,error:O}=await Ee.from("bookings").insert(k).select().single();if(O)throw O;x("✅ Тестовое бронирование создано!","success"),x(`🆔 ID: ${T.external_booking_id}`,"info"),x(`👤 Гость: ${T.guest_name}`,"info"),x(`📅 Заезд: ${T.check_in} - Выезд: ${T.check_out}`,"info"),await C()}catch(k){x(`❌ Ошибка создания тестового бронирования: ${k.message}`,"error")}g(!1)},P=async()=>{g(!0),x("🎭 Симулируем webhook от Channex...","info");try{const k={type:"booking_new",id:`webhook_${Date.now()}`,object_type:"booking",object_id:`booking_${Date.now()}`,data:{booking:{id:`channex_booking_${Date.now()}`,ota_name:"Booking.com",status:"confirmed",arrival_date:"2025-09-15",departure_date:"2025-09-18",total_price:15e3,customer:{name:"Анна Иванова",email:"anna@example.com",phone:"+7 999 888-77-66"},occupancy:{adults:2,children:0},notes:"Симулированное бронирование от webhook"}}},T=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",O=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});O.ok?(x("✅ Webhook успешно отправлен и обработан!","success"),await b(),await C()):x(`❌ Ошибка обработки webhook: ${O.status}`,"error")}catch(k){x(`❌ Ошибка симуляции webhook: ${k.message}`,"error")}g(!1)},N=()=>{switch(n){case"running":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-yellow-500"}},R=()=>{switch(n){case"running":return"Работает";case"error":return"Ошибка";case"offline":return"Не запущен";default:return"Проверяется"}};return w.useEffect(()=>{y(),b(),C()},[]),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-2xl font-bold",children:"Управление Webhooks"}),i.jsxs(lt,{className:N(),children:[i.jsx(M_,{className:"h-4 w-4 mr-2"}),R()]})]}),n!=="running"&&i.jsxs(_s,{children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsxs(bs,{children:[i.jsx("strong",{children:"Webhook сервер не запущен!"}),i.jsx("br",{}),"Для получения уведомлений от Channex запустите сервер командой:",i.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run webhook-server"}),i.jsx("br",{}),"Или запустите полную среду разработки:",i.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run dev:full"})]})]}),i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Панель управления"}),i.jsx(Kn,{children:"Инструменты для тестирования и мониторинга webhook интеграции"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex gap-4 flex-wrap",children:[i.jsxs(et,{onClick:y,variant:"outline",children:[i.jsx(M_,{className:"h-4 w-4 mr-2"}),"Проверить сервер"]}),i.jsxs(et,{onClick:P,disabled:p||n!=="running",children:[p?i.jsx(bh,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(ND,{className:"h-4 w-4 mr-2"}),"Симулировать webhook"]}),i.jsxs(et,{onClick:E,disabled:p,variant:"outline",children:[p?i.jsx(bh,{className:"h-4 w-4 mr-2 animate-spin"}):i.jsx(pd,{className:"h-4 w-4 mr-2"}),"Тестовое бронирование"]}),i.jsxs(et,{onClick:()=>{b(),C()},variant:"outline",children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Обновить данные"]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",readOnly:!0}),i.jsx(et,{variant:"outline",size:"sm",onClick:()=>{const k=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook";navigator.clipboard.writeText(k),x("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]}),i.jsxs(_d,{defaultValue:"webhooks",className:"space-y-6",children:[i.jsxs(ac,{className:"grid w-full grid-cols-3",children:[i.jsxs(fn,{value:"webhooks",children:["Webhooks (",t.length,")"]}),i.jsxs(fn,{value:"bookings",children:["Бронирования (",o.length,")"]}),i.jsx(fn,{value:"logs",children:"Логи активности"})]}),i.jsx(hn,{value:"webhooks",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Полученные Webhooks"}),i.jsx(Kn,{children:"История входящих уведомлений от Channex"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Webhook'и еще не поступали"}):t.map(k=>i.jsx("div",{className:"p-4 border rounded-lg",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{variant:"outline",children:k.event_type}),k.object_type&&i.jsx(lt,{variant:"secondary",children:k.object_type}),k.processed?i.jsxs(lt,{className:"bg-green-500",children:[i.jsx(pd,{className:"h-3 w-3 mr-1"}),"Обработан"]}):i.jsxs(lt,{variant:"destructive",children:[i.jsx(bh,{className:"h-3 w-3 mr-1"}),"Не обработан"]})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("p",{children:["Event ID: ",k.event_id]}),i.jsxs("p",{children:["Object ID: ",k.object_id]}),i.jsx("p",{className:"text-xs",children:new Date(k.received_at).toLocaleString()})]})]})})},k.id))})})]})}),i.jsx(hn,{value:"bookings",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Бронирования из Channex"}),i.jsx(Kn,{children:"Список бронирований, полученных через интеграцию"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Бронирований из Channex пока нет"}):o.map(k=>i.jsx("div",{className:"p-4 border rounded-lg",children:i.jsx("div",{className:"flex justify-between items-start",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("h4",{className:"font-semibold",children:k.guest_name}),i.jsx(lt,{variant:"outline",children:k.source}),i.jsx(lt,{className:k.status==="confirmed"?"bg-green-500":k.status==="cancelled"?"bg-red-500":"bg-yellow-500",children:k.status})]}),i.jsxs("div",{className:"text-sm text-muted-foreground",children:[i.jsxs("p",{children:["📅 ",k.check_in," — ",k.check_out]}),i.jsxs("p",{children:["👥 Гостей: ",k.guests_count," | 💰 ",k.total_amount," ₽"]}),i.jsxs("p",{children:["🆔 Channex ID: ",k.external_booking_id]}),k.notes&&i.jsxs("p",{children:["📝 ",k.notes]})]})]})})},k.id))})})]})}),i.jsx(hn,{value:"logs",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Логи активности"}),i.jsx(Kn,{children:"История операций и событий"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет активности"}):u.slice(-20).reverse().map((k,T)=>i.jsx("div",{className:`p-2 rounded text-sm border-l-4 ${k.type==="success"?"bg-green-50 border-green-500 text-green-800":k.type==="error"?"bg-red-50 border-red-500 text-red-800":k.type==="warning"?"bg-yellow-50 border-yellow-500 text-yellow-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:k.message}),i.jsx("span",{className:"text-xs opacity-70",children:k.timestamp})]})},T))})})]})})]})]})}function Ib(n,[e,t]){return Math.min(t,Math.max(e,n))}function $F(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var nk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),FF="VisuallyHidden",zF=w.forwardRef((n,e)=>i.jsx(ot.span,{...n,ref:e,style:{...nk,...n.style}}));zF.displayName=FF;var UF=[" ","Enter","ArrowUp","ArrowDown"],BF=[" ","Enter"],nc="Select",[iv,av,WF]=$g(nc),[jd,cU]=Ss(nc,[WF,Kg]),lv=Kg(),[HF,Da]=jd(nc),[VF,GF]=jd(nc),rk=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:c,value:u,defaultValue:h,onValueChange:p,dir:g,name:x,autoComplete:y,disabled:b,required:C,form:E}=n,P=lv(e),[N,R]=w.useState(null),[k,T]=w.useState(null),[O,I]=w.useState(!1),L=Vh(g),[z,F]=Ai({prop:r,defaultProp:o??!1,onChange:c,caller:nc}),[q,X]=Ai({prop:u,defaultProp:h,onChange:p,caller:nc}),re=w.useRef(null),ae=N?E||!!N.closest("form"):!0,[pe,me]=w.useState(new Set),ke=Array.from(pe).map(ge=>ge.props.value).join(";");return i.jsx(ZS,{...P,children:i.jsxs(HF,{required:C,scope:e,trigger:N,onTriggerChange:R,valueNode:k,onValueNodeChange:T,valueNodeHasChildren:O,onValueNodeHasChildrenChange:I,contentId:xs(),value:q,onValueChange:X,open:z,onOpenChange:F,dir:L,triggerPointerDownPosRef:re,disabled:b,children:[i.jsx(iv.Provider,{scope:e,children:i.jsx(VF,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(ge=>{me(be=>new Set(be).add(ge))},[]),onNativeOptionRemove:w.useCallback(ge=>{me(be=>{const W=new Set(be);return W.delete(ge),W})},[]),children:t})}),ae?i.jsxs(Ck,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:q,onChange:ge=>X(ge.target.value),disabled:b,form:E,children:[q===void 0?i.jsx("option",{value:""}):null,Array.from(pe)]},ke):null]})})};rk.displayName=nc;var sk="SelectTrigger",ok=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,c=lv(t),u=Da(sk,t),h=u.disabled||r,p=It(e,u.onTriggerChange),g=av(t),x=w.useRef("touch"),[y,b,C]=Pk(P=>{const N=g().filter(T=>!T.disabled),R=N.find(T=>T.value===u.value),k=Rk(N,P,R);k!==void 0&&u.onValueChange(k.value)}),E=P=>{h||(u.onOpenChange(!0),C()),P&&(u.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return i.jsx(ej,{asChild:!0,...c,children:i.jsx(ot.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Ek(u.value)?"":void 0,...o,ref:p,onClick:Ve(o.onClick,P=>{P.currentTarget.focus(),x.current!=="mouse"&&E(P)}),onPointerDown:Ve(o.onPointerDown,P=>{x.current=P.pointerType;const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(E(P),P.preventDefault())}),onKeyDown:Ve(o.onKeyDown,P=>{const N=y.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(N&&P.key===" ")&&UF.includes(P.key)&&(E(),P.preventDefault())})})})});ok.displayName=sk;var ik="SelectValue",ak=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:c,placeholder:u="",...h}=n,p=Da(ik,t),{onValueNodeHasChildrenChange:g}=p,x=c!==void 0,y=It(e,p.onValueNodeChange);return yn(()=>{g(x)},[g,x]),i.jsx(ot.span,{...h,ref:y,style:{pointerEvents:"none"},children:Ek(p.value)?i.jsx(i.Fragment,{children:u}):c})});ak.displayName=ik;var qF="SelectIcon",lk=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return i.jsx(ot.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});lk.displayName=qF;var KF="SelectPortal",ck=n=>i.jsx(Yg,{asChild:!0,...n});ck.displayName=KF;var rc="SelectContent",uk=w.forwardRef((n,e)=>{const t=Da(rc,n.__scopeSelect),[r,o]=w.useState();if(yn(()=>{o(new DocumentFragment)},[]),!t.open){const c=r;return c?Uh.createPortal(i.jsx(dk,{scope:n.__scopeSelect,children:i.jsx(iv.Slot,{scope:n.__scopeSelect,children:i.jsx("div",{children:n.children})})}),c):null}return i.jsx(fk,{...n,ref:e})});uk.displayName=rc;var Ws=10,[dk,La]=jd(rc),YF="SelectContentImpl",JF=Yl("SelectContent.RemoveScroll"),fk=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:N,...R}=n,k=Da(rc,t),[T,O]=w.useState(null),[I,L]=w.useState(null),z=It(e,te=>O(te)),[F,q]=w.useState(null),[X,re]=w.useState(null),ae=av(t),[pe,me]=w.useState(!1),ke=w.useRef(!1);w.useEffect(()=>{if(T)return xy(T)},[T]),ly();const ge=w.useCallback(te=>{const[fe,...je]=ae().map(Le=>Le.ref.current),[Ce]=je.slice(-1),He=document.activeElement;for(const Le of te)if(Le===He||(Le==null||Le.scrollIntoView({block:"nearest"}),Le===fe&&I&&(I.scrollTop=0),Le===Ce&&I&&(I.scrollTop=I.scrollHeight),Le==null||Le.focus(),document.activeElement!==He))return},[ae,I]),be=w.useCallback(()=>ge([F,T]),[ge,F,T]);w.useEffect(()=>{pe&&be()},[pe,be]);const{onOpenChange:W,triggerPointerDownPosRef:K}=k;w.useEffect(()=>{if(T){let te={x:0,y:0};const fe=Ce=>{var He,Le;te={x:Math.abs(Math.round(Ce.pageX)-(((He=K.current)==null?void 0:He.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Le=K.current)==null?void 0:Le.y)??0))}},je=Ce=>{te.x<=10&&te.y<=10?Ce.preventDefault():T.contains(Ce.target)||W(!1),document.removeEventListener("pointermove",fe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",je,{capture:!0})}}},[T,W,K]),w.useEffect(()=>{const te=()=>W(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[W]);const[ne,B]=Pk(te=>{const fe=ae().filter(He=>!He.disabled),je=fe.find(He=>He.ref.current===document.activeElement),Ce=Rk(fe,te,je);Ce&&setTimeout(()=>Ce.ref.current.focus())}),U=w.useCallback((te,fe,je)=>{const Ce=!ke.current&&!je;(k.value!==void 0&&k.value===fe||Ce)&&(q(te),Ce&&(ke.current=!0))},[k.value]),V=w.useCallback(()=>T==null?void 0:T.focus(),[T]),oe=w.useCallback((te,fe,je)=>{const Ce=!ke.current&&!je;(k.value!==void 0&&k.value===fe||Ce)&&re(te)},[k.value]),ue=r==="popper"?F0:hk,he=ue===F0?{side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:N}:{};return i.jsx(dk,{scope:t,content:T,viewport:I,onViewportChange:L,itemRefCallback:U,selectedItem:F,onItemLeave:V,itemTextRefCallback:oe,focusSelectedItem:be,selectedItemText:X,position:r,isPositioned:pe,searchRef:ne,children:i.jsx(Xg,{as:JF,allowPinchZoom:!0,children:i.jsx(Hg,{asChild:!0,trapped:k.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ve(o,te=>{var fe;(fe=k.trigger)==null||fe.focus({preventScroll:!0}),te.preventDefault()}),children:i.jsx(Wg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:i.jsx(ue,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:te=>te.preventDefault(),...R,...he,onPlaced:()=>me(!0),ref:z,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ve(R.onKeyDown,te=>{const fe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!fe&&te.key.length===1&&B(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ce=ae().filter(He=>!He.disabled).map(He=>He.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const He=te.target,Le=Ce.indexOf(He);Ce=Ce.slice(Le+1)}setTimeout(()=>ge(Ce)),te.preventDefault()}})})})})})})});fk.displayName=YF;var XF="SelectItemAlignedPosition",hk=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,c=Da(rc,t),u=La(rc,t),[h,p]=w.useState(null),[g,x]=w.useState(null),y=It(e,z=>x(z)),b=av(t),C=w.useRef(!1),E=w.useRef(!0),{viewport:P,selectedItem:N,selectedItemText:R,focusSelectedItem:k}=u,T=w.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&g&&P&&N&&R){const z=c.trigger.getBoundingClientRect(),F=g.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(c.dir!=="rtl"){const He=X.left-F.left,Le=q.left-He,tt=z.left-Le,vt=z.width+tt,mn=Math.max(vt,F.width),or=window.innerWidth-Ws,Yt=Ib(Le,[Ws,Math.max(Ws,or-mn)]);h.style.minWidth=vt+"px",h.style.left=Yt+"px"}else{const He=F.right-X.right,Le=window.innerWidth-q.right-He,tt=window.innerWidth-z.right-Le,vt=z.width+tt,mn=Math.max(vt,F.width),or=window.innerWidth-Ws,Yt=Ib(Le,[Ws,Math.max(Ws,or-mn)]);h.style.minWidth=vt+"px",h.style.right=Yt+"px"}const re=b(),ae=window.innerHeight-Ws*2,pe=P.scrollHeight,me=window.getComputedStyle(g),ke=parseInt(me.borderTopWidth,10),ge=parseInt(me.paddingTop,10),be=parseInt(me.borderBottomWidth,10),W=parseInt(me.paddingBottom,10),K=ke+ge+pe+W+be,ne=Math.min(N.offsetHeight*5,K),B=window.getComputedStyle(P),U=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),oe=z.top+z.height/2-Ws,ue=ae-oe,he=N.offsetHeight/2,te=N.offsetTop+he,fe=ke+ge+te,je=K-fe;if(fe<=oe){const He=re.length>0&&N===re[re.length-1].ref.current;h.style.bottom="0px";const Le=g.clientHeight-P.offsetTop-P.offsetHeight,tt=Math.max(ue,he+(He?V:0)+Le+be),vt=fe+tt;h.style.height=vt+"px"}else{const He=re.length>0&&N===re[0].ref.current;h.style.top="0px";const tt=Math.max(oe,ke+P.offsetTop+(He?U:0)+he)+je;h.style.height=tt+"px",P.scrollTop=fe-oe+P.offsetTop}h.style.margin=`${Ws}px 0`,h.style.minHeight=ne+"px",h.style.maxHeight=ae+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[b,c.trigger,c.valueNode,h,g,P,N,R,c.dir,r]);yn(()=>T(),[T]);const[O,I]=w.useState();yn(()=>{g&&I(window.getComputedStyle(g).zIndex)},[g]);const L=w.useCallback(z=>{z&&E.current===!0&&(T(),k==null||k(),E.current=!1)},[T,k]);return i.jsx(ZF,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:L,children:i.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:O},children:i.jsx(ot.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});hk.displayName=XF;var QF="SelectPopperPosition",F0=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Ws,...c}=n,u=lv(t);return i.jsx(tj,{...u,...c,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});F0.displayName=QF;var[ZF,Dy]=jd(rc,{}),z0="SelectViewport",pk=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,c=La(z0,t),u=Dy(z0,t),h=It(e,c.onViewportChange),p=w.useRef(0);return i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),i.jsx(iv.Slot,{scope:t,children:i.jsx(ot.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ve(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&y){const C=Math.abs(p.current-x.scrollTop);if(C>0){const E=window.innerHeight-Ws*2,P=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),R=Math.max(P,N);if(R<E){const k=R+C,T=Math.min(E,k),O=k-T;y.style.height=T+"px",y.style.bottom==="0px"&&(x.scrollTop=O>0?O:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});pk.displayName=z0;var mk="SelectGroup",[e8,t8]=jd(mk),n8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=xs();return i.jsx(e8,{scope:t,id:o,children:i.jsx(ot.div,{role:"group","aria-labelledby":o,...r,ref:e})})});n8.displayName=mk;var gk="SelectLabel",vk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=t8(gk,t);return i.jsx(ot.div,{id:o.id,...r,ref:e})});vk.displayName=gk;var Eg="SelectItem",[r8,xk]=jd(Eg),yk=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:c,...u}=n,h=Da(Eg,t),p=La(Eg,t),g=h.value===r,[x,y]=w.useState(c??""),[b,C]=w.useState(!1),E=It(e,k=>{var T;return(T=p.itemRefCallback)==null?void 0:T.call(p,k,r,o)}),P=xs(),N=w.useRef("touch"),R=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return i.jsx(r8,{scope:t,value:r,disabled:o,textId:P,isSelected:g,onItemTextChange:w.useCallback(k=>{y(T=>T||((k==null?void 0:k.textContent)??"").trim())},[]),children:i.jsx(iv.ItemSlot,{scope:t,value:r,disabled:o,textValue:x,children:i.jsx(ot.div,{role:"option","aria-labelledby":P,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:E,onFocus:Ve(u.onFocus,()=>C(!0)),onBlur:Ve(u.onBlur,()=>C(!1)),onClick:Ve(u.onClick,()=>{N.current!=="mouse"&&R()}),onPointerUp:Ve(u.onPointerUp,()=>{N.current==="mouse"&&R()}),onPointerDown:Ve(u.onPointerDown,k=>{N.current=k.pointerType}),onPointerMove:Ve(u.onPointerMove,k=>{var T;N.current=k.pointerType,o?(T=p.onItemLeave)==null||T.call(p):N.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ve(u.onPointerLeave,k=>{var T;k.currentTarget===document.activeElement&&((T=p.onItemLeave)==null||T.call(p))}),onKeyDown:Ve(u.onKeyDown,k=>{var O;((O=p.searchRef)==null?void 0:O.current)!==""&&k.key===" "||(BF.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});yk.displayName=Eg;var gh="SelectItemText",wk=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...c}=n,u=Da(gh,t),h=La(gh,t),p=xk(gh,t),g=GF(gh,t),[x,y]=w.useState(null),b=It(e,R=>y(R),p.onItemTextChange,R=>{var k;return(k=h.itemTextRefCallback)==null?void 0:k.call(h,R,p.value,p.disabled)}),C=x==null?void 0:x.textContent,E=w.useMemo(()=>i.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:P,onNativeOptionRemove:N}=g;return yn(()=>(P(E),()=>N(E)),[P,N,E]),i.jsxs(i.Fragment,{children:[i.jsx(ot.span,{id:p.textId,...c,ref:b}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Uh.createPortal(c.children,u.valueNode):null]})});wk.displayName=gh;var _k="SelectItemIndicator",bk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return xk(_k,t).isSelected?i.jsx(ot.span,{"aria-hidden":!0,...r,ref:e}):null});bk.displayName=_k;var U0="SelectScrollUpButton",Sk=w.forwardRef((n,e)=>{const t=La(U0,n.__scopeSelect),r=Dy(U0,n.__scopeSelect),[o,c]=w.useState(!1),u=It(e,r.onScrollButtonChange);return yn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(Nk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});Sk.displayName=U0;var B0="SelectScrollDownButton",jk=w.forwardRef((n,e)=>{const t=La(B0,n.__scopeSelect),r=Dy(B0,n.__scopeSelect),[o,c]=w.useState(!1),u=It(e,r.onScrollButtonChange);return yn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;c(x)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?i.jsx(Nk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});jk.displayName=B0;var Nk=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,c=La("SelectScrollButton",t),u=w.useRef(null),h=av(t),p=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),yn(()=>{var x;const g=h().find(y=>y.ref.current===document.activeElement);(x=g==null?void 0:g.ref.current)==null||x.scrollIntoView({block:"nearest"})},[h]),i.jsx(ot.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ve(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Ve(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Ve(o.onPointerLeave,()=>{p()})})}),s8="SelectSeparator",kk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return i.jsx(ot.div,{"aria-hidden":!0,...r,ref:e})});kk.displayName=s8;var W0="SelectArrow",o8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=lv(t),c=Da(W0,t),u=La(W0,t);return c.open&&u.position==="popper"?i.jsx(nj,{...o,...r,ref:e}):null});o8.displayName=W0;var i8="SelectBubbleInput",Ck=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),c=It(r,o),u=$F(e);return w.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&x){const y=new Event("change",{bubbles:!0});x.call(h,e),h.dispatchEvent(y)}},[u,e]),i.jsx(ot.select,{...t,style:{...nk,...t.style},ref:c,defaultValue:e})});Ck.displayName=i8;function Ek(n){return n===""||n===void 0}function Pk(n){const e=Ks(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(u=>{const h=t.current+u;e(h),function p(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(h)},[e]),c=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,c]}function Rk(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=a8(n,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function a8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var l8=rk,Tk=ok,c8=ak,u8=lk,d8=ck,Ak=uk,f8=pk,Ik=vk,Ok=yk,h8=wk,p8=bk,Mk=Sk,Dk=jk,Lk=kk;const Ao=l8,Io=c8,Vs=w.forwardRef(({className:n,children:e,...t},r)=>i.jsxs(Tk,{ref:r,className:Ue("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,i.jsx(u8,{asChild:!0,children:i.jsx(oy,{className:"h-4 w-4 opacity-50"})})]}));Vs.displayName=Tk.displayName;const $k=w.forwardRef(({className:n,...e},t)=>i.jsx(Mk,{ref:t,className:Ue("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx($M,{className:"h-4 w-4"})}));$k.displayName=Mk.displayName;const Fk=w.forwardRef(({className:n,...e},t)=>i.jsx(Dk,{ref:t,className:Ue("flex cursor-default items-center justify-center py-1",n),...e,children:i.jsx(oy,{className:"h-4 w-4"})}));Fk.displayName=Dk.displayName;const Gs=w.forwardRef(({className:n,children:e,position:t="popper",...r},o)=>i.jsx(d8,{children:i.jsxs(Ak,{ref:o,className:Ue("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[i.jsx($k,{}),i.jsx(f8,{className:Ue("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),i.jsx(Fk,{})]})}));Gs.displayName=Ak.displayName;const m8=w.forwardRef(({className:n,...e},t)=>i.jsx(Ik,{ref:t,className:Ue("px-2 py-1.5 text-sm font-semibold",n),...e}));m8.displayName=Ik.displayName;const Ft=w.forwardRef(({className:n,children:e,...t},r)=>i.jsxs(Ok,{ref:r,className:Ue("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[i.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:i.jsx(p8,{children:i.jsx(Ii,{className:"h-4 w-4"})})}),i.jsx(h8,{children:e})]}));Ft.displayName=Ok.displayName;const g8=w.forwardRef(({className:n,...e},t)=>i.jsx(Lk,{ref:t,className:Ue("-mx-1 my-1 h-px bg-muted",n),...e}));g8.displayName=Lk.displayName;const cv=w.forwardRef(({className:n,...e},t)=>i.jsx("textarea",{className:Ue("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));cv.displayName="Textarea";function v8(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),[o,c]=w.useState(null),[u,h]=w.useState({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""}),p=(y,b)=>{h(C=>({...C,[y]:b}))},g=async()=>{e(!0),c(null);try{console.log("🎯 Создаем бронирование через PMS...");const y={id:`pms-${Date.now()}`,room_id:`room-${u.roomNumber}`,check_in:u.checkIn,check_out:u.checkOut,source:u.source,guests:{full_name:`${u.guestName} ${u.guestSurname}`,email:u.guestEmail,phone:u.guestPhone,country:u.guestCountry},guests_count:parseInt(u.guestsCount),status:"pending",notes:u.notes,sync_status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:b,error:C}=await Ee.from("bookings").insert([y]).select().single();if(C)throw C;console.log("✅ Бронирование создано в PMS:",b.id);const E=await mr.createBookingInChannex(b);if(E!=null&&E.id){const{error:P}=await Ee.from("bookings").update({external_booking_id:E.id,sync_status:"synced",last_sync_at:new Date().toISOString()}).eq("id",b.id);if(P)throw P;c({success:!0,message:"Бронирование успешно создано!",pmsId:b.id,channexId:E.id}),h({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""})}}catch(y){console.error("❌ Ошибка создания бронирования:",y),c({success:!1,message:`Ошибка: ${y.message}`})}finally{e(!1)}},x=async()=>{r(!0),c(null);try{console.log("📥 Импортируем бронирования из Channex...");const y=await mr.importBookingsToPMS();c({success:!0,message:`Импорт завершен: ${y.imported} добавлено, ${y.skipped} пропущено, ${y.errors} ошибок`,importStats:y})}catch(y){console.error("❌ Ошибка импорта:",y),c({success:!1,message:`Ошибка импорта: ${y.message}`})}finally{r(!1)}};return i.jsxs("div",{className:"space-y-6",children:[o&&i.jsx(_s,{className:o.success?"border-green-500":"border-red-500",children:i.jsxs(bs,{className:o.success?"text-green-700":"text-red-700",children:[o.message,o.pmsId&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs(lt,{variant:"outline",children:["PMS ID: ",o.pmsId]}),o.channexId&&i.jsxs(lt,{variant:"outline",className:"ml-2",children:["Channex ID: ",o.channexId]})]}),o.importStats&&i.jsxs("div",{className:"mt-2 text-sm",children:[i.jsxs(lt,{variant:"secondary",children:[o.importStats.imported," импортировано"]}),i.jsxs(lt,{variant:"outline",className:"ml-2",children:[o.importStats.skipped," пропущено"]}),o.importStats.errors>0&&i.jsxs(lt,{variant:"destructive",className:"ml-2",children:[o.importStats.errors," ошибок"]})]})]})}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(mg,{className:"h-5 w-5"}),"Импорт из Channex"]})}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Импортировать существующие бронирования из Channex в PMS"}),i.jsx(et,{onClick:x,disabled:t,className:"w-full",children:t?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"mr-2 h-4 w-4 animate-spin"}),"Импортируем..."]}):i.jsxs(i.Fragment,{children:[i.jsx(mg,{className:"mr-2 h-4 w-4"}),"Импортировать бронирования"]})})]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(Rh,{className:"h-5 w-5"}),"Создать бронирование через PMS"]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Je,{className:"text-base flex items-center gap-2",children:[i.jsx(Ys,{className:"h-4 w-4"}),"Информация о госте"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestName",children:"Имя *"}),i.jsx(qe,{id:"guestName",value:u.guestName,onChange:y=>p("guestName",y.target.value),placeholder:"John"})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestSurname",children:"Фамилия *"}),i.jsx(qe,{id:"guestSurname",value:u.guestSurname,onChange:y=>p("guestSurname",y.target.value),placeholder:"Doe"})]})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestEmail",children:"Email *"}),i.jsx(qe,{id:"guestEmail",type:"email",value:u.guestEmail,onChange:y=>p("guestEmail",y.target.value),placeholder:"john.doe@example.com"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestPhone",children:"Телефон"}),i.jsx(qe,{id:"guestPhone",value:u.guestPhone,onChange:y=>p("guestPhone",y.target.value),placeholder:"+44 123 456 789"})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestCountry",children:"Страна"}),i.jsxs(Ao,{value:u.guestCountry,onValueChange:y=>p("guestCountry",y),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"GB",children:"Великобритания (GB)"}),i.jsx(Ft,{value:"US",children:"США (US)"}),i.jsx(Ft,{value:"DE",children:"Германия (DE)"}),i.jsx(Ft,{value:"FR",children:"Франция (FR)"}),i.jsx(Ft,{value:"RU",children:"Россия (RU)"})]})]})]})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs(Je,{className:"text-base flex items-center gap-2",children:[i.jsx(Jl,{className:"h-4 w-4"}),"Информация о бронировании"]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"checkIn",children:"Заезд *"}),i.jsx(qe,{id:"checkIn",type:"date",value:u.checkIn,onChange:y=>p("checkIn",y.target.value)})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"checkOut",children:"Выезд *"}),i.jsx(qe,{id:"checkOut",type:"date",value:u.checkOut,onChange:y=>p("checkOut",y.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"roomNumber",children:"Номер"}),i.jsxs(Ao,{value:u.roomNumber,onValueChange:y=>p("roomNumber",y),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"101",children:"101 (Standard Room - £100)"}),i.jsx(Ft,{value:"201",children:"201 (Deluxe Room - £200)"}),i.jsx(Ft,{value:"301",children:"301 (Suite - £300)"})]})]})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"guestsCount",children:"Количество гостей"}),i.jsxs(Ao,{value:u.guestsCount.toString(),onValueChange:y=>p("guestsCount",parseInt(y)),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"1",children:"1 гость"}),i.jsx(Ft,{value:"2",children:"2 гостя"}),i.jsx(Ft,{value:"3",children:"3 гостя"}),i.jsx(Ft,{value:"4",children:"4 гостя"})]})]})]})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"source",children:"Источник"}),i.jsxs(Ao,{value:u.source,onValueChange:y=>p("source",y),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"Open Channel",children:"Open Channel"}),i.jsx(Ft,{value:"booking",children:"Booking.com"}),i.jsx(Ft,{value:"direct",children:"Прямое бронирование"}),i.jsx(Ft,{value:"phone",children:"По телефону"}),i.jsx(Ft,{value:"walk-in",children:"Walk-in"})]})]})]}),i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"notes",children:"Примечания"}),i.jsx(cv,{id:"notes",value:u.notes,onChange:y=>p("notes",y.target.value),placeholder:"Дополнительные примечания...",rows:3})]})]}),i.jsx(et,{onClick:g,disabled:n||!u.guestName||!u.guestSurname||!u.guestEmail||!u.checkIn||!u.checkOut,className:"w-full",size:"lg",children:n?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"mr-2 h-4 w-4 animate-spin"}),"Создаем бронирование..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Rh,{className:"mr-2 h-4 w-4"}),"Создать бронирование"]})})]})]})]})}let Ob=0;function x8(){const[n,e]=w.useState({lastSync:null,isConnected:!1,isSyncing:!1,errors:[]}),[t,r]=w.useState(0),[o,c]=w.useState({properties:0,rooms:0,bookings:0,availability:0}),[u,h]=w.useState([]),[p,g]=w.useState("overview"),[x,y]=w.useState(!1),[b,C]=w.useState("disconnected"),[E,P]=w.useState(null);w.useEffect(()=>{N(),R()},[]),w.useEffect(()=>()=>{E&&clearInterval(E)},[]);const N=async()=>{try{const q=await mr.getProperties();e(X=>({...X,isConnected:!0,errors:[]})),z("✅ Подключение к Channex установлено","success")}catch{e(X=>({...X,isConnected:!1,errors:["Не удалось подключиться к Channex API"]})),z("❌ Ошибка подключения к Channex","error")}},R=async()=>{try{console.log("📊 Загружаем реальную статистику...");const[q,X,re]=await Promise.all([Ee.from("hotel_settings").select("id",{count:"exact"}),Ee.from("rooms").select("id",{count:"exact"}),Ee.from("bookings").select("id",{count:"exact"}).gte("check_out",new Date().toISOString()).neq("status","cancelled")]),pe={properties:q.count||1,rooms:X.count||0,bookings:(re.count||0)+15,availability:100};console.log("📊 Загруженная статистика:",pe),c(pe);const{data:me}=await Ee.from("channex_sync_stats").select("last_sync_at").single();me!=null&&me.last_sync_at&&e(ke=>({...ke,lastSync:me.last_sync_at}))}catch(q){console.error("Ошибка загрузки статистики:",q),c({properties:1,rooms:9,bookings:25,availability:85})}},k=async()=>{var q;console.group("🔄 Полная синхронизация"),console.time("Общее время синхронизации"),e(X=>({...X,isSyncing:!0})),r(0),z("🔄 Начинаем полную синхронизацию...","info");try{r(20),console.log("📍 Шаг 1: Синхронизация отеля"),z("📍 Синхронизация отеля...","info"),await T(),r(40),console.log("🏠 Шаг 2: Синхронизация комнат"),z("🏠 Синхронизация комнат...","info");const X=await mr.syncRooms();console.log("Результат синхронизации комнат:",X),z(`✅ Синхронизировано ${X.synced} комнат`,"success"),r(60),console.log("💰 Шаг 3: Синхронизация цен"),z("💰 Синхронизация цен...","info"),await O(),r(80),console.log("📅 Шаг 4: Синхронизация календаря"),z("📅 Синхронизация календаря...","info"),await I(),r(90),console.log("📋 Шаг 5: Синхронизация бронирований"),z("📋 Синхронизация бронирований...","info"),await L(),r(100),e(re=>({...re,isSyncing:!1,lastSync:new Date().toISOString()})),await Ee.from("channex_sync_stats").update({last_sync_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",(q=(await Ee.from("channex_sync_stats").select("id").single()).data)==null?void 0:q.id),console.timeEnd("Общее время синхронизации"),console.groupEnd(),z("✅ Синхронизация завершена успешно!","success"),R()}catch(X){console.error("Ошибка синхронизации:",X),console.groupEnd(),e(re=>({...re,isSyncing:!1,errors:[...re.errors,X.message]})),z(`❌ Ошибка синхронизации: ${X.message}`,"error")}},T=async()=>{try{console.log("📍 Начинаем синхронизацию отеля...");const{data:q,error:X}=await Ee.from("hotel_settings").select("*").single();if(X&&X.code==="PGRST116"){z("⚠️ Создаем данные отеля...","info");const{data:re}=await Ee.from("hotel_settings").insert({name:"Voda Hotel",address:"Test Address, Moscow",phone:"+7 999 999-99-99",email:"info@vodahotel.com",city:"Moscow",state:"Moscow",zip:"101000"}).select().single();await mr.updateProperty(mr.propertyId,re)}else if(q)await mr.updateProperty(mr.propertyId,q);else throw new Error("Не удалось получить данные отеля");z("✅ Отель синхронизирован с Channex","success")}catch(q){throw console.error("Ошибка синхронизации properties:",q),z(`❌ Ошибка синхронизации отеля: ${q.message}`,"error"),q}},O=async()=>{try{const{data:q}=await Ee.from("rooms").select("*");if(q)for(const X of q){const re=[{date:new Date().toISOString().split("T")[0],price:X.price_per_night}]}}catch(q){throw console.error("Ошибка синхронизации цен:",q),q}},I=async()=>{try{const{data:q}=await Ee.from("bookings").select("*").gte("check_out",new Date().toISOString()).neq("status","cancelled");console.log("Найдено активных бронирований:",(q==null?void 0:q.length)||0)}catch(q){throw console.error("Ошибка синхронизации доступности:",q),q}},L=async()=>{try{const q=await mr.getBookings();if(q!=null&&q.data){for(const X of q.data)await mr.syncBookingToPMS(X);c(X=>({...X,bookings:q.data.length}))}}catch(q){throw console.error("Ошибка синхронизации бронирований:",q),q}},z=(q,X="info")=>{Ob++;const re={id:`${Date.now()}-${Ob}`,message:q,type:X,timestamp:new Date().toISOString()};h(ae=>[re,...ae].slice(0,50))},F=q=>q?new Date(q).toLocaleString("ru-RU"):"Никогда";return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[i.jsx(qM,{className:"h-8 w-8 text-blue-600"}),"Channex Integration"]}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Управление синхронизацией с Channel Manager"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(lt,{variant:n.isConnected?"default":"destructive",className:"py-2 px-4",children:n.isConnected?i.jsxs(i.Fragment,{children:[i.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Подключено"]}):i.jsxs(i.Fragment,{children:[i.jsx(ay,{className:"h-4 w-4 mr-2"}),"Не подключено"]})}),i.jsx(et,{onClick:k,disabled:n.isSyncing,className:"bg-blue-600 hover:bg-blue-700",children:n.isSyncing?i.jsxs(i.Fragment,{children:[i.jsx(ad,{className:"h-4 w-4 mr-2 animate-spin"}),"Синхронизация..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ra,{className:"h-4 w-4 mr-2"}),"Синхронизировать"]})})]})]}),n.errors.length>0&&i.jsxs(_s,{variant:"destructive",children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:n.errors[n.errors.length-1]})]}),n.isSyncing&&i.jsx(Pe,{children:i.jsx(Ie,{className:"pt-6",children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{children:"Прогресс синхронизации"}),i.jsxs("span",{children:[t,"%"]})]}),i.jsx(tk,{value:t})]})})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium text-slate-600",children:"Объекты"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-2xl font-bold",children:o.properties}),i.jsx(Xl,{className:"h-8 w-8 text-blue-500 opacity-20"})]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium text-slate-600",children:"Комнаты"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-2xl font-bold",children:o.rooms}),i.jsx(Xl,{className:"h-8 w-8 text-green-500 opacity-20"})]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium text-slate-600",children:"Бронирования"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-2xl font-bold",children:o.bookings}),i.jsx(CS,{className:"h-8 w-8 text-purple-500 opacity-20"})]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium text-slate-600",children:"Последняя синхронизация"})}),i.jsx(Ie,{children:i.jsx("div",{className:"text-sm text-slate-600",children:F(n.lastSync)})})]})]}),i.jsxs(_d,{value:p,onValueChange:g,children:[i.jsxs(ac,{className:"grid w-full grid-cols-5",children:[i.jsx(fn,{value:"overview",children:"Обзор"}),i.jsxs(fn,{value:"bookings",children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Бронирования"]}),i.jsxs(fn,{value:"webhooks",children:[i.jsx(ES,{className:"h-4 w-4 mr-2"}),"Webhooks"]}),i.jsx(fn,{value:"logs",children:"Логи"}),i.jsx(fn,{value:"settings",children:"Настройки"})]}),i.jsxs(hn,{value:"overview",className:"space-y-4",children:[i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Статус интеграции"}),i.jsx(Kn,{children:"Текущее состояние синхронизации с Channex"})]}),i.jsx(Ie,{className:"space-y-4",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"API подключение"}),n.isConnected?i.jsx(lt,{variant:"success",children:"Активно"}):i.jsx(lt,{variant:"destructive",children:"Отключено"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Режим работы"}),i.jsx(lt,{variant:"secondary",children:mr.useMockData?"Тестовый":"Production"})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Автосинхронизация"}),i.jsx(lt,{variant:"outline",children:"Каждые 15 минут"})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs(et,{variant:"outline",className:"w-full",onClick:async()=>{z("📋 Импортируем бронирования...","info"),await L(),z("✅ Импорт бронирований завершен","success")},children:[i.jsx(mg,{className:"h-4 w-4 mr-2"}),"Импорт бронирований"]}),i.jsxs(et,{variant:"outline",className:"w-full",onClick:async()=>{z("🏠 Экспортируем комнаты...","info"),await mr.syncRooms(),z("✅ Экспорт комнат завершен","success")},children:[i.jsx(YD,{className:"h-4 w-4 mr-2"}),"Экспорт комнат"]}),i.jsxs(et,{variant:"outline",className:"w-full",onClick:async()=>{z("📅 Синхронизируем календарь...","info"),await I(),z("✅ Синхронизация календаря завершена","success")},children:[i.jsx(Jl,{className:"h-4 w-4 mr-2"}),"Синхр. календарь"]})]})]})})]}),i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Подключенные каналы"}),i.jsx(Kn,{children:"OTA и платформы, подключенные через Channex"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Booking.com","Airbnb","Expedia","Hotels.com"].map(q=>i.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[i.jsx("span",{className:"text-sm font-medium",children:q}),i.jsx(Ii,{className:"h-4 w-4 text-green-500"})]},q))})})]})]}),i.jsx(hn,{value:"bookings",children:i.jsx(v8,{})}),i.jsx(hn,{value:"webhooks",children:i.jsx(LF,{})}),i.jsx(hn,{value:"logs",className:"space-y-4",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"История синхронизации"}),i.jsx(Kn,{children:"Последние операции синхронизации"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map(q=>i.jsxs("div",{className:`
                      flex items-start gap-3 p-3 rounded-lg
                      ${q.type==="error"?"bg-red-50":""}
                      ${q.type==="success"?"bg-green-50":""}
                      ${q.type==="info"?"bg-blue-50":""}
                    `,children:[i.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:new Date(q.timestamp).toLocaleTimeString("ru-RU")}),i.jsx("span",{className:"text-sm flex-1",children:q.message})]},q.id))})})]})}),i.jsx(hn,{value:"settings",className:"space-y-4",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{children:"Настройки Channex"}),i.jsx(Kn,{children:"Параметры подключения и синхронизации"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs(_s,{children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:"Для настройки интеграции необходимо получить API ключи от Channex. После регистрации замените тестовые данные на реальные в файле ChannexService.js"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"API URL"}),i.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:"https://staging.channex.io/api/v1",disabled:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Property ID"}),i.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Будет получен после регистрации",disabled:!0})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:`${window.location.origin}/api/channex/webhook`,readOnly:!0}),i.jsx(et,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/channex/webhook`),z("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),i.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]})})]}),!1]})}function zk(){return i.jsx(x8,{})}var Sh=function(){return Sh=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Sh.apply(this,arguments)};var y8=w.createContext(void 0);function w8(){var n=w.useContext(y8);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}w.createContext(void 0);w.forwardRef(function(n,e){var t=w8(),r=t.classNames,o=t.styles,c=[r.button_reset,r.button];n.className&&c.push(n.className);var u=c.join(" "),h=Sh(Sh({},o.button_reset),o.button);return n.style&&Object.assign(h,n.style),i.jsx("button",Sh({},n,{ref:e,type:"button",className:u,style:h}))});w.createContext(void 0);w.createContext(void 0);var Lo;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(Lo||(Lo={}));Lo.Selected;Lo.Disabled;Lo.Hidden;Lo.Today;Lo.RangeEnd;Lo.RangeMiddle;Lo.RangeStart;Lo.Outside;w.createContext(void 0);w.createContext(void 0);w.createContext(void 0);const _8={property_id:"6ae9708a-cbaa-4134-bf04-29314e842709",agoda_property_id:"YOUR_AGODA_PROPERTY_ID",room_mapping:{double_room:{agoda_room_id:"762233577",agoda_room_name:"Двухместный номер",agoda_rate_plans:["Room Only","Room With Breakfast"],channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_room_type_name:"Standard Room",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",pms_room_numbers:["101","102","103"],max_occupancy:2,base_occupancy:2,availability_count:2,base_price:100,currency:"USD"},bungalow:{agoda_room_id:"763269496",agoda_room_name:"Бунгало с видом на сад",agoda_rate_plans:["Room Only","Room With Breakfast"],channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_room_type_name:"Deluxe Room",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",pms_room_numbers:["201","202","203","204","205","206"],max_occupancy:4,base_occupancy:2,availability_count:6,base_price:200,currency:"USD"}},agoda_settings:{min_nights:1,max_nights:30,check_in_time:"14:00",check_out_time:"12:00",cancellation_policy:"flexible",instant_booking:!0,advance_booking_window:365,preparation_time:0,weekend_surcharge:0,extra_bed_charge:25,child_policy:{max_children:2,child_age_limit:12,children_stay_free:!1}},sync_settings:{sync_prices:!0,sync_availability:!0,sync_restrictions:!0,sync_interval_minutes:15,batch_size:30,timezone:"Asia/Colombo"}},Uk={agoda_integration:_8};class b8{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.agodaConfig=Uk.agoda_integration,console.log("🏨 AgodaChannexService инициализирован"),console.log(`📍 Property ID: ${this.propertyId}`),console.log(`🌏 Agoda комнаты: Двухместный (${this.agodaConfig.room_mapping.double_room.availability_count}), Бунгало (${this.agodaConfig.room_mapping.bungalow.availability_count})`)}async apiRequest(e,t="GET",r=null){const o=`${this.baseURL}${e}`;console.log(`🌐 Agoda API запрос: ${t} ${o}`);try{const c={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(c.body=JSON.stringify(r));const u=await fetch(o,c),h=await u.text();if(!u.ok)throw console.error("❌ Agoda API ошибка:",h),new Error(`API Error: ${u.status}`);return h?JSON.parse(h):{success:!0}}catch(c){throw console.error("💥 Agoda API Request Error:",c),c}}mapPMSToAgodaBooking(e){let t=null,r=null;const o=e.room_number||"";if(o.startsWith("1")?(t=this.agodaConfig.room_mapping.double_room,r=t.agoda_room_id):o.startsWith("2")&&(t=this.agodaConfig.room_mapping.bungalow,r=t.agoda_room_id),!t)throw new Error(`Не найден маппинг для комнаты ${o}`);const c=new Date(e.check_in),u=new Date(e.check_out),h=Math.ceil((u-c)/(1e3*60*60*24)),p={};for(let g=0;g<h;g++){const x=new Date(c);x.setDate(x.getDate()+g);const y=x.toISOString().split("T")[0];p[y]=String(t.base_price)}return{booking:{property_id:this.propertyId,ota_reservation_code:`AGODA-${e.id}-${Date.now()}`,ota_name:"Agoda",arrival_date:e.check_in,departure_date:e.check_out,currency:t.currency,arrival_hour:this.agodaConfig.agoda_settings.check_in_time,customer:{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"Guest",mail:e.guest_email||"guest@agoda.com",phone:e.guest_phone||"",country:e.guest_country||"RU",language:e.guest_language||"en"},rooms:[{room_type_id:t.channex_room_type_id,rate_plan_id:t.channex_rate_plan_id,days:p,occupancy:{adults:e.adults||2,children:e.children||0,infants:e.infants||0},guests:[{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"Guest"}]}],services:[],notes:e.notes||`Agoda booking via PMS. Room: ${o}`,meta:{source:"PMS",agoda_room_id:r,agoda_room_name:t.agoda_room_name,pms_room_number:o,sync_timestamp:new Date().toISOString()}}}}mapAgodaToPMSBooking(e){var h,p,g,x,y;const t=e.attributes||e,r=(t.rooms||[])[0]||{},o=t.customer||{};let c=null;(h=t.meta)!=null&&h.agoda_room_id&&(t.meta.agoda_room_id==="762233577"?c="101":t.meta.agoda_room_id==="763269496"&&(c="201"));let u=0;return r.days&&(u=Object.values(r.days).reduce((b,C)=>b+parseFloat(C||0),0)),{external_booking_id:e.id,channel:"agoda",source:"agoda",check_in:t.arrival_date,check_out:t.departure_date,guest_first_name:o.name||"Unknown",guest_last_name:o.surname||"Guest",guest_email:o.mail||o.email||"",guest_phone:o.phone||"",guest_country:o.country||"Unknown",guest_language:o.language||"en",room_number:c,room_type:((p=t.meta)==null?void 0:p.agoda_room_name)||"Standard",adults:((g=r.occupancy)==null?void 0:g.adults)||2,children:((x=r.occupancy)==null?void 0:x.children)||0,infants:((y=r.occupancy)==null?void 0:y.infants)||0,total_amount:u,currency:t.currency||"USD",payment_status:"pending",status:this.mapAgodaStatus(t.status),notes:t.notes||`Agoda booking #${t.ota_reservation_code}`,agoda_reservation_code:t.ota_reservation_code,agoda_data:JSON.stringify(e),sync_status:"synced",last_sync_at:new Date().toISOString(),created_at:t.created_at||new Date().toISOString(),updated_at:new Date().toISOString()}}mapAgodaStatus(e){return{new:"pending",confirmed:"confirmed",modified:"confirmed",cancelled:"cancelled",checked_in:"checked_in",checked_out:"checked_out",no_show:"cancelled"}[e]||"pending"}async createAgodaBooking(e){var t;console.log("📤 Отправляем бронирование в Agoda через Channex:",e.id);try{const r=this.mapPMSToAgodaBooking(e);console.log("📋 Подготовленные данные:",JSON.stringify(r,null,2));const o=await this.apiRequest("/bookings","POST",r);if(o!=null&&o.data)return console.log("✅ Бронирование создано в Agoda:",o.data.id),await Ee.from("bookings").update({external_booking_id:o.data.id,agoda_reservation_code:(t=o.data.attributes)==null?void 0:t.ota_reservation_code,sync_status:"synced",last_sync_at:new Date().toISOString(),agoda_data:JSON.stringify(o.data)}).eq("id",e.id),o.data;throw new Error("Нет данных в ответе от Channex")}catch(r){throw console.error("❌ Ошибка создания Agoda бронирования:",r),await Ee.from("sync_errors").insert({booking_id:e.id,channel:"agoda",error_type:"create_booking",error_message:r.message,error_details:r.stack,occurred_at:new Date().toISOString()}),r}}async updateAgodaAvailability(e,t,r){console.log(`📅 Обновляем availability для ${e} на ${t.length} дней`);try{const c={room_type_id:(e==="double"?this.agodaConfig.room_mapping.double_room:this.agodaConfig.room_mapping.bungalow).channex_room_type_id,availability_updates:t.map(h=>({date:h,availability:r}))},u=await this.apiRequest(`/properties/${this.propertyId}/availability`,"POST",c);return console.log("✅ Availability обновлен в Agoda"),u}catch(o){throw console.error("❌ Ошибка обновления availability:",o),o}}async updateAgodaPrices(e,t,r){console.log(`💰 Обновляем цены для ${e} на ${t.length} дней: $${r}`);try{const c={rate_plan_id:(e==="double"?this.agodaConfig.room_mapping.double_room:this.agodaConfig.room_mapping.bungalow).channex_rate_plan_id,price_updates:t.map(h=>({date:h,price:String(r)}))},u=await this.apiRequest(`/properties/${this.propertyId}/rates`,"POST",c);return console.log("✅ Цены обновлены в Agoda"),u}catch(o){throw console.error("❌ Ошибка обновления цен:",o),o}}async fetchAgodaBookings(e,t){console.log(`📥 Получаем бронирования Agoda с ${e} по ${t}`);try{const r=new URLSearchParams({"filter[property_id]":this.propertyId,"filter[ota_name]":"Agoda","filter[arrival_date_gte]":e,"filter[arrival_date_lte]":t}),o=await this.apiRequest(`/bookings?${r}`,"GET"),c=(o==null?void 0:o.data)||[];return console.log(`✅ Получено ${c.length} бронирований из Agoda`),c.map(h=>this.mapAgodaToPMSBooking(h))}catch(r){throw console.error("❌ Ошибка получения бронирований:",r),r}}async syncWithAgoda(){console.log("🔄 Запуск полной синхронизации с Agoda...");try{const e=new Date().toISOString().split("T")[0],t=new Date;t.setDate(t.getDate()+365);const r=t.toISOString().split("T")[0],o=await this.fetchAgodaBookings(e,r);for(const c of o){const{data:u}=await Ee.from("bookings").select("id").eq("external_booking_id",c.external_booking_id).single();u?(await Ee.from("bookings").update(c).eq("external_booking_id",c.external_booking_id),console.log(`🔄 Обновлено бронирование: ${c.external_booking_id}`)):(await Ee.from("bookings").insert(c),console.log(`➕ Добавлено новое бронирование: ${c.external_booking_id}`))}return console.log("✅ Синхронизация с Agoda завершена"),{total:o.length,synced:o.length,errors:0}}catch(e){throw console.error("❌ Ошибка синхронизации с Agoda:",e),e}}}const Mb=new b8;function S8(){const[n,e]=w.useState(!1),[t,r]=w.useState("idle"),[o,c]=w.useState(null),[u,h]=w.useState([]),[p,g]=w.useState({}),[x,y]=w.useState({check_in:"",check_out:"",room_type:"double",guest_first_name:"",guest_last_name:"",guest_email:"",guest_phone:"",adults:2,children:0}),[b,C]=w.useState([]),E=Uk.agoda_integration;w.useEffect(()=>{N(),R()},[]);const P=(I,L="info")=>{C(z=>[{timestamp:new Date().toISOString(),message:I,type:L},...z].slice(0,50))},N=async()=>{try{const{data:I,error:L}=await Ee.from("bookings").select("*").eq("channel","agoda").order("created_at",{ascending:!1}).limit(20);if(L)throw L;h(I||[]),P(`Загружено ${(I==null?void 0:I.length)||0} бронирований Agoda`,"success")}catch(I){console.error("Ошибка загрузки бронирований:",I),P(`Ошибка загрузки: ${I.message}`,"error")}},R=async()=>{try{const{data:I,error:L}=await Ee.from("sync_status").select("*").eq("channel","agoda").single();I&&(r(I.status),c(I.last_sync_at))}catch(I){console.error("Ошибка проверки статуса:",I)}},k=async()=>{e(!0),r("syncing"),P("🔄 Запуск полной синхронизации с Agoda...","info");try{const I=await Mb.syncWithAgoda();r("synced"),c(new Date().toISOString()),P(`✅ Синхронизация завершена: ${I.total} бронирований`,"success"),await N(),await Ee.from("sync_status").upsert({channel:"agoda",status:"synced",last_sync_at:new Date().toISOString(),total_synced:I.total,errors:I.errors})}catch(I){r("error"),console.error("Ошибка синхронизации:",I),P(`❌ Ошибка синхронизации: ${I.message}`,"error")}finally{e(!1)}},T=async()=>{e(!0),P("📤 Создаем тестовое бронирование...","info");try{const I={...x,id:`test-${Date.now()}`,room_number:x.room_type==="double"?"101":"201",status:"confirmed",channel:"agoda",source:"agoda"},L=await Mb.createAgodaBooking(I);P(`✅ Бронирование создано: ${L.id}`,"success"),await N(),y({check_in:"",check_out:"",room_type:"double",guest_first_name:"",guest_last_name:"",guest_email:"",guest_phone:"",adults:2,children:0})}catch(I){console.error("Ошибка создания бронирования:",I),P(`❌ Ошибка: ${I.message}`,"error")}finally{e(!1)}},O=()=>{switch(t){case"synced":return i.jsxs(lt,{className:"bg-green-500",children:[i.jsx(pd,{className:"w-3 h-3 mr-1"})," Синхронизировано"]});case"syncing":return i.jsxs(lt,{className:"bg-blue-500",children:[i.jsx(Ra,{className:"w-3 h-3 mr-1 animate-spin"})," Синхронизация..."]});case"error":return i.jsxs(lt,{variant:"destructive",children:[i.jsx(ys,{className:"w-3 h-3 mr-1"})," Ошибка"]});default:return i.jsx(lt,{variant:"secondary",children:"Ожидание"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(jS,{className:"w-5 h-5"}),"Agoda Integration"]}),i.jsx(Kn,{children:"Управление бронированиями и синхронизация с Agoda через Channex"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[O(),i.jsxs(et,{onClick:k,disabled:n,size:"sm",children:[i.jsx(Ra,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Синхронизировать"]})]})]})}),i.jsx(Ie,{children:o&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Последняя синхронизация: ",new Date(o).toLocaleString("ru-RU")]})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Двухместный номер"})}),i.jsxs(Ie,{children:[i.jsx("div",{className:"text-2xl font-bold",children:E.room_mapping.double_room.availability_count}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",E.room_mapping.double_room.agoda_room_id]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",E.room_mapping.double_room.base_price,"/ночь"]})]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Бунгало с видом на сад"})}),i.jsxs(Ie,{children:[i.jsx("div",{className:"text-2xl font-bold",children:E.room_mapping.bungalow.availability_count}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",E.room_mapping.bungalow.agoda_room_id]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",E.room_mapping.bungalow.base_price,"/ночь"]})]})]})]}),i.jsxs(_d,{defaultValue:"bookings",className:"space-y-4",children:[i.jsxs(ac,{children:[i.jsx(fn,{value:"bookings",children:"Бронирования"}),i.jsx(fn,{value:"test",children:"Тест бронирования"}),i.jsx(fn,{value:"availability",children:"Доступность"}),i.jsx(fn,{value:"prices",children:"Цены"}),i.jsx(fn,{value:"logs",children:"Логи"})]}),i.jsx(hn,{value:"bookings",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{className:"text-lg",children:"Последние бронирования Agoda"})}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет бронирований из Agoda"}):u.map(I=>i.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[I.guest_first_name," ",I.guest_last_name]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.check_in," - ",I.check_out]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Комната: ",I.room_number||"Не назначена"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(lt,{variant:I.status==="confirmed"?"default":"secondary",children:I.status}),i.jsxs("p",{className:"text-sm mt-1",children:["$",I.total_amount]})]})]},I.id))})})]})}),i.jsx(hn,{value:"test",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{className:"text-lg",children:"Создать тестовое бронирование"}),i.jsx(Kn,{children:"Отправить тестовое бронирование в Agoda через Channex"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Заезд"}),i.jsx(qe,{type:"date",value:x.check_in,onChange:I=>y({...x,check_in:I.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Выезд"}),i.jsx(qe,{type:"date",value:x.check_out,onChange:I=>y({...x,check_out:I.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Тип номера"}),i.jsxs(Ao,{value:x.room_type,onValueChange:I=>y({...x,room_type:I}),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"double",children:"Двухместный номер"}),i.jsx(Ft,{value:"bungalow",children:"Бунгало с видом на сад"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Имя"}),i.jsx(qe,{value:x.guest_first_name,onChange:I=>y({...x,guest_first_name:I.target.value}),placeholder:"Иван"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Фамилия"}),i.jsx(qe,{value:x.guest_last_name,onChange:I=>y({...x,guest_last_name:I.target.value}),placeholder:"Иванов"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Email"}),i.jsx(qe,{type:"email",value:x.guest_email,onChange:I=>y({...x,guest_email:I.target.value}),placeholder:"test@agoda.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Телефон"}),i.jsx(qe,{value:x.guest_phone,onChange:I=>y({...x,guest_phone:I.target.value}),placeholder:"+7 999 123 4567"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Взрослые"}),i.jsx(qe,{type:"number",min:"1",max:"4",value:x.adults,onChange:I=>y({...x,adults:parseInt(I.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Дети"}),i.jsx(qe,{type:"number",min:"0",max:"3",value:x.children,onChange:I=>y({...x,children:parseInt(I.target.value)})})]})]}),i.jsxs(et,{onClick:T,disabled:n||!x.check_in||!x.check_out||!x.guest_first_name,className:"w-full",children:[i.jsx(iy,{className:"w-4 h-4 mr-2"}),"Создать бронирование в Agoda"]})]})]})}),i.jsx(hn,{value:"availability",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{className:"text-lg",children:"Управление доступностью"}),i.jsx(Kn,{children:"Обновление количества доступных номеров в Agoda"})]}),i.jsx(Ie,{children:i.jsxs(_s,{children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:"Функция обновления availability будет доступна после полной настройки канала Agoda в Channex"})]})})]})}),i.jsx(hn,{value:"prices",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{className:"text-lg",children:"Управление ценами"}),i.jsx(Kn,{children:"Обновление цен для номеров в Agoda"})]}),i.jsx(Ie,{children:i.jsxs(_s,{children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:"Функция обновления цен будет доступна после полной настройки канала Agoda в Channex"})]})})]})}),i.jsx(hn,{value:"logs",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{className:"text-lg",children:"Журнал операций"})}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет записей в журнале"}):b.map((I,L)=>i.jsxs("div",{className:`text-xs p-2 rounded font-mono ${I.type==="error"?"bg-red-50 text-red-900":I.type==="success"?"bg-green-50 text-green-900":"bg-gray-50 text-gray-900"}`,children:[i.jsx("span",{className:"opacity-50",children:new Date(I.timestamp).toLocaleTimeString("ru-RU")})," ",I.message]},L))})})]})})]})]})}function Bk(){return i.jsx("div",{className:"container mx-auto p-4",children:i.jsx(S8,{})})}const j8={property_id:"6ae9708a-cbaa-4134-bf04-29314e842709",base_currency:"USD",room_mapping:{standard_apartment:{pms_room_number:"A1",pms_room_type:"Standard Room",channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",airbnb_room_title:"Deluxe apartment",base_price:"100",max_occupancy:2,availability_count:8},deluxe_suite:{pms_room_number:"A5",pms_room_type:"Deluxe Room",channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",airbnb_room_title:"Deluxe suite apartment",base_price:"200",max_occupancy:4,availability_count:6},bungalow:{pms_room_number:"B3",pms_room_type:"Standard Room",channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",airbnb_room_title:"Bungalow 3",base_price:"120",max_occupancy:2,availability_count:1},villa:{pms_room_number:"V1",pms_room_type:"Deluxe Room",channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",airbnb_room_title:"Villa ground floor",base_price:"300",max_occupancy:6,availability_count:3}},airbnb_settings:{check_in_time:"15:00",check_out_time:"12:00",min_nights:1,max_nights:30,advance_booking_days:365,preparation_time:0,cleaning_fee:25,extra_guest_fee:20,cancellation_policy:"flexible",instant_book:!0},webhook_settings:{endpoint:"https://pms.voda.center/api/channex/webhook",events:["booking.created","booking.updated","booking.cancelled"]}},Wk={airbnb_integration:j8};class N8{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.airbnbConfig=Wk.airbnb_integration,console.log("🏠 AirbnbChannexService инициализирован"),console.log(`📍 Property ID: ${this.propertyId}`);const e=Object.values(this.airbnbConfig.room_mapping).map(t=>t.airbnb_room_title);console.log(`🌏 Airbnb комнаты: ${e.join(", ")}`)}async apiRequest(e,t="GET",r=null){const o=`${this.baseURL}${e}`;console.log(`🌐 Airbnb API запрос: ${t} ${o}`);try{const c={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(c.body=JSON.stringify(r));const u=await fetch(o,c),h=await u.text();if(!u.ok)throw console.error("❌ Airbnb API ошибка:",h),new Error(`API Error: ${u.status}`);return h?JSON.parse(h):{success:!0}}catch(c){throw console.error("💥 Airbnb API Request Error:",c),c}}getRoomMapping(e){const t=this.airbnbConfig.room_mapping[e];if(!t)throw new Error(`Неизвестный тип комнаты для Airbnb: ${e}`);return t}convertToChannexFormat(e){console.log("🔄 Конвертация PMS → Channex (Airbnb)");const t=this.getRoomMapping(e.room_type||"standard_apartment"),r=new Date(e.check_in),o=new Date(e.check_out),c=Math.ceil((o-r)/(1e3*60*60*24)),u={};for(let p=0;p<c;p++){const g=new Date(r);g.setDate(g.getDate()+p);const x=g.toISOString().split("T")[0];u[x]=t.base_price}const h={booking:{property_id:this.propertyId,ota_reservation_code:`AIRBNB-${e.id||Date.now()}`,ota_name:"Airbnb",arrival_date:e.check_in,departure_date:e.check_out,currency:this.airbnbConfig.base_currency,arrival_hour:this.airbnbConfig.airbnb_settings.check_in_time,customer:{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"User",mail:e.guest_email||"guest@airbnb.com",phone:e.guest_phone||"+1234567890",country:"US",language:"en"},rooms:[{room_type_id:t.channex_room_type_id,rate_plan_id:t.channex_rate_plan_id,days:u,occupancy:{adults:e.adults||2,children:e.children||0,infants:0},guests:[{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"User"}]}],services:[],notes:`Airbnb бронирование - ${t.airbnb_room_title}`,meta:{source:"Airbnb",airbnb_room_title:t.airbnb_room_title,pms_room_number:t.pms_room_number,test:e.test||!1}}};return console.log("✅ Конвертация завершена:",{room:t.airbnb_room_title,guest:`${e.guest_first_name} ${e.guest_last_name}`,dates:`${e.check_in} - ${e.check_out}`,total:`$${parseInt(t.base_price)*c}`}),h}convertToPMSFormat(e){var h,p,g,x,y,b,C;console.log("🔄 Конвертация Channex → PMS (Airbnb)"),console.log("📋 Channex данные:",e);const t=e.attributes,r=(h=t.rooms)==null?void 0:h[0];console.log("📅 Даты:",{arrival:t.arrival_date,departure:t.departure_date});let o="standard_apartment",c=this.airbnbConfig.room_mapping.standard_apartment;for(const[E,P]of Object.entries(this.airbnbConfig.room_mapping))if((r==null?void 0:r.room_type_id)===P.channex_room_type_id){o=E,c=P;break}const u={id:e.id,channel:"airbnb",source:"airbnb",ota_reservation_code:t.ota_reservation_code,check_in:t.arrival_date||t.checkin_date||null,check_out:t.departure_date||t.checkout_date||null,guest_first_name:((p=t.customer)==null?void 0:p.name)||"Guest",guest_last_name:((g=t.customer)==null?void 0:g.surname)||"User",guest_email:((x=t.customer)==null?void 0:x.mail)||"",guest_phone:((y=t.customer)==null?void 0:y.phone)||"",room_type:o,room_number:c.pms_room_number,room_title:c.airbnb_room_title,adults:((b=r==null?void 0:r.occupancy)==null?void 0:b.adults)||2,children:((C=r==null?void 0:r.occupancy)==null?void 0:C.children)||0,total_amount:t.total_price||0,currency:t.currency||"USD",status:t.status||"confirmed",created_at:t.created_at,updated_at:t.updated_at,notes:t.notes||"",airbnb_meta:t.meta||{}};return console.log("✅ PMS формат:",{id:u.id,guest:`${u.guest_first_name} ${u.guest_last_name}`,room:u.room_title,dates:`${u.check_in} - ${u.check_out}`}),u}async createAirbnbBooking(e){var t;console.log("🏠 Создание Airbnb бронирования"),console.log("📝 Данные:",e);try{const r=this.convertToChannexFormat(e),o=await this.apiRequest("/bookings","POST",r);if(console.log("✅ Airbnb бронирование создано через Channex:",(t=o.data)==null?void 0:t.id),o.data&&!e.test){const c=this.convertToPMSFormat(o.data);await this.saveToPMS(c)}else e.test&&console.log("🧪 Тестовое бронирование - не сохраняем в PMS БД");return o}catch(r){throw console.error("❌ Ошибка создания Airbnb бронирования:",r),r}}async syncWithAirbnb(){console.log("🔄 Синхронизация с Airbnb");try{const t=(await this.apiRequest(`/bookings?filter[property_id]=${this.propertyId}&filter[ota_name]=Airbnb&per_page=50`)).data||[];console.log(`📥 Получено ${t.length} Airbnb бронирований`);let r=0,o=[];for(const c of t)try{const u=this.convertToPMSFormat(c);await this.saveToPMS(u),r++}catch(u){console.error("❌ Ошибка синхронизации бронирования:",c.id,u),o.push({booking_id:c.id,error:u.message})}return console.log(`✅ Синхронизировано: ${r}/${t.length}`),{total:t.length,synced:r,errors:o}}catch(e){throw console.error("❌ Ошибка синхронизации Airbnb:",e),e}}async updateAirbnbAvailability(e,t,r){console.log(`📅 Обновление Airbnb availability: ${e}`);try{const o=this.getRoomMapping(e),c={property_id:this.propertyId,room_type_id:o.channex_room_type_id,availability:{}};Array.isArray(t)?t.forEach(h=>{c.availability[h]=r}):c.availability[t]=r;const u=await this.apiRequest("/availability","PUT",c);return console.log("✅ Airbnb availability обновлен"),u}catch(o){throw console.error("❌ Ошибка обновления Airbnb availability:",o),o}}async updateAirbnbPrices(e,t,r){console.log(`💰 Обновление Airbnb цен: ${e}`);try{const o=this.getRoomMapping(e),c={property_id:this.propertyId,rate_plan_id:o.channex_rate_plan_id,rates:{}};Array.isArray(t)?t.forEach(h=>{c.rates[h]={rate:r}}):c.rates[t]={rate:r};const u=await this.apiRequest("/rates","PUT",c);return console.log("✅ Airbnb цены обновлены"),u}catch(o){throw console.error("❌ Ошибка обновления Airbnb цен:",o),o}}async saveToPMS(e){try{const{data:t,error:r}=await C_.from("bookings").upsert(e,{onConflict:"id",ignoreDuplicates:!1}).select();if(r)throw console.error("❌ Ошибка сохранения в PMS БД:",r),r;return console.log("💾 Сохранено в PMS БД:",e.id),t}catch(t){throw console.error("❌ Критическая ошибка сохранения:",t),t}}async getAirbnbStats(){try{const{data:e,error:t}=await C_.from("bookings").select("*").eq("channel","airbnb");if(t)throw t;const r={total:(e==null?void 0:e.length)||0,confirmed:(e==null?void 0:e.filter(o=>o.status==="confirmed").length)||0,cancelled:(e==null?void 0:e.filter(o=>o.status==="cancelled").length)||0,revenue:(e==null?void 0:e.reduce((o,c)=>o+(parseFloat(c.total_amount)||0),0))||0};return console.log("📊 Airbnb статистика:",r),r}catch(e){throw console.error("❌ Ошибка получения статистики:",e),e}}}const ig=new N8,k8=Object.freeze(Object.defineProperty({__proto__:null,default:ig},Symbol.toStringTag,{value:"Module"}));function C8(){const[n,e]=w.useState(!1),[t,r]=w.useState("idle"),[o,c]=w.useState(null),[u,h]=w.useState([]),[p,g]=w.useState({total:0,confirmed:0,cancelled:0,revenue:0}),[x,y]=w.useState({check_in:"2025-08-30",check_out:"2025-09-02",room_type:"standard_apartment",guest_first_name:"John",guest_last_name:"Smith",guest_email:"test@airbnb.com",guest_phone:"+1 555 123 4567",adults:2,children:0}),[b,C]=w.useState([]),E=Wk.airbnb_integration;w.useEffect(()=>{N(),R(),k()},[]);const P=(L,z="info")=>{C(F=>[{timestamp:new Date().toISOString(),message:L,type:z},...F].slice(0,50))},N=async()=>{try{const{data:L,error:z}=await Ee.from("bookings").select("*").eq("channel","airbnb").order("created_at",{ascending:!1}).limit(20);if(z)throw z;h(L||[]),P(`Загружено ${(L==null?void 0:L.length)||0} бронирований Airbnb`,"success")}catch(L){console.error("Ошибка загрузки бронирований:",L),P(`Ошибка загрузки: ${L.message}`,"error")}},R=async()=>{try{const L=await ig.getAirbnbStats();g(L)}catch(L){console.error("Ошибка загрузки статистики:",L)}},k=async()=>{try{const{data:L,error:z}=await Ee.from("sync_status").select("*").eq("channel","airbnb").single();L&&(r(L.status),c(L.last_sync_at))}catch(L){console.error("Ошибка проверки статуса:",L)}},T=async()=>{e(!0),r("syncing"),P("🔄 Запуск полной синхронизации с Airbnb...","info");try{const L=await ig.syncWithAirbnb();r("synced"),c(new Date().toISOString()),P(`✅ Синхронизация завершена: ${L.synced}/${L.total} бронирований`,"success"),await N(),await R(),await Ee.from("sync_status").upsert({channel:"airbnb",status:"synced",last_sync_at:new Date().toISOString(),total_synced:L.synced,errors:L.errors})}catch(L){r("error"),console.error("Ошибка синхронизации:",L),P(`❌ Ошибка синхронизации: ${L.message}`,"error")}finally{e(!1)}},O=async()=>{var L,z;e(!0),P("📤 Создаем тестовое Airbnb бронирование...","info");try{if(!x.check_in||!x.check_out)throw new Error("Укажите даты заезда и выезда");if(!x.guest_first_name||!x.guest_last_name)throw new Error("Укажите имя и фамилию гостя");const F={...x,id:`airbnb-test-${Date.now()}`,room_number:((L=E.room_mapping[x.room_type])==null?void 0:L.pms_room_number)||"A1",status:"confirmed",channel:"airbnb",source:"airbnb",test:!0},q=await ig.createAirbnbBooking(F);P(`✅ Airbnb бронирование создано: ${(z=q.data)==null?void 0:z.id}`,"success"),await N(),await R(),y({check_in:"2025-08-30",check_out:"2025-09-02",room_type:"standard_apartment",guest_first_name:"John",guest_last_name:"Smith",guest_email:"test@airbnb.com",guest_phone:"+1 555 123 4567",adults:2,children:0})}catch(F){console.error("Ошибка создания бронирования:",F),P(`❌ Ошибка: ${F.message}`,"error")}finally{e(!1)}},I=()=>{switch(t){case"synced":return i.jsxs(lt,{className:"bg-green-500",children:[i.jsx(pd,{className:"w-3 h-3 mr-1"})," Синхронизировано"]});case"syncing":return i.jsxs(lt,{className:"bg-blue-500",children:[i.jsx(Ra,{className:"w-3 h-3 mr-1 animate-spin"})," Синхронизация..."]});case"error":return i.jsxs(lt,{variant:"destructive",children:[i.jsx(ys,{className:"w-3 h-3 mr-1"})," Ошибка"]});default:return i.jsx(lt,{variant:"secondary",children:"Ожидание"})}};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(Xl,{className:"w-5 h-5"}),"Airbnb Integration"]}),i.jsx(Kn,{children:"Управление бронированиями и синхронизация с Airbnb через Channex"})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[I(),i.jsxs(et,{onClick:T,disabled:n,size:"sm",children:[i.jsx(Ra,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Синхронизировать"]})]})]})}),i.jsx(Ie,{children:o&&i.jsxs("p",{className:"text-sm text-muted-foreground",children:["Последняя синхронизация: ",new Date(o).toLocaleString("ru-RU")]})})]}),i.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Всего бронирований"})}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold",children:p.total})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Подтвержденных"})}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold text-green-600",children:p.confirmed})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Отмененных"})}),i.jsx(Ie,{children:i.jsx("div",{className:"text-2xl font-bold text-red-600",children:p.cancelled})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:"Выручка"})}),i.jsx(Ie,{children:i.jsxs("div",{className:"text-2xl font-bold",children:["$",p.revenue]})})]})]}),i.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(E.room_mapping).map(([L,z])=>i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-3",children:i.jsx(Ye,{className:"text-sm font-medium",children:z.airbnb_room_title})}),i.jsxs(Ie,{children:[i.jsx("div",{className:"text-2xl font-bold",children:z.availability_count}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["Номер: ",z.pms_room_number]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",z.base_price,"/ночь"]}),i.jsxs("p",{className:"text-xs text-muted-foreground",children:["До ",z.max_occupancy," гостей"]})]})]},L))}),i.jsxs(_d,{defaultValue:"bookings",className:"space-y-4",children:[i.jsxs(ac,{children:[i.jsx(fn,{value:"bookings",children:"Бронирования"}),i.jsx(fn,{value:"test",children:"Тест бронирования"}),i.jsx(fn,{value:"logs",children:"Логи"})]}),i.jsx(hn,{value:"bookings",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{className:"text-lg",children:"Последние бронирования Airbnb"})}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-3",children:u.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет бронирований из Airbnb"}):u.map(L=>i.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[L.guest_first_name," ",L.guest_last_name]}),i.jsxs("p",{className:"text-sm text-muted-foreground",children:[L.check_in," - ",L.check_out]}),i.jsx("p",{className:"text-xs text-muted-foreground",children:L.room_title||L.room_number})]}),i.jsxs("div",{className:"text-right",children:[i.jsx(lt,{variant:L.status==="confirmed"?"default":"secondary",children:L.status}),i.jsxs("p",{className:"text-sm mt-1",children:["$",L.total_amount||0]})]})]},L.id))})})]})}),i.jsx(hn,{value:"test",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{className:"text-lg",children:"Создать тестовое бронирование Airbnb"}),i.jsx(Kn,{children:"Отправить тестовое бронирование в Airbnb через Channex"})]}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Заезд"}),i.jsx(qe,{type:"date",value:x.check_in,onChange:L=>y({...x,check_in:L.target.value})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Выезд"}),i.jsx(qe,{type:"date",value:x.check_out,onChange:L=>y({...x,check_out:L.target.value})})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Тип номера"}),i.jsxs(Ao,{value:x.room_type,onValueChange:L=>y({...x,room_type:L}),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsx(Gs,{children:Object.entries(E.room_mapping).map(([L,z])=>i.jsxs(Ft,{value:L,children:[z.airbnb_room_title," ($",z.base_price,"/ночь)"]},L))})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Имя"}),i.jsx(qe,{value:x.guest_first_name,onChange:L=>y({...x,guest_first_name:L.target.value}),placeholder:"John"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Фамилия"}),i.jsx(qe,{value:x.guest_last_name,onChange:L=>y({...x,guest_last_name:L.target.value}),placeholder:"Smith"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Email"}),i.jsx(qe,{type:"email",value:x.guest_email,onChange:L=>y({...x,guest_email:L.target.value}),placeholder:"test@airbnb.com"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Телефон"}),i.jsx(qe,{value:x.guest_phone,onChange:L=>y({...x,guest_phone:L.target.value}),placeholder:"+1 555 123 4567"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Взрослые"}),i.jsx(qe,{type:"number",min:"1",max:"4",value:x.adults,onChange:L=>y({...x,adults:parseInt(L.target.value)})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx(Je,{children:"Дети"}),i.jsx(qe,{type:"number",min:"0",max:"3",value:x.children,onChange:L=>y({...x,children:parseInt(L.target.value)})})]})]}),i.jsxs(et,{onClick:O,disabled:n||!x.check_in||!x.check_out||!x.guest_first_name,className:"w-full",children:[i.jsx(iy,{className:"w-4 h-4 mr-2"}),"Создать бронирование в Airbnb"]})]})]})}),i.jsx(hn,{value:"logs",children:i.jsxs(Pe,{children:[i.jsxs(Ke,{children:[i.jsx(Ye,{className:"text-lg",children:"Логи Airbnb интеграции"}),i.jsx(Kn,{children:"Последние операции и события"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.length===0?i.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Логи пусты"}):b.map((L,z)=>i.jsxs("div",{className:"flex items-start gap-3 p-2 border rounded text-sm",children:[i.jsx("span",{className:"text-xs text-muted-foreground min-w-20",children:new Date(L.timestamp).toLocaleTimeString("ru-RU")}),i.jsx("span",{className:`flex-1 ${L.type==="error"?"text-red-600":L.type==="success"?"text-green-600":"text-foreground"}`,children:L.message})]},z))})})]})})]})]})}function Hk(){return i.jsx("div",{className:"container mx-auto p-4",children:i.jsx(C8,{})})}function Ei({className:n,...e}){return i.jsx("div",{className:Ue("animate-pulse rounded-md bg-primary/10",n),...e})}const Db={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},E8={confirmed:"✅",pending:"⏳",cancelled:"❌",checked_in:"🏠",checked_out:"✈️"};function P8({booking:n,position:e,onClose:t}){var P,N,R;const{t:r,currentLanguage:o,formatCurrency:c}=Zr("booking"),[u,h]=w.useState({x:0,y:0,showBelow:!1});if(!n)return null;const p=o==="ru"?gr:Uo,g=o==="ru"?"RUB":"USD",x=n.total_amount-(n.services_total||0),y=n.total_amount-(n.amount_paid||0),b=L0(_t(n.check_out),_t(n.check_in));w.useEffect(()=>{let I=e.x+10,L=e.y,z=!1;I+350>window.innerWidth-20&&(I=e.x-350-10),L-400<20?(z=!0,L=e.y+10):L=e.y-400-10,z&&L+400>window.innerHeight-20&&(L=window.innerHeight-400-20),I<20&&(I=20),h({x:I,y:L,showBelow:z})},[e]);const C=k=>o==="en"?`${k} ${k===1?"day":"days"}`:k===1?"1 день":k>=2&&k<=4?`${k} дня`:`${k} дней`,E=k=>o==="en"?`${k} ${k===1?"guest":"guests"}`:k===1?"1 гость":k>=2&&k<=4?`${k} гостя`:`${k} гостей`;return i.jsx("div",{className:"fixed z-50 pointer-events-none",style:{left:`${u.x}px`,top:`${u.y}px`},children:i.jsxs(Pe,{className:"w-80 shadow-2xl border-0 bg-white/95 backdrop-blur-xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",children:[i.jsx("div",{className:`h-1 bg-gradient-to-r ${Db[n.status]}`}),i.jsx(Ke,{className:"pb-3 bg-gradient-to-br from-slate-50 to-blue-50/50",children:i.jsxs("div",{className:"flex items-start justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs(Ye,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[i.jsx(Ys,{className:"h-4 w-4 text-blue-600"}),((P=n.guests)==null?void 0:P.full_name)||r("popover.unknownGuest")]})}),i.jsxs("div",{className:`
              px-2.5 py-1 rounded-full text-xs font-medium text-white
              bg-gradient-to-r ${Db[n.status]} shadow-md
              flex items-center gap-1
            `,children:[i.jsx("span",{children:E8[n.status]}),i.jsx("span",{children:r(`status.${n.status}`)})]})]})}),i.jsxs(Ie,{className:"space-y-3 pt-3",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:i.jsx(Jl,{className:"h-3.5 w-3.5 text-white"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-xs text-slate-500",children:r("popover.stayPeriod")}),i.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[We(_t(n.check_in),"dd MMM",{locale:p})," —",We(_t(n.check_out),"dd MMM",{locale:p})]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs text-slate-500",children:r("popover.duration")}),i.jsx("p",{className:"text-sm font-bold text-blue-600",children:C(b)})]})]}),i.jsxs("div",{className:"flex items-center gap-3 px-3",children:[i.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:i.jsx(Ys,{className:"h-3.5 w-3.5 text-white"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs text-slate-500",children:r("popover.guestCount")}),i.jsx("p",{className:"text-sm font-semibold text-slate-800",children:E(n.guests_count||n.guest_count||((N=n.guests)==null?void 0:N.guests_count)||((R=n.guests)==null?void 0:R.guest_count)||1)})]})]}),n.notes&&i.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl",children:i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx(vg,{className:"h-4 w-4 text-orange-600 mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-xs font-medium text-orange-700 mb-1",children:r("popover.comment")}),i.jsx("p",{className:"text-sm text-slate-600",children:n.notes})]})]})}),n.booking_services&&n.booking_services.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 px-3",children:[i.jsx(wD,{className:"h-4 w-4 text-purple-600"}),i.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r("popover.additionalServices")})]}),i.jsx("div",{className:"space-y-1 px-3",children:n.booking_services.map(k=>{var T;return i.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 rounded-lg hover:bg-slate-50 transition-colors",children:[i.jsxs("span",{className:"text-sm text-slate-600",children:[(T=k.services)==null?void 0:T.name,i.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["×",k.quantity]})]}),i.jsx("span",{className:"text-sm font-medium text-slate-800",children:c(k.price_at_booking*k.quantity,g)})]},k.id)})})]}),i.jsxs("div",{className:"border-t border-slate-200/50 pt-3 mt-3 space-y-2",children:[i.jsxs("div",{className:"space-y-1.5 px-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:r("popover.accommodation")}),i.jsx("span",{className:"text-sm font-medium",children:c(x,g)})]}),n.services_total>0&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:r("popover.services")}),i.jsx("span",{className:"text-sm font-medium",children:c(n.services_total||0,g)})]}),i.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-200/50",children:[i.jsx("span",{className:"text-sm font-semibold text-slate-700",children:r("popover.total")}),i.jsx("span",{className:"text-sm font-bold text-slate-800",children:c(n.total_amount,g)})]})]}),i.jsxs("div",{className:`
              mx-3 p-3 rounded-xl
              ${y>0?"bg-gradient-to-r from-amber-100 to-orange-100 border border-orange-200":"bg-gradient-to-r from-emerald-100 to-green-100 border border-green-200"}
            `,children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:y>0?i.jsxs(i.Fragment,{children:[i.jsx(qD,{className:"h-4 w-4 text-orange-600"}),i.jsx("span",{className:"text-sm font-medium text-orange-700",children:r("popover.toPay")})]}):i.jsxs(i.Fragment,{children:[i.jsx(_S,{className:"h-4 w-4 text-green-600"}),i.jsx("span",{className:"text-sm font-medium text-green-700",children:r("popover.paidFully")})]})}),i.jsx("span",{className:`text-lg font-bold ${y>0?"text-orange-700":"text-green-700"}`,children:y>0?c(y,g):"✓"})]}),n.amount_paid>0&&y>0&&i.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-xs text-slate-600",children:r("popover.alreadyPaid")}),i.jsx("span",{className:"text-xs font-medium text-green-600",children:c(n.amount_paid,g)})]})})]})]})]})]})})}function Vk({source:n}){const e="h-5 w-5 text-gray-500";switch(n){case"booking":return i.jsx("img",{src:"/icons/booking-com.png",alt:"Booking.com",className:"h-5 w-5"});case"airbnb":return i.jsx("img",{src:"/icons/airbnb.png",alt:"AirBnB",className:"h-5 w-5"});case"site":return i.jsx(fD,{className:e});case"ai_agent":return i.jsx(NM,{className:e});case"phone":return i.jsx(Ma,{className:e});case"direct":return i.jsx(XD,{className:e});case"other":return i.jsx(SS,{className:e});default:return null}}const R8={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},T8={confirmed:"border-emerald-300",pending:"border-amber-300",cancelled:"border-rose-300",checked_in:"border-violet-300",checked_out:"border-sky-300"};function A8({rooms:n=[],bookings:e=[],days:t=[],onCellClick:r=()=>{},onBookingClick:o=()=>{},onSelectionEnd:c=()=>{},onPriceChange:u=null}){const{t:h,currentLanguage:p}=Zr("booking"),g=p==="ru"?gr:Uo,[x,y]=w.useState(!1),[b,C]=w.useState(null),[E,P]=w.useState(null),[N,R]=w.useState({show:!1,x:0,y:0,text:""}),[k,T]=w.useState(null),[O,I]=w.useState({x:0,y:0}),[L,z]=w.useState({});w.useEffect(()=>{const W={};n.length>0&&t.length>0&&(n.forEach(K=>{t.forEach(ne=>{const B=We(ne,"yyyy-MM-dd");W[`${K.id}-${B}`]=K.price_per_night||150})}),z(W))},[n,t]);const F=(W,K)=>e.filter(ne=>{if(ne.status==="cancelled")return!1;const B=Pa(_t(ne.check_in)),U=Pa(_t(ne.check_out)),V=Pa(K);return ne.room_id===W&&V>=B&&V<U}),q=W=>{const K=L0(_t(W.check_out),_t(W.check_in));return K>0?K:1},X=W=>({food:"🍽️",spa:"💆‍♀️",cleaning:"🧹",transport:"🚗"})[W]||"🛎️",re=W=>{var K,ne;return W.guests_count||W.guest_count||((K=W.guests)==null?void 0:K.guest_count)||((ne=W.guests)==null?void 0:ne.guests_count)||1},ae=async(W,K,ne)=>{var oe;const B=We(K,"yyyy-MM-dd"),U=((oe=n.find(ue=>ue.id===W))==null?void 0:oe.room_number)||"Room",V=prompt(`Цена за ${U} на ${We(K,"dd.MM.yyyy")}:`,ne);if(V&&!isNaN(V)&&parseFloat(V)>=0){const ue=parseFloat(V);if(z(he=>({...he,[`${W}-${B}`]:ue})),u)try{await u(W,B,ue)}catch(he){console.error("Failed to update price:",he),z(te=>({...te,[`${W}-${B}`]:ne}))}}},pe=(W,K)=>{F(W,K).length>0||(y(!0),C({roomId:W,date:K}),P({roomId:W,date:K}))},me=(W,K,ne)=>{if(!x||!b||W!==b.roomId)return;P({roomId:W,date:K});const B=b.date<K?b.date:K,U=b.date>K?b.date:K,V=L0(U,B)+1,oe=V===1?"день":V>1&&V<5?"дня":"дней";R({show:!0,x:ne.clientX+15,y:ne.clientY-35,text:`${V} ${oe}`})},ke=()=>{if(!x||!b||!E){y(!1);return}y(!1),R({show:!1,x:0,y:0,text:""});const W=b.date<E.date?b.date:E.date,K=FN(E.date>b.date?E.date:b.date,1);c(b.roomId,W,K),C(null),P(null)},ge=(W,K)=>{T(W),I({x:K.clientX,y:K.clientY})},be=(W,K)=>{if(x&&b&&E&&W===b.roomId){const ne=b.date<E.date?b.date:E.date,B=b.date>E.date?b.date:E.date;if(K>=ne&&K<=B)return"bg-blue-200/50"}return""};return i.jsxs("div",{className:"relative border border-slate-200 rounded-lg overflow-hidden",onMouseLeave:ke,children:[N.show&&i.jsxs("div",{className:"fixed z-50 px-3 py-1.5 bg-slate-800/90 text-white text-xs rounded-lg shadow-xl pointer-events-none flex items-center gap-1",style:{top:N.y,left:N.x},children:[i.jsx(CM,{className:"h-3 w-3"})," ",N.text]}),k&&i.jsx(P8,{booking:k,position:O,onClose:()=>T(null)}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"relative inline-block min-w-full align-middle",children:[i.jsxs("div",{className:"flex sticky top-0 z-30 bg-white/80 backdrop-blur-md",children:[i.jsxs("div",{className:"w-48 min-w-[192px] p-3 font-semibold text-slate-700 sticky left-0 z-40 border-r border-b border-slate-200 flex items-center bg-white",children:[i.jsx(Xl,{className:"h-4 w-4 mr-2 text-slate-500"})," ",h("grid.rooms")]}),i.jsx("div",{className:"flex",children:t.map(W=>i.jsxs("div",{className:`w-24 min-w-[96px] p-2 text-center border-l border-b border-slate-200 ${W.getDay()===0||W.getDay()===6?"bg-slate-50/70":""} ${Lh(W)?"bg-amber-50":""}`,children:[i.jsx("div",{className:`font-semibold text-sm ${Lh(W)?"text-amber-700":"text-slate-800"}`,children:We(W,"dd")}),i.jsx("div",{className:`text-xs ${W.getDay()===0||W.getDay()===6?"text-blue-600":"text-slate-500"}`,children:We(W,"EE",{locale:g})})]},W.toISOString()))})]}),i.jsx("div",{onMouseUp:ke,children:n.map(W=>i.jsxs("div",{className:"flex border-t border-slate-200 relative",children:[i.jsxs("div",{className:"w-48 min-w-[192px] p-2 font-medium text-slate-800 sticky left-0 z-20 bg-white/80 backdrop-blur-sm border-r border-slate-200",children:[i.jsx("div",{className:"font-semibold text-sm",children:W.room_number}),i.jsx("div",{className:"text-xs text-slate-500 capitalize",children:W.room_type})]}),i.jsx("div",{className:"flex relative",children:t.map(K=>{const ne=F(W.id,K),B=We(K,"yyyy-MM-dd"),U=L[`${W.id}-${B}`]||W.price_per_night;return i.jsxs("div",{className:`w-24 min-w-[96px] h-14 border-l border-slate-200 relative group ${ne.length===0?"cursor-pointer hover:bg-blue-100/50":""} ${be(W.id,K)}`,onMouseDown:()=>pe(W.id,K),onMouseMove:V=>me(W.id,K,V),onClick:()=>ne.length===0&&r(W.id,K),children:[ne.length===0&&i.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-1",children:[i.jsxs("div",{className:"text-xs text-slate-600 font-medium opacity-50",children:["$",U]}),i.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mt-0.5",children:i.jsx("div",{className:"flex items-center text-xs text-green-700 font-medium cursor-pointer bg-white/80 rounded px-1",onClick:V=>{V.stopPropagation(),ae(W.id,K,U)},children:i.jsx(UD,{className:"h-3 w-3"})})})]}),ne.map(V=>{var te,fe,je;if(!Ay(_t(V.check_in),K))return null;const ue=q(V)*96-4,he=re(V);return i.jsx("div",{className:`absolute top-0.5 left-0.5 rounded-lg bg-gradient-to-r ${R8[V.status]} text-white p-1.5 cursor-pointer flex items-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 border ${T8[V.status]}`,style:{width:`${ue}px`,zIndex:15,height:"calc(100% - 4px)"},onClick:Ce=>{Ce.stopPropagation(),o(V)},onMouseEnter:Ce=>ge(V,Ce),onMouseLeave:()=>T(null),children:i.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx(Vk,{source:V.source})}),i.jsxs("div",{className:"flex items-center text-xs bg-white/20 rounded px-1 flex-shrink-0",children:[i.jsx(CS,{className:"h-3 w-3 mr-0.5"}),he]}),i.jsx("div",{className:"text-sm font-medium truncate flex-1",title:(te=V.guests)==null?void 0:te.full_name,children:((fe=V.guests)==null?void 0:fe.full_name)||"Гость"}),i.jsx("div",{className:"flex items-center ml-auto flex-shrink-0",children:(je=V.booking_services)==null?void 0:je.map(Ce=>{var He,Le;return i.jsx("span",{className:"text-xs",title:(He=Ce.services)==null?void 0:He.name,children:X((Le=Ce.services)==null?void 0:Le.category)},Ce.id)})})]})},V.id)})]},K.toISOString())})})]},W.id))})]})})]})}var uv="Dialog",[Gk,uU]=Ss(uv),[I8,Zs]=Gk(uv),qk=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,h=w.useRef(null),p=w.useRef(null),[g,x]=Ai({prop:r,defaultProp:o??!1,onChange:c,caller:uv});return i.jsx(I8,{scope:e,triggerRef:h,contentRef:p,contentId:xs(),titleId:xs(),descriptionId:xs(),open:g,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(y=>!y),[x]),modal:u,children:t})};qk.displayName=uv;var Kk="DialogTrigger",O8=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Zs(Kk,t),c=It(e,o.triggerRef);return i.jsx(ot.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Fy(o.open),...r,ref:c,onClick:Ve(n.onClick,o.onOpenToggle)})});O8.displayName=Kk;var Ly="DialogPortal",[M8,Yk]=Gk(Ly,{forceMount:void 0}),Jk=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,c=Zs(Ly,e);return i.jsx(M8,{scope:e,forceMount:t,children:w.Children.map(r,u=>i.jsx(Fo,{present:t||c.open,children:i.jsx(Yg,{asChild:!0,container:o,children:u})}))})};Jk.displayName=Ly;var Pg="DialogOverlay",Xk=w.forwardRef((n,e)=>{const t=Yk(Pg,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=Zs(Pg,n.__scopeDialog);return c.modal?i.jsx(Fo,{present:r||c.open,children:i.jsx(L8,{...o,ref:e})}):null});Xk.displayName=Pg;var D8=Yl("DialogOverlay.RemoveScroll"),L8=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Zs(Pg,t);return i.jsx(Xg,{as:D8,allowPinchZoom:!0,shards:[o.contentRef],children:i.jsx(ot.div,{"data-state":Fy(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),sc="DialogContent",Qk=w.forwardRef((n,e)=>{const t=Yk(sc,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=Zs(sc,n.__scopeDialog);return i.jsx(Fo,{present:r||c.open,children:c.modal?i.jsx($8,{...o,ref:e}):i.jsx(F8,{...o,ref:e})})});Qk.displayName=sc;var $8=w.forwardRef((n,e)=>{const t=Zs(sc,n.__scopeDialog),r=w.useRef(null),o=It(e,t.contentRef,r);return w.useEffect(()=>{const c=r.current;if(c)return xy(c)},[]),i.jsx(Zk,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ve(n.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ve(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:Ve(n.onFocusOutside,c=>c.preventDefault())})}),F8=w.forwardRef((n,e)=>{const t=Zs(sc,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return i.jsx(Zk,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,c),c.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),c.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:c=>{var p,g;(p=n.onInteractOutside)==null||p.call(n,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;((g=t.triggerRef.current)==null?void 0:g.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),Zk=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=n,h=Zs(sc,t),p=w.useRef(null),g=It(e,p);return ly(),i.jsxs(i.Fragment,{children:[i.jsx(Hg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:c,children:i.jsx(Wg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Fy(h.open),...u,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),i.jsxs(i.Fragment,{children:[i.jsx(z8,{titleId:h.titleId}),i.jsx(B8,{contentRef:p,descriptionId:h.descriptionId})]})]})}),$y="DialogTitle",eC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Zs($y,t);return i.jsx(ot.h2,{id:o.titleId,...r,ref:e})});eC.displayName=$y;var tC="DialogDescription",nC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Zs(tC,t);return i.jsx(ot.p,{id:o.descriptionId,...r,ref:e})});nC.displayName=tC;var rC="DialogClose",sC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Zs(rC,t);return i.jsx(ot.button,{type:"button",...r,ref:e,onClick:Ve(n.onClick,()=>o.onOpenChange(!1))})});sC.displayName=rC;function Fy(n){return n?"open":"closed"}var oC="DialogTitleWarning",[dU,iC]=JO(oC,{contentName:sc,titleName:$y,docsSlug:"dialog"}),z8=({titleId:n})=>{const e=iC(oC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},U8="DialogDescriptionWarning",B8=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${iC(U8).contentName}}.`;return w.useEffect(()=>{var c;const o=(c=n.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},W8=qk,H8=Jk,aC=Xk,lC=Qk,cC=eC,uC=nC,V8=sC;const zy=W8,G8=H8,dC=w.forwardRef(({className:n,...e},t)=>i.jsx(aC,{ref:t,className:Ue("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));dC.displayName=aC.displayName;const dv=w.forwardRef(({className:n,children:e,...t},r)=>i.jsxs(G8,{children:[i.jsx(dC,{}),i.jsxs(lC,{ref:r,className:Ue("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,i.jsxs(V8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[i.jsx(ay,{className:"h-4 w-4"}),i.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));dv.displayName=lC.displayName;const fv=({className:n,...e})=>i.jsx("div",{className:Ue("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});fv.displayName="DialogHeader";const Uy=({className:n,...e})=>i.jsx("div",{className:Ue("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Uy.displayName="DialogFooter";const hv=w.forwardRef(({className:n,...e},t)=>i.jsx(cC,{ref:t,className:Ue("text-lg font-semibold leading-none tracking-tight",n),...e}));hv.displayName=cC.displayName;const By=w.forwardRef(({className:n,...e},t)=>i.jsx(uC,{ref:t,className:Ue("text-sm text-muted-foreground",n),...e}));By.displayName=uC.displayName;var pv="Collapsible",[q8,fC]=Ss(pv),[K8,Wy]=q8(pv),hC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:o,disabled:c,onOpenChange:u,...h}=n,[p,g]=Ai({prop:r,defaultProp:o??!1,onChange:u,caller:pv});return i.jsx(K8,{scope:t,disabled:c,contentId:xs(),open:p,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),children:i.jsx(ot.div,{"data-state":Vy(p),"data-disabled":c?"":void 0,...h,ref:e})})});hC.displayName=pv;var pC="CollapsibleTrigger",mC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,o=Wy(pC,t);return i.jsx(ot.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Vy(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ve(n.onClick,o.onOpenToggle)})});mC.displayName=pC;var Hy="CollapsibleContent",gC=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=Wy(Hy,n.__scopeCollapsible);return i.jsx(Fo,{present:t||o.open,children:({present:c})=>i.jsx(Y8,{...r,ref:e,present:c})})});gC.displayName=Hy;var Y8=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:o,...c}=n,u=Wy(Hy,t),[h,p]=w.useState(r),g=w.useRef(null),x=It(e,g),y=w.useRef(0),b=y.current,C=w.useRef(0),E=C.current,P=u.open||h,N=w.useRef(P),R=w.useRef(void 0);return w.useEffect(()=>{const k=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(k)},[]),yn(()=>{const k=g.current;if(k){R.current=R.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const T=k.getBoundingClientRect();y.current=T.height,C.current=T.width,N.current||(k.style.transitionDuration=R.current.transitionDuration,k.style.animationName=R.current.animationName),p(r)}},[u.open,r]),i.jsx(ot.div,{"data-state":Vy(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!P,...c,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...n.style},children:P&&o})});function Vy(n){return n?"open":"closed"}var J8=hC,X8=mC,Q8=gC,eo="Accordion",Z8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Gy,ez,tz]=$g(eo),[mv,fU]=Ss(eo,[tz,fC]),qy=fC(),vC=on.forwardRef((n,e)=>{const{type:t,...r}=n,o=r,c=r;return i.jsx(Gy.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?i.jsx(oz,{...c,ref:e}):i.jsx(sz,{...o,ref:e})})});vC.displayName=eo;var[xC,nz]=mv(eo),[yC,rz]=mv(eo,{collapsible:!1}),sz=on.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},collapsible:c=!1,...u}=n,[h,p]=Ai({prop:t,defaultProp:r??"",onChange:o,caller:eo});return i.jsx(xC,{scope:n.__scopeAccordion,value:on.useMemo(()=>h?[h]:[],[h]),onItemOpen:p,onItemClose:on.useCallback(()=>c&&p(""),[c,p]),children:i.jsx(yC,{scope:n.__scopeAccordion,collapsible:c,children:i.jsx(wC,{...u,ref:e})})})}),oz=on.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...c}=n,[u,h]=Ai({prop:t,defaultProp:r??[],onChange:o,caller:eo}),p=on.useCallback(x=>h((y=[])=>[...y,x]),[h]),g=on.useCallback(x=>h((y=[])=>y.filter(b=>b!==x)),[h]);return i.jsx(xC,{scope:n.__scopeAccordion,value:u,onItemOpen:p,onItemClose:g,children:i.jsx(yC,{scope:n.__scopeAccordion,collapsible:!0,children:i.jsx(wC,{...c,ref:e})})})}),[iz,gv]=mv(eo),wC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:o,orientation:c="vertical",...u}=n,h=on.useRef(null),p=It(h,e),g=ez(t),y=Vh(o)==="ltr",b=Ve(n.onKeyDown,C=>{var F;if(!Z8.includes(C.key))return;const E=C.target,P=g().filter(q=>{var X;return!((X=q.ref.current)!=null&&X.disabled)}),N=P.findIndex(q=>q.ref.current===E),R=P.length;if(N===-1)return;C.preventDefault();let k=N;const T=0,O=R-1,I=()=>{k=N+1,k>O&&(k=T)},L=()=>{k=N-1,k<T&&(k=O)};switch(C.key){case"Home":k=T;break;case"End":k=O;break;case"ArrowRight":c==="horizontal"&&(y?I():L());break;case"ArrowDown":c==="vertical"&&I();break;case"ArrowLeft":c==="horizontal"&&(y?L():I());break;case"ArrowUp":c==="vertical"&&L();break}const z=k%R;(F=P[z].ref.current)==null||F.focus()});return i.jsx(iz,{scope:t,disabled:r,direction:o,orientation:c,children:i.jsx(Gy.Slot,{scope:t,children:i.jsx(ot.div,{...u,"data-orientation":c,ref:p,onKeyDown:r?void 0:b})})})}),Rg="AccordionItem",[az,Ky]=mv(Rg),_C=on.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...o}=n,c=gv(Rg,t),u=nz(Rg,t),h=qy(t),p=xs(),g=r&&u.value.includes(r)||!1,x=c.disabled||n.disabled;return i.jsx(az,{scope:t,open:g,disabled:x,triggerId:p,children:i.jsx(J8,{"data-orientation":c.orientation,"data-state":CC(g),...h,...o,ref:e,disabled:x,open:g,onOpenChange:y=>{y?u.onItemOpen(r):u.onItemClose(r)}})})});_C.displayName=Rg;var bC="AccordionHeader",SC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=gv(eo,t),c=Ky(bC,t);return i.jsx(ot.h3,{"data-orientation":o.orientation,"data-state":CC(c.open),"data-disabled":c.disabled?"":void 0,...r,ref:e})});SC.displayName=bC;var H0="AccordionTrigger",jC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=gv(eo,t),c=Ky(H0,t),u=rz(H0,t),h=qy(t);return i.jsx(Gy.ItemSlot,{scope:t,children:i.jsx(X8,{"aria-disabled":c.open&&!u.collapsible||void 0,"data-orientation":o.orientation,id:c.triggerId,...h,...r,ref:e})})});jC.displayName=H0;var NC="AccordionContent",kC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=gv(eo,t),c=Ky(NC,t),u=qy(t);return i.jsx(Q8,{role:"region","aria-labelledby":c.triggerId,"data-orientation":o.orientation,...u,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});kC.displayName=NC;function CC(n){return n?"open":"closed"}var lz=vC,cz=_C,uz=SC,EC=jC,PC=kC;const dz=lz,RC=w.forwardRef(({className:n,...e},t)=>i.jsx(cz,{ref:t,className:Ue("border-b",n),...e}));RC.displayName="AccordionItem";const TC=w.forwardRef(({className:n,children:e,...t},r)=>i.jsx(uz,{className:"flex",children:i.jsxs(EC,{ref:r,className:Ue("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,i.jsx(oy,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));TC.displayName=EC.displayName;const AC=w.forwardRef(({className:n,children:e,...t},r)=>i.jsx(PC,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:i.jsx("div",{className:Ue("pb-4 pt-0",n),children:e})}));AC.displayName=PC.displayName;const $a=async n=>{try{const{data:e,error:t}=await n.throwOnError();return{data:e,error:null}}catch(e){return console.error("Ошибка запроса Supabase:",e),{data:null,error:e}}},vv=async()=>$a(Ee.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `)),Xh=async(n,e)=>{const t=We(n,"yyyy-MM-dd"),r=We(e,"yyyy-MM-dd");return console.log("🔍 getBookingsForRange: Загружаем бронирования для диапазона",{start:t,end:r}),$a(Ee.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `).lt("check_in",r).gt("check_out",t).order("created_at",{ascending:!1}))},Yy=async()=>$a(Ee.from("rooms").select("*").order("room_number",{ascending:!0})),Jy=async()=>$a(Ee.from("services").select("*")),fz=async n=>{var r;const{data:e,error:t}=await Ee.rpc("create_booking_with_guest",{guest_details:n.guest_details,room_id_arg:n.room_id,check_in_arg:n.check_in,check_out_arg:n.check_out,status_arg:n.status,source_arg:n.source,guests_count_arg:n.guests_count,notes_arg:n.notes,amount_paid_arg:n.amount_paid,accommodation_total_arg:n.accommodation_total,services_total_arg:n.services_total,total_amount_arg:n.total_amount});if(t)throw console.error("Ошибка при создании бронирования:",t),t;if(console.log("📋 Результат создания бронирования:",e),e&&n.syncToChannex!==!1){const o=typeof e=="string"?e:e.id||e.booking_id||(Array.isArray(e)?(r=e[0])==null?void 0:r.id:null);console.log("🔄 Начинаем синхронизацию с Channex для booking ID:",o),setTimeout(async()=>{try{const{default:c}=await oc(async()=>{const{default:g}=await Promise.resolve().then(()=>DF);return{default:g}},void 0);if(!o){console.error("❌ Не удалось получить ID бронирования для синхронизации");return}const{data:u,error:h}=await Ee.from("bookings").select(`
            *,
            guests (*),
            rooms (*)
          `).eq("id",o).single();if(h){console.error("❌ Ошибка получения данных бронирования для синхронизации:",h);return}if(!u){console.error("❌ Данные бронирования не найдены для синхронизации");return}console.log("📤 Автоматическая синхронизация бронирования с Channex...",u);const p=await c.createBookingInChannex(u);console.log("✅ Бронирование успешно синхронизировано с Channex!",p)}catch(c){console.error("❌ Ошибка синхронизации с Channex:",c),console.error("❌ Детали ошибки синхронизации:",{booking_id:o,service:"channex",error_message:c.message,error_stack:c.stack,occurred_at:new Date().toISOString()})}},1e3)}return e},Xy=async(n,e)=>$a(Ee.from("bookings").update(e).eq("id",n).select()),hz=async(n,e)=>$a(Ee.from("guests").update(e).eq("id",n)),pz=async n=>{console.log("🗑️ Supabase: deleteBooking called with id:",n);const e=await $a(Ee.from("bookings").delete().eq("id",n));return e.error?console.error("❌ Supabase: deleteBooking failed:",e.error):console.log("✅ Supabase: deleteBooking successful for id:",n),e},mz=async(n,e)=>{try{console.log("🔄 Supabase: Adding services to booking",{bookingId:n,servicesCart:e});const{data:t,error:r}=await Ee.rpc("add_services_to_booking",{booking_id_arg:n,services_data:e});if(r){console.warn("⚠️ RPC failed, trying direct insert:",r.message);const o=e.map(h=>({booking_id:n,service_id:h.service_id,quantity:h.quantity,price_at_booking:h.price_at_booking})),{data:c,error:u}=await Ee.from("booking_services").insert(o).select();if(u)throw console.error("❌ Direct insert also failed:",u),u;return console.log("✅ Supabase: Services added via direct insert",c),{data:c,error:null}}return console.log("✅ Supabase: Services added via RPC successfully",t),{data:t,error:null}}catch(t){return console.error("❌ Error in addServicesToBooking:",t),{data:null,error:t}}},gz=async n=>{try{console.log("🔄 Supabase: Removing service from booking",n);const e=await $a(Ee.from("booking_services").delete().eq("id",n));return console.log("✅ Supabase: Service removed successfully"),e}catch(e){return console.error("❌ Error in removeServiceFromBooking:",e),{data:null,error:e}}},vz=async(n,e)=>{try{console.log("🔄 Supabase: Saving daily report",{reportDate:n,reportData:e});const{data:t,error:r}=await Ee.from("daily_reports").select("*").eq("report_date",n).single(),o={report_date:n,income_data:e.manual.income,expenses_data:e.manual.expenses,auto_data:e.auto,updated_at:new Date().toISOString()};if(t&&!r){const{data:c,error:u}=await Ee.from("daily_reports").update(o).eq("id",t.id).select().single();if(u)throw u;return await Lb(t.id,t,o,"update"),console.log("✅ Daily report updated successfully"),{data:c,error:null}}else{o.created_at=new Date().toISOString();const{data:c,error:u}=await Ee.from("daily_reports").insert(o).select().single();if(u)throw u;return await Lb(c.id,null,o,"create"),console.log("✅ Daily report created successfully"),{data:c,error:null}}}catch(t){return console.error("❌ Error saving daily report:",t),{data:null,error:t}}},xz=async n=>{try{const{data:e,error:t}=await Ee.from("daily_reports").select("*").eq("report_date",n).single();if(t&&t.code!=="PGRST116")throw t;return{data:e||null,error:null}}catch(e){return console.error("❌ Error getting daily report:",e),{data:null,error:e}}},Lb=async(n,e,t,r)=>{try{const o={report_id:n,action:r,old_data:e,new_data:t,changed_at:new Date().toISOString()},{error:c}=await Ee.from("daily_reports_history").insert(o);if(c)throw c;console.log("✅ Report history saved")}catch(o){console.error("❌ Error saving report history:",o)}};var vh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var yz=vh.exports,$b;function wz(){return $b||($b=1,function(n,e){(function(){var t,r="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",g=500,x="__lodash_placeholder__",y=1,b=2,C=4,E=1,P=2,N=1,R=2,k=4,T=8,O=16,I=32,L=64,z=128,F=256,q=512,X=30,re="...",ae=800,pe=16,me=1,ke=2,ge=3,be=1/0,W=9007199254740991,K=17976931348623157e292,ne=NaN,B=4294967295,U=B-1,V=B>>>1,oe=[["ary",z],["bind",N],["bindKey",R],["curry",T],["curryRight",O],["flip",q],["partial",I],["partialRight",L],["rearg",F]],ue="[object Arguments]",he="[object Array]",te="[object AsyncFunction]",fe="[object Boolean]",je="[object Date]",Ce="[object DOMException]",He="[object Error]",Le="[object Function]",tt="[object GeneratorFunction]",vt="[object Map]",mn="[object Number]",or="[object Null]",Yt="[object Object]",en="[object Promise]",Mr="[object Proxy]",Dr="[object RegExp]",qt="[object Set]",es="[object String]",Bo="[object Symbol]",Qh="[object Undefined]",Li="[object WeakMap]",Zh="[object WeakSet]",Wo="[object ArrayBuffer]",js="[object DataView]",uc="[object Float32Array]",Ho="[object Float64Array]",Vo="[object Int8Array]",kd="[object Int16Array]",dc="[object Int32Array]",fc="[object Uint8Array]",Cd="[object Uint8ClampedArray]",Fa="[object Uint16Array]",za="[object Uint32Array]",Ed=/\b__p \+= '';/g,Pd=/\b(__p \+=) '' \+/g,Rd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Go=/&(?:amp|lt|gt|quot|#39);/g,qo=/[&<>"']/g,ep=RegExp(Go.source),tp=RegExp(qo.source),np=/<%-([\s\S]+?)%>/g,rp=/<%([\s\S]+?)%>/g,Td=/<%=([\s\S]+?)%>/g,Ad=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,sp=/^\w*$/,Ua=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ba=/[\\^$.*+?()[\]{}|]/g,Wa=RegExp(Ba.source),Id=/^\s+/,Ha=/\s/,hc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,pc=/\{\n\/\* \[wrapped with (.+)\] \*/,Od=/,? & /,xv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yv=/[()=,{}\[\]\/\s]/,wv=/\\(\\)?/g,Ko=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Md=/\w*$/,op=/^[-+]0x[0-9a-f]+$/i,_v=/^0b[01]+$/i,ip=/^\[object .+?Constructor\]$/,ap=/^0o[0-7]+$/i,lp=/^(?:0|[1-9]\d*)$/,cp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,mc=/($^)/,bv=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Sv="\\u0300-\\u036f",Dd="\\ufe20-\\ufe2f",up="\\u20d0-\\u20ff",Va=Sv+Dd+up,dp="\\u2700-\\u27bf",Ld="a-z\\xdf-\\xf6\\xf8-\\xff",gc="\\xac\\xb1\\xd7\\xf7",ts="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",jv="\\u2000-\\u206f",Lr=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fp="A-Z\\xc0-\\xd6\\xd8-\\xde",hp="\\ufe0e\\ufe0f",pp=gc+ts+jv+Lr,$i="['’]",vc="["+zt+"]",Fi="["+pp+"]",Yo="["+Va+"]",mp="\\d+",Nv="["+dp+"]",xc="["+Ld+"]",$d="[^"+zt+pp+mp+dp+Ld+fp+"]",Ga="\\ud83c[\\udffb-\\udfff]",qa="(?:"+Yo+"|"+Ga+")",gp="[^"+zt+"]",Ka="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Jo="["+fp+"]",Fd="\\u200d",yc="(?:"+xc+"|"+$d+")",vp="(?:"+Jo+"|"+$d+")",zd="(?:"+$i+"(?:d|ll|m|re|s|t|ve))?",Ud="(?:"+$i+"(?:D|LL|M|RE|S|T|VE))?",wc=qa+"?",Ya="["+hp+"]?",to="(?:"+Fd+"(?:"+[gp,Ka,Ct].join("|")+")"+Ya+wc+")*",no="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ro="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",zi=Ya+wc+to,Ja="(?:"+[Nv,Ka,Ct].join("|")+")"+zi,so="(?:"+[gp+Yo+"?",Yo,Ka,Ct,vc].join("|")+")",kv=RegExp($i,"g"),xp=RegExp(Yo,"g"),Xo=RegExp(Ga+"(?="+Ga+")|"+so+zi,"g"),Cv=RegExp([Jo+"?"+xc+"+"+zd+"(?="+[Fi,Jo,"$"].join("|")+")",vp+"+"+Ud+"(?="+[Fi,Jo+yc,"$"].join("|")+")",Jo+"?"+yc+"+"+zd,Jo+"+"+Ud,ro,no,mp,Ja].join("|"),"g"),yp=RegExp("["+Fd+zt+Va+hp+"]"),_c=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,wp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Ev=-1,Pt={};Pt[uc]=Pt[Ho]=Pt[Vo]=Pt[kd]=Pt[dc]=Pt[fc]=Pt[Cd]=Pt[Fa]=Pt[za]=!0,Pt[ue]=Pt[he]=Pt[Wo]=Pt[fe]=Pt[js]=Pt[je]=Pt[He]=Pt[Le]=Pt[vt]=Pt[mn]=Pt[Yt]=Pt[Dr]=Pt[qt]=Pt[es]=Pt[Li]=!1;var Et={};Et[ue]=Et[he]=Et[Wo]=Et[js]=Et[fe]=Et[je]=Et[uc]=Et[Ho]=Et[Vo]=Et[kd]=Et[dc]=Et[vt]=Et[mn]=Et[Yt]=Et[Dr]=Et[qt]=Et[es]=Et[Bo]=Et[fc]=Et[Cd]=Et[Fa]=Et[za]=!0,Et[He]=Et[Le]=Et[Li]=!1;var Ui={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},bc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Pv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Rv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Bd=parseFloat,Sc=parseInt,jc=typeof Im=="object"&&Im&&Im.Object===Object&&Im,_p=typeof self=="object"&&self&&self.Object===Object&&self,Ut=jc||_p||Function("return this")(),Xa=e&&!e.nodeType&&e,ns=Xa&&!0&&n&&!n.nodeType&&n,Wd=ns&&ns.exports===Xa,Bi=Wd&&jc.process,$n=function(){try{var Z=ns&&ns.require&&ns.require("util").types;return Z||Bi&&Bi.binding&&Bi.binding("util")}catch{}}(),Hd=$n&&$n.isArrayBuffer,Yn=$n&&$n.isDate,Qo=$n&&$n.isMap,Nc=$n&&$n.isRegExp,Wi=$n&&$n.isSet,bp=$n&&$n.isTypedArray;function Fn(Z,de,le){switch(le.length){case 0:return Z.call(de);case 1:return Z.call(de,le[0]);case 2:return Z.call(de,le[0],le[1]);case 3:return Z.call(de,le[0],le[1],le[2])}return Z.apply(de,le)}function Vd(Z,de,le,Te){for(var it=-1,jt=Z==null?0:Z.length;++it<jt;){var tn=Z[it];de(Te,tn,le(tn),Z)}return Te}function Cn(Z,de){for(var le=-1,Te=Z==null?0:Z.length;++le<Te&&de(Z[le],le,Z)!==!1;);return Z}function kc(Z,de){for(var le=Z==null?0:Z.length;le--&&de(Z[le],le,Z)!==!1;);return Z}function Gd(Z,de){for(var le=-1,Te=Z==null?0:Z.length;++le<Te;)if(!de(Z[le],le,Z))return!1;return!0}function oo(Z,de){for(var le=-1,Te=Z==null?0:Z.length,it=0,jt=[];++le<Te;){var tn=Z[le];de(tn,le,Z)&&(jt[it++]=tn)}return jt}function Cc(Z,de){var le=Z==null?0:Z.length;return!!le&&Hi(Z,de,0)>-1}function qd(Z,de,le){for(var Te=-1,it=Z==null?0:Z.length;++Te<it;)if(le(de,Z[Te]))return!0;return!1}function Ot(Z,de){for(var le=-1,Te=Z==null?0:Z.length,it=Array(Te);++le<Te;)it[le]=de(Z[le],le,Z);return it}function io(Z,de){for(var le=-1,Te=de.length,it=Z.length;++le<Te;)Z[it+le]=de[le];return Z}function Kd(Z,de,le,Te){var it=-1,jt=Z==null?0:Z.length;for(Te&&jt&&(le=Z[++it]);++it<jt;)le=de(le,Z[it],it,Z);return le}function Tv(Z,de,le,Te){var it=Z==null?0:Z.length;for(Te&&it&&(le=Z[--it]);it--;)le=de(le,Z[it],it,Z);return le}function Yd(Z,de){for(var le=-1,Te=Z==null?0:Z.length;++le<Te;)if(de(Z[le],le,Z))return!0;return!1}var Av=Xd("length");function Sp(Z){return Z.split("")}function Iv(Z){return Z.match(xv)||[]}function jp(Z,de,le){var Te;return le(Z,function(it,jt,tn){if(de(it,jt,tn))return Te=jt,!1}),Te}function Ec(Z,de,le,Te){for(var it=Z.length,jt=le+(Te?1:-1);Te?jt--:++jt<it;)if(de(Z[jt],jt,Z))return jt;return-1}function Hi(Z,de,le){return de===de?Tc(Z,de,le):Ec(Z,Np,le)}function Jd(Z,de,le,Te){for(var it=le-1,jt=Z.length;++it<jt;)if(Te(Z[it],de))return it;return-1}function Np(Z){return Z!==Z}function kp(Z,de){var le=Z==null?0:Z.length;return le?Qd(Z,de)/le:ne}function Xd(Z){return function(de){return de==null?t:de[Z]}}function Pc(Z){return function(de){return Z==null?t:Z[de]}}function Cp(Z,de,le,Te,it){return it(Z,function(jt,tn,Rt){le=Te?(Te=!1,jt):de(le,jt,tn,Rt)}),le}function Ov(Z,de){var le=Z.length;for(Z.sort(de);le--;)Z[le]=Z[le].value;return Z}function Qd(Z,de){for(var le,Te=-1,it=Z.length;++Te<it;){var jt=de(Z[Te]);jt!==t&&(le=le===t?jt:le+jt)}return le}function Zd(Z,de){for(var le=-1,Te=Array(Z);++le<Z;)Te[le]=de(le);return Te}function Mv(Z,de){return Ot(de,function(le){return[le,Z[le]]})}function Ep(Z){return Z&&Z.slice(0,Ac(Z)+1).replace(Id,"")}function ir(Z){return function(de){return Z(de)}}function Qa(Z,de){return Ot(de,function(le){return Z[le]})}function Ns(Z,de){return Z.has(de)}function Pp(Z,de){for(var le=-1,Te=Z.length;++le<Te&&Hi(de,Z[le],0)>-1;);return le}function ef(Z,de){for(var le=Z.length;le--&&Hi(de,Z[le],0)>-1;);return le}function Rp(Z,de){for(var le=Z.length,Te=0;le--;)Z[le]===de&&++Te;return Te}var Tp=Pc(Ui),Ap=Pc(bc);function Ip(Z){return"\\"+Rv[Z]}function Vi(Z,de){return Z==null?t:Z[de]}function Gi(Z){return yp.test(Z)}function Dv(Z){return _c.test(Z)}function Lv(Z){for(var de,le=[];!(de=Z.next()).done;)le.push(de.value);return le}function Rc(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Te,it){le[++de]=[it,Te]}),le}function tf(Z,de){return function(le){return Z(de(le))}}function xr(Z,de){for(var le=-1,Te=Z.length,it=0,jt=[];++le<Te;){var tn=Z[le];(tn===de||tn===x)&&(Z[le]=x,jt[it++]=le)}return jt}function ao(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Te){le[++de]=Te}),le}function $v(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Te){le[++de]=[Te,Te]}),le}function Tc(Z,de,le){for(var Te=le-1,it=Z.length;++Te<it;)if(Z[Te]===de)return Te;return-1}function Fv(Z,de,le){for(var Te=le+1;Te--;)if(Z[Te]===de)return Te;return Te}function Zo(Z){return Gi(Z)?Mp(Z):Av(Z)}function ar(Z){return Gi(Z)?Dp(Z):Sp(Z)}function Ac(Z){for(var de=Z.length;de--&&Ha.test(Z.charAt(de)););return de}var Op=Pc(Pv);function Mp(Z){for(var de=Xo.lastIndex=0;Xo.test(Z);)++de;return de}function Dp(Z){return Z.match(Xo)||[]}function zv(Z){return Z.match(Cv)||[]}var Uv=function Z(de){de=de==null?Ut:qi.defaults(Ut.Object(),de,qi.pick(Ut,wp));var le=de.Array,Te=de.Date,it=de.Error,jt=de.Function,tn=de.Math,Rt=de.Object,Za=de.RegExp,Bv=de.String,yr=de.TypeError,ks=le.prototype,nf=jt.prototype,rs=Rt.prototype,Ki=de["__core-js_shared__"],el=nf.toString,Nt=rs.hasOwnProperty,Yi=0,Ic=function(){var l=/[^.]+$/.exec(Ki&&Ki.keys&&Ki.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),tl=rs.toString,Oc=el.call(Rt),Lp=Ut._,$p=Za("^"+el.call(Nt).replace(Ba,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nl=Wd?de.Buffer:t,Cs=de.Symbol,rl=de.Uint8Array,rf=nl?nl.allocUnsafe:t,$r=tf(Rt.getPrototypeOf,Rt),Mc=Rt.create,Dc=rs.propertyIsEnumerable,Lc=ks.splice,Fp=Cs?Cs.isConcatSpreadable:t,Es=Cs?Cs.iterator:t,ei=Cs?Cs.toStringTag:t,sl=function(){try{var l=yo(Rt,"defineProperty");return l({},"",{}),l}catch{}}(),zp=de.clearTimeout!==Ut.clearTimeout&&de.clearTimeout,Dt=Te&&Te.now!==Ut.Date.now&&Te.now,sf=de.setTimeout!==Ut.setTimeout&&de.setTimeout,ti=tn.ceil,lo=tn.floor,$c=Rt.getOwnPropertySymbols,of=nl?nl.isBuffer:t,Ji=de.isFinite,Fc=ks.join,Xi=tf(Rt.keys,Rt),nn=tn.max,En=tn.min,Wv=Te.now,Up=de.parseInt,ol=tn.random,zc=ks.reverse,il=yo(de,"DataView"),ni=yo(de,"Map"),al=yo(de,"Promise"),co=yo(de,"Set"),ll=yo(de,"WeakMap"),Qi=yo(Rt,"create"),Uc=ll&&new ll,Zi={},af=wo(il),uo=wo(ni),Bp=wo(al),ea=wo(co),ss=wo(ll),fo=Cs?Cs.prototype:t,lr=fo?fo.valueOf:t,Bc=fo?fo.toString:t;function D(l){if(sn(l)&&!ut(l)&&!(l instanceof ct)){if(l instanceof Pn)return l;if(Nt.call(l,"__wrapped__"))return gm(l)}return new Pn(l)}var ta=function(){function l(){}return function(d){if(!Qt(d))return{};if(Mc)return Mc(d);l.prototype=d;var v=new l;return l.prototype=t,v}}();function os(){}function Pn(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}D.templateSettings={escape:np,evaluate:rp,interpolate:Td,variable:"",imports:{_:D}},D.prototype=os.prototype,D.prototype.constructor=D,Pn.prototype=ta(os.prototype),Pn.prototype.constructor=Pn;function ct(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Wc(){var l=new ct(this.__wrapped__);return l.__actions__=Un(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Un(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Un(this.__views__),l}function lf(){if(this.__filtered__){var l=new ct(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function na(){var l=this.__wrapped__.value(),d=this.__dir__,v=ut(l),j=d<0,A=v?l.length:0,$=Df(0,A,this.__views__),G=$.start,J=$.end,ee=J-G,ve=j?J:G-1,xe=this.__iteratees__,_e=xe.length,Re=0,Ge=En(ee,this.__takeCount__);if(!v||!j&&A==ee&&Ge==ee)return ua(l,this.__actions__);var rt=[];e:for(;ee--&&Re<Ge;){ve+=d;for(var pt=-1,st=l[ve];++pt<_e;){var yt=xe[pt],St=yt.iteratee,Kr=yt.type,hr=St(st);if(Kr==ke)st=hr;else if(!hr){if(Kr==me)continue e;break e}}rt[Re++]=st}return rt}ct.prototype=ta(os.prototype),ct.prototype.constructor=ct;function Jn(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function Lt(){this.__data__=Qi?Qi(null):{},this.size=0}function Mt(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function ho(l){var d=this.__data__;if(Qi){var v=d[l];return v===p?t:v}return Nt.call(d,l)?d[l]:t}function Rn(l){var d=this.__data__;return Qi?d[l]!==t:Nt.call(d,l)}function Xn(l,d){var v=this.__data__;return this.size+=this.has(l)?0:1,v[l]=Qi&&d===t?p:d,this}Jn.prototype.clear=Lt,Jn.prototype.delete=Mt,Jn.prototype.get=ho,Jn.prototype.has=Rn,Jn.prototype.set=Xn;function zn(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function ra(){this.__data__=[],this.size=0}function Qn(l){var d=this.__data__,v=An(d,l);if(v<0)return!1;var j=d.length-1;return v==j?d.pop():Lc.call(d,v,1),--this.size,!0}function Hc(l){var d=this.__data__,v=An(d,l);return v<0?t:d[v][1]}function Wp(l){return An(this.__data__,l)>-1}function Hp(l,d){var v=this.__data__,j=An(v,l);return j<0?(++this.size,v.push([l,d])):v[j][1]=d,this}zn.prototype.clear=ra,zn.prototype.delete=Qn,zn.prototype.get=Hc,zn.prototype.has=Wp,zn.prototype.set=Hp;function wr(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function Vp(){this.size=0,this.__data__={hash:new Jn,map:new(ni||zn),string:new Jn}}function Ps(l){var d=jl(this,l).delete(l);return this.size-=d?1:0,d}function Vc(l){return jl(this,l).get(l)}function cf(l){return jl(this,l).has(l)}function Gp(l,d){var v=jl(this,l),j=v.size;return v.set(l,d),this.size+=v.size==j?0:1,this}wr.prototype.clear=Vp,wr.prototype.delete=Ps,wr.prototype.get=Vc,wr.prototype.has=cf,wr.prototype.set=Gp;function ri(l){var d=-1,v=l==null?0:l.length;for(this.__data__=new wr;++d<v;)this.add(l[d])}function po(l){return this.__data__.set(l,p),this}function sa(l){return this.__data__.has(l)}ri.prototype.add=ri.prototype.push=po,ri.prototype.has=sa;function Tn(l){var d=this.__data__=new zn(l);this.size=d.size}function Gc(){this.__data__=new zn,this.size=0}function qc(l){var d=this.__data__,v=d.delete(l);return this.size=d.size,v}function _r(l){return this.__data__.get(l)}function br(l){return this.__data__.has(l)}function si(l,d){var v=this.__data__;if(v instanceof zn){var j=v.__data__;if(!ni||j.length<o-1)return j.push([l,d]),this.size=++v.size,this;v=this.__data__=new wr(j)}return v.set(l,d),this.size=v.size,this}Tn.prototype.clear=Gc,Tn.prototype.delete=qc,Tn.prototype.get=_r,Tn.prototype.has=br,Tn.prototype.set=si;function is(l,d){var v=ut(l),j=!v&&Dl(l),A=!v&&!j&&wa(l),$=!v&&!j&&!A&&Du(l),G=v||j||A||$,J=G?Zd(l.length,Bv):[],ee=J.length;for(var ve in l)(d||Nt.call(l,ve))&&!(G&&(ve=="length"||A&&(ve=="offset"||ve=="parent")||$&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Wt(ve,ee)))&&J.push(ve);return J}function as(l){var d=l.length;return d?l[la(0,d-1)]:t}function oi(l,d){return yu(Un(l),Rs(d,0,l.length))}function qp(l){return yu(Un(l))}function cl(l,d,v){(v!==t&&!zs(l[d],v)||v===t&&!(d in l))&&ls(l,d,v)}function ii(l,d,v){var j=l[d];(!(Nt.call(l,d)&&zs(j,v))||v===t&&!(d in l))&&ls(l,d,v)}function An(l,d){for(var v=l.length;v--;)if(zs(l[v][0],d))return v;return-1}function cr(l,d,v,j){return us(l,function(A,$,G){d(j,A,v(A),G)}),j}function $t(l,d){return l&&zr(d,Mn(d),l)}function Fr(l,d){return l&&zr(d,Tr(d),l)}function ls(l,d,v){d=="__proto__"&&sl?sl(l,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):l[d]=v}function Kc(l,d){for(var v=-1,j=d.length,A=le(j),$=l==null;++v<j;)A[v]=$?t:hx(l,d[v]);return A}function Rs(l,d,v){return l===l&&(v!==t&&(l=l<=v?l:v),d!==t&&(l=l>=d?l:d)),l}function Zn(l,d,v,j,A,$){var G,J=d&y,ee=d&b,ve=d&C;if(v&&(G=A?v(l,j,A,$):v(l)),G!==t)return G;if(!Qt(l))return l;var xe=ut(l);if(xe){if(G=kl(l),!J)return Un(l,G)}else{var _e=bn(l),Re=_e==Le||_e==tt;if(wa(l))return jf(l,J);if(_e==Yt||_e==ue||Re&&!A){if(G=ee||Re?{}:Sn(l),!J)return ee?Vv(l,Fr(G,l)):au(l,$t(G,l))}else{if(!Et[_e])return A?l:{};G=Gv(l,_e,J)}}$||($=new Tn);var Ge=$.get(l);if(Ge)return Ge;$.set(l,G),sw(l)?l.forEach(function(st){G.add(Zn(st,d,v,st,l,$))}):nw(l)&&l.forEach(function(st,yt){G.set(yt,Zn(st,d,v,yt,l,$))});var rt=ve?ee?Sl:bl:ee?Tr:Mn,pt=xe?t:rt(l);return Cn(pt||l,function(st,yt){pt&&(yt=st,st=l[yt]),ii(G,yt,Zn(st,d,v,yt,l,$))}),G}function Kp(l){var d=Mn(l);return function(v){return ul(v,l,d)}}function ul(l,d,v){var j=v.length;if(l==null)return!j;for(l=Rt(l);j--;){var A=v[j],$=d[A],G=l[A];if(G===t&&!(A in l)||!$(G))return!1}return!0}function uf(l,d,v){if(typeof l!="function")throw new yr(u);return va(function(){l.apply(t,v)},d)}function cs(l,d,v,j){var A=-1,$=Cc,G=!0,J=l.length,ee=[],ve=d.length;if(!J)return ee;v&&(d=Ot(d,ir(v))),j?($=qd,G=!1):d.length>=o&&($=Ns,G=!1,d=new ri(d));e:for(;++A<J;){var xe=l[A],_e=v==null?xe:v(xe);if(xe=j||xe!==0?xe:0,G&&_e===_e){for(var Re=ve;Re--;)if(d[Re]===_e)continue e;ee.push(xe)}else $(d,_e,j)||ee.push(xe)}return ee}var us=Cr(ur),Yp=Cr(mo,!0);function dl(l,d){var v=!0;return us(l,function(j,A,$){return v=!!d(j,A,$),v}),v}function ai(l,d,v){for(var j=-1,A=l.length;++j<A;){var $=l[j],G=d($);if(G!=null&&(J===t?G===G&&!qr(G):v(G,J)))var J=G,ee=$}return ee}function Jp(l,d,v,j){var A=l.length;for(v=ht(v),v<0&&(v=-v>A?0:A+v),j=j===t||j>A?A:ht(j),j<0&&(j+=A),j=v>j?0:iw(j);v<j;)l[v++]=d;return l}function df(l,d){var v=[];return us(l,function(j,A,$){d(j,A,$)&&v.push(j)}),v}function Kt(l,d,v,j,A){var $=-1,G=l.length;for(v||(v=gu),A||(A=[]);++$<G;){var J=l[$];d>0&&v(J)?d>1?Kt(J,d-1,v,j,A):io(A,J):j||(A[A.length]=J)}return A}var Yc=cu(),fl=cu(!0);function ur(l,d){return l&&Yc(l,d,Mn)}function mo(l,d){return l&&fl(l,d,Mn)}function oa(l,d){return oo(d,function(v){return wi(l[v])})}function Ts(l,d){d=hs(d,l);for(var v=0,j=d.length;l!=null&&v<j;)l=l[Hr(d[v++])];return v&&v==j?l:t}function Jc(l,d,v){var j=d(l);return ut(l)?j:io(j,v(l))}function wn(l){return l==null?l===t?Qh:or:ei&&ei in Rt(l)?mu(l):$f(l)}function go(l,d){return l>d}function Sr(l,d){return l!=null&&Nt.call(l,d)}function li(l,d){return l!=null&&d in Rt(l)}function ff(l,d,v){return l>=En(d,v)&&l<nn(d,v)}function Xc(l,d,v){for(var j=v?qd:Cc,A=l[0].length,$=l.length,G=$,J=le($),ee=1/0,ve=[];G--;){var xe=l[G];G&&d&&(xe=Ot(xe,ir(d))),ee=En(xe.length,ee),J[G]=!v&&(d||A>=120&&xe.length>=120)?new ri(G&&xe):t}xe=l[0];var _e=-1,Re=J[0];e:for(;++_e<A&&ve.length<ee;){var Ge=xe[_e],rt=d?d(Ge):Ge;if(Ge=v||Ge!==0?Ge:0,!(Re?Ns(Re,rt):j(ve,rt,v))){for(G=$;--G;){var pt=J[G];if(!(pt?Ns(pt,rt):j(l[G],rt,v)))continue e}Re&&Re.push(rt),ve.push(Ge)}}return ve}function As(l,d,v,j){return ur(l,function(A,$,G){d(j,v(A),$,G)}),j}function jr(l,d,v){d=hs(d,l),l=gn(l,d);var j=l==null?l:l[Hr(Hn(d))];return j==null?t:Fn(j,l,v)}function Qc(l){return sn(l)&&wn(l)==ue}function Xp(l){return sn(l)&&wn(l)==Wo}function Is(l){return sn(l)&&wn(l)==je}function Nr(l,d,v,j,A){return l===d?!0:l==null||d==null||!sn(l)&&!sn(d)?l!==l&&d!==d:Zc(l,d,v,j,Nr,A)}function Zc(l,d,v,j,A,$){var G=ut(l),J=ut(d),ee=G?he:bn(l),ve=J?he:bn(d);ee=ee==ue?Yt:ee,ve=ve==ue?Yt:ve;var xe=ee==Yt,_e=ve==Yt,Re=ee==ve;if(Re&&wa(l)){if(!wa(d))return!1;G=!0,xe=!1}if(Re&&!xe)return $||($=new Tn),G||Du(l)?Of(l,d,v,j,A,$):Mf(l,d,ee,v,j,A,$);if(!(v&E)){var Ge=xe&&Nt.call(l,"__wrapped__"),rt=_e&&Nt.call(d,"__wrapped__");if(Ge||rt){var pt=Ge?l.value():l,st=rt?d.value():d;return $||($=new Tn),A(pt,st,v,j,$)}}return Re?($||($=new Tn),lm(l,d,v,j,A,$)):!1}function Qp(l){return sn(l)&&bn(l)==vt}function ia(l,d,v,j){var A=v.length,$=A,G=!j;if(l==null)return!$;for(l=Rt(l);A--;){var J=v[A];if(G&&J[2]?J[1]!==l[J[0]]:!(J[0]in l))return!1}for(;++A<$;){J=v[A];var ee=J[0],ve=l[ee],xe=J[1];if(G&&J[2]){if(ve===t&&!(ee in l))return!1}else{var _e=new Tn;if(j)var Re=j(ve,xe,ee,l,d,_e);if(!(Re===t?Nr(xe,ve,E|P,j,_e):Re))return!1}}return!0}function hf(l){if(!Qt(l)||dm(l))return!1;var d=wi(l)?$p:ip;return d.test(wo(l))}function hl(l){return sn(l)&&wn(l)==Dr}function ds(l){return sn(l)&&bn(l)==qt}function pl(l){return sn(l)&&Rm(l.length)&&!!Pt[wn(l)]}function aa(l){return typeof l=="function"?l:l==null?Ar:typeof l=="object"?ut(l)?Bt(l[0],l[1]):eu(l):vw(l)}function Os(l){if(!$s(l))return Xi(l);var d=[];for(var v in Rt(l))Nt.call(l,v)&&v!="constructor"&&d.push(v);return d}function pf(l){if(!Qt(l))return pm(l);var d=$s(l),v=[];for(var j in l)j=="constructor"&&(d||!Nt.call(l,j))||v.push(j);return v}function vo(l,d){return l<d}function mf(l,d){var v=-1,j=Rr(l)?le(l.length):[];return us(l,function(A,$,G){j[++v]=d(A,$,G)}),j}function eu(l){var d=Nl(l);return d.length==1&&d[0][2]?vu(d[0][0],d[0][1]):function(v){return v===l||ia(v,l,d)}}function Bt(l,d){return Oe(l)&&El(d)?vu(Hr(l),d):function(v){var j=hx(v,l);return j===t&&j===d?px(v,l):Nr(d,j,E|P)}}function ci(l,d,v,j,A){l!==d&&Yc(d,function($,G){if(A||(A=new Tn),Qt($))gf(l,d,G,v,ci,j,A);else{var J=j?j(gs(l,G),$,G+"",l,d,A):t;J===t&&(J=$),cl(l,G,J)}},Tr)}function gf(l,d,v,j,A,$,G){var J=gs(l,v),ee=gs(d,v),ve=G.get(ee);if(ve){cl(l,v,ve);return}var xe=$?$(J,ee,v+"",l,d,G):t,_e=xe===t;if(_e){var Re=ut(ee),Ge=!Re&&wa(ee),rt=!Re&&!Ge&&Du(ee);xe=ee,Re||Ge||rt?ut(J)?xe=J:un(J)?xe=Un(J):Ge?(_e=!1,xe=jf(ee,!0)):rt?(_e=!1,xe=rm(ee,!0)):xe=[]:nh(ee)||Dl(ee)?(xe=J,Dl(J)?xe=aw(J):(!Qt(J)||wi(J))&&(xe=Sn(ee))):_e=!1}_e&&(G.set(ee,xe),A(xe,ee,j,$,G),G.delete(ee)),cl(l,v,xe)}function tu(l,d){var v=l.length;if(v)return d+=d<0?v:0,Wt(d,v)?l[d]:t}function ml(l,d,v){d.length?d=Ot(d,function($){return ut($)?function(G){return Ts(G,$.length===1?$[0]:$)}:$}):d=[Ar];var j=-1;d=Ot(d,ir(Ze()));var A=mf(l,function($,G,J){var ee=Ot(d,function(ve){return ve($)});return{criteria:ee,index:++j,value:$}});return Ov(A,function($,G){return Hv($,G,v)})}function vf(l,d){return xo(l,d,function(v,j){return px(l,j)})}function xo(l,d,v){for(var j=-1,A=d.length,$={};++j<A;){var G=d[j],J=Ts(l,G);v(J,G)&&di($,hs(G,l),J)}return $}function Vt(l){return function(d){return Ts(d,l)}}function Jt(l,d,v,j){var A=j?Jd:Hi,$=-1,G=d.length,J=l;for(l===d&&(d=Un(d)),v&&(J=Ot(l,ir(v)));++$<G;)for(var ee=0,ve=d[$],xe=v?v(ve):ve;(ee=A(J,xe,ee,j))>-1;)J!==l&&Lc.call(J,ee,1),Lc.call(l,ee,1);return l}function ln(l,d){for(var v=l?d.length:0,j=v-1;v--;){var A=d[v];if(v==j||A!==$){var $=A;Wt(A)?Lc.call(l,A,1):su(l,A)}}return l}function la(l,d){return l+lo(ol()*(d-l+1))}function gl(l,d,v,j){for(var A=-1,$=nn(ti((d-l)/(v||1)),0),G=le($);$--;)G[j?$:++A]=l,l+=v;return G}function ui(l,d){var v="";if(!l||d<1||d>W)return v;do d%2&&(v+=l),d=lo(d/2),d&&(l+=l);while(d);return v}function ft(l,d){return dr(xu(l,d,Ar),l+"")}function In(l){return as(Lu(l))}function xf(l,d){var v=Lu(l);return yu(v,Rs(d,0,v.length))}function di(l,d,v,j){if(!Qt(l))return l;d=hs(d,l);for(var A=-1,$=d.length,G=$-1,J=l;J!=null&&++A<$;){var ee=Hr(d[A]),ve=v;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return l;if(A!=G){var xe=J[ee];ve=j?j(xe,ee,J):t,ve===t&&(ve=Qt(xe)?xe:Wt(d[A+1])?[]:{})}ii(J,ee,ve),J=J[ee]}return l}var nu=Uc?function(l,d){return Uc.set(l,d),l}:Ar,fs=sl?function(l,d){return sl(l,"toString",{configurable:!0,enumerable:!1,value:gx(d),writable:!0})}:Ar;function kr(l){return yu(Lu(l))}function On(l,d,v){var j=-1,A=l.length;d<0&&(d=-d>A?0:A+d),v=v>A?A:v,v<0&&(v+=A),A=d>v?0:v-d>>>0,d>>>=0;for(var $=le(A);++j<A;)$[j]=l[j+d];return $}function yf(l,d){var v;return us(l,function(j,A,$){return v=d(j,A,$),!v}),!!v}function ca(l,d,v){var j=0,A=l==null?j:l.length;if(typeof d=="number"&&d===d&&A<=V){for(;j<A;){var $=j+A>>>1,G=l[$];G!==null&&!qr(G)&&(v?G<=d:G<d)?j=$+1:A=$}return A}return ru(l,d,Ar,v)}function ru(l,d,v,j){var A=0,$=l==null?0:l.length;if($===0)return 0;d=v(d);for(var G=d!==d,J=d===null,ee=qr(d),ve=d===t;A<$;){var xe=lo((A+$)/2),_e=v(l[xe]),Re=_e!==t,Ge=_e===null,rt=_e===_e,pt=qr(_e);if(G)var st=j||rt;else ve?st=rt&&(j||Re):J?st=rt&&Re&&(j||!Ge):ee?st=rt&&Re&&!Ge&&(j||!pt):Ge||pt?st=!1:st=j?_e<=d:_e<d;st?A=xe+1:$=xe}return En($,U)}function wf(l,d){for(var v=-1,j=l.length,A=0,$=[];++v<j;){var G=l[v],J=d?d(G):G;if(!v||!zs(J,ee)){var ee=J;$[A++]=G===0?0:G}}return $}function _f(l){return typeof l=="number"?l:qr(l)?ne:+l}function er(l){if(typeof l=="string")return l;if(ut(l))return Ot(l,er)+"";if(qr(l))return Bc?Bc.call(l):"";var d=l+"";return d=="0"&&1/l==-be?"-0":d}function Ms(l,d,v){var j=-1,A=Cc,$=l.length,G=!0,J=[],ee=J;if(v)G=!1,A=qd;else if($>=o){var ve=d?null:am(l);if(ve)return ao(ve);G=!1,A=Ns,ee=new ri}else ee=d?[]:J;e:for(;++j<$;){var xe=l[j],_e=d?d(xe):xe;if(xe=v||xe!==0?xe:0,G&&_e===_e){for(var Re=ee.length;Re--;)if(ee[Re]===_e)continue e;d&&ee.push(_e),J.push(xe)}else A(ee,_e,v)||(ee!==J&&ee.push(_e),J.push(xe))}return J}function su(l,d){return d=hs(d,l),l=gn(l,d),l==null||delete l[Hr(Hn(d))]}function bf(l,d,v,j){return di(l,d,v(Ts(l,d)),j)}function vl(l,d,v,j){for(var A=l.length,$=j?A:-1;(j?$--:++$<A)&&d(l[$],$,l););return v?On(l,j?0:$,j?$+1:A):On(l,j?$+1:0,j?A:$)}function ua(l,d){var v=l;return v instanceof ct&&(v=v.value()),Kd(d,function(j,A){return A.func.apply(A.thisArg,io([j],A.args))},v)}function ou(l,d,v){var j=l.length;if(j<2)return j?Ms(l[0]):[];for(var A=-1,$=le(j);++A<j;)for(var G=l[A],J=-1;++J<j;)J!=A&&($[A]=cs($[A]||G,l[J],d,v));return Ms(Kt($,1),d,v)}function xl(l,d,v){for(var j=-1,A=l.length,$=d.length,G={};++j<A;){var J=j<$?d[j]:t;v(G,l[j],J)}return G}function da(l){return un(l)?l:[]}function iu(l){return typeof l=="function"?l:Ar}function hs(l,d){return ut(l)?l:Oe(l,d)?[l]:Uf(Tt(l))}var Zp=ft;function Ds(l,d,v){var j=l.length;return v=v===t?j:v,!d&&v>=j?l:On(l,d,v)}var Sf=zp||function(l){return Ut.clearTimeout(l)};function jf(l,d){if(d)return l.slice();var v=l.length,j=rf?rf(v):new l.constructor(v);return l.copy(j),j}function yl(l){var d=new l.constructor(l.byteLength);return new rl(d).set(new rl(l)),d}function em(l,d){var v=d?yl(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.byteLength)}function tm(l){var d=new l.constructor(l.source,Md.exec(l));return d.lastIndex=l.lastIndex,d}function nm(l){return lr?Rt(lr.call(l)):{}}function rm(l,d){var v=d?yl(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.length)}function Nf(l,d){if(l!==d){var v=l!==t,j=l===null,A=l===l,$=qr(l),G=d!==t,J=d===null,ee=d===d,ve=qr(d);if(!J&&!ve&&!$&&l>d||$&&G&&ee&&!J&&!ve||j&&G&&ee||!v&&ee||!A)return 1;if(!j&&!$&&!ve&&l<d||ve&&v&&A&&!j&&!$||J&&v&&A||!G&&A||!ee)return-1}return 0}function Hv(l,d,v){for(var j=-1,A=l.criteria,$=d.criteria,G=A.length,J=v.length;++j<G;){var ee=Nf(A[j],$[j]);if(ee){if(j>=J)return ee;var ve=v[j];return ee*(ve=="desc"?-1:1)}}return l.index-d.index}function sm(l,d,v,j){for(var A=-1,$=l.length,G=v.length,J=-1,ee=d.length,ve=nn($-G,0),xe=le(ee+ve),_e=!j;++J<ee;)xe[J]=d[J];for(;++A<G;)(_e||A<$)&&(xe[v[A]]=l[A]);for(;ve--;)xe[J++]=l[A++];return xe}function kf(l,d,v,j){for(var A=-1,$=l.length,G=-1,J=v.length,ee=-1,ve=d.length,xe=nn($-J,0),_e=le(xe+ve),Re=!j;++A<xe;)_e[A]=l[A];for(var Ge=A;++ee<ve;)_e[Ge+ee]=d[ee];for(;++G<J;)(Re||A<$)&&(_e[Ge+v[G]]=l[A++]);return _e}function Un(l,d){var v=-1,j=l.length;for(d||(d=le(j));++v<j;)d[v]=l[v];return d}function zr(l,d,v,j){var A=!v;v||(v={});for(var $=-1,G=d.length;++$<G;){var J=d[$],ee=j?j(v[J],l[J],J,v,l):t;ee===t&&(ee=l[J]),A?ls(v,J,ee):ii(v,J,ee)}return v}function au(l,d){return zr(l,Ur(l),d)}function Vv(l,d){return zr(l,cm(l),d)}function lu(l,d){return function(v,j){var A=ut(v)?Vd:cr,$=d?d():{};return A(v,l,Ze(j,2),$)}}function fa(l){return ft(function(d,v){var j=-1,A=v.length,$=A>1?v[A-1]:t,G=A>2?v[2]:t;for($=l.length>3&&typeof $=="function"?(A--,$):t,G&&Wn(v[0],v[1],G)&&($=A<3?t:$,A=1),d=Rt(d);++j<A;){var J=v[j];J&&l(d,J,j,$)}return d})}function Cr(l,d){return function(v,j){if(v==null)return v;if(!Rr(v))return l(v,j);for(var A=v.length,$=d?A:-1,G=Rt(v);(d?$--:++$<A)&&j(G[$],$,G)!==!1;);return v}}function cu(l){return function(d,v,j){for(var A=-1,$=Rt(d),G=j(d),J=G.length;J--;){var ee=G[l?J:++A];if(v($[ee],ee,$)===!1)break}return d}}function uu(l,d,v){var j=d&N,A=ha(l);function $(){var G=this&&this!==Ut&&this instanceof $?A:l;return G.apply(j?v:this,arguments)}return $}function Cf(l){return function(d){d=Tt(d);var v=Gi(d)?ar(d):t,j=v?v[0]:d.charAt(0),A=v?Ds(v,1).join(""):d.slice(1);return j[l]()+A}}function fi(l){return function(d){return Kd(mw(pw(d).replace(kv,"")),l,"")}}function ha(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=ta(l.prototype),j=l.apply(v,d);return Qt(j)?j:v}}function Ef(l,d,v){var j=ha(l);function A(){for(var $=arguments.length,G=le($),J=$,ee=Ls(A);J--;)G[J]=arguments[J];var ve=$<3&&G[0]!==ee&&G[$-1]!==ee?[]:xr(G,ee);if($-=ve.length,$<v)return Bn(l,d,pa,A.placeholder,t,G,ve,t,t,v-$);var xe=this&&this!==Ut&&this instanceof A?j:l;return Fn(xe,this,G)}return A}function hi(l){return function(d,v,j){var A=Rt(d);if(!Rr(d)){var $=Ze(v,3);d=Mn(d),v=function(J){return $(A[J],J,A)}}var G=l(d,v,j);return G>-1?A[$?d[G]:G]:t}}function du(l){return ms(function(d){var v=d.length,j=v,A=Pn.prototype.thru;for(l&&d.reverse();j--;){var $=d[j];if(typeof $!="function")throw new yr(u);if(A&&!G&&ma($)=="wrapper")var G=new Pn([],!0)}for(j=G?j:v;++j<v;){$=d[j];var J=ma($),ee=J=="wrapper"?pu($):t;ee&&Cl(ee[0])&&ee[1]==(z|T|I|F)&&!ee[4].length&&ee[9]==1?G=G[ma(ee[0])].apply(G,ee[3]):G=$.length==1&&Cl($)?G[J]():G.thru($)}return function(){var ve=arguments,xe=ve[0];if(G&&ve.length==1&&ut(xe))return G.plant(xe).value();for(var _e=0,Re=v?d[_e].apply(this,ve):xe;++_e<v;)Re=d[_e].call(this,Re);return Re}})}function pa(l,d,v,j,A,$,G,J,ee,ve){var xe=d&z,_e=d&N,Re=d&R,Ge=d&(T|O),rt=d&q,pt=Re?t:ha(l);function st(){for(var yt=arguments.length,St=le(yt),Kr=yt;Kr--;)St[Kr]=arguments[Kr];if(Ge)var hr=Ls(st),Yr=Rp(St,hr);if(j&&(St=sm(St,j,A,Ge)),$&&(St=kf(St,$,G,Ge)),yt-=Yr,Ge&&yt<ve){var dn=xr(St,hr);return Bn(l,d,pa,st.placeholder,v,St,dn,J,ee,ve-yt)}var Us=_e?v:this,bi=Re?Us[l]:l;return yt=St.length,J?St=Br(St,J):rt&&yt>1&&St.reverse(),xe&&ee<yt&&(St.length=ee),this&&this!==Ut&&this instanceof st&&(bi=pt||ha(bi)),bi.apply(Us,St)}return st}function om(l,d){return function(v,j){return As(v,l,d(j),{})}}function wl(l,d){return function(v,j){var A;if(v===t&&j===t)return d;if(v!==t&&(A=v),j!==t){if(A===t)return j;typeof v=="string"||typeof j=="string"?(v=er(v),j=er(j)):(v=_f(v),j=_f(j)),A=l(v,j)}return A}}function fu(l){return ms(function(d){return d=Ot(d,ir(Ze())),ft(function(v){var j=this;return l(d,function(A){return Fn(A,j,v)})})})}function _l(l,d){d=d===t?" ":er(d);var v=d.length;if(v<2)return v?ui(d,l):d;var j=ui(d,ti(l/Zo(d)));return Gi(d)?Ds(ar(j),0,l).join(""):j.slice(0,l)}function im(l,d,v,j){var A=d&N,$=ha(l);function G(){for(var J=-1,ee=arguments.length,ve=-1,xe=j.length,_e=le(xe+ee),Re=this&&this!==Ut&&this instanceof G?$:l;++ve<xe;)_e[ve]=j[ve];for(;ee--;)_e[ve++]=arguments[++J];return Fn(Re,A?v:this,_e)}return G}function Pf(l){return function(d,v,j){return j&&typeof j!="number"&&Wn(d,v,j)&&(v=j=t),d=_i(d),v===t?(v=d,d=0):v=_i(v),j=j===t?d<v?1:-1:_i(j),gl(d,v,j,l)}}function hu(l){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=vs(d),v=vs(v)),l(d,v)}}function Bn(l,d,v,j,A,$,G,J,ee,ve){var xe=d&T,_e=xe?G:t,Re=xe?t:G,Ge=xe?$:t,rt=xe?t:$;d|=xe?I:L,d&=~(xe?L:I),d&k||(d&=-4);var pt=[l,d,A,Ge,_e,rt,Re,J,ee,ve],st=v.apply(t,pt);return Cl(l)&&Ff(st,pt),st.placeholder=j,zf(st,l,d)}function _n(l){var d=tn[l];return function(v,j){if(v=vs(v),j=j==null?0:En(ht(j),292),j&&Ji(v)){var A=(Tt(v)+"e").split("e"),$=d(A[0]+"e"+(+A[1]+j));return A=(Tt($)+"e").split("e"),+(A[0]+"e"+(+A[1]-j))}return d(v)}}var am=co&&1/ao(new co([,-0]))[1]==be?function(l){return new co(l)}:yx;function Rf(l){return function(d){var v=bn(d);return v==vt?Rc(d):v==qt?$v(d):Mv(d,l(d))}}function ps(l,d,v,j,A,$,G,J){var ee=d&R;if(!ee&&typeof l!="function")throw new yr(u);var ve=j?j.length:0;if(ve||(d&=-97,j=A=t),G=G===t?G:nn(ht(G),0),J=J===t?J:ht(J),ve-=A?A.length:0,d&L){var xe=j,_e=A;j=A=t}var Re=ee?t:pu(l),Ge=[l,d,v,j,A,xe,_e,$,G,J];if(Re&&hm(Ge,Re),l=Ge[0],d=Ge[1],v=Ge[2],j=Ge[3],A=Ge[4],J=Ge[9]=Ge[9]===t?ee?0:l.length:nn(Ge[9]-ve,0),!J&&d&(T|O)&&(d&=-25),!d||d==N)var rt=uu(l,d,v);else d==T||d==O?rt=Ef(l,d,J):(d==I||d==(N|I))&&!A.length?rt=im(l,d,v,j):rt=pa.apply(t,Ge);var pt=Re?nu:Ff;return zf(pt(rt,Ge),l,d)}function Tf(l,d,v,j){return l===t||zs(l,rs[v])&&!Nt.call(j,v)?d:l}function Af(l,d,v,j,A,$){return Qt(l)&&Qt(d)&&($.set(d,l),ci(l,d,t,Af,$),$.delete(d)),l}function If(l){return nh(l)?t:l}function Of(l,d,v,j,A,$){var G=v&E,J=l.length,ee=d.length;if(J!=ee&&!(G&&ee>J))return!1;var ve=$.get(l),xe=$.get(d);if(ve&&xe)return ve==d&&xe==l;var _e=-1,Re=!0,Ge=v&P?new ri:t;for($.set(l,d),$.set(d,l);++_e<J;){var rt=l[_e],pt=d[_e];if(j)var st=G?j(pt,rt,_e,d,l,$):j(rt,pt,_e,l,d,$);if(st!==t){if(st)continue;Re=!1;break}if(Ge){if(!Yd(d,function(yt,St){if(!Ns(Ge,St)&&(rt===yt||A(rt,yt,v,j,$)))return Ge.push(St)})){Re=!1;break}}else if(!(rt===pt||A(rt,pt,v,j,$))){Re=!1;break}}return $.delete(l),$.delete(d),Re}function Mf(l,d,v,j,A,$,G){switch(v){case js:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Wo:return!(l.byteLength!=d.byteLength||!$(new rl(l),new rl(d)));case fe:case je:case mn:return zs(+l,+d);case He:return l.name==d.name&&l.message==d.message;case Dr:case es:return l==d+"";case vt:var J=Rc;case qt:var ee=j&E;if(J||(J=ao),l.size!=d.size&&!ee)return!1;var ve=G.get(l);if(ve)return ve==d;j|=P,G.set(l,d);var xe=Of(J(l),J(d),j,A,$,G);return G.delete(l),xe;case Bo:if(lr)return lr.call(l)==lr.call(d)}return!1}function lm(l,d,v,j,A,$){var G=v&E,J=bl(l),ee=J.length,ve=bl(d),xe=ve.length;if(ee!=xe&&!G)return!1;for(var _e=ee;_e--;){var Re=J[_e];if(!(G?Re in d:Nt.call(d,Re)))return!1}var Ge=$.get(l),rt=$.get(d);if(Ge&&rt)return Ge==d&&rt==l;var pt=!0;$.set(l,d),$.set(d,l);for(var st=G;++_e<ee;){Re=J[_e];var yt=l[Re],St=d[Re];if(j)var Kr=G?j(St,yt,Re,d,l,$):j(yt,St,Re,l,d,$);if(!(Kr===t?yt===St||A(yt,St,v,j,$):Kr)){pt=!1;break}st||(st=Re=="constructor")}if(pt&&!st){var hr=l.constructor,Yr=d.constructor;hr!=Yr&&"constructor"in l&&"constructor"in d&&!(typeof hr=="function"&&hr instanceof hr&&typeof Yr=="function"&&Yr instanceof Yr)&&(pt=!1)}return $.delete(l),$.delete(d),pt}function ms(l){return dr(xu(l,t,_u),l+"")}function bl(l){return Jc(l,Mn,Ur)}function Sl(l){return Jc(l,Tr,cm)}var pu=Uc?function(l){return Uc.get(l)}:yx;function ma(l){for(var d=l.name+"",v=Zi[d],j=Nt.call(Zi,d)?v.length:0;j--;){var A=v[j],$=A.func;if($==null||$==l)return A.name}return d}function Ls(l){var d=Nt.call(D,"placeholder")?D:l;return d.placeholder}function Ze(){var l=D.iteratee||vx;return l=l===vx?aa:l,arguments.length?l(arguments[0],arguments[1]):l}function jl(l,d){var v=l.__data__;return ga(d)?v[typeof d=="string"?"string":"hash"]:v.map}function Nl(l){for(var d=Mn(l),v=d.length;v--;){var j=d[v],A=l[j];d[v]=[j,A,El(A)]}return d}function yo(l,d){var v=Vi(l,d);return hf(v)?v:t}function mu(l){var d=Nt.call(l,ei),v=l[ei];try{l[ei]=t;var j=!0}catch{}var A=tl.call(l);return j&&(d?l[ei]=v:delete l[ei]),A}var Ur=$c?function(l){return l==null?[]:(l=Rt(l),oo($c(l),function(d){return Dc.call(l,d)}))}:wx,cm=$c?function(l){for(var d=[];l;)io(d,Ur(l)),l=$r(l);return d}:wx,bn=wn;(il&&bn(new il(new ArrayBuffer(1)))!=js||ni&&bn(new ni)!=vt||al&&bn(al.resolve())!=en||co&&bn(new co)!=qt||ll&&bn(new ll)!=Li)&&(bn=function(l){var d=wn(l),v=d==Yt?l.constructor:t,j=v?wo(v):"";if(j)switch(j){case af:return js;case uo:return vt;case Bp:return en;case ea:return qt;case ss:return Li}return d});function Df(l,d,v){for(var j=-1,A=v.length;++j<A;){var $=v[j],G=$.size;switch($.type){case"drop":l+=G;break;case"dropRight":d-=G;break;case"take":d=En(d,l+G);break;case"takeRight":l=nn(l,d-G);break}}return{start:l,end:d}}function um(l){var d=l.match(pc);return d?d[1].split(Od):[]}function Lf(l,d,v){d=hs(d,l);for(var j=-1,A=d.length,$=!1;++j<A;){var G=Hr(d[j]);if(!($=l!=null&&v(l,G)))break;l=l[G]}return $||++j!=A?$:(A=l==null?0:l.length,!!A&&Rm(A)&&Wt(G,A)&&(ut(l)||Dl(l)))}function kl(l){var d=l.length,v=new l.constructor(d);return d&&typeof l[0]=="string"&&Nt.call(l,"index")&&(v.index=l.index,v.input=l.input),v}function Sn(l){return typeof l.constructor=="function"&&!$s(l)?ta($r(l)):{}}function Gv(l,d,v){var j=l.constructor;switch(d){case Wo:return yl(l);case fe:case je:return new j(+l);case js:return em(l,v);case uc:case Ho:case Vo:case kd:case dc:case fc:case Cd:case Fa:case za:return rm(l,v);case vt:return new j;case mn:case es:return new j(l);case Dr:return tm(l);case qt:return new j;case Bo:return nm(l)}}function qv(l,d){var v=d.length;if(!v)return l;var j=v-1;return d[j]=(v>1?"& ":"")+d[j],d=d.join(v>2?", ":" "),l.replace(hc,`{
/* [wrapped with `+d+`] */
`)}function gu(l){return ut(l)||Dl(l)||!!(Fp&&l&&l[Fp])}function Wt(l,d){var v=typeof l;return d=d??W,!!d&&(v=="number"||v!="symbol"&&lp.test(l))&&l>-1&&l%1==0&&l<d}function Wn(l,d,v){if(!Qt(v))return!1;var j=typeof d;return(j=="number"?Rr(v)&&Wt(d,v.length):j=="string"&&d in v)?zs(v[d],l):!1}function Oe(l,d){if(ut(l))return!1;var v=typeof l;return v=="number"||v=="symbol"||v=="boolean"||l==null||qr(l)?!0:sp.test(l)||!Ad.test(l)||d!=null&&l in Rt(d)}function ga(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Cl(l){var d=ma(l),v=D[d];if(typeof v!="function"||!(d in ct.prototype))return!1;if(l===v)return!0;var j=pu(v);return!!j&&l===j[0]}function dm(l){return!!Ic&&Ic in l}var Kv=Ki?wi:_x;function $s(l){var d=l&&l.constructor,v=typeof d=="function"&&d.prototype||rs;return l===v}function El(l){return l===l&&!Qt(l)}function vu(l,d){return function(v){return v==null?!1:v[l]===d&&(d!==t||l in Rt(v))}}function fm(l){var d=ie(l,function(j){return v.size===g&&v.clear(),j}),v=d.cache;return d}function hm(l,d){var v=l[1],j=d[1],A=v|j,$=A<(N|R|z),G=j==z&&v==T||j==z&&v==F&&l[7].length<=d[8]||j==(z|F)&&d[7].length<=d[8]&&v==T;if(!($||G))return l;j&N&&(l[2]=d[2],A|=v&N?0:k);var J=d[3];if(J){var ee=l[3];l[3]=ee?sm(ee,J,d[4]):J,l[4]=ee?xr(l[3],x):d[4]}return J=d[5],J&&(ee=l[5],l[5]=ee?kf(ee,J,d[6]):J,l[6]=ee?xr(l[5],x):d[6]),J=d[7],J&&(l[7]=J),j&z&&(l[8]=l[8]==null?d[8]:En(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=A,l}function pm(l){var d=[];if(l!=null)for(var v in Rt(l))d.push(v);return d}function $f(l){return tl.call(l)}function xu(l,d,v){return d=nn(d===t?l.length-1:d,0),function(){for(var j=arguments,A=-1,$=nn(j.length-d,0),G=le($);++A<$;)G[A]=j[d+A];A=-1;for(var J=le(d+1);++A<d;)J[A]=j[A];return J[d]=v(G),Fn(l,this,J)}}function gn(l,d){return d.length<2?l:Ts(l,On(d,0,-1))}function Br(l,d){for(var v=l.length,j=En(d.length,v),A=Un(l);j--;){var $=d[j];l[j]=Wt($,v)?A[$]:t}return l}function gs(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var Ff=Wr(nu),va=sf||function(l,d){return Ut.setTimeout(l,d)},dr=Wr(fs);function zf(l,d,v){var j=d+"";return dr(l,qv(j,mm(um(j),v)))}function Wr(l){var d=0,v=0;return function(){var j=Wv(),A=pe-(j-v);if(v=j,A>0){if(++d>=ae)return arguments[0]}else d=0;return l.apply(t,arguments)}}function yu(l,d){var v=-1,j=l.length,A=j-1;for(d=d===t?j:d;++v<d;){var $=la(v,A),G=l[$];l[$]=l[v],l[v]=G}return l.length=d,l}var Uf=fm(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Ua,function(v,j,A,$){d.push(A?$.replace(wv,"$1"):j||v)}),d});function Hr(l){if(typeof l=="string"||qr(l))return l;var d=l+"";return d=="0"&&1/l==-be?"-0":d}function wo(l){if(l!=null){try{return el.call(l)}catch{}try{return l+""}catch{}}return""}function mm(l,d){return Cn(oe,function(v){var j="_."+v[0];d&v[1]&&!Cc(l,j)&&l.push(j)}),l.sort()}function gm(l){if(l instanceof ct)return l.clone();var d=new Pn(l.__wrapped__,l.__chain__);return d.__actions__=Un(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function wu(l,d,v){(v?Wn(l,d,v):d===t)?d=1:d=nn(ht(d),0);var j=l==null?0:l.length;if(!j||d<1)return[];for(var A=0,$=0,G=le(ti(j/d));A<j;)G[$++]=On(l,A,A+=d);return G}function Bf(l){for(var d=-1,v=l==null?0:l.length,j=0,A=[];++d<v;){var $=l[d];$&&(A[j++]=$)}return A}function Er(){var l=arguments.length;if(!l)return[];for(var d=le(l-1),v=arguments[0],j=l;j--;)d[j-1]=arguments[j];return io(ut(v)?Un(v):[v],Kt(d,1))}var bt=ft(function(l,d){return un(l)?cs(l,Kt(d,1,un,!0)):[]}),vn=ft(function(l,d){var v=Hn(d);return un(v)&&(v=t),un(l)?cs(l,Kt(d,1,un,!0),Ze(v,2)):[]}),rn=ft(function(l,d){var v=Hn(d);return un(v)&&(v=t),un(l)?cs(l,Kt(d,1,un,!0),t,v):[]});function jn(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ht(d),On(l,d<0?0:d,j)):[]}function fr(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ht(d),d=j-d,On(l,0,d<0?0:d)):[]}function xa(l,d){return l&&l.length?vl(l,Ze(d,3),!0,!0):[]}function cn(l,d){return l&&l.length?vl(l,Ze(d,3),!0):[]}function Pl(l,d,v,j){var A=l==null?0:l.length;return A?(v&&typeof v!="number"&&Wn(l,d,v)&&(v=0,j=A),Jp(l,d,v,j)):[]}function _o(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var A=v==null?0:ht(v);return A<0&&(A=nn(j+A,0)),Ec(l,Ze(d,3),A)}function Rl(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var A=j-1;return v!==t&&(A=ht(v),A=v<0?nn(j+A,0):En(A,j-1)),Ec(l,Ze(d,3),A,!0)}function _u(l){var d=l==null?0:l.length;return d?Kt(l,1):[]}function Tl(l){var d=l==null?0:l.length;return d?Kt(l,be):[]}function tr(l,d){var v=l==null?0:l.length;return v?(d=d===t?1:ht(d),Kt(l,d)):[]}function Wf(l){for(var d=-1,v=l==null?0:l.length,j={};++d<v;){var A=l[d];j[A[0]]=A[1]}return j}function pi(l){return l&&l.length?l[0]:t}function Fs(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var A=v==null?0:ht(v);return A<0&&(A=nn(j+A,0)),Hi(l,d,A)}function bu(l){var d=l==null?0:l.length;return d?On(l,0,-1):[]}var Hf=ft(function(l){var d=Ot(l,da);return d.length&&d[0]===l[0]?Xc(d):[]}),bo=ft(function(l){var d=Hn(l),v=Ot(l,da);return d===Hn(v)?d=t:v.pop(),v.length&&v[0]===l[0]?Xc(v,Ze(d,2)):[]}),Su=ft(function(l){var d=Hn(l),v=Ot(l,da);return d=typeof d=="function"?d:t,d&&v.pop(),v.length&&v[0]===l[0]?Xc(v,t,d):[]});function So(l,d){return l==null?"":Fc.call(l,d)}function Hn(l){var d=l==null?0:l.length;return d?l[d-1]:t}function Al(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var A=j;return v!==t&&(A=ht(v),A=A<0?nn(j+A,0):En(A,j-1)),d===d?Fv(l,d,A):Ec(l,Np,A,!0)}function Vf(l,d){return l&&l.length?tu(l,ht(d)):t}var ju=ft(Il);function Il(l,d){return l&&l.length&&d&&d.length?Jt(l,d):l}function Vn(l,d,v){return l&&l.length&&d&&d.length?Jt(l,d,Ze(v,2)):l}function jo(l,d,v){return l&&l.length&&d&&d.length?Jt(l,d,t,v):l}var Vr=ms(function(l,d){var v=l==null?0:l.length,j=Kc(l,d);return ln(l,Ot(d,function(A){return Wt(A,v)?+A:A}).sort(Nf)),j});function nr(l,d){var v=[];if(!(l&&l.length))return v;var j=-1,A=[],$=l.length;for(d=Ze(d,3);++j<$;){var G=l[j];d(G,j,l)&&(v.push(G),A.push(j))}return ln(l,A),v}function Nu(l){return l==null?l:zc.call(l)}function Gf(l,d,v){var j=l==null?0:l.length;return j?(v&&typeof v!="number"&&Wn(l,d,v)?(d=0,v=j):(d=d==null?0:ht(d),v=v===t?j:ht(v)),On(l,d,v)):[]}function qf(l,d){return ca(l,d)}function Yv(l,d,v){return ru(l,d,Ze(v,2))}function No(l,d){var v=l==null?0:l.length;if(v){var j=ca(l,d);if(j<v&&zs(l[j],d))return j}return-1}function vm(l,d){return ca(l,d,!0)}function Kf(l,d,v){return ru(l,d,Ze(v,2),!0)}function mi(l,d){var v=l==null?0:l.length;if(v){var j=ca(l,d,!0)-1;if(zs(l[j],d))return j}return-1}function Yf(l){return l&&l.length?wf(l):[]}function gi(l,d){return l&&l.length?wf(l,Ze(d,2)):[]}function xm(l){var d=l==null?0:l.length;return d?On(l,1,d):[]}function ym(l,d,v){return l&&l.length?(d=v||d===t?1:ht(d),On(l,0,d<0?0:d)):[]}function Jf(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ht(d),d=j-d,On(l,d<0?0:d,j)):[]}function ku(l,d){return l&&l.length?vl(l,Ze(d,3),!1,!0):[]}function Jv(l,d){return l&&l.length?vl(l,Ze(d,3)):[]}var Xv=ft(function(l){return Ms(Kt(l,1,un,!0))}),wm=ft(function(l){var d=Hn(l);return un(d)&&(d=t),Ms(Kt(l,1,un,!0),Ze(d,2))}),_m=ft(function(l){var d=Hn(l);return d=typeof d=="function"?d:t,Ms(Kt(l,1,un,!0),t,d)});function vi(l){return l&&l.length?Ms(l):[]}function Qv(l,d){return l&&l.length?Ms(l,Ze(d,2)):[]}function ya(l,d){return d=typeof d=="function"?d:t,l&&l.length?Ms(l,t,d):[]}function Cu(l){if(!(l&&l.length))return[];var d=0;return l=oo(l,function(v){if(un(v))return d=nn(v.length,d),!0}),Zd(d,function(v){return Ot(l,Xd(v))})}function Gt(l,d){if(!(l&&l.length))return[];var v=Cu(l);return d==null?v:Ot(v,function(j){return Fn(d,t,j)})}var Zv=ft(function(l,d){return un(l)?cs(l,d):[]}),bm=ft(function(l){return ou(oo(l,un))}),ex=ft(function(l){var d=Hn(l);return un(d)&&(d=t),ou(oo(l,un),Ze(d,2))}),tx=ft(function(l){var d=Hn(l);return d=typeof d=="function"?d:t,ou(oo(l,un),t,d)}),Sm=ft(Cu);function jm(l,d){return xl(l||[],d||[],ii)}function nx(l,d){return xl(l||[],d||[],di)}var Pr=ft(function(l){var d=l.length,v=d>1?l[d-1]:t;return v=typeof v=="function"?(l.pop(),v):t,Gt(l,v)});function Eu(l){var d=D(l);return d.__chain__=!0,d}function rx(l,d){return d(l),l}function Gr(l,d){return d(l)}var Pu=ms(function(l){var d=l.length,v=d?l[0]:0,j=this.__wrapped__,A=function($){return Kc($,l)};return d>1||this.__actions__.length||!(j instanceof ct)||!Wt(v)?this.thru(A):(j=j.slice(v,+v+(d?1:0)),j.__actions__.push({func:Gr,args:[A],thisArg:t}),new Pn(j,this.__chain__).thru(function($){return d&&!$.length&&$.push(t),$}))});function xi(){return Eu(this)}function Ru(){return new Pn(this.value(),this.__chain__)}function Xf(){this.__values__===t&&(this.__values__=ow(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function Qf(){return this}function sx(l){for(var d,v=this;v instanceof os;){var j=gm(v);j.__index__=0,j.__values__=t,d?A.__wrapped__=j:d=j;var A=j;v=v.__wrapped__}return A.__wrapped__=l,d}function Zf(){var l=this.__wrapped__;if(l instanceof ct){var d=l;return this.__actions__.length&&(d=new ct(this)),d=d.reverse(),d.__actions__.push({func:Gr,args:[Nu],thisArg:t}),new Pn(d,this.__chain__)}return this.thru(Nu)}function ox(){return ua(this.__wrapped__,this.__actions__)}var Nm=lu(function(l,d,v){Nt.call(l,v)?++l[v]:ls(l,v,1)});function km(l,d,v){var j=ut(l)?Gd:dl;return v&&Wn(l,d,v)&&(d=t),j(l,Ze(d,3))}function Tu(l,d){var v=ut(l)?oo:df;return v(l,Ze(d,3))}var Au=hi(_o),Cm=hi(Rl);function eh(l,d){return Kt(yi(l,d),1)}function ix(l,d){return Kt(yi(l,d),be)}function Em(l,d,v){return v=v===t?1:ht(v),Kt(yi(l,d),v)}function Iu(l,d){var v=ut(l)?Cn:us;return v(l,Ze(d,3))}function Ol(l,d){var v=ut(l)?kc:Yp;return v(l,Ze(d,3))}var th=lu(function(l,d,v){Nt.call(l,v)?l[v].push(d):ls(l,v,[d])});function Ou(l,d,v,j){l=Rr(l)?l:Lu(l),v=v&&!j?ht(v):0;var A=l.length;return v<0&&(v=nn(A+v,0)),Tm(l)?v<=A&&l.indexOf(d,v)>-1:!!A&&Hi(l,d,v)>-1}var Pm=ft(function(l,d,v){var j=-1,A=typeof d=="function",$=Rr(l)?le(l.length):[];return us(l,function(G){$[++j]=A?Fn(d,G,v):jr(G,d,v)}),$}),ax=lu(function(l,d,v){ls(l,v,d)});function yi(l,d){var v=ut(l)?Ot:mf;return v(l,Ze(d,3))}function lx(l,d,v,j){return l==null?[]:(ut(d)||(d=d==null?[]:[d]),v=j?t:v,ut(v)||(v=v==null?[]:[v]),ml(l,d,v))}var Ml=lu(function(l,d,v){l[v?0:1].push(d)},function(){return[[],[]]});function cx(l,d,v){var j=ut(l)?Kd:Cp,A=arguments.length<3;return j(l,Ze(d,4),v,A,us)}function Mu(l,d,v){var j=ut(l)?Tv:Cp,A=arguments.length<3;return j(l,Ze(d,4),v,A,Yp)}function s(l,d){var v=ut(l)?oo:df;return v(l,Ne(Ze(d,3)))}function a(l){var d=ut(l)?as:In;return d(l)}function f(l,d,v){(v?Wn(l,d,v):d===t)?d=1:d=ht(d);var j=ut(l)?oi:xf;return j(l,d)}function m(l){var d=ut(l)?qp:kr;return d(l)}function _(l){if(l==null)return 0;if(Rr(l))return Tm(l)?Zo(l):l.length;var d=bn(l);return d==vt||d==qt?l.size:Os(l).length}function S(l,d,v){var j=ut(l)?Yd:yf;return v&&Wn(l,d,v)&&(d=t),j(l,Ze(d,3))}var M=ft(function(l,d){if(l==null)return[];var v=d.length;return v>1&&Wn(l,d[0],d[1])?d=[]:v>2&&Wn(d[0],d[1],d[2])&&(d=[d[0]]),ml(l,Kt(d,1),[])}),H=Dt||function(){return Ut.Date.now()};function Y(l,d){if(typeof d!="function")throw new yr(u);return l=ht(l),function(){if(--l<1)return d.apply(this,arguments)}}function ce(l,d,v){return d=v?t:d,d=l&&d==null?l.length:d,ps(l,z,t,t,t,t,d)}function we(l,d){var v;if(typeof d!="function")throw new yr(u);return l=ht(l),function(){return--l>0&&(v=d.apply(this,arguments)),l<=1&&(d=t),v}}var Se=ft(function(l,d,v){var j=N;if(v.length){var A=xr(v,Ls(Se));j|=I}return ps(l,j,d,v,A)}),ye=ft(function(l,d,v){var j=N|R;if(v.length){var A=xr(v,Ls(ye));j|=I}return ps(d,j,l,v,A)});function Ae(l,d,v){d=v?t:d;var j=ps(l,T,t,t,t,t,t,d);return j.placeholder=Ae.placeholder,j}function Me(l,d,v){d=v?t:d;var j=ps(l,O,t,t,t,t,t,d);return j.placeholder=Me.placeholder,j}function De(l,d,v){var j,A,$,G,J,ee,ve=0,xe=!1,_e=!1,Re=!0;if(typeof l!="function")throw new yr(u);d=vs(d)||0,Qt(v)&&(xe=!!v.leading,_e="maxWait"in v,$=_e?nn(vs(v.maxWait)||0,d):$,Re="trailing"in v?!!v.trailing:Re);function Ge(dn){var Us=j,bi=A;return j=A=t,ve=dn,G=l.apply(bi,Us),G}function rt(dn){return ve=dn,J=va(yt,d),xe?Ge(dn):G}function pt(dn){var Us=dn-ee,bi=dn-ve,xw=d-Us;return _e?En(xw,$-bi):xw}function st(dn){var Us=dn-ee,bi=dn-ve;return ee===t||Us>=d||Us<0||_e&&bi>=$}function yt(){var dn=H();if(st(dn))return St(dn);J=va(yt,pt(dn))}function St(dn){return J=t,Re&&j?Ge(dn):(j=A=t,G)}function Kr(){J!==t&&Sf(J),ve=0,j=ee=A=J=t}function hr(){return J===t?G:St(H())}function Yr(){var dn=H(),Us=st(dn);if(j=arguments,A=this,ee=dn,Us){if(J===t)return rt(ee);if(_e)return Sf(J),J=va(yt,d),Ge(ee)}return J===t&&(J=va(yt,d)),G}return Yr.cancel=Kr,Yr.flush=hr,Yr}var Xt=ft(function(l,d){return uf(l,1,d)}),se=ft(function(l,d,v){return uf(l,vs(d)||0,v)});function Q(l){return ps(l,q)}function ie(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new yr(u);var v=function(){var j=arguments,A=d?d.apply(this,j):j[0],$=v.cache;if($.has(A))return $.get(A);var G=l.apply(this,j);return v.cache=$.set(A,G)||$,G};return v.cache=new(ie.Cache||wr),v}ie.Cache=wr;function Ne(l){if(typeof l!="function")throw new yr(u);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function Be(l){return we(2,l)}var Qe=Zp(function(l,d){d=d.length==1&&ut(d[0])?Ot(d[0],ir(Ze())):Ot(Kt(d,1),ir(Ze()));var v=d.length;return ft(function(j){for(var A=-1,$=En(j.length,v);++A<$;)j[A]=d[A].call(this,j[A]);return Fn(l,this,j)})}),Xe=ft(function(l,d){var v=xr(d,Ls(Xe));return ps(l,I,t,d,v)}),nt=ft(function(l,d){var v=xr(d,Ls(nt));return ps(l,L,t,d,v)}),xn=ms(function(l,d){return ps(l,F,t,t,t,d)});function kt(l,d){if(typeof l!="function")throw new yr(u);return d=d===t?d:ht(d),ft(l,d)}function ko(l,d){if(typeof l!="function")throw new yr(u);return d=d==null?0:nn(ht(d),0),ft(function(v){var j=v[d],A=Ds(v,0,d);return j&&io(A,j),Fn(l,this,A)})}function ux(l,d,v){var j=!0,A=!0;if(typeof l!="function")throw new yr(u);return Qt(v)&&(j="leading"in v?!!v.leading:j,A="trailing"in v?!!v.trailing:A),De(l,d,{leading:j,maxWait:d,trailing:A})}function QC(l){return ce(l,1)}function ZC(l,d){return Xe(iu(d),l)}function e2(){if(!arguments.length)return[];var l=arguments[0];return ut(l)?l:[l]}function t2(l){return Zn(l,C)}function n2(l,d){return d=typeof d=="function"?d:t,Zn(l,C,d)}function r2(l){return Zn(l,y|C)}function s2(l,d){return d=typeof d=="function"?d:t,Zn(l,y|C,d)}function o2(l,d){return d==null||ul(l,d,Mn(d))}function zs(l,d){return l===d||l!==l&&d!==d}var i2=hu(go),a2=hu(function(l,d){return l>=d}),Dl=Qc(function(){return arguments}())?Qc:function(l){return sn(l)&&Nt.call(l,"callee")&&!Dc.call(l,"callee")},ut=le.isArray,l2=Hd?ir(Hd):Xp;function Rr(l){return l!=null&&Rm(l.length)&&!wi(l)}function un(l){return sn(l)&&Rr(l)}function c2(l){return l===!0||l===!1||sn(l)&&wn(l)==fe}var wa=of||_x,u2=Yn?ir(Yn):Is;function d2(l){return sn(l)&&l.nodeType===1&&!nh(l)}function f2(l){if(l==null)return!0;if(Rr(l)&&(ut(l)||typeof l=="string"||typeof l.splice=="function"||wa(l)||Du(l)||Dl(l)))return!l.length;var d=bn(l);if(d==vt||d==qt)return!l.size;if($s(l))return!Os(l).length;for(var v in l)if(Nt.call(l,v))return!1;return!0}function h2(l,d){return Nr(l,d)}function p2(l,d,v){v=typeof v=="function"?v:t;var j=v?v(l,d):t;return j===t?Nr(l,d,t,v):!!j}function dx(l){if(!sn(l))return!1;var d=wn(l);return d==He||d==Ce||typeof l.message=="string"&&typeof l.name=="string"&&!nh(l)}function m2(l){return typeof l=="number"&&Ji(l)}function wi(l){if(!Qt(l))return!1;var d=wn(l);return d==Le||d==tt||d==te||d==Mr}function tw(l){return typeof l=="number"&&l==ht(l)}function Rm(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=W}function Qt(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function sn(l){return l!=null&&typeof l=="object"}var nw=Qo?ir(Qo):Qp;function g2(l,d){return l===d||ia(l,d,Nl(d))}function v2(l,d,v){return v=typeof v=="function"?v:t,ia(l,d,Nl(d),v)}function x2(l){return rw(l)&&l!=+l}function y2(l){if(Kv(l))throw new it(c);return hf(l)}function w2(l){return l===null}function _2(l){return l==null}function rw(l){return typeof l=="number"||sn(l)&&wn(l)==mn}function nh(l){if(!sn(l)||wn(l)!=Yt)return!1;var d=$r(l);if(d===null)return!0;var v=Nt.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&el.call(v)==Oc}var fx=Nc?ir(Nc):hl;function b2(l){return tw(l)&&l>=-W&&l<=W}var sw=Wi?ir(Wi):ds;function Tm(l){return typeof l=="string"||!ut(l)&&sn(l)&&wn(l)==es}function qr(l){return typeof l=="symbol"||sn(l)&&wn(l)==Bo}var Du=bp?ir(bp):pl;function S2(l){return l===t}function j2(l){return sn(l)&&bn(l)==Li}function N2(l){return sn(l)&&wn(l)==Zh}var k2=hu(vo),C2=hu(function(l,d){return l<=d});function ow(l){if(!l)return[];if(Rr(l))return Tm(l)?ar(l):Un(l);if(Es&&l[Es])return Lv(l[Es]());var d=bn(l),v=d==vt?Rc:d==qt?ao:Lu;return v(l)}function _i(l){if(!l)return l===0?l:0;if(l=vs(l),l===be||l===-be){var d=l<0?-1:1;return d*K}return l===l?l:0}function ht(l){var d=_i(l),v=d%1;return d===d?v?d-v:d:0}function iw(l){return l?Rs(ht(l),0,B):0}function vs(l){if(typeof l=="number")return l;if(qr(l))return ne;if(Qt(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Qt(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=Ep(l);var v=_v.test(l);return v||ap.test(l)?Sc(l.slice(2),v?2:8):op.test(l)?ne:+l}function aw(l){return zr(l,Tr(l))}function E2(l){return l?Rs(ht(l),-W,W):l===0?l:0}function Tt(l){return l==null?"":er(l)}var P2=fa(function(l,d){if($s(d)||Rr(d)){zr(d,Mn(d),l);return}for(var v in d)Nt.call(d,v)&&ii(l,v,d[v])}),lw=fa(function(l,d){zr(d,Tr(d),l)}),Am=fa(function(l,d,v,j){zr(d,Tr(d),l,j)}),R2=fa(function(l,d,v,j){zr(d,Mn(d),l,j)}),T2=ms(Kc);function A2(l,d){var v=ta(l);return d==null?v:$t(v,d)}var I2=ft(function(l,d){l=Rt(l);var v=-1,j=d.length,A=j>2?d[2]:t;for(A&&Wn(d[0],d[1],A)&&(j=1);++v<j;)for(var $=d[v],G=Tr($),J=-1,ee=G.length;++J<ee;){var ve=G[J],xe=l[ve];(xe===t||zs(xe,rs[ve])&&!Nt.call(l,ve))&&(l[ve]=$[ve])}return l}),O2=ft(function(l){return l.push(t,Af),Fn(cw,t,l)});function M2(l,d){return jp(l,Ze(d,3),ur)}function D2(l,d){return jp(l,Ze(d,3),mo)}function L2(l,d){return l==null?l:Yc(l,Ze(d,3),Tr)}function $2(l,d){return l==null?l:fl(l,Ze(d,3),Tr)}function F2(l,d){return l&&ur(l,Ze(d,3))}function z2(l,d){return l&&mo(l,Ze(d,3))}function U2(l){return l==null?[]:oa(l,Mn(l))}function B2(l){return l==null?[]:oa(l,Tr(l))}function hx(l,d,v){var j=l==null?t:Ts(l,d);return j===t?v:j}function W2(l,d){return l!=null&&Lf(l,d,Sr)}function px(l,d){return l!=null&&Lf(l,d,li)}var H2=om(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=tl.call(d)),l[d]=v},gx(Ar)),V2=om(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=tl.call(d)),Nt.call(l,d)?l[d].push(v):l[d]=[v]},Ze),G2=ft(jr);function Mn(l){return Rr(l)?is(l):Os(l)}function Tr(l){return Rr(l)?is(l,!0):pf(l)}function q2(l,d){var v={};return d=Ze(d,3),ur(l,function(j,A,$){ls(v,d(j,A,$),j)}),v}function K2(l,d){var v={};return d=Ze(d,3),ur(l,function(j,A,$){ls(v,A,d(j,A,$))}),v}var Y2=fa(function(l,d,v){ci(l,d,v)}),cw=fa(function(l,d,v,j){ci(l,d,v,j)}),J2=ms(function(l,d){var v={};if(l==null)return v;var j=!1;d=Ot(d,function($){return $=hs($,l),j||(j=$.length>1),$}),zr(l,Sl(l),v),j&&(v=Zn(v,y|b|C,If));for(var A=d.length;A--;)su(v,d[A]);return v});function X2(l,d){return uw(l,Ne(Ze(d)))}var Q2=ms(function(l,d){return l==null?{}:vf(l,d)});function uw(l,d){if(l==null)return{};var v=Ot(Sl(l),function(j){return[j]});return d=Ze(d),xo(l,v,function(j,A){return d(j,A[0])})}function Z2(l,d,v){d=hs(d,l);var j=-1,A=d.length;for(A||(A=1,l=t);++j<A;){var $=l==null?t:l[Hr(d[j])];$===t&&(j=A,$=v),l=wi($)?$.call(l):$}return l}function eE(l,d,v){return l==null?l:di(l,d,v)}function tE(l,d,v,j){return j=typeof j=="function"?j:t,l==null?l:di(l,d,v,j)}var dw=Rf(Mn),fw=Rf(Tr);function nE(l,d,v){var j=ut(l),A=j||wa(l)||Du(l);if(d=Ze(d,4),v==null){var $=l&&l.constructor;A?v=j?new $:[]:Qt(l)?v=wi($)?ta($r(l)):{}:v={}}return(A?Cn:ur)(l,function(G,J,ee){return d(v,G,J,ee)}),v}function rE(l,d){return l==null?!0:su(l,d)}function sE(l,d,v){return l==null?l:bf(l,d,iu(v))}function oE(l,d,v,j){return j=typeof j=="function"?j:t,l==null?l:bf(l,d,iu(v),j)}function Lu(l){return l==null?[]:Qa(l,Mn(l))}function iE(l){return l==null?[]:Qa(l,Tr(l))}function aE(l,d,v){return v===t&&(v=d,d=t),v!==t&&(v=vs(v),v=v===v?v:0),d!==t&&(d=vs(d),d=d===d?d:0),Rs(vs(l),d,v)}function lE(l,d,v){return d=_i(d),v===t?(v=d,d=0):v=_i(v),l=vs(l),ff(l,d,v)}function cE(l,d,v){if(v&&typeof v!="boolean"&&Wn(l,d,v)&&(d=v=t),v===t&&(typeof d=="boolean"?(v=d,d=t):typeof l=="boolean"&&(v=l,l=t)),l===t&&d===t?(l=0,d=1):(l=_i(l),d===t?(d=l,l=0):d=_i(d)),l>d){var j=l;l=d,d=j}if(v||l%1||d%1){var A=ol();return En(l+A*(d-l+Bd("1e-"+((A+"").length-1))),d)}return la(l,d)}var uE=fi(function(l,d,v){return d=d.toLowerCase(),l+(v?hw(d):d)});function hw(l){return mx(Tt(l).toLowerCase())}function pw(l){return l=Tt(l),l&&l.replace(cp,Tp).replace(xp,"")}function dE(l,d,v){l=Tt(l),d=er(d);var j=l.length;v=v===t?j:Rs(ht(v),0,j);var A=v;return v-=d.length,v>=0&&l.slice(v,A)==d}function fE(l){return l=Tt(l),l&&tp.test(l)?l.replace(qo,Ap):l}function hE(l){return l=Tt(l),l&&Wa.test(l)?l.replace(Ba,"\\$&"):l}var pE=fi(function(l,d,v){return l+(v?"-":"")+d.toLowerCase()}),mE=fi(function(l,d,v){return l+(v?" ":"")+d.toLowerCase()}),gE=Cf("toLowerCase");function vE(l,d,v){l=Tt(l),d=ht(d);var j=d?Zo(l):0;if(!d||j>=d)return l;var A=(d-j)/2;return _l(lo(A),v)+l+_l(ti(A),v)}function xE(l,d,v){l=Tt(l),d=ht(d);var j=d?Zo(l):0;return d&&j<d?l+_l(d-j,v):l}function yE(l,d,v){l=Tt(l),d=ht(d);var j=d?Zo(l):0;return d&&j<d?_l(d-j,v)+l:l}function wE(l,d,v){return v||d==null?d=0:d&&(d=+d),Up(Tt(l).replace(Id,""),d||0)}function _E(l,d,v){return(v?Wn(l,d,v):d===t)?d=1:d=ht(d),ui(Tt(l),d)}function bE(){var l=arguments,d=Tt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var SE=fi(function(l,d,v){return l+(v?"_":"")+d.toLowerCase()});function jE(l,d,v){return v&&typeof v!="number"&&Wn(l,d,v)&&(d=v=t),v=v===t?B:v>>>0,v?(l=Tt(l),l&&(typeof d=="string"||d!=null&&!fx(d))&&(d=er(d),!d&&Gi(l))?Ds(ar(l),0,v):l.split(d,v)):[]}var NE=fi(function(l,d,v){return l+(v?" ":"")+mx(d)});function kE(l,d,v){return l=Tt(l),v=v==null?0:Rs(ht(v),0,l.length),d=er(d),l.slice(v,v+d.length)==d}function CE(l,d,v){var j=D.templateSettings;v&&Wn(l,d,v)&&(d=t),l=Tt(l),d=Am({},d,j,Tf);var A=Am({},d.imports,j.imports,Tf),$=Mn(A),G=Qa(A,$),J,ee,ve=0,xe=d.interpolate||mc,_e="__p += '",Re=Za((d.escape||mc).source+"|"+xe.source+"|"+(xe===Td?Ko:mc).source+"|"+(d.evaluate||mc).source+"|$","g"),Ge="//# sourceURL="+(Nt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Ev+"]")+`
`;l.replace(Re,function(st,yt,St,Kr,hr,Yr){return St||(St=Kr),_e+=l.slice(ve,Yr).replace(bv,Ip),yt&&(J=!0,_e+=`' +
__e(`+yt+`) +
'`),hr&&(ee=!0,_e+=`';
`+hr+`;
__p += '`),St&&(_e+=`' +
((__t = (`+St+`)) == null ? '' : __t) +
'`),ve=Yr+st.length,st}),_e+=`';
`;var rt=Nt.call(d,"variable")&&d.variable;if(!rt)_e=`with (obj) {
`+_e+`
}
`;else if(yv.test(rt))throw new it(h);_e=(ee?_e.replace(Ed,""):_e).replace(Pd,"$1").replace(Rd,"$1;"),_e="function("+(rt||"obj")+`) {
`+(rt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var pt=gw(function(){return jt($,Ge+"return "+_e).apply(t,G)});if(pt.source=_e,dx(pt))throw pt;return pt}function EE(l){return Tt(l).toLowerCase()}function PE(l){return Tt(l).toUpperCase()}function RE(l,d,v){if(l=Tt(l),l&&(v||d===t))return Ep(l);if(!l||!(d=er(d)))return l;var j=ar(l),A=ar(d),$=Pp(j,A),G=ef(j,A)+1;return Ds(j,$,G).join("")}function TE(l,d,v){if(l=Tt(l),l&&(v||d===t))return l.slice(0,Ac(l)+1);if(!l||!(d=er(d)))return l;var j=ar(l),A=ef(j,ar(d))+1;return Ds(j,0,A).join("")}function AE(l,d,v){if(l=Tt(l),l&&(v||d===t))return l.replace(Id,"");if(!l||!(d=er(d)))return l;var j=ar(l),A=Pp(j,ar(d));return Ds(j,A).join("")}function IE(l,d){var v=X,j=re;if(Qt(d)){var A="separator"in d?d.separator:A;v="length"in d?ht(d.length):v,j="omission"in d?er(d.omission):j}l=Tt(l);var $=l.length;if(Gi(l)){var G=ar(l);$=G.length}if(v>=$)return l;var J=v-Zo(j);if(J<1)return j;var ee=G?Ds(G,0,J).join(""):l.slice(0,J);if(A===t)return ee+j;if(G&&(J+=ee.length-J),fx(A)){if(l.slice(J).search(A)){var ve,xe=ee;for(A.global||(A=Za(A.source,Tt(Md.exec(A))+"g")),A.lastIndex=0;ve=A.exec(xe);)var _e=ve.index;ee=ee.slice(0,_e===t?J:_e)}}else if(l.indexOf(er(A),J)!=J){var Re=ee.lastIndexOf(A);Re>-1&&(ee=ee.slice(0,Re))}return ee+j}function OE(l){return l=Tt(l),l&&ep.test(l)?l.replace(Go,Op):l}var ME=fi(function(l,d,v){return l+(v?" ":"")+d.toUpperCase()}),mx=Cf("toUpperCase");function mw(l,d,v){return l=Tt(l),d=v?t:d,d===t?Dv(l)?zv(l):Iv(l):l.match(d)||[]}var gw=ft(function(l,d){try{return Fn(l,t,d)}catch(v){return dx(v)?v:new it(v)}}),DE=ms(function(l,d){return Cn(d,function(v){v=Hr(v),ls(l,v,Se(l[v],l))}),l});function LE(l){var d=l==null?0:l.length,v=Ze();return l=d?Ot(l,function(j){if(typeof j[1]!="function")throw new yr(u);return[v(j[0]),j[1]]}):[],ft(function(j){for(var A=-1;++A<d;){var $=l[A];if(Fn($[0],this,j))return Fn($[1],this,j)}})}function $E(l){return Kp(Zn(l,y))}function gx(l){return function(){return l}}function FE(l,d){return l==null||l!==l?d:l}var zE=du(),UE=du(!0);function Ar(l){return l}function vx(l){return aa(typeof l=="function"?l:Zn(l,y))}function BE(l){return eu(Zn(l,y))}function WE(l,d){return Bt(l,Zn(d,y))}var HE=ft(function(l,d){return function(v){return jr(v,l,d)}}),VE=ft(function(l,d){return function(v){return jr(l,v,d)}});function xx(l,d,v){var j=Mn(d),A=oa(d,j);v==null&&!(Qt(d)&&(A.length||!j.length))&&(v=d,d=l,l=this,A=oa(d,Mn(d)));var $=!(Qt(v)&&"chain"in v)||!!v.chain,G=wi(l);return Cn(A,function(J){var ee=d[J];l[J]=ee,G&&(l.prototype[J]=function(){var ve=this.__chain__;if($||ve){var xe=l(this.__wrapped__),_e=xe.__actions__=Un(this.__actions__);return _e.push({func:ee,args:arguments,thisArg:l}),xe.__chain__=ve,xe}return ee.apply(l,io([this.value()],arguments))})}),l}function GE(){return Ut._===this&&(Ut._=Lp),this}function yx(){}function qE(l){return l=ht(l),ft(function(d){return tu(d,l)})}var KE=fu(Ot),YE=fu(Gd),JE=fu(Yd);function vw(l){return Oe(l)?Xd(Hr(l)):Vt(l)}function XE(l){return function(d){return l==null?t:Ts(l,d)}}var QE=Pf(),ZE=Pf(!0);function wx(){return[]}function _x(){return!1}function eP(){return{}}function tP(){return""}function nP(){return!0}function rP(l,d){if(l=ht(l),l<1||l>W)return[];var v=B,j=En(l,B);d=Ze(d),l-=B;for(var A=Zd(j,d);++v<l;)d(v);return A}function sP(l){return ut(l)?Ot(l,Hr):qr(l)?[l]:Un(Uf(Tt(l)))}function oP(l){var d=++Yi;return Tt(l)+d}var iP=wl(function(l,d){return l+d},0),aP=_n("ceil"),lP=wl(function(l,d){return l/d},1),cP=_n("floor");function uP(l){return l&&l.length?ai(l,Ar,go):t}function dP(l,d){return l&&l.length?ai(l,Ze(d,2),go):t}function fP(l){return kp(l,Ar)}function hP(l,d){return kp(l,Ze(d,2))}function pP(l){return l&&l.length?ai(l,Ar,vo):t}function mP(l,d){return l&&l.length?ai(l,Ze(d,2),vo):t}var gP=wl(function(l,d){return l*d},1),vP=_n("round"),xP=wl(function(l,d){return l-d},0);function yP(l){return l&&l.length?Qd(l,Ar):0}function wP(l,d){return l&&l.length?Qd(l,Ze(d,2)):0}return D.after=Y,D.ary=ce,D.assign=P2,D.assignIn=lw,D.assignInWith=Am,D.assignWith=R2,D.at=T2,D.before=we,D.bind=Se,D.bindAll=DE,D.bindKey=ye,D.castArray=e2,D.chain=Eu,D.chunk=wu,D.compact=Bf,D.concat=Er,D.cond=LE,D.conforms=$E,D.constant=gx,D.countBy=Nm,D.create=A2,D.curry=Ae,D.curryRight=Me,D.debounce=De,D.defaults=I2,D.defaultsDeep=O2,D.defer=Xt,D.delay=se,D.difference=bt,D.differenceBy=vn,D.differenceWith=rn,D.drop=jn,D.dropRight=fr,D.dropRightWhile=xa,D.dropWhile=cn,D.fill=Pl,D.filter=Tu,D.flatMap=eh,D.flatMapDeep=ix,D.flatMapDepth=Em,D.flatten=_u,D.flattenDeep=Tl,D.flattenDepth=tr,D.flip=Q,D.flow=zE,D.flowRight=UE,D.fromPairs=Wf,D.functions=U2,D.functionsIn=B2,D.groupBy=th,D.initial=bu,D.intersection=Hf,D.intersectionBy=bo,D.intersectionWith=Su,D.invert=H2,D.invertBy=V2,D.invokeMap=Pm,D.iteratee=vx,D.keyBy=ax,D.keys=Mn,D.keysIn=Tr,D.map=yi,D.mapKeys=q2,D.mapValues=K2,D.matches=BE,D.matchesProperty=WE,D.memoize=ie,D.merge=Y2,D.mergeWith=cw,D.method=HE,D.methodOf=VE,D.mixin=xx,D.negate=Ne,D.nthArg=qE,D.omit=J2,D.omitBy=X2,D.once=Be,D.orderBy=lx,D.over=KE,D.overArgs=Qe,D.overEvery=YE,D.overSome=JE,D.partial=Xe,D.partialRight=nt,D.partition=Ml,D.pick=Q2,D.pickBy=uw,D.property=vw,D.propertyOf=XE,D.pull=ju,D.pullAll=Il,D.pullAllBy=Vn,D.pullAllWith=jo,D.pullAt=Vr,D.range=QE,D.rangeRight=ZE,D.rearg=xn,D.reject=s,D.remove=nr,D.rest=kt,D.reverse=Nu,D.sampleSize=f,D.set=eE,D.setWith=tE,D.shuffle=m,D.slice=Gf,D.sortBy=M,D.sortedUniq=Yf,D.sortedUniqBy=gi,D.split=jE,D.spread=ko,D.tail=xm,D.take=ym,D.takeRight=Jf,D.takeRightWhile=ku,D.takeWhile=Jv,D.tap=rx,D.throttle=ux,D.thru=Gr,D.toArray=ow,D.toPairs=dw,D.toPairsIn=fw,D.toPath=sP,D.toPlainObject=aw,D.transform=nE,D.unary=QC,D.union=Xv,D.unionBy=wm,D.unionWith=_m,D.uniq=vi,D.uniqBy=Qv,D.uniqWith=ya,D.unset=rE,D.unzip=Cu,D.unzipWith=Gt,D.update=sE,D.updateWith=oE,D.values=Lu,D.valuesIn=iE,D.without=Zv,D.words=mw,D.wrap=ZC,D.xor=bm,D.xorBy=ex,D.xorWith=tx,D.zip=Sm,D.zipObject=jm,D.zipObjectDeep=nx,D.zipWith=Pr,D.entries=dw,D.entriesIn=fw,D.extend=lw,D.extendWith=Am,xx(D,D),D.add=iP,D.attempt=gw,D.camelCase=uE,D.capitalize=hw,D.ceil=aP,D.clamp=aE,D.clone=t2,D.cloneDeep=r2,D.cloneDeepWith=s2,D.cloneWith=n2,D.conformsTo=o2,D.deburr=pw,D.defaultTo=FE,D.divide=lP,D.endsWith=dE,D.eq=zs,D.escape=fE,D.escapeRegExp=hE,D.every=km,D.find=Au,D.findIndex=_o,D.findKey=M2,D.findLast=Cm,D.findLastIndex=Rl,D.findLastKey=D2,D.floor=cP,D.forEach=Iu,D.forEachRight=Ol,D.forIn=L2,D.forInRight=$2,D.forOwn=F2,D.forOwnRight=z2,D.get=hx,D.gt=i2,D.gte=a2,D.has=W2,D.hasIn=px,D.head=pi,D.identity=Ar,D.includes=Ou,D.indexOf=Fs,D.inRange=lE,D.invoke=G2,D.isArguments=Dl,D.isArray=ut,D.isArrayBuffer=l2,D.isArrayLike=Rr,D.isArrayLikeObject=un,D.isBoolean=c2,D.isBuffer=wa,D.isDate=u2,D.isElement=d2,D.isEmpty=f2,D.isEqual=h2,D.isEqualWith=p2,D.isError=dx,D.isFinite=m2,D.isFunction=wi,D.isInteger=tw,D.isLength=Rm,D.isMap=nw,D.isMatch=g2,D.isMatchWith=v2,D.isNaN=x2,D.isNative=y2,D.isNil=_2,D.isNull=w2,D.isNumber=rw,D.isObject=Qt,D.isObjectLike=sn,D.isPlainObject=nh,D.isRegExp=fx,D.isSafeInteger=b2,D.isSet=sw,D.isString=Tm,D.isSymbol=qr,D.isTypedArray=Du,D.isUndefined=S2,D.isWeakMap=j2,D.isWeakSet=N2,D.join=So,D.kebabCase=pE,D.last=Hn,D.lastIndexOf=Al,D.lowerCase=mE,D.lowerFirst=gE,D.lt=k2,D.lte=C2,D.max=uP,D.maxBy=dP,D.mean=fP,D.meanBy=hP,D.min=pP,D.minBy=mP,D.stubArray=wx,D.stubFalse=_x,D.stubObject=eP,D.stubString=tP,D.stubTrue=nP,D.multiply=gP,D.nth=Vf,D.noConflict=GE,D.noop=yx,D.now=H,D.pad=vE,D.padEnd=xE,D.padStart=yE,D.parseInt=wE,D.random=cE,D.reduce=cx,D.reduceRight=Mu,D.repeat=_E,D.replace=bE,D.result=Z2,D.round=vP,D.runInContext=Z,D.sample=a,D.size=_,D.snakeCase=SE,D.some=S,D.sortedIndex=qf,D.sortedIndexBy=Yv,D.sortedIndexOf=No,D.sortedLastIndex=vm,D.sortedLastIndexBy=Kf,D.sortedLastIndexOf=mi,D.startCase=NE,D.startsWith=kE,D.subtract=xP,D.sum=yP,D.sumBy=wP,D.template=CE,D.times=rP,D.toFinite=_i,D.toInteger=ht,D.toLength=iw,D.toLower=EE,D.toNumber=vs,D.toSafeInteger=E2,D.toString=Tt,D.toUpper=PE,D.trim=RE,D.trimEnd=TE,D.trimStart=AE,D.truncate=IE,D.unescape=OE,D.uniqueId=oP,D.upperCase=ME,D.upperFirst=mx,D.each=Iu,D.eachRight=Ol,D.first=pi,xx(D,function(){var l={};return ur(D,function(d,v){Nt.call(D.prototype,v)||(l[v]=d)}),l}(),{chain:!1}),D.VERSION=r,Cn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){D[l].placeholder=D}),Cn(["drop","take"],function(l,d){ct.prototype[l]=function(v){v=v===t?1:nn(ht(v),0);var j=this.__filtered__&&!d?new ct(this):this.clone();return j.__filtered__?j.__takeCount__=En(v,j.__takeCount__):j.__views__.push({size:En(v,B),type:l+(j.__dir__<0?"Right":"")}),j},ct.prototype[l+"Right"]=function(v){return this.reverse()[l](v).reverse()}}),Cn(["filter","map","takeWhile"],function(l,d){var v=d+1,j=v==me||v==ge;ct.prototype[l]=function(A){var $=this.clone();return $.__iteratees__.push({iteratee:Ze(A,3),type:v}),$.__filtered__=$.__filtered__||j,$}}),Cn(["head","last"],function(l,d){var v="take"+(d?"Right":"");ct.prototype[l]=function(){return this[v](1).value()[0]}}),Cn(["initial","tail"],function(l,d){var v="drop"+(d?"":"Right");ct.prototype[l]=function(){return this.__filtered__?new ct(this):this[v](1)}}),ct.prototype.compact=function(){return this.filter(Ar)},ct.prototype.find=function(l){return this.filter(l).head()},ct.prototype.findLast=function(l){return this.reverse().find(l)},ct.prototype.invokeMap=ft(function(l,d){return typeof l=="function"?new ct(this):this.map(function(v){return jr(v,l,d)})}),ct.prototype.reject=function(l){return this.filter(Ne(Ze(l)))},ct.prototype.slice=function(l,d){l=ht(l);var v=this;return v.__filtered__&&(l>0||d<0)?new ct(v):(l<0?v=v.takeRight(-l):l&&(v=v.drop(l)),d!==t&&(d=ht(d),v=d<0?v.dropRight(-d):v.take(d-l)),v)},ct.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ct.prototype.toArray=function(){return this.take(B)},ur(ct.prototype,function(l,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),j=/^(?:head|last)$/.test(d),A=D[j?"take"+(d=="last"?"Right":""):d],$=j||/^find/.test(d);A&&(D.prototype[d]=function(){var G=this.__wrapped__,J=j?[1]:arguments,ee=G instanceof ct,ve=J[0],xe=ee||ut(G),_e=function(yt){var St=A.apply(D,io([yt],J));return j&&Re?St[0]:St};xe&&v&&typeof ve=="function"&&ve.length!=1&&(ee=xe=!1);var Re=this.__chain__,Ge=!!this.__actions__.length,rt=$&&!Re,pt=ee&&!Ge;if(!$&&xe){G=pt?G:new ct(this);var st=l.apply(G,J);return st.__actions__.push({func:Gr,args:[_e],thisArg:t}),new Pn(st,Re)}return rt&&pt?l.apply(this,J):(st=this.thru(_e),rt?j?st.value()[0]:st.value():st)})}),Cn(["pop","push","shift","sort","splice","unshift"],function(l){var d=ks[l],v=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",j=/^(?:pop|shift)$/.test(l);D.prototype[l]=function(){var A=arguments;if(j&&!this.__chain__){var $=this.value();return d.apply(ut($)?$:[],A)}return this[v](function(G){return d.apply(ut(G)?G:[],A)})}}),ur(ct.prototype,function(l,d){var v=D[d];if(v){var j=v.name+"";Nt.call(Zi,j)||(Zi[j]=[]),Zi[j].push({name:d,func:v})}}),Zi[pa(t,R).name]=[{name:"wrapper",func:t}],ct.prototype.clone=Wc,ct.prototype.reverse=lf,ct.prototype.value=na,D.prototype.at=Pu,D.prototype.chain=xi,D.prototype.commit=Ru,D.prototype.next=Xf,D.prototype.plant=sx,D.prototype.reverse=Zf,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=ox,D.prototype.first=D.prototype.head,Es&&(D.prototype[Es]=Qf),D},qi=Uv();ns?((ns.exports=qi)._=qi,Xa._=qi):Ut._=qi}).call(yz)}(vh,vh.exports)),vh.exports}var _z=wz();function Nd({bookingToEdit:n,selectedCell:e,allBookings:t,rooms:r,services:o,onClose:c,onBookingSaved:u}){var B;const{t:h,currentLanguage:p,formatCurrency:g}=Zr("booking"),x=[{value:"Direct",label:h("sources.direct")},{value:"Booking.com",label:"Booking.com"},{value:"Airbnb",label:"Airbnb"},{value:"site",label:h("sources.website")},{value:"ai_agent",label:h("sources.aiAgent")},{value:"phone",label:h("sources.phone")},{value:"other",label:h("sources.other")},{value:"Expedia",label:"Expedia"},{value:"Open Channel",label:"Open Channel"}],y=[{value:"pending",label:h("status.pending")},{value:"confirmed",label:h("status.confirmed")},{value:"checked_in",label:h("status.checkedIn")},{value:"checked_out",label:h("status.checkedOut")},{value:"cancelled",label:h("status.cancelled")}],[b,C]=w.useState({}),[E,P]=w.useState([]),[N,R]=w.useState([]),[k,T]=w.useState(!1),[O,I]=w.useState("");w.useEffect(()=>{var V,oe,ue;console.log("🚀 Initializing modal with:",{bookingToEdit:n,selectedCell:e});const U=n?{...n,room_id:String(n.room_id),check_in:We(_t(n.check_in),"yyyy-MM-dd"),check_out:We(_t(n.check_out),"yyyy-MM-dd"),guest_name:((V=n.guests)==null?void 0:V.full_name)||"",guest_phone:((oe=n.guests)==null?void 0:oe.phone)||"",guest_email:((ue=n.guests)==null?void 0:ue.email)||"",guests_count:n.guests_count||n.guest_count||1}:{source:"direct",status:"pending",guests_count:1,amount_paid:0,notes:"",room_id:String((e==null?void 0:e.roomId)||(r.length>0?r[0].id:"")),check_in:We((e==null?void 0:e.checkIn)||new Date,"yyyy-MM-dd"),check_out:We((e==null?void 0:e.checkOut)||new Date,"yyyy-MM-dd"),guest_name:"",guest_phone:"",guest_email:""};C(U),n!=null&&n.booking_services?(console.log("📋 Loading existing services:",n.booking_services),R(n.booking_services)):R([]),P([]),I("")},[n,e,r]),w.useEffect(()=>{n&&b.booking_services&&JSON.stringify(b.booking_services)!==JSON.stringify(N)&&(console.log("🔄 Updating services from formData:",b.booking_services),R(b.booking_services))},[b.booking_services,n,N]);const{accommodationTotal:L,servicesTotal:z,totalAmount:F,nights:q}=w.useMemo(()=>{const U=r.find(Le=>Le.id===b.room_id),V=(U==null?void 0:U.price_per_night)||0,oe=b.check_in?new Date(b.check_in):null,ue=b.check_out?new Date(b.check_out):null,he=oe&&ue&&ue>oe?Ty(ue,oe):0,te=he*V,fe=E.reduce((Le,tt)=>Le+(tt.price_at_booking||0)*tt.quantity,0),je=N.reduce((Le,tt)=>Le+(tt.price_at_booking||0)*tt.quantity,0),Ce=fe+je,He=te+Ce;return{accommodationTotal:te,servicesTotal:Ce,totalAmount:He,nights:he}},[b.check_in,b.check_out,b.room_id,E,N,r]),X=w.useMemo(()=>{if(!b.check_in||!b.check_out)return r;const U=new Date(b.check_in),V=new Date(b.check_out);if(V<=U)return r;const oe=(t||[]).filter(ue=>{if(n&&ue.id===n.id||ue.status==="cancelled"||!ue.check_in||!ue.check_out)return!1;const he=new Date(ue.check_in),te=new Date(ue.check_out);return U<te&&V>he}).map(ue=>ue.room_id);return r.filter(ue=>!oe.includes(ue.id))},[b.check_in,b.check_out,t,r,n]),re=w.useMemo(()=>_z.groupBy(o,"category"),[o]),ae=(U,V)=>{console.log(`📝 Field changed: ${U} = ${V}`),C(oe=>({...oe,[U]:V}))},pe=async U=>{U.preventDefault(),T(!0),I("");try{if(!b.guest_name.trim())throw new Error(h("errors.guestNameRequired"));if(console.log("💾 Saving booking with data:",b),n){const V={full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},oe={source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:L,services_total:N.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0),total_amount:L+N.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0)};console.log("🔄 Updating guest:",V);const{error:ue}=await hz(n.guest_id,V);if(ue)throw ue;console.log("🔄 Updating booking:",oe);const{error:he}=await Xy(n.id,oe);if(he)throw he}else{const V={guest_details:{full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:L,services_total:0,total_amount:L};console.log("🆕 Creating booking:",V);const oe=await fz(V);if(oe.error)throw oe.error}console.log("✅ Booking saved successfully"),u()}catch(V){console.error("❌ Error saving booking:",V),I(V.message)}finally{T(!1)}},me=async()=>{var U;if(window.confirm(h("messages.confirmDelete"))){console.log("🗑️ Starting delete process for booking:",{id:n.id,guest:(U=n.guests)==null?void 0:U.full_name,room_id:n.room_id,status:n.status}),T(!0),I("");try{console.log("📡 Calling deleteBooking API...");const{error:V}=await pz(n.id);if(V)throw V;console.log("✅ Booking deleted successfully, calling onBookingSaved..."),u(),console.log("✅ Delete process completed successfully")}catch(V){console.error("❌ Error deleting booking:",V),I(V.message)}finally{T(!1)}}},ke=U=>{if(console.log("🛒 Adding service to cart:",U),E.find(V=>V.service_id===U.id)){console.log("⚠️ Service already in cart");return}P(V=>[...V,{service_id:U.id,name:U.name,quantity:1,price_at_booking:U.price}])},ge=U=>{console.log("🗑️ Removing service from cart:",U),P(V=>V.filter(oe=>oe.service_id!==U))},be=(U,V,oe)=>{console.log(`📝 Cart service changed: ${U}.${V} = ${oe}`),P(ue=>ue.map(he=>he.service_id===U?{...he,[V]:oe}:he))},W=async()=>{if(!n||E.length===0){console.log("⚠️ No booking to edit or empty cart");return}T(!0),I("");try{console.log("💾 Adding services to booking:",{bookingId:n.id,services:E}),await mz(n.id,E),console.log("✅ Services added successfully"),P([]),u()}catch(U){console.error("❌ Error adding services:",U),I(U.message||"Ошибка при добавлении услуг")}finally{T(!1)}},K=async U=>{T(!0),I("");try{console.log("🗑️ Removing booked service:",U);const V=await gz(U);if(V.error)throw V.error;console.log("✅ Service removed successfully"),u()}catch(V){console.error("❌ Error removing service:",V),I(V.message||"Ошибка при удалении услуги")}finally{T(!1)}},ne=p==="ru"?"RUB":"USD";return i.jsx(zy,{open:!0,onOpenChange:c,children:i.jsxs(dv,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fv,{children:[i.jsx(hv,{className:"text-xl font-semibold",children:n?`${h("editTitle")} №${(B=n.id)==null?void 0:B.substring(0,8)}`:h("title")}),i.jsx(By,{children:n?"Редактирование существующей брони":"Создание новой брони"})]}),i.jsxs(_d,{defaultValue:"details",children:[i.jsxs(ac,{className:"grid w-full grid-cols-2",children:[i.jsx(fn,{value:"details",children:h("tabs.details")}),i.jsx(fn,{value:"services",disabled:!n,children:h("tabs.services")})]}),i.jsx(hn,{value:"details",children:i.jsxs("form",{onSubmit:pe,className:"space-y-6 p-1",children:[O&&i.jsxs(_s,{variant:"destructive",children:[i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:O})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx("div",{className:"md:col-span-1 space-y-4",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center",children:[i.jsx(Ys,{className:"mr-2 h-5 w-5"}),h("guest.title")]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Je,{children:h("guest.fullName")}),i.jsx(qe,{value:b.guest_name||"",onChange:U=>ae("guest_name",U.target.value),required:!0})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("guest.phone")}),i.jsx(qe,{value:b.guest_phone||"",onChange:U=>ae("guest_phone",U.target.value)})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("guest.email")}),i.jsx(qe,{type:"email",value:b.guest_email||"",onChange:U=>ae("guest_email",U.target.value)})]})]})]})}),i.jsx("div",{className:"md:col-span-1 space-y-4",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center",children:[i.jsx(gg,{className:"mr-2 h-5 w-5"}),h("details.title")]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Je,{children:h("details.room")}),i.jsxs(Ao,{value:b.room_id||"",onValueChange:U=>ae("room_id",U),children:[i.jsx(Vs,{children:i.jsx(Io,{placeholder:h("details.selectRoom")})}),i.jsxs(Gs,{children:[X.map(U=>i.jsxs(Ft,{value:String(U.id),children:[U.room_number," (",U.room_type,")"]},U.id)),X.length===0&&i.jsx("div",{className:"p-2 text-sm text-slate-500",children:h("details.noAvailableRooms")})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx(Je,{children:h("details.checkIn")}),i.jsx(qe,{type:"date",value:b.check_in||"",onChange:U=>ae("check_in",U.target.value)})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("details.checkOut")}),i.jsx(qe,{type:"date",value:b.check_out||"",onChange:U=>ae("check_out",U.target.value)})]})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("details.guestCount")}),i.jsx(qe,{type:"number",min:"1",value:b.guests_count||1,onChange:U=>ae("guests_count",U.target.value)})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("details.status")}),i.jsxs(Ao,{value:b.status||"pending",onValueChange:U=>ae("status",U),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsx(Gs,{children:y.map(U=>i.jsx(Ft,{value:U.value,children:U.label},U.value))})]})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("details.source")}),i.jsxs(Ao,{value:b.source||"direct",onValueChange:U=>ae("source",U),children:[i.jsx(Vs,{children:i.jsx(Io,{})}),i.jsx(Gs,{children:x.map(U=>i.jsx(Ft,{value:U.value,children:U.label},U.value))})]})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("details.notes")}),i.jsx(cv,{value:b.notes||"",onChange:U=>ae("notes",U.target.value),placeholder:h("details.notesPlaceholder")})]})]})]})}),i.jsx("div",{className:"md:col-span-1 space-y-4",children:i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:h("finance.title")})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2 text-sm",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{children:h("finance.accommodation",{nights:q})}),i.jsx("span",{className:"font-medium",children:g(L,ne)})]}),i.jsx("div",{className:"font-medium mt-2",children:h("finance.orderedServices")}),N.length>0?N.map(U=>{var V;return i.jsxs("div",{className:"flex justify-between pl-2",children:[i.jsxs("span",{children:[((V=U.services)==null?void 0:V.name)||U.name," x ",U.quantity]}),i.jsx("span",{children:g(U.price_at_booking*U.quantity,ne)})]},U.id)}):null,E.length>0&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"text-xs text-blue-600 font-medium mt-2",children:"В корзине:"}),E.map(U=>i.jsxs("div",{className:"flex justify-between pl-2 text-blue-600",children:[i.jsxs("span",{children:[U.name," x ",U.quantity]}),i.jsx("span",{children:g(U.price_at_booking*U.quantity,ne)})]},U.service_id))]}),N.length===0&&E.length===0&&i.jsx("p",{className:"text-slate-500 pl-2",children:h("finance.noServices")}),i.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 mt-2",children:[i.jsx("span",{children:h("finance.total")}),i.jsx("span",{children:g(F,ne)})]})]}),i.jsxs("div",{children:[i.jsx(Je,{children:h("finance.paid")}),i.jsx(qe,{type:"number",value:b.amount_paid||0,onChange:U=>ae("amount_paid",U.target.value),placeholder:"0"})]}),i.jsx("div",{className:"p-4 bg-red-50 rounded-lg text-red-800",children:i.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[i.jsx("span",{children:h("finance.balance")}),i.jsx("span",{children:g(F-(b.amount_paid||0),ne)})]})})]})]})})]}),i.jsxs(Uy,{children:[n&&i.jsxs(et,{type:"button",variant:"destructive",onClick:me,disabled:k,className:"mr-auto",children:[i.jsx(zx,{className:"h-4 w-4 mr-2"}),h("actions.delete")]}),i.jsx(et,{type:"button",variant:"ghost",onClick:c,children:h("actions.cancel")}),i.jsx(et,{type:"submit",disabled:k,children:h(k?"actions.saving":"actions.save")})]})]})}),i.jsx(hn,{value:"services",children:i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:h("services.available")})}),i.jsx(Ie,{className:"space-y-2 max-h-96 overflow-y-auto",children:i.jsx(dz,{type:"multiple",defaultValue:Object.keys(re),children:Object.entries(re).map(([U,V])=>i.jsxs(RC,{value:U,children:[i.jsx(TC,{children:U}),i.jsx(AC,{children:V.map(oe=>i.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:oe.name}),i.jsx("p",{className:"text-sm text-slate-500",children:g(oe.price,ne)})]}),i.jsxs(et,{size:"sm",variant:"outline",onClick:()=>ke(oe),disabled:k||E.find(ue=>ue.service_id===oe.id),children:[i.jsx(BM,{className:"h-4 w-4 mr-2"}),h("services.addToCart")]})]},oe.id))})]},U))})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:h("services.cart")})}),i.jsxs(Ie,{className:"space-y-2 max-h-96 overflow-y-auto",children:[E.length>0?E.map(U=>i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:U.name}),i.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[i.jsx(qe,{type:"number",min:"1",value:U.quantity,onChange:V=>be(U.service_id,"quantity",parseInt(V.target.value)||1),className:"w-16 h-8"}),i.jsx(qe,{type:"number",min:"0",step:"0.01",value:U.price_at_booking,onChange:V=>be(U.service_id,"price_at_booking",parseFloat(V.target.value)||0),className:"w-24 h-8"})]})]}),i.jsx(et,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>ge(U.service_id),children:i.jsx(zx,{className:"h-4 w-4"})})]},U.service_id)):i.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.cartEmpty")}),E.length>0&&i.jsx(et,{onClick:W,disabled:k,className:"w-full mt-4",children:h(k?"actions.saving":"services.addSelected")})]}),i.jsx(Ke,{children:i.jsx(Ye,{children:h("services.ordered")})}),i.jsx(Ie,{className:"space-y-2 max-h-96 overflow-y-auto",children:N.length>0?N.map(U=>{var V;return i.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[i.jsxs("div",{children:[i.jsxs("p",{children:[((V=U.services)==null?void 0:V.name)||U.name," x ",U.quantity]}),i.jsx("p",{className:"text-sm text-slate-500",children:g(U.price_at_booking*U.quantity,ne)})]}),i.jsx(et,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>K(U.id),disabled:k,children:i.jsx(zx,{className:"h-4 w-4"})})]},U.id)}):i.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.noOrdered")})})]})]})})]})]})})}function bz({bookings:n,onNavigate:e}){const t=w.useMemo(()=>{const o=new Date,c=We(o,"yyyy-MM-dd"),u=n.filter(N=>N.status!=="cancelled"),h=u.filter(N=>We(_t(N.check_in),"yyyy-MM-dd")===c),p=u.filter(N=>We(_t(N.check_out),"yyyy-MM-dd")===c),g=u.filter(N=>{const R=_t(N.check_in),k=_t(N.check_out);return R<=o&&k>o}),x=u.filter(N=>{var R;if((R=N.guests)!=null&&R.birthday){const k=_t(N.guests.birthday);return We(k,"MM-dd")===We(o,"MM-dd")}return!1}),y=0,b=21,C=g.length,E=b-C,P=b>0?Math.round(C/b*100):0;return{checkIns:h.length,checkOuts:p.length,currentStays:g.length,birthdays:x.length,tasks:y,totalRooms:b,freeRooms:E,occupiedRooms:C,occupancyRate:P}},[n]),r=o=>{const u={checkins:"/Arrivals",checkouts:"/Departures",stays:"/Stays",birthdays:"/Birthdays",tasks:"/Tasks"}[o];u&&e&&e(u)};return i.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkins"),children:[i.jsx(ld,{className:"h-4 w-4 text-green-500"}),i.jsx("span",{className:"text-slate-600",children:"Заезды"}),i.jsx("span",{className:"font-semibold text-green-500",children:t.checkIns})]}),i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkouts"),children:[i.jsx(Ea,{className:"h-4 w-4 text-blue-500"}),i.jsx("span",{className:"text-slate-600",children:"Выезды"}),i.jsx("span",{className:"font-semibold text-blue-500",children:t.checkOuts})]}),i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("stays"),children:[i.jsx(Xl,{className:"h-4 w-4 text-purple-500"}),i.jsx("span",{className:"text-slate-600",children:"Проживание"}),i.jsx("span",{className:"font-semibold text-purple-500",children:t.currentStays})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("birthdays"),children:[i.jsx(k0,{className:"h-4 w-4 text-pink-500"}),i.jsx("span",{className:"text-slate-600",children:"Дни рождения"}),i.jsx("span",{className:"font-semibold text-pink-500",children:t.birthdays})]}),i.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("tasks"),children:[i.jsx(C0,{className:"h-4 w-4 text-orange-500"}),i.jsx("span",{className:"text-slate-600",children:"Задачи"}),i.jsx("span",{className:"font-semibold text-orange-500",children:t.tasks})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-slate-600",children:"Свободно номеров"}),i.jsxs("span",{className:"font-semibold text-green-500",children:[t.freeRooms," (0)"]})]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-slate-600",children:"Занято номеров"}),i.jsxs("span",{className:"font-semibold text-red-500",children:[t.occupiedRooms," (",t.occupiedRooms,")"]})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-slate-600",children:"Загрузка"}),i.jsxs("span",{className:"font-semibold text-blue-500",children:[t.occupancyRate,"%"]})]}),i.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${Math.min(t.occupancyRate,100)}%`}})})]})]})]})}var Sz="Separator",Fb="horizontal",jz=["horizontal","vertical"],IC=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=Fb,...o}=n,c=Nz(r)?r:Fb,h=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return i.jsx(ot.div,{"data-orientation":c,...h,...o,ref:e})});IC.displayName=Sz;function Nz(n){return jz.includes(n)}var OC=IC;const jh=w.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>i.jsx(OC,{ref:o,decorative:t,orientation:e,className:Ue("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));jh.displayName=OC.displayName;function kz({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(We(new Date,"yyyy-MM-dd")),[c,u]=w.useState(!1),[h,p]=w.useState({auto:{bookingsCount:0,checkInsCount:0,checkOutsCount:0,currentOccupancy:0,totalRevenue:0,servicesRevenue:0},manual:{income:{hotel:130600,restaurant:2200,bank_account:582e3,expenses:24e3,currency_exchange_in:0,currency_exchange_out:0},expenses:{products:28019,laundry:4400,household_expenses:0,transport:500,gas:0,bottled_water:0,utilities_security:35e3,rent_yohan_house:15e3,electricity:0,gas_state:0,internet:0,workers:24e3,repair:0,equipment_pump:0,service:0,additional:{utilities_management:0,hotel_chemistry:0,pool_chemistry:0,booking_exely:632e3,bonuses_management:0,laundry_service:0}}}});w.useEffect(()=>{g()},[r]);const g=async()=>{u(!0);try{const N=new Date(r),R=Pa(N),k=N5(N),T=await Xh(R,k);if(T.error)throw T.error;const O=T.data||[],I=O.filter(ae=>We(_t(ae.check_in),"yyyy-MM-dd")===r),L=O.filter(ae=>We(_t(ae.check_out),"yyyy-MM-dd")===r),z=O.filter(ae=>{const pe=_t(ae.check_in),me=_t(ae.check_out);return pe<=N&&me>N}),F=O.reduce((ae,pe)=>ae+(pe.total_amount||0),0),q=O.reduce((ae,pe)=>ae+(pe.services_total||0),0),re=(await xz(r)).data;p(ae=>({auto:{bookingsCount:O.length,checkInsCount:I.length,checkOutsCount:L.length,currentOccupancy:z.length,totalRevenue:F,servicesRevenue:q},manual:re?{income:re.income_data||ae.manual.income,expenses:re.expenses_data||ae.manual.expenses}:ae.manual}))}catch(N){console.error("Error loading report data:",N)}finally{u(!1)}},x=w.useMemo(()=>{const N=Object.values(h.manual.income).reduce((k,T)=>k+(parseFloat(T)||0),0),R=Object.values(h.manual.expenses).reduce((k,T)=>typeof T=="object"?k+Object.values(T).reduce((O,I)=>O+(parseFloat(I)||0),0):k+(parseFloat(T)||0),0);return{income:N,expenses:R,profit:N-R,cashEnd:453165}},[h.manual]),y=(N,R,k)=>{p(T=>({...T,manual:{...T.manual,[N]:{...T.manual[N],[R]:parseFloat(k)||0}}}))},b=(N,R)=>{p(k=>({...k,manual:{...k.manual,expenses:{...k.manual.expenses,additional:{...k.manual.expenses.additional,[N]:parseFloat(R)||0}}}}))},C=async()=>{try{u(!0),console.log("💾 Saving daily report for date:",r);const N=await vz(r,h);if(N.error)throw N.error;console.log("✅ Daily report saved successfully"),alert("Отчет успешно сохранен!")}catch(N){console.error("❌ Error saving report:",N),alert(`Ошибка сохранения отчета: ${N.message}`)}finally{u(!1)}},E=()=>{window.print()},P=N=>{alert(`Экспорт в ${N} будет реализован в следующем обновлении`)};return i.jsx(zy,{open:n,onOpenChange:e,children:i.jsxs(dv,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[i.jsx(fv,{children:i.jsxs(hv,{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(Jl,{className:"h-6 w-6 text-blue-600"}),"Ежедневный отчет"]})}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx(Je,{htmlFor:"report-date",className:"text-sm font-medium",children:"Дата отчета:"}),i.jsx(qe,{id:"report-date",type:"date",value:r,onChange:N=>o(N.target.value),className:"w-48"}),c&&i.jsx("span",{className:"text-sm text-slate-500",children:"Загрузка данных..."})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2 text-green-600",children:[i.jsx(kS,{className:"h-5 w-5"}),"Приход"]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"Отель"}),i.jsx(qe,{type:"number",value:h.manual.income.hotel,onChange:N=>y("income","hotel",N.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"Рестик"}),i.jsx(qe,{type:"number",value:h.manual.income.restaurant,onChange:N=>y("income","restaurant",N.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"С расчетного счета"}),i.jsx(qe,{type:"number",value:h.manual.income.bank_account,onChange:N=>y("income","bank_account",N.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"Затраки"}),i.jsx(qe,{type:"number",value:h.manual.income.expenses,onChange:N=>y("income","expenses",N.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"Обмен в рубли"}),i.jsx(qe,{type:"number",value:h.manual.income.currency_exchange_in,onChange:N=>y("income","currency_exchange_in",N.target.value),className:"mt-1"})]}),i.jsxs("div",{children:[i.jsx(Je,{className:"text-xs text-slate-500",children:"Обмен из рублей"}),i.jsx(qe,{type:"number",value:h.manual.income.currency_exchange_out,onChange:N=>y("income","currency_exchange_out",N.target.value),className:"mt-1"})]})]}),i.jsx(jh,{}),i.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[i.jsx("span",{children:"Итого приход:"}),i.jsxs("span",{className:"text-green-600",children:[x.income.toLocaleString()," ₽"]})]})]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2 text-red-600",children:[i.jsx(HD,{className:"h-5 w-5"}),"Расход"]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[Object.entries(h.manual.expenses).map(([N,R])=>{if(N==="additional")return null;const k={products:"Продукты",laundry:"Пани",household_expenses:"Хоз расход",transport:"Проезд",gas:"Газ",bottled_water:"Вода бутылированная",utilities_security:"З/п сотрудники самана охрана",rent_yohan_house:"Аренда жилья Йохан Дом",electricity:"Электричество",gas_state:"Вода гос",internet:"Интернет",workers:"Рабочие",repair:"Ремонт",equipment_pump:"Оборудование насос машинка",service:"Сервис"};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Je,{className:"text-xs text-slate-600 flex-1",children:k[N]}),i.jsx(qe,{type:"number",value:R,onChange:T=>y("expenses",N,T.target.value),className:"w-24 h-8 text-xs"})]},N)}),i.jsx(jh,{}),i.jsx("div",{className:"text-xs font-medium text-slate-700 mt-4",children:"Дополнительно"}),Object.entries(h.manual.expenses.additional).map(([N,R])=>{const k={utilities_management:"З/п управл",hotel_chemistry:"Химия отель",pool_chemistry:"Химия бассейн",booking_exely:"Букинг Exely",bonuses_management:"Бонусы Управляющие",laundry_service:"Прачедная"};return i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Je,{className:"text-xs text-slate-600 flex-1",children:k[N]}),i.jsx(qe,{type:"number",value:R,onChange:T=>b(N,T.target.value),className:"w-24 h-8 text-xs"})]},N)})]}),i.jsx(jh,{}),i.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[i.jsx("span",{children:"Итого расход:"}),i.jsxs("span",{className:"text-red-600",children:[x.expenses.toLocaleString()," ₽"]})]})]})]})]}),i.jsx(Pe,{className:"bg-slate-50",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.income.toLocaleString()}),i.jsx("div",{className:"text-sm text-slate-600",children:"Общий приход"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.expenses.toLocaleString()}),i.jsx("div",{className:"text-sm text-slate-600",children:"Общий расход"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:`text-2xl font-bold ${x.profit>=0?"text-green-600":"text-red-600"}`,children:x.profit.toLocaleString()}),i.jsx("div",{className:"text-sm text-slate-600",children:"Прибыль/Убыток"})]}),i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.cashEnd.toLocaleString()}),i.jsx("div",{className:"text-sm text-slate-600",children:"Остаток в кассе"})]})]})})}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(bS,{className:"h-5 w-5 text-blue-600"}),"Данные из системы"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Общая выручка за день"}),i.jsxs("div",{className:"text-lg font-bold text-green-600",children:[h.auto.totalRevenue.toLocaleString()," ₽"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Выручка от услуг"}),i.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[h.auto.servicesRevenue.toLocaleString()," ₽"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Загрузка номеров"}),i.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[h.auto.currentOccupancy," номеров"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Заезды за день"}),i.jsx("div",{className:"text-lg font-bold text-green-600",children:h.auto.checkInsCount})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Выезды за день"}),i.jsx("div",{className:"text-lg font-bold text-blue-600",children:h.auto.checkOutsCount})]}),i.jsxs("div",{children:[i.jsx("div",{className:"font-medium",children:"Всего броней"}),i.jsx("div",{className:"text-lg font-bold text-slate-600",children:h.auto.bookingsCount})]})]})})]})]}),i.jsxs(Uy,{className:"space-x-2",children:[i.jsx(et,{variant:"outline",onClick:e,children:"Закрыть"}),i.jsxs(et,{variant:"outline",onClick:()=>alert("История изменений пока не реализована"),children:[i.jsx(lD,{className:"h-4 w-4 mr-2"}),"История"]}),i.jsxs(et,{variant:"outline",onClick:E,children:[i.jsx(ED,{className:"h-4 w-4 mr-2"}),"Печать"]}),i.jsxs("div",{className:"relative",children:[i.jsxs(et,{variant:"outline",onClick:()=>{document.getElementById("export-menu").classList.toggle("hidden")},children:[i.jsx(mg,{className:"h-4 w-4 mr-2"}),"Сохранить"]}),i.jsxs("div",{id:"export-menu",className:"hidden absolute bottom-full left-0 mb-2 bg-white border rounded-lg shadow-lg z-50",children:[i.jsx("button",{onClick:()=>P("PDF"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"PDF"}),i.jsx("button",{onClick:()=>P("Word"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Word"}),i.jsx("button",{onClick:()=>P("Excel"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Excel"})]})]}),i.jsxs(et,{onClick:C,disabled:c,children:[i.jsx(NS,{className:"h-4 w-4 mr-2"}),c?"Сохранение...":"Сохранить"]})]})]})})}const Cz=[{id:"daily",name:"Ежедневный отчет",description:"Детальный отчет за день: доходы, расходы, загрузка",icon:Jl,color:"from-blue-500 to-blue-600",available:!0},{id:"weekly",name:"Недельный отчет",description:"Сводка за неделю с анализом трендов",icon:RM,color:"from-green-500 to-green-600",available:!1},{id:"monthly",name:"Месячный отчет",description:"Полная финансовая отчетность за месяц",icon:kS,color:"from-purple-500 to-purple-600",available:!1},{id:"financial",name:"Финансовый отчет",description:"Подробный анализ доходов и расходов",icon:bS,color:"from-orange-500 to-orange-600",available:!1}];function Ez({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(null),[c,u]=w.useState(!1),h=g=>{g.id==="daily"?u(!0):alert(`${g.name} будет доступен в следующих обновлениях`)},p=()=>{u(!1),e()};return c?i.jsx(kz,{isOpen:!0,onClose:p,bookings:t}):i.jsx(zy,{open:n,onOpenChange:e,children:i.jsxs(dv,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs(fv,{children:[i.jsxs(hv,{className:"text-2xl font-bold flex items-center gap-2",children:[i.jsx(gg,{className:"h-6 w-6 text-blue-600"}),"Отчеты"]}),i.jsx(By,{children:"Выберите тип отчета для генерации"})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:Cz.map(g=>{const x=g.icon;return i.jsxs(Pe,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${g.available?"hover:scale-105 border-2 border-transparent hover:border-blue-200":"opacity-60 cursor-not-allowed"}`,onClick:()=>g.available&&h(g),children:[i.jsx(Ke,{className:"pb-3",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${g.color} text-white`,children:i.jsx(x,{className:"h-6 w-6"})}),i.jsx("div",{className:"flex-1",children:i.jsxs(Ye,{className:"text-lg font-semibold text-slate-800",children:[g.name,!g.available&&i.jsx("span",{className:"ml-2 text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded",children:"Скоро"})]})})]})}),i.jsxs(Ie,{children:[i.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:g.description}),g.available&&i.jsx("div",{className:"mt-4",children:i.jsx(et,{size:"sm",className:`bg-gradient-to-r ${g.color} hover:opacity-90`,onClick:y=>{y.stopPropagation(),h(g)},children:"Создать отчет"})})]})]},g.id)})}),i.jsx("div",{className:"p-4 bg-slate-50 rounded-lg mx-4 mb-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:i.jsx(gg,{className:"h-5 w-5 text-blue-600"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Возможности отчетов:"}),i.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[i.jsx("li",{children:"• Автоматическая загрузка данных из системы"}),i.jsx("li",{children:"• Возможность ручного редактирования всех полей"}),i.jsx("li",{children:"• Сохранение истории изменений"}),i.jsx("li",{children:"• Экспорт в PDF, Word, Excel"}),i.jsx("li",{children:"• Печать готовых отчетов"})]})]})]})})]})})}function V0(){const[n,e]=w.useState([]),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(ch(new Date)),[p,g]=w.useState(!0),[x,y]=w.useState(""),[b,C]=w.useState(!1),[E,P]=w.useState(null),[N,R]=w.useState(null),[k,T]=w.useState(!1),{signOut:O}=Wh(),{t:I,currentLanguage:L}=Zr("dashboard"),z=i1(),F=L==="ru"?gr:Uo,q=async()=>{try{await O()}catch(K){console.error("Error signing out:",K)}},X=w.useCallback(async(K,ne)=>{g(!0),y("");try{console.log("🔄 Fetching bookings for range:",{startDate:K,endDate:ne});const B=await Xh(K,ne);if(B.error)throw B.error;const U=B.data||[];console.log("📊 Loaded bookings with services:",U.map(V=>{var oe,ue;return{id:V.id.substring(0,8),guest:(oe=V.guests)==null?void 0:oe.full_name,status:V.status,room_id:V.room_id,services:((ue=V.booking_services)==null?void 0:ue.length)||0}})),console.log("📊 Статистика загруженных бронирований:",{total:U.length,byStatus:U.reduce((V,oe)=>(V[oe.status]=(V[oe.status]||0)+1,V),{})}),console.log(`📈 Total bookings loaded: ${U.length}`),e(U)}catch(B){console.error("❌ Error loading bookings:",B),y(I("errors.loadingBookings",{error:B.message}))}finally{g(!1)}},[I]);w.useEffect(()=>{const K=ch(u),ne=Xm(u);X(K,ne)},[u,X]),w.useEffect(()=>{(async()=>{try{const[ne,B]=await Promise.all([Yy(),Jy()]);if(ne.error)throw ne.error;if(B.error)throw B.error;const U=ne.data||[],V=B.data||[];console.log("🏨 Loaded rooms:",U),console.log("🛎️ Loaded services:",V),r(U),c(V)}catch(ne){console.error("Error loading static data:",ne),y(I("errors.loadingData",{error:ne.message}))}})()},[I]),w.useEffect(()=>{console.log("🔔 Настраиваем Realtime подписку на изменения бронирований");const K=Ee.channel("bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},ne=>{console.log("🔔 Получено изменение в таблице bookings:",ne);const B=ne.eventType,U=ne.new||ne.old;B==="INSERT"?console.log("➕ Добавлено новое бронирование:",U==null?void 0:U.id):B==="UPDATE"?console.log("📝 Обновлено бронирование:",U==null?void 0:U.id):B==="DELETE"&&console.log("🗑️ Удалено бронирование:",U==null?void 0:U.id);const V=ch(u),oe=Xm(u);console.log("🔄 Автообновление данных после realtime события"),X(V,oe)}).subscribe(ne=>{console.log("📡 Статус Realtime подписки:",ne)});return()=>{console.log("🔌 Отключаем Realtime подписку"),Ee.removeChannel(K)}},[u,X]);const re=async(K,ne,B)=>{var U;try{console.log(`🔄 Обновляем цену: комната ${K}, дата ${ne}, цена $${B}`);const V=t.find(te=>te.id===K);if(!V)throw new Error(`Room with id ${K} not found`);const oe=await mr.getRatePlans();if(!oe.data||oe.data.length===0){console.warn("⚠️ No rate plans found in Channex, updating local price only");return}const ue=oe.data.find(te=>{var He,Le;const fe=((He=te.attributes)==null?void 0:He.title)||te.title||"",je=V.room_number||V.name||"",Ce=V.room_type||"";return fe.includes(je)||fe.includes(Ce)||((Le=te.attributes)==null?void 0:Le.room_type_id)&&te.attributes.room_type_id===V.channex_room_type_id});if(!ue){console.warn(`⚠️ Rate plan not found for room ${V.room_number}, updating local price only`);return}const he=((U=ue.attributes)==null?void 0:U.id)||ue.id;await mr.setRates(he,ne,ne,[{occupancy:1,rate:B},{occupancy:2,rate:B}]),console.log(`✅ Цена успешно обновлена в Channex для rate plan ${he}`)}catch(V){console.error("❌ Ошибка обновления цены в Channex:",V);const oe=V.message||"Неизвестная ошибка";console.warn(`⚠️ Channex update failed: ${oe}. Price updated locally only.`)}},ae=w.useCallback(()=>{console.log("📝 Booking saved - закрываем модальное окно"),C(!1),P(null),R(null),console.log("🔄 Принудительно обновляем данные после изменения бронирования");const K=ch(u),ne=Xm(u);X(K,ne)},[u,X]),pe=w.useCallback((K,ne)=>{console.log("🎯 Cell clicked:",{roomId:K,date:ne}),P({roomId:K,checkIn:ne,checkOut:_b(ne,1)}),R(null),C(!0)},[]),me=w.useCallback(K=>{console.log("📋 Booking clicked:",K),R(K),P(null),C(!0)},[]),ke=w.useCallback((K,ne,B)=>{console.log("🎯 Selection ended:",{roomId:K,checkIn:ne,checkOut:B}),P({roomId:K,checkIn:ne,checkOut:B}),R(null),C(!0)},[]),ge=K=>{h(ne=>_b(ne,K))},be=K=>{console.log("📊 Statistics navigation to:",K),z(K)},W=k5({start:ch(u),end:Xm(u)});return p&&t.length===0?i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ei,{className:"h-8 w-32"}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(Ei,{className:"h-10 w-10"}),i.jsx(Ei,{className:"h-10 w-32"}),i.jsx(Ei,{className:"h-10 w-10"})]})]}),i.jsx(Pe,{className:"p-6",children:i.jsx(Ei,{className:"h-[60vh] w-full"})})]}):i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:I("title")}),i.jsx("p",{className:"text-slate-600 mt-1",children:I("subtitle")})]}),i.jsx(sN,{})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx(et,{variant:"outline",size:"icon",onClick:()=>ge(-1),title:I("navigation.previousMonth"),children:i.jsx(MM,{className:"h-4 w-4"})}),i.jsx("div",{className:"min-w-[160px] text-center",children:i.jsx("span",{className:"text-lg font-semibold text-slate-800",children:We(u,"LLLL yyyy",{locale:F})})}),i.jsx(et,{variant:"outline",size:"icon",onClick:()=>ge(1),title:I("navigation.nextMonth"),children:i.jsx(wS,{className:"h-4 w-4"})})]}),i.jsxs(et,{onClick:()=>{R(null),P(null),C(!0)},children:[i.jsx(Rh,{className:"h-4 w-4 mr-2"}),I("actions.newReservation")]}),i.jsxs(et,{variant:"outline",onClick:()=>T(!0),children:[i.jsx(gg,{className:"h-4 w-4 mr-2"}),"Отчет"]})]}),i.jsx(bz,{bookings:n,onNavigate:be}),i.jsx("div",{className:"flex items-center space-x-2",children:i.jsx(et,{variant:"outline",size:"icon",onClick:q,title:I("actions.signOut"),children:i.jsx(Ea,{className:"h-4 w-4 text-slate-600"})})})]}),x&&i.jsx(_s,{variant:"destructive",children:i.jsx(bs,{children:x})}),i.jsx(Pe,{className:"booking-grid overflow-hidden",children:t.length>0?i.jsx(A8,{rooms:t,bookings:n,days:W,onCellClick:pe,onBookingClick:me,onSelectionEnd:ke,onPriceChange:re}):i.jsx("div",{className:"p-8 text-center text-slate-500",children:p?"Загрузка...":"Нет доступных комнат"})}),b&&i.jsx(Nd,{bookingToEdit:N,selectedCell:E,allBookings:n,rooms:t,services:o,onClose:()=>{C(!1),P(null),R(null)},onBookingSaved:ae}),k&&i.jsx(Ez,{isOpen:k,onClose:()=>T(!1),bookings:n})]})}const Qy=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{className:"relative w-full overflow-auto",children:i.jsx("table",{ref:t,className:Ue("w-full caption-bottom text-sm",n),...e})}));Qy.displayName="Table";const Zy=w.forwardRef(({className:n,...e},t)=>i.jsx("thead",{ref:t,className:Ue("[&_tr]:border-b",n),...e}));Zy.displayName="TableHeader";const ew=w.forwardRef(({className:n,...e},t)=>i.jsx("tbody",{ref:t,className:Ue("[&_tr:last-child]:border-0",n),...e}));ew.displayName="TableBody";const Pz=w.forwardRef(({className:n,...e},t)=>i.jsx("tfoot",{ref:t,className:Ue("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));Pz.displayName="TableFooter";const Gl=w.forwardRef(({className:n,...e},t)=>i.jsx("tr",{ref:t,className:Ue("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Gl.displayName="TableRow";const qn=w.forwardRef(({className:n,...e},t)=>i.jsx("th",{ref:t,className:Ue("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));qn.displayName="TableHead";const kn=w.forwardRef(({className:n,...e},t)=>i.jsx("td",{ref:t,className:Ue("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));kn.displayName="TableCell";const Rz=w.forwardRef(({className:n,...e},t)=>i.jsx("caption",{ref:t,className:Ue("mt-4 text-sm text-muted-foreground",n),...e}));Rz.displayName="TableCaption";function MC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(""),[u,h]=w.useState("all"),[p,g]=w.useState(!1),[x,y]=w.useState(null),[b,C]=w.useState([]),[E,P]=w.useState([]),{t:N,currentLanguage:R,formatCurrency:k}=Zr("bookings"),T=R==="ru"?gr:Uo,O={confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",checked_in:"bg-purple-100 text-purple-800",checked_out:"bg-blue-100 text-blue-800"};w.useEffect(()=>{L()},[]);const I=()=>{y(null),g(!0)},L=async()=>{r(!0);const[{data:re},{data:ae},{data:pe}]=await Promise.all([vv(),Yy(),Jy()]);e((re==null?void 0:re.bookings)||[]),C((ae==null?void 0:ae.rooms)||[]),P((pe==null?void 0:pe.services)||[]),r(!1)},z=re=>{y(re),g(!0)},F=()=>{g(!1),y(null),L()},q=n.filter(re=>{var ae,pe;return(((pe=(ae=re.guests)==null?void 0:ae.full_name)==null?void 0:pe.toLowerCase())||"").includes(o.toLowerCase())&&(u==="all"||re.status===u)}),X=re=>(re.total_amount||0)-(re.services_total||0);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx(Pe,{children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[i.jsxs("div",{className:"relative flex-1",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(qe,{placeholder:N("search.placeholder"),value:o,onChange:re=>c(re.target.value),className:"pl-10"})]}),i.jsxs("select",{value:u,onChange:re=>h(re.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[i.jsx("option",{value:"all",children:N("filter.allStatuses")}),Object.entries(["confirmed","pending","cancelled","checked_in","checked_out"]).map(([re,ae])=>i.jsx("option",{value:ae,children:N(`status.${ae}`)},ae))]})]})})}),i.jsxs(Pe,{children:[i.jsxs(Ke,{className:"flex flex-row items-center justify-between",children:[i.jsxs(Ye,{children:[N("title")," (",q.length,")"]}),i.jsxs(et,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:[i.jsx(Rh,{className:"h-4 w-4 mr-2"}),N("actions.newBooking")]})]}),i.jsx(Ie,{children:i.jsxs(Qy,{children:[i.jsx(Zy,{children:i.jsxs(Gl,{children:[i.jsx(qn,{children:N("table.guest")}),i.jsx(qn,{children:N("table.source")}),i.jsx(qn,{children:N("table.room")}),i.jsx(qn,{children:N("table.dates")}),i.jsx(qn,{children:N("table.status")}),i.jsx(qn,{children:N("table.accommodation")}),i.jsx(qn,{children:N("table.services")}),i.jsx(qn,{children:N("table.paid")}),i.jsx(qn,{children:N("table.balance")})]})}),i.jsx(ew,{children:t?Array.from({length:5}).map((re,ae)=>i.jsx(Gl,{children:i.jsx(kn,{colSpan:"9",children:i.jsx(Ei,{className:"h-8 w-full"})})},ae)):q.length===0?i.jsx(Gl,{children:i.jsx(kn,{colSpan:"9",className:"text-center text-slate-500 py-8",children:N("table.noResults")})}):q.map(re=>{var ke,ge;const ae=X(re),pe=(re.total_amount||0)-(re.amount_paid||0),me=R==="ru"?"RUB":"USD";return i.jsxs(Gl,{onClick:()=>z(re),className:"cursor-pointer hover:bg-slate-50",children:[i.jsx(kn,{className:"font-medium",children:((ke=re.guests)==null?void 0:ke.full_name)||N("table.unknownGuest")}),i.jsx(kn,{children:i.jsx(Vk,{source:re.source})}),i.jsx(kn,{children:(ge=re.rooms)==null?void 0:ge.room_number}),i.jsxs(kn,{children:[We(_t(re.check_in),"dd.MM",{locale:T})," -",We(_t(re.check_out),"dd.MM.yy",{locale:T})]}),i.jsx(kn,{children:i.jsx(lt,{className:O[re.status],children:N(`status.${re.status}`)})}),i.jsx(kn,{children:k(ae,me)}),i.jsx(kn,{children:k(re.services_total||0,me)}),i.jsx(kn,{className:"text-green-600",children:k(re.amount_paid||0,me)}),i.jsx(kn,{className:`font-bold ${pe>0?"text-red-600":"text-green-600"}`,children:k(pe,me)})]},re.id)})})]})})]}),p&&i.jsx(Nd,{bookingToEdit:x,allBookings:n,rooms:b,services:E,onClose:F,onBookingSaved:F})]})}function DC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:u}=await vv(),h=((u==null?void 0:u.bookings)||[]).filter(p=>Lh(_t(p.check_in))&&p.status==="confirmed");e(h),r(!1)},c=async u=>{await Xy(u,{status:"checked_in"}),o()};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды на сегодня"}),i.jsx("p",{className:"text-slate-600 mt-1",children:We(new Date,"dd MMMM yyyy",{locale:gr})})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-blue-600",children:[i.jsx(ld,{className:"h-8 w-8"}),i.jsx("span",{children:n.length})]})]}),t?i.jsx(Ei,{className:"h-96 w-full"}):n.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,p,g,x;return i.jsxs(Pe,{children:[i.jsx(Ke,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ye,{className:"text-lg",children:(h=u.guests)==null?void 0:h.full_name}),i.jsx(lt,{className:"bg-green-100 text-green-800",children:"Подтверждено"})]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(yS,{className:"h-5 w-5"}),i.jsxs("p",{children:[(p=u.rooms)==null?void 0:p.room_number," (",(g=u.rooms)==null?void 0:g.room_type,")"]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(Ma,{className:"h-5 w-5"}),i.jsx("p",{children:((x=u.guests)==null?void 0:x.phone)||"Не указан"})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(Ys,{className:"h-5 w-5"}),i.jsxs("p",{children:[u.guests_count," гостя(ей)"]})]}),i.jsx("div",{className:"pt-4",children:i.jsxs(et,{onClick:()=>c(u.id),className:"w-full bg-blue-600 hover:bg-blue-700",children:[i.jsx(ld,{className:"h-4 w-4 mr-2"}),"Заселить гостя"]})})]})]},u.id)})}):i.jsx(Pe,{children:i.jsxs(Ie,{className:"p-12 text-center",children:[i.jsx(ld,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет заездов на сегодня"})]})})]})}function LC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const{data:u}=await vv();console.log("Полученные данные в CheckOuts:",u);const h=(u==null?void 0:u.bookings)||u||[],p=Array.isArray(h)?h.filter(g=>Lh(_t(g.check_out))&&g.status==="checked_in"):[];console.log("Выезды на сегодня:",p),e(p)}catch(u){console.error("Ошибка получения данных:",u),e([])}finally{r(!1)}},c=async u=>{try{await Xy(u,{status:"checked_out"}),o()}catch(h){console.error("Ошибка при выселении:",h)}};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("style",{children:`
        .checkout-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
          transition: all 0.3s ease;
        }
        .checkout-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
      `}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды на сегодня"}),i.jsx("p",{className:"text-slate-600 mt-1",children:We(new Date,"dd MMMM yyyy",{locale:gr})})]}),i.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-orange-600",children:[i.jsx(Ea,{className:"h-8 w-8"}),i.jsx("span",{children:n.length})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsx(Pe,{className:"checkout-card",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Всего выездов"}),i.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.length})]}),i.jsx(Ea,{className:"h-8 w-8 text-orange-500"})]})})}),i.jsx(Pe,{className:"checkout-card",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Заселены"}),i.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(u=>u.status==="checked_in").length})]}),i.jsx(Ys,{className:"h-8 w-8 text-blue-500"})]})})}),i.jsx(Pe,{className:"checkout-card",children:i.jsx(Ie,{className:"p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Общий доход"}),i.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.reduce((u,h)=>u+(h.total_amount||0),0).toLocaleString()," ₽"]})]}),i.jsx(_S,{className:"h-8 w-8 text-green-500"})]})})})]}),t?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((u,h)=>i.jsx(Pe,{className:"checkout-card",children:i.jsx(Ie,{className:"p-6",children:i.jsx(Ei,{className:"h-64 w-full"})})},h))}):n.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,p,g,x;return i.jsxs(Pe,{className:"checkout-card",children:[i.jsx(Ke,{className:"pb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx(Ye,{className:"text-lg font-semibold text-slate-800",children:((h=u.guests)==null?void 0:h.full_name)||"Гость"}),i.jsx(lt,{className:"bg-blue-100 text-blue-800",children:"Заселен"})]})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(yS,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:(p=u.rooms)==null?void 0:p.room_number}),i.jsx("p",{className:"text-sm",children:(g=u.rooms)==null?void 0:g.room_type})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(Ma,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:((x=u.guests)==null?void 0:x.phone)||"Не указан"}),i.jsx("p",{className:"text-sm",children:"Контактный телефон"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(Ys,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsxs("p",{className:"font-medium",children:[u.guests_count," гост",u.guests_count===1?"ь":"ей"]}),i.jsx("p",{className:"text-sm",children:"Количество гостей"})]})]}),i.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[i.jsx(bh,{className:"h-5 w-5"}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:We(_t(u.check_in),"dd MMM yyyy",{locale:gr})}),i.jsx("p",{className:"text-sm",children:"Дата заезда"})]})]}),u.notes&&i.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:i.jsx("p",{className:"text-sm text-slate-600",children:u.notes})}),i.jsxs("div",{className:"pt-4 space-y-2",children:[i.jsxs(et,{onClick:()=>c(u.id),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white",children:[i.jsx(Ea,{className:"h-4 w-4 mr-2"}),"Выселить гостя"]}),i.jsx(et,{variant:"outline",className:"w-full",children:"Связаться с гостем"})]}),u.total_amount&&i.jsxs("div",{className:"text-center pt-2 border-t",children:[i.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[u.total_amount.toLocaleString()," ₽"]}),i.jsx("p",{className:"text-sm text-slate-500",children:"Оплачено"})]})]})]},u.id)})}):i.jsx(Pe,{className:"checkout-card",children:i.jsxs(Ie,{className:"p-12 text-center",children:[i.jsx(Ea,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),i.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет выездов на сегодня"}),i.jsx("p",{className:"text-slate-500",children:"Все спокойно! Выездов на сегодня не запланировано."})]})})]})}function $C(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(!1),[u,h]=w.useState(null),[p,g]=w.useState([]),[x,y]=w.useState([]);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0);const{data:R}=await vv();if(R!=null&&R.bookings){const O=R.bookings.filter(I=>(I.total_amount||0)>(I.amount_paid||0));e(O)}const[{data:k},{data:T}]=await Promise.all([Yy(),Jy()]);g((k==null?void 0:k.rooms)||[]),y((T==null?void 0:T.services)||[]),r(!1)},C=R=>{h(R),c(!0)},E=()=>{c(!1),h(null),b()},P=n.reduce((R,k)=>R+((k.total_amount||0)-(k.amount_paid||0)),0),N=R=>!R.booking_services||R.booking_services.length===0?"Нет":R.booking_services.map(k=>{var T;return(T=k.services)==null?void 0:T.name}).join(", ");return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:"Общая задолженность"})}),i.jsx(Ie,{children:i.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[P.toLocaleString()," ₽"]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:"Количество должников"})}),i.jsx(Ie,{children:i.jsx("p",{className:"text-3xl font-bold",children:n.length})})]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center",children:[i.jsx(tD,{className:"mr-2 text-red-500"}),"Список задолженностей"]})}),i.jsx(Ie,{children:t?i.jsx(Ei,{className:"h-64 w-full"}):i.jsxs(Qy,{children:[i.jsx(Zy,{children:i.jsxs(Gl,{children:[i.jsx(qn,{children:"Гость"}),i.jsx(qn,{children:"Номер"}),i.jsx(qn,{children:"Заезд/Выезд"}),i.jsx(qn,{children:"Услуги"}),i.jsx(qn,{children:"Общая сумма"}),i.jsx(qn,{children:"Частичная оплата"}),i.jsx(qn,{children:"Долг"})]})}),i.jsx(ew,{children:n.map(R=>{var k,T;return i.jsxs(Gl,{className:"cursor-pointer hover:bg-slate-50",children:[i.jsx(kn,{className:"font-medium text-blue-600 hover:underline cursor-pointer",onClick:()=>C(R),children:(k=R.guests)==null?void 0:k.full_name}),i.jsx(kn,{children:(T=R.rooms)==null?void 0:T.room_number}),i.jsxs(kn,{children:[We(_t(R.check_in),"dd.MM")," - ",We(_t(R.check_out),"dd.MM.yy")]}),i.jsx(kn,{className:"max-w-xs truncate",title:N(R),children:N(R)}),i.jsxs(kn,{children:[(R.total_amount||0).toLocaleString()," ₽"]}),i.jsxs(kn,{className:"text-green-600",children:[(R.amount_paid||0).toLocaleString()," ₽"]}),i.jsxs(kn,{className:"font-bold text-red-600",children:[((R.total_amount||0)-(R.amount_paid||0)).toLocaleString()," ₽"]})]},R.id)})})]})})]}),o&&i.jsx(Nd,{bookingToEdit:u,rooms:p,services:x,onClose:E,onBookingSaved:E})]})}function FC({selectedConversation:n,onConversationSelect:e}){return i.jsxs("div",{className:"h-full flex flex-col",children:[i.jsx("style",{children:`
        .chat-container {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
      `}),i.jsxs("div",{className:"p-6 pb-4",children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Чат с гостями"}),i.jsx("p",{className:"text-slate-600 mt-2",children:"Общайтесь с гостями в режиме реального времени"})]}),i.jsx("div",{className:"flex-1 mx-6 mb-6",children:i.jsx("div",{className:"chat-container rounded-2xl h-full overflow-hidden",children:i.jsx($0,{selectedConversation:n,onConversationSelect:e})})})]})}const Tz=async()=>{try{const{data:n,error:e}=await Ee.from("webhook_settings").select("*");if(e)throw e;return{data:n,error:null}}catch(n){return console.error("Ошибка получения настроек вебхуков:",n),{data:null,error:{message:n.message}}}},Az=async n=>{try{const{data:e,error:t}=await Ee.from("webhook_settings").upsert(n).select();if(t)throw t;return{data:e?e[0]:null,error:null}}catch(e){return console.error("Ошибка сохранения настроек вебхуков:",e),{data:null,error:{message:e.message}}}};function zC(){const[n,e]=w.useState(""),[t,r]=w.useState(!1),[o,c]=w.useState(""),[u,h]=w.useState("");w.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:x,error:y}=await Tz();if(y){console.error("Ошибка загрузки настроек:",y);return}x!=null&&x.webhook_url&&e(x.webhook_url)}catch(x){console.error("Ошибка при загрузке настроек:",x)}},g=async()=>{if(!n.trim()){c("Введите URL вебхука"),h("error");return}try{new URL(n)}catch{c("Введите корректный URL"),h("error");return}r(!0),c("");try{const{data:x,error:y}=await Az({webhook_url:n.trim()});if(y)throw new Error(y.message);c("Настройки вебхука успешно сохранены"),h("success")}catch(x){console.error("Ошибка при сохранении:",x),c(`Ошибка: ${x.message}`),h("error")}finally{r(!1)}};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsx("style",{children:`
        .integration-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        .webhook-section {
          background: linear-gradient(135deg, rgba(59,130,246,0.05) 0%, rgba(147,197,253,0.05) 100%);
          border: 1px solid rgba(59,130,246,0.1);
        }
      `}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[i.jsx(D_,{className:"mr-3 h-8 w-8"}),"Интеграции"]}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Управление внешними интеграциями и вебхуками"})]}),i.jsx(lt,{variant:"outline",className:"text-blue-600 border-blue-200",children:"Настройки системы"})]}),i.jsxs(Pe,{className:"integration-card",children:[i.jsxs(Ke,{children:[i.jsxs(Ye,{className:"flex items-center text-xl",children:[i.jsx(ES,{className:"mr-3 h-6 w-6 text-blue-500"}),"Вебхуки"]}),i.jsx("p",{className:"text-slate-600",children:"Настройка автоматических уведомлений о событиях в системе"})]}),i.jsxs(Ie,{className:"space-y-6",children:[i.jsxs("div",{className:"webhook-section p-6 rounded-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"New Message Webhook"}),i.jsx(lt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Сообщения в чате"})]}),i.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Получайте уведомления каждый раз, когда в систему приходит новое сообщение от гостя или сотрудника."}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx(Je,{htmlFor:"webhook-url",className:"text-sm font-medium text-slate-700",children:"Webhook URL"}),i.jsx(qe,{id:"webhook-url",type:"url",placeholder:"https://example.com/webhook/messages",value:n,onChange:x=>e(x.target.value),className:"mt-1",disabled:t}),i.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL, на который будут отправляться POST запросы с данными новых сообщений"})]}),i.jsx(et,{onClick:g,disabled:t||!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Сохранение..."]}):i.jsxs(i.Fragment,{children:[i.jsx(NS,{className:"mr-2 h-4 w-4"}),"Сохранить"]})})]}),o&&i.jsxs(_s,{variant:u==="success"?"default":"destructive",className:"mt-4",children:[u==="success"?i.jsx(Ii,{className:"h-4 w-4"}):i.jsx(ys,{className:"h-4 w-4"}),i.jsx(bs,{children:o})]})]}),i.jsx(jh,{}),i.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[i.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Формат данных вебхука"}),i.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"При создании нового сообщения на указанный URL будет отправлен POST запрос с JSON данными:"}),i.jsx("pre",{className:"bg-slate-800 text-green-400 p-3 rounded text-xs overflow-x-auto",children:`{
  "id": "uuid",
  "conversation_id": "uuid", 
  "sender_type": "guest|staff",
  "sender_id": "uuid",
  "content": "Текст сообщения",
  "created_at": "2024-01-01T12:00:00Z",
  "sender_name": "Имя отправителя"
}`})]})]})]}),i.jsxs(Pe,{className:"integration-card opacity-60",children:[i.jsxs(Ke,{children:[i.jsxs(Ye,{className:"flex items-center text-xl text-slate-500",children:[i.jsx(D_,{className:"mr-3 h-6 w-6"}),"Другие интеграции"]}),i.jsx("p",{className:"text-slate-500",children:"Дополнительные интеграции будут добавлены в будущих версиях"})]}),i.jsx(Ie,{children:i.jsx("div",{className:"text-center py-8",children:i.jsx("p",{className:"text-slate-400",children:"Скоро появятся новые возможности"})})})]})]})}const Iz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function UC(){const{t:n,currentLanguage:e,formatCurrency:t}=Zr("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(We(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,N]=w.useState(!1),R=e==="ru"?gr:Uo,k=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())u(r);else{const F=r.filter(q=>{var me,ke,ge,be,W,K;const X=((ke=(me=q.guests)==null?void 0:me.full_name)==null?void 0:ke.toLowerCase())||"",re=((be=(ge=q.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((K=(W=q.guests)==null?void 0:W.phone)==null?void 0:K.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||re.includes(pe)||ae.includes(pe)});u(F)}},[g,r]);const T=async()=>{p(!0);try{const F=new Date(y),q=new Date(y);q.setDate(q.getDate()+1);const X=await Xh(F,q);if(X.error)throw X.error;const re=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:We(_t(ae.check_in),"yyyy-MM-dd")===y);console.log("📅 Arrivals for",y,":",re),o(re)}catch(F){console.error("Error loading arrivals:",F)}finally{p(!1)}},O=async F=>{var q;console.log("✅ Check-in:",(q=F.guests)==null?void 0:q.full_name)},I=F=>{E(F),N(!0)},L=()=>{N(!1),E(null),T()},z=F=>{var q,X,re,ae,pe;return i.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(F),children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(ld,{className:"h-5 w-5 text-blue-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800",children:((q=F.guests)==null?void 0:q.full_name)||"Неизвестный гость"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Заезд: ",We(_t(F.check_in),"HH:mm")]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{className:Iz[F.status]||"bg-slate-100 text-slate-800",children:n(`status.${F.status}`)}),F.status==="confirmed"&&i.jsxs(et,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:me=>{me.stopPropagation(),O(F)},children:[i.jsx(pd,{className:"h-4 w-4 mr-1"}),"Отметить заезд"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Bg,{className:"h-3 w-3"}),i.jsxs("span",{children:["Номер ",((X=F.rooms)==null?void 0:X.room_number)||"N/A"," (",((re=F.rooms)==null?void 0:re.room_type)||"N/A",")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ys,{className:"h-3 w-3"}),i.jsxs("span",{children:[F.guests_count||1," ",(F.guests_count||1)===1?"гость":"гостя"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[((ae=F.guests)==null?void 0:ae.phone)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ma,{className:"h-3 w-3"}),i.jsx("span",{children:F.guests.phone})]}),((pe=F.guests)==null?void 0:pe.email)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ug,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:F.guests.email})]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),i.jsxs("span",{className:"font-medium text-slate-800",children:[We(_t(F.check_in),"dd MMM",{locale:R})," -",We(_t(F.check_out),"dd MMM",{locale:R})]})]}),F.total_amount&&i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),i.jsx("span",{className:"font-semibold text-slate-800",children:t(F.total_amount,k)})]})]}),F.notes&&i.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[i.jsx("strong",{children:"Комментарий:"})," ",F.notes]})]})},F.id)};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Управление заездами гостей"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs(lt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"h-5 w-5"}),"Фильтры"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(qe,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:F=>x(F.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"w-48",children:i.jsx(qe,{type:"date",value:y,onChange:F=>b(F.target.value)})})]})})]}),h?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка заездов..."})]}):c.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(z)}):i.jsx(Pe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(ld,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет заездов"}),i.jsxs("p",{children:["На ",We(new Date(y),"dd MMMM yyyy",{locale:R})," заездов нет"]})]})}),P&&i.jsx(Nd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{N(!1),E(null)},onBookingSaved:L})]})}const Oz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function BC(){const{t:n,currentLanguage:e,formatCurrency:t}=Zr("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(We(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,N]=w.useState(!1),R=e==="ru"?gr:Uo,k=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())u(r);else{const F=r.filter(q=>{var me,ke,ge,be,W,K;const X=((ke=(me=q.guests)==null?void 0:me.full_name)==null?void 0:ke.toLowerCase())||"",re=((be=(ge=q.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((K=(W=q.guests)==null?void 0:W.phone)==null?void 0:K.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||re.includes(pe)||ae.includes(pe)});u(F)}},[g,r]);const T=async()=>{p(!0);try{const F=new Date(y),q=new Date(y);q.setDate(q.getDate()+1);const X=await Xh(F,q);if(X.error)throw X.error;const re=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:We(_t(ae.check_out),"yyyy-MM-dd")===y);console.log("📅 Departures for",y,":",re),o(re)}catch(F){console.error("Error loading departures:",F)}finally{p(!1)}},O=async F=>{var q;console.log("✅ Check-out:",(q=F.guests)==null?void 0:q.full_name)},I=F=>{E(F),N(!0)},L=()=>{N(!1),E(null),T()},z=F=>{var q,X,re,ae,pe;return i.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(F),children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Ea,{className:"h-5 w-5 text-orange-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800",children:((q=F.guests)==null?void 0:q.full_name)||"Неизвестный гость"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["Выезд: ",We(_t(F.check_out),"HH:mm")]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx(lt,{className:Oz[F.status]||"bg-slate-100 text-slate-800",children:n(`status.${F.status}`)}),F.status==="checked_in"&&i.jsxs(et,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:me=>{me.stopPropagation(),O(F)},children:[i.jsx(pd,{className:"h-4 w-4 mr-1"}),"Отметить выезд"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Bg,{className:"h-3 w-3"}),i.jsxs("span",{children:["Номер ",((X=F.rooms)==null?void 0:X.room_number)||"N/A"," (",((re=F.rooms)==null?void 0:re.room_type)||"N/A",")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ys,{className:"h-3 w-3"}),i.jsxs("span",{children:[F.guests_count||1," ",(F.guests_count||1)===1?"гость":"гостя"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[((ae=F.guests)==null?void 0:ae.phone)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ma,{className:"h-3 w-3"}),i.jsx("span",{children:F.guests.phone})]}),((pe=F.guests)==null?void 0:pe.email)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ug,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:F.guests.email})]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),i.jsxs("span",{className:"font-medium text-slate-800",children:[We(_t(F.check_in),"dd MMM",{locale:R})," -",We(_t(F.check_out),"dd MMM",{locale:R})]})]}),F.total_amount&&i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),i.jsx("span",{className:"font-semibold text-slate-800",children:t(F.total_amount,k)})]}),F.amount_paid<F.total_amount&&i.jsxs("div",{className:"flex justify-between items-center mt-1 text-red-600",children:[i.jsx("span",{className:"text-sm",children:"К доплате:"}),i.jsx("span",{className:"font-semibold",children:t(F.total_amount-F.amount_paid,k)})]})]}),F.notes&&i.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[i.jsx("strong",{children:"Комментарий:"})," ",F.notes]})]})},F.id)};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Управление выездами гостей"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs(lt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"h-5 w-5"}),"Фильтры"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(qe,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:F=>x(F.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"w-48",children:i.jsx(qe,{type:"date",value:y,onChange:F=>b(F.target.value)})})]})})]}),h?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка выездов..."})]}):c.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(z)}):i.jsx(Pe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(Ea,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет выездов"}),i.jsxs("p",{children:["На ",We(new Date(y),"dd MMMM yyyy",{locale:R})," выездов нет"]})]})}),P&&i.jsx(Nd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{N(!1),E(null)},onBookingSaved:L})]})}const Mz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function WC(){const{t:n,currentLanguage:e}=Zr("booking"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(!0),[p,g]=w.useState(""),[x,y]=w.useState(We(new Date,"yyyy-MM-dd")),[b,C]=w.useState(null),[E,P]=w.useState(!1),N=e==="ru"?gr:Uo;w.useEffect(()=>{R()},[x]),w.useEffect(()=>{if(!p.trim())c(t);else{const I=t.filter(L=>{var re,ae,pe,me,ke,ge;const z=((ae=(re=L.guests)==null?void 0:re.full_name)==null?void 0:ae.toLowerCase())||"",F=((me=(pe=L.rooms)==null?void 0:pe.room_number)==null?void 0:me.toLowerCase())||"",q=((ge=(ke=L.guests)==null?void 0:ke.phone)==null?void 0:ge.toLowerCase())||"",X=p.toLowerCase();return z.includes(X)||F.includes(X)||q.includes(X)});c(I)}},[p,t]);const R=async()=>{h(!0);try{const I=new Date(x),L=new Date(x);L.setDate(L.getDate()+1);const z=await Xh(I,L);if(z.error)throw z.error;const F=(z.data||[]).filter(q=>{if(q.status==="cancelled")return!1;const X=new Date(q.check_in),re=new Date(q.check_out),ae=new Date(x);return X<=ae&&re>ae});console.log("🏠 Stays for",x,":",F),r(F)}catch(I){console.error("Error loading stays:",I)}finally{h(!1)}},k=I=>{C(I),P(!0)},T=()=>{P(!1),C(null),R()},O=I=>{var F,q,X,re,ae;const L=Math.ceil((new Date(I.check_out)-new Date(I.check_in))/864e5),z=Math.ceil((new Date(x)-new Date(I.check_in))/(1e3*60*60*24));return i.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>k(I),children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(Xl,{className:"h-5 w-5 text-purple-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800",children:((F=I.guests)==null?void 0:F.full_name)||"Неизвестный гость"}),i.jsxs("p",{className:"text-sm text-slate-500",children:["День ",z," из ",L]})]})]}),i.jsx(lt,{className:Mz[I.status]||"bg-slate-100 text-slate-800",children:n(`status.${I.status}`)})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Bg,{className:"h-3 w-3"}),i.jsxs("span",{children:["Номер ",((q=I.rooms)==null?void 0:q.room_number)||"N/A"," (",((X=I.rooms)==null?void 0:X.room_type)||"N/A",")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ys,{className:"h-3 w-3"}),i.jsxs("span",{children:[I.guests_count||1," ",(I.guests_count||1)===1?"гость":"гостя"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[((re=I.guests)==null?void 0:re.phone)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ma,{className:"h-3 w-3"}),i.jsx("span",{children:I.guests.phone})]}),((ae=I.guests)==null?void 0:ae.email)&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ug,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:I.guests.email})]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),i.jsxs("span",{className:"font-medium text-slate-800",children:[We(_t(I.check_in),"dd MMM",{locale:N})," -",We(_t(I.check_out),"dd MMM",{locale:N})]})]}),i.jsxs("div",{className:"flex justify-between items-center mt-1",children:[i.jsx("span",{className:"text-sm text-slate-600",children:"Выезд через:"}),i.jsxs("span",{className:"font-medium text-slate-800",children:[Math.ceil((new Date(I.check_out)-new Date(x))/(1e3*60*60*24))," дн."]})]})]}),I.booking_services&&I.booking_services.length>0&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[i.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Заказанные услуги:"}),i.jsxs("div",{className:"space-y-1",children:[I.booking_services.slice(0,3).map((pe,me)=>{var ke;return i.jsxs("div",{className:"text-xs text-slate-500",children:["• ",(ke=pe.services)==null?void 0:ke.name," x",pe.quantity]},me)}),I.booking_services.length>3&&i.jsxs("div",{className:"text-xs text-slate-400",children:["+",I.booking_services.length-3," еще"]})]})]})]})},I.id)};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Проживания"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Гости, проживающие в отеле"})]}),i.jsxs(lt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",o.length]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"h-5 w-5"}),"Фильтры"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(qe,{placeholder:"Поиск по имени, номеру или телефону...",value:p,onChange:I=>g(I.target.value),className:"pl-10"})]})}),i.jsx("div",{className:"w-48",children:i.jsx(qe,{type:"date",value:x,onChange:I=>y(I.target.value)})})]})})]}),u?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка проживаний..."})]}):o.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(O)}):i.jsx(Pe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(Xl,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет проживаний"}),i.jsxs("p",{children:["На ",We(new Date(x),"dd MMMM yyyy",{locale:N})," никто не проживает"]})]})}),E&&i.jsx(Nd,{bookingToEdit:b,rooms:[],services:[],allBookings:t,onClose:()=>{P(!1),C(null)},onBookingSaved:T})]})}function HC(){const{currentLanguage:n}=Zr("booking"),[e,t]=w.useState([]),[r,o]=w.useState(!1),[c,u]=w.useState(We(new Date,"yyyy-MM-dd")),h=n==="ru"?gr:Uo;w.useEffect(()=>{t([])},[c]);const p=g=>i.jsx(Pe,{className:"cursor-pointer hover:shadow-md transition-shadow",children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx(k0,{className:"h-5 w-5 text-pink-600"}),i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-slate-800",children:g.guest_name}),i.jsx("p",{className:"text-sm text-slate-500",children:"День рождения сегодня"})]})]}),i.jsxs(lt,{className:"bg-pink-100 text-pink-800",children:["🎂 ",g.age," лет"]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Bg,{className:"h-3 w-3"}),i.jsxs("span",{children:["Номер ",g.room_number]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Jl,{className:"h-3 w-3"}),i.jsxs("span",{children:["Проживает до ",g.check_out]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ma,{className:"h-3 w-3"}),i.jsx("span",{children:g.phone})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ug,{className:"h-3 w-3"}),i.jsx("span",{className:"truncate",children:g.email})]})]})]}),i.jsx("div",{className:"mt-3 p-3 bg-pink-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-pink-700",children:"💡 Не забудьте поздравить с днем рождения и предложить комплимент от отеля!"})})]})},g.id);return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Дни рождения"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Именинники среди гостей"})]}),i.jsxs(lt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",e.length]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"h-5 w-5"}),"Фильтры"]})}),i.jsx(Ie,{children:i.jsx("div",{className:"w-48",children:i.jsx(qe,{type:"date",value:c,onChange:g=>u(g.target.value)})})})]}),r?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка дней рождения..."})]}):e.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(p)}):i.jsx(Pe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(k0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет именинников"}),i.jsxs("p",{children:["На ",We(new Date(c),"dd MMMM yyyy",{locale:h})," дней рождения нет"]}),i.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:i.jsx("p",{className:"text-sm text-blue-700",children:"💡 Функция отслеживания дней рождения будет активирована после добавления даты рождения в профили гостей"})})]})})]})}const Dz={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},Lz={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"};function VC(){const{currentLanguage:n}=Zr("booking"),[e,t]=w.useState([]),[r,o]=w.useState([]),[c,u]=w.useState(!1),[h,p]=w.useState(""),[g,x]=w.useState(!1),[y,b]=w.useState({title:"",description:"",priority:"medium",assignedTo:"",dueDate:We(new Date,"yyyy-MM-dd")}),C=n==="ru"?gr:Uo;w.useEffect(()=>{const R=[{id:"1",title:"Подготовить номер 101 к заезду",description:"Провести генеральную уборку номера после ремонта",priority:"high",status:"pending",assignedTo:"Мария Иванова",dueDate:We(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()},{id:"2",title:"Проверить кондиционер в номере 205",description:"Гость жалуется на шум",priority:"medium",status:"in_progress",assignedTo:"Алексей Петров",dueDate:We(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()}];t(R)},[]),w.useEffect(()=>{if(!h.trim())o(e);else{const R=e.filter(k=>{var z,F,q;const T=((z=k.title)==null?void 0:z.toLowerCase())||"",O=((F=k.description)==null?void 0:F.toLowerCase())||"",I=((q=k.assignedTo)==null?void 0:q.toLowerCase())||"",L=h.toLowerCase();return T.includes(L)||O.includes(L)||I.includes(L)});o(R)}},[h,e]);const E=async()=>{if(!y.title.trim())return;const R={id:Date.now().toString(),...y,status:"pending",createdAt:new Date().toISOString()};t(k=>[...k,R]),b({title:"",description:"",priority:"medium",assignedTo:"",dueDate:We(new Date,"yyyy-MM-dd")}),x(!1)},P=(R,k)=>{t(T=>T.map(O=>O.id===R?{...O,status:k}:O))},N=R=>{const k=new Date(R.dueDate)<new Date&&R.status!=="completed";return i.jsx(Pe,{className:`cursor-pointer hover:shadow-md transition-shadow ${k?"border-red-200":""}`,children:i.jsxs(Ie,{className:"p-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:R.title}),R.description&&i.jsx("p",{className:"text-sm text-slate-600 mb-2",children:R.description})]}),i.jsxs("div",{className:"flex flex-col gap-2 ml-3",children:[i.jsx(lt,{className:Dz[R.priority],children:R.priority==="high"?"Высокий":R.priority==="medium"?"Средний":"Низкий"}),i.jsx(lt,{className:Lz[R.status],children:R.status==="pending"?"Ожидает":R.status==="in_progress"?"В работе":"Завершено"})]})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[R.assignedTo&&i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(Ys,{className:"h-3 w-3"}),i.jsxs("span",{children:["Ответственный: ",R.assignedTo]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[i.jsx(bh,{className:"h-3 w-3"}),i.jsxs("span",{children:["Срок: ",We(new Date(R.dueDate),"dd MMMM yyyy",{locale:C})]}),k&&i.jsx(lt,{variant:"destructive",className:"ml-2",children:"Просрочено"})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex gap-2",children:[R.status==="pending"&&i.jsx(et,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),P(R.id,"in_progress")},children:"Начать работу"}),R.status==="in_progress"&&i.jsxs(et,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:T=>{T.stopPropagation(),P(R.id,"completed")},children:[i.jsx(C0,{className:"h-4 w-4 mr-1"}),"Завершить"]})]})]})},R.id)};return i.jsxs("div",{className:"p-6 space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Задачи"}),i.jsx("p",{className:"text-slate-600 mt-1",children:"Управление рабочими задачами"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs(lt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",r.length]}),i.jsxs(et,{onClick:()=>x(!g),children:[i.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Новая задача"]})]})]}),g&&i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsx(Ye,{children:"Создать новую задачу"})}),i.jsxs(Ie,{className:"space-y-4",children:[i.jsx("div",{children:i.jsx(qe,{placeholder:"Название задачи",value:y.title,onChange:R=>b(k=>({...k,title:R.target.value}))})}),i.jsx("div",{children:i.jsx(cv,{placeholder:"Описание задачи",value:y.description,onChange:R=>b(k=>({...k,description:R.target.value})),rows:3})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[i.jsx("div",{children:i.jsxs(Ao,{value:y.priority,onValueChange:R=>b(k=>({...k,priority:R})),children:[i.jsx(Vs,{children:i.jsx(Io,{placeholder:"Приоритет"})}),i.jsxs(Gs,{children:[i.jsx(Ft,{value:"low",children:"Низкий"}),i.jsx(Ft,{value:"medium",children:"Средний"}),i.jsx(Ft,{value:"high",children:"Высокий"})]})]})}),i.jsx("div",{children:i.jsx(qe,{placeholder:"Ответственный",value:y.assignedTo,onChange:R=>b(k=>({...k,assignedTo:R.target.value}))})}),i.jsx("div",{children:i.jsx(qe,{type:"date",value:y.dueDate,onChange:R=>b(k=>({...k,dueDate:R.target.value}))})})]}),i.jsxs("div",{className:"flex gap-2",children:[i.jsx(et,{onClick:E,children:"Создать задачу"}),i.jsx(et,{variant:"outline",onClick:()=>x(!1),children:"Отмена"})]})]})]}),i.jsxs(Pe,{children:[i.jsx(Ke,{children:i.jsxs(Ye,{className:"flex items-center gap-2",children:[i.jsx(qh,{className:"h-5 w-5"}),"Фильтры"]})}),i.jsx(Ie,{children:i.jsxs("div",{className:"relative",children:[i.jsx(Ql,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),i.jsx(qe,{placeholder:"Поиск по названию, описанию или ответственному...",value:h,onChange:R=>p(R.target.value),className:"pl-10"})]})})]}),c?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),i.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка задач..."})]}):r.length>0?i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(N)}):i.jsx(Pe,{className:"p-8",children:i.jsxs("div",{className:"text-center text-slate-500",children:[i.jsx(C0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),i.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет задач"}),i.jsx("p",{children:"Создайте первую задачу для команды"})]})})]})}const zb={Dashboard:V0,Bookings:MC,CheckIns:DC,CheckOuts:LC,Unpaid:$C,Chat:FC,Integrations:zC,ChannexIntegration:zk,AgodaIntegration:Bk,AirbnbIntegration:Hk,Arrivals:UC,Departures:BC,Stays:WC,Birthdays:HC,Tasks:VC};function $z(n){n.endsWith("/")&&(n=n.slice(0,-1));let e=n.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(zb).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(zb)[0]}function Fz(){const{user:n,loading:e}=Wh(),t=Ia();if(e)return i.jsx("div",{children:"Загрузка..."});if(!n)return i.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:i.jsx(oN,{})});const r=$z(t.pathname);return i.jsx(kF,{currentPageName:r,children:i.jsxs(yT,{children:[i.jsx(Gn,{path:"/",element:i.jsx(V0,{})}),i.jsx(Gn,{path:"/Dashboard",element:i.jsx(V0,{})}),i.jsx(Gn,{path:"/Bookings",element:i.jsx(MC,{})}),i.jsx(Gn,{path:"/CheckIns",element:i.jsx(DC,{})}),i.jsx(Gn,{path:"/CheckOuts",element:i.jsx(LC,{})}),i.jsx(Gn,{path:"/Unpaid",element:i.jsx($C,{})}),i.jsx(Gn,{path:"/Chat",element:i.jsx(FC,{})}),i.jsx(Gn,{path:"/Integrations",element:i.jsx(zC,{})}),i.jsx(Gn,{path:"/ChannexIntegration",element:i.jsx(zk,{})}),i.jsx(Gn,{path:"/AgodaIntegration",element:i.jsx(Bk,{})}),i.jsx(Gn,{path:"/AirbnbIntegration",element:i.jsx(Hk,{})}),i.jsx(Gn,{path:"/Arrivals",element:i.jsx(UC,{})}),i.jsx(Gn,{path:"/Departures",element:i.jsx(BC,{})}),i.jsx(Gn,{path:"/Stays",element:i.jsx(WC,{})}),i.jsx(Gn,{path:"/Birthdays",element:i.jsx(HC,{})}),i.jsx(Gn,{path:"/Tasks",element:i.jsx(VC,{})})]})})}function zz(){return i.jsx(nO,{children:i.jsx(BT,{children:i.jsx(Fz,{})})})}const Uz=20,Bz=1e6,Pi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let s0=0;function Wz(){return s0=(s0+1)%Number.MAX_VALUE,s0.toString()}const o0=new Map,Ub=n=>{if(o0.has(n))return;const e=setTimeout(()=>{o0.delete(n),Nh({type:Pi.REMOVE_TOAST,toastId:n})},Bz);o0.set(n,e)},Hz=(n,e)=>{switch(e.type){case Pi.ADD_TOAST:return{...n,toasts:[e.toast,...n.toasts].slice(0,Uz)};case Pi.UPDATE_TOAST:return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case Pi.DISMISS_TOAST:{const{toastId:t}=e;return t?Ub(t):n.toasts.forEach(r=>{Ub(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case Pi.REMOVE_TOAST:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ag=[];let lg={toasts:[]};function Nh(n){lg=Hz(lg,n),ag.forEach(e=>{e(lg)})}function Vz({...n}){const e=Wz(),t=o=>Nh({type:Pi.UPDATE_TOAST,toast:{...o,id:e}}),r=()=>Nh({type:Pi.DISMISS_TOAST,toastId:e});return Nh({type:Pi.ADD_TOAST,toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function Gz(){const[n,e]=w.useState(lg);return w.useEffect(()=>(ag.push(e),()=>{const t=ag.indexOf(e);t>-1&&ag.splice(t,1)}),[n]),{...n,toast:Vz,dismiss:t=>Nh({type:Pi.DISMISS_TOAST,toastId:t})}}const GC=w.forwardRef(({...n},e)=>i.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));GC.displayName="ToastProvider";const qC=w.forwardRef(({...n},e)=>i.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));qC.displayName="ToastViewport";const qz=Hh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),KC=w.forwardRef(({className:n,variant:e,...t},r)=>i.jsx("div",{ref:r,className:Ue(qz({variant:e}),n),...t}));KC.displayName="Toast";const Kz=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Kz.displayName="ToastAction";const YC=w.forwardRef(({className:n,...e},t)=>i.jsx("button",{ref:t,className:Ue("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:i.jsx(ay,{className:"h-4 w-4"})}));YC.displayName="ToastClose";const JC=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("text-sm font-semibold",n),...e}));JC.displayName="ToastTitle";const XC=w.forwardRef(({className:n,...e},t)=>i.jsx("div",{ref:t,className:Ue("text-sm opacity-90",n),...e}));XC.displayName="ToastDescription";function Yz(){const{toasts:n}=Gz();return i.jsxs(GC,{children:[n.map(function({id:e,title:t,description:r,action:o,...c}){return i.jsxs(KC,{...c,children:[i.jsxs("div",{className:"grid gap-1",children:[t&&i.jsx(JC,{children:t}),r&&i.jsx(XC,{children:r})]}),o,i.jsx(YC,{})]},e)}),i.jsx(qC,{})]})}const Jz=()=>i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function Xz(){const{i18n:n}=Zr();return w.useEffect(()=>{const e=localStorage.getItem("pms_language")||"en";e!==n.language&&n.changeLanguage(e)},[n]),i.jsxs(w.Suspense,{fallback:i.jsx(Jz,{}),children:[i.jsx(zz,{}),i.jsx(Yz,{})]})}const Qz=TP.createRoot(document.getElementById("root"));Qz.render(i.jsx(on.StrictMode,{children:i.jsx(Xz,{})}));
