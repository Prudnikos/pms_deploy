function lP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var xx={exports:{}},Qf={},yx={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mw;function uP(){if(mw)return vt;mw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,P={};function k(z,U,q){this.props=z,this.context=U,this.refs=P,this.updater=q||C}k.prototype.isReactComponent={},k.prototype.setState=function(z,U){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,U,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=k.prototype;function N(z,U,q){this.props=z,this.context=U,this.refs=P,this.updater=q||C}var T=N.prototype=new R;T.constructor=N,E(T,k.prototype),T.isPureReactComponent=!0;var A=Array.isArray,M=Object.prototype.hasOwnProperty,W={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function $(z,U,q){var ie,ue={},he=null,te=null;if(U!=null)for(ie in U.ref!==void 0&&(te=U.ref),U.key!==void 0&&(he=""+U.key),U)M.call(U,ie)&&!F.hasOwnProperty(ie)&&(ue[ie]=U[ie]);var fe=arguments.length-2;if(fe===1)ue.children=q;else if(1<fe){for(var je=Array(fe),Ce=0;Ce<fe;Ce++)je[Ce]=arguments[Ce+2];ue.children=je}if(z&&z.defaultProps)for(ie in fe=z.defaultProps,fe)ue[ie]===void 0&&(ue[ie]=fe[ie]);return{$$typeof:n,type:z,key:he,ref:te,props:ue,_owner:W.current}}function G(z,U){return{$$typeof:n,type:z.type,key:U,ref:z.ref,props:z.props,_owner:z._owner}}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function ne(z){var U={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return U[q]})}var ae=/\/+/g;function pe(z,U){return typeof z=="object"&&z!==null&&z.key!=null?ne(""+z.key):U.toString(36)}function me(z,U,q,ie,ue){var he=typeof z;(he==="undefined"||he==="boolean")&&(z=null);var te=!1;if(z===null)te=!0;else switch(he){case"string":case"number":te=!0;break;case"object":switch(z.$$typeof){case n:case e:te=!0}}if(te)return te=z,ue=ue(te),z=ie===""?"."+pe(te,0):ie,A(ue)?(q="",z!=null&&(q=z.replace(ae,"$&/")+"/"),me(ue,U,q,"",function(Ce){return Ce})):ue!=null&&(X(ue)&&(ue=G(ue,q+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(ae,"$&/")+"/")+z)),U.push(ue)),1;if(te=0,ie=ie===""?".":ie+":",A(z))for(var fe=0;fe<z.length;fe++){he=z[fe];var je=ie+pe(he,fe);te+=me(he,U,q,je,ue)}else if(je=b(z),typeof je=="function")for(z=je.call(z),fe=0;!(he=z.next()).done;)he=he.value,je=ie+pe(he,fe++),te+=me(he,U,q,je,ue);else if(he==="object")throw U=String(z),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return te}function ke(z,U,q){if(z==null)return z;var ie=[],ue=0;return me(z,ie,"","",function(he){return U.call(q,he,ue++)}),ie}function ge(z){if(z._status===-1){var U=z._result;U=U(),U.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=U)}if(z._status===1)return z._result.default;throw z._result}var be={current:null},B={transition:null},Y={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:B,ReactCurrentOwner:W};function re(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:ke,forEach:function(z,U,q){ke(z,function(){U.apply(this,arguments)},q)},count:function(z){var U=0;return ke(z,function(){U++}),U},toArray:function(z){return ke(z,function(U){return U})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},vt.Component=k,vt.Fragment=t,vt.Profiler=o,vt.PureComponent=N,vt.StrictMode=r,vt.Suspense=p,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,vt.act=re,vt.cloneElement=function(z,U,q){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ie=E({},z.props),ue=z.key,he=z.ref,te=z._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,te=W.current),U.key!==void 0&&(ue=""+U.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(je in U)M.call(U,je)&&!F.hasOwnProperty(je)&&(ie[je]=U[je]===void 0&&fe!==void 0?fe[je]:U[je])}var je=arguments.length-2;if(je===1)ie.children=q;else if(1<je){fe=Array(je);for(var Ce=0;Ce<je;Ce++)fe[Ce]=arguments[Ce+2];ie.children=fe}return{$$typeof:n,type:z.type,key:ue,ref:he,props:ie,_owner:te}},vt.createContext=function(z){return z={$$typeof:u,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:c,_context:z},z.Consumer=z},vt.createElement=$,vt.createFactory=function(z){var U=$.bind(null,z);return U.type=z,U},vt.createRef=function(){return{current:null}},vt.forwardRef=function(z){return{$$typeof:h,render:z}},vt.isValidElement=X,vt.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:ge}},vt.memo=function(z,U){return{$$typeof:g,type:z,compare:U===void 0?null:U}},vt.startTransition=function(z){var U=B.transition;B.transition={};try{z()}finally{B.transition=U}},vt.unstable_act=re,vt.useCallback=function(z,U){return be.current.useCallback(z,U)},vt.useContext=function(z){return be.current.useContext(z)},vt.useDebugValue=function(){},vt.useDeferredValue=function(z){return be.current.useDeferredValue(z)},vt.useEffect=function(z,U){return be.current.useEffect(z,U)},vt.useId=function(){return be.current.useId()},vt.useImperativeHandle=function(z,U,q){return be.current.useImperativeHandle(z,U,q)},vt.useInsertionEffect=function(z,U){return be.current.useInsertionEffect(z,U)},vt.useLayoutEffect=function(z,U){return be.current.useLayoutEffect(z,U)},vt.useMemo=function(z,U){return be.current.useMemo(z,U)},vt.useReducer=function(z,U,q){return be.current.useReducer(z,U,q)},vt.useRef=function(z){return be.current.useRef(z)},vt.useState=function(z){return be.current.useState(z)},vt.useSyncExternalStore=function(z,U,q){return be.current.useSyncExternalStore(z,U,q)},vt.useTransition=function(){return be.current.useTransition()},vt.version="18.3.1",vt}var gw;function Cg(){return gw||(gw=1,yx.exports=uP()),yx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function dP(){if(vw)return Qf;vw=1;var n=Cg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,p,g){var x,y={},b=null,C=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)r.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:e,type:h,key:b,ref:C,props:y,_owner:o.current}}return Qf.Fragment=t,Qf.jsx=u,Qf.jsxs=u,Qf}var xw;function fP(){return xw||(xw=1,xx.exports=dP()),xx.exports}var a=fP(),w=Cg();const on=kg(w),W0=lP({__proto__:null,default:on},[w]);var Em={},wx={exports:{}},Rr={},_x={exports:{}},bx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yw;function hP(){return yw||(yw=1,function(n){function e(B,Y){var re=B.length;B.push(Y);e:for(;0<re;){var z=re-1>>>1,U=B[z];if(0<o(U,Y))B[z]=Y,B[re]=U,re=z;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],re=B.pop();if(re!==Y){B[0]=re;e:for(var z=0,U=B.length,q=U>>>1;z<q;){var ie=2*(z+1)-1,ue=B[ie],he=ie+1,te=B[he];if(0>o(ue,re))he<U&&0>o(te,ue)?(B[z]=te,B[he]=re,z=he):(B[z]=ue,B[ie]=re,z=ie);else if(he<U&&0>o(te,re))B[z]=te,B[he]=re,z=he;else break e}}return Y}function o(B,Y){var re=B.sortIndex-Y.sortIndex;return re!==0?re:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var p=[],g=[],x=1,y=null,b=3,C=!1,E=!1,P=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,N=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var Y=t(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=B)r(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=t(g)}}function A(B){if(P=!1,T(B),!E)if(t(p)!==null)E=!0,ge(M);else{var Y=t(g);Y!==null&&be(A,Y.startTime-B)}}function M(B,Y){E=!1,P&&(P=!1,R($),$=-1),C=!0;var re=b;try{for(T(Y),y=t(p);y!==null&&(!(y.expirationTime>Y)||B&&!ne());){var z=y.callback;if(typeof z=="function"){y.callback=null,b=y.priorityLevel;var U=z(y.expirationTime<=Y);Y=n.unstable_now(),typeof U=="function"?y.callback=U:y===t(p)&&r(p),T(Y)}else r(p);y=t(p)}if(y!==null)var q=!0;else{var ie=t(g);ie!==null&&be(A,ie.startTime-Y),q=!1}return q}finally{y=null,b=re,C=!1}}var W=!1,F=null,$=-1,G=5,X=-1;function ne(){return!(n.unstable_now()-X<G)}function ae(){if(F!==null){var B=n.unstable_now();X=B;var Y=!0;try{Y=F(!0,B)}finally{Y?pe():(W=!1,F=null)}}else W=!1}var pe;if(typeof N=="function")pe=function(){N(ae)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,ke=me.port2;me.port1.onmessage=ae,pe=function(){ke.postMessage(null)}}else pe=function(){k(ae,0)};function ge(B){F=B,W||(W=!0,pe())}function be(B,Y){$=k(function(){B(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){E||C||(E=!0,ge(M))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var re=b;b=Y;try{return B()}finally{b=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=b;b=B;try{return Y()}finally{b=re}},n.unstable_scheduleCallback=function(B,Y,re){var z=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,B){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=re+U,B={id:x++,callback:Y,priorityLevel:B,startTime:re,expirationTime:U,sortIndex:-1},re>z?(B.sortIndex=re,e(g,B),t(p)===null&&B===t(g)&&(P?(R($),$=-1):P=!0,be(A,re-z))):(B.sortIndex=U,e(p,B),E||C||(E=!0,ge(M))),B},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(B){var Y=b;return function(){var re=b;b=Y;try{return B.apply(this,arguments)}finally{b=re}}}}(bx)),bx}var ww;function pP(){return ww||(ww=1,_x.exports=hP()),_x.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function mP(){if(_w)return Rr;_w=1;var n=Cg(),e=pP();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function c(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function b(s){return p.call(y,s)?!0:p.call(x,s)?!1:g.test(s)?y[s]=!0:(x[s]=!0,!1)}function C(s,i,f,m){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,i,f,m){if(i===null||typeof i>"u"||C(s,i,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(s,i,f,m,_,S,I){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=s,this.type=i,this.sanitizeURL=S,this.removeEmptyString=I}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new P(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function N(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(R,N);k[i]=new P(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(R,N);k[i]=new P(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(R,N);k[i]=new P(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,i,f,m){var _=k.hasOwnProperty(i)?k[i]:null;(_!==null?_.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,f,_,m)&&(f=null),m||_===null?b(i)&&(f===null?s.removeAttribute(i):s.setAttribute(i,""+f)):_.mustUseProperty?s[_.propertyName]=f===null?_.type===3?!1:"":f:(i=_.attributeName,m=_.attributeNamespace,f===null?s.removeAttribute(i):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,m?s.setAttributeNS(m,i,f):s.setAttribute(i,f))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),W=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),B=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,z;function U(s){if(z===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var q=!1;function ie(s,i){if(!s||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var m=ce}Reflect.construct(s,[],i)}else{try{i.call()}catch(ce){m=ce}s.call(i.prototype)}else{try{throw Error()}catch(ce){m=ce}s()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var _=ce.stack.split(`
`),S=m.stack.split(`
`),I=_.length-1,H=S.length-1;1<=I&&0<=H&&_[I]!==S[H];)H--;for(;1<=I&&0<=H;I--,H--)if(_[I]!==S[H]){if(I!==1||H!==1)do if(I--,H--,0>H||_[I]!==S[H]){var K=`
`+_[I].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=I&&0<=H);break}}}finally{q=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?U(s):""}function ue(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ie(s.type,!1),s;case 11:return s=ie(s.type.render,!1),s;case 1:return s=ie(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case W:return"Portal";case G:return"Profiler";case $:return"StrictMode";case pe:return"Suspense";case me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ne:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return i=s.displayName||null,i!==null?i:he(s.type)||"Memo";case ge:i=s._payload,s=s._init;try{return he(s(i))}catch{}}return null}function te(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function je(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ce(s){var i=je(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),m=""+s[i];if(!s.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,S=f.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return _.call(this)},set:function(I){m=""+I,S.call(this,I)}}),Object.defineProperty(s,i,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(I){m=""+I},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Be(s){s._valueTracker||(s._valueTracker=Ce(s))}function Ae(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var f=i.getValue(),m="";return s&&(m=je(s)?s.checked?"true":"false":s.value),s=m,s!==f?(i.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function gt(s,i){var f=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function hn(s,i){var f=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;f=fe(i.value!=null?i.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function tr(s,i){i=i.checked,i!=null&&T(s,"checked",i,!1)}function Yt(s,i){tr(s,i);var f=fe(i.value),m=i.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Or(s,i.type,f):i.hasOwnProperty("defaultValue")&&Or(s,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function en(s,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,f||i===s.value||(s.value=i),s.defaultValue=i}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Or(s,i,f){(i!=="number"||Je(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Ir=Array.isArray;function Gt(s,i,f,m){if(s=s.options,i){i={};for(var _=0;_<f.length;_++)i["$"+f[_]]=!0;for(f=0;f<s.length;f++)_=i.hasOwnProperty("$"+s[f].value),s[f].selected!==_&&(s[f].selected=_),_&&m&&(s[f].defaultSelected=!0)}else{for(f=""+fe(f),i=null,_=0;_<s.length;_++){if(s[_].value===f){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}i!==null||s[_].disabled||(i=s[_])}i!==null&&(i.selected=!0)}}function Zr(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Do(s,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(t(92));if(Ir(f)){if(1<f.length)throw Error(t(93));f=f[0]}i=f}i==null&&(i=""),f=i}s._wrapperState={initialValue:fe(f)}}function Gh(s,i){var f=fe(i.value),m=fe(i.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),i.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Ii(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function qh(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Lo(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?qh(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ws,oc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,m,_){MSApp.execUnsafeLocalFunction(function(){return s(i,f,m,_)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ws=ws||document.createElement("div"),ws.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ws.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function $o(s,i){if(i){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=i;return}}s.textContent=i}var Fo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_d=["Webkit","ms","Moz","O"];Object.keys(Fo).forEach(function(s){_d.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Fo[i]=Fo[s]})});function ic(s,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||Fo.hasOwnProperty(s)&&Fo[s]?(""+i).trim():i+"px"}function ac(s,i){s=s.style;for(var f in i)if(i.hasOwnProperty(f)){var m=f.indexOf("--")===0,_=ic(f,i[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,_):s[f]=_}}var bd=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function La(s,i){if(i){if(bd[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function $a(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sd=null;function jd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Nd=null,zo=null,Uo=null;function Kh(s){if(s=Cn(s)){if(typeof Nd!="function")throw Error(t(280));var i=s.stateNode;i&&(i=$c(i),Nd(s.stateNode,s.type,i))}}function Yh(s){zo?Uo?Uo.push(s):Uo=[s]:zo=s}function Jh(){if(zo){var s=zo,i=Uo;if(Uo=zo=null,Kh(s),i)for(s=0;s<i.length;s++)Kh(i[s])}}function Xh(s,i){return s(i)}function kd(){}var Cd=!1;function Qh(s,i,f){if(Cd)return s(i,f);Cd=!0;try{return Xh(s,i,f)}finally{Cd=!1,(zo!==null||Uo!==null)&&(kd(),Jh())}}function Fa(s,i){var f=s.stateNode;if(f===null)return null;var m=$c(f);if(m===null)return null;f=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,i,typeof f));return f}var za=!1;if(h)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){za=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{za=!1}function Ed(s,i,f,m,_,S,I,H,K){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(f,ce)}catch(we){this.onError(we)}}var Ba=!1,lc=null,cc=!1,Pd=null,pv={onError:function(s){Ba=!0,lc=s}};function mv(s,i,f,m,_,S,I,H,K){Ba=!1,lc=null,Ed.apply(pv,arguments)}function gv(s,i,f,m,_,S,I,H,K){if(mv.apply(this,arguments),Ba){if(Ba){var ce=lc;Ba=!1,lc=null}else throw Error(t(198));cc||(cc=!0,Pd=ce)}}function Bo(s){var i=s,f=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(f=i.return),s=i.return;while(s)}return i.tag===3?f:null}function Rd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Zh(s){if(Bo(s)!==s)throw Error(t(188))}function vv(s){var i=s.alternate;if(!i){if(i=Bo(s),i===null)throw Error(t(188));return i!==s?null:s}for(var f=s,m=i;;){var _=f.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){f=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===f)return Zh(_),s;if(S===m)return Zh(_),i;S=S.sibling}throw Error(t(188))}if(f.return!==m.return)f=_,m=S;else{for(var I=!1,H=_.child;H;){if(H===f){I=!0,f=_,m=S;break}if(H===m){I=!0,m=_,f=S;break}H=H.sibling}if(!I){for(H=S.child;H;){if(H===f){I=!0,f=S,m=_;break}if(H===m){I=!0,m=S,f=_;break}H=H.sibling}if(!I)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:i}function ep(s){return s=vv(s),s!==null?tp(s):null}function tp(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=tp(s);if(i!==null)return i;s=s.sibling}return null}var np=e.unstable_scheduleCallback,rp=e.unstable_cancelCallback,uc=e.unstable_shouldYield,xv=e.unstable_requestPaint,Ft=e.unstable_now,yv=e.unstable_getCurrentPriorityLevel,Td=e.unstable_ImmediatePriority,sp=e.unstable_UserBlockingPriority,Wa=e.unstable_NormalPriority,op=e.unstable_LowPriority,Od=e.unstable_IdlePriority,dc=null,es=null;function wv(s){if(es&&typeof es.onCommitFiberRoot=="function")try{es.onCommitFiberRoot(dc,s,void 0,(s.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:lp,ip=Math.log,ap=Math.LN2;function lp(s){return s>>>=0,s===0?32:31-(ip(s)/ap|0)|0}var Ai=64,fc=4194304;function Mi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wo(s,i){var f=s.pendingLanes;if(f===0)return 0;var m=0,_=s.suspendedLanes,S=s.pingedLanes,I=f&268435455;if(I!==0){var H=I&~_;H!==0?m=Mi(H):(S&=I,S!==0&&(m=Mi(S)))}else I=f&~_,I!==0?m=Mi(I):S!==0&&(m=Mi(S));if(m===0)return 0;if(i!==0&&i!==m&&(i&_)===0&&(_=m&-m,S=i&-i,_>=S||_===16&&(S&4194240)!==0))return i;if((m&4)!==0&&(m|=f&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=m;0<i;)f=31-Ar(i),_=1<<f,m|=s[f],i&=~_;return m}function cp(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _v(s,i){for(var f=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes;0<S;){var I=31-Ar(S),H=1<<I,K=_[I];K===-1?((H&f)===0||(H&m)!==0)&&(_[I]=cp(H,i)):K<=i&&(s.expiredLanes|=H),S&=~H}}function hc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Id(){var s=Ai;return Ai<<=1,(Ai&4194240)===0&&(Ai=64),s}function Ha(s){for(var i=[],f=0;31>f;f++)i.push(s);return i}function Va(s,i,f){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Ar(i),s[i]=f}function up(s,i){var f=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var _=31-Ar(f),S=1<<_;i[_]=0,m[_]=-1,s[_]=-1,f&=~S}}function Ga(s,i){var f=s.entangledLanes|=i;for(s=s.entanglements;f;){var m=31-Ar(f),_=1<<m;_&i|s[m]&i&&(s[m]|=i),f&=~_}}var Ct=0;function Ho(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ad,pc,dp,Md,Dd,mc=!1,qa=[],Ys=null,Js=null,Xs=null,Di=new Map,Ka=new Map,Qs=[],bv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fp(s,i){switch(s){case"focusin":case"focusout":Ys=null;break;case"dragenter":case"dragleave":Js=null;break;case"mouseover":case"mouseout":Xs=null;break;case"pointerover":case"pointerout":Di.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(i.pointerId)}}function Vo(s,i,f,m,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:i,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},i!==null&&(i=Cn(i),i!==null&&pc(i)),s):(s.eventSystemFlags|=m,i=s.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),s)}function Sv(s,i,f,m,_){switch(i){case"focusin":return Ys=Vo(Ys,s,i,f,m,_),!0;case"dragenter":return Js=Vo(Js,s,i,f,m,_),!0;case"mouseover":return Xs=Vo(Xs,s,i,f,m,_),!0;case"pointerover":var S=_.pointerId;return Di.set(S,Vo(Di.get(S)||null,s,i,f,m,_)),!0;case"gotpointercapture":return S=_.pointerId,Ka.set(S,Vo(Ka.get(S)||null,s,i,f,m,_)),!0}return!1}function hp(s){var i=ss(s.target);if(i!==null){var f=Bo(i);if(f!==null){if(i=f.tag,i===13){if(i=Rd(f),i!==null){s.blockedOn=i,Dd(s.priority,function(){dp(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function gc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var f=yc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);Sd=m,f.target.dispatchEvent(m),Sd=null}else return i=Cn(f),i!==null&&pc(i),s.blockedOn=f,!1;i.shift()}return!0}function pp(s,i,f){gc(s)&&f.delete(i)}function jv(){mc=!1,Ys!==null&&gc(Ys)&&(Ys=null),Js!==null&&gc(Js)&&(Js=null),Xs!==null&&gc(Xs)&&(Xs=null),Di.forEach(pp),Ka.forEach(pp)}function Pt(s,i){s.blockedOn===i&&(s.blockedOn=null,mc||(mc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,jv)))}function Et(s){function i(_){return Pt(_,s)}if(0<qa.length){Pt(qa[0],s);for(var f=1;f<qa.length;f++){var m=qa[f];m.blockedOn===s&&(m.blockedOn=null)}}for(Ys!==null&&Pt(Ys,s),Js!==null&&Pt(Js,s),Xs!==null&&Pt(Xs,s),Di.forEach(i),Ka.forEach(i),f=0;f<Qs.length;f++)m=Qs[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<Qs.length&&(f=Qs[0],f.blockedOn===null);)hp(f),f.blockedOn===null&&Qs.shift()}var Li=A.ReactCurrentBatchConfig,vc=!0;function Nv(s,i,f,m){var _=Ct,S=Li.transition;Li.transition=null;try{Ct=1,Ld(s,i,f,m)}finally{Ct=_,Li.transition=S}}function kv(s,i,f,m){var _=Ct,S=Li.transition;Li.transition=null;try{Ct=4,Ld(s,i,f,m)}finally{Ct=_,Li.transition=S}}function Ld(s,i,f,m){if(vc){var _=yc(s,i,f,m);if(_===null)ef(s,i,m,xc,f),fp(s,m);else if(Sv(_,s,i,f,m))m.stopPropagation();else if(fp(s,m),i&4&&-1<bv.indexOf(s)){for(;_!==null;){var S=Cn(_);if(S!==null&&Ad(S),S=yc(s,i,f,m),S===null&&ef(s,i,m,xc,f),S===_)break;_=S}_!==null&&m.stopPropagation()}else ef(s,i,m,null,f)}}var xc=null;function yc(s,i,f,m){if(xc=null,s=jd(m),s=ss(s),s!==null)if(i=Bo(s),i===null)s=null;else if(f=i.tag,f===13){if(s=Rd(i),s!==null)return s;s=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return xc=s,null}function mp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yv()){case Td:return 1;case sp:return 4;case Wa:case op:return 16;case Od:return 536870912;default:return 16}default:return 16}}var zt=null,Ya=null,ts=null;function $d(){if(ts)return ts;var s,i=Ya,f=i.length,m,_="value"in zt?zt.value:zt.textContent,S=_.length;for(s=0;s<f&&i[s]===_[s];s++);var I=f-s;for(m=1;m<=I&&i[f-m]===_[S-m];m++);return ts=_.slice(s,1<m?1-m:void 0)}function $i(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function Dn(){return!0}function Fd(){return!1}function Vn(s){function i(f,m,_,S,I){this._reactName=f,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=I,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(S):S[H]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?Dn:Fd,this.isPropagationStopped=Fd,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=Dn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=Dn)},persist:function(){},isPersistent:Dn}),i}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wc=Vn(Go),Fi=re({},Go,{view:0,detail:0}),gp=Vn(Fi),Ln,zd,Nn,_c=re({},Fi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nn&&(Nn&&s.type==="mousemove"?(Ln=s.screenX-Nn.screenX,zd=s.screenY-Nn.screenY):zd=Ln=0,Nn=s),Ln)},movementY:function(s){return"movementY"in s?s.movementY:zd}}),Ud=Vn(_c),Zs=re({},_c,{dataTransfer:0}),bc=Vn(Zs),Bd=re({},Fi,{relatedTarget:0}),At=Vn(Bd),eo=re({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),Wd=Vn(eo),Cv=re({},Go,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Hd=Vn(Cv),Ev=re({},Go,{data:0}),vp=Vn(Ev),Pv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zi(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Sc[s])?!!i[s]:!1}function Vd(){return zi}var yp=re({},Fi,{key:function(s){if(s.key){var i=Pv[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=$i(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?xp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(s){return s.type==="keypress"?$i(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?$i(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),wp=Vn(yp),Gd=re({},_c,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jc=Vn(Gd),_p=re({},Fi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),Rv=Vn(_p),qd=re({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kd=Vn(qd),Tv=re({},_c,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),bp=Vn(Tv),nr=[9,13,27,32],Ja=h&&"CompositionEvent"in window,_s=null;h&&"documentMode"in document&&(_s=document.documentMode);var Sp=h&&"TextEvent"in window&&!_s,Yd=h&&(!Ja||_s&&8<_s&&11>=_s),jp=" ",Np=!1;function kp(s,i){switch(s){case"keyup":return nr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ui=!1;function Bi(s,i){switch(s){case"compositionend":return Cp(i);case"keypress":return i.which!==32?null:(Np=!0,jp);case"textInput":return s=i.data,s===jp&&Np?null:s;default:return null}}function Ov(s,i){if(Ui)return s==="compositionend"||!Ja&&kp(s,i)?(s=$d(),ts=Ya=zt=null,Ui=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Yd&&i.locale!=="ko"?null:i.data;default:return null}}var Iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Iv[s.type]:i==="textarea"}function Jd(s,i,f,m){Yh(m),i=Ac(i,"onChange"),0<i.length&&(f=new wc("onChange","change",null,f,m),s.push({event:f,listeners:i}))}var mr=null,to=null;function Av(s){Ap(s,0)}function kc(s){var i=ot(s);if(Ae(i))return s}function Mv(s,i){if(s==="change")return i}var qo=!1;if(h){var rr;if(h){var Cc="oninput"in document;if(!Cc){var Ep=document.createElement("div");Ep.setAttribute("oninput","return;"),Cc=typeof Ep.oninput=="function"}rr=Cc}else rr=!1;qo=rr&&(!document.documentMode||9<document.documentMode)}function Pp(){mr&&(mr.detachEvent("onpropertychange",Rp),to=mr=null)}function Rp(s){if(s.propertyName==="value"&&kc(to)){var i=[];Jd(i,to,s,jd(s)),Qh(Av,i)}}function Dv(s,i,f){s==="focusin"?(Pp(),mr=i,to=f,mr.attachEvent("onpropertychange",Rp)):s==="focusout"&&Pp()}function Lv(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return kc(to)}function Wi(s,i){if(s==="click")return kc(i)}function Z(s,i){if(s==="input"||s==="change")return kc(i)}function de(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var le=typeof Object.is=="function"?Object.is:de;function Pe(s,i){if(le(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var f=Object.keys(s),m=Object.keys(i);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var _=f[m];if(!p.call(i,_)||!le(s[_],i[_]))return!1}return!0}function nt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function St(s,i){var f=nt(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=i&&m>=i)return{node:f,offset:i-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=nt(f)}}function tn(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?tn(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Rt(){for(var s=window,i=Je();i instanceof s.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)s=i.contentWindow;else break;i=Je(s.document)}return i}function Xa(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function $v(s){var i=Rt(),f=s.focusedElem,m=s.selectionRange;if(i!==f&&f&&f.ownerDocument&&tn(f.ownerDocument.documentElement,f)){if(m!==null&&Xa(f)){if(i=m.start,s=m.end,s===void 0&&(s=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(s,f.value.length);else if(s=(i=f.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var _=f.textContent.length,S=Math.min(m.start,_);m=m.end===void 0?S:Math.min(m.end,_),!s.extend&&S>m&&(_=m,m=S,S=_),_=St(f,S);var I=St(f,m);_&&I&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),s.removeAllRanges(),S>m?(s.addRange(i),s.extend(I.node,I.offset)):(i.setEnd(I.node,I.offset),s.addRange(i)))}}for(i=[],s=f;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)s=i[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gr=h&&"documentMode"in document&&11>=document.documentMode,bs=null,Xd=null,ns=null,Hi=!1;function Qa(s,i,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Hi||bs==null||bs!==Je(m)||(m=bs,"selectionStart"in m&&Xa(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),ns&&Pe(ns,m)||(ns=m,m=Ac(Xd,"onSelect"),0<m.length&&(i=new wc("onSelect","select",null,i,f),s.push({event:i,listeners:m}),i.target=bs)))}function jt(s,i){var f={};return f[s.toLowerCase()]=i.toLowerCase(),f["Webkit"+s]="webkit"+i,f["Moz"+s]="moz"+i,f}var Vi={animationend:jt("Animation","AnimationEnd"),animationiteration:jt("Animation","AnimationIteration"),animationstart:jt("Animation","AnimationStart"),transitionend:jt("Transition","TransitionEnd")},Ec={},Za={};h&&(Za=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function Pc(s){if(Ec[s])return Ec[s];if(!Vi[s])return s;var i=Vi[s],f;for(f in i)if(i.hasOwnProperty(f)&&f in Za)return Ec[s]=i[f];return s}var Tp=Pc("animationend"),Op=Pc("animationiteration"),el=Pc("animationstart"),Ss=Pc("transitionend"),tl=new Map,Qd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(s,i){tl.set(s,i),c(i,[s])}for(var Rc=0;Rc<Qd.length;Rc++){var Tc=Qd[Rc],Oc=Tc.toLowerCase(),Ip=Tc[0].toUpperCase()+Tc.slice(1);Mr(Oc,"on"+Ip)}Mr(Tp,"onAnimationEnd"),Mr(Op,"onAnimationIteration"),Mr(el,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Ss,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var js="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ko=new Set("cancel close invalid load scroll toggle".split(" ").concat(js));function nl(s,i,f){var m=s.type||"unknown-event";s.currentTarget=f,gv(m,i,void 0,s),s.currentTarget=null}function Ap(s,i){i=(i&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],_=m.event;m=m.listeners;e:{var S=void 0;if(i)for(var I=m.length-1;0<=I;I--){var H=m[I],K=H.instance,ce=H.currentTarget;if(H=H.listener,K!==S&&_.isPropagationStopped())break e;nl(_,H,ce),S=K}else for(I=0;I<m.length;I++){if(H=m[I],K=H.instance,ce=H.currentTarget,H=H.listener,K!==S&&_.isPropagationStopped())break e;nl(_,H,ce),S=K}}}if(cc)throw s=Pd,cc=!1,Pd=null,s}function Dt(s,i){var f=i[Lc];f===void 0&&(f=i[Lc]=new Set);var m=s+"__bubble";f.has(m)||(Ic(i,s,2,!1),f.add(m))}function Zd(s,i,f){var m=0;i&&(m|=4),Ic(f,s,m,i)}var Yo="_reactListening"+Math.random().toString(36).slice(2);function no(s){if(!s[Yo]){s[Yo]=!0,r.forEach(function(f){f!=="selectionchange"&&(Ko.has(f)||Zd(f,!1,s),Zd(f,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Yo]||(i[Yo]=!0,Zd("selectionchange",!1,i))}}function Ic(s,i,f,m){switch(mp(i)){case 1:var _=Nv;break;case 4:_=kv;break;default:_=Ld}f=_.bind(null,i,f,s),_=void 0,!za||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(i,f,{capture:!0,passive:_}):s.addEventListener(i,f,!0):_!==void 0?s.addEventListener(i,f,{passive:_}):s.addEventListener(i,f,!1)}function ef(s,i,f,m,_){var S=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var I=m.tag;if(I===3||I===4){var H=m.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(I===4)for(I=m.return;I!==null;){var K=I.tag;if((K===3||K===4)&&(K=I.stateNode.containerInfo,K===_||K.nodeType===8&&K.parentNode===_))return;I=I.return}for(;H!==null;){if(I=ss(H),I===null)return;if(K=I.tag,K===5||K===6){m=S=I;continue e}H=H.parentNode}}m=m.return}Qh(function(){var ce=S,we=jd(f),Se=[];e:{var ye=tl.get(s);if(ye!==void 0){var Re=wc,Oe=s;switch(s){case"keypress":if($i(f)===0)break e;case"keydown":case"keyup":Re=wp;break;case"focusin":Oe="focus",Re=At;break;case"focusout":Oe="blur",Re=At;break;case"beforeblur":case"afterblur":Re=At;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Ud;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=bc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Rv;break;case Tp:case Op:case el:Re=Wd;break;case Ss:Re=Kd;break;case"scroll":Re=gp;break;case"wheel":Re=bp;break;case"copy":case"cut":case"paste":Re=Hd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=jc}var Ie=(i&4)!==0,Xt=!Ie&&s==="scroll",se=Ie?ye!==null?ye+"Capture":null:ye;Ie=[];for(var Q=ce,oe;Q!==null;){oe=Q;var Ne=oe.stateNode;if(oe.tag===5&&Ne!==null&&(oe=Ne,se!==null&&(Ne=Fa(Q,se),Ne!=null&&Ie.push(Gi(Q,Ne,oe)))),Xt)break;Q=Q.return}0<Ie.length&&(ye=new Re(ye,Oe,null,f,we),Se.push({event:ye,listeners:Ie}))}}if((i&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",ye&&f!==Sd&&(Oe=f.relatedTarget||f.fromElement)&&(ss(Oe)||Oe[sr]))break e;if((Re||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Re?(Oe=f.relatedTarget||f.toElement,Re=ce,Oe=Oe?ss(Oe):null,Oe!==null&&(Xt=Bo(Oe),Oe!==Xt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Re=null,Oe=ce),Re!==Oe)){if(Ie=Ud,Ne="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ie=jc,Ne="onPointerLeave",se="onPointerEnter",Q="pointer"),Xt=Re==null?ye:ot(Re),oe=Oe==null?ye:ot(Oe),ye=new Ie(Ne,Q+"leave",Re,f,we),ye.target=Xt,ye.relatedTarget=oe,Ne=null,ss(we)===ce&&(Ie=new Ie(se,Q+"enter",Oe,f,we),Ie.target=oe,Ie.relatedTarget=Xt,Ne=Ie),Xt=Ne,Re&&Oe)t:{for(Ie=Re,se=Oe,Q=0,oe=Ie;oe;oe=qi(oe))Q++;for(oe=0,Ne=se;Ne;Ne=qi(Ne))oe++;for(;0<Q-oe;)Ie=qi(Ie),Q--;for(;0<oe-Q;)se=qi(se),oe--;for(;Q--;){if(Ie===se||se!==null&&Ie===se.alternate)break t;Ie=qi(Ie),se=qi(se)}Ie=null}else Ie=null;Re!==null&&nn(Se,ye,Re,Ie,!1),Oe!==null&&Xt!==null&&nn(Se,Xt,Oe,Ie,!0)}}e:{if(ye=ce?ot(ce):window,Re=ye.nodeName&&ye.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ye.type==="file")var ze=Mv;else if(Nc(ye))if(qo)ze=Z;else{ze=Lv;var Ke=Dv}else(Re=ye.nodeName)&&Re.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(ze=Wi);if(ze&&(ze=ze(s,ce))){Jd(Se,ze,f,we);break e}Ke&&Ke(s,ye,ce),s==="focusout"&&(Ke=ye._wrapperState)&&Ke.controlled&&ye.type==="number"&&Or(ye,"number",ye.value)}switch(Ke=ce?ot(ce):window,s){case"focusin":(Nc(Ke)||Ke.contentEditable==="true")&&(bs=Ke,Xd=ce,ns=null);break;case"focusout":ns=Xd=bs=null;break;case"mousedown":Hi=!0;break;case"contextmenu":case"mouseup":case"dragend":Hi=!1,Qa(Se,f,we);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":Qa(Se,f,we)}var Ge;if(Ja)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else Ui?kp(s,f)&&(Xe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(Yd&&f.locale!=="ko"&&(Ui||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&Ui&&(Ge=$d()):(zt=we,Ya="value"in zt?zt.value:zt.textContent,Ui=!0)),Ke=Ac(ce,Xe),0<Ke.length&&(Xe=new vp(Xe,s,null,f,we),Se.push({event:Xe,listeners:Ke}),Ge?Xe.data=Ge:(Ge=Cp(f),Ge!==null&&(Xe.data=Ge)))),(Ge=Sp?Bi(s,f):Ov(s,f))&&(ce=Ac(ce,"onBeforeInput"),0<ce.length&&(we=new vp("onBeforeInput","beforeinput",null,f,we),Se.push({event:we,listeners:ce}),we.data=Ge))}Ap(Se,i)})}function Gi(s,i,f){return{instance:s,listener:i,currentTarget:f}}function Ac(s,i){for(var f=i+"Capture",m=[];s!==null;){var _=s,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=Fa(s,f),S!=null&&m.unshift(Gi(s,S,_)),S=Fa(s,i),S!=null&&m.push(Gi(s,S,_))),s=s.return}return m}function qi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function nn(s,i,f,m,_){for(var S=i._reactName,I=[];f!==null&&f!==m;){var H=f,K=H.alternate,ce=H.stateNode;if(K!==null&&K===m)break;H.tag===5&&ce!==null&&(H=ce,_?(K=Fa(f,S),K!=null&&I.unshift(Gi(f,K,H))):_||(K=Fa(f,S),K!=null&&I.push(Gi(f,K,H)))),f=f.return}I.length!==0&&s.push({event:i,listeners:I})}var kn=/\r\n?/g,Fv=/\u0000|\uFFFD/g;function Mp(s){return(typeof s=="string"?s:""+s).replace(kn,`
`).replace(Fv,"")}function rl(s,i,f){if(i=Mp(i),Mp(s)!==i&&f)throw Error(t(425))}function Mc(){}var sl=null,Jo=null;function ol(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var ro=typeof setTimeout=="function"?setTimeout:void 0,il=typeof clearTimeout=="function"?clearTimeout:void 0,Ki=typeof Promise=="function"?Promise:void 0,Dc=typeof queueMicrotask=="function"?queueMicrotask:typeof Ki<"u"?function(s){return Ki.resolve(null).then(s).catch(Yi)}:ro;function Yi(s){setTimeout(function(){throw s})}function tf(s,i){var f=i,m=0;do{var _=f.nextSibling;if(s.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(m===0){s.removeChild(_),Et(i);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=_}while(f);Et(i)}function so(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Dp(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return s;i--}else f==="/$"&&i++}s=s.previousSibling}return null}var Ji=Math.random().toString(36).slice(2),rs="__reactFiber$"+Ji,oo="__reactProps$"+Ji,sr="__reactContainer$"+Ji,Lc="__reactEvents$"+Ji,D="__reactListeners$"+Ji,Xi="__reactHandles$"+Ji;function ss(s){var i=s[rs];if(i)return i;for(var f=s.parentNode;f;){if(i=f[sr]||f[rs]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(s=Dp(s);s!==null;){if(f=s[rs])return f;s=Dp(s)}return i}s=f,f=s.parentNode}return null}function Cn(s){return s=s[rs]||s[sr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ot(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function $c(s){return s[oo]||null}var nf=[],Qi=-1;function Gn(s){return{current:s}}function Lt(s){0>Qi||(s.current=nf[Qi],nf[Qi]=null,Qi--)}function Mt(s,i){Qi++,nf[Qi]=s.current,s.current=i}var io={},En=Gn(io),qn=Gn(!1),$n=io;function Zi(s,i){var f=s.type.contextTypes;if(!f)return io;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in f)_[S]=i[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=_),_}function Kn(s){return s=s.childContextTypes,s!=null}function Fc(){Lt(qn),Lt(En)}function Lp(s,i,f){if(En.current!==io)throw Error(t(168));Mt(En,i),Mt(qn,f)}function $p(s,i,f){var m=s.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var _ in m)if(!(_ in i))throw Error(t(108,te(s)||"Unknown",_));return re({},f,m)}function vr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||io,$n=En.current,Mt(En,s),Mt(qn,qn.current),!0}function Fp(s,i,f){var m=s.stateNode;if(!m)throw Error(t(169));f?(s=$p(s,i,$n),m.__reactInternalMemoizedMergedChildContext=s,Lt(qn),Lt(En),Mt(En,s)):Lt(qn),Mt(qn,f)}var Ns=null,zc=!1,rf=!1;function zp(s){Ns===null?Ns=[s]:Ns.push(s)}function Xo(s){zc=!0,zp(s)}function ao(){if(!rf&&Ns!==null){rf=!0;var s=0,i=Ct;try{var f=Ns;for(Ct=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}Ns=null,zc=!1}catch(_){throw Ns!==null&&(Ns=Ns.slice(s+1)),np(Td,ao),_}finally{Ct=i,rf=!1}}return null}var ea=[],Pn=0,Uc=null,Bc=0,xr=[],yr=0,Qo=null,os=1,is="";function Zo(s,i){ea[Pn++]=Bc,ea[Pn++]=Uc,Uc=s,Bc=i}function Up(s,i,f){xr[yr++]=os,xr[yr++]=is,xr[yr++]=Qo,Qo=s;var m=os;s=is;var _=32-Ar(m)-1;m&=~(1<<_),f+=1;var S=32-Ar(i)+_;if(30<S){var I=_-_%5;S=(m&(1<<I)-1).toString(32),m>>=I,_-=I,os=1<<32-Ar(i)+_|f<<_|m,is=S+s}else os=1<<S|f<<_|m,is=s}function al(s){s.return!==null&&(Zo(s,1),Up(s,1,0))}function ei(s){for(;s===Uc;)Uc=ea[--Pn],ea[Pn]=null,Bc=ea[--Pn],ea[Pn]=null;for(;s===Qo;)Qo=xr[--yr],xr[yr]=null,is=xr[--yr],xr[yr]=null,os=xr[--yr],xr[yr]=null}var Rn=null,or=null,$t=!1,Dr=null;function as(s,i){var f=kr(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=s,i=s.deletions,i===null?(s.deletions=[f],s.flags|=16):i.push(f)}function Wc(s,i){switch(s.tag){case 5:var f=s.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Rn=s,or=so(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Rn=s,or=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Qo!==null?{id:os,overflow:is}:null,s.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=kr(18,null,null,0),f.stateNode=i,f.return=s,s.child=f,Rn=s,or=null,!0):!1;default:return!1}}function ks(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Yn(s){if($t){var i=or;if(i){var f=i;if(!Wc(s,i)){if(ks(s))throw Error(t(418));i=so(f.nextSibling);var m=Rn;i&&Wc(s,i)?as(m,f):(s.flags=s.flags&-4097|2,$t=!1,Rn=s)}}else{if(ks(s))throw Error(t(418));s.flags=s.flags&-4097|2,$t=!1,Rn=s}}}function Bp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Rn=s}function ll(s){if(s!==Rn)return!1;if(!$t)return Bp(s),$t=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!ol(s.type,s.memoizedProps)),i&&(i=or)){if(ks(s))throw sf(),Error(t(418));for(;i;)as(s,i),i=so(i.nextSibling)}if(Bp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(i===0){or=so(s.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}s=s.nextSibling}or=null}}else or=Rn?so(s.stateNode.nextSibling):null;return!0}function sf(){for(var s=or;s;)s=so(s.nextSibling)}function ls(){or=Rn=null,$t=!1}function cs(s){Dr===null?Dr=[s]:Dr.push(s)}var Wp=A.ReactCurrentBatchConfig;function cl(s,i,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,s));var _=m,S=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(I){var H=_.refs;I===null?delete H[S]:H[S]=I},i._stringRef=S,i)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function ti(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function Hp(s){var i=s._init;return i(s._payload)}function of(s){function i(se,Q){if(s){var oe=se.deletions;oe===null?(se.deletions=[Q],se.flags|=16):oe.push(Q)}}function f(se,Q){if(!s)return null;for(;Q!==null;)i(se,Q),Q=Q.sibling;return null}function m(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function _(se,Q){return se=Wr(se,Q),se.index=0,se.sibling=null,se}function S(se,Q,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<Q?(se.flags|=2,Q):oe):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function I(se){return s&&se.alternate===null&&(se.flags|=2),se}function H(se,Q,oe,Ne){return Q===null||Q.tag!==6?(Q=Gf(oe,se.mode,Ne),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function K(se,Q,oe,Ne){var ze=oe.type;return ze===F?we(se,Q,oe.props.children,Ne,oe.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ge&&Hp(ze)===Q.type)?(Ne=_(Q,oe.props),Ne.ref=cl(se,Q,oe),Ne.return=se,Ne):(Ne=ju(oe.type,oe.key,oe.props,null,se.mode,Ne),Ne.ref=cl(se,Q,oe),Ne.return=se,Ne)}function ce(se,Q,oe,Ne){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=qf(oe,se.mode,Ne),Q.return=se,Q):(Q=_(Q,oe.children||[]),Q.return=se,Q)}function we(se,Q,oe,Ne,ze){return Q===null||Q.tag!==7?(Q=fi(oe,se.mode,Ne,ze),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function Se(se,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=Gf(""+Q,se.mode,oe),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case M:return oe=ju(Q.type,Q.key,Q.props,null,se.mode,oe),oe.ref=cl(se,null,Q),oe.return=se,oe;case W:return Q=qf(Q,se.mode,oe),Q.return=se,Q;case ge:var Ne=Q._init;return Se(se,Ne(Q._payload),oe)}if(Ir(Q)||Y(Q))return Q=fi(Q,se.mode,oe,null),Q.return=se,Q;ti(se,Q)}return null}function ye(se,Q,oe,Ne){var ze=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return ze!==null?null:H(se,Q,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case M:return oe.key===ze?K(se,Q,oe,Ne):null;case W:return oe.key===ze?ce(se,Q,oe,Ne):null;case ge:return ze=oe._init,ye(se,Q,ze(oe._payload),Ne)}if(Ir(oe)||Y(oe))return ze!==null?null:we(se,Q,oe,Ne,null);ti(se,oe)}return null}function Re(se,Q,oe,Ne,ze){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return se=se.get(oe)||null,H(Q,se,""+Ne,ze);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case M:return se=se.get(Ne.key===null?oe:Ne.key)||null,K(Q,se,Ne,ze);case W:return se=se.get(Ne.key===null?oe:Ne.key)||null,ce(Q,se,Ne,ze);case ge:var Ke=Ne._init;return Re(se,Q,oe,Ke(Ne._payload),ze)}if(Ir(Ne)||Y(Ne))return se=se.get(oe)||null,we(Q,se,Ne,ze,null);ti(Q,Ne)}return null}function Oe(se,Q,oe,Ne){for(var ze=null,Ke=null,Ge=Q,Xe=Q=0,gn=null;Ge!==null&&Xe<oe.length;Xe++){Ge.index>Xe?(gn=Ge,Ge=null):gn=Ge.sibling;var Nt=ye(se,Ge,oe[Xe],Ne);if(Nt===null){Ge===null&&(Ge=gn);break}s&&Ge&&Nt.alternate===null&&i(se,Ge),Q=S(Nt,Q,Xe),Ke===null?ze=Nt:Ke.sibling=Nt,Ke=Nt,Ge=gn}if(Xe===oe.length)return f(se,Ge),$t&&Zo(se,Xe),ze;if(Ge===null){for(;Xe<oe.length;Xe++)Ge=Se(se,oe[Xe],Ne),Ge!==null&&(Q=S(Ge,Q,Xe),Ke===null?ze=Ge:Ke.sibling=Ge,Ke=Ge);return $t&&Zo(se,Xe),ze}for(Ge=m(se,Ge);Xe<oe.length;Xe++)gn=Re(Ge,se,Xe,oe[Xe],Ne),gn!==null&&(s&&gn.alternate!==null&&Ge.delete(gn.key===null?Xe:gn.key),Q=S(gn,Q,Xe),Ke===null?ze=gn:Ke.sibling=gn,Ke=gn);return s&&Ge.forEach(function(wo){return i(se,wo)}),$t&&Zo(se,Xe),ze}function Ie(se,Q,oe,Ne){var ze=Y(oe);if(typeof ze!="function")throw Error(t(150));if(oe=ze.call(oe),oe==null)throw Error(t(151));for(var Ke=ze=null,Ge=Q,Xe=Q=0,gn=null,Nt=oe.next();Ge!==null&&!Nt.done;Xe++,Nt=oe.next()){Ge.index>Xe?(gn=Ge,Ge=null):gn=Ge.sibling;var wo=ye(se,Ge,Nt.value,Ne);if(wo===null){Ge===null&&(Ge=gn);break}s&&Ge&&wo.alternate===null&&i(se,Ge),Q=S(wo,Q,Xe),Ke===null?ze=wo:Ke.sibling=wo,Ke=wo,Ge=gn}if(Nt.done)return f(se,Ge),$t&&Zo(se,Xe),ze;if(Ge===null){for(;!Nt.done;Xe++,Nt=oe.next())Nt=Se(se,Nt.value,Ne),Nt!==null&&(Q=S(Nt,Q,Xe),Ke===null?ze=Nt:Ke.sibling=Nt,Ke=Nt);return $t&&Zo(se,Xe),ze}for(Ge=m(se,Ge);!Nt.done;Xe++,Nt=oe.next())Nt=Re(Ge,se,Xe,Nt.value,Ne),Nt!==null&&(s&&Nt.alternate!==null&&Ge.delete(Nt.key===null?Xe:Nt.key),Q=S(Nt,Q,Xe),Ke===null?ze=Nt:Ke.sibling=Nt,Ke=Nt);return s&&Ge.forEach(function(ix){return i(se,ix)}),$t&&Zo(se,Xe),ze}function Xt(se,Q,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===F&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case M:e:{for(var ze=oe.key,Ke=Q;Ke!==null;){if(Ke.key===ze){if(ze=oe.type,ze===F){if(Ke.tag===7){f(se,Ke.sibling),Q=_(Ke,oe.props.children),Q.return=se,se=Q;break e}}else if(Ke.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ge&&Hp(ze)===Ke.type){f(se,Ke.sibling),Q=_(Ke,oe.props),Q.ref=cl(se,Ke,oe),Q.return=se,se=Q;break e}f(se,Ke);break}else i(se,Ke);Ke=Ke.sibling}oe.type===F?(Q=fi(oe.props.children,se.mode,Ne,oe.key),Q.return=se,se=Q):(Ne=ju(oe.type,oe.key,oe.props,null,se.mode,Ne),Ne.ref=cl(se,Q,oe),Ne.return=se,se=Ne)}return I(se);case W:e:{for(Ke=oe.key;Q!==null;){if(Q.key===Ke)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){f(se,Q.sibling),Q=_(Q,oe.children||[]),Q.return=se,se=Q;break e}else{f(se,Q);break}else i(se,Q);Q=Q.sibling}Q=qf(oe,se.mode,Ne),Q.return=se,se=Q}return I(se);case ge:return Ke=oe._init,Xt(se,Q,Ke(oe._payload),Ne)}if(Ir(oe))return Oe(se,Q,oe,Ne);if(Y(oe))return Ie(se,Q,oe,Ne);ti(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Q!==null&&Q.tag===6?(f(se,Q.sibling),Q=_(Q,oe),Q.return=se,se=Q):(f(se,Q),Q=Gf(oe,se.mode,Ne),Q.return=se,se=Q),I(se)):f(se,Q)}return Xt}var qt=of(!0),Hc=of(!1),ul=Gn(null),ir=null,lo=null,ta=null;function Cs(){ta=lo=ir=null}function Vc(s){var i=ul.current;Lt(ul),s._currentValue=i}function xn(s,i,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),s===f)break;s=s.return}}function co(s,i){ir=s,ta=lo=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(zn=!0),s.firstContext=null)}function wr(s){var i=s._currentValue;if(ta!==s)if(s={context:s,memoizedValue:i,next:null},lo===null){if(ir===null)throw Error(t(308));lo=s,ir.dependencies={lanes:0,firstContext:s}}else lo=lo.next=s;return i}var ni=null;function af(s){ni===null?ni=[s]:ni.push(s)}function Gc(s,i,f,m){var _=i.interleaved;return _===null?(f.next=f,af(i)):(f.next=_.next,_.next=f),i.interleaved=f,Es(s,m)}function Es(s,i){s.lanes|=i;var f=s.alternate;for(f!==null&&(f.lanes|=i),f=s,s=s.return;s!==null;)s.childLanes|=i,f=s.alternate,f!==null&&(f.childLanes|=i),f=s,s=s.return;return f.tag===3?f.stateNode:null}var _r=!1;function qc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vp(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ps(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function br(s,i,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(_t&2)!==0){var _=m.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),m.pending=i,Es(s,f)}return _=m.interleaved,_===null?(i.next=i,af(m)):(i.next=_.next,_.next=i),m.interleaved=i,Es(s,f)}function Kc(s,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var m=i.lanes;m&=s.pendingLanes,f|=m,i.lanes=f,Ga(s,f)}}function Gp(s,i){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var _=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var I={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?_=S=I:S=S.next=I,f=f.next}while(f!==null);S===null?_=S=i:S=S.next=i}else _=S=i;f={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=i:s.next=i,f.lastBaseUpdate=i}function na(s,i,f,m){var _=s.updateQueue;_r=!1;var S=_.firstBaseUpdate,I=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var K=H,ce=K.next;K.next=null,I===null?S=ce:I.next=ce,I=K;var we=s.alternate;we!==null&&(we=we.updateQueue,H=we.lastBaseUpdate,H!==I&&(H===null?we.firstBaseUpdate=ce:H.next=ce,we.lastBaseUpdate=K))}if(S!==null){var Se=_.baseState;I=0,we=ce=K=null,H=S;do{var ye=H.lane,Re=H.eventTime;if((m&ye)===ye){we!==null&&(we=we.next={eventTime:Re,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Oe=s,Ie=H;switch(ye=i,Re=f,Ie.tag){case 1:if(Oe=Ie.payload,typeof Oe=="function"){Se=Oe.call(Re,Se,ye);break e}Se=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ie.payload,ye=typeof Oe=="function"?Oe.call(Re,Se,ye):Oe,ye==null)break e;Se=re({},Se,ye);break e;case 2:_r=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ye=_.effects,ye===null?_.effects=[H]:ye.push(H))}else Re={eventTime:Re,lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},we===null?(ce=we=Re,K=Se):we=we.next=Re,I|=ye;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,_.lastBaseUpdate=ye,_.shared.pending=null}}while(!0);if(we===null&&(K=Se),_.baseState=K,_.firstBaseUpdate=ce,_.lastBaseUpdate=we,i=_.shared.interleaved,i!==null){_=i;do I|=_.lane,_=_.next;while(_!==i)}else S===null&&(_.shared.lanes=0);mo|=I,s.lanes=I,s.memoizedState=Se}}function lf(s,i,f){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var m=s[i],_=m.callback;if(_!==null){if(m.callback=null,m=f,typeof _!="function")throw Error(t(191,_));_.call(m)}}}var dl={},us=Gn(dl),fl=Gn(dl),ra=Gn(dl);function Rs(s){if(s===dl)throw Error(t(174));return s}function cf(s,i){switch(Mt(ra,i),Mt(fl,s),Mt(us,dl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Lo(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Lo(i,s)}Lt(us),Mt(us,i)}function uo(){Lt(us),Lt(fl),Lt(ra)}function uf(s){Rs(ra.current);var i=Rs(us.current),f=Lo(i,s.type);i!==f&&(Mt(fl,s),Mt(us,f))}function Yc(s){fl.current===s&&(Lt(us),Lt(fl))}var Ut=Gn(0);function ri(s){for(var i=s;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var df=[];function Jc(){for(var s=0;s<df.length;s++)df[s]._workInProgressVersionPrimary=null;df.length=0}var hl=A.ReactCurrentDispatcher,ff=A.ReactCurrentBatchConfig,fo=0,Ht=null,Jt=null,ln=null,sa=!1,pl=!1,si=0,lt=0;function Tn(){throw Error(t(321))}function hf(s,i){if(i===null)return!1;for(var f=0;f<i.length&&f<s.length;f++)if(!le(s[f],i[f]))return!1;return!0}function oi(s,i,f,m,_,S){if(fo=S,Ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,hl.current=s===null||s.memoizedState===null?Uv:ru,s=f(m,_),pl){S=0;do{if(pl=!1,si=0,25<=S)throw Error(t(301));S+=1,ln=Jt=null,i.updateQueue=null,hl.current=la,s=f(m,_)}while(pl)}if(hl.current=nu,i=Jt!==null&&Jt.next!==null,fo=0,ln=Jt=Ht=null,sa=!1,i)throw Error(t(300));return s}function Xc(){var s=si!==0;return si=0,s}function ds(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Ht.memoizedState=ln=s:ln=ln.next=s,ln}function Sr(){if(Jt===null){var s=Ht.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var i=ln===null?Ht.memoizedState:ln.next;if(i!==null)ln=i,Jt=s;else{if(s===null)throw Error(t(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Ht.memoizedState=ln=s:ln=ln.next=s}return ln}function On(s,i){return typeof i=="function"?i(s):i}function pf(s){var i=Sr(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=Jt,_=m.baseQueue,S=f.pending;if(S!==null){if(_!==null){var I=_.next;_.next=S.next,S.next=I}m.baseQueue=_=S,f.pending=null}if(_!==null){S=_.next,m=m.baseState;var H=I=null,K=null,ce=S;do{var we=ce.lane;if((fo&we)===we)K!==null&&(K=K.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:s(m,ce.action);else{var Se={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};K===null?(H=K=Se,I=m):K=K.next=Se,Ht.lanes|=we,mo|=we}ce=ce.next}while(ce!==null&&ce!==S);K===null?I=m:K.next=H,le(m,i.memoizedState)||(zn=!0),i.memoizedState=m,i.baseState=I,i.baseQueue=K,f.lastRenderedState=m}if(s=f.interleaved,s!==null){_=s;do S=_.lane,Ht.lanes|=S,mo|=S,_=_.next;while(_!==s)}else _===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function oa(s){var i=Sr(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=f.dispatch,_=f.pending,S=i.memoizedState;if(_!==null){f.pending=null;var I=_=_.next;do S=s(S,I.action),I=I.next;while(I!==_);le(S,i.memoizedState)||(zn=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),f.lastRenderedState=S}return[S,m]}function Qc(){}function mf(s,i){var f=Ht,m=Sr(),_=i(),S=!le(m.memoizedState,_);if(S&&(m.memoizedState=_,zn=!0),m=m.queue,fs(Ts.bind(null,f,m,s),[s]),m.getSnapshot!==i||S||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,ia(9,Jn.bind(null,f,m,_,i),void 0,null),mn===null)throw Error(t(349));(fo&30)!==0||gf(f,i,_)}return _}function gf(s,i,f){s.flags|=16384,s={getSnapshot:i,value:f},i=Ht.updateQueue,i===null?(i={lastEffect:null,stores:null},Ht.updateQueue=i,i.stores=[s]):(f=i.stores,f===null?i.stores=[s]:f.push(s))}function Jn(s,i,f,m){i.value=f,i.getSnapshot=m,Zc(i)&&vf(s)}function Ts(s,i,f){return f(function(){Zc(i)&&vf(s)})}function Zc(s){var i=s.getSnapshot;s=s.value;try{var f=i();return!le(s,f)}catch{return!0}}function vf(s){var i=Es(s,1);i!==null&&Br(i,s,1,-1)}function ml(s){var i=ds();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:On,lastRenderedState:s},i.queue=s,s=s.dispatch=Qp.bind(null,Ht,s),[i.memoizedState,s]}function ia(s,i,f,m){return s={tag:s,create:i,destroy:f,deps:m,next:null},i=Ht.updateQueue,i===null?(i={lastEffect:null,stores:null},Ht.updateQueue=i,i.lastEffect=s.next=s):(f=i.lastEffect,f===null?i.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,i.lastEffect=s)),s}function eu(){return Sr().memoizedState}function gl(s,i,f,m){var _=ds();Ht.flags|=s,_.memoizedState=ia(1|i,f,void 0,m===void 0?null:m)}function aa(s,i,f,m){var _=Sr();m=m===void 0?null:m;var S=void 0;if(Jt!==null){var I=Jt.memoizedState;if(S=I.destroy,m!==null&&hf(m,I.deps)){_.memoizedState=ia(i,f,S,m);return}}Ht.flags|=s,_.memoizedState=ia(1|i,f,S,m)}function tu(s,i){return gl(8390656,8,s,i)}function fs(s,i){return aa(2048,8,s,i)}function qp(s,i){return aa(4,2,s,i)}function Os(s,i){return aa(4,4,s,i)}function xf(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function yf(s,i,f){return f=f!=null?f.concat([s]):null,aa(4,4,xf.bind(null,i,s),f)}function vl(){}function Kp(s,i){var f=Sr();i=i===void 0?null:i;var m=f.memoizedState;return m!==null&&i!==null&&hf(i,m[1])?m[0]:(f.memoizedState=[s,i],s)}function Yp(s,i){var f=Sr();i=i===void 0?null:i;var m=f.memoizedState;return m!==null&&i!==null&&hf(i,m[1])?m[0]:(s=s(),f.memoizedState=[s,i],s)}function Jp(s,i,f){return(fo&21)===0?(s.baseState&&(s.baseState=!1,zn=!0),s.memoizedState=f):(le(f,i)||(f=Id(),Ht.lanes|=f,mo|=f,s.baseState=!0),i)}function Xp(s,i){var f=Ct;Ct=f!==0&&4>f?f:4,s(!0);var m=ff.transition;ff.transition={};try{s(!1),i()}finally{Ct=f,ff.transition=m}}function wf(){return Sr().memoizedState}function zv(s,i,f){var m=xo(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},_f(s))Fn(i,f);else if(f=Gc(s,i,f,m),f!==null){var _=Wn();Br(f,s,m,_),Lr(f,i,m)}}function Qp(s,i,f){var m=xo(s),_={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(_f(s))Fn(i,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var I=i.lastRenderedState,H=S(I,f);if(_.hasEagerState=!0,_.eagerState=H,le(H,I)){var K=i.interleaved;K===null?(_.next=_,af(i)):(_.next=K.next,K.next=_),i.interleaved=_;return}}catch{}finally{}f=Gc(s,i,_,m),f!==null&&(_=Wn(),Br(f,s,m,_),Lr(f,i,m))}}function _f(s){var i=s.alternate;return s===Ht||i!==null&&i===Ht}function Fn(s,i){pl=sa=!0;var f=s.pending;f===null?i.next=i:(i.next=f.next,f.next=i),s.pending=i}function Lr(s,i,f){if((f&4194240)!==0){var m=i.lanes;m&=s.pendingLanes,f|=m,i.lanes=f,Ga(s,f)}}var nu={readContext:wr,useCallback:Tn,useContext:Tn,useEffect:Tn,useImperativeHandle:Tn,useInsertionEffect:Tn,useLayoutEffect:Tn,useMemo:Tn,useReducer:Tn,useRef:Tn,useState:Tn,useDebugValue:Tn,useDeferredValue:Tn,useTransition:Tn,useMutableSource:Tn,useSyncExternalStore:Tn,useId:Tn,unstable_isNewReconciler:!1},Uv={readContext:wr,useCallback:function(s,i){return ds().memoizedState=[s,i===void 0?null:i],s},useContext:wr,useEffect:tu,useImperativeHandle:function(s,i,f){return f=f!=null?f.concat([s]):null,gl(4194308,4,xf.bind(null,i,s),f)},useLayoutEffect:function(s,i){return gl(4194308,4,s,i)},useInsertionEffect:function(s,i){return gl(4,2,s,i)},useMemo:function(s,i){var f=ds();return i=i===void 0?null:i,s=s(),f.memoizedState=[s,i],s},useReducer:function(s,i,f){var m=ds();return i=f!==void 0?f(i):i,m.memoizedState=m.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},m.queue=s,s=s.dispatch=zv.bind(null,Ht,s),[m.memoizedState,s]},useRef:function(s){var i=ds();return s={current:s},i.memoizedState=s},useState:ml,useDebugValue:vl,useDeferredValue:function(s){return ds().memoizedState=s},useTransition:function(){var s=ml(!1),i=s[0];return s=Xp.bind(null,s[1]),ds().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,f){var m=Ht,_=ds();if($t){if(f===void 0)throw Error(t(407));f=f()}else{if(f=i(),mn===null)throw Error(t(349));(fo&30)!==0||gf(m,i,f)}_.memoizedState=f;var S={value:f,getSnapshot:i};return _.queue=S,tu(Ts.bind(null,m,S,s),[s]),m.flags|=2048,ia(9,Jn.bind(null,m,S,f,i),void 0,null),f},useId:function(){var s=ds(),i=mn.identifierPrefix;if($t){var f=is,m=os;f=(m&~(1<<32-Ar(m)-1)).toString(32)+f,i=":"+i+"R"+f,f=si++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=lt++,i=":"+i+"r"+f.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},ru={readContext:wr,useCallback:Kp,useContext:wr,useEffect:fs,useImperativeHandle:yf,useInsertionEffect:qp,useLayoutEffect:Os,useMemo:Yp,useReducer:pf,useRef:eu,useState:function(){return pf(On)},useDebugValue:vl,useDeferredValue:function(s){var i=Sr();return Jp(i,Jt.memoizedState,s)},useTransition:function(){var s=pf(On)[0],i=Sr().memoizedState;return[s,i]},useMutableSource:Qc,useSyncExternalStore:mf,useId:wf,unstable_isNewReconciler:!1},la={readContext:wr,useCallback:Kp,useContext:wr,useEffect:fs,useImperativeHandle:yf,useInsertionEffect:qp,useLayoutEffect:Os,useMemo:Yp,useReducer:oa,useRef:eu,useState:function(){return oa(On)},useDebugValue:vl,useDeferredValue:function(s){var i=Sr();return Jt===null?i.memoizedState=s:Jp(i,Jt.memoizedState,s)},useTransition:function(){var s=oa(On)[0],i=Sr().memoizedState;return[s,i]},useMutableSource:Qc,useSyncExternalStore:mf,useId:wf,unstable_isNewReconciler:!1};function jr(s,i){if(s&&s.defaultProps){i=re({},i),s=s.defaultProps;for(var f in s)i[f]===void 0&&(i[f]=s[f]);return i}return i}function su(s,i,f,m){i=s.memoizedState,f=f(m,i),f=f==null?i:re({},i,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var ou={isMounted:function(s){return(s=s._reactInternals)?Bo(s)===s:!1},enqueueSetState:function(s,i,f){s=s._reactInternals;var m=Wn(),_=xo(s),S=Ps(m,_);S.payload=i,f!=null&&(S.callback=f),i=br(s,S,_),i!==null&&(Br(i,s,_,m),Kc(i,s,_))},enqueueReplaceState:function(s,i,f){s=s._reactInternals;var m=Wn(),_=xo(s),S=Ps(m,_);S.tag=1,S.payload=i,f!=null&&(S.callback=f),i=br(s,S,_),i!==null&&(Br(i,s,_,m),Kc(i,s,_))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var f=Wn(),m=xo(s),_=Ps(f,m);_.tag=2,i!=null&&(_.callback=i),i=br(s,_,m),i!==null&&(Br(i,s,m,f),Kc(i,s,m))}};function bf(s,i,f,m,_,S,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,I):i.prototype&&i.prototype.isPureReactComponent?!Pe(f,m)||!Pe(_,S):!0}function ii(s,i,f){var m=!1,_=io,S=i.contextType;return typeof S=="object"&&S!==null?S=wr(S):(_=Kn(i)?$n:En.current,m=i.contextTypes,S=(m=m!=null)?Zi(s,_):io),i=new i(f,S),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=ou,s.stateNode=i,i._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=S),i}function ca(s,i,f,m){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,m),i.state!==s&&ou.enqueueReplaceState(i,i.state,null)}function Sf(s,i,f,m){var _=s.stateNode;_.props=f,_.state=s.memoizedState,_.refs={},qc(s);var S=i.contextType;typeof S=="object"&&S!==null?_.context=wr(S):(S=Kn(i)?$n:En.current,_.context=Zi(s,S)),_.state=s.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(su(s,i,S,f),_.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&ou.enqueueReplaceState(_,_.state,null),na(s,f,_,m),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function ai(s,i){try{var f="",m=i;do f+=ue(m),m=m.return;while(m);var _=f}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:i,stack:_,digest:null}}function iu(s,i,f){return{value:s,source:null,stack:f??null,digest:i??null}}function ua(s,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var Zp=typeof WeakMap=="function"?WeakMap:Map;function xl(s,i,f){f=Ps(-1,f),f.tag=3,f.payload={element:null};var m=i.value;return f.callback=function(){vu||(vu=!0,Ff=m),ua(s,i)},f}function au(s,i,f){f=Ps(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var _=i.value;f.payload=function(){return m(_)},f.callback=function(){ua(s,i)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){ua(s,i),typeof m!="function"&&(go===null?go=new Set([this]):go.add(this));var I=i.stack;this.componentDidCatch(i.value,{componentStack:I!==null?I:""})}),f}function yl(s,i,f){var m=s.pingCache;if(m===null){m=s.pingCache=new Zp;var _=new Set;m.set(i,_)}else _=m.get(i),_===void 0&&(_=new Set,m.set(i,_));_.has(f)||(_.add(f),s=Yv.bind(null,s,i,f),i.then(s,s))}function em(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function jf(s,i,f,m,_){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=Ps(-1,1),i.tag=2,br(f,i,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var lu=A.ReactCurrentOwner,zn=!1;function yn(s,i,f,m){i.child=s===null?Hc(i,null,f,m):qt(i,s.child,f,m)}function tm(s,i,f,m,_){f=f.render;var S=i.ref;return co(i,_),m=oi(s,i,f,m,S,_),f=Xc(),s!==null&&!zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,$r(s,i,_)):($t&&f&&al(i),i.flags|=1,yn(s,i,m,_),i.child)}function Nf(s,i,f,m,_){if(s===null){var S=f.type;return typeof S=="function"&&!Su(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=S,hs(s,i,S,m,_)):(s=ju(f.type,null,m,i,i.mode,_),s.ref=i.ref,s.return=i,i.child=s)}if(S=s.child,(s.lanes&_)===0){var I=S.memoizedProps;if(f=f.compare,f=f!==null?f:Pe,f(I,m)&&s.ref===i.ref)return $r(s,i,_)}return i.flags|=1,s=Wr(S,m),s.ref=i.ref,s.return=i,i.child=s}function hs(s,i,f,m,_){if(s!==null){var S=s.memoizedProps;if(Pe(S,m)&&s.ref===i.ref)if(zn=!1,i.pendingProps=m=S,(s.lanes&_)!==0)(s.flags&131072)!==0&&(zn=!0);else return i.lanes=s.lanes,$r(s,i,_)}return Ef(s,i,f,m,_)}function kf(s,i,f){var m=i.pendingProps,_=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Mt(pa,lr),lr|=f;else{if((f&1073741824)===0)return s=S!==null?S.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Mt(pa,lr),lr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:f,Mt(pa,lr),lr|=m}else S!==null?(m=S.baseLanes|f,i.memoizedState=null):m=f,Mt(pa,lr),lr|=m;return yn(s,i,_,f),i.child}function Cf(s,i){var f=i.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Ef(s,i,f,m,_){var S=Kn(f)?$n:En.current;return S=Zi(i,S),co(i,_),f=oi(s,i,f,m,S,_),m=Xc(),s!==null&&!zn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,$r(s,i,_)):($t&&m&&al(i),i.flags|=1,yn(s,i,f,_),i.child)}function Pf(s,i,f,m,_){if(Kn(f)){var S=!0;vr(i)}else S=!1;if(co(i,_),i.stateNode===null)uu(s,i),ii(i,f,m),Sf(i,f,m,_),m=!0;else if(s===null){var I=i.stateNode,H=i.memoizedProps;I.props=H;var K=I.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=wr(ce):(ce=Kn(f)?$n:En.current,ce=Zi(i,ce));var we=f.getDerivedStateFromProps,Se=typeof we=="function"||typeof I.getSnapshotBeforeUpdate=="function";Se||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==m||K!==ce)&&ca(i,I,m,ce),_r=!1;var ye=i.memoizedState;I.state=ye,na(i,m,I,_),K=i.memoizedState,H!==m||ye!==K||qn.current||_r?(typeof we=="function"&&(su(i,f,we,m),K=i.memoizedState),(H=_r||bf(i,f,H,m,ye,K,ce))?(Se||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(i.flags|=4194308)):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=K),I.props=m,I.state=K,I.context=ce,m=H):(typeof I.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{I=i.stateNode,Vp(s,i),H=i.memoizedProps,ce=i.type===i.elementType?H:jr(i.type,H),I.props=ce,Se=i.pendingProps,ye=I.context,K=f.contextType,typeof K=="object"&&K!==null?K=wr(K):(K=Kn(f)?$n:En.current,K=Zi(i,K));var Re=f.getDerivedStateFromProps;(we=typeof Re=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(H!==Se||ye!==K)&&ca(i,I,m,K),_r=!1,ye=i.memoizedState,I.state=ye,na(i,m,I,_);var Oe=i.memoizedState;H!==Se||ye!==Oe||qn.current||_r?(typeof Re=="function"&&(su(i,f,Re,m),Oe=i.memoizedState),(ce=_r||bf(i,f,ce,m,ye,Oe,K)||!1)?(we||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(m,Oe,K),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(m,Oe,K)),typeof I.componentDidUpdate=="function"&&(i.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof I.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Oe),I.props=m,I.state=Oe,I.context=K,m=ce):(typeof I.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),m=!1)}return Rf(s,i,f,m,S,_)}function Rf(s,i,f,m,_,S){Cf(s,i);var I=(i.flags&128)!==0;if(!m&&!I)return _&&Fp(i,f,!1),$r(s,i,S);m=i.stateNode,lu.current=i;var H=I&&typeof f.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,s!==null&&I?(i.child=qt(i,s.child,null,S),i.child=qt(i,null,H,S)):yn(s,i,H,S),i.memoizedState=m.state,_&&Fp(i,f,!0),i.child}function nm(s){var i=s.stateNode;i.pendingContext?Lp(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Lp(s,i.context,!1),cf(s,i.containerInfo)}function ps(s,i,f,m,_){return ls(),cs(_),i.flags|=256,yn(s,i,f,m),i.child}var wl={dehydrated:null,treeContext:null,retryLane:0};function _l(s){return{baseLanes:s,cachePool:null,transitions:null}}function cu(s,i,f){var m=i.pendingProps,_=Ut.current,S=!1,I=(i.flags&128)!==0,H;if((H=I)||(H=s!==null&&s.memoizedState===null?!1:(_&2)!==0),H?(S=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),Mt(Ut,_&1),s===null)return Yn(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(I=m.children,s=m.fallback,S?(m=i.mode,S=i.child,I={mode:"hidden",children:I},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=I):S=Nu(I,m,0,null),s=fi(s,m,f,null),S.return=i,s.return=i,S.sibling=s,i.child=S,i.child.memoizedState=_l(f),i.memoizedState=wl,s):da(i,I));if(_=s.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return Ye(s,i,I,m,H,_,f);if(S){S=m.fallback,I=i.mode,_=s.child,H=_.sibling;var K={mode:"hidden",children:m.children};return(I&1)===0&&i.child!==_?(m=i.child,m.childLanes=0,m.pendingProps=K,i.deletions=null):(m=Wr(_,K),m.subtreeFlags=_.subtreeFlags&14680064),H!==null?S=Wr(H,S):(S=fi(S,I,f,null),S.flags|=2),S.return=i,m.return=i,m.sibling=S,i.child=m,m=S,S=i.child,I=s.child.memoizedState,I=I===null?_l(f):{baseLanes:I.baseLanes|f,cachePool:null,transitions:I.transitions},S.memoizedState=I,S.childLanes=s.childLanes&~f,i.memoizedState=wl,m}return S=s.child,s=S.sibling,m=Wr(S,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=f),m.return=i,m.sibling=null,s!==null&&(f=i.deletions,f===null?(i.deletions=[s],i.flags|=16):f.push(s)),i.child=m,i.memoizedState=null,m}function da(s,i){return i=Nu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Is(s,i,f,m){return m!==null&&cs(m),qt(i,s.child,null,f),s=da(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ye(s,i,f,m,_,S,I){if(f)return i.flags&256?(i.flags&=-257,m=iu(Error(t(422))),Is(s,i,I,m)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(S=m.fallback,_=i.mode,m=Nu({mode:"visible",children:m.children},_,0,null),S=fi(S,_,I,null),S.flags|=2,m.return=i,S.return=i,m.sibling=S,i.child=m,(i.mode&1)!==0&&qt(i,s.child,null,I),i.child.memoizedState=_l(I),i.memoizedState=wl,S);if((i.mode&1)===0)return Is(s,i,I,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var H=m.dgst;return m=H,S=Error(t(419)),m=iu(S,m,void 0),Is(s,i,I,m)}if(H=(I&s.childLanes)!==0,zn||H){if(m=mn,m!==null){switch(I&-I){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(m.suspendedLanes|I))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,Es(s,_),Br(m,s,_,-1))}return Vf(),m=iu(Error(t(421))),Is(s,i,I,m)}return _.data==="$?"?(i.flags|=128,i.child=s.child,i=Jv.bind(null,s),_._reactRetry=i,null):(s=S.treeContext,or=so(_.nextSibling),Rn=i,$t=!0,Dr=null,s!==null&&(xr[yr++]=os,xr[yr++]=is,xr[yr++]=Qo,os=s.id,is=s.overflow,Qo=i),i=da(i,m.children),i.flags|=4096,i)}function bl(s,i,f){s.lanes|=i;var m=s.alternate;m!==null&&(m.lanes|=i),xn(s.return,i,f)}function Sl(s,i,f,m,_){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:_}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=_)}function ho(s,i,f){var m=i.pendingProps,_=m.revealOrder,S=m.tail;if(yn(s,i,m.children,f),m=Ut.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&bl(s,f,i);else if(s.tag===19)bl(s,f,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(Mt(Ut,m),(i.mode&1)===0)i.memoizedState=null;else switch(_){case"forwards":for(f=i.child,_=null;f!==null;)s=f.alternate,s!==null&&ri(s)===null&&(_=f),f=f.sibling;f=_,f===null?(_=i.child,i.child=null):(_=f.sibling,f.sibling=null),Sl(i,!1,_,f,S);break;case"backwards":for(f=null,_=i.child,i.child=null;_!==null;){if(s=_.alternate,s!==null&&ri(s)===null){i.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}Sl(i,!0,f,null,S);break;case"together":Sl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function uu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function $r(s,i,f){if(s!==null&&(i.dependencies=s.dependencies),mo|=i.lanes,(f&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,f=Wr(s,s.pendingProps),i.child=f,f.return=i;s.sibling!==null;)s=s.sibling,f=f.sibling=Wr(s,s.pendingProps),f.return=i;f.sibling=null}return i.child}function rm(s,i,f){switch(i.tag){case 3:nm(i),ls();break;case 5:uf(i);break;case 1:Kn(i.type)&&vr(i);break;case 4:cf(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,_=i.memoizedProps.value;Mt(ul,m._currentValue),m._currentValue=_;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(Mt(Ut,Ut.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?cu(s,i,f):(Mt(Ut,Ut.current&1),s=$r(s,i,f),s!==null?s.sibling:null);Mt(Ut,Ut.current&1);break;case 19:if(m=(f&i.childLanes)!==0,(s.flags&128)!==0){if(m)return ho(s,i,f);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Mt(Ut,Ut.current),m)break;return null;case 22:case 23:return i.lanes=0,kf(s,i,f)}return $r(s,i,f)}var wn,Tf,sm,Of;wn=function(s,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Tf=function(){},sm=function(s,i,f,m){var _=s.memoizedProps;if(_!==m){s=i.stateNode,Rs(us.current);var S=null;switch(f){case"input":_=gt(s,_),m=gt(s,m),S=[];break;case"select":_=re({},_,{value:void 0}),m=re({},m,{value:void 0}),S=[];break;case"textarea":_=Zr(s,_),m=Zr(s,m),S=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Mc)}La(f,m);var I;f=null;for(ce in _)if(!m.hasOwnProperty(ce)&&_.hasOwnProperty(ce)&&_[ce]!=null)if(ce==="style"){var H=_[ce];for(I in H)H.hasOwnProperty(I)&&(f||(f={}),f[I]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in m){var K=m[ce];if(H=_!=null?_[ce]:void 0,m.hasOwnProperty(ce)&&K!==H&&(K!=null||H!=null))if(ce==="style")if(H){for(I in H)!H.hasOwnProperty(I)||K&&K.hasOwnProperty(I)||(f||(f={}),f[I]="");for(I in K)K.hasOwnProperty(I)&&H[I]!==K[I]&&(f||(f={}),f[I]=K[I])}else f||(S||(S=[]),S.push(ce,f)),f=K;else ce==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,H=H?H.__html:void 0,K!=null&&H!==K&&(S=S||[]).push(ce,K)):ce==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(ce,""+K):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(K!=null&&ce==="onScroll"&&Dt("scroll",s),S||H===K||(S=[])):(S=S||[]).push(ce,K))}f&&(S=S||[]).push("style",f);var ce=S;(i.updateQueue=ce)&&(i.flags|=4)}},Of=function(s,i,f,m){f!==m&&(i.flags|=4)};function jl(s,i){if(!$t)switch(s.tailMode){case"hidden":i=s.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function _n(s){var i=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(i)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=f,i}function Bv(s,i,f){var m=i.pendingProps;switch(ei(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _n(i),null;case 1:return Kn(i.type)&&Fc(),_n(i),null;case 3:return m=i.stateNode,uo(),Lt(qn),Lt(En),Jc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(ll(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Dr!==null&&(Bf(Dr),Dr=null))),Tf(s,i),_n(i),null;case 5:Yc(i);var _=Rs(ra.current);if(f=i.type,s!==null&&i.stateNode!=null)sm(s,i,f,m,_),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(t(166));return _n(i),null}if(s=Rs(us.current),ll(i)){m=i.stateNode,f=i.type;var S=i.memoizedProps;switch(m[rs]=i,m[oo]=S,s=(i.mode&1)!==0,f){case"dialog":Dt("cancel",m),Dt("close",m);break;case"iframe":case"object":case"embed":Dt("load",m);break;case"video":case"audio":for(_=0;_<js.length;_++)Dt(js[_],m);break;case"source":Dt("error",m);break;case"img":case"image":case"link":Dt("error",m),Dt("load",m);break;case"details":Dt("toggle",m);break;case"input":hn(m,S),Dt("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},Dt("invalid",m);break;case"textarea":Do(m,S),Dt("invalid",m)}La(f,S),_=null;for(var I in S)if(S.hasOwnProperty(I)){var H=S[I];I==="children"?typeof H=="string"?m.textContent!==H&&(S.suppressHydrationWarning!==!0&&rl(m.textContent,H,s),_=["children",H]):typeof H=="number"&&m.textContent!==""+H&&(S.suppressHydrationWarning!==!0&&rl(m.textContent,H,s),_=["children",""+H]):o.hasOwnProperty(I)&&H!=null&&I==="onScroll"&&Dt("scroll",m)}switch(f){case"input":Be(m),en(m,S,!0);break;case"textarea":Be(m),Ii(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Mc)}m=_,i.updateQueue=m,m!==null&&(i.flags|=4)}else{I=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=qh(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=I.createElement(f,{is:m.is}):(s=I.createElement(f),f==="select"&&(I=s,m.multiple?I.multiple=!0:m.size&&(I.size=m.size))):s=I.createElementNS(s,f),s[rs]=i,s[oo]=m,wn(s,i,!1,!1),i.stateNode=s;e:{switch(I=$a(f,m),f){case"dialog":Dt("cancel",s),Dt("close",s),_=m;break;case"iframe":case"object":case"embed":Dt("load",s),_=m;break;case"video":case"audio":for(_=0;_<js.length;_++)Dt(js[_],s);_=m;break;case"source":Dt("error",s),_=m;break;case"img":case"image":case"link":Dt("error",s),Dt("load",s),_=m;break;case"details":Dt("toggle",s),_=m;break;case"input":hn(s,m),_=gt(s,m),Dt("invalid",s);break;case"option":_=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},_=re({},m,{value:void 0}),Dt("invalid",s);break;case"textarea":Do(s,m),_=Zr(s,m),Dt("invalid",s);break;default:_=m}La(f,_),H=_;for(S in H)if(H.hasOwnProperty(S)){var K=H[S];S==="style"?ac(s,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&oc(s,K)):S==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&$o(s,K):typeof K=="number"&&$o(s,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?K!=null&&S==="onScroll"&&Dt("scroll",s):K!=null&&T(s,S,K,I))}switch(f){case"input":Be(s),en(s,m,!1);break;case"textarea":Be(s),Ii(s);break;case"option":m.value!=null&&s.setAttribute("value",""+fe(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?Gt(s,!!m.multiple,S,!1):m.defaultValue!=null&&Gt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=Mc)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return _n(i),null;case 6:if(s&&i.stateNode!=null)Of(s,i,s.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(t(166));if(f=Rs(ra.current),Rs(us.current),ll(i)){if(m=i.stateNode,f=i.memoizedProps,m[rs]=i,(S=m.nodeValue!==f)&&(s=Rn,s!==null))switch(s.tag){case 3:rl(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&rl(m.nodeValue,f,(s.mode&1)!==0)}S&&(i.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[rs]=i,i.stateNode=m}return _n(i),null;case 13:if(Lt(Ut),m=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&or!==null&&(i.mode&1)!==0&&(i.flags&128)===0)sf(),ls(),i.flags|=98560,S=!1;else if(S=ll(i),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[rs]=i}else ls(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;_n(i),S=!1}else Dr!==null&&(Bf(Dr),Dr=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Ut.current&1)!==0?cn===0&&(cn=3):Vf())),i.updateQueue!==null&&(i.flags|=4),_n(i),null);case 4:return uo(),Tf(s,i),s===null&&no(i.stateNode.containerInfo),_n(i),null;case 10:return Vc(i.type._context),_n(i),null;case 17:return Kn(i.type)&&Fc(),_n(i),null;case 19:if(Lt(Ut),S=i.memoizedState,S===null)return _n(i),null;if(m=(i.flags&128)!==0,I=S.rendering,I===null)if(m)jl(S,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(I=ri(s),I!==null){for(i.flags|=128,jl(S,!1),m=I.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=f,f=i.child;f!==null;)S=f,s=m,S.flags&=14680066,I=S.alternate,I===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=I.childLanes,S.lanes=I.lanes,S.child=I.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=I.memoizedProps,S.memoizedState=I.memoizedState,S.updateQueue=I.updateQueue,S.type=I.type,s=I.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Mt(Ut,Ut.current&1|2),i.child}s=s.sibling}S.tail!==null&&Ft()>li&&(i.flags|=128,m=!0,jl(S,!1),i.lanes=4194304)}else{if(!m)if(s=ri(I),s!==null){if(i.flags|=128,m=!0,f=s.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),jl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!I.alternate&&!$t)return _n(i),null}else 2*Ft()-S.renderingStartTime>li&&f!==1073741824&&(i.flags|=128,m=!0,jl(S,!1),i.lanes=4194304);S.isBackwards?(I.sibling=i.child,i.child=I):(f=S.last,f!==null?f.sibling=I:i.child=I,S.last=I)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=Ft(),i.sibling=null,f=Ut.current,Mt(Ut,m?f&1|2:f&1),i):(_n(i),null);case 22:case 23:return Hf(),m=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(lr&1073741824)!==0&&(_n(i),i.subtreeFlags&6&&(i.flags|=8192)):_n(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function Wv(s,i){switch(ei(i),i.tag){case 1:return Kn(i.type)&&Fc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return uo(),Lt(qn),Lt(En),Jc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Yc(i),null;case 13:if(Lt(Ut),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ls()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Lt(Ut),null;case 4:return uo(),null;case 10:return Vc(i.type._context),null;case 22:case 23:return Hf(),null;case 24:return null;default:return null}}var du=!1,Bt=!1,Un=typeof WeakSet=="function"?WeakSet:Set,Te=null;function fa(s,i){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Vt(s,i,m)}else f.current=null}function Nl(s,i,f){try{f()}catch(m){Vt(s,i,m)}}var om=!1;function Hv(s,i){if(sl=vc,s=Rt(),Xa(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var I=0,H=-1,K=-1,ce=0,we=0,Se=s,ye=null;t:for(;;){for(var Re;Se!==f||_!==0&&Se.nodeType!==3||(H=I+_),Se!==S||m!==0&&Se.nodeType!==3||(K=I+m),Se.nodeType===3&&(I+=Se.nodeValue.length),(Re=Se.firstChild)!==null;)ye=Se,Se=Re;for(;;){if(Se===s)break t;if(ye===f&&++ce===_&&(H=I),ye===S&&++we===m&&(K=I),(Re=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=Re}f=H===-1||K===-1?null:{start:H,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(Jo={focusedElem:s,selectionRange:f},vc=!1,Te=i;Te!==null;)if(i=Te,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Te=s;else for(;Te!==null;){i=Te;try{var Oe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ie=Oe.memoizedProps,Xt=Oe.memoizedState,se=i.stateNode,Q=se.getSnapshotBeforeUpdate(i.elementType===i.type?Ie:jr(i.type,Ie),Xt);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var oe=i.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ne){Vt(i,i.return,Ne)}if(s=i.sibling,s!==null){s.return=i.return,Te=s;break}Te=i.return}return Oe=om,om=!1,Oe}function As(s,i,f){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&s)===s){var S=_.destroy;_.destroy=void 0,S!==void 0&&Nl(i,f,S)}_=_.next}while(_!==m)}}function kl(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==i)}}function fu(s){var i=s.ref;if(i!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof i=="function"?i(s):i.current=s}}function im(s){var i=s.alternate;i!==null&&(s.alternate=null,im(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[rs],delete i[oo],delete i[Lc],delete i[D],delete i[Xi])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function am(s){return s.tag===5||s.tag===3||s.tag===4}function lm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||am(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function If(s,i,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(s,i):f.insertBefore(s,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(s,f)):(i=f,i.appendChild(s)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=Mc));else if(m!==4&&(s=s.child,s!==null))for(If(s,i,f),s=s.sibling;s!==null;)If(s,i,f),s=s.sibling}function hu(s,i,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?f.insertBefore(s,i):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(hu(s,i,f),s=s.sibling;s!==null;)hu(s,i,f),s=s.sibling}var pn=null,Fr=!1;function ms(s,i,f){for(f=f.child;f!==null;)Af(s,i,f),f=f.sibling}function Af(s,i,f){if(es&&typeof es.onCommitFiberUnmount=="function")try{es.onCommitFiberUnmount(dc,f)}catch{}switch(f.tag){case 5:Bt||fa(f,i);case 6:var m=pn,_=Fr;pn=null,ms(s,i,f),pn=m,Fr=_,pn!==null&&(Fr?(s=pn,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):pn.removeChild(f.stateNode));break;case 18:pn!==null&&(Fr?(s=pn,f=f.stateNode,s.nodeType===8?tf(s.parentNode,f):s.nodeType===1&&tf(s,f),Et(s)):tf(pn,f.stateNode));break;case 4:m=pn,_=Fr,pn=f.stateNode.containerInfo,Fr=!0,ms(s,i,f),pn=m,Fr=_;break;case 0:case 11:case 14:case 15:if(!Bt&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var S=_,I=S.destroy;S=S.tag,I!==void 0&&((S&2)!==0||(S&4)!==0)&&Nl(f,i,I),_=_.next}while(_!==m)}ms(s,i,f);break;case 1:if(!Bt&&(fa(f,i),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(H){Vt(f,i,H)}ms(s,i,f);break;case 21:ms(s,i,f);break;case 22:f.mode&1?(Bt=(m=Bt)||f.memoizedState!==null,ms(s,i,f),Bt=m):ms(s,i,f);break;default:ms(s,i,f)}}function ha(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new Un),i.forEach(function(m){var _=Xv.bind(null,s,m);f.has(m)||(f.add(m),m.then(_,_))})}}function ar(s,i){var f=i.deletions;if(f!==null)for(var m=0;m<f.length;m++){var _=f[m];try{var S=s,I=i,H=I;e:for(;H!==null;){switch(H.tag){case 5:pn=H.stateNode,Fr=!1;break e;case 3:pn=H.stateNode.containerInfo,Fr=!0;break e;case 4:pn=H.stateNode.containerInfo,Fr=!0;break e}H=H.return}if(pn===null)throw Error(t(160));Af(S,I,_),pn=null,Fr=!1;var K=_.alternate;K!==null&&(K.return=null),_.return=null}catch(ce){Vt(_,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Mf(i,s),i=i.sibling}function Mf(s,i){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ar(i,s),zr(s),m&4){try{As(3,s,s.return),kl(3,s)}catch(Ie){Vt(s,s.return,Ie)}try{As(5,s,s.return)}catch(Ie){Vt(s,s.return,Ie)}}break;case 1:ar(i,s),zr(s),m&512&&f!==null&&fa(f,f.return);break;case 5:if(ar(i,s),zr(s),m&512&&f!==null&&fa(f,f.return),s.flags&32){var _=s.stateNode;try{$o(_,"")}catch(Ie){Vt(s,s.return,Ie)}}if(m&4&&(_=s.stateNode,_!=null)){var S=s.memoizedProps,I=f!==null?f.memoizedProps:S,H=s.type,K=s.updateQueue;if(s.updateQueue=null,K!==null)try{H==="input"&&S.type==="radio"&&S.name!=null&&tr(_,S),$a(H,I);var ce=$a(H,S);for(I=0;I<K.length;I+=2){var we=K[I],Se=K[I+1];we==="style"?ac(_,Se):we==="dangerouslySetInnerHTML"?oc(_,Se):we==="children"?$o(_,Se):T(_,we,Se,ce)}switch(H){case"input":Yt(_,S);break;case"textarea":Gh(_,S);break;case"select":var ye=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var Re=S.value;Re!=null?Gt(_,!!S.multiple,Re,!1):ye!==!!S.multiple&&(S.defaultValue!=null?Gt(_,!!S.multiple,S.defaultValue,!0):Gt(_,!!S.multiple,S.multiple?[]:"",!1))}_[oo]=S}catch(Ie){Vt(s,s.return,Ie)}}break;case 6:if(ar(i,s),zr(s),m&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,S=s.memoizedProps;try{_.nodeValue=S}catch(Ie){Vt(s,s.return,Ie)}}break;case 3:if(ar(i,s),zr(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{Et(i.containerInfo)}catch(Ie){Vt(s,s.return,Ie)}break;case 4:ar(i,s),zr(s);break;case 13:ar(i,s),zr(s),_=s.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||($f=Ft())),m&4&&ha(s);break;case 22:if(we=f!==null&&f.memoizedState!==null,s.mode&1?(Bt=(ce=Bt)||we,ar(i,s),Bt=ce):ar(i,s),zr(s),m&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!we&&(s.mode&1)!==0)for(Te=s,we=s.child;we!==null;){for(Se=Te=we;Te!==null;){switch(ye=Te,Re=ye.child,ye.tag){case 0:case 11:case 14:case 15:As(4,ye,ye.return);break;case 1:fa(ye,ye.return);var Oe=ye.stateNode;if(typeof Oe.componentWillUnmount=="function"){m=ye,f=ye.return;try{i=m,Oe.props=i.memoizedProps,Oe.state=i.memoizedState,Oe.componentWillUnmount()}catch(Ie){Vt(m,f,Ie)}}break;case 5:fa(ye,ye.return);break;case 22:if(ye.memoizedState!==null){po(Se);continue}}Re!==null?(Re.return=ye,Te=Re):po(Se)}we=we.sibling}e:for(we=null,Se=s;;){if(Se.tag===5){if(we===null){we=Se;try{_=Se.stateNode,ce?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(H=Se.stateNode,K=Se.memoizedProps.style,I=K!=null&&K.hasOwnProperty("display")?K.display:null,H.style.display=ic("display",I))}catch(Ie){Vt(s,s.return,Ie)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(Ie){Vt(s,s.return,Ie)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===s)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===s)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===s)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ar(i,s),zr(s),m&4&&ha(s);break;case 21:break;default:ar(i,s),zr(s)}}function zr(s){var i=s.flags;if(i&2){try{e:{for(var f=s.return;f!==null;){if(am(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&($o(_,""),m.flags&=-33);var S=lm(s);hu(s,S,_);break;case 3:case 4:var I=m.stateNode.containerInfo,H=lm(s);If(s,H,I);break;default:throw Error(t(161))}}catch(K){Vt(s,s.return,K)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function pu(s,i,f){Te=s,Df(s)}function Df(s,i,f){for(var m=(s.mode&1)!==0;Te!==null;){var _=Te,S=_.child;if(_.tag===22&&m){var I=_.memoizedState!==null||du;if(!I){var H=_.alternate,K=H!==null&&H.memoizedState!==null||Bt;H=du;var ce=Bt;if(du=I,(Bt=K)&&!ce)for(Te=_;Te!==null;)I=Te,K=I.child,I.tag===22&&I.memoizedState!==null?cm(_):K!==null?(K.return=I,Te=K):cm(_);for(;S!==null;)Te=S,Df(S),S=S.sibling;Te=_,du=H,Bt=ce}Ur(s)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,Te=S):Ur(s)}}function Ur(s){for(;Te!==null;){var i=Te;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Bt||kl(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Bt)if(f===null)m.componentDidMount();else{var _=i.elementType===i.type?f.memoizedProps:jr(i.type,f.memoizedProps);m.componentDidUpdate(_,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&lf(i,S,m);break;case 3:var I=i.updateQueue;if(I!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}lf(i,I,f)}break;case 5:var H=i.stateNode;if(f===null&&i.flags&4){f=H;var K=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&Et(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Bt||i.flags&512&&fu(i)}catch(ye){Vt(i,i.return,ye)}}if(i===s){Te=null;break}if(f=i.sibling,f!==null){f.return=i.return,Te=f;break}Te=i.return}}function po(s){for(;Te!==null;){var i=Te;if(i===s){Te=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Te=f;break}Te=i.return}}function cm(s){for(;Te!==null;){var i=Te;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{kl(4,i)}catch(K){Vt(i,f,K)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var _=i.return;try{m.componentDidMount()}catch(K){Vt(i,_,K)}}var S=i.return;try{fu(i)}catch(K){Vt(i,S,K)}break;case 5:var I=i.return;try{fu(i)}catch(K){Vt(i,I,K)}}}catch(K){Vt(i,i.return,K)}if(i===s){Te=null;break}var H=i.sibling;if(H!==null){H.return=i.return,Te=H;break}Te=i.return}}var um=Math.ceil,mu=A.ReactCurrentDispatcher,Lf=A.ReactCurrentOwner,Nr=A.ReactCurrentBatchConfig,_t=0,mn=null,rn=null,bn=0,lr=0,pa=Gn(0),cn=0,Cl=null,mo=0,El=0,gu=0,Pl=null,Xn=null,$f=0,li=1/0,Ms=null,vu=!1,Ff=null,go=null,xu=!1,vo=null,Bn=0,Rl=0,zf=null,yu=-1,Tl=0;function Wn(){return(_t&6)!==0?Ft():yu!==-1?yu:yu=Ft()}function xo(s){return(s.mode&1)===0?1:(_t&2)!==0&&bn!==0?bn&-bn:Wp.transition!==null?(Tl===0&&(Tl=Id()),Tl):(s=Ct,s!==0||(s=window.event,s=s===void 0?16:mp(s.type)),s)}function Br(s,i,f,m){if(50<Rl)throw Rl=0,zf=null,Error(t(185));Va(s,f,m),((_t&2)===0||s!==mn)&&(s===mn&&((_t&2)===0&&(El|=f),cn===4&&yo(s,bn)),Qn(s,m),f===1&&_t===0&&(i.mode&1)===0&&(li=Ft()+500,zc&&ao()))}function Qn(s,i){var f=s.callbackNode;_v(s,i);var m=Wo(s,s===mn?bn:0);if(m===0)f!==null&&rp(f),s.callbackNode=null,s.callbackPriority=0;else if(i=m&-m,s.callbackPriority!==i){if(f!=null&&rp(f),i===1)s.tag===0?Xo(dm.bind(null,s)):zp(dm.bind(null,s)),Dc(function(){(_t&6)===0&&ao()}),f=null;else{switch(Ho(m)){case 1:f=Td;break;case 4:f=sp;break;case 16:f=Wa;break;case 536870912:f=Od;break;default:f=Wa}f=xm(f,wu.bind(null,s))}s.callbackPriority=i,s.callbackNode=f}}function wu(s,i){if(yu=-1,Tl=0,(_t&6)!==0)throw Error(t(327));var f=s.callbackNode;if(ma()&&s.callbackNode!==f)return null;var m=Wo(s,s===mn?bn:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||i)i=_u(s,m);else{i=m;var _=_t;_t|=2;var S=hm();(mn!==s||bn!==i)&&(Ms=null,li=Ft()+500,ui(s,i));do try{qv();break}catch(H){fm(s,H)}while(!0);Cs(),mu.current=S,_t=_,rn!==null?i=0:(mn=null,bn=0,i=cn)}if(i!==0){if(i===2&&(_=hc(s),_!==0&&(m=_,i=Uf(s,_))),i===1)throw f=Cl,ui(s,0),yo(s,m),Qn(s,Ft()),f;if(i===6)yo(s,m);else{if(_=s.current.alternate,(m&30)===0&&!Vv(_)&&(i=_u(s,m),i===2&&(S=hc(s),S!==0&&(m=S,i=Uf(s,S))),i===1))throw f=Cl,ui(s,0),yo(s,m),Qn(s,Ft()),f;switch(s.finishedWork=_,s.finishedLanes=m,i){case 0:case 1:throw Error(t(345));case 2:di(s,Xn,Ms);break;case 3:if(yo(s,m),(m&130023424)===m&&(i=$f+500-Ft(),10<i)){if(Wo(s,0)!==0)break;if(_=s.suspendedLanes,(_&m)!==m){Wn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=ro(di.bind(null,s,Xn,Ms),i);break}di(s,Xn,Ms);break;case 4:if(yo(s,m),(m&4194240)===m)break;for(i=s.eventTimes,_=-1;0<m;){var I=31-Ar(m);S=1<<I,I=i[I],I>_&&(_=I),m&=~S}if(m=_,m=Ft()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*um(m/1960))-m,10<m){s.timeoutHandle=ro(di.bind(null,s,Xn,Ms),m);break}di(s,Xn,Ms);break;case 5:di(s,Xn,Ms);break;default:throw Error(t(329))}}}return Qn(s,Ft()),s.callbackNode===f?wu.bind(null,s):null}function Uf(s,i){var f=Pl;return s.current.memoizedState.isDehydrated&&(ui(s,i).flags|=256),s=_u(s,i),s!==2&&(i=Xn,Xn=f,i!==null&&Bf(i)),s}function Bf(s){Xn===null?Xn=s:Xn.push.apply(Xn,s)}function Vv(s){for(var i=s;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var _=f[m],S=_.getSnapshot;_=_.value;try{if(!le(S(),_))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function yo(s,i){for(i&=~gu,i&=~El,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var f=31-Ar(i),m=1<<f;s[f]=-1,i&=~m}}function dm(s){if((_t&6)!==0)throw Error(t(327));ma();var i=Wo(s,0);if((i&1)===0)return Qn(s,Ft()),null;var f=_u(s,i);if(s.tag!==0&&f===2){var m=hc(s);m!==0&&(i=m,f=Uf(s,m))}if(f===1)throw f=Cl,ui(s,0),yo(s,i),Qn(s,Ft()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,di(s,Xn,Ms),Qn(s,Ft()),null}function Wf(s,i){var f=_t;_t|=1;try{return s(i)}finally{_t=f,_t===0&&(li=Ft()+500,zc&&ao())}}function ci(s){vo!==null&&vo.tag===0&&(_t&6)===0&&ma();var i=_t;_t|=1;var f=Nr.transition,m=Ct;try{if(Nr.transition=null,Ct=1,s)return s()}finally{Ct=m,Nr.transition=f,_t=i,(_t&6)===0&&ao()}}function Hf(){lr=pa.current,Lt(pa)}function ui(s,i){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,il(f)),rn!==null)for(f=rn.return;f!==null;){var m=f;switch(ei(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Fc();break;case 3:uo(),Lt(qn),Lt(En),Jc();break;case 5:Yc(m);break;case 4:uo();break;case 13:Lt(Ut);break;case 19:Lt(Ut);break;case 10:Vc(m.type._context);break;case 22:case 23:Hf()}f=f.return}if(mn=s,rn=s=Wr(s.current,null),bn=lr=i,cn=0,Cl=null,gu=El=mo=0,Xn=Pl=null,ni!==null){for(i=0;i<ni.length;i++)if(f=ni[i],m=f.interleaved,m!==null){f.interleaved=null;var _=m.next,S=f.pending;if(S!==null){var I=S.next;S.next=_,m.next=I}f.pending=m}ni=null}return s}function fm(s,i){do{var f=rn;try{if(Cs(),hl.current=nu,sa){for(var m=Ht.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}sa=!1}if(fo=0,ln=Jt=Ht=null,pl=!1,si=0,Lf.current=null,f===null||f.return===null){cn=1,Cl=i,rn=null;break}e:{var S=s,I=f.return,H=f,K=i;if(i=bn,H.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ce=K,we=H,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Re=em(I);if(Re!==null){Re.flags&=-257,jf(Re,I,H,S,i),Re.mode&1&&yl(S,ce,i),i=Re,K=ce;var Oe=i.updateQueue;if(Oe===null){var Ie=new Set;Ie.add(K),i.updateQueue=Ie}else Oe.add(K);break e}else{if((i&1)===0){yl(S,ce,i),Vf();break e}K=Error(t(426))}}else if($t&&H.mode&1){var Xt=em(I);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),jf(Xt,I,H,S,i),cs(ai(K,H));break e}}S=K=ai(K,H),cn!==4&&(cn=2),Pl===null?Pl=[S]:Pl.push(S),S=I;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var se=xl(S,K,i);Gp(S,se);break e;case 1:H=K;var Q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(go===null||!go.has(oe)))){S.flags|=65536,i&=-i,S.lanes|=i;var Ne=au(S,H,i);Gp(S,Ne);break e}}S=S.return}while(S!==null)}mm(f)}catch(ze){i=ze,rn===f&&f!==null&&(rn=f=f.return);continue}break}while(!0)}function hm(){var s=mu.current;return mu.current=nu,s===null?nu:s}function Vf(){(cn===0||cn===3||cn===2)&&(cn=4),mn===null||(mo&268435455)===0&&(El&268435455)===0||yo(mn,bn)}function _u(s,i){var f=_t;_t|=2;var m=hm();(mn!==s||bn!==i)&&(Ms=null,ui(s,i));do try{Gv();break}catch(_){fm(s,_)}while(!0);if(Cs(),_t=f,mu.current=m,rn!==null)throw Error(t(261));return mn=null,bn=0,cn}function Gv(){for(;rn!==null;)pm(rn)}function qv(){for(;rn!==null&&!uc();)pm(rn)}function pm(s){var i=vm(s.alternate,s,lr);s.memoizedProps=s.pendingProps,i===null?mm(s):rn=i,Lf.current=null}function mm(s){var i=s;do{var f=i.alternate;if(s=i.return,(i.flags&32768)===0){if(f=Bv(f,i,lr),f!==null){rn=f;return}}else{if(f=Wv(f,i),f!==null){f.flags&=32767,rn=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,rn=null;return}}if(i=i.sibling,i!==null){rn=i;return}rn=i=s}while(i!==null);cn===0&&(cn=5)}function di(s,i,f){var m=Ct,_=Nr.transition;try{Nr.transition=null,Ct=1,Kv(s,i,f,m)}finally{Nr.transition=_,Ct=m}return null}function Kv(s,i,f,m){do ma();while(vo!==null);if((_t&6)!==0)throw Error(t(327));f=s.finishedWork;var _=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(up(s,S),s===mn&&(rn=mn=null,bn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||xu||(xu=!0,xm(Wa,function(){return ma(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Nr.transition,Nr.transition=null;var I=Ct;Ct=1;var H=_t;_t|=4,Lf.current=null,Hv(s,f),Mf(f,s),$v(Jo),vc=!!sl,Jo=sl=null,s.current=f,pu(f),xv(),_t=H,Ct=I,Nr.transition=S}else s.current=f;if(xu&&(xu=!1,vo=s,Bn=_),S=s.pendingLanes,S===0&&(go=null),wv(f.stateNode),Qn(s,Ft()),i!==null)for(m=s.onRecoverableError,f=0;f<i.length;f++)_=i[f],m(_.value,{componentStack:_.stack,digest:_.digest});if(vu)throw vu=!1,s=Ff,Ff=null,s;return(Bn&1)!==0&&s.tag!==0&&ma(),S=s.pendingLanes,(S&1)!==0?s===zf?Rl++:(Rl=0,zf=s):Rl=0,ao(),null}function ma(){if(vo!==null){var s=Ho(Bn),i=Nr.transition,f=Ct;try{if(Nr.transition=null,Ct=16>s?16:s,vo===null)var m=!1;else{if(s=vo,vo=null,Bn=0,(_t&6)!==0)throw Error(t(331));var _=_t;for(_t|=4,Te=s.current;Te!==null;){var S=Te,I=S.child;if((Te.flags&16)!==0){var H=S.deletions;if(H!==null){for(var K=0;K<H.length;K++){var ce=H[K];for(Te=ce;Te!==null;){var we=Te;switch(we.tag){case 0:case 11:case 15:As(8,we,S)}var Se=we.child;if(Se!==null)Se.return=we,Te=Se;else for(;Te!==null;){we=Te;var ye=we.sibling,Re=we.return;if(im(we),we===ce){Te=null;break}if(ye!==null){ye.return=Re,Te=ye;break}Te=Re}}}var Oe=S.alternate;if(Oe!==null){var Ie=Oe.child;if(Ie!==null){Oe.child=null;do{var Xt=Ie.sibling;Ie.sibling=null,Ie=Xt}while(Ie!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&I!==null)I.return=S,Te=I;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:As(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Te=se;break e}Te=S.return}}var Q=s.current;for(Te=Q;Te!==null;){I=Te;var oe=I.child;if((I.subtreeFlags&2064)!==0&&oe!==null)oe.return=I,Te=oe;else e:for(I=Q;Te!==null;){if(H=Te,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:kl(9,H)}}catch(ze){Vt(H,H.return,ze)}if(H===I){Te=null;break e}var Ne=H.sibling;if(Ne!==null){Ne.return=H.return,Te=Ne;break e}Te=H.return}}if(_t=_,ao(),es&&typeof es.onPostCommitFiberRoot=="function")try{es.onPostCommitFiberRoot(dc,s)}catch{}m=!0}return m}finally{Ct=f,Nr.transition=i}}return!1}function bu(s,i,f){i=ai(f,i),i=xl(s,i,1),s=br(s,i,1),i=Wn(),s!==null&&(Va(s,1,i),Qn(s,i))}function Vt(s,i,f){if(s.tag===3)bu(s,s,f);else for(;i!==null;){if(i.tag===3){bu(i,s,f);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(go===null||!go.has(m))){s=ai(f,s),s=au(i,s,1),i=br(i,s,1),s=Wn(),i!==null&&(Va(i,1,s),Qn(i,s));break}}i=i.return}}function Yv(s,i,f){var m=s.pingCache;m!==null&&m.delete(i),i=Wn(),s.pingedLanes|=s.suspendedLanes&f,mn===s&&(bn&f)===f&&(cn===4||cn===3&&(bn&130023424)===bn&&500>Ft()-$f?ui(s,0):gu|=f),Qn(s,i)}function gm(s,i){i===0&&((s.mode&1)===0?i=1:(i=fc,fc<<=1,(fc&130023424)===0&&(fc=4194304)));var f=Wn();s=Es(s,i),s!==null&&(Va(s,i,f),Qn(s,f))}function Jv(s){var i=s.memoizedState,f=0;i!==null&&(f=i.retryLane),gm(s,f)}function Xv(s,i){var f=0;switch(s.tag){case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(f=_.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(i),gm(s,f)}var vm;vm=function(s,i,f){if(s!==null)if(s.memoizedProps!==i.pendingProps||qn.current)zn=!0;else{if((s.lanes&f)===0&&(i.flags&128)===0)return zn=!1,rm(s,i,f);zn=(s.flags&131072)!==0}else zn=!1,$t&&(i.flags&1048576)!==0&&Up(i,Bc,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;uu(s,i),s=i.pendingProps;var _=Zi(i,En.current);co(i,f),_=oi(null,i,m,s,_,f);var S=Xc();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Kn(m)?(S=!0,vr(i)):S=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,qc(i),_.updater=ou,i.stateNode=_,_._reactInternals=i,Sf(i,m,s,f),i=Rf(null,i,m,!0,S,f)):(i.tag=0,$t&&S&&al(i),yn(null,i,_,f),i=i.child),i;case 16:m=i.elementType;e:{switch(uu(s,i),s=i.pendingProps,_=m._init,m=_(m._payload),i.type=m,_=i.tag=Zv(m),s=jr(m,s),_){case 0:i=Ef(null,i,m,s,f);break e;case 1:i=Pf(null,i,m,s,f);break e;case 11:i=tm(null,i,m,s,f);break e;case 14:i=Nf(null,i,m,jr(m.type,s),f);break e}throw Error(t(306,m,""))}return i;case 0:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:jr(m,_),Ef(s,i,m,_,f);case 1:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:jr(m,_),Pf(s,i,m,_,f);case 3:e:{if(nm(i),s===null)throw Error(t(387));m=i.pendingProps,S=i.memoizedState,_=S.element,Vp(s,i),na(i,m,null,f);var I=i.memoizedState;if(m=I.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){_=ai(Error(t(423)),i),i=ps(s,i,m,f,_);break e}else if(m!==_){_=ai(Error(t(424)),i),i=ps(s,i,m,f,_);break e}else for(or=so(i.stateNode.containerInfo.firstChild),Rn=i,$t=!0,Dr=null,f=Hc(i,null,m,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ls(),m===_){i=$r(s,i,f);break e}yn(s,i,m,f)}i=i.child}return i;case 5:return uf(i),s===null&&Yn(i),m=i.type,_=i.pendingProps,S=s!==null?s.memoizedProps:null,I=_.children,ol(m,_)?I=null:S!==null&&ol(m,S)&&(i.flags|=32),Cf(s,i),yn(s,i,I,f),i.child;case 6:return s===null&&Yn(i),null;case 13:return cu(s,i,f);case 4:return cf(i,i.stateNode.containerInfo),m=i.pendingProps,s===null?i.child=qt(i,null,m,f):yn(s,i,m,f),i.child;case 11:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:jr(m,_),tm(s,i,m,_,f);case 7:return yn(s,i,i.pendingProps,f),i.child;case 8:return yn(s,i,i.pendingProps.children,f),i.child;case 12:return yn(s,i,i.pendingProps.children,f),i.child;case 10:e:{if(m=i.type._context,_=i.pendingProps,S=i.memoizedProps,I=_.value,Mt(ul,m._currentValue),m._currentValue=I,S!==null)if(le(S.value,I)){if(S.children===_.children&&!qn.current){i=$r(s,i,f);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var H=S.dependencies;if(H!==null){I=S.child;for(var K=H.firstContext;K!==null;){if(K.context===m){if(S.tag===1){K=Ps(-1,f&-f),K.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?K.next=K:(K.next=we.next,we.next=K),ce.pending=K}}S.lanes|=f,K=S.alternate,K!==null&&(K.lanes|=f),xn(S.return,f,i),H.lanes|=f;break}K=K.next}}else if(S.tag===10)I=S.type===i.type?null:S.child;else if(S.tag===18){if(I=S.return,I===null)throw Error(t(341));I.lanes|=f,H=I.alternate,H!==null&&(H.lanes|=f),xn(I,f,i),I=S.sibling}else I=S.child;if(I!==null)I.return=S;else for(I=S;I!==null;){if(I===i){I=null;break}if(S=I.sibling,S!==null){S.return=I.return,I=S;break}I=I.return}S=I}yn(s,i,_.children,f),i=i.child}return i;case 9:return _=i.type,m=i.pendingProps.children,co(i,f),_=wr(_),m=m(_),i.flags|=1,yn(s,i,m,f),i.child;case 14:return m=i.type,_=jr(m,i.pendingProps),_=jr(m.type,_),Nf(s,i,m,_,f);case 15:return hs(s,i,i.type,i.pendingProps,f);case 17:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:jr(m,_),uu(s,i),i.tag=1,Kn(m)?(s=!0,vr(i)):s=!1,co(i,f),ii(i,m,_),Sf(i,m,_,f),Rf(null,i,m,!0,s,f);case 19:return ho(s,i,f);case 22:return kf(s,i,f)}throw Error(t(156,i.tag))};function xm(s,i){return np(s,i)}function Qv(s,i,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kr(s,i,f,m){return new Qv(s,i,f,m)}function Su(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Zv(s){if(typeof s=="function")return Su(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ae)return 11;if(s===ke)return 14}return 2}function Wr(s,i){var f=s.alternate;return f===null?(f=kr(s.tag,i,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=i,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,i=s.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function ju(s,i,f,m,_,S){var I=2;if(m=s,typeof s=="function")Su(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case F:return fi(f.children,_,S,i);case $:I=8,_|=8;break;case G:return s=kr(12,f,i,_|2),s.elementType=G,s.lanes=S,s;case pe:return s=kr(13,f,i,_),s.elementType=pe,s.lanes=S,s;case me:return s=kr(19,f,i,_),s.elementType=me,s.lanes=S,s;case be:return Nu(f,_,S,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:I=10;break e;case ne:I=9;break e;case ae:I=11;break e;case ke:I=14;break e;case ge:I=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=kr(I,f,i,_),i.elementType=s,i.type=m,i.lanes=S,i}function fi(s,i,f,m){return s=kr(7,s,m,i),s.lanes=f,s}function Nu(s,i,f,m){return s=kr(22,s,m,i),s.elementType=be,s.lanes=f,s.stateNode={isHidden:!1},s}function Gf(s,i,f){return s=kr(6,s,null,i),s.lanes=f,s}function qf(s,i,f){return i=kr(4,s.children!==null?s.children:[],s.key,i),i.lanes=f,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function ex(s,i,f,m,_){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ha(0),this.expirationTimes=Ha(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ha(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Kf(s,i,f,m,_,S,I,H,K){return s=new ex(s,i,f,H,K),i===1?(i=1,S===!0&&(i|=8)):i=0,S=kr(3,null,null,i),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},qc(S),s}function tx(s,i,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:W,key:m==null?null:""+m,children:s,containerInfo:i,implementation:f}}function ym(s){if(!s)return io;s=s._reactInternals;e:{if(Bo(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Kn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(Kn(f))return $p(s,f,i)}return i}function wm(s,i,f,m,_,S,I,H,K){return s=Kf(f,m,!0,s,_,S,I,H,K),s.context=ym(null),f=s.current,m=Wn(),_=xo(f),S=Ps(m,_),S.callback=i??null,br(f,S,_),s.current.lanes=_,Va(s,_,m),Qn(s,m),s}function ku(s,i,f,m){var _=i.current,S=Wn(),I=xo(_);return f=ym(f),i.context===null?i.context=f:i.pendingContext=f,i=Ps(S,I),i.payload={element:s},m=m===void 0?null:m,m!==null&&(i.callback=m),s=br(_,i,I),s!==null&&(Br(s,_,I,S),Kc(s,_,I)),I}function Cu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function _m(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<i?f:i}}function Yf(s,i){_m(s,i),(s=s.alternate)&&_m(s,i)}function nx(){return null}var bm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Eu(s){this._internalRoot=s}Ol.prototype.render=Eu.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));ku(s,i,null,null)},Ol.prototype.unmount=Eu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ci(function(){ku(null,s,null,null)}),i[sr]=null}};function Ol(s){this._internalRoot=s}Ol.prototype.unstable_scheduleHydration=function(s){if(s){var i=Md();s={blockedOn:null,target:s,priority:i};for(var f=0;f<Qs.length&&i!==0&&i<Qs[f].priority;f++);Qs.splice(f,0,s),f===0&&hp(s)}};function Jf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Pu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Sm(){}function rx(s,i,f,m,_){if(_){if(typeof m=="function"){var S=m;m=function(){var ce=Cu(I);S.call(ce)}}var I=wm(i,m,s,0,null,!1,!1,"",Sm);return s._reactRootContainer=I,s[sr]=I.current,no(s.nodeType===8?s.parentNode:s),ci(),I}for(;_=s.lastChild;)s.removeChild(_);if(typeof m=="function"){var H=m;m=function(){var ce=Cu(K);H.call(ce)}}var K=Kf(s,0,!1,null,null,!1,!1,"",Sm);return s._reactRootContainer=K,s[sr]=K.current,no(s.nodeType===8?s.parentNode:s),ci(function(){ku(i,K,f,m)}),K}function hi(s,i,f,m,_){var S=f._reactRootContainer;if(S){var I=S;if(typeof _=="function"){var H=_;_=function(){var K=Cu(I);H.call(K)}}ku(i,I,s,_)}else I=rx(f,i,s,_,m);return Cu(I)}Ad=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var f=Mi(i.pendingLanes);f!==0&&(Ga(i,f|1),Qn(i,Ft()),(_t&6)===0&&(li=Ft()+500,ao()))}break;case 13:ci(function(){var m=Es(s,1);if(m!==null){var _=Wn();Br(m,s,1,_)}}),Yf(s,1)}},pc=function(s){if(s.tag===13){var i=Es(s,134217728);if(i!==null){var f=Wn();Br(i,s,134217728,f)}Yf(s,134217728)}},dp=function(s){if(s.tag===13){var i=xo(s),f=Es(s,i);if(f!==null){var m=Wn();Br(f,s,i,m)}Yf(s,i)}},Md=function(){return Ct},Dd=function(s,i){var f=Ct;try{return Ct=s,i()}finally{Ct=f}},Nd=function(s,i,f){switch(i){case"input":if(Yt(s,f),i=f.name,f.type==="radio"&&i!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var m=f[i];if(m!==s&&m.form===s.form){var _=$c(m);if(!_)throw Error(t(90));Ae(m),Yt(m,_)}}}break;case"textarea":Gh(s,f);break;case"select":i=f.value,i!=null&&Gt(s,!!f.multiple,i,!1)}},Xh=Wf,kd=ci;var sx={usingClientEntryPoint:!1,Events:[Cn,ot,$c,Yh,Jh,Wf]},Il={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:Il.bundleType,version:Il.version,rendererPackageName:Il.rendererPackageName,rendererConfig:Il.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=ep(s),s===null?null:s.stateNode},findFiberByHostInstance:Il.findFiberByHostInstance||nx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ru.isDisabled&&Ru.supportsFiber)try{dc=Ru.inject(ox),es=Ru}catch{}}return Rr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sx,Rr.createPortal=function(s,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jf(i))throw Error(t(200));return tx(s,i,null,f)},Rr.createRoot=function(s,i){if(!Jf(s))throw Error(t(299));var f=!1,m="",_=bm;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Kf(s,1,!1,null,null,f,!1,m,_),s[sr]=i.current,no(s.nodeType===8?s.parentNode:s),new Eu(i)},Rr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=ep(i),s=s===null?null:s.stateNode,s},Rr.flushSync=function(s){return ci(s)},Rr.hydrate=function(s,i,f){if(!Pu(i))throw Error(t(200));return hi(null,s,i,!0,f)},Rr.hydrateRoot=function(s,i,f){if(!Jf(s))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,_=!1,S="",I=bm;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(I=f.onRecoverableError)),i=wm(i,null,s,1,f??null,_,!1,S,I),s[sr]=i.current,no(s),m)for(s=0;s<m.length;s++)f=m[s],_=f._getVersion,_=_(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,_]:i.mutableSourceEagerHydrationData.push(f,_);return new Ol(i)},Rr.render=function(s,i,f){if(!Pu(i))throw Error(t(200));return hi(null,s,i,!1,f)},Rr.unmountComponentAtNode=function(s){if(!Pu(s))throw Error(t(40));return s._reactRootContainer?(ci(function(){hi(null,null,s,!1,function(){s._reactRootContainer=null,s[sr]=null})}),!0):!1},Rr.unstable_batchedUpdates=Wf,Rr.unstable_renderSubtreeIntoContainer=function(s,i,f,m){if(!Pu(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return hi(s,i,f,!1,m)},Rr.version="18.3.1-next-f1338f8080-20240426",Rr}var bw;function D1(){if(bw)return wx.exports;bw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),wx.exports=mP(),wx.exports}var Sw;function gP(){if(Sw)return Em;Sw=1;var n=D1();return Em.createRoot=n.createRoot,Em.hydrateRoot=n.hydrateRoot,Em}var vP=gP();const xP=kg(vP),rt=n=>typeof n=="string",Zf=()=>{let n,e;const t=new Promise((r,o)=>{n=r,e=o});return t.resolve=n,t.reject=e,t},jw=n=>n==null?"":""+n,yP=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},wP=/###/g,Nw=n=>n&&n.indexOf("###")>-1?n.replace(wP,"."):n,kw=n=>!n||rt(n),fh=(n,e,t)=>{const r=rt(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(kw(n))return{};const c=Nw(r[o]);!n[c]&&t&&(n[c]=new t),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return kw(n)?{}:{obj:n,k:Nw(r[o])}},Cw=(n,e,t)=>{const{obj:r,k:o}=fh(n,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let c=e[e.length-1],u=e.slice(0,e.length-1),h=fh(n,u,Object);for(;h.obj===void 0&&u.length;)c=`${u[u.length-1]}.${c}`,u=u.slice(0,u.length-1),h=fh(n,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=t},_P=(n,e,t,r)=>{const{obj:o,k:c}=fh(n,e,Object);o[c]=o[c]||[],o[c].push(t)},ng=(n,e)=>{const{obj:t,k:r}=fh(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},bP=(n,e,t)=>{const r=ng(n,t);return r!==void 0?r:ng(e,t)},L1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?rt(n[r])||n[r]instanceof String||rt(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):L1(n[r],e[r],t):n[r]=e[r]);return n},Iu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const jP=n=>rt(n)?n.replace(/[&<>"'\/]/g,e=>SP[e]):n;class NP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const kP=[" ",",","?","!",";"],CP=new NP(20),EP=(n,e,t)=>{e=e||"",t=t||"";const r=kP.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const o=CP.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let c=!o.test(n);if(!c){const u=n.indexOf(t);u>0&&!o.test(n.substring(0,u))&&(c=!0)}return c},r0=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let o=n;for(let c=0;c<r.length;){if(!o||typeof o!="object")return;let u,h="";for(let p=c;p<r.length;++p)if(p!==c&&(h+=t),h+=r[p],u=o[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&p<r.length-1)continue;c+=p-c+1;break}o=u}return o},yh=n=>n==null?void 0:n.replace("_","-"),PP={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class rg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||PP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(rt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new rg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new rg(this.logger,e)}}var jo=new rg;class Eg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o.apply(o,[e,...t])})}}class Ew extends Eg{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,o={}){var g,x;const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],r&&(Array.isArray(r)?h.push(...r):rt(r)&&c?h.push(...r.split(c)):h.push(r)));const p=ng(this.data,h);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=h[0],t=h[1],r=h.slice(2).join(".")),p||!u||!rt(r)?p:r0((x=(g=this.data)==null?void 0:g[e])==null?void 0:x[t],r,c)}addResource(e,t,r,o,c={silent:!1}){const u=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[e,t];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),o=t,t=h[1]),this.addNamespaces(t),Cw(this.data,h,o),c.silent||this.emit("added",e,t,r,o)}addResources(e,t,r,o={silent:!1}){for(const c in r)(rt(r[c])||Array.isArray(r[c]))&&this.addResource(e,t,c,r[c],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,c,u={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),o=r,r=t,t=h[1]),this.addNamespaces(t);let p=ng(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?L1(p,r,c):p={...p,...r},Cw(this.data,h,p),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var $1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,o){return n.forEach(c=>{var u;e=((u=this.processors[c])==null?void 0:u.process(e,t,r,o))??e}),e}};const Pw={},Rw=n=>!rt(n)&&typeof n!="boolean"&&typeof n!="number";class sg extends Eg{constructor(e,t={}){super(),yP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=jo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const o=this.resolve(e,r);return(o==null?void 0:o.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!EP(e,r,o);if(u&&!h){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:rt(c)?[c]:c};const g=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),e=g.join(o)}return{key:e,namespaces:rt(c)?[c]:c}}translate(e,t,r){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o={...o}),o||(o={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const c=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(e[e.length-1],o),g=p[p.length-1];let x=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const y=o.lng||this.language,b=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return b?c?{res:`${g}${x}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${x}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:h;const C=this.resolve(e,o);let E=C==null?void 0:C.res;const P=(C==null?void 0:C.usedKey)||h,k=(C==null?void 0:C.exactUsedKey)||h,R=["[object Number]","[object Function]","[object RegExp]"],N=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,A=o.count!==void 0&&!rt(o.count),M=sg.hasDefaultValue(o),W=A?this.pluralResolver.getSuffix(y,o.count,o):"",F=o.ordinal&&A?this.pluralResolver.getSuffix(y,o.count,{ordinal:!1}):"",$=A&&!o.ordinal&&o.count===0,G=$&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${W}`]||o[`defaultValue${F}`]||o.defaultValue;let X=E;T&&!E&&M&&(X=G);const ne=Rw(X),ae=Object.prototype.toString.apply(X);if(T&&X&&ne&&R.indexOf(ae)<0&&!(rt(N)&&Array.isArray(X))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,X,{...o,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(C.res=pe,C.usedParams=this.getUsedParamsDetails(o),C):pe}if(u){const pe=Array.isArray(X),me=pe?[]:{},ke=pe?k:P;for(const ge in X)if(Object.prototype.hasOwnProperty.call(X,ge)){const be=`${ke}${u}${ge}`;M&&!E?me[ge]=this.translate(be,{...o,defaultValue:Rw(G)?G[ge]:void 0,joinArrays:!1,ns:p}):me[ge]=this.translate(be,{...o,joinArrays:!1,ns:p}),me[ge]===be&&(me[ge]=X[ge])}E=me}}else if(T&&rt(N)&&Array.isArray(E))E=E.join(N),E&&(E=this.extendTranslation(E,e,o,r));else{let pe=!1,me=!1;!this.isValidLookup(E)&&M&&(pe=!0,E=G),this.isValidLookup(E)||(me=!0,E=h);const ge=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:E,be=M&&G!==E&&this.options.updateMissing;if(me||pe||be){if(this.logger.log(be?"updateKey":"missingKey",y,g,h,be?G:E),u){const z=this.resolve(h,{...o,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let z=0;z<Y.length;z++)B.push(Y[z]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(o.lng||this.language):B.push(o.lng||this.language);const re=(z,U,q)=>{var ue;const ie=M&&q!==E?q:ge;this.options.missingKeyHandler?this.options.missingKeyHandler(z,g,U,ie,be,o):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(z,g,U,ie,be,o),this.emit("missingKey",z,g,U,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?B.forEach(z=>{const U=this.pluralResolver.getSuffixes(z,o);$&&o[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(q=>{re([z],h+q,o[`defaultValue${q}`]||G)})}):re(B,h,G))}E=this.extendTranslation(E,e,o,C,r),me&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${g}${x}${h}`),(me||pe)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${x}${h}`:h,pe?E:void 0,o))}return c?(C.res=E,C.usedParams=this.getUsedParamsDetails(o),C):E}extendTranslation(e,t,r,o,c){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const x=rt(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(x){const C=e.match(this.interpolator.nestingRegexp);y=C&&C.length}let b=r.replace&&!rt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||o.usedLng,r),x){const C=e.match(this.interpolator.nestingRegexp),E=C&&C.length;y<E&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...C)=>(c==null?void 0:c[0])===C[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${C[0]} in key: ${t[0]}`),null):this.translate(...C,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=rt(u)?[u]:u;return e!=null&&(h!=null&&h.length)&&r.applyPostProcessor!==!1&&(e=$1.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,o,c,u,h;return rt(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),x=g.key;o=x;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!rt(t.count),C=b&&!t.ordinal&&t.count===0,E=t.context!==void 0&&(rt(t.context)||typeof t.context=="number")&&t.context!=="",P=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(k=>{var R,N;this.isValidLookup(r)||(h=k,!Pw[`${P[0]}-${k}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((N=this.utils)!=null&&N.hasLoadedNamespace(h))&&(Pw[`${P[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${P.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(T=>{var W;if(this.isValidLookup(r))return;u=T;const A=[x];if((W=this.i18nFormat)!=null&&W.addLookupKeys)this.i18nFormat.addLookupKeys(A,x,T,k,t);else{let F;b&&(F=this.pluralResolver.getSuffix(T,t.count,t));const $=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(A.push(x+F),t.ordinal&&F.indexOf(G)===0&&A.push(x+F.replace(G,this.options.pluralSeparator)),C&&A.push(x+$)),E){const X=`${x}${this.options.contextSeparator}${t.context}`;A.push(X),b&&(A.push(X+F),t.ordinal&&F.indexOf(G)===0&&A.push(X+F.replace(G,this.options.pluralSeparator)),C&&A.push(X+$))}}let M;for(;M=A.pop();)this.isValidLookup(r)||(c=M,r=this.getResource(T,k,M,t))}))})}),{res:r,usedKey:o,exactUsedKey:c,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,o={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!rt(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const c of t)delete o[c]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Tw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=jo.create("languageUtils")}getScriptPartFromCode(e){if(e=yh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=yh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(rt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return t=o;const c=this.getLanguagePartFromCode(r);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(u=>{if(u===c)return u;if(!(u.indexOf("-")<0&&c.indexOf("-")<0)&&(u.indexOf("-")>0&&c.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===c||u.indexOf(c)===0&&c.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),rt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],c=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return rt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):rt(e)&&c(this.formatLanguageCode(e)),r.forEach(u=>{o.indexOf(u)<0&&c(this.formatLanguageCode(u))}),o}}const Ow={zero:0,one:1,two:2,few:3,many:4,other:5},Iw={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class RP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=jo.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=yh(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:r,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let u;try{u=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Iw;if(!e.match(/-|_/))return Iw;const p=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(p,t)}return this.pluralRulesCache[c]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,c)=>Ow[o]-Ow[c]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,r={}){const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Aw=(n,e,t,r=".",o=!0)=>{let c=bP(n,e,t);return!c&&o&&rt(t)&&(c=r0(n,t,r),c===void 0&&(c=r0(e,t,r))),c},Sx=n=>n.replace(/\$/g,"$$$$");class TP{constructor(e={}){var t;this.logger=jo.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:c,prefixEscaped:u,suffix:h,suffixEscaped:p,formatSeparator:g,unescapeSuffix:x,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:C,nestingSuffix:E,nestingSuffixEscaped:P,nestingOptionsSeparator:k,maxReplaces:R,alwaysFormat:N}=e.interpolation;this.escape=t!==void 0?t:jP,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?Iu(c):u||"{{",this.suffix=h?Iu(h):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=x?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=b?Iu(b):C||Iu("$t("),this.nestingSuffix=E?Iu(E):P||Iu(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=R||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,o){var C;let c,u,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=E=>{if(E.indexOf(this.formatSeparator)<0){const N=Aw(t,p,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,r,{...o,...t,interpolationkey:E}):N}const P=E.split(this.formatSeparator),k=P.shift().trim(),R=P.join(this.formatSeparator).trim();return this.format(Aw(t,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),R,r,{...o,...t,interpolationkey:k})};this.resetRegExp();const x=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((C=o==null?void 0:o.interpolation)==null?void 0:C.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Sx(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Sx(this.escape(E)):Sx(E)}].forEach(E=>{for(h=0;c=E.regex.exec(e);){const P=c[1].trim();if(u=g(P),u===void 0)if(typeof x=="function"){const R=x(e,c,o);u=rt(R)?R:""}else if(o&&Object.prototype.hasOwnProperty.call(o,P))u="";else if(y){u=c[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!rt(u)&&!this.useRawValueToEscape&&(u=jw(u));const k=E.safeValue(u);if(e=e.replace(c[0],k),y?(E.regex.lastIndex+=u.length,E.regex.lastIndex-=c[0].length):E.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,r={}){let o,c,u;const h=(p,g)=>{const x=this.nestingOptionsSeparator;if(p.indexOf(x)<0)return p;const y=p.split(new RegExp(`${x}[ ]*{`));let b=`{${y[1]}`;p=y[0],b=this.interpolate(b,u);const C=b.match(/'/g),E=b.match(/"/g);(((C==null?void 0:C.length)??0)%2===0&&!E||E.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),g&&(u={...g,...u})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,P),`${p}${x}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,p};for(;o=this.nestingRegexp.exec(e);){let p=[];u={...r},u=u.replace&&!rt(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(p=o[1].slice(g).split(this.formatSeparator).map(x=>x.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),c=t(h.call(this,o[1].trim(),u),u),c&&o[0]===e&&!rt(c))return c;rt(c)||(c=jw(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((x,y)=>this.format(x,y,r.lng,{...r,interpolationkey:o[1].trim()}),c.trim())),e=e.replace(o[0],c),this.regexp.lastIndex=0}return e}}const OP=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(u=>{if(u){const[h,...p]=u.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),x=h.trim();t[x]||(t[x]=g),g==="false"&&(t[x]=!1),g==="true"&&(t[x]=!0),isNaN(g)||(t[x]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Mw=n=>{const e={};return(t,r,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const u=r+JSON.stringify(c);let h=e[u];return h||(h=n(yh(r),o),e[u]=h),h(t)}},IP=n=>(e,t,r)=>n(yh(t),r)(e);class AP{constructor(e={}){this.logger=jo.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Mw:IP;this.formats={number:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c});return h=>u.format(h)}),currency:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c,style:"currency"});return h=>u.format(h)}),datetime:r((o,c)=>{const u=new Intl.DateTimeFormat(o,{...c});return h=>u.format(h)}),relativetime:r((o,c)=>{const u=new Intl.RelativeTimeFormat(o,{...c});return h=>u.format(h,c.range||"day")}),list:r((o,c)=>{const u=new Intl.ListFormat(o,{...c});return h=>u.format(h)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Mw(t)}format(e,t,r,o={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,p)=>{var y;const{formatName:g,formatOptions:x}=OP(p);if(this.formats[g]){let b=h;try{const C=((y=o==null?void 0:o.formatParams)==null?void 0:y[o.interpolationkey])||{},E=C.locale||C.lng||o.locale||o.lng||r;b=this.formats[g](h,E,{...x,...o,...C})}catch(C){this.logger.warn(C)}return b}else this.logger.warn(`there was no format function for ${g}`);return h},e)}}const MP=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class DP extends Eg{constructor(e,t,r,o={}){var c,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=jo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(u=(c=this.backend)==null?void 0:c.init)==null||u.call(c,r,o.backend,o)}queueLoad(e,t,r,o){const c={},u={},h={},p={};return e.forEach(g=>{let x=!0;t.forEach(y=>{const b=`${g}|${y}`;!r.reload&&this.store.hasResourceBundle(g,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,x=!1,u[b]===void 0&&(u[b]=!0),c[b]===void 0&&(c[b]=!0),p[y]===void 0&&(p[y]=!0)))}),x||(h[g]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const o=e.split("|"),c=o[0],u=o[1];t&&this.emit("failedLoading",c,u,t),!t&&r&&this.store.addResourceBundle(c,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const h={};this.queue.forEach(p=>{_P(p.loaded,[c],u),MP(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{h[g]||(h[g]={});const x=p.loaded[g];x.length&&x.forEach(y=>{h[g][y]===void 0&&(h[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,o=0,c=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:c,callback:u});return}this.readingCalls++;const h=(g,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&x&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,c*2,u)},c);return}u(g,x)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(x=>h(null,x)).catch(h):h(null,g)}catch(g){h(g)}return}return p(e,t,h)}prepareLoading(e,t,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();rt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),rt(t)&&(t=[t]);const c=this.queueLoad(e,t,r,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),o=r[0],c=r[1];this.read(o,c,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${t}loading namespace ${c} for language ${o} failed`,u),!u&&h&&this.logger.log(`${t}loaded namespace ${c} for language ${o}`,h),this.loaded(e,u,h)})}saveMissing(e,t,r,o,c,u={},h=()=>{}){var p,g,x,y,b;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((y=(x=this.services)==null?void 0:x.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const C={...u,isUpdate:c},E=this.backend.create.bind(this.backend);if(E.length<6)try{let P;E.length===5?P=E(e,t,r,o,C):P=E(e,t,r,o),P&&typeof P.then=="function"?P.then(k=>h(null,k)).catch(h):h(null,P)}catch(P){h(P)}else E(e,t,r,o,h,C)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const Dw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),rt(n[1])&&(e.defaultValue=n[1]),rt(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Lw=n=>{var e,t;return rt(n.ns)&&(n.ns=[n.ns]),rt(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),rt(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Pm=()=>{},LP=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class wh extends Eg{constructor(e={},t){if(super(),this.options=Lw(e),this.services={},this.logger=jo,this.modules={external:[]},LP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(rt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Dw();this.options={...r,...this.options,...Lw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?jo.init(o(this.modules.logger),this.options):jo.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=AP;const x=new Tw(this.options);this.store=new Ew(this.options.resources,this.options);const y=this.services;y.logger=jo,y.resourceStore=this.store,y.languageUtils=x,y.pluralResolver=new RP(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=o(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new TP(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new DP(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new sg(this.services,this.options),this.translator.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Pm),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...x)=>this.store[g](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...x)=>(this.store[g](...x),this)});const h=Zf(),p=()=>{const g=(x,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),t(x,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e,t=Pm){var c,u;let r=t;const o=rt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};o?p(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>p(x)),(u=(c=this.options.preload)==null?void 0:c.forEach)==null||u.call(c,g=>p(g)),this.services.backendConnector.load(h,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const o=Zf();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Pm),this.services.backendConnector.reload(e,t,c=>{o.resolve(),r(c)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&$1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Zf();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(h,(...g)=>this.t(...g))},u=h=>{var x,y;!e&&!h&&this.services.languageDetector&&(h=[]);const p=rt(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(rt(h)?[h]:h);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),(y=(x=this.services.languageDetector)==null?void 0:x.cacheUserLanguage)==null||y.call(x,g)),this.loadResources(g,b=>{c(b,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const o=(c,u,...h)=>{let p;typeof u!="object"?p=this.options.overloadTranslationOptionHandler([c,u].concat(h)):p={...u},p.lng=p.lng||o.lng,p.lngs=p.lngs||o.lngs,p.ns=p.ns||o.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||o.keyPrefix);const g=this.options.keySeparator||".";let x;return p.keyPrefix&&Array.isArray(c)?x=c.map(y=>`${p.keyPrefix}${g}${y}`):x=p.keyPrefix?`${p.keyPrefix}${g}${c}`:c,this.t(x,p)};return rt(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,p)=>{const g=this.services.backendConnector.state[`${h}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const h=t.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!o||u(c,e)))}loadNamespaces(e,t){const r=Zf();return this.options.ns?(rt(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Zf();rt(e)&&(e=[e]);const o=this.options.preload||[],c=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return c.length?(this.options.preload=o.concat(c),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var o,c;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const h=u.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((c=this.services)==null?void 0:c.languageUtils)||new Tw(Dw());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new wh(e,t)}cloneInstance(e={},t=Pm){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},c=new wh(o);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},r){const h=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((x,y)=>(x[y]={...p[g][y]},x),p[g]),p),{});c.store=new Ew(h,o),c.services.resourceStore=c.store}return c.translator=new sg(c.services,o),c.translator.on("*",(h,...p)=>{c.emit(h,...p)}),c.init(o,t),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const er=wh.createInstance();er.createInstance=wh.createInstance;er.createInstance;er.dir;er.init;er.loadResources;er.reloadResources;er.use;er.changeLanguage;er.getFixedT;er.t;er.exists;er.setDefaultNamespace;er.hasLoadedNamespace;er.loadNamespaces;er.loadLanguages;const $P=(n,e,t,r)=>{var c,u,h,p;const o=[t,{code:e,...r||{}}];if((u=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&u.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);Vl(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(p=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&p.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},$w={},s0=(n,e,t,r)=>{Vl(t)&&$w[t]||(Vl(t)&&($w[t]=new Date),$P(n,e,t,r))},F1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},o0=(n,e,t)=>{n.loadNamespaces(e,F1(n,t))},Fw=(n,e,t,r)=>{if(Vl(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return o0(n,t,r);t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,F1(n,r))},FP=(n,e,t={})=>!e.languages||!e.languages.length?(s0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,n))return!1}}),Vl=n=>typeof n=="string",zP=n=>typeof n=="object"&&n!==null,UP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,BP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},WP=n=>BP[n],HP=n=>n.replace(UP,WP);let i0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HP};const VP=(n={})=>{i0={...i0,...n}},GP=()=>i0;let z1;const qP=n=>{z1=n},KP=()=>z1,YP={type:"3rdParty",init(n){VP(n.options.react),qP(n)}},JP=w.createContext();class XP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const QP=(n,e)=>{const t=w.useRef();return w.useEffect(()=>{t.current=n},[n,e]),t.current},U1=(n,e,t,r)=>n.getFixedT(e,t,r),ZP=(n,e,t,r)=>w.useCallback(U1(n,e,t,r),[n,e,t,r]),eR=(n,e={})=>{var A,M,W,F;const{i18n:t}=e,{i18n:r,defaultNS:o}=w.useContext(JP)||{},c=t||r||KP();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new XP),!c){s0(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const $=(X,ne)=>Vl(ne)?ne:zP(ne)&&Vl(ne.defaultValue)?ne.defaultValue:Array.isArray(X)?X[X.length-1]:X,G=[$,{},!1];return G.t=$,G.i18n={},G.ready=!1,G}(A=c.options.react)!=null&&A.wait&&s0(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...GP(),...c.options.react,...e},{useSuspense:h,keyPrefix:p}=u;let g=n||o||((M=c.options)==null?void 0:M.defaultNS);g=Vl(g)?[g]:g||["translation"],(F=(W=c.reportNamespaces).addUsedNamespaces)==null||F.call(W,g);const x=(c.isInitialized||c.initializedStoreOnce)&&g.every($=>FP($,c,u)),y=ZP(c,e.lng||null,u.nsMode==="fallback"?g:g[0],p),b=()=>y,C=()=>U1(c,e.lng||null,u.nsMode==="fallback"?g:g[0],p),[E,P]=w.useState(b);let k=g.join();e.lng&&(k=`${e.lng}${k}`);const R=QP(k),N=w.useRef(!0);w.useEffect(()=>{const{bindI18n:$,bindI18nStore:G}=u;N.current=!0,!x&&!h&&(e.lng?Fw(c,e.lng,g,()=>{N.current&&P(C)}):o0(c,g,()=>{N.current&&P(C)})),x&&R&&R!==k&&N.current&&P(C);const X=()=>{N.current&&P(C)};return $&&(c==null||c.on($,X)),G&&(c==null||c.store.on(G,X)),()=>{N.current=!1,c&&$&&($==null||$.split(" ").forEach(ne=>c.off(ne,X))),G&&c&&G.split(" ").forEach(ne=>c.store.off(ne,X))}},[c,k]),w.useEffect(()=>{N.current&&x&&P(b)},[c,p,x]);const T=[E,c,x];if(T.t=E,T.i18n=c,T.ready=x,x||!x&&!h)return T;throw new Promise($=>{e.lng?Fw(c,e.lng,g,()=>$()):o0(c,g,()=>$())})},{slice:tR,forEach:nR}=[];function rR(n){return nR.call(tR.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function sR(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const zw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,oR=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let c=`${n}=${o}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!zw.test(r.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${r.domain}`}if(r.path){if(!zw.test(r.path))throw new TypeError("option path is invalid");c+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(c+="; Partitioned"),c},Uw={create(n,e,t,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),r&&(o.domain=r),document.cookie=oR(n,e,o)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let o=t[r];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var iR={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return Uw.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:o,cookieOptions:c}=e;t&&typeof document<"u"&&Uw.create(t,n,r,o,c)}},aR={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const u=o.substring(1).split("&");for(let h=0;h<u.length;h++){const p=u[h].indexOf("=");p>0&&u[h].substring(0,p)===e&&(t=u[h].substring(p+1))}}return t}},lR={name:"hash",lookup(n){var o;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const u=c.substring(1);if(e){const h=u.split("&");for(let p=0;p<h.length;p++){const g=h[p].indexOf("=");g>0&&h[p].substring(0,g)===e&&(r=h[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(o=h[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}}}return r}};let Au=null;const Bw=()=>{if(Au!==null)return Au;try{if(Au=typeof window<"u"&&window.localStorage!==null,!Au)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Au=!1}return Au};var cR={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Bw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Bw()&&window.localStorage.setItem(t,n)}};let Mu=null;const Ww=()=>{if(Mu!==null)return Mu;try{if(Mu=typeof window<"u"&&window.sessionStorage!==null,!Mu)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Mu=!1}return Mu};var uR={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Ww())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Ww()&&window.sessionStorage.setItem(t,n)}},dR={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:o}=navigator;if(t)for(let c=0;c<t.length;c++)e.push(t[c]);r&&e.push(r),o&&e.push(o)}return e.length>0?e:void 0}},fR={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},hR={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},pR={name:"subdomain",lookup(n){var o,c;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((c=(o=window.location)==null?void 0:o.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let B1=!1;try{document.cookie,B1=!0}catch{}const W1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];B1||W1.splice(1,1);const mR=()=>({order:W1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class H1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=rR(t,this.options||{},mR()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(iR),this.addDetector(aR),this.addDetector(cR),this.addDetector(uR),this.addDetector(dR),this.addDetector(fR),this.addDetector(hR),this.addDetector(pR),this.addDetector(lR)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let o=this.detectors[r].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(r=>r!=null&&!sR(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}H1.type="languageDetector";const gR={en:{common:{app:{name:"Hotel PMS",tagline:"Professional Property Management System"},navigation:{dashboard:"Dashboard",bookings:"Bookings",calendar:"Calendar",rooms:"Rooms",guests:"Guests",chat:"Messages",channels:"Channel Manager",reports:"Reports",settings:"Settings"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",export:"Export",import:"Import",sync:"Synchronize",connect:"Connect",disconnect:"Disconnect",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",select:"Select",signOut:"Sign Out"}},dashboard:{title:"Booking Calendar",subtitle:"Manage your reservations",navigation:{previousMonth:"Previous month",nextMonth:"Next month",today:"Today"},actions:{newReservation:"New reservation",signOut:"Sign out"},grid:{rooms:"Rooms",loading:"Loading calendar...",noData:"No rooms available",dragToSelect:"Drag to select dates"},errors:{loadingBookings:"Error loading bookings",loadingData:"Error loading data"}},bookings:{title:"Bookings",search:{placeholder:"Search by guest name..."},filter:{allStatuses:"All statuses",byStatus:"Filter by status"},status:{confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",checked_in:"Checked In",checked_out:"Checked Out"},table:{guest:"Guest",source:"Source",room:"Room",dates:"Dates",status:"Status",accommodation:"Accommodation",services:"Services",paid:"Paid",balance:"Balance",noResults:"No bookings found",unknownGuest:"Unknown Guest"},actions:{newBooking:"New Booking",edit:"Edit",cancel:"Cancel",checkIn:"Check In",checkOut:"Check Out"}},auth:{appName:"Hotel PMS",subtitle:"Staff access portal",tabs:{signIn:"Sign In",signUp:"Sign Up"},fields:{email:"Email",password:"Password"},placeholders:{email:"Enter your email",password:"Enter your password",passwordHint:"Minimum 6 characters"},buttons:{signIn:"Sign In",signUp:"Sign Up",signingIn:"Signing in...",signingUp:"Creating account...",signInWithGoogle:"Sign in with Google"},divider:"OR",messages:{checkEmail:"Check your email to confirm registration!"},errors:{invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please confirm your email first",signInFailed:"Sign in failed. Please try again.",signUpFailed:"Registration failed. Please try again.",googleSignIn:"Google sign in failed",passwordTooShort:"Password must be at least 6 characters",emailAlreadyRegistered:"This email is already registered"}},chat:{title:"Messages",header:"Chats",search:{placeholder:"Search messages..."},conversation:{selectChat:"Select a chat",selectChatDescription:"Choose a chat from the list to view the conversation",noMessages:"No messages yet",typeMessage:"Type a message...",send:"Send",unknownContact:"Unknown contact"}},booking:{grid:{rooms:"Rooms",loading:"Loading calendar...",guest:"Guest",hasDebt:"Has outstanding balance"},title:"New Reservation",editTitle:"Edit Booking",tabs:{details:"Details & Finance",services:"Services"},guest:{title:"Guest Information",fullName:"Full Name",phone:"Phone",email:"Email"},details:{title:"Booking Details",room:"Room",selectRoom:"Select room...",noAvailableRooms:"No available rooms for these dates",checkIn:"Check-in",checkOut:"Check-out",guestCount:"Number of Guests",status:"Status",source:"Source",notes:"Notes",notesPlaceholder:"Additional notes..."},finance:{title:"Finance",accommodation:"Accommodation ({{nights}} nights)",orderedServices:"Ordered Services:",noServices:"None",total:"Total",paid:"Paid",balance:"Balance Due"},services:{available:"Available Services",cart:"Service Cart",ordered:"Ordered Services",addToCart:"Add",cartEmpty:"Cart is empty",noOrdered:"No services added",addSelected:"Add Selected Services"},actions:{save:"Save",cancel:"Cancel",delete:"Delete Booking",saving:"Saving..."},status:{pending:"Pending",confirmed:"Confirmed",checkedIn:"Checked In",checkedOut:"Checked Out",cancelled:"Cancelled"},sources:{direct:"Direct",website:"Website",phone:"Phone",aiAgent:"AI Agent",other:"Other"},errors:{guestNameRequired:"Guest name is required"},messages:{confirmDelete:"Are you sure you want to delete this booking? This action cannot be undone."},popover:{unknownGuest:"Unknown Guest",stayPeriod:"Stay Period",duration:"Duration",guestCount:"Number of Guests",comment:"Comment",additionalServices:"Additional Services",accommodation:"Accommodation",services:"Services",total:"Total",toPay:"To Pay",paidFully:"Paid in Full",alreadyPaid:"Already Paid"},roomTypes:{single:"Single",double:"Double",twin:"Twin",suite:"Suite",deluxe:"Deluxe",standard:"Standard",economy:"Economy",family:"Family"}}},ru:{common:{app:{name:"Отель PMS",tagline:"Профессиональная система управления недвижимостью"},navigation:{dashboard:"Главная",bookings:"Бронирования",calendar:"Календарь",rooms:"Номера",guests:"Гости",chat:"Сообщения",channels:"Каналы продаж",reports:"Отчеты",settings:"Настройки"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",create:"Создать",search:"Поиск",filter:"Фильтр",export:"Экспорт",import:"Импорт",sync:"Синхронизировать",connect:"Подключить",disconnect:"Отключить",refresh:"Обновить",back:"Назад",next:"Далее",previous:"Назад",close:"Закрыть",confirm:"Подтвердить",select:"Выбрать",signOut:"Выйти"}},dashboard:{title:"Календарь бронирований",subtitle:"Управление бронированиями",navigation:{previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",today:"Сегодня"},actions:{newReservation:"Новое бронирование",signOut:"Выйти"},grid:{rooms:"Номера",loading:"Загрузка календаря...",noData:"Нет доступных номеров",dragToSelect:"Перетащите для выбора дат"},errors:{loadingBookings:"Ошибка загрузки бронирований",loadingData:"Ошибка загрузки данных"}},bookings:{title:"Бронирования",search:{placeholder:"Поиск по имени гостя..."},filter:{allStatuses:"Все статусы",byStatus:"Фильтр по статусу"},status:{confirmed:"Подтверждено",pending:"Не подтверждено",cancelled:"Отменено",checked_in:"Проживание",checked_out:"Выехал"},table:{guest:"Гость",source:"Источник",room:"Номер",dates:"Даты",status:"Статус",accommodation:"Проживание",services:"Услуги",paid:"Оплачено",balance:"К оплате",noResults:"Бронирования не найдены",unknownGuest:"Неизвестный гость"},actions:{newBooking:"Новая бронь",edit:"Редактировать",cancel:"Отменить",checkIn:"Заселить",checkOut:"Выселить"}},auth:{appName:"Отель PMS",subtitle:"Вход для персонала",tabs:{signIn:"Войти",signUp:"Регистрация"},fields:{email:"Email",password:"Пароль"},placeholders:{email:"Введите email",password:"Введите пароль",passwordHint:"Минимум 6 символов"},buttons:{signIn:"Войти",signUp:"Зарегистрироваться",signingIn:"Вход...",signingUp:"Создание аккаунта...",signInWithGoogle:"Войти через Google"},divider:"ИЛИ",messages:{checkEmail:"Проверьте вашу почту для подтверждения регистрации!"},errors:{invalidCredentials:"Неверный email или пароль",emailNotConfirmed:"Пожалуйста, подтвердите email",signInFailed:"Ошибка входа. Попробуйте снова.",signUpFailed:"Ошибка регистрации. Попробуйте снова.",googleSignIn:"Ошибка входа через Google",passwordTooShort:"Пароль должен быть минимум 6 символов",emailAlreadyRegistered:"Этот email уже зарегистрирован"}},chat:{title:"Сообщения",header:"Чаты",search:{placeholder:"Поиск по сообщениям..."},conversation:{selectChat:"Выберите диалог",selectChatDescription:"Выберите чат из списка слева, чтобы начать общение",noMessages:"Сообщений пока нет",typeMessage:"Введите сообщение...",send:"Отправить",unknownContact:"Неизвестный контакт"}},grid:{rooms:"Номера",loading:"Загрузка календаря...",guest:"Гость",hasDebt:"Есть задолженность"},title:"Новое бронирование",editTitle:"Редактирование брони",tabs:{details:"Детали и Финансы",services:"Услуги"},guest:{title:"Информация о госте",fullName:"ФИО",phone:"Телефон",email:"Email"},details:{title:"Детали бронирования",room:"Номер",selectRoom:"Выберите номер...",noAvailableRooms:"Свободных номеров на эти даты нет",checkIn:"Заезд",checkOut:"Выезд",guestCount:"Кол-во гостей",status:"Статус",source:"Источник",notes:"Комментарий",notesPlaceholder:"Дополнительные заметки..."},finance:{title:"Финансы",accommodation:"Проживание ({{nights}} дн.)",orderedServices:"Заказанные услуги:",noServices:"Нет",total:"Итого",paid:"Оплачено",balance:"К оплате"},services:{available:"Доступные услуги",cart:"Корзина услуг",ordered:"Заказанные услуги",addToCart:"В корзину",cartEmpty:"Корзина пуста",noOrdered:"Услуги не добавлены",addSelected:"Добавить выбранные услуги"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить бронь",saving:"Сохранение..."},status:{pending:"Не подтверждено",confirmed:"Подтверждено",checkedIn:"Проживание",checkedOut:"Выезд",cancelled:"Отменено"},sources:{direct:"Напрямую",website:"Сайт",phone:"Телефон",aiAgent:"AI-агент",other:"Другое"},errors:{guestNameRequired:"Необходимо указать имя гостя"},messages:{confirmDelete:"Вы уверены, что хотите удалить это бронирование? Это действие нельзя отменить."},popover:{unknownGuest:"Неизвестный гость",stayPeriod:"Период проживания",duration:"Длительность",guestCount:"Количество гостей",comment:"Комментарий",additionalServices:"Дополнительные услуги",accommodation:"Проживание",services:"Услуги",total:"Итого",toPay:"К оплате",paidFully:"Оплачено полностью",alreadyPaid:"Уже оплачено"},roomTypes:{single:"Одноместный",double:"Двухместный",twin:"Твин",suite:"Люкс",deluxe:"Делюкс",standard:"Стандарт",economy:"Эконом",family:"Семейный"}}};er.use(H1).use(YP).init({resources:gR,lng:"en",fallbackLng:"en",ns:["common","dashboard","bookings","auth","chat"],defaultNS:"common",interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie","navigator"],caches:["localStorage","cookie"],cookieName:"pms_language",lookupLocalStorage:"pms_language"},react:{useSuspense:!1},debug:!0});function Qr(n="common"){const{t:e,i18n:t}=eR(n);return{t:e,i18n:t,formatDate:(u,h="short")=>new Intl.DateTimeFormat(t.language,{dateStyle:h}).format(new Date(u)),formatCurrency:(u,h="USD")=>new Intl.NumberFormat(t.language,{style:"currency",currency:h}).format(u),formatNumber:u=>new Intl.NumberFormat(t.language).format(u),currentLanguage:t.language,changeLanguage:t.changeLanguage}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Hw="popstate";function vR(n={}){function e(r,o){let{pathname:c,search:u,hash:h}=r.location;return a0("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:_h(o)}return yR(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Eo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function Vw(n,e){return{usr:n.state,key:n.key,idx:e}}function a0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?dd(e):e,state:t,key:e&&e.key||r||xR()}}function _h({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function dd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yR(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",p=null,g=x();g==null&&(g=0,u.replaceState({...u.state,idx:g},""));function x(){return(u.state||{idx:null}).idx}function y(){h="POP";let k=x(),R=k==null?null:k-g;g=k,p&&p({action:h,location:P.location,delta:R})}function b(k,R){h="PUSH";let N=a0(P.location,k,R);g=x()+1;let T=Vw(N,g),A=P.createHref(N);try{u.pushState(T,"",A)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;o.location.assign(A)}c&&p&&p({action:h,location:P.location,delta:1})}function C(k,R){h="REPLACE";let N=a0(P.location,k,R);g=x();let T=Vw(N,g),A=P.createHref(N);u.replaceState(T,"",A),c&&p&&p({action:h,location:P.location,delta:0})}function E(k){return wR(k)}let P={get action(){return h},get location(){return n(o,u)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Hw,y),p=k,()=>{o.removeEventListener(Hw,y),p=null}},createHref(k){return e(o,k)},createURL:E,encodeLocation(k){let R=E(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:C,go(k){return u.go(k)}};return P}function wR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:_h(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function V1(n,e,t="/"){return _R(n,e,t,!1)}function _R(n,e,t,r){let o=typeof e=="string"?dd(e):e,c=Ci(o.pathname||"/",t);if(c==null)return null;let u=G1(n);bR(u);let h=null;for(let p=0;h==null&&p<u.length;++p){let g=IR(c);h=TR(u[p],g,r)}return h}function G1(n,e=[],t=[],r=""){let o=(c,u,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};p.relativePath.startsWith("/")&&(Zt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=ki([r,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),G1(c.children,e,x,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:PR(g,c.index),routesMeta:x})};return n.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,u);else for(let p of q1(c.path))o(c,u,p)}),e}function q1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=q1(r.join("/")),h=[];return h.push(...u.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...u),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function bR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SR=/^:[\w-]+$/,jR=3,NR=2,kR=1,CR=10,ER=-2,Gw=n=>n==="*";function PR(n,e){let t=n.split("/"),r=t.length;return t.some(Gw)&&(r+=ER),e&&(r+=NR),t.filter(o=>!Gw(o)).reduce((o,c)=>o+(SR.test(c)?jR:c===""?kR:CR),r)}function RR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function TR(n,e,t=!1){let{routesMeta:r}=n,o={},c="/",u=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=og({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),b=p.route;if(!y&&g&&t&&!r[r.length-1].route.index&&(y=og({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:ki([c,y.pathname]),pathnameBase:LR(ki([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=ki([c,y.pathnameBase]))}return u}function og(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OR(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:y},b)=>{if(x==="*"){let E=h[b]||"";u=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const C=h[b];return y&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:u,pattern:n}}function OR(n,e=!1,t=!0){Eo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function IR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Eo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Ci(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AR(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?dd(n):n;return{pathname:t?t.startsWith("/")?t:MR(t,e):e,search:$R(r),hash:FR(o)}}function MR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jx(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function K1(n){let e=DR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Y1(n,e,t,r=!1){let o;typeof n=="string"?o=dd(n):(o={...n},Zt(!o.pathname||!o.pathname.includes("?"),jx("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),jx("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),jx("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}h=y>=0?e[y]:"/"}let p=AR(o,h),g=u&&u!=="/"&&u.endsWith("/"),x=(c||u===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var ki=n=>n.join("/").replace(/\/\/+/g,"/"),LR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var J1=["POST","PUT","PATCH","DELETE"];new Set(J1);var UR=["GET",...J1];new Set(UR);var fd=w.createContext(null);fd.displayName="DataRouter";var Pg=w.createContext(null);Pg.displayName="DataRouterState";w.createContext(!1);var X1=w.createContext({isTransitioning:!1});X1.displayName="ViewTransition";var BR=w.createContext(new Map);BR.displayName="Fetchers";var WR=w.createContext(null);WR.displayName="Await";var Oo=w.createContext(null);Oo.displayName="Navigation";var Th=w.createContext(null);Th.displayName="Location";var Oi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Oi.displayName="Route";var H0=w.createContext(null);H0.displayName="RouteError";function HR(n,{relative:e}={}){Zt(Oh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(Oo),{hash:o,pathname:c,search:u}=Ih(n,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:ki([t,c])),r.createHref({pathname:h,search:u,hash:o})}function Oh(){return w.useContext(Th)!=null}function Ta(){return Zt(Oh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Th).location}var Q1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Z1(n){w.useContext(Oo).static||w.useLayoutEffect(n)}function eb(){let{isDataRoute:n}=w.useContext(Oi);return n?rT():VR()}function VR(){Zt(Oh(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(fd),{basename:e,navigator:t}=w.useContext(Oo),{matches:r}=w.useContext(Oi),{pathname:o}=Ta(),c=JSON.stringify(K1(r)),u=w.useRef(!1);return Z1(()=>{u.current=!0}),w.useCallback((p,g={})=>{if(Eo(u.current,Q1),!u.current)return;if(typeof p=="number"){t.go(p);return}let x=Y1(p,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:ki([e,x.pathname])),(g.replace?t.replace:t.push)(x,g.state,g)},[e,t,c,o,n])}w.createContext(null);function Ih(n,{relative:e}={}){let{matches:t}=w.useContext(Oi),{pathname:r}=Ta(),o=JSON.stringify(K1(t));return w.useMemo(()=>Y1(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function GR(n,e){return tb(n,e)}function tb(n,e,t,r){var R;Zt(Oh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Oo),{matches:c}=w.useContext(Oi),u=c[c.length-1],h=u?u.params:{},p=u?u.pathname:"/",g=u?u.pathnameBase:"/",x=u&&u.route;{let N=x&&x.path||"";nb(p,!x||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let y=Ta(),b;if(e){let N=typeof e=="string"?dd(e):e;Zt(g==="/"||((R=N.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${N.pathname}" was given in the \`location\` prop.`),b=N}else b=y;let C=b.pathname||"/",E=C;if(g!=="/"){let N=g.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(N.length).join("/")}let P=V1(n,{pathname:E});Eo(x||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Eo(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=XR(P&&P.map(N=>Object.assign({},N,{params:Object.assign({},h,N.params),pathname:ki([g,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?g:ki([g,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),c,t,r);return e&&k?w.createElement(Th.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function qR(){let n=nT(),e=zR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,u)}var KR=w.createElement(qR,null),YR=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Oi.Provider,{value:this.props.routeContext},w.createElement(H0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:n,match:e,children:t}){let r=w.useContext(fd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Oi.Provider,{value:n},t)}function XR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Zt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let u=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:y}=t,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let y,b=!1,C=null,E=null;t&&(y=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||KR,u&&(h<0&&x===0?(nb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):h===x&&(b=!0,E=g.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,x+1)),k=()=>{let R;return y?R=C:b?R=E:g.route.Component?R=w.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,w.createElement(JR,{match:g,routeContext:{outlet:p,matches:P,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(YR,{location:t.location,revalidation:t.revalidation,component:C,error:y,children:k(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):k()},null)}function V0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(n){let e=w.useContext(fd);return Zt(e,V0(n)),e}function ZR(n){let e=w.useContext(Pg);return Zt(e,V0(n)),e}function eT(n){let e=w.useContext(Oi);return Zt(e,V0(n)),e}function G0(n){let e=eT(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tT(){return G0("useRouteId")}function nT(){var r;let n=w.useContext(H0),e=ZR("useRouteError"),t=G0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rT(){let{router:n}=QR("useNavigate"),e=G0("useNavigate"),t=w.useRef(!1);return Z1(()=>{t.current=!0}),w.useCallback(async(o,c={})=>{Eo(t.current,Q1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var qw={};function nb(n,e,t){!e&&!qw[n]&&(qw[n]=!0,Eo(!1,t))}w.memo(sT);function sT({routes:n,future:e,state:t}){return tb(n,void 0,t,e)}function dr(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Zt(!Oh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=dd(t));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:b="default"}=t,C=w.useMemo(()=>{let E=Ci(p,u);return E==null?null:{location:{pathname:E,search:g,hash:x,state:y,key:b},navigationType:r}},[u,p,g,x,y,b,r]);return Eo(C!=null,`<Router basename="${u}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(Oo.Provider,{value:h},w.createElement(Th.Provider,{children:e,value:C}))}function iT({children:n,location:e}){return GR(l0(n),e)}function l0(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let c=[...e,o];if(r.type===w.Fragment){t.push.apply(t,l0(r.props.children,c));return}Zt(r.type===dr,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=l0(r.props.children,c)),t.push(u)}),t}var qm="get",Km="application/x-www-form-urlencoded";function Rg(n){return n!=null&&typeof n.tagName=="string"}function aT(n){return Rg(n)&&n.tagName.toLowerCase()==="button"}function lT(n){return Rg(n)&&n.tagName.toLowerCase()==="form"}function cT(n){return Rg(n)&&n.tagName.toLowerCase()==="input"}function uT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dT(n,e){return n.button===0&&(!e||e==="_self")&&!uT(n)}var Rm=null;function fT(){if(Rm===null)try{new FormData(document.createElement("form"),0),Rm=!1}catch{Rm=!0}return Rm}var hT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Nx(n){return n!=null&&!hT.has(n)?(Eo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Km}"`),null):n}function pT(n,e){let t,r,o,c,u;if(lT(n)){let h=n.getAttribute("action");r=h?Ci(h,e):null,t=n.getAttribute("method")||qm,o=Nx(n.getAttribute("enctype"))||Km,c=new FormData(n)}else if(aT(n)||cT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?Ci(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||qm,o=Nx(n.getAttribute("formenctype"))||Nx(h.getAttribute("enctype"))||Km,c=new FormData(h,n),!fT()){let{name:g,type:x,value:y}=n;if(x==="image"){let b=g?`${g}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else g&&c.append(g,y)}}else{if(Rg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=qm,r=null,o=Km,u=n}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function q0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mT(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Ci(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function gT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xT(n,e,t){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await gT(c,t);return u.links?u.links():[]}return[]}));return bT(r.flat(1).filter(vT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Kw(n,e,t,r,o,c){let u=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>{var x;return t[g].pathname!==p.pathname||((x=t[g].route.path)==null?void 0:x.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>u(p,g)||h(p,g)):c==="data"?e.filter((p,g)=>{var y;let x=r.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(u(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yT(n,e,{includeHydrateFallback:t}={}){return wT(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function wT(n){return[...new Set(n)]}function _T(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bT(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(_T(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function rb(){let n=w.useContext(fd);return q0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ST(){let n=w.useContext(Pg);return q0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var K0=w.createContext(void 0);K0.displayName="FrameworkContext";function sb(){let n=w.useContext(K0);return q0(n,"You must render this element inside a <HydratedRouter> element"),n}function jT(n,e){let t=w.useContext(K0),[r,o]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=R=>{R.forEach(N=>{u(N.isIntersecting)})},k=new IntersectionObserver(P,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),w.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let C=()=>{o(!0)},E=()=>{o(!1),u(!1)};return t?n!=="intent"?[c,b,{}]:[c,b,{onFocus:eh(h,C),onBlur:eh(p,E),onMouseEnter:eh(g,C),onMouseLeave:eh(x,E),onTouchStart:eh(y,C)}]:[!1,b,{}]}function eh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function NT({page:n,...e}){let{router:t}=rb(),r=w.useMemo(()=>V1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(CT,{page:n,matches:r,...e}):null}function kT(n){let{manifest:e,routeModules:t}=sb(),[r,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return xT(n,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[n,e,t]),r}function CT({page:n,matches:e,...t}){let r=Ta(),{manifest:o,routeModules:c}=sb(),{basename:u}=rb(),{loaderData:h,matches:p}=ST(),g=w.useMemo(()=>Kw(n,e,p,o,r,"data"),[n,e,p,o,r]),x=w.useMemo(()=>Kw(n,e,p,o,r,"assets"),[n,e,p,o,r]),y=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,P=!1;if(e.forEach(R=>{var T;let N=o.routes[R.route.id];!N||!N.hasLoader||(!g.some(A=>A.route.id===R.route.id)&&R.route.id in h&&((T=c[R.route.id])!=null&&T.shouldRevalidate)||N.hasClientLoader?P=!0:E.add(R.route.id))}),E.size===0)return[];let k=mT(n,u,"data");return P&&E.size>0&&k.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[u,h,r,o,g,e,n,c]),b=w.useMemo(()=>yT(x,o),[x,o]),C=kT(x);return w.createElement(w.Fragment,null,y.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),C.map(({key:E,link:P})=>w.createElement("link",{key:E,...P})))}function ET(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ob&&(window.__reactRouterVersion="7.7.1")}catch{}function PT({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=vR({window:t,v5Compat:!0}));let o=r.current,[c,u]=w.useState({action:o.action,location:o.location}),h=w.useCallback(p=>{w.startTransition(()=>u(p))},[u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(oT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var ib=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ab=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:p,to:g,preventScrollReset:x,viewTransition:y,...b},C){let{basename:E}=w.useContext(Oo),P=typeof g=="string"&&ib.test(g),k,R=!1;if(typeof g=="string"&&P&&(k=g,ob))try{let G=new URL(window.location.href),X=g.startsWith("//")?new URL(G.protocol+g):new URL(g),ne=Ci(X.pathname,E);X.origin===G.origin&&ne!=null?g=ne+X.search+X.hash:R=!0}catch{Eo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let N=HR(g,{relative:o}),[T,A,M]=jT(r,b),W=IT(g,{replace:u,state:h,target:p,preventScrollReset:x,relative:o,viewTransition:y});function F(G){e&&e(G),G.defaultPrevented||W(G)}let $=w.createElement("a",{...b,...M,href:k||N,onClick:R||c?e:F,ref:ET(C,A),target:p,"data-discover":!P&&t==="render"?"true":void 0});return T&&!P?w.createElement(w.Fragment,null,$,w.createElement(NT,{page:N})):$});ab.displayName="Link";var RT=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:p,...g},x){let y=Ih(u,{relative:g.relative}),b=Ta(),C=w.useContext(Pg),{navigator:E,basename:P}=w.useContext(Oo),k=C!=null&&$T(y)&&h===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,N=b.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(N=N.toLowerCase(),T=T?T.toLowerCase():null,R=R.toLowerCase()),T&&P&&(T=Ci(T,P)||T);const A=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let M=N===R||!o&&N.startsWith(R)&&N.charAt(A)==="/",W=T!=null&&(T===R||!o&&T.startsWith(R)&&T.charAt(R.length)==="/"),F={isActive:M,isPending:W,isTransitioning:k},$=M?e:void 0,G;typeof r=="function"?G=r(F):G=[r,M?"active":null,W?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(F):c;return w.createElement(ab,{...g,"aria-current":$,className:G,ref:x,style:X,to:u,viewTransition:h},typeof p=="function"?p(F):p)});RT.displayName="NavLink";var TT=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:u=qm,action:h,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...b},C)=>{let E=DT(),P=LT(h,{relative:g}),k=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&ib.test(h),N=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,M=(A==null?void 0:A.getAttribute("formmethod"))||u;E(A||T.currentTarget,{fetcherKey:e,method:M,navigate:t,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:y})};return w.createElement("form",{ref:C,method:k,action:P,onSubmit:r?p:N,...b,"data-discover":!R&&n==="render"?"true":void 0})});TT.displayName="Form";function OT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lb(n){let e=w.useContext(fd);return Zt(e,OT(n)),e}function IT(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let h=eb(),p=Ta(),g=Ih(n,{relative:c});return w.useCallback(x=>{if(dT(x,e)){x.preventDefault();let y=t!==void 0?t:_h(p)===_h(g);h(n,{replace:y,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[p,h,g,t,r,e,n,o,c,u])}var AT=0,MT=()=>`__${String(++AT)}__`;function DT(){let{router:n}=lb("useSubmit"),{basename:e}=w.useContext(Oo),t=tT();return w.useCallback(async(r,o={})=>{let{action:c,method:u,encType:h,formData:p,body:g}=pT(r,e);if(o.navigate===!1){let x=o.fetcherKey||MT();await n.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function LT(n,{relative:e}={}){let{basename:t}=w.useContext(Oo),r=w.useContext(Oi);Zt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Ih(n||".",{relative:e})},u=Ta();if(n==null){c.search=u.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(x=>x==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let x=h.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:ki([t,c.pathname])),_h(c)}function $T(n,{relative:e}={}){let t=w.useContext(X1);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=lb("useViewTransitionState"),o=Ih(n,{relative:e});if(!t.isTransitioning)return!1;let c=Ci(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Ci(t.nextLocation.pathname,r)||t.nextLocation.pathname;return og(o.pathname,u)!=null||og(o.pathname,c)!=null}var Ah=D1();const FT=kg(Ah),zT="modulepreload",UT=function(n){return"/"+n},Yw={},hd=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let u=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(t.map(g=>{if(g=UT(g),g in Yw)return;Yw[g]=!0;const x=g.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":zT,x||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),x)return new Promise((C,E)=>{b.addEventListener("load",C),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},BT=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>hd(async()=>{const{default:r}=await Promise.resolve().then(()=>pd);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class Y0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class WT extends Y0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Jw extends Y0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xw extends Y0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var c0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(c0||(c0={}));var HT=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class VT{constructor(e,{headers:t={},customFetch:r,region:o=c0.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=BT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return HT(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=t;let h={},{region:p}=t;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=u):typeof u=="string"?(h["Content-Type"]="text/plain",x=u):typeof FormData<"u"&&u instanceof FormData?x=u:(h["Content-Type"]="application/json",x=JSON.stringify(u)));const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x}).catch(P=>{throw new WT(P)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Jw(y);if(!y.ok)throw new Xw(y);let C=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield y.json():C==="application/octet-stream"?E=yield y.blob():C==="text/event-stream"?E=y:C==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Xw||o instanceof Jw?o.context:void 0}}})}}var An={},Du={},Lu={},$u={},Fu={},zu={},GT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ld=GT();const qT=ld.fetch,cb=ld.fetch.bind(ld),ub=ld.Headers,KT=ld.Request,YT=ld.Response,pd=Object.freeze(Object.defineProperty({__proto__:null,Headers:ub,Request:KT,Response:YT,default:cb,fetch:qT},Symbol.toStringTag,{value:"Module"})),JT=cP(pd);var Tm={},Qw;function db(){if(Qw)return Tm;Qw=1,Object.defineProperty(Tm,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Tm.default=n,Tm}var Zw;function fb(){if(Zw)return zu;Zw=1;var n=zu&&zu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(zu,"__esModule",{value:!0});const e=n(JT),t=n(db());class r{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,b;let C=null,E=null,P=null,k=g.status,R=g.statusText;if(g.ok){if(this.method!=="HEAD"){const M=await g.text();M===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=M:E=JSON.parse(M))}const T=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),A=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&A&&A.length>1&&(P=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,P=null,k=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const T=await g.text();try{C=JSON.parse(T),Array.isArray(C)&&g.status===404&&(E=[],C=null,k=200,R="OK")}catch{g.status===404&&T===""?(k=204,R="No Content"):C={message:T}}if(C&&this.isMaybeSingle&&(!((b=C==null?void 0:C.details)===null||b===void 0)&&b.includes("0 rows"))&&(C=null,k=200,R="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:E,count:P,status:k,statusText:R}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,y,b;return{error:{message:`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(y=g==null?void 0:g.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=g==null?void 0:g.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,u)}returns(){return this}overrideTypes(){return this}}return zu.default=r,zu}var e_;function hb(){if(e_)return Fu;e_=1;var n=Fu&&Fu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Fu,"__esModule",{value:!0});const e=n(fb());class t extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var x;const y=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${b}"; options=${y};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Fu.default=t,Fu}var t_;function J0(){if(t_)return $u;t_=1;var n=$u&&$u.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($u,"__esModule",{value:!0});const e=n(hb());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return $u.default=t,$u}var n_;function pb(){if(n_)return Lu;n_=1;var n=Lu&&Lu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Lu,"__esModule",{value:!0});const e=n(J0());class t{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),u||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const g=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:p=!0}={}){const g="POST",x=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const y=o.reduce((b,C)=>b.concat(Object.keys(C)),[]);if(y.length>0){const b=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Lu.default=t,Lu}var th={},nh={},r_;function XT(){return r_||(r_=1,Object.defineProperty(nh,"__esModule",{value:!0}),nh.version=void 0,nh.version="0.0.0-automated"),nh}var s_;function QT(){if(s_)return th;s_=1,Object.defineProperty(th,"__esModule",{value:!0}),th.DEFAULT_HEADERS=void 0;const n=XT();return th.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},th}var o_;function ZT(){if(o_)return Du;o_=1;var n=Du&&Du.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Du,"__esModule",{value:!0});const e=n(pb()),t=n(J0()),r=QT();class o{constructor(u,{headers:h={},schema:p,fetch:g}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=g}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:p=!1,get:g=!1,count:x}={}){let y;const b=new URL(`${this.url}/rpc/${u}`);let C;p||g?(y=p?"HEAD":"GET",Object.entries(h).filter(([P,k])=>k!==void 0).map(([P,k])=>[P,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([P,k])=>{b.searchParams.append(P,k)})):(y="POST",C=h);const E=Object.assign({},this.headers);return x&&(E.Prefer=`count=${x}`),new t.default({method:y,url:b,headers:E,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Du.default=o,Du}var i_;function eO(){if(i_)return An;i_=1;var n=An&&An.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(An,"__esModule",{value:!0}),An.PostgrestError=An.PostgrestBuilder=An.PostgrestTransformBuilder=An.PostgrestFilterBuilder=An.PostgrestQueryBuilder=An.PostgrestClient=void 0;const e=n(ZT());An.PostgrestClient=e.default;const t=n(pb());An.PostgrestQueryBuilder=t.default;const r=n(J0());An.PostgrestFilterBuilder=r.default;const o=n(hb());An.PostgrestTransformBuilder=o.default;const c=n(fb());An.PostgrestBuilder=c.default;const u=n(db());return An.PostgrestError=u.default,An.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},An}var tO=eO();const nO=kg(tO),{PostgrestClient:rO,PostgrestQueryBuilder:Az,PostgrestFilterBuilder:Mz,PostgrestTransformBuilder:Dz,PostgrestBuilder:Lz,PostgrestError:$z}=nO;function sO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const oO=sO(),iO="2.11.15",aO=`realtime-js/${iO}`,lO="1.0.0",mb=1e4,cO=1e3;var hh;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(hh||(hh={}));var Zn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Zn||(Zn={}));var zs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(zs||(zs={}));var u0;(function(n){n.websocket="websocket"})(u0||(u0={}));var Bl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Bl||(Bl={}));class uO{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),c=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const p=r.decode(e.slice(u,u+c));u=u+c;const g=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class gb{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Wt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Wt||(Wt={}));const a_=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((c,u)=>(c[u]=dO(u,n,e,o),c),{})},dO=(n,e,t,r)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,u=t[n];return c&&!r.includes(c)?vb(c,u):d0(u)},vb=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return mO(e,t)}switch(n){case Wt.bool:return fO(e);case Wt.float4:case Wt.float8:case Wt.int2:case Wt.int4:case Wt.int8:case Wt.numeric:case Wt.oid:return hO(e);case Wt.json:case Wt.jsonb:return pO(e);case Wt.timestamp:return gO(e);case Wt.abstime:case Wt.date:case Wt.daterange:case Wt.int4range:case Wt.int8range:case Wt.money:case Wt.reltime:case Wt.text:case Wt.time:case Wt.timestamptz:case Wt.timetz:case Wt.tsrange:case Wt.tstzrange:return d0(e);default:return d0(e)}},d0=n=>n,fO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},hO=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},pO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},mO=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,t);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>vb(e,h))}return n},gO=n=>typeof n=="string"?n.replace(" ","T"):n,xb=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class kx{constructor(e,t,r={},o=mb){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var l_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(l_||(l_={}));class ph{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ph.syncState(this.state,o,c,u),this.pendingDiffs.forEach(p=>{this.state=ph.syncDiff(this.state,p,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=ph.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const c=this.cloneDeep(e),u=this.transformState(t),h={},p={};return this.map(c,(g,x)=>{u[g]||(p[g]=x)}),this.map(u,(g,x)=>{const y=c[g];if(y){const b=x.map(k=>k.presence_ref),C=y.map(k=>k.presence_ref),E=x.filter(k=>C.indexOf(k.presence_ref)<0),P=y.filter(k=>b.indexOf(k.presence_ref)<0);E.length>0&&(h[g]=E),P.length>0&&(p[g]=P)}else h[g]=x}),this.syncDiff(c,{joins:h,leaves:p},r,o)}static syncDiff(e,t,r,o){const{joins:c,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(h,p)=>{var g;const x=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),x.length>0){const y=e[h].map(C=>C.presence_ref),b=x.filter(C=>y.indexOf(C.presence_ref)<0);e[h].unshift(...b)}r(h,x,p)}),this.map(u,(h,p)=>{let g=e[h];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),e[h]=g,o(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var c_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(c_||(c_={}));var u_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(u_||(u_={}));var yi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(yi||(yi={}));class X0{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Zn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new kx(this,zs.join,this.params,this.timeout),this.rejoinTimer=new gb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Zn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Zn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Zn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(zs.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new ph(this),this.broadcastEndpointURL=xb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Zn.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(x=>e==null?void 0:e(yi.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(yi.CLOSED));const p={},g={broadcast:c,presence:u,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(yi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,E=[];for(let P=0;P<C;P++){const k=b[P],{filter:{event:R,schema:N,table:T,filter:A}}=k,M=x&&x[P];if(M&&M.event===R&&M.schema===N&&M.table===T&&M.filter===A)E.push(Object.assign(Object.assign({},k),{id:M.id}));else{this.unsubscribe(),this.state=Zn.errored,e==null||e(yi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(yi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Zn.errored,e==null||e(yi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(yi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Zn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(zs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new kx(this,zs.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),u}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new kx(this,e,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:x}=zs;if(r&&[h,p,g,x].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(C=>{var E,P,k;return((E=C.filter)===null||E===void 0?void 0:E.event)==="*"||((k=(P=C.filter)===null||P===void 0?void 0:P.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===u}).map(C=>C.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(C=>{var E,P,k,R,N,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const A=C.id,M=(E=C.filter)===null||E===void 0?void 0:E.event;return A&&((P=t.ids)===null||P===void 0?void 0:P.includes(A))&&(M==="*"||(M==null?void 0:M.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(N=(R=C==null?void 0:C.filter)===null||R===void 0?void 0:R.event)===null||N===void 0?void 0:N.toLocaleLowerCase();return A==="*"||A===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:P,table:k,commit_timestamp:R,type:N,errors:T}=E;b=Object.assign(Object.assign({},{schema:P,table:k,commit_timestamp:R,eventType:N,new:{},old:{},errors:T}),this._getPayloadRecords(E))}C.callback(b,r)})}_isClosed(){return this.state===Zn.closed}_isJoined(){return this.state===Zn.joined}_isJoining(){return this.state===Zn.joining}_isLeaving(){return this.state===Zn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&X0.isEqual(o.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(zs.close,{},e)}_onError(e){this._on(zs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Zn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=a_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=a_(e.columns,e.old_record)),t}}const d_=()=>{},vO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xO{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d_,this.ref=0,this.logger=d_,this.conn=null,this.sendBuffer=[],this.serializer=new uO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>hd(async()=>{const{default:p}=await Promise.resolve().then(()=>pd);return{default:p}},void 0).then(({default:p})=>p(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${u0.websocket}`,this.httpEndpoint=xb(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(c,u)=>u(JSON.stringify(c)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new gb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lO}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case hh.connecting:return Bl.Connecting;case hh.open:return Bl.Open;case hh.closing:return Bl.Closing;default:return Bl.Closed}}isConnected(){return this.connectionState()===Bl.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new X0(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:r,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:aO};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(zs.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:o,payload:c,ref:u}=t;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${r} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(zs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([vO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Q0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Mn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class yO extends Q0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class f0 extends Q0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wO=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const yb=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>hd(async()=>{const{default:r}=await Promise.resolve().then(()=>pd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},_O=()=>wO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield hd(()=>Promise.resolve().then(()=>pd),void 0)).Response:Response}),h0=n=>{if(Array.isArray(n))return n.map(t=>h0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=h0(r)}),e},bO=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var nc=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const Cx=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SO=(n,e,t)=>nc(void 0,void 0,void 0,function*(){const r=yield _O();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const c=n.status||500,u=(o==null?void 0:o.statusCode)||c+"";e(new yO(Cx(o),c,u))}).catch(o=>{e(new f0(Cx(o),o))}):e(new f0(Cx(n),n))}),jO=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(bO(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function Mh(n,e,t,r,o,c){return nc(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(t,jO(e,r,o,c)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>u(p)).catch(p=>SO(p,h,r))})})}function ig(n,e,t,r){return nc(this,void 0,void 0,function*(){return Mh(n,"GET",e,t,r)})}function wi(n,e,t,r,o){return nc(this,void 0,void 0,function*(){return Mh(n,"POST",e,r,o,t)})}function p0(n,e,t,r,o){return nc(this,void 0,void 0,function*(){return Mh(n,"PUT",e,r,o,t)})}function NO(n,e,t,r){return nc(this,void 0,void 0,function*(){return Mh(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function wb(n,e,t,r,o){return nc(this,void 0,void 0,function*(){return Mh(n,"DELETE",e,r,o,t)})}var Tr=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const kO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},f_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CO{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=yb(o)}uploadOrUpdate(e,t,r,o){return Tr(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},f_),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const p=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(t),x=this._getFinalPath(g),y=yield(e=="PUT"?p0:wi)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(Mn(c))return{data:null,error:c};throw c}})}upload(e,t,r){return Tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Tr(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let p;const g=Object.assign({upsert:f_.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield p0(this.fetch,h.toString(),p,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(Mn(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,t){return Tr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield wi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new Q0("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}update(e,t,r){return Tr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Tr(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Mn(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Tr(this,void 0,void 0,function*(){try{return{data:{path:(yield wi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Mn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Tr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield wi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(Mn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Tr(this,void 0,void 0,function*(){try{const o=yield wi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(Mn(o))return{data:null,error:o};throw o}})}download(e,t){return Tr(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield ig(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Mn(h))return{data:null,error:h};throw h}})}info(e){return Tr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield ig(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:h0(r),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}exists(e){return Tr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield NO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Mn(r)&&r instanceof f0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(e){return Tr(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}list(e,t,r){return Tr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},kO),t),{prefix:e||""});return{data:yield wi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Mn(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const EO="2.10.4",PO={"X-Client-Info":`storage-js/${EO}`};var Uu=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class RO{constructor(e,t={},r,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},PO),t),this.fetch=yb(r)}listBuckets(){return Uu(this,void 0,void 0,function*(){try{return{data:yield ig(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Mn(e))return{data:null,error:e};throw e}})}getBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield ig(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Uu(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Uu(this,void 0,void 0,function*(){try{return{data:yield p0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Mn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Uu(this,void 0,void 0,function*(){try{return{data:yield wb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Mn(t))return{data:null,error:t};throw t}})}}class TO extends RO{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new CO(this.url,this.headers,e,this.fetch)}}const OO="2.53.0";let ih="";typeof Deno<"u"?ih="deno":typeof document<"u"?ih="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ih="react-native":ih="node";const IO={"X-Client-Info":`supabase-js-${ih}/${OO}`},AO={headers:IO},MO={schema:"public"},DO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LO={};var $O=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const FO=n=>{let e;return n?e=n:typeof fetch>"u"?e=cb:e=fetch,(...t)=>e(...t)},zO=()=>typeof Headers>"u"?ub:Headers,UO=(n,e,t)=>{const r=FO(t),o=zO();return(c,u)=>$O(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:n;let g=new o(u==null?void 0:u.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},u),{headers:g}))})};var BO=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};function WO(n){return n.endsWith("/")?n:n+"/"}function HO(n,e){var t,r;const{db:o,auth:c,realtime:u,global:h}=n,{db:p,auth:g,realtime:x,global:y}=e,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BO(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}const _b="2.71.1",Qu=30*1e3,m0=3,Ex=m0*Qu,VO="http://localhost:9999",GO="supabase.auth.token",qO={"X-Client-Info":`gotrue-js/${_b}`},g0="X-Supabase-Api-Version",bb={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YO=600*1e3;class Z0 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function at(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class JO extends Z0{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function XO(n){return at(n)&&n.name==="AuthApiError"}class Sb extends Z0{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Oa extends Z0{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class wa extends Oa{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QO(n){return at(n)&&n.name==="AuthSessionMissingError"}class Om extends Oa{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Im extends Oa{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Am extends Oa{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZO(n){return at(n)&&n.name==="AuthImplicitGrantRedirectError"}class h_ extends Oa{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class v0 extends Oa{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Px(n){return at(n)&&n.name==="AuthRetryableFetchError"}class p_ extends Oa{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class x0 extends Oa{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ag="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),m_=` 	
\r=`.split(""),eI=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<m_.length;e+=1)n[m_[e].charCodeAt(0)]=-2;for(let e=0;e<ag.length;e+=1)n[ag[e].charCodeAt(0)]=e;return n})();function g_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ag[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ag[r]),e.queuedBits-=6}}function jb(n,e,t){const r=eI[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function v_(n){const e=[],t=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{rI(u,r,t)};for(let u=0;u<n.length;u+=1)jb(n.charCodeAt(u),o,c);return e.join("")}function tI(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function nI(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}tI(r,e)}}function rI(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function sI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)jb(n.charCodeAt(o),t,r);return new Uint8Array(e)}function oI(n){const e=[];return nI(n,t=>e.push(t)),new Uint8Array(e)}function iI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>g_(o,t,r)),g_(null,t,r),e.join("")}function aI(n){return Math.round(Date.now()/1e3)+n}function lI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const $s=()=>typeof window<"u"&&typeof document<"u",Ml={tested:!1,writable:!1},Nb=()=>{if(!$s())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ml.tested)return Ml.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ml.tested=!0,Ml.writable=!0}catch{Ml.tested=!0,Ml.writable=!1}return Ml.writable};function cI(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const kb=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>hd(async()=>{const{default:r}=await Promise.resolve().then(()=>pd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},uI=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Zu=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Dl=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},va=async(n,e)=>{await n.removeItem(e)};class Tg{constructor(){this.promise=new Tg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Tg.promiseConstructor=Promise;function Rx(n){const e=n.split(".");if(e.length!==3)throw new x0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!KO.test(e[r]))throw new x0("JWT not in base64url format");return{header:JSON.parse(v_(e[0])),payload:JSON.parse(v_(e[1])),signature:sI(e[2]),raw:{header:e[0],payload:e[1]}}}async function dI(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function fI(n,e){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){r(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function hI(n){return("0"+n.toString(16)).substr(-2)}function pI(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,hI).join("")}async function mI(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function gI(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await mI(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Bu(n,e,t=!1){const r=pI();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await Zu(n,`${e}-code-verifier`,o);const c=await gI(r);return[c,r===c?"plain":"s256"]}const vI=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xI(n){const e=n.headers.get(g0);if(!e||!e.match(vI))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yI(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function wI(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _I=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Wu(n){if(!_I.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tx(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function x_(n){return JSON.parse(JSON.stringify(n))}var bI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};const zl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SI=[502,503,504];async function y_(n){var e;if(!uI(n))throw new v0(zl(n),0);if(SI.includes(n.status))throw new v0(zl(n),n.status);let t;try{t=await n.json()}catch(c){throw new Sb(zl(c),c)}let r;const o=xI(n);if(o&&o.getTime()>=bb["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new p_(zl(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new wa}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new p_(zl(t),n.status,t.weak_password.reasons);throw new JO(zl(t),n.status||500,r)}const jI=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function yt(n,e,t,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[g0]||(c[g0]=bb["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",p=await NI(n,e,t+h,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function NI(n,e,t,r,o,c){const u=jI(e,r,o,c);let h;try{h=await n(t,Object.assign({},u))}catch(p){throw console.error(p),new v0(zl(p),0)}if(h.ok||await y_(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(p){await y_(p)}}function xi(n){var e;let t=null;PI(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=aI(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function w_(n){const e=xi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ba(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function kI(n){return{data:n,error:null}}function CI(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c}=n,u=bI(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},u);return{data:{properties:h,user:p},error:null}}function EI(n){return n}function PI(n){return n.access_token&&n.refresh_token&&n.expires_in}const Ox=["global","local","others"];var RI=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class TI{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=kb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Ox[0]){if(Ox.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Ox.join(", ")}`);try{return await yt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await yt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ba})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=RI(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await yt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:CI,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(at(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await yt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ba})}catch(t){if(at(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,c,u,h,p;try{const g={nextPage:null,lastPage:0,total:0},x=await yt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:EI});if(x.error)throw x.error;const y=await x.json(),b=(u=x.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(E=>{const P=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(E.split(";")[1].split("=")[1]);g[`${k}Page`]=P}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(at(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){Wu(e);try{return await yt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ba})}catch(t){if(at(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){Wu(e);try{return await yt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ba})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){Wu(e);try{return await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ba})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Wu(e.userId);try{const{data:t,error:r}=await yt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(at(t))return{data:null,error:t};throw t}}async _deleteFactor(e){Wu(e.userId),Wu(e.id);try{return{data:await yt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(at(t))return{data:null,error:t};throw t}}}function __(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function OI(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Hu={debug:!!(globalThis&&Nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Cb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class II extends Cb{}async function AI(n,e,t){Hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Hu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Hu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new II(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Hu.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}OI();const MI={url:VO,storageKey:GO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function b_(n,e,t){return await t()}const Vu={};class bh{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=bh.nextInstanceID,bh.nextInstanceID+=1,this.instanceID>0&&$s()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},MI),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new TI({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kb(o.fetch),this.lock=o.lock||b_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:$s()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=AI:this.lock=b_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=__(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=__(this.memoryStorage)),$s()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=Vu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=Vu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Vu[this.storageKey]=Object.assign(Object.assign({},Vu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${_b}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cI(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),$s()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ZO(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return at(t)?{error:t}:{error:new Sb("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const c=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:xi}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(at(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,r,o;try{let c;if("email"in e){const{email:x,password:y,options:b}=e;let C=null,E=null;this.flowType==="pkce"&&([C,E]=await Bu(this.storage,this.storageKey)),c=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:E},xform:xi})}else if("phone"in e){const{phone:x,password:y,options:b}=e;c=await yt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:xi})}else throw new Im("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const p=u.session,g=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(at(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:u,options:h}=e;t=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:w_})}else if("phone"in e){const{phone:c,password:u,options:h}=e;t=await yt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:w_})}else throw new Im("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Om}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,c,u,h,p,g,x,y,b,C;let E,P;if("message"in e)E=e.message,P=e.signature;else{const{chain:k,wallet:R,statement:N,options:T}=e;let A;if($s())if(typeof R=="object")A=R;else{const W=window;if("solana"in W&&typeof W.solana=="object"&&("signIn"in W.solana&&typeof W.solana.signIn=="function"||"signMessage"in W.solana&&typeof W.solana.signMessage=="function"))A=W.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const M=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const W=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:M.host,uri:M.href}),N?{statement:N}:null));let F;if(Array.isArray(W)&&W[0]&&typeof W[0]=="object")F=W[0];else if(W&&typeof W=="object"&&"signedMessage"in W&&"signature"in W)F=W;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),P=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${M.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...N?["",N,""]:[""],"Version: 1",`URI: ${M.href}`,`Issued At: ${(o=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const W=await A.signMessage(new TextEncoder().encode(E),"utf8");if(!W||!(W instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=W}}try{const{data:k,error:R}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:iI(P)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:xi});if(R)throw R;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Om}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:R})}catch(k){if(at(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const t=await Dl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:c,error:u}=await yt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:xi});if(await va(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Om}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(at(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:c,nonce:u}=e,h=await yt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:xi}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Om}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,c,u;try{if("email"in e){const{email:h,options:p}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Bu(this.storage,this.storageKey));const{error:y}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:x}=await yt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(u=p==null?void 0:p.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new Im("You must provide either an email or phone number.")}catch(h){if(at(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,r;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await yt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:xi});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const p=u.session,g=u.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(at(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await Bu(this.storage,this.storageKey)),await yt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:kI})}catch(c){if(at(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new wa;const{error:o}=await yt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(at(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:c}=e,{error:u}=await yt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:c}=e,{data:u,error:h}=await yt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Im("You must provide either an email or phone number and a type")}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Dl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Ex:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await Dl(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Tx()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,x)=>(!u&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ba}):await this._useSession(async t=>{var r,o,c;const{data:u,error:h}=t;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new wa}:await yt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ba})})}catch(t){if(at(t))return QO(t)&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new wa;const u=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Bu(this.storage,this.storageKey));const{data:g,error:x}=await yt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:u.access_token,xform:ba});if(x)throw x;return u.user=g.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(at(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new wa;const t=Date.now()/1e3;let r=t,o=!0,c=null;const{payload:u}=Rx(e.access_token);if(u.exp&&(r=u.exp,o=r<=t),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(at(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new wa;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(at(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!$s())throw new Am("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Am(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new h_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Am("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new h_("No code detected.");const{data:N,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:N.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!u||!g)throw new Am("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let b=x+y;p&&(b=parseInt(p));const C=b-x;C*1e3<=Qu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const E=b-y;x-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,x):x-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,x);const{data:P,error:k}=await this._getUser(c);if(k)throw k;const R={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:b,refresh_token:u,token_type:g,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(at(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Dl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{error:c};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(XO(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await va(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=lI(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:c},error:u}=t;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Bu(this.storage,this.storageKey,!0));try{return await yt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(at(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(at(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async c=>{var u,h,p,g,x;const{data:y,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await yt(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return $s()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(at(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)throw u;return await yt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(at(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await fI(async o=>(o>0&&await dI(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await yt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:xi})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Px(c)&&Date.now()+u-r<Qu})}catch(r){if(this._debug(t,"error",r),at(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),$s()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Dl(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Dl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Zu(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Tx()}else if(o&&!o.user&&!o.user){const u=await Dl(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await va(this.storage,this.storageKey+"-user"),await Zu(this.storage,this.storageKey,o)):o.user=Tx()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<Ex;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${Ex}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Px(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new wa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Tg;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new wa;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),at(c)){const u={session:null,error:c};return Px(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){c.push(p)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Zu(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=x_(o);await Zu(this.storage,this.storageKey,c)}else{const o=x_(t);await Zu(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await va(this.storage,this.storageKey),await va(this.storage,this.storageKey+"-code-verifier"),await va(this.storage,this.storageKey+"-user"),this.userStorage&&await va(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&$s()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Qu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/Qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qu}ms, refresh threshold is ${m0} ticks`),o<=m0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Cb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!$s()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await Bu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await yt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(at(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await yt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(at(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:u,error:h}=await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(at(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await yt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(at(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Rx(o.access_token);let h=null;u.aal&&(h=u.aal);let p=h;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const x=u.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+YO>o)return r;const{data:c,error:u}=await yt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:C,error:E}=await this.getSession();if(E||!C.session)return{data:null,error:E};r=C.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:p}}=Rx(r);t!=null&&t.allowExpired||yI(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:c,header:o,signature:u},error:null}}const x=wI(o.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,u,oI(`${h}.${p}`)))throw new x0("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(at(r))return{data:null,error:r};throw r}}}bh.nextInstanceID=0;const DI=bh;class LI extends DI{constructor(e){super(e)}}var $I=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(x){try{g(r.next(x))}catch(y){u(y)}}function p(x){try{g(r.throw(x))}catch(y){u(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class FI{constructor(e,t,r){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=WO(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:MO,realtime:LO,auth:Object.assign(Object.assign({},DO),{storageKey:g}),global:AO},y=HO(r??{},x);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=UO(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new rO(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new TO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new VT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return $I(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:c,flowType:u,lock:h,debug:p},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LI({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zI=(n,e,t)=>new FI(n,e,t);function UI(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}UI()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BI="https://zbhvwxpvlxqxadqzshfc.supabase.co",WI="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MjUzNzQsImV4cCI6MjA2NzUwMTM3NH0.TfyuqzBbK-8CIQ-8sTKrH4nMHW7w28nPIhtTLi9Olsc",Le=zI(BI,WI),Eb=w.createContext(),Dh=()=>{const n=w.useContext(Eb);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},HI=({children:n})=>{const[e,t]=w.useState(null),[r,o]=w.useState(!0);w.useEffect(()=>{Le.auth.getSession().then(({data:{session:y}})=>{t((y==null?void 0:y.user)??null),o(!1)});const{data:x}=Le.auth.onAuthStateChange((y,b)=>{t((b==null?void 0:b.user)??null),o(!1)});return()=>{x==null||x.subscription.unsubscribe()}},[]);const g={user:e,loading:r,signInWithProvider:async x=>{const{error:y}=await Le.auth.signInWithOAuth({provider:x});if(y)throw y},signInWithEmail:async(x,y)=>{const{error:b}=await Le.auth.signInWithPassword({email:x,password:y});if(b)throw b},signUpWithEmail:async(x,y)=>{const{data:b,error:C}=await Le.auth.signUp({email:x,password:y});if(C)throw C;return b},signOut:async()=>{const{error:x}=await Le.auth.signOut();if(x)throw x}};return a.jsx(Eb.Provider,{value:g,children:!r&&n})};function S_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Og(...n){return e=>{let t=!1;const r=n.map(o=>{const c=S_(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():S_(n[o],null)}}}}function It(...n){return w.useCallback(Og(...n),n)}function ql(n){const e=GI(n),t=w.forwardRef((r,o)=>{const{children:c,...u}=r,h=w.Children.toArray(c),p=h.find(KI);if(p){const g=p.props.children,x=h.map(y=>y===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:y);return a.jsx(e,{...u,ref:o,children:w.isValidElement(g)?w.cloneElement(g,void 0,x):null})}return a.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var VI=ql("Slot");function GI(n){const e=w.forwardRef((t,r)=>{const{children:o,...c}=t;if(w.isValidElement(o)){const u=JI(o),h=YI(c,o.props);return o.type!==w.Fragment&&(h.ref=r?Og(r,u):u),w.cloneElement(o,h)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var qI=Symbol("radix.slottable");function KI(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===qI}function YI(n,e){const t={...e};for(const r in e){const o=n[r],c=e[r];/^on[A-Z]/.test(r)?o&&c?t[r]=(...h)=>{const p=c(...h);return o(...h),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...c}:r==="className"&&(t[r]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function JI(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Pb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Pb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Rb(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Pb(n))&&(r&&(r+=" "),r+=e);return r}const j_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,N_=Rb,Lh=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return N_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(g=>{const x=t==null?void 0:t[g],y=c==null?void 0:c[g];if(x===null)return null;const b=j_(x)||j_(y);return o[g][b]}),h=t&&Object.entries(t).reduce((g,x)=>{let[y,b]=x;return b===void 0||(g[y]=b),g},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,x)=>{let{class:y,className:b,...C}=x;return Object.entries(C).every(E=>{let[P,k]=E;return Array.isArray(k)?k.includes({...c,...h}[P]):{...c,...h}[P]===k})?[...g,y,b]:g},[]);return N_(n,u,p,t==null?void 0:t.class,t==null?void 0:t.className)},ey="-",XI=n=>{const e=ZI(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(ey);return h[0]===""&&h.length!==1&&h.shift(),Tb(h,e)||QI(u)},getConflictingClassGroupIds:(u,h)=>{const p=t[u]||[];return h&&r[u]?[...p,...r[u]]:p}}},Tb=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?Tb(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(ey);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},k_=/^\[(.+)\]$/,QI=n=>{if(k_.test(n)){const e=k_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ZI=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)y0(t[o],r,o,e);return r},y0=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:C_(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(eA(o)){y0(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{y0(u,C_(e,c),t,r)})})},C_=(n,e)=>{let t=n;return e.split(ey).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},eA=n=>n.isThemeGetter,tA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(c,u)=>{t.set(c,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=r.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},w0="!",_0=":",nA=_0.length,rA=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const c=[];let u=0,h=0,p=0,g;for(let E=0;E<o.length;E++){let P=o[E];if(u===0&&h===0){if(P===_0){c.push(o.slice(p,E)),p=E+nA;continue}if(P==="/"){g=E;continue}}P==="["?u++:P==="]"?u--:P==="("?h++:P===")"&&h--}const x=c.length===0?o:o.substring(p),y=sA(x),b=y!==x,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:C}};if(e){const o=e+_0,c=r;r=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=c=>t({className:c,parseClassName:o})}return r},sA=n=>n.endsWith(w0)?n.substring(0,n.length-1):n.startsWith(w0)?n.substring(1):n,oA=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let c=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},iA=n=>({cache:tA(n.cacheSize),parseClassName:rA(n),sortModifiers:oA(n),...XI(n)}),aA=/\s+/,lA=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=n.trim().split(aA);let p="";for(let g=h.length-1;g>=0;g-=1){const x=h[g],{isExternal:y,modifiers:b,hasImportantModifier:C,baseClassName:E,maybePostfixModifierPosition:P}=t(x);if(y){p=x+(p.length>0?" "+p:p);continue}let k=!!P,R=r(k?E.substring(0,P):E);if(!R){if(!k){p=x+(p.length>0?" "+p:p);continue}if(R=r(E),!R){p=x+(p.length>0?" "+p:p);continue}k=!1}const N=c(b).join(":"),T=C?N+w0:N,A=T+R;if(u.includes(A))continue;u.push(A);const M=o(R,k);for(let W=0;W<M.length;++W){const F=M[W];u.push(T+F)}p=x+(p.length>0?" "+p:p)}return p};function cA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Ob(e))&&(r&&(r+=" "),r+=t);return r}const Ob=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Ob(n[r]))&&(t&&(t+=" "),t+=e);return t};function uA(n,...e){let t,r,o,c=u;function u(p){const g=e.reduce((x,y)=>y(x),n());return t=iA(g),r=t.cache.get,o=t.cache.set,c=h,h(p)}function h(p){const g=r(p);if(g)return g;const x=lA(p,t);return o(p,x),x}return function(){return c(cA.apply(null,arguments))}}const Sn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Ib=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Ab=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dA=/^\d+\/\d+$/,fA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Gu=n=>dA.test(n),pt=n=>!!n&&!Number.isNaN(Number(n)),xa=n=>!!n&&Number.isInteger(Number(n)),Ix=n=>n.endsWith("%")&&pt(n.slice(0,-1)),vi=n=>fA.test(n),vA=()=>!0,xA=n=>hA.test(n)&&!pA.test(n),Mb=()=>!1,yA=n=>mA.test(n),wA=n=>gA.test(n),_A=n=>!Me(n)&&!De(n),bA=n=>md(n,$b,Mb),Me=n=>Ib.test(n),Ll=n=>md(n,Fb,xA),Ax=n=>md(n,CA,pt),E_=n=>md(n,Db,Mb),SA=n=>md(n,Lb,wA),Mm=n=>md(n,zb,yA),De=n=>Ab.test(n),rh=n=>gd(n,Fb),jA=n=>gd(n,EA),P_=n=>gd(n,Db),NA=n=>gd(n,$b),kA=n=>gd(n,Lb),Dm=n=>gd(n,zb,!0),md=(n,e,t)=>{const r=Ib.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},gd=(n,e,t=!1)=>{const r=Ab.exec(n);return r?r[1]?e(r[1]):t:!1},Db=n=>n==="position"||n==="percentage",Lb=n=>n==="image"||n==="url",$b=n=>n==="length"||n==="size"||n==="bg-size",Fb=n=>n==="length",CA=n=>n==="number",EA=n=>n==="family-name",zb=n=>n==="shadow",PA=()=>{const n=Sn("color"),e=Sn("font"),t=Sn("text"),r=Sn("font-weight"),o=Sn("tracking"),c=Sn("leading"),u=Sn("breakpoint"),h=Sn("container"),p=Sn("spacing"),g=Sn("radius"),x=Sn("shadow"),y=Sn("inset-shadow"),b=Sn("text-shadow"),C=Sn("drop-shadow"),E=Sn("blur"),P=Sn("perspective"),k=Sn("aspect"),R=Sn("ease"),N=Sn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],M=()=>[...A(),De,Me],W=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],$=()=>[De,Me,p],G=()=>[Gu,"full","auto",...$()],X=()=>[xa,"none","subgrid",De,Me],ne=()=>["auto",{span:["full",xa,De,Me]},xa,De,Me],ae=()=>[xa,"auto",De,Me],pe=()=>["auto","min","max","fr",De,Me],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...$()],be=()=>[Gu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],B=()=>[n,De,Me],Y=()=>[...A(),P_,E_,{position:[De,Me]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",NA,bA,{size:[De,Me]}],U=()=>[Ix,rh,Ll],q=()=>["","none","full",g,De,Me],ie=()=>["",pt,rh,Ll],ue=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[pt,Ix,P_,E_],fe=()=>["","none",E,De,Me],je=()=>["none",pt,De,Me],Ce=()=>["none",pt,De,Me],Be=()=>[pt,De,Me],Ae=()=>[Gu,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[vi],breakpoint:[vi],color:[vA],container:[vi],"drop-shadow":[vi],ease:["in","out","in-out"],font:[_A],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[vi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[vi],shadow:[vi],spacing:["px",pt],text:[vi],"text-shadow":[vi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Gu,Me,De,k]}],container:["container"],columns:[{columns:[pt,Me,De,h]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:M()}],overflow:[{overflow:W()}],"overflow-x":[{"overflow-x":W()}],"overflow-y":[{"overflow-y":W()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[xa,"auto",De,Me]}],basis:[{basis:[Gu,"full","auto",h,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[pt,Gu,"auto","initial","none",Me]}],grow:[{grow:["",pt,De,Me]}],shrink:[{shrink:["",pt,De,Me]}],order:[{order:[xa,"first","last","none",De,Me]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[h,"screen",...be()]}],"min-w":[{"min-w":[h,"screen","none",...be()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",t,rh,Ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,De,Ax]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Ix,Me]}],"font-family":[{font:[jA,Me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,De,Me]}],"line-clamp":[{"line-clamp":[pt,"none",De,Ax]}],leading:[{leading:[c,...$()]}],"list-image":[{"list-image":["none",De,Me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",De,Me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[pt,"from-font","auto",De,Ll]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[pt,"auto",De,Me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",De,Me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",De,Me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xa,De,Me],radial:["",De,Me],conic:[xa,De,Me]},kA,SA]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[pt,De,Me]}],"outline-w":[{outline:["",pt,rh,Ll]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",x,Dm,Mm]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",y,Dm,Mm]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[pt,Ll]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",b,Dm,Mm]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[pt,De,Me]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[pt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[De,Me]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[pt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",De,Me]}],filter:[{filter:["","none",De,Me]}],blur:[{blur:fe()}],brightness:[{brightness:[pt,De,Me]}],contrast:[{contrast:[pt,De,Me]}],"drop-shadow":[{"drop-shadow":["","none",C,Dm,Mm]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",pt,De,Me]}],"hue-rotate":[{"hue-rotate":[pt,De,Me]}],invert:[{invert:["",pt,De,Me]}],saturate:[{saturate:[pt,De,Me]}],sepia:[{sepia:["",pt,De,Me]}],"backdrop-filter":[{"backdrop-filter":["","none",De,Me]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[pt,De,Me]}],"backdrop-contrast":[{"backdrop-contrast":[pt,De,Me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",pt,De,Me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[pt,De,Me]}],"backdrop-invert":[{"backdrop-invert":["",pt,De,Me]}],"backdrop-opacity":[{"backdrop-opacity":[pt,De,Me]}],"backdrop-saturate":[{"backdrop-saturate":[pt,De,Me]}],"backdrop-sepia":[{"backdrop-sepia":["",pt,De,Me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",De,Me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[pt,"initial",De,Me]}],ease:[{ease:["linear","initial",R,De,Me]}],delay:[{delay:[pt,De,Me]}],animate:[{animate:["none",N,De,Me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,De,Me]}],"perspective-origin":[{"perspective-origin":M()}],rotate:[{rotate:je()}],"rotate-x":[{"rotate-x":je()}],"rotate-y":[{"rotate-y":je()}],"rotate-z":[{"rotate-z":je()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[De,Me,"","none","gpu","cpu"]}],"transform-origin":[{origin:M()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",De,Me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",De,Me]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[pt,rh,Ll,Ax]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RA=uA(PA);function Fe(...n){return RA(Rb(n))}const TA=Lh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),tt=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},c)=>{const u=r?VI:"button";return a.jsx(u,{className:Fe(TA({variant:e,size:t,className:n})),ref:c,...o})});tt.displayName="Button";const We=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("rounded-xl border bg-card text-card-foreground shadow",n),...e}));We.displayName="Card";const ut=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("flex flex-col space-y-1.5 p-6",n),...e}));ut.displayName="CardHeader";const dt=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("font-semibold leading-none tracking-tight",n),...e}));dt.displayName="CardTitle";const No=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("text-sm text-muted-foreground",n),...e}));No.displayName="CardDescription";const qe=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("p-6 pt-0",n),...e}));qe.displayName="CardContent";const OA=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("flex items-center p-6 pt-0",n),...e}));OA.displayName="CardFooter";const st=w.forwardRef(({className:n,type:e,...t},r)=>a.jsx("input",{type:e,className:Fe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));st.displayName="Input";var IA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=IA.reduce((n,e)=>{const t=ql(`Primitive.${e}`),r=w.forwardRef((o,c)=>{const{asChild:u,...h}=o,p=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(p,{...h,ref:c})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function Ub(n,e){n&&Ah.flushSync(()=>n.dispatchEvent(e))}var AA="Label",Bb=w.forwardRef((n,e)=>a.jsx(et.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Bb.displayName=AA;var Wb=Bb;const MA=Lh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),mt=w.forwardRef(({className:n,...e},t)=>a.jsx(Wb,{ref:t,className:Fe(MA(),n),...e}));mt.displayName=Wb.displayName;const DA=Lh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Po=w.forwardRef(({className:n,variant:e,...t},r)=>a.jsx("div",{ref:r,role:"alert",className:Fe(DA({variant:e}),n),...t}));Po.displayName="Alert";const LA=w.forwardRef(({className:n,...e},t)=>a.jsx("h5",{ref:t,className:Fe("mb-1 font-medium leading-none tracking-tight",n),...e}));LA.displayName="AlertTitle";const Ro=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("text-sm [&_p]:leading-relaxed",n),...e}));Ro.displayName="AlertDescription";function He(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function $A(n,e){const t=w.createContext(e),r=c=>{const{children:u,...h}=c,p=w.useMemo(()=>h,Object.values(h));return a.jsx(t.Provider,{value:p,children:u})};r.displayName=n+"Provider";function o(c){const u=w.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[r,o]}function ys(n,e=[]){let t=[];function r(c,u){const h=w.createContext(u),p=t.length;t=[...t,u];const g=y=>{var R;const{scope:b,children:C,...E}=y,P=((R=b==null?void 0:b[n])==null?void 0:R[p])||h,k=w.useMemo(()=>E,Object.values(E));return a.jsx(P.Provider,{value:k,children:C})};g.displayName=c+"Provider";function x(y,b){var P;const C=((P=b==null?void 0:b[n])==null?void 0:P[p])||h,E=w.useContext(C);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=t.map(u=>w.createContext(u));return function(h){const p=(h==null?void 0:h[n])||c;return w.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[r,FA(o,...e)]}function FA(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=r.reduce((h,{useScope:p,scopeName:g})=>{const y=p(c)[`__scope${g}`];return{...h,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function Ig(n){const e=n+"CollectionProvider",[t,r]=ys(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=P=>{const{scope:k,children:R}=P,N=on.useRef(null),T=on.useRef(new Map).current;return a.jsx(o,{scope:k,itemMap:T,collectionRef:N,children:R})};u.displayName=e;const h=n+"CollectionSlot",p=ql(h),g=on.forwardRef((P,k)=>{const{scope:R,children:N}=P,T=c(h,R),A=It(k,T.collectionRef);return a.jsx(p,{ref:A,children:N})});g.displayName=h;const x=n+"CollectionItemSlot",y="data-radix-collection-item",b=ql(x),C=on.forwardRef((P,k)=>{const{scope:R,children:N,...T}=P,A=on.useRef(null),M=It(k,A),W=c(x,R);return on.useEffect(()=>(W.itemMap.set(A,{ref:A,...T}),()=>void W.itemMap.delete(A))),a.jsx(b,{[y]:"",ref:M,children:N})});C.displayName=x;function E(P){const k=c(n+"CollectionConsumer",P);return on.useCallback(()=>{const N=k.collectionRef.current;if(!N)return[];const T=Array.from(N.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((W,F)=>T.indexOf(W.ref.current)-T.indexOf(F.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:u,Slot:g,ItemSlot:C},E,r]}var vn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},zA=W0[" useId ".trim().toString()]||(()=>{}),UA=0;function vs(n){const[e,t]=w.useState(zA());return vn(()=>{t(r=>r??String(UA++))},[n]),e?`radix-${e}`:""}function Bs(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var BA=W0[" useInsertionEffect ".trim().toString()]||vn;function Ei({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,c,u]=WA({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:o;{const x=w.useRef(n!==void 0);w.useEffect(()=>{const y=x.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=h},[h,r])}const g=w.useCallback(x=>{var y;if(h){const b=HA(x)?x(n):x;b!==n&&((y=u.current)==null||y.call(u,b))}else c(x)},[h,n,c,u]);return[p,g]}function WA({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),c=w.useRef(e);return BA(()=>{c.current=e},[e]),w.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,r,c]}function HA(n){return typeof n=="function"}var VA=w.createContext(void 0);function $h(n){const e=w.useContext(VA);return n||e||"ltr"}var Mx="rovingFocusGroup.onEntryFocus",GA={bubbles:!1,cancelable:!0},Fh="RovingFocusGroup",[b0,Hb,qA]=Ig(Fh),[KA,Ag]=ys(Fh,[qA]),[YA,JA]=KA(Fh),Vb=w.forwardRef((n,e)=>a.jsx(b0.Provider,{scope:n.__scopeRovingFocusGroup,children:a.jsx(b0.Slot,{scope:n.__scopeRovingFocusGroup,children:a.jsx(XA,{...n,ref:e})})}));Vb.displayName=Fh;var XA=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=n,b=w.useRef(null),C=It(e,b),E=$h(c),[P,k]=Ei({prop:u,defaultProp:h??null,onChange:p,caller:Fh}),[R,N]=w.useState(!1),T=Bs(g),A=Hb(t),M=w.useRef(!1),[W,F]=w.useState(0);return w.useEffect(()=>{const $=b.current;if($)return $.addEventListener(Mx,T),()=>$.removeEventListener(Mx,T)},[T]),a.jsx(YA,{scope:t,orientation:r,dir:E,loop:o,currentTabStopId:P,onItemFocus:w.useCallback($=>k($),[k]),onItemShiftTab:w.useCallback(()=>N(!0),[]),onFocusableItemAdd:w.useCallback(()=>F($=>$+1),[]),onFocusableItemRemove:w.useCallback(()=>F($=>$-1),[]),children:a.jsx(et.div,{tabIndex:R||W===0?-1:0,"data-orientation":r,...y,ref:C,style:{outline:"none",...n.style},onMouseDown:He(n.onMouseDown,()=>{M.current=!0}),onFocus:He(n.onFocus,$=>{const G=!M.current;if($.target===$.currentTarget&&G&&!R){const X=new CustomEvent(Mx,GA);if($.currentTarget.dispatchEvent(X),!X.defaultPrevented){const ne=A().filter(ge=>ge.focusable),ae=ne.find(ge=>ge.active),pe=ne.find(ge=>ge.id===P),ke=[ae,pe,...ne].filter(Boolean).map(ge=>ge.ref.current);Kb(ke,x)}}M.current=!1}),onBlur:He(n.onBlur,()=>N(!1))})})}),Gb="RovingFocusGroupItem",qb=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:c,children:u,...h}=n,p=vs(),g=c||p,x=JA(Gb,t),y=x.currentTabStopId===g,b=Hb(t),{onFocusableItemAdd:C,onFocusableItemRemove:E,currentTabStopId:P}=x;return w.useEffect(()=>{if(r)return C(),()=>E()},[r,C,E]),a.jsx(b0.ItemSlot,{scope:t,id:g,focusable:r,active:o,children:a.jsx(et.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...h,ref:e,onMouseDown:He(n.onMouseDown,k=>{r?x.onItemFocus(g):k.preventDefault()}),onFocus:He(n.onFocus,()=>x.onItemFocus(g)),onKeyDown:He(n.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){x.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const R=eM(k,x.orientation,x.dir);if(R!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let T=b().filter(A=>A.focusable).map(A=>A.ref.current);if(R==="last")T.reverse();else if(R==="prev"||R==="next"){R==="prev"&&T.reverse();const A=T.indexOf(k.currentTarget);T=x.loop?tM(T,A+1):T.slice(A+1)}setTimeout(()=>Kb(T))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:P!=null}):u})})});qb.displayName=Gb;var QA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZA(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function eM(n,e,t){const r=ZA(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QA[r]}function Kb(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function tM(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Yb=Vb,Jb=qb;function nM(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var Io=n=>{const{present:e,children:t}=n,r=rM(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),c=It(r.ref,sM(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:c}):null};Io.displayName="Presence";function rM(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),c=w.useRef("none"),u=n?"mounted":"unmounted",[h,p]=nM(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Lm(r.current);c.current=h==="mounted"?g:"none"},[h]),vn(()=>{const g=r.current,x=o.current;if(x!==n){const b=c.current,C=Lm(g);n?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(x&&b!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),vn(()=>{if(e){let g;const x=e.ownerDocument.defaultView??window,y=C=>{const P=Lm(r.current).includes(C.animationName);if(C.target===e&&P&&(p("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",g=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},b=C=>{C.target===e&&(c.current=Lm(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{x.clearTimeout(g),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:w.useCallback(g=>{r.current=g?getComputedStyle(g):null,t(g)},[])}}function Lm(n){return(n==null?void 0:n.animationName)||"none"}function sM(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Mg="Tabs",[oM,Fz]=ys(Mg,[Ag]),Xb=Ag(),[iM,ty]=oM(Mg),Qb=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:p="automatic",...g}=n,x=$h(h),[y,b]=Ei({prop:r,onChange:o,defaultProp:c??"",caller:Mg});return a.jsx(iM,{scope:t,baseId:vs(),value:y,onValueChange:b,orientation:u,dir:x,activationMode:p,children:a.jsx(et.div,{dir:x,"data-orientation":u,...g,ref:e})})});Qb.displayName=Mg;var Zb="TabsList",eS=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,c=ty(Zb,t),u=Xb(t);return a.jsx(Yb,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:r,children:a.jsx(et.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});eS.displayName=Zb;var tS="TabsTrigger",nS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...c}=n,u=ty(tS,t),h=Xb(t),p=oS(u.baseId,r),g=iS(u.baseId,r),x=r===u.value;return a.jsx(Jb,{asChild:!0,...h,focusable:!o,active:x,children:a.jsx(et.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:e,onMouseDown:He(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(r):y.preventDefault()}),onKeyDown:He(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(r)}),onFocus:He(n.onFocus,()=>{const y=u.activationMode!=="manual";!x&&!o&&y&&u.onValueChange(r)})})})});nS.displayName=tS;var rS="TabsContent",sS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:c,...u}=n,h=ty(rS,t),p=oS(h.baseId,r),g=iS(h.baseId,r),x=r===h.value,y=w.useRef(x);return w.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(Io,{present:o||x,children:({present:b})=>a.jsx(et.div,{"data-state":x?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!b,id:g,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:b&&c})})});sS.displayName=rS;function oS(n,e){return`${n}-trigger-${e}`}function iS(n,e){return`${n}-content-${e}`}var aM=Qb,aS=eS,lS=nS,cS=sS;const Dg=aM,zh=w.forwardRef(({className:n,...e},t)=>a.jsx(aS,{ref:t,className:Fe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));zh.displayName=aS.displayName;const Yr=w.forwardRef(({className:n,...e},t)=>a.jsx(lS,{ref:t,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));Yr.displayName=lS.displayName;const Jr=w.forwardRef(({className:n,...e},t)=>a.jsx(cS,{ref:t,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));Jr.displayName=cS.displayName;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lM=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),uS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uM=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...h},p)=>w.createElement("svg",{ref:p,...cM,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:uS("lucide",o),...h},[...u.map(([g,x])=>w.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const t=w.forwardRef(({className:r,...o},c)=>w.createElement(uM,{ref:c,iconNode:e,className:uS(`lucide-${lM(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dM=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],dS=$e("Bed",dM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fM=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hM=$e("Bot",fM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],mM=$e("CalendarDays",pM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gM=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Kl=$e("Calendar",gM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vM=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xM=$e("ChartColumn",vM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yM=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],mh=$e("CheckCheck",yM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wM=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Pi=$e("Check",wM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ny=$e("ChevronDown",_M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],SM=$e("ChevronLeft",bM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],fS=$e("ChevronRight",jM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],kM=$e("ChevronUp",NM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Ea=$e("CircleAlert",CM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EM=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lg=$e("CircleCheckBig",EM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],RM=$e("CirclePlus",PM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OM=$e("Circle",TM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],gh=$e("Clock",IM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],MM=$e("Cloud",AM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],hS=$e("CreditCard",DM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pS=$e("DollarSign",LM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $M=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],cg=$e("Download",$M);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zM=$e("EllipsisVertical",FM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ug=$e("FileText",UM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BM=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WM=$e("FileWarning",BM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HM=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Uh=$e("Filter",HM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],S0=$e("Gift",VM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GM=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mS=$e("Globe",GM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qM=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KM=$e("GripVertical",qM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],JM=$e("History",YM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XM=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],QM=$e("Hotel",XM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],cd=$e("House",ZM);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],tD=$e("Laptop",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],nd=$e("LoaderCircle",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],rd=$e("LogIn",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],ja=$e("LogOut",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Lg=$e("Mail",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],$g=$e("MapPin",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],dg=$e("MessageCircle",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cD=$e("Package",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],dD=$e("Paperclip",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ia=$e("Phone",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pD=$e("Play",hD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Sh=$e("Plus",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vD=$e("Printer",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],fg=$e("RefreshCw",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gS=$e("Save",yD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Yl=$e("Search",wD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bD=$e("Send",_D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],R_=$e("Server",SD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],T_=$e("Settings",jD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],kD=$e("Smile",ND);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ED=$e("Sparkles",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j0=$e("SquareCheckBig",PD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],TD=$e("SquarePen",RD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Dx=$e("Trash2",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],AD=$e("TrendingDown",ID);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],vS=$e("TrendingUp",MD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LD=$e("TriangleAlert",DD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FD=$e("Upload",$D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],UD=$e("UserCheck",zD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ws=$e("User",BD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xS=$e("Users",WD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],VD=$e("Video",HD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],yS=$e("Webhook",GD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ry=$e("X",qD);function KD(n,e=globalThis==null?void 0:globalThis.document){const t=Bs(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var YD="DismissableLayer",N0="dismissableLayer.update",JD="dismissableLayer.pointerDownOutside",XD="dismissableLayer.focusOutside",O_,wS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fg=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...p}=n,g=w.useContext(wS),[x,y]=w.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),E=It(e,F=>y(F)),P=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=P.indexOf(k),N=x?P.indexOf(x):-1,T=g.layersWithOutsidePointerEventsDisabled.size>0,A=N>=R,M=eL(F=>{const $=F.target,G=[...g.branches].some(X=>X.contains($));!A||G||(o==null||o(F),u==null||u(F),F.defaultPrevented||h==null||h())},b),W=tL(F=>{const $=F.target;[...g.branches].some(X=>X.contains($))||(c==null||c(F),u==null||u(F),F.defaultPrevented||h==null||h())},b);return KD(F=>{N===g.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},b),w.useEffect(()=>{if(x)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(O_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),I_(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=O_)}},[x,b,t,g]),w.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),I_())},[x,g]),w.useEffect(()=>{const F=()=>C({});return document.addEventListener(N0,F),()=>document.removeEventListener(N0,F)},[]),a.jsx(et.div,{...p,ref:E,style:{pointerEvents:T?A?"auto":"none":void 0,...n.style},onFocusCapture:He(n.onFocusCapture,W.onFocusCapture),onBlurCapture:He(n.onBlurCapture,W.onBlurCapture),onPointerDownCapture:He(n.onPointerDownCapture,M.onPointerDownCapture)})});Fg.displayName=YD;var QD="DismissableLayerBranch",ZD=w.forwardRef((n,e)=>{const t=w.useContext(wS),r=w.useRef(null),o=It(e,r);return w.useEffect(()=>{const c=r.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),a.jsx(et.div,{...n,ref:o})});ZD.displayName=QD;function eL(n,e=globalThis==null?void 0:globalThis.document){const t=Bs(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let p=function(){_S(JD,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function tL(n,e=globalThis==null?void 0:globalThis.document){const t=Bs(n),r=w.useRef(!1);return w.useEffect(()=>{const o=c=>{c.target&&!r.current&&_S(XD,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function I_(){const n=new CustomEvent(N0);document.dispatchEvent(n)}function _S(n,e,t,{discrete:r}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?Ub(o,c):o.dispatchEvent(c)}var Lx=0;function sy(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??A_()),document.body.insertAdjacentElement("beforeend",n[1]??A_()),Lx++,()=>{Lx===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Lx--}},[])}function A_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var $x="focusScope.autoFocusOnMount",Fx="focusScope.autoFocusOnUnmount",M_={bubbles:!1,cancelable:!0},nL="FocusScope",zg=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=n,[h,p]=w.useState(null),g=Bs(o),x=Bs(c),y=w.useRef(null),b=It(e,P=>p(P)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let P=function(T){if(C.paused||!h)return;const A=T.target;h.contains(A)?y.current=A:_a(y.current,{select:!0})},k=function(T){if(C.paused||!h)return;const A=T.relatedTarget;A!==null&&(h.contains(A)||_a(y.current,{select:!0}))},R=function(T){if(document.activeElement===document.body)for(const M of T)M.removedNodes.length>0&&_a(h)};document.addEventListener("focusin",P),document.addEventListener("focusout",k);const N=new MutationObserver(R);return h&&N.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",k),N.disconnect()}}},[r,h,C.paused]),w.useEffect(()=>{if(h){L_.add(C);const P=document.activeElement;if(!h.contains(P)){const R=new CustomEvent($x,M_);h.addEventListener($x,g),h.dispatchEvent(R),R.defaultPrevented||(rL(lL(bS(h)),{select:!0}),document.activeElement===P&&_a(h))}return()=>{h.removeEventListener($x,g),setTimeout(()=>{const R=new CustomEvent(Fx,M_);h.addEventListener(Fx,x),h.dispatchEvent(R),R.defaultPrevented||_a(P??document.body,{select:!0}),h.removeEventListener(Fx,x),L_.remove(C)},0)}}},[h,g,x,C]);const E=w.useCallback(P=>{if(!t&&!r||C.paused)return;const k=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,R=document.activeElement;if(k&&R){const N=P.currentTarget,[T,A]=sL(N);T&&A?!P.shiftKey&&R===A?(P.preventDefault(),t&&_a(T,{select:!0})):P.shiftKey&&R===T&&(P.preventDefault(),t&&_a(A,{select:!0})):R===N&&P.preventDefault()}},[t,r,C.paused]);return a.jsx(et.div,{tabIndex:-1,...u,ref:b,onKeyDown:E})});zg.displayName=nL;function rL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(_a(r,{select:e}),document.activeElement!==t)return}function sL(n){const e=bS(n),t=D_(e,n),r=D_(e.reverse(),n);return[t,r]}function bS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function D_(n,e){for(const t of n)if(!oL(t,{upTo:e}))return t}function oL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function iL(n){return n instanceof HTMLInputElement&&"select"in n}function _a(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&iL(n)&&e&&n.select()}}var L_=aL();function aL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=$_(n,e),n.unshift(e)},remove(e){var t;n=$_(n,e),(t=n[0])==null||t.resume()}}}function $_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function lL(n){return n.filter(e=>e.tagName!=="A")}const cL=["top","right","bottom","left"],Pa=Math.min,Kr=Math.max,hg=Math.round,$m=Math.floor,Co=n=>({x:n,y:n}),uL={left:"right",right:"left",bottom:"top",top:"bottom"},dL={start:"end",end:"start"};function k0(n,e,t){return Kr(n,Pa(e,t))}function Ri(n,e){return typeof n=="function"?n(e):n}function Ti(n){return n.split("-")[0]}function vd(n){return n.split("-")[1]}function oy(n){return n==="x"?"y":"x"}function iy(n){return n==="y"?"height":"width"}const fL=new Set(["top","bottom"]);function ko(n){return fL.has(Ti(n))?"y":"x"}function ay(n){return oy(ko(n))}function hL(n,e,t){t===void 0&&(t=!1);const r=vd(n),o=ay(n),c=iy(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=pg(u)),[u,pg(u)]}function pL(n){const e=pg(n);return[C0(n),e,C0(e)]}function C0(n){return n.replace(/start|end/g,e=>dL[e])}const F_=["left","right"],z_=["right","left"],mL=["top","bottom"],gL=["bottom","top"];function vL(n,e,t){switch(n){case"top":case"bottom":return t?e?z_:F_:e?F_:z_;case"left":case"right":return e?mL:gL;default:return[]}}function xL(n,e,t,r){const o=vd(n);let c=vL(Ti(n),t==="start",r);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(C0)))),c}function pg(n){return n.replace(/left|right|bottom|top/g,e=>uL[e])}function yL(n){return{top:0,right:0,bottom:0,left:0,...n}}function SS(n){return typeof n!="number"?yL(n):{top:n,right:n,bottom:n,left:n}}function mg(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function U_(n,e,t){let{reference:r,floating:o}=n;const c=ko(e),u=ay(e),h=iy(u),p=Ti(e),g=c==="y",x=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,b=r[h]/2-o[h]/2;let C;switch(p){case"top":C={x,y:r.y-o.height};break;case"bottom":C={x,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y};break;case"left":C={x:r.x-o.width,y};break;default:C={x:r.x,y:r.y}}switch(vd(e)){case"start":C[u]-=b*(t&&g?-1:1);break;case"end":C[u]+=b*(t&&g?-1:1);break}return C}const wL=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,h=c.filter(Boolean),p=await(u.isRTL==null?void 0:u.isRTL(e));let g=await u.getElementRects({reference:n,floating:e,strategy:o}),{x,y}=U_(g,r,p),b=r,C={},E=0;for(let P=0;P<h.length;P++){const{name:k,fn:R}=h[P],{x:N,y:T,data:A,reset:M}=await R({x,y,initialPlacement:r,placement:b,strategy:o,middlewareData:C,rects:g,platform:u,elements:{reference:n,floating:e}});x=N??x,y=T??y,C={...C,[k]:{...C[k],...A}},M&&E<=50&&(E++,typeof M=="object"&&(M.placement&&(b=M.placement),M.rects&&(g=M.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):M.rects),{x,y}=U_(g,b,p)),P=-1)}return{x,y,placement:b,strategy:o,middlewareData:C}};async function jh(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:c,rects:u,elements:h,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:b=!1,padding:C=0}=Ri(e,n),E=SS(C),k=h[b?y==="floating"?"reference":"floating":y],R=mg(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(k)))==null||t?k:k.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:g,rootBoundary:x,strategy:p})),N=y==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),A=await(c.isElement==null?void 0:c.isElement(T))?await(c.getScale==null?void 0:c.getScale(T))||{x:1,y:1}:{x:1,y:1},M=mg(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:N,offsetParent:T,strategy:p}):N);return{top:(R.top-M.top+E.top)/A.y,bottom:(M.bottom-R.bottom+E.bottom)/A.y,left:(R.left-M.left+E.left)/A.x,right:(M.right-R.right+E.right)/A.x}}const _L=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:c,platform:u,elements:h,middlewareData:p}=e,{element:g,padding:x=0}=Ri(n,e)||{};if(g==null)return{};const y=SS(x),b={x:t,y:r},C=ay(o),E=iy(C),P=await u.getDimensions(g),k=C==="y",R=k?"top":"left",N=k?"bottom":"right",T=k?"clientHeight":"clientWidth",A=c.reference[E]+c.reference[C]-b[C]-c.floating[E],M=b[C]-c.reference[C],W=await(u.getOffsetParent==null?void 0:u.getOffsetParent(g));let F=W?W[T]:0;(!F||!await(u.isElement==null?void 0:u.isElement(W)))&&(F=h.floating[T]||c.floating[E]);const $=A/2-M/2,G=F/2-P[E]/2-1,X=Pa(y[R],G),ne=Pa(y[N],G),ae=X,pe=F-P[E]-ne,me=F/2-P[E]/2+$,ke=k0(ae,me,pe),ge=!p.arrow&&vd(o)!=null&&me!==ke&&c.reference[E]/2-(me<ae?X:ne)-P[E]/2<0,be=ge?me<ae?me-ae:me-pe:0;return{[C]:b[C]+be,data:{[C]:ke,centerOffset:me-ke-be,...ge&&{alignmentOffset:be}},reset:ge}}}),bL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:P=!0,...k}=Ri(n,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const R=Ti(o),N=ko(h),T=Ti(h)===h,A=await(p.isRTL==null?void 0:p.isRTL(g.floating)),M=b||(T||!P?[pg(h)]:pL(h)),W=E!=="none";!b&&W&&M.push(...xL(h,P,E,A));const F=[h,...M],$=await jh(e,k),G=[];let X=((r=c.flip)==null?void 0:r.overflows)||[];if(x&&G.push($[R]),y){const me=hL(o,u,A);G.push($[me[0]],$[me[1]])}if(X=[...X,{placement:o,overflows:G}],!G.every(me=>me<=0)){var ne,ae;const me=(((ne=c.flip)==null?void 0:ne.index)||0)+1,ke=F[me];if(ke&&(!(y==="alignment"?N!==ko(ke):!1)||X.every(B=>B.overflows[0]>0&&ko(B.placement)===N)))return{data:{index:me,overflows:X},reset:{placement:ke}};let ge=(ae=X.filter(be=>be.overflows[0]<=0).sort((be,B)=>be.overflows[1]-B.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(C){case"bestFit":{var pe;const be=(pe=X.filter(B=>{if(W){const Y=ko(B.placement);return Y===N||Y==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,re)=>Y+re,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:pe[0];be&&(ge=be);break}case"initialPlacement":ge=h;break}if(o!==ge)return{reset:{placement:ge}}}return{}}}};function B_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function W_(n){return cL.some(e=>n[e]>=0)}const SL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Ri(n,e);switch(r){case"referenceHidden":{const c=await jh(e,{...o,elementContext:"reference"}),u=B_(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:W_(u)}}}case"escaped":{const c=await jh(e,{...o,altBoundary:!0}),u=B_(c,t.floating);return{data:{escapedOffsets:u,escaped:W_(u)}}}default:return{}}}}},jS=new Set(["left","top"]);async function jL(n,e){const{placement:t,platform:r,elements:o}=n,c=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=Ti(t),h=vd(t),p=ko(t)==="y",g=jS.has(u)?-1:1,x=c&&p?-1:1,y=Ri(e,n);let{mainAxis:b,crossAxis:C,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof E=="number"&&(C=h==="end"?E*-1:E),p?{x:C*x,y:b*g}:{x:b*g,y:C*x}}const NL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:c,placement:u,middlewareData:h}=e,p=await jL(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:u}}}}},kL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:k=>{let{x:R,y:N}=k;return{x:R,y:N}}},...p}=Ri(n,e),g={x:t,y:r},x=await jh(e,p),y=ko(Ti(o)),b=oy(y);let C=g[b],E=g[y];if(c){const k=b==="y"?"top":"left",R=b==="y"?"bottom":"right",N=C+x[k],T=C-x[R];C=k0(N,C,T)}if(u){const k=y==="y"?"top":"left",R=y==="y"?"bottom":"right",N=E+x[k],T=E-x[R];E=k0(N,E,T)}const P=h.fn({...e,[b]:C,[y]:E});return{...P,data:{x:P.x-t,y:P.y-r,enabled:{[b]:c,[y]:u}}}}}},CL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:c,middlewareData:u}=e,{offset:h=0,mainAxis:p=!0,crossAxis:g=!0}=Ri(n,e),x={x:t,y:r},y=ko(o),b=oy(y);let C=x[b],E=x[y];const P=Ri(h,e),k=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(p){const T=b==="y"?"height":"width",A=c.reference[b]-c.floating[T]+k.mainAxis,M=c.reference[b]+c.reference[T]-k.mainAxis;C<A?C=A:C>M&&(C=M)}if(g){var R,N;const T=b==="y"?"width":"height",A=jS.has(Ti(o)),M=c.reference[y]-c.floating[T]+(A&&((R=u.offset)==null?void 0:R[y])||0)+(A?0:k.crossAxis),W=c.reference[y]+c.reference[T]+(A?0:((N=u.offset)==null?void 0:N[y])||0)-(A?k.crossAxis:0);E<M?E=M:E>W&&(E=W)}return{[b]:C,[y]:E}}}},EL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:c,platform:u,elements:h}=e,{apply:p=()=>{},...g}=Ri(n,e),x=await jh(e,g),y=Ti(o),b=vd(o),C=ko(o)==="y",{width:E,height:P}=c.floating;let k,R;y==="top"||y==="bottom"?(k=y,R=b===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(R=y,k=b==="end"?"top":"bottom");const N=P-x.top-x.bottom,T=E-x.left-x.right,A=Pa(P-x[k],N),M=Pa(E-x[R],T),W=!e.middlewareData.shift;let F=A,$=M;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&($=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=N),W&&!b){const X=Kr(x.left,0),ne=Kr(x.right,0),ae=Kr(x.top,0),pe=Kr(x.bottom,0);C?$=E-2*(X!==0||ne!==0?X+ne:Kr(x.left,x.right)):F=P-2*(ae!==0||pe!==0?ae+pe:Kr(x.top,x.bottom))}await p({...e,availableWidth:$,availableHeight:F});const G=await u.getDimensions(h.floating);return E!==G.width||P!==G.height?{reset:{rects:!0}}:{}}}};function Ug(){return typeof window<"u"}function xd(n){return NS(n)?(n.nodeName||"").toLowerCase():"#document"}function Xr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Ao(n){var e;return(e=(NS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function NS(n){return Ug()?n instanceof Node||n instanceof Xr(n).Node:!1}function Hs(n){return Ug()?n instanceof Element||n instanceof Xr(n).Element:!1}function To(n){return Ug()?n instanceof HTMLElement||n instanceof Xr(n).HTMLElement:!1}function H_(n){return!Ug()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Xr(n).ShadowRoot}const PL=new Set(["inline","contents"]);function Bh(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Vs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!PL.has(o)}const RL=new Set(["table","td","th"]);function TL(n){return RL.has(xd(n))}const OL=[":popover-open",":modal"];function Bg(n){return OL.some(e=>{try{return n.matches(e)}catch{return!1}})}const IL=["transform","translate","scale","rotate","perspective"],AL=["transform","translate","scale","rotate","perspective","filter"],ML=["paint","layout","strict","content"];function ly(n){const e=cy(),t=Hs(n)?Vs(n):n;return IL.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||AL.some(r=>(t.willChange||"").includes(r))||ML.some(r=>(t.contain||"").includes(r))}function DL(n){let e=Ra(n);for(;To(e)&&!ud(e);){if(ly(e))return e;if(Bg(e))return null;e=Ra(e)}return null}function cy(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LL=new Set(["html","body","#document"]);function ud(n){return LL.has(xd(n))}function Vs(n){return Xr(n).getComputedStyle(n)}function Wg(n){return Hs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Ra(n){if(xd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||H_(n)&&n.host||Ao(n);return H_(e)?e.host:e}function kS(n){const e=Ra(n);return ud(e)?n.ownerDocument?n.ownerDocument.body:n.body:To(e)&&Bh(e)?e:kS(e)}function Nh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=kS(n),c=o===((r=n.ownerDocument)==null?void 0:r.body),u=Xr(o);if(c){const h=E0(u);return e.concat(u,u.visualViewport||[],Bh(o)?o:[],h&&t?Nh(h):[])}return e.concat(o,Nh(o,[],t))}function E0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function CS(n){const e=Vs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=To(n),c=o?n.offsetWidth:t,u=o?n.offsetHeight:r,h=hg(t)!==c||hg(r)!==u;return h&&(t=c,r=u),{width:t,height:r,$:h}}function uy(n){return Hs(n)?n:n.contextElement}function sd(n){const e=uy(n);if(!To(e))return Co(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:c}=CS(e);let u=(c?hg(t.width):t.width)/r,h=(c?hg(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const $L=Co(0);function ES(n){const e=Xr(n);return!cy()||!e.visualViewport?$L:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Xr(n)?!1:e}function Jl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),c=uy(n);let u=Co(1);e&&(r?Hs(r)&&(u=sd(r)):u=sd(n));const h=FL(c,t,r)?ES(c):Co(0);let p=(o.left+h.x)/u.x,g=(o.top+h.y)/u.y,x=o.width/u.x,y=o.height/u.y;if(c){const b=Xr(c),C=r&&Hs(r)?Xr(r):r;let E=b,P=E0(E);for(;P&&r&&C!==E;){const k=sd(P),R=P.getBoundingClientRect(),N=Vs(P),T=R.left+(P.clientLeft+parseFloat(N.paddingLeft))*k.x,A=R.top+(P.clientTop+parseFloat(N.paddingTop))*k.y;p*=k.x,g*=k.y,x*=k.x,y*=k.y,p+=T,g+=A,E=Xr(P),P=E0(E)}}return mg({width:x,height:y,x:p,y:g})}function dy(n,e){const t=Wg(n).scrollLeft;return e?e.left+t:Jl(Ao(n)).left+t}function PS(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:dy(n,r)),c=r.top+e.scrollTop;return{x:o,y:c}}function zL(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const c=o==="fixed",u=Ao(r),h=e?Bg(e.floating):!1;if(r===u||h&&c)return t;let p={scrollLeft:0,scrollTop:0},g=Co(1);const x=Co(0),y=To(r);if((y||!y&&!c)&&((xd(r)!=="body"||Bh(u))&&(p=Wg(r)),To(r))){const C=Jl(r);g=sd(r),x.x=C.x+r.clientLeft,x.y=C.y+r.clientTop}const b=u&&!y&&!c?PS(u,p,!0):Co(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+x.x+b.x,y:t.y*g.y-p.scrollTop*g.y+x.y+b.y}}function UL(n){return Array.from(n.getClientRects())}function BL(n){const e=Ao(n),t=Wg(n),r=n.ownerDocument.body,o=Kr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),c=Kr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+dy(n);const h=-t.scrollTop;return Vs(r).direction==="rtl"&&(u+=Kr(e.clientWidth,r.clientWidth)-o),{width:o,height:c,x:u,y:h}}function WL(n,e){const t=Xr(n),r=Ao(n),o=t.visualViewport;let c=r.clientWidth,u=r.clientHeight,h=0,p=0;if(o){c=o.width,u=o.height;const g=cy();(!g||g&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}return{width:c,height:u,x:h,y:p}}const HL=new Set(["absolute","fixed"]);function VL(n,e){const t=Jl(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,c=To(n)?sd(n):Co(1),u=n.clientWidth*c.x,h=n.clientHeight*c.y,p=o*c.x,g=r*c.y;return{width:u,height:h,x:p,y:g}}function V_(n,e,t){let r;if(e==="viewport")r=WL(n,t);else if(e==="document")r=BL(Ao(n));else if(Hs(e))r=VL(e,t);else{const o=ES(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return mg(r)}function RS(n,e){const t=Ra(n);return t===e||!Hs(t)||ud(t)?!1:Vs(t).position==="fixed"||RS(t,e)}function GL(n,e){const t=e.get(n);if(t)return t;let r=Nh(n,[],!1).filter(h=>Hs(h)&&xd(h)!=="body"),o=null;const c=Vs(n).position==="fixed";let u=c?Ra(n):n;for(;Hs(u)&&!ud(u);){const h=Vs(u),p=ly(u);!p&&h.position==="fixed"&&(o=null),(c?!p&&!o:!p&&h.position==="static"&&!!o&&HL.has(o.position)||Bh(u)&&!p&&RS(n,u))?r=r.filter(x=>x!==u):o=h,u=Ra(u)}return e.set(n,r),r}function qL(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?Bg(e)?[]:GL(e,this._c):[].concat(t),r],h=u[0],p=u.reduce((g,x)=>{const y=V_(e,x,o);return g.top=Kr(y.top,g.top),g.right=Pa(y.right,g.right),g.bottom=Pa(y.bottom,g.bottom),g.left=Kr(y.left,g.left),g},V_(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function KL(n){const{width:e,height:t}=CS(n);return{width:e,height:t}}function YL(n,e,t){const r=To(e),o=Ao(e),c=t==="fixed",u=Jl(n,!0,c,e);let h={scrollLeft:0,scrollTop:0};const p=Co(0);function g(){p.x=dy(o)}if(r||!r&&!c)if((xd(e)!=="body"||Bh(o))&&(h=Wg(e)),r){const C=Jl(e,!0,c,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();c&&!r&&o&&g();const x=o&&!r&&!c?PS(o,h):Co(0),y=u.left+h.scrollLeft-p.x-x.x,b=u.top+h.scrollTop-p.y-x.y;return{x:y,y:b,width:u.width,height:u.height}}function zx(n){return Vs(n).position==="static"}function G_(n,e){if(!To(n)||Vs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Ao(n)===t&&(t=t.ownerDocument.body),t}function TS(n,e){const t=Xr(n);if(Bg(n))return t;if(!To(n)){let o=Ra(n);for(;o&&!ud(o);){if(Hs(o)&&!zx(o))return o;o=Ra(o)}return t}let r=G_(n,e);for(;r&&TL(r)&&zx(r);)r=G_(r,e);return r&&ud(r)&&zx(r)&&!ly(r)?t:r||DL(n)||t}const JL=async function(n){const e=this.getOffsetParent||TS,t=this.getDimensions,r=await t(n.floating);return{reference:YL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XL(n){return Vs(n).direction==="rtl"}const QL={convertOffsetParentRelativeRectToViewportRelativeRect:zL,getDocumentElement:Ao,getClippingRect:qL,getOffsetParent:TS,getElementRects:JL,getClientRects:UL,getDimensions:KL,getScale:sd,isElement:Hs,isRTL:XL};function OS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ZL(n,e){let t=null,r;const o=Ao(n);function c(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),c();const g=n.getBoundingClientRect(),{left:x,top:y,width:b,height:C}=g;if(h||e(),!b||!C)return;const E=$m(y),P=$m(o.clientWidth-(x+b)),k=$m(o.clientHeight-(y+C)),R=$m(x),T={rootMargin:-E+"px "+-P+"px "+-k+"px "+-R+"px",threshold:Kr(0,Pa(1,p))||1};let A=!0;function M(W){const F=W[0].intersectionRatio;if(F!==p){if(!A)return u();F?u(!1,F):r=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!OS(g,n.getBoundingClientRect())&&u(),A=!1}try{t=new IntersectionObserver(M,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(M,T)}t.observe(n)}return u(!0),c}function e$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,g=uy(n),x=o||c?[...g?Nh(g):[],...Nh(e)]:[];x.forEach(R=>{o&&R.addEventListener("scroll",t,{passive:!0}),c&&R.addEventListener("resize",t)});const y=g&&h?ZL(g,t):null;let b=-1,C=null;u&&(C=new ResizeObserver(R=>{let[N]=R;N&&N.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let E,P=p?Jl(n):null;p&&k();function k(){const R=Jl(n);P&&!OS(P,R)&&t(),P=R,E=requestAnimationFrame(k)}return t(),()=>{var R;x.forEach(N=>{o&&N.removeEventListener("scroll",t),c&&N.removeEventListener("resize",t)}),y==null||y(),(R=C)==null||R.disconnect(),C=null,p&&cancelAnimationFrame(E)}}const t$=NL,n$=kL,r$=bL,s$=EL,o$=SL,q_=_L,i$=CL,a$=(n,e,t)=>{const r=new Map,o={platform:QL,...t},c={...o.platform,_c:r};return wL(n,e,{...o,platform:c})};var l$=typeof document<"u",c$=function(){},Ym=l$?w.useLayoutEffect:c$;function gg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!gg(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const c=o[r];if(!(c==="_owner"&&n.$$typeof)&&!gg(n[c],e[c]))return!1}return!0}return n!==n&&e!==e}function IS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function K_(n,e){const t=IS(n);return Math.round(e*t)/t}function Ux(n){const e=w.useRef(n);return Ym(()=>{e.current=n}),e}function u$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:p,open:g}=n,[x,y]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,C]=w.useState(r);gg(b,r)||C(r);const[E,P]=w.useState(null),[k,R]=w.useState(null),N=w.useCallback(B=>{B!==W.current&&(W.current=B,P(B))},[]),T=w.useCallback(B=>{B!==F.current&&(F.current=B,R(B))},[]),A=c||E,M=u||k,W=w.useRef(null),F=w.useRef(null),$=w.useRef(x),G=p!=null,X=Ux(p),ne=Ux(o),ae=Ux(g),pe=w.useCallback(()=>{if(!W.current||!F.current)return;const B={placement:e,strategy:t,middleware:b};ne.current&&(B.platform=ne.current),a$(W.current,F.current,B).then(Y=>{const re={...Y,isPositioned:ae.current!==!1};me.current&&!gg($.current,re)&&($.current=re,Ah.flushSync(()=>{y(re)}))})},[b,e,t,ne,ae]);Ym(()=>{g===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(B=>({...B,isPositioned:!1})))},[g]);const me=w.useRef(!1);Ym(()=>(me.current=!0,()=>{me.current=!1}),[]),Ym(()=>{if(A&&(W.current=A),M&&(F.current=M),A&&M){if(X.current)return X.current(A,M,pe);pe()}},[A,M,pe,X,G]);const ke=w.useMemo(()=>({reference:W,floating:F,setReference:N,setFloating:T}),[N,T]),ge=w.useMemo(()=>({reference:A,floating:M}),[A,M]),be=w.useMemo(()=>{const B={position:t,left:0,top:0};if(!ge.floating)return B;const Y=K_(ge.floating,x.x),re=K_(ge.floating,x.y);return h?{...B,transform:"translate("+Y+"px, "+re+"px)",...IS(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:re}},[t,h,ge.floating,x.x,x.y]);return w.useMemo(()=>({...x,update:pe,refs:ke,elements:ge,floatingStyles:be}),[x,pe,ke,ge,be])}const d$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?q_({element:r.current,padding:o}).fn(t):{}:r?q_({element:r,padding:o}).fn(t):{}}}},f$=(n,e)=>({...t$(n),options:[n,e]}),h$=(n,e)=>({...n$(n),options:[n,e]}),p$=(n,e)=>({...i$(n),options:[n,e]}),m$=(n,e)=>({...r$(n),options:[n,e]}),g$=(n,e)=>({...s$(n),options:[n,e]}),v$=(n,e)=>({...o$(n),options:[n,e]}),x$=(n,e)=>({...d$(n),options:[n,e]});var y$="Arrow",AS=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...c}=n;return a.jsx(et.svg,{...c,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});AS.displayName=y$;var w$=AS;function _$(n){const[e,t]=w.useState(void 0);return vn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,h;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;u=g.inlineSize,h=g.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var fy="Popper",[MS,Hg]=ys(fy),[b$,DS]=MS(fy),LS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return a.jsx(b$,{scope:e,anchor:r,onAnchorChange:o,children:t})};LS.displayName=fy;var $S="PopperAnchor",FS=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,c=DS($S,t),u=w.useRef(null),h=It(e,u);return w.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:a.jsx(et.div,{...o,ref:h})});FS.displayName=$S;var hy="PopperContent",[S$,j$]=MS(hy),zS=w.forwardRef((n,e)=>{var te,fe,je,Ce,Be,Ae;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:C="optimized",onPlaced:E,...P}=n,k=DS(hy,t),[R,N]=w.useState(null),T=It(e,Je=>N(Je)),[A,M]=w.useState(null),W=_$(A),F=(W==null?void 0:W.width)??0,$=(W==null?void 0:W.height)??0,G=r+(c!=="center"?"-"+c:""),X=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ne=Array.isArray(g)?g:[g],ae=ne.length>0,pe={padding:X,boundary:ne.filter(k$),altBoundary:ae},{refs:me,floatingStyles:ke,placement:ge,isPositioned:be,middlewareData:B}=u$({strategy:"fixed",placement:G,whileElementsMounted:(...Je)=>e$(...Je,{animationFrame:C==="always"}),elements:{reference:k.anchor},middleware:[f$({mainAxis:o+$,alignmentAxis:u}),p&&h$({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?p$():void 0,...pe}),p&&m$({...pe}),g$({...pe,apply:({elements:Je,rects:gt,availableWidth:hn,availableHeight:tr})=>{const{width:Yt,height:en}=gt.reference,Or=Je.floating.style;Or.setProperty("--radix-popper-available-width",`${hn}px`),Or.setProperty("--radix-popper-available-height",`${tr}px`),Or.setProperty("--radix-popper-anchor-width",`${Yt}px`),Or.setProperty("--radix-popper-anchor-height",`${en}px`)}}),A&&x$({element:A,padding:h}),C$({arrowWidth:F,arrowHeight:$}),b&&v$({strategy:"referenceHidden",...pe})]}),[Y,re]=WS(ge),z=Bs(E);vn(()=>{be&&(z==null||z())},[be,z]);const U=(te=B.arrow)==null?void 0:te.x,q=(fe=B.arrow)==null?void 0:fe.y,ie=((je=B.arrow)==null?void 0:je.centerOffset)!==0,[ue,he]=w.useState();return vn(()=>{R&&he(window.getComputedStyle(R).zIndex)},[R]),a.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:be?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ce=B.transformOrigin)==null?void 0:Ce.x,(Be=B.transformOrigin)==null?void 0:Be.y].join(" "),...((Ae=B.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:a.jsx(S$,{scope:t,placedSide:Y,onArrowChange:M,arrowX:U,arrowY:q,shouldHideArrow:ie,children:a.jsx(et.div,{"data-side":Y,"data-align":re,...P,ref:T,style:{...P.style,animation:be?void 0:"none"}})})})});zS.displayName=hy;var US="PopperArrow",N$={top:"bottom",right:"left",bottom:"top",left:"right"},BS=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,c=j$(US,r),u=N$[c.placedSide];return a.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:a.jsx(w$,{...o,ref:t,style:{...o.style,display:"block"}})})});BS.displayName=US;function k$(n){return n!==null}var C$=n=>({name:"transformOrigin",options:n,fn(e){var k,R,N;const{placement:t,rects:r,middlewareData:o}=e,u=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=u?0:n.arrowWidth,p=u?0:n.arrowHeight,[g,x]=WS(t),y={start:"0%",center:"50%",end:"100%"}[x],b=(((R=o.arrow)==null?void 0:R.x)??0)+h/2,C=(((N=o.arrow)==null?void 0:N.y)??0)+p/2;let E="",P="";return g==="bottom"?(E=u?y:`${b}px`,P=`${-p}px`):g==="top"?(E=u?y:`${b}px`,P=`${r.floating.height+p}px`):g==="right"?(E=`${-p}px`,P=u?y:`${C}px`):g==="left"&&(E=`${r.floating.width+p}px`,P=u?y:`${C}px`),{data:{x:E,y:P}}}});function WS(n){const[e,t="center"]=n.split("-");return[e,t]}var HS=LS,VS=FS,GS=zS,qS=BS,E$="Portal",Vg=w.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[o,c]=w.useState(!1);vn(()=>c(!0),[]);const u=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?FT.createPortal(a.jsx(et.div,{...r,ref:e}),u):null});Vg.displayName=E$;var P$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},qu=new WeakMap,Fm=new WeakMap,zm={},Bx=0,KS=function(n){return n&&(n.host||KS(n.parentNode))},R$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},T$=function(n,e,t,r){var o=R$(e,Array.isArray(n)?n:[n]);zm[t]||(zm[t]=new WeakMap);var c=zm[t],u=[],h=new Set,p=new Set(o),g=function(y){!y||h.has(y)||(h.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(b){if(h.has(b))x(b);else try{var C=b.getAttribute(r),E=C!==null&&C!=="false",P=(qu.get(b)||0)+1,k=(c.get(b)||0)+1;qu.set(b,P),c.set(b,k),u.push(b),P===1&&E&&Fm.set(b,!0),k===1&&b.setAttribute(t,"true"),E||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return x(e),h.clear(),Bx++,function(){u.forEach(function(y){var b=qu.get(y)-1,C=c.get(y)-1;qu.set(y,b),c.set(y,C),b||(Fm.has(y)||y.removeAttribute(r),Fm.delete(y)),C||y.removeAttribute(t)}),Bx--,Bx||(qu=new WeakMap,qu=new WeakMap,Fm=new WeakMap,zm={})}},py=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=P$(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),T$(r,o,t,"aria-hidden")):function(){return null}},_o=function(){return _o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},_o.apply(this,arguments)};function YS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function O$(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,c;r<o;r++)(c||!(r in e))&&(c||(c=Array.prototype.slice.call(e,0,r)),c[r]=e[r]);return n.concat(c||Array.prototype.slice.call(e))}var Jm="right-scroll-bar-position",Xm="width-before-scroll-bar",I$="with-scroll-bars-hidden",A$="--removed-body-scroll-bar-size";function Wx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function M$(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var D$=typeof window<"u"?w.useLayoutEffect:w.useEffect,Y_=new WeakMap;function L$(n,e){var t=M$(null,function(r){return n.forEach(function(o){return Wx(o,r)})});return D$(function(){var r=Y_.get(t);if(r){var o=new Set(r),c=new Set(n),u=t.current;o.forEach(function(h){c.has(h)||Wx(h,null)}),c.forEach(function(h){o.has(h)||Wx(h,u)})}Y_.set(t,n)},[n]),t}function $$(n){return n}function F$(n,e){e===void 0&&(e=$$);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var u=e(c,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(r=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(c),u=t}var p=function(){var x=u;u=[],x.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(x){u.push(x),g()},filter:function(x){return u=u.filter(x),t}}}};return o}function z$(n){n===void 0&&(n={});var e=F$(null);return e.options=_o({async:!0,ssr:!1},n),e}var JS=function(n){var e=n.sideCar,t=YS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,_o({},t))};JS.isSideCarExport=!0;function U$(n,e){return n.useMedium(e),JS}var XS=z$(),Hx=function(){},Gg=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:Hx,onWheelCapture:Hx,onTouchMoveCapture:Hx}),o=r[0],c=r[1],u=n.forwardProps,h=n.children,p=n.className,g=n.removeScrollBar,x=n.enabled,y=n.shards,b=n.sideCar,C=n.noRelative,E=n.noIsolation,P=n.inert,k=n.allowPinchZoom,R=n.as,N=R===void 0?"div":R,T=n.gapMode,A=YS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=b,W=L$([t,e]),F=_o(_o({},A),o);return w.createElement(w.Fragment,null,x&&w.createElement(M,{sideCar:XS,removeScrollBar:g,shards:y,noRelative:C,noIsolation:E,inert:P,setCallbacks:c,allowPinchZoom:!!k,lockRef:t,gapMode:T}),u?w.cloneElement(w.Children.only(h),_o(_o({},F),{ref:W})):w.createElement(N,_o({},F,{className:p,ref:W}),h))});Gg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Gg.classNames={fullWidth:Xm,zeroRight:Jm};var B$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=B$();return e&&n.setAttribute("nonce",e),n}function H$(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function V$(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var G$=function(){var n=0,e=null;return{add:function(t){n==0&&(e=W$())&&(H$(e,t),V$(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q$=function(){var n=G$();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},QS=function(){var n=q$(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},K$={left:0,top:0,right:0,gap:0},Vx=function(n){return parseInt(n||"",10)||0},Y$=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Vx(t),Vx(r),Vx(o)]},J$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return K$;var e=Y$(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},X$=QS(),od="data-scroll-locked",Q$=function(n,e,t,r){var o=n.left,c=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(I$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(od,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Jm,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Xm,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Jm," .").concat(Jm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xm," .").concat(Xm,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(od,`] {
    `).concat(A$,": ").concat(h,`px;
  }
`)},J_=function(){var n=parseInt(document.body.getAttribute(od)||"0",10);return isFinite(n)?n:0},Z$=function(){w.useEffect(function(){return document.body.setAttribute(od,(J_()+1).toString()),function(){var n=J_()-1;n<=0?document.body.removeAttribute(od):document.body.setAttribute(od,n.toString())}},[])},e4=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;Z$();var c=w.useMemo(function(){return J$(o)},[o]);return w.createElement(X$,{styles:Q$(c,!e,o,t?"":"!important")})},P0=!1;if(typeof window<"u")try{var Um=Object.defineProperty({},"passive",{get:function(){return P0=!0,!0}});window.addEventListener("test",Um,Um),window.removeEventListener("test",Um,Um)}catch{P0=!1}var Ku=P0?{passive:!1}:!1,t4=function(n){return n.tagName==="TEXTAREA"},ZS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!t4(n)&&t[e]==="visible")},n4=function(n){return ZS(n,"overflowY")},r4=function(n){return ZS(n,"overflowX")},X_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=ej(n,r);if(o){var c=tj(n,r),u=c[1],h=c[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},s4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},o4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},ej=function(n,e){return n==="v"?n4(e):r4(e)},tj=function(n,e){return n==="v"?s4(e):o4(e)},i4=function(n,e){return n==="h"&&e==="rtl"?-1:1},a4=function(n,e,t,r,o){var c=i4(n,window.getComputedStyle(e).direction),u=c*r,h=t.target,p=e.contains(h),g=!1,x=u>0,y=0,b=0;do{if(!h)break;var C=tj(n,h),E=C[0],P=C[1],k=C[2],R=P-k-c*E;(E||R)&&ej(n,h)&&(y+=R,b+=E);var N=h.parentNode;h=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(x&&Math.abs(y)<1||!x&&Math.abs(b)<1)&&(g=!0),g},Bm=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},Q_=function(n){return[n.deltaX,n.deltaY]},Z_=function(n){return n&&"current"in n?n.current:n},l4=function(n,e){return n[0]===e[0]&&n[1]===e[1]},c4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},u4=0,Yu=[];function d4(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(u4++)[0],c=w.useState(QS)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var P=O$([n.lockRef.current],(n.shards||[]).map(Z_),!0).filter(Boolean);return P.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),P.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=w.useCallback(function(P,k){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!u.current.allowPinchZoom;var R=Bm(P),N=t.current,T="deltaX"in P?P.deltaX:N[0]-R[0],A="deltaY"in P?P.deltaY:N[1]-R[1],M,W=P.target,F=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in P&&F==="h"&&W.type==="range")return!1;var $=X_(F,W);if(!$)return!0;if($?M=F:(M=F==="v"?"h":"v",$=X_(F,W)),!$)return!1;if(!r.current&&"changedTouches"in P&&(T||A)&&(r.current=M),!M)return!0;var G=r.current||M;return a4(G,k,P,G==="h"?T:A)},[]),p=w.useCallback(function(P){var k=P;if(!(!Yu.length||Yu[Yu.length-1]!==c)){var R="deltaY"in k?Q_(k):Bm(k),N=e.current.filter(function(M){return M.name===k.type&&(M.target===k.target||k.target===M.shadowParent)&&l4(M.delta,R)})[0];if(N&&N.should){k.cancelable&&k.preventDefault();return}if(!N){var T=(u.current.shards||[]).map(Z_).filter(Boolean).filter(function(M){return M.contains(k.target)}),A=T.length>0?h(k,T[0]):!u.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),g=w.useCallback(function(P,k,R,N){var T={name:P,delta:k,target:R,should:N,shadowParent:f4(R)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),x=w.useCallback(function(P){t.current=Bm(P),r.current=void 0},[]),y=w.useCallback(function(P){g(P.type,Q_(P),P.target,h(P,n.lockRef.current))},[]),b=w.useCallback(function(P){g(P.type,Bm(P),P.target,h(P,n.lockRef.current))},[]);w.useEffect(function(){return Yu.push(c),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Ku),document.addEventListener("touchmove",p,Ku),document.addEventListener("touchstart",x,Ku),function(){Yu=Yu.filter(function(P){return P!==c}),document.removeEventListener("wheel",p,Ku),document.removeEventListener("touchmove",p,Ku),document.removeEventListener("touchstart",x,Ku)}},[]);var C=n.removeScrollBar,E=n.inert;return w.createElement(w.Fragment,null,E?w.createElement(c,{styles:c4(o)}):null,C?w.createElement(e4,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function f4(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const h4=U$(XS,d4);var qg=w.forwardRef(function(n,e){return w.createElement(Gg,_o({},n,{ref:e,sideCar:h4}))});qg.classNames=Gg.classNames;var R0=["Enter"," "],p4=["ArrowDown","PageUp","Home"],nj=["ArrowUp","PageDown","End"],m4=[...p4,...nj],g4={ltr:[...R0,"ArrowRight"],rtl:[...R0,"ArrowLeft"]},v4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Wh="Menu",[kh,x4,y4]=Ig(Wh),[rc,rj]=ys(Wh,[y4,Hg,Ag]),Kg=Hg(),sj=Ag(),[w4,sc]=rc(Wh),[_4,Hh]=rc(Wh),oj=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:c,modal:u=!0}=n,h=Kg(e),[p,g]=w.useState(null),x=w.useRef(!1),y=Bs(c),b=$h(o);return w.useEffect(()=>{const C=()=>{x.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>x.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(HS,{...h,children:a.jsx(w4,{scope:e,open:t,onOpenChange:y,content:p,onContentChange:g,children:a.jsx(_4,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:x,dir:b,modal:u,children:r})})})};oj.displayName=Wh;var b4="MenuAnchor",my=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Kg(t);return a.jsx(VS,{...o,...r,ref:e})});my.displayName=b4;var gy="MenuPortal",[S4,ij]=rc(gy,{forceMount:void 0}),aj=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,c=sc(gy,e);return a.jsx(S4,{scope:e,forceMount:t,children:a.jsx(Io,{present:t||c.open,children:a.jsx(Vg,{asChild:!0,container:o,children:r})})})};aj.displayName=gy;var xs="MenuContent",[j4,vy]=rc(xs),lj=w.forwardRef((n,e)=>{const t=ij(xs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=sc(xs,n.__scopeMenu),u=Hh(xs,n.__scopeMenu);return a.jsx(kh.Provider,{scope:n.__scopeMenu,children:a.jsx(Io,{present:r||c.open,children:a.jsx(kh.Slot,{scope:n.__scopeMenu,children:u.modal?a.jsx(N4,{...o,ref:e}):a.jsx(k4,{...o,ref:e})})})})}),N4=w.forwardRef((n,e)=>{const t=sc(xs,n.__scopeMenu),r=w.useRef(null),o=It(e,r);return w.useEffect(()=>{const c=r.current;if(c)return py(c)},[]),a.jsx(xy,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:He(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),k4=w.forwardRef((n,e)=>{const t=sc(xs,n.__scopeMenu);return a.jsx(xy,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),C4=ql("MenuContent.ScrollLock"),xy=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,disableOutsideScroll:E,...P}=n,k=sc(xs,t),R=Hh(xs,t),N=Kg(t),T=sj(t),A=x4(t),[M,W]=w.useState(null),F=w.useRef(null),$=It(e,F,k.onContentChange),G=w.useRef(0),X=w.useRef(""),ne=w.useRef(0),ae=w.useRef(null),pe=w.useRef("right"),me=w.useRef(0),ke=E?qg:w.Fragment,ge=E?{as:C4,allowPinchZoom:!0}:void 0,be=Y=>{var te,fe;const re=X.current+Y,z=A().filter(je=>!je.disabled),U=document.activeElement,q=(te=z.find(je=>je.ref.current===U))==null?void 0:te.textValue,ie=z.map(je=>je.textValue),ue=F4(ie,re,q),he=(fe=z.find(je=>je.textValue===ue))==null?void 0:fe.ref.current;(function je(Ce){X.current=Ce,window.clearTimeout(G.current),Ce!==""&&(G.current=window.setTimeout(()=>je(""),1e3))})(re),he&&setTimeout(()=>he.focus())};w.useEffect(()=>()=>window.clearTimeout(G.current),[]),sy();const B=w.useCallback(Y=>{var z,U;return pe.current===((z=ae.current)==null?void 0:z.side)&&U4(Y,(U=ae.current)==null?void 0:U.area)},[]);return a.jsx(j4,{scope:t,searchRef:X,onItemEnter:w.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),onItemLeave:w.useCallback(Y=>{var re;B(Y)||((re=F.current)==null||re.focus(),W(null))},[B]),onTriggerLeave:w.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:w.useCallback(Y=>{ae.current=Y},[]),children:a.jsx(ke,{...ge,children:a.jsx(zg,{asChild:!0,trapped:o,onMountAutoFocus:He(c,Y=>{var re;Y.preventDefault(),(re=F.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:a.jsx(Fg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,children:a.jsx(Yb,{asChild:!0,...T,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:M,onCurrentTabStopIdChange:W,onEntryFocus:He(p,Y=>{R.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(GS,{role:"menu","aria-orientation":"vertical","data-state":jj(k.open),"data-radix-menu-content":"",dir:R.dir,...N,...P,ref:$,style:{outline:"none",...P.style},onKeyDown:He(P.onKeyDown,Y=>{const z=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,U=Y.ctrlKey||Y.altKey||Y.metaKey,q=Y.key.length===1;z&&(Y.key==="Tab"&&Y.preventDefault(),!U&&q&&be(Y.key));const ie=F.current;if(Y.target!==ie||!m4.includes(Y.key))return;Y.preventDefault();const he=A().filter(te=>!te.disabled).map(te=>te.ref.current);nj.includes(Y.key)&&he.reverse(),L4(he)}),onBlur:He(n.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(G.current),X.current="")}),onPointerMove:He(n.onPointerMove,Ch(Y=>{const re=Y.target,z=me.current!==Y.clientX;if(Y.currentTarget.contains(re)&&z){const U=Y.clientX>me.current?"right":"left";pe.current=U,me.current=Y.clientX}}))})})})})})})});lj.displayName=xs;var E4="MenuGroup",yy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(et.div,{role:"group",...r,ref:e})});yy.displayName=E4;var P4="MenuLabel",cj=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(et.div,{...r,ref:e})});cj.displayName=P4;var vg="MenuItem",e1="menu.itemSelect",Yg=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,c=w.useRef(null),u=Hh(vg,n.__scopeMenu),h=vy(vg,n.__scopeMenu),p=It(e,c),g=w.useRef(!1),x=()=>{const y=c.current;if(!t&&y){const b=new CustomEvent(e1,{bubbles:!0,cancelable:!0});y.addEventListener(e1,C=>r==null?void 0:r(C),{once:!0}),Ub(y,b),b.defaultPrevented?g.current=!1:u.onClose()}};return a.jsx(uj,{...o,ref:p,disabled:t,onClick:He(n.onClick,x),onPointerDown:y=>{var b;(b=n.onPointerDown)==null||b.call(n,y),g.current=!0},onPointerUp:He(n.onPointerUp,y=>{var b;g.current||(b=y.currentTarget)==null||b.click()}),onKeyDown:He(n.onKeyDown,y=>{const b=h.searchRef.current!=="";t||b&&y.key===" "||R0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});Yg.displayName=vg;var uj=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...c}=n,u=vy(vg,t),h=sj(t),p=w.useRef(null),g=It(e,p),[x,y]=w.useState(!1),[b,C]=w.useState("");return w.useEffect(()=>{const E=p.current;E&&C((E.textContent??"").trim())},[c.children]),a.jsx(kh.ItemSlot,{scope:t,disabled:r,textValue:o??b,children:a.jsx(Jb,{asChild:!0,...h,focusable:!r,children:a.jsx(et.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:g,onPointerMove:He(n.onPointerMove,Ch(E=>{r?u.onItemLeave(E):(u.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:He(n.onPointerLeave,Ch(E=>u.onItemLeave(E))),onFocus:He(n.onFocus,()=>y(!0)),onBlur:He(n.onBlur,()=>y(!1))})})})}),R4="MenuCheckboxItem",dj=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return a.jsx(gj,{scope:n.__scopeMenu,checked:t,children:a.jsx(Yg,{role:"menuitemcheckbox","aria-checked":xg(t)?"mixed":t,...o,ref:e,"data-state":_y(t),onSelect:He(o.onSelect,()=>r==null?void 0:r(xg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});dj.displayName=R4;var fj="MenuRadioGroup",[T4,O4]=rc(fj,{value:void 0,onValueChange:()=>{}}),hj=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,c=Bs(r);return a.jsx(T4,{scope:n.__scopeMenu,value:t,onValueChange:c,children:a.jsx(yy,{...o,ref:e})})});hj.displayName=fj;var pj="MenuRadioItem",mj=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=O4(pj,n.__scopeMenu),c=t===o.value;return a.jsx(gj,{scope:n.__scopeMenu,checked:c,children:a.jsx(Yg,{role:"menuitemradio","aria-checked":c,...r,ref:e,"data-state":_y(c),onSelect:He(r.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,t)},{checkForDefaultPrevented:!1})})})});mj.displayName=pj;var wy="MenuItemIndicator",[gj,I4]=rc(wy,{checked:!1}),vj=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,c=I4(wy,t);return a.jsx(Io,{present:r||xg(c.checked)||c.checked===!0,children:a.jsx(et.span,{...o,ref:e,"data-state":_y(c.checked)})})});vj.displayName=wy;var A4="MenuSeparator",xj=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});xj.displayName=A4;var M4="MenuArrow",yj=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Kg(t);return a.jsx(qS,{...o,...r,ref:e})});yj.displayName=M4;var D4="MenuSub",[zz,wj]=rc(D4),ah="MenuSubTrigger",_j=w.forwardRef((n,e)=>{const t=sc(ah,n.__scopeMenu),r=Hh(ah,n.__scopeMenu),o=wj(ah,n.__scopeMenu),c=vy(ah,n.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:p}=c,g={__scopeMenu:n.__scopeMenu},x=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>x,[x]),w.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),p(null)}},[h,p]),a.jsx(my,{asChild:!0,...g,children:a.jsx(uj,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":jj(t.open),...n,ref:Og(e,o.onTriggerChange),onClick:y=>{var b;(b=n.onClick)==null||b.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:He(n.onPointerMove,Ch(y=>{c.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),x()},100))})),onPointerLeave:He(n.onPointerLeave,Ch(y=>{var C,E;x();const b=(C=t.content)==null?void 0:C.getBoundingClientRect();if(b){const P=(E=t.content)==null?void 0:E.dataset.side,k=P==="right",R=k?-5:5,N=b[k?"left":"right"],T=b[k?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+R,y:y.clientY},{x:N,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:N,y:b.bottom}],side:P}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:He(n.onKeyDown,y=>{var C;const b=c.searchRef.current!=="";n.disabled||b&&y.key===" "||g4[r.dir].includes(y.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),y.preventDefault())})})})});_j.displayName=ah;var bj="MenuSubContent",Sj=w.forwardRef((n,e)=>{const t=ij(xs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=sc(xs,n.__scopeMenu),u=Hh(xs,n.__scopeMenu),h=wj(bj,n.__scopeMenu),p=w.useRef(null),g=It(e,p);return a.jsx(kh.Provider,{scope:n.__scopeMenu,children:a.jsx(Io,{present:r||c.open,children:a.jsx(kh.Slot,{scope:n.__scopeMenu,children:a.jsx(xy,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:g,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var y;u.isUsingKeyboardRef.current&&((y=p.current)==null||y.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:He(n.onFocusOutside,x=>{x.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:He(n.onEscapeKeyDown,x=>{u.onClose(),x.preventDefault()}),onKeyDown:He(n.onKeyDown,x=>{var C;const y=x.currentTarget.contains(x.target),b=v4[u.dir].includes(x.key);y&&b&&(c.onOpenChange(!1),(C=h.trigger)==null||C.focus(),x.preventDefault())})})})})})});Sj.displayName=bj;function jj(n){return n?"open":"closed"}function xg(n){return n==="indeterminate"}function _y(n){return xg(n)?"indeterminate":n?"checked":"unchecked"}function L4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function $4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function F4(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=$4(n,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function z4(n,e){const{x:t,y:r}=n;let o=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const h=e[c],p=e[u],g=h.x,x=h.y,y=p.x,b=p.y;x>r!=b>r&&t<(y-g)*(r-x)/(b-x)+g&&(o=!o)}return o}function U4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return z4(t,e)}function Ch(n){return e=>e.pointerType==="mouse"?n(e):void 0}var B4=oj,W4=my,H4=aj,V4=lj,G4=yy,q4=cj,K4=Yg,Y4=dj,J4=hj,X4=mj,Q4=vj,Z4=xj,e3=yj,t3=_j,n3=Sj,Jg="DropdownMenu",[r3,Uz]=ys(Jg,[rj]),pr=rj(),[s3,Nj]=r3(Jg),kj=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:c,onOpenChange:u,modal:h=!0}=n,p=pr(e),g=w.useRef(null),[x,y]=Ei({prop:o,defaultProp:c??!1,onChange:u,caller:Jg});return a.jsx(s3,{scope:e,triggerId:vs(),triggerRef:g,contentId:vs(),open:x,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),modal:h,children:a.jsx(B4,{...p,open:x,onOpenChange:y,dir:r,modal:h,children:t})})};kj.displayName=Jg;var Cj="DropdownMenuTrigger",Ej=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,c=Nj(Cj,t),u=pr(t);return a.jsx(W4,{asChild:!0,...u,children:a.jsx(et.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Og(e,c.triggerRef),onPointerDown:He(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:He(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});Ej.displayName=Cj;var o3="DropdownMenuPortal",Pj=n=>{const{__scopeDropdownMenu:e,...t}=n,r=pr(e);return a.jsx(H4,{...r,...t})};Pj.displayName=o3;var Rj="DropdownMenuContent",Tj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=Nj(Rj,t),c=pr(t),u=w.useRef(!1);return a.jsx(V4,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...r,ref:e,onCloseAutoFocus:He(n.onCloseAutoFocus,h=>{var p;u.current||(p=o.triggerRef.current)==null||p.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:He(n.onInteractOutside,h=>{const p=h.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,x=p.button===2||g;(!o.modal||x)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Tj.displayName=Rj;var i3="DropdownMenuGroup",a3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(G4,{...o,...r,ref:e})});a3.displayName=i3;var l3="DropdownMenuLabel",Oj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(q4,{...o,...r,ref:e})});Oj.displayName=l3;var c3="DropdownMenuItem",Ij=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(K4,{...o,...r,ref:e})});Ij.displayName=c3;var u3="DropdownMenuCheckboxItem",Aj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(Y4,{...o,...r,ref:e})});Aj.displayName=u3;var d3="DropdownMenuRadioGroup",f3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(J4,{...o,...r,ref:e})});f3.displayName=d3;var h3="DropdownMenuRadioItem",Mj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(X4,{...o,...r,ref:e})});Mj.displayName=h3;var p3="DropdownMenuItemIndicator",Dj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(Q4,{...o,...r,ref:e})});Dj.displayName=p3;var m3="DropdownMenuSeparator",Lj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(Z4,{...o,...r,ref:e})});Lj.displayName=m3;var g3="DropdownMenuArrow",v3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(e3,{...o,...r,ref:e})});v3.displayName=g3;var x3="DropdownMenuSubTrigger",$j=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(t3,{...o,...r,ref:e})});$j.displayName=x3;var y3="DropdownMenuSubContent",Fj=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=pr(t);return a.jsx(n3,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Fj.displayName=y3;var w3=kj,_3=Ej,b3=Pj,zj=Tj,Uj=Oj,Bj=Ij,Wj=Aj,Hj=Mj,Vj=Dj,Gj=Lj,qj=$j,Kj=Fj;const t1=w3,n1=_3,S3=w.forwardRef(({className:n,inset:e,children:t,...r},o)=>a.jsxs(qj,{ref:o,className:Fe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,a.jsx(fS,{className:"ml-auto"})]}));S3.displayName=qj.displayName;const j3=w.forwardRef(({className:n,...e},t)=>a.jsx(Kj,{ref:t,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));j3.displayName=Kj.displayName;const T0=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>a.jsx(b3,{children:a.jsx(zj,{ref:r,sideOffset:e,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));T0.displayName=zj.displayName;const O0=w.forwardRef(({className:n,inset:e,...t},r)=>a.jsx(Bj,{ref:r,className:Fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));O0.displayName=Bj.displayName;const N3=w.forwardRef(({className:n,children:e,checked:t,...r},o)=>a.jsxs(Wj,{ref:o,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Vj,{children:a.jsx(Pi,{className:"h-4 w-4"})})}),e]}));N3.displayName=Wj.displayName;const k3=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(Hj,{ref:r,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(Vj,{children:a.jsx(OM,{className:"h-2 w-2 fill-current"})})}),e]}));k3.displayName=Hj.displayName;const C3=w.forwardRef(({className:n,inset:e,...t},r)=>a.jsx(Uj,{ref:r,className:Fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));C3.displayName=Uj.displayName;const E3=w.forwardRef(({className:n,...e},t)=>a.jsx(Gj,{ref:t,className:Fe("-mx-1 my-1 h-px bg-muted",n),...e}));E3.displayName=Gj.displayName;const $l=[{code:"en",name:"English",flag:"🇬🇧",shortName:"EN"},{code:"ru",name:"Русский",flag:"🇷🇺",shortName:"RU"}];function Yj({variant:n="default"}){const{i18n:e,currentLanguage:t}=Qr(),[r,o]=w.useState($l.find(u=>u.code===t)||$l[0]);w.useEffect(()=>{const u=$l.find(h=>h.code===e.language)||$l[0];o(u)},[e.language]);const c=async u=>{console.log("Changing language to:",u);try{await e.changeLanguage(u),localStorage.setItem("pms_language",u),document.cookie=`pms_language=${u};path=/;max-age=31536000`,o($l.find(h=>h.code===u)),window.dispatchEvent(new Event("languagechange")),console.log("Language changed successfully to:",u)}catch(h){console.error("Error changing language:",h)}};return n==="compact"?a.jsxs(t1,{children:[a.jsx(n1,{asChild:!0,children:a.jsx(tt,{variant:"outline",size:"icon",title:"Change language",children:a.jsx("span",{className:"text-lg",children:r.flag})})}),a.jsx(T0,{align:"end",className:"w-48",children:$l.map(u=>a.jsxs(O0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[a.jsx("span",{className:"mr-2 text-lg",children:u.flag}),a.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&a.jsx(Pi,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]}):a.jsxs(t1,{children:[a.jsx(n1,{asChild:!0,children:a.jsxs(tt,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(mS,{className:"h-4 w-4"}),a.jsxs("span",{className:"hidden sm:inline",children:[r.flag," ",r.name]}),a.jsx("span",{className:"sm:hidden",children:r.flag})]})}),a.jsx(T0,{align:"end",className:"w-48",children:$l.map(u=>a.jsxs(O0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[a.jsx("span",{className:"mr-2 text-lg",children:u.flag}),a.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&a.jsx(Pi,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]})}const P3=()=>a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function Jj(){const{signInWithProvider:n,signInWithEmail:e,signUpWithEmail:t}=Dh(),{t:r}=Qr("auth"),[o,c]=w.useState(!1),[u,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),[b,C]=w.useState(""),E=async()=>{c(!0),y("");try{await n("google")}catch{y(r("errors.googleSignIn")),c(!1)}},P=async R=>{R.preventDefault(),c(!0),y(""),C("");try{await e(u,p)}catch(N){N.message.includes("Invalid login credentials")?y(r("errors.invalidCredentials")):N.message.includes("Email not confirmed")?y(r("errors.emailNotConfirmed")):y(r("errors.signInFailed"))}c(!1)},k=async R=>{if(R.preventDefault(),c(!0),y(""),C(""),p.length<6){y(r("errors.passwordTooShort")),c(!1);return}try{await t(u,p),C(r("messages.checkEmail")),h(""),g("")}catch(N){N.message.includes("already registered")?y(r("errors.emailAlreadyRegistered")):y(r("errors.signUpFailed"))}c(!1)};return a.jsxs(We,{className:"w-full max-w-md",children:[a.jsxs(ut,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx(QM,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(dt,{className:"text-2xl font-bold text-slate-800",children:r("appName")}),a.jsx(Yj,{})]}),a.jsx(No,{className:"text-slate-600",children:r("subtitle")})]}),a.jsxs(qe,{children:[x&&a.jsx(Po,{variant:"destructive",className:"mb-4",children:a.jsx(Ro,{children:x})}),b&&a.jsx(Po,{variant:"default",className:"mb-4",children:a.jsx(Ro,{children:b})}),a.jsxs(Dg,{defaultValue:"signin",className:"w-full",children:[a.jsxs(zh,{className:"grid w-full grid-cols-2",children:[a.jsx(Yr,{value:"signin",children:r("tabs.signIn")}),a.jsx(Yr,{value:"signup",children:r("tabs.signUp")})]}),a.jsx(Jr,{value:"signin",children:a.jsxs("form",{onSubmit:P,className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"email-signin",children:r("fields.email")}),a.jsx(st,{id:"email-signin",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"password-signin",children:r("fields.password")}),a.jsx(st,{id:"password-signin",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.password"),required:!0})]}),a.jsx(tt,{type:"submit",className:"w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):r("buttons.signIn")})]})}),a.jsx(Jr,{value:"signup",children:a.jsxs("form",{onSubmit:k,className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"email-signup",children:r("fields.email")}),a.jsx(st,{id:"email-signup",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"password-signup",children:r("fields.password")}),a.jsx(st,{id:"password-signup",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.passwordHint"),required:!0})]}),a.jsx(tt,{type:"submit",className:"w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingUp")]}):r("buttons.signUp")})]})})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-slate-500",children:r("divider")})})]}),a.jsx(tt,{onClick:E,className:"w-full",variant:"outline",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):a.jsxs(a.Fragment,{children:[a.jsx(P3,{}),r("buttons.signInWithGoogle")]})})]})]})}const Xg=w.createContext(null);Xg.displayName="PanelGroupContext";const an={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},by=10,Gl=w.useLayoutEffect,r1=W0.useId,R3=typeof r1=="function"?r1:()=>null;let T3=0;function Sy(n=null){const e=R3(),t=w.useRef(n||e||null);return t.current===null&&(t.current=""+T3++),n??t.current}function Xj({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:o,forwardedRef:c,id:u,maxSize:h,minSize:p,onCollapse:g,onExpand:x,onResize:y,order:b,style:C,tagName:E="div",...P}){const k=w.useContext(Xg);if(k===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:N,getPanelSize:T,getPanelStyle:A,groupId:M,isPanelCollapsed:W,reevaluatePanelConstraints:F,registerPanel:$,resizePanel:G,unregisterPanel:X}=k,ne=Sy(u),ae=w.useRef({callbacks:{onCollapse:g,onExpand:x,onResize:y},constraints:{collapsedSize:t,collapsible:r,defaultSize:o,maxSize:h,minSize:p},id:ne,idIsFromProps:u!==void 0,order:b});w.useRef({didLogMissingDefaultSizeWarning:!1}),Gl(()=>{const{callbacks:me,constraints:ke}=ae.current,ge={...ke};ae.current.id=ne,ae.current.idIsFromProps=u!==void 0,ae.current.order=b,me.onCollapse=g,me.onExpand=x,me.onResize=y,ke.collapsedSize=t,ke.collapsible=r,ke.defaultSize=o,ke.maxSize=h,ke.minSize=p,(ge.collapsedSize!==ke.collapsedSize||ge.collapsible!==ke.collapsible||ge.maxSize!==ke.maxSize||ge.minSize!==ke.minSize)&&F(ae.current,ge)}),Gl(()=>{const me=ae.current;return $(me),()=>{X(me)}},[b,ne,$,X]),w.useImperativeHandle(c,()=>({collapse:()=>{R(ae.current)},expand:me=>{N(ae.current,me)},getId(){return ne},getSize(){return T(ae.current)},isCollapsed(){return W(ae.current)},isExpanded(){return!W(ae.current)},resize:me=>{G(ae.current,me)}}),[R,N,T,W,ne,G]);const pe=A(ae.current,o);return w.createElement(E,{...P,children:n,className:e,id:ne,style:{...pe,...C},[an.groupId]:M,[an.panel]:"",[an.panelCollapsible]:r||void 0,[an.panelId]:ne,[an.panelSize]:parseFloat(""+pe.flexGrow).toFixed(1)})}const Qj=w.forwardRef((n,e)=>w.createElement(Xj,{...n,forwardedRef:e}));Xj.displayName="Panel";Qj.displayName="forwardRef(Panel)";let I0=null,Qm=-1,Sa=null;function O3(n,e){if(e){const t=(e&rN)!==0,r=(e&sN)!==0,o=(e&oN)!==0,c=(e&iN)!==0;if(t)return o?"se-resize":c?"ne-resize":"e-resize";if(r)return o?"sw-resize":c?"nw-resize":"w-resize";if(o)return"s-resize";if(c)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function I3(){Sa!==null&&(document.head.removeChild(Sa),I0=null,Sa=null,Qm=-1)}function Gx(n,e){var t,r;const o=O3(n,e);if(I0!==o){if(I0=o,Sa===null&&(Sa=document.createElement("style"),document.head.appendChild(Sa)),Qm>=0){var c;(c=Sa.sheet)===null||c===void 0||c.removeRule(Qm)}Qm=(t=(r=Sa.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&t!==void 0?t:-1}}function Zj(n){return n.type==="keydown"}function eN(n){return n.type.startsWith("pointer")}function tN(n){return n.type.startsWith("mouse")}function Qg(n){if(eN(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(tN(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function A3(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function M3(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function D3(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:i1(n),b:i1(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;ht(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:o1(s1(t.a)),b:o1(s1(t.b))};if(o.a===o.b){const c=r.childNodes,u={a:t.a.at(-1),b:t.b.at(-1)};let h=c.length;for(;h--;){const p=c[h];if(p===u.a)return 1;if(p===u.b)return-1}}return Math.sign(o.a-o.b)}const L3=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $3(n){var e;const t=getComputedStyle((e=nN(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function F3(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||$3(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||L3.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function s1(n){let e=n.length;for(;e--;){const t=n[e];if(ht(t,"Missing node"),F3(t))return t}return null}function o1(n){return n&&Number(getComputedStyle(n).zIndex)||0}function i1(n){const e=[];for(;n;)e.push(n),n=nN(n);return e}function nN(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const rN=1,sN=2,oN=4,iN=8,z3=A3()==="coarse";let Us=[],id=!1,Wl=new Map,Zg=new Map;const Eh=new Set;function U3(n,e,t,r,o){var c;const{ownerDocument:u}=e,h={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:o},p=(c=Wl.get(u))!==null&&c!==void 0?c:0;return Wl.set(u,p+1),Eh.add(h),yg(),function(){var x;Zg.delete(n),Eh.delete(h);const y=(x=Wl.get(u))!==null&&x!==void 0?x:1;if(Wl.set(u,y-1),yg(),y===1&&Wl.delete(u),Us.includes(h)){const b=Us.indexOf(h);b>=0&&Us.splice(b,1),Ny(),o("up",!0,null)}}}function B3(n){const{target:e}=n,{x:t,y:r}=Qg(n);id=!0,jy({target:e,x:t,y:r}),yg(),Us.length>0&&(wg("down",n),n.preventDefault(),aN(e)||n.stopImmediatePropagation())}function qx(n){const{x:e,y:t}=Qg(n);if(id&&n.buttons===0&&(id=!1,wg("up",n)),!id){const{target:r}=n;jy({target:r,x:e,y:t})}wg("move",n),Ny(),Us.length>0&&n.preventDefault()}function Kx(n){const{target:e}=n,{x:t,y:r}=Qg(n);Zg.clear(),id=!1,Us.length>0&&(n.preventDefault(),aN(e)||n.stopImmediatePropagation()),wg("up",n),jy({target:e,x:t,y:r}),Ny(),yg()}function aN(n){let e=n;for(;e;){if(e.hasAttribute(an.resizeHandle))return!0;e=e.parentElement}return!1}function jy({target:n,x:e,y:t}){Us.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),Eh.forEach(o=>{const{element:c,hitAreaMargins:u}=o,h=c.getBoundingClientRect(),{bottom:p,left:g,right:x,top:y}=h,b=z3?u.coarse:u.fine;if(e>=g-b&&e<=x+b&&t>=y-b&&t<=p+b){if(r!==null&&document.contains(r)&&c!==r&&!c.contains(r)&&!r.contains(c)&&D3(r,c)>0){let E=r,P=!1;for(;E&&!E.contains(c);){if(M3(E.getBoundingClientRect(),h)){P=!0;break}E=E.parentElement}if(P)return}Us.push(o)}})}function Yx(n,e){Zg.set(n,e)}function Ny(){let n=!1,e=!1;Us.forEach(r=>{const{direction:o}=r;o==="horizontal"?n=!0:e=!0});let t=0;Zg.forEach(r=>{t|=r}),n&&e?Gx("intersection",t):n?Gx("horizontal",t):e?Gx("vertical",t):I3()}let Jx=new AbortController;function yg(){Jx.abort(),Jx=new AbortController;const n={capture:!0,signal:Jx.signal};Eh.size&&(id?(Us.length>0&&Wl.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",Kx,n),r.addEventListener("pointerleave",qx,n),r.addEventListener("pointermove",qx,n))}),window.addEventListener("pointerup",Kx,n),window.addEventListener("pointercancel",Kx,n)):Wl.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",B3,n),r.addEventListener("pointermove",qx,n))}))}function wg(n,e){Eh.forEach(t=>{const{setResizeHandlerState:r}=t,o=Us.includes(t);r(n,o,e)})}function W3(){const[n,e]=w.useState(0);return w.useCallback(()=>e(t=>t+1),[])}function ht(n,e){if(!n)throw console.error(e),Error(e)}function Xl(n,e,t=by){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function _i(n,e,t=by){return Xl(n,e,t)===0}function qr(n,e,t){return Xl(n,e,t)===0}function H3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const o=n[r],c=e[r];if(!qr(o,c,t))return!1}return!0}function td({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];ht(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:c,maxSize:u=100,minSize:h=0}=r;if(Xl(t,h)<0)if(c){const p=(o+h)/2;Xl(t,p)<0?t=o:t=h}else t=h;return t=Math.min(u,t),t=parseFloat(t.toFixed(by)),t}function lh({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:c}){if(qr(n,0))return e;const u=[...e],[h,p]=r;ht(h!=null,"Invalid first pivot index"),ht(p!=null,"Invalid second pivot index");let g=0;if(c==="keyboard"){{const y=n<0?p:h,b=t[y];ht(b,`Panel constraints not found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const k=e[y];if(ht(k!=null,`Previous layout not found for panel index ${y}`),qr(k,C)){const R=P-k;Xl(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}{const y=n<0?h:p,b=t[y];ht(b,`No panel constraints found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const k=e[y];if(ht(k!=null,`Previous layout not found for panel index ${y}`),qr(k,P)){const R=k-C;Xl(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}}{const y=n<0?1:-1;let b=n<0?p:h,C=0;for(;;){const P=e[b];ht(P!=null,`Previous layout not found for panel index ${b}`);const R=td({panelConstraints:t,panelIndex:b,size:100})-P;if(C+=R,b+=y,b<0||b>=t.length)break}const E=Math.min(Math.abs(n),Math.abs(C));n=n<0?0-E:E}{let b=n<0?h:p;for(;b>=0&&b<t.length;){const C=Math.abs(n)-Math.abs(g),E=e[b];ht(E!=null,`Previous layout not found for panel index ${b}`);const P=E-C,k=td({panelConstraints:t,panelIndex:b,size:P});if(!qr(E,k)&&(g+=E-k,u[b]=k,g.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?b--:b++}}if(H3(o,u))return o;{const y=n<0?p:h,b=e[y];ht(b!=null,`Previous layout not found for panel index ${y}`);const C=b+g,E=td({panelConstraints:t,panelIndex:y,size:C});if(u[y]=E,!qr(E,C)){let P=C-E,R=n<0?p:h;for(;R>=0&&R<t.length;){const N=u[R];ht(N!=null,`Previous layout not found for panel index ${R}`);const T=N+P,A=td({panelConstraints:t,panelIndex:R,size:T});if(qr(N,A)||(P-=A-N,u[R]=A),qr(P,0))break;n>0?R--:R++}}}const x=u.reduce((y,b)=>b+y,0);return qr(x,100)?u:o}function V3({layout:n,panelsArray:e,pivotIndices:t}){let r=0,o=100,c=0,u=0;const h=t[0];ht(h!=null,"No pivot index found"),e.forEach((y,b)=>{const{constraints:C}=y,{maxSize:E=100,minSize:P=0}=C;b===h?(r=P,o=E):(c+=P,u+=E)});const p=Math.min(o,100-c),g=Math.max(r,100-u),x=n[h];return{valueMax:p,valueMin:g,valueNow:x}}function Ph(n,e=document){return Array.from(e.querySelectorAll(`[${an.resizeHandleId}][data-panel-group-id="${n}"]`))}function lN(n,e,t=document){const o=Ph(n,t).findIndex(c=>c.getAttribute(an.resizeHandleId)===e);return o??null}function cN(n,e,t){const r=lN(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function uN(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return r||null}function ev(n,e=document){const t=e.querySelector(`[${an.resizeHandleId}="${n}"]`);return t||null}function G3(n,e,t,r=document){var o,c,u,h;const p=ev(e,r),g=Ph(n,r),x=p?g.indexOf(p):-1,y=(o=(c=t[x])===null||c===void 0?void 0:c.id)!==null&&o!==void 0?o:null,b=(u=(h=t[x+1])===null||h===void 0?void 0:h.id)!==null&&u!==void 0?u:null;return[y,b]}function q3({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:o,panelGroupElement:c,setLayout:u}){w.useRef({didWarnAboutMissingResizeHandle:!1}),Gl(()=>{if(!c)return;const h=Ph(t,c);for(let p=0;p<o.length-1;p++){const{valueMax:g,valueMin:x,valueNow:y}=V3({layout:r,panelsArray:o,pivotIndices:[p,p+1]}),b=h[p];if(b!=null){const C=o[p];ht(C,`No panel data found for index "${p}"`),b.setAttribute("aria-controls",C.id),b.setAttribute("aria-valuemax",""+Math.round(g)),b.setAttribute("aria-valuemin",""+Math.round(x)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{h.forEach((p,g)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[t,r,o,c]),w.useEffect(()=>{if(!c)return;const h=e.current;ht(h,"Eager values not found");const{panelDataArray:p}=h,g=uN(t,c);ht(g!=null,`No group found for id "${t}"`);const x=Ph(t,c);ht(x,`No resize handles found for group id "${t}"`);const y=x.map(b=>{const C=b.getAttribute(an.resizeHandleId);ht(C,"Resize handle element has no handle id attribute");const[E,P]=G3(t,C,p,c);if(E==null||P==null)return()=>{};const k=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const N=p.findIndex(T=>T.id===E);if(N>=0){const T=p[N];ht(T,`No panel data found for index ${N}`);const A=r[N],{collapsedSize:M=0,collapsible:W,minSize:F=0}=T.constraints;if(A!=null&&W){const $=lh({delta:qr(A,M)?F-M:M-A,initialLayout:r,panelConstraints:p.map(G=>G.constraints),pivotIndices:cN(t,C,c),prevLayout:r,trigger:"keyboard"});r!==$&&u($)}}break}}};return b.addEventListener("keydown",k),()=>{b.removeEventListener("keydown",k)}});return()=>{y.forEach(b=>b())}},[c,n,e,t,r,o,u])}function a1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function dN(n,e){const t=n==="horizontal",{x:r,y:o}=Qg(e);return t?r:o}function K3(n,e,t,r,o){const c=t==="horizontal",u=ev(e,o);ht(u,`No resize handle element found for id "${e}"`);const h=u.getAttribute(an.groupId);ht(h,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=r;const g=dN(t,n),x=uN(h,o);ht(x,`No group element found for id "${h}"`);const y=x.getBoundingClientRect(),b=c?y.width:y.height;return(g-p)/b*100}function Y3(n,e,t,r,o,c){if(Zj(n)){const u=t==="horizontal";let h=0;n.shiftKey?h=100:o!=null?h=o:h=10;let p=0;switch(n.key){case"ArrowDown":p=u?0:h;break;case"ArrowLeft":p=u?-h:0;break;case"ArrowRight":p=u?h:0;break;case"ArrowUp":p=u?0:-h;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return r==null?0:K3(n,e,t,r,c)}function J3({panelDataArray:n}){const e=Array(n.length),t=n.map(c=>c.constraints);let r=0,o=100;for(let c=0;c<n.length;c++){const u=t[c];ht(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;h!=null&&(r++,e[c]=h,o-=h)}for(let c=0;c<n.length;c++){const u=t[c];ht(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;if(h!=null)continue;const p=n.length-r,g=o/p;r++,e[c]=g,o-=g}return e}function Ju(n,e,t){e.forEach((r,o)=>{const c=n[o];ht(c,`Panel data not found for index ${o}`);const{callbacks:u,constraints:h,id:p}=c,{collapsedSize:g=0,collapsible:x}=h,y=t[p];if(y==null||r!==y){t[p]=r;const{onCollapse:b,onExpand:C,onResize:E}=u;E&&E(r,y),x&&(b||C)&&(C&&(y==null||_i(y,g))&&!_i(r,g)&&C(),b&&(y==null||!_i(y,g))&&_i(r,g)&&b())}})}function Wm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function X3({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:o,precision:c=3}){const u=t[o];let h;return u==null?h=n!=null?n.toPrecision(c):"1":r.length===1?h="1":h=u.toPrecision(c),{flexBasis:0,flexGrow:h,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Q3(n,e=10){let t=null;return(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)}}function l1(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function fN(n){return`react-resizable-panels:${n}`}function hN(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:o,order:c}=e;return o?r:c?`${c}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function pN(n,e){try{const t=fN(n),r=e.getItem(t);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function Z3(n,e,t){var r,o;const c=(r=pN(n,t))!==null&&r!==void 0?r:{},u=hN(e);return(o=c[u])!==null&&o!==void 0?o:null}function e5(n,e,t,r,o){var c;const u=fN(n),h=hN(e),p=(c=pN(n,o))!==null&&c!==void 0?c:{};p[h]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(u,JSON.stringify(p))}catch(g){console.error(g)}}function c1({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((c,u)=>c+u,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(c=>`${c}%`).join(", ")}`);if(!qr(r,100)&&t.length>0)for(let c=0;c<e.length;c++){const u=t[c];ht(u!=null,`No layout data found for index ${c}`);const h=100/r*u;t[c]=h}let o=0;for(let c=0;c<e.length;c++){const u=t[c];ht(u!=null,`No layout data found for index ${c}`);const h=td({panelConstraints:e,panelIndex:c,size:u});u!=h&&(o+=u-h,t[c]=h)}if(!qr(o,0))for(let c=0;c<e.length;c++){const u=t[c];ht(u!=null,`No layout data found for index ${c}`);const h=u+o,p=td({panelConstraints:e,panelIndex:c,size:h});if(u!==p&&(o-=p-u,t[c]=p,qr(o,0)))break}return t}const t5=100,ch={getItem:n=>(l1(ch),ch.getItem(n)),setItem:(n,e)=>{l1(ch),ch.setItem(n,e)}},u1={};function mN({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:o,id:c=null,onLayout:u=null,keyboardResizeBy:h=null,storage:p=ch,style:g,tagName:x="div",...y}){const b=Sy(c),C=w.useRef(null),[E,P]=w.useState(null),[k,R]=w.useState([]),N=W3(),T=w.useRef({}),A=w.useRef(new Map),M=w.useRef(0),W=w.useRef({autoSaveId:n,direction:r,dragState:E,id:b,keyboardResizeBy:h,onLayout:u,storage:p}),F=w.useRef({layout:k,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>W.current.id,getLayout:()=>{const{layout:q}=F.current;return q},setLayout:q=>{const{onLayout:ie}=W.current,{layout:ue,panelDataArray:he}=F.current,te=c1({layout:q,panelConstraints:he.map(fe=>fe.constraints)});a1(ue,te)||(R(te),F.current.layout=te,ie&&ie(te),Ju(he,te,T.current))}}),[]),Gl(()=>{W.current.autoSaveId=n,W.current.direction=r,W.current.dragState=E,W.current.id=b,W.current.onLayout=u,W.current.storage=p}),q3({committedValuesRef:W,eagerValuesRef:F,groupId:b,layout:k,panelDataArray:F.current.panelDataArray,setLayout:R,panelGroupElement:C.current}),w.useEffect(()=>{const{panelDataArray:q}=F.current;if(n){if(k.length===0||k.length!==q.length)return;let ie=u1[n];ie==null&&(ie=Q3(e5,t5),u1[n]=ie);const ue=[...q],he=new Map(A.current);ie(n,ue,he,k,p)}},[n,k,p]),w.useEffect(()=>{});const $=w.useCallback(q=>{const{onLayout:ie}=W.current,{layout:ue,panelDataArray:he}=F.current;if(q.constraints.collapsible){const te=he.map(Be=>Be.constraints),{collapsedSize:fe=0,panelSize:je,pivotIndices:Ce}=Fl(he,q,ue);if(ht(je!=null,`Panel size not found for panel "${q.id}"`),!_i(je,fe)){A.current.set(q.id,je);const Ae=ed(he,q)===he.length-1?je-fe:fe-je,Je=lh({delta:Ae,initialLayout:ue,panelConstraints:te,pivotIndices:Ce,prevLayout:ue,trigger:"imperative-api"});Wm(ue,Je)||(R(Je),F.current.layout=Je,ie&&ie(Je),Ju(he,Je,T.current))}}},[]),G=w.useCallback((q,ie)=>{const{onLayout:ue}=W.current,{layout:he,panelDataArray:te}=F.current;if(q.constraints.collapsible){const fe=te.map(gt=>gt.constraints),{collapsedSize:je=0,panelSize:Ce=0,minSize:Be=0,pivotIndices:Ae}=Fl(te,q,he),Je=ie??Be;if(_i(Ce,je)){const gt=A.current.get(q.id),hn=gt!=null&&gt>=Je?gt:Je,Yt=ed(te,q)===te.length-1?Ce-hn:hn-Ce,en=lh({delta:Yt,initialLayout:he,panelConstraints:fe,pivotIndices:Ae,prevLayout:he,trigger:"imperative-api"});Wm(he,en)||(R(en),F.current.layout=en,ue&&ue(en),Ju(te,en,T.current))}}},[]),X=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{panelSize:he}=Fl(ue,q,ie);return ht(he!=null,`Panel size not found for panel "${q.id}"`),he},[]),ne=w.useCallback((q,ie)=>{const{panelDataArray:ue}=F.current,he=ed(ue,q);return X3({defaultSize:ie,dragState:E,layout:k,panelData:ue,panelIndex:he})},[E,k]),ae=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Fl(ue,q,ie);return ht(fe!=null,`Panel size not found for panel "${q.id}"`),te===!0&&_i(fe,he)},[]),pe=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Fl(ue,q,ie);return ht(fe!=null,`Panel size not found for panel "${q.id}"`),!te||Xl(fe,he)>0},[]),me=w.useCallback(q=>{const{panelDataArray:ie}=F.current;ie.push(q),ie.sort((ue,he)=>{const te=ue.order,fe=he.order;return te==null&&fe==null?0:te==null?-1:fe==null?1:te-fe}),F.current.panelDataArrayChanged=!0,N()},[N]);Gl(()=>{if(F.current.panelDataArrayChanged){F.current.panelDataArrayChanged=!1;const{autoSaveId:q,onLayout:ie,storage:ue}=W.current,{layout:he,panelDataArray:te}=F.current;let fe=null;if(q){const Ce=Z3(q,te,ue);Ce&&(A.current=new Map(Object.entries(Ce.expandToSizes)),fe=Ce.layout)}fe==null&&(fe=J3({panelDataArray:te}));const je=c1({layout:fe,panelConstraints:te.map(Ce=>Ce.constraints)});a1(he,je)||(R(je),F.current.layout=je,ie&&ie(je),Ju(te,je,T.current))}}),Gl(()=>{const q=F.current;return()=>{q.layout=[]}},[]);const ke=w.useCallback(q=>{let ie=!1;const ue=C.current;return ue&&window.getComputedStyle(ue,null).getPropertyValue("direction")==="rtl"&&(ie=!0),function(te){te.preventDefault();const fe=C.current;if(!fe)return()=>null;const{direction:je,dragState:Ce,id:Be,keyboardResizeBy:Ae,onLayout:Je}=W.current,{layout:gt,panelDataArray:hn}=F.current,{initialLayout:tr}=Ce??{},Yt=cN(Be,q,fe);let en=Y3(te,q,je,Ce,Ae,fe);const Or=je==="horizontal";Or&&ie&&(en=-en);const Ir=hn.map(Do=>Do.constraints),Gt=lh({delta:en,initialLayout:tr??gt,panelConstraints:Ir,pivotIndices:Yt,prevLayout:gt,trigger:Zj(te)?"keyboard":"mouse-or-touch"}),Zr=!Wm(gt,Gt);(eN(te)||tN(te))&&M.current!=en&&(M.current=en,!Zr&&en!==0?Or?Yx(q,en<0?rN:sN):Yx(q,en<0?oN:iN):Yx(q,0)),Zr&&(R(Gt),F.current.layout=Gt,Je&&Je(Gt),Ju(hn,Gt,T.current))}},[]),ge=w.useCallback((q,ie)=>{const{onLayout:ue}=W.current,{layout:he,panelDataArray:te}=F.current,fe=te.map(gt=>gt.constraints),{panelSize:je,pivotIndices:Ce}=Fl(te,q,he);ht(je!=null,`Panel size not found for panel "${q.id}"`);const Ae=ed(te,q)===te.length-1?je-ie:ie-je,Je=lh({delta:Ae,initialLayout:he,panelConstraints:fe,pivotIndices:Ce,prevLayout:he,trigger:"imperative-api"});Wm(he,Je)||(R(Je),F.current.layout=Je,ue&&ue(Je),Ju(te,Je,T.current))},[]),be=w.useCallback((q,ie)=>{const{layout:ue,panelDataArray:he}=F.current,{collapsedSize:te=0,collapsible:fe}=ie,{collapsedSize:je=0,collapsible:Ce,maxSize:Be=100,minSize:Ae=0}=q.constraints,{panelSize:Je}=Fl(he,q,ue);Je!=null&&(fe&&Ce&&_i(Je,te)?_i(te,je)||ge(q,je):Je<Ae?ge(q,Ae):Je>Be&&ge(q,Be))},[ge]),B=w.useCallback((q,ie)=>{const{direction:ue}=W.current,{layout:he}=F.current;if(!C.current)return;const te=ev(q,C.current);ht(te,`Drag handle element not found for id "${q}"`);const fe=dN(ue,ie);P({dragHandleId:q,dragHandleRect:te.getBoundingClientRect(),initialCursorPosition:fe,initialLayout:he})},[]),Y=w.useCallback(()=>{P(null)},[]),re=w.useCallback(q=>{const{panelDataArray:ie}=F.current,ue=ed(ie,q);ue>=0&&(ie.splice(ue,1),delete T.current[q.id],F.current.panelDataArrayChanged=!0,N())},[N]),z=w.useMemo(()=>({collapsePanel:$,direction:r,dragState:E,expandPanel:G,getPanelSize:X,getPanelStyle:ne,groupId:b,isPanelCollapsed:ae,isPanelExpanded:pe,reevaluatePanelConstraints:be,registerPanel:me,registerResizeHandle:ke,resizePanel:ge,startDragging:B,stopDragging:Y,unregisterPanel:re,panelGroupElement:C.current}),[$,E,r,G,X,ne,b,ae,pe,be,me,ke,ge,B,Y,re]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(Xg.Provider,{value:z},w.createElement(x,{...y,children:e,className:t,id:c,ref:C,style:{...U,...g},[an.group]:"",[an.groupDirection]:r,[an.groupId]:b}))}const gN=w.forwardRef((n,e)=>w.createElement(mN,{...n,forwardedRef:e}));mN.displayName="PanelGroup";gN.displayName="forwardRef(PanelGroup)";function ed(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Fl(n,e,t){const r=ed(n,e),c=r===n.length-1?[r-1,r]:[r,r+1],u=t[r];return{...e.constraints,panelSize:u,pivotIndices:c}}function n5({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){w.useEffect(()=>{if(n||t==null||r==null)return;const o=ev(e,r);if(o==null)return;const c=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),t(u);break}case"F6":{u.preventDefault();const h=o.getAttribute(an.groupId);ht(h,`No group element found for id "${h}"`);const p=Ph(h,r),g=lN(h,e,r);ht(g!==null,`No resize element found for id "${e}"`);const x=u.shiftKey?g>0?g-1:p.length-1:g+1<p.length?g+1:0;p[x].focus();break}}};return o.addEventListener("keydown",c),()=>{o.removeEventListener("keydown",c)}},[r,n,e,t])}function vN({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:o,onBlur:c,onClick:u,onDragging:h,onFocus:p,onPointerDown:g,onPointerUp:x,style:y={},tabIndex:b=0,tagName:C="div",...E}){var P,k;const R=w.useRef(null),N=w.useRef({onClick:u,onDragging:h,onPointerDown:g,onPointerUp:x});w.useEffect(()=>{N.current.onClick=u,N.current.onDragging=h,N.current.onPointerDown=g,N.current.onPointerUp=x});const T=w.useContext(Xg);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:A,groupId:M,registerResizeHandle:W,startDragging:F,stopDragging:$,panelGroupElement:G}=T,X=Sy(o),[ne,ae]=w.useState("inactive"),[pe,me]=w.useState(!1),[ke,ge]=w.useState(null),be=w.useRef({state:ne});Gl(()=>{be.current.state=ne}),w.useEffect(()=>{if(t)ge(null);else{const z=W(X);ge(()=>z)}},[t,X,W]);const B=(P=r==null?void 0:r.coarse)!==null&&P!==void 0?P:15,Y=(k=r==null?void 0:r.fine)!==null&&k!==void 0?k:5;w.useEffect(()=>{if(t||ke==null)return;const z=R.current;ht(z,"Element ref not attached");let U=!1;return U3(X,z,A,{coarse:B,fine:Y},(ie,ue,he)=>{if(!ue){ae("inactive");return}switch(ie){case"down":{ae("drag"),U=!1,ht(he,'Expected event to be defined for "down" action'),F(X,he);const{onDragging:te,onPointerDown:fe}=N.current;te==null||te(!0),fe==null||fe();break}case"move":{const{state:te}=be.current;U=!0,te!=="drag"&&ae("hover"),ht(he,'Expected event to be defined for "move" action'),ke(he);break}case"up":{ae("hover"),$();const{onClick:te,onDragging:fe,onPointerUp:je}=N.current;fe==null||fe(!1),je==null||je(),U||te==null||te();break}}})},[B,A,t,Y,W,X,ke,F,$]),n5({disabled:t,handleId:X,resizeHandler:ke,panelGroupElement:G});const re={touchAction:"none",userSelect:"none"};return w.createElement(C,{...E,children:n,className:e,id:o,onBlur:()=>{me(!1),c==null||c()},onFocus:()=>{me(!0),p==null||p()},ref:R,role:"separator",style:{...re,...y},tabIndex:b,[an.groupDirection]:A,[an.groupId]:M,[an.resizeHandle]:"",[an.resizeHandleActive]:ne==="drag"?"pointer":pe?"keyboard":void 0,[an.resizeHandleEnabled]:!t,[an.resizeHandleId]:X,[an.resizeHandleState]:ne})}vN.displayName="PanelResizeHandle";const d1=({className:n,...e})=>a.jsx(gN,{className:Fe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e}),Hm=Qj,f1=({withHandle:n,className:e,...t})=>a.jsx(vN,{className:Fe("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&a.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:a.jsx(KM,{className:"h-2.5 w-2.5"})})});var Xx={exports:{}},Qx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function r5(){if(h1)return Qx;h1=1;var n=Cg();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,c=n.useLayoutEffect,u=n.useDebugValue;function h(y,b){var C=b(),E=r({inst:{value:C,getSnapshot:b}}),P=E[0].inst,k=E[1];return c(function(){P.value=C,P.getSnapshot=b,p(P)&&k({inst:P})},[y,C,b]),o(function(){return p(P)&&k({inst:P}),y(function(){p(P)&&k({inst:P})})},[y]),u(C),C}function p(y){var b=y.getSnapshot;y=y.value;try{var C=b();return!t(y,C)}catch{return!0}}function g(y,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return Qx.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:x,Qx}var p1;function s5(){return p1||(p1=1,Xx.exports=r5()),Xx.exports}var o5=s5();function i5(){return o5.useSyncExternalStore(a5,()=>!0,()=>!1)}function a5(){return()=>{}}var ky="Avatar",[l5,Bz]=ys(ky),[c5,xN]=l5(ky),yN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,c]=w.useState("idle");return a.jsx(c5,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:a.jsx(et.span,{...r,ref:e})})});yN.displayName=ky;var wN="AvatarImage",_N=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...c}=n,u=xN(wN,t),h=u5(r,c),p=Bs(g=>{o(g),u.onImageLoadingStatusChange(g)});return vn(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?a.jsx(et.img,{...c,ref:e,src:r}):null});_N.displayName=wN;var bN="AvatarFallback",SN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,c=xN(bN,t),[u,h]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),u&&c.imageLoadingStatus!=="loaded"?a.jsx(et.span,{...o,ref:e}):null});SN.displayName=bN;function m1(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function u5(n,{referrerPolicy:e,crossOrigin:t}){const r=i5(),o=w.useRef(null),c=r?(o.current||(o.current=new window.Image),o.current):null,[u,h]=w.useState(()=>m1(c,n));return vn(()=>{h(m1(c,n))},[c,n]),vn(()=>{const p=y=>()=>{h(y)};if(!c)return;const g=p("loaded"),x=p("error");return c.addEventListener("load",g),c.addEventListener("error",x),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",g),c.removeEventListener("error",x)}},[c,t,e]),u}var jN=yN,NN=_N,kN=SN;const CN=w.forwardRef(({className:n,...e},t)=>a.jsx(jN,{ref:t,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));CN.displayName=jN.displayName;const EN=w.forwardRef(({className:n,...e},t)=>a.jsx(NN,{ref:t,className:Fe("aspect-square h-full w-full",n),...e}));EN.displayName=NN.displayName;const PN=w.forwardRef(({className:n,...e},t)=>a.jsx(kN,{ref:t,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));PN.displayName=kN.displayName;function fn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Gs(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function RN(n,e){const t=fn(n);return isNaN(e)?Gs(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function g1(n,e){const t=fn(n);if(isNaN(e))return Gs(n,NaN);if(!e)return t;const r=t.getDate(),o=Gs(n,t.getTime());o.setMonth(t.getMonth()+e+1,0);const c=o.getDate();return r>=c?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}const TN=6048e5,d5=864e5,ON=6e4,IN=36e5;let f5={};function tv(){return f5}function Ql(n,e){var h,p,g,x;const t=tv(),r=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,o=fn(n),c=o.getDay(),u=(c<r?7:0)+c-r;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function _g(n){return Ql(n,{weekStartsOn:1})}function AN(n){const e=fn(n),t=e.getFullYear(),r=Gs(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const o=_g(r),c=Gs(n,0);c.setFullYear(t,0,4),c.setHours(0,0,0,0);const u=_g(c);return e.getTime()>=o.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function Ca(n){const e=fn(n);return e.setHours(0,0,0,0),e}function v1(n){const e=fn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Cy(n,e){const t=Ca(n),r=Ca(e),o=+t-v1(t),c=+r-v1(r);return Math.round((o-c)/d5)}function h5(n){const e=AN(n),t=Gs(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),_g(t)}function MN(n){return Gs(n,Date.now())}function Ey(n,e){const t=Ca(n),r=Ca(e);return+t==+r}function p5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function DN(n){if(!p5(n)&&typeof n!="number")return!1;const e=fn(n);return!isNaN(Number(e))}function A0(n,e){const t=fn(n),r=fn(e),o=x1(t,r),c=Math.abs(Cy(t,r));t.setDate(t.getDate()-o*c);const u=+(x1(t,r)===-o),h=o*(c-u);return h===0?0:h}function x1(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function m5(n){const e=fn(n);return e.setHours(23,59,59,999),e}function Zx(n){const e=fn(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function g5(n,e){const t=fn(n.start),r=fn(n.end);let o=+t>+r;const c=o?+t:+r,u=o?r:t;u.setHours(0,0,0,0);let h=1;const p=[];for(;+u<=c;)p.push(fn(u)),u.setDate(u.getDate()+h),u.setHours(0,0,0,0);return o?p.reverse():p}function Vm(n){const e=fn(n);return e.setDate(1),e.setHours(0,0,0,0),e}function v5(n){const e=fn(n),t=Gs(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const x5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y5=(n,e,t)=>{let r;const o=x5[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function ad(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const w5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S5={date:ad({formats:w5,defaultWidth:"full"}),time:ad({formats:_5,defaultWidth:"full"}),dateTime:ad({formats:b5,defaultWidth:"full"})},j5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},N5=(n,e,t,r)=>j5[n];function bo(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;o=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[u]}const c=n.argumentCallback?n.argumentCallback(e):e;return o[c]}}const k5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O5=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},I5={ordinalNumber:O5,era:bo({values:k5,defaultWidth:"wide"}),quarter:bo({values:C5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:bo({values:E5,defaultWidth:"wide"}),day:bo({values:P5,defaultWidth:"wide"}),dayPeriod:bo({values:R5,defaultWidth:"wide",formattingValues:T5,defaultFormattingWidth:"wide"})};function So(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],c=e.match(o);if(!c)return null;const u=c[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?M5(h,y=>y.test(u)):A5(h,y=>y.test(u));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const x=e.slice(u.length);return{value:g,rest:x}}}function A5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function M5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function LN(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],c=e.match(n.parsePattern);if(!c)return null;let u=n.valueCallback?n.valueCallback(c[0]):c[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}const D5=/^(\d+)(th|st|nd|rd)?/i,L5=/\d+/i,$5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F5={any:[/^b/i,/^(a|c)/i]},z5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U5={any:[/1/i,/2/i,/3/i,/4/i]},B5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K5={ordinalNumber:LN({matchPattern:D5,parsePattern:L5,valueCallback:n=>parseInt(n,10)}),era:So({matchPatterns:$5,defaultMatchWidth:"wide",parsePatterns:F5,defaultParseWidth:"any"}),quarter:So({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:U5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:So({matchPatterns:B5,defaultMatchWidth:"wide",parsePatterns:W5,defaultParseWidth:"any"}),day:So({matchPatterns:H5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:G5,defaultMatchWidth:"any",parsePatterns:q5,defaultParseWidth:"any"})},Mo={code:"en-US",formatDistance:y5,formatLong:S5,formatRelative:N5,localize:I5,match:K5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y5(n){const e=fn(n);return Cy(e,v5(e))+1}function J5(n){const e=fn(n),t=+_g(e)-+h5(e);return Math.round(t/TN)+1}function $N(n,e){var x,y,b,C;const t=fn(n),r=t.getFullYear(),o=tv(),c=(e==null?void 0:e.firstWeekContainsDate)??((y=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(b=o.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=Gs(n,0);u.setFullYear(r+1,0,c),u.setHours(0,0,0,0);const h=Ql(u,e),p=Gs(n,0);p.setFullYear(r,0,c),p.setHours(0,0,0,0);const g=Ql(p,e);return t.getTime()>=h.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function X5(n,e){var h,p,g,x;const t=tv(),r=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=$N(n,e),c=Gs(n,0);return c.setFullYear(o,0,r),c.setHours(0,0,0,0),Ql(c,e)}function Q5(n,e){const t=fn(n),r=+Ql(t,e)-+X5(t,e);return Math.round(r/TN)+1}function Ot(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ya={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Ot(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Ot(t+1,2)},d(n,e){return Ot(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Ot(n.getHours()%12||12,e.length)},H(n,e){return Ot(n.getHours(),e.length)},m(n,e){return Ot(n.getMinutes(),e.length)},s(n,e){return Ot(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return Ot(o,e.length)}},Xu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},y1={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return ya.y(n,e)},Y:function(n,e,t,r){const o=$N(n,r),c=o>0?o:1-o;if(e==="YY"){const u=c%100;return Ot(u,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):Ot(c,e.length)},R:function(n,e){const t=AN(n);return Ot(t,e.length)},u:function(n,e){const t=n.getFullYear();return Ot(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Ot(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Ot(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ya.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Ot(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const o=Q5(n,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Ot(o,e.length)},I:function(n,e,t){const r=J5(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Ot(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ya.d(n,e)},D:function(n,e,t){const r=Y5(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Ot(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Ot(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Ot(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Ot(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let o;switch(r===12?o=Xu.noon:r===0?o=Xu.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let o;switch(r>=17?o=Xu.evening:r>=12?o=Xu.afternoon:r>=4?o=Xu.morning:o=Xu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ya.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ya.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Ot(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ya.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ya.s(n,e)},S:function(n,e){return ya.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return _1(r);case"XXXX":case"XX":return Ul(r);case"XXXXX":case"XXX":default:return Ul(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return _1(r);case"xxxx":case"xx":return Ul(r);case"xxxxx":case"xxx":default:return Ul(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+w1(r,":");case"OOOO":default:return"GMT"+Ul(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+w1(r,":");case"zzzz":default:return"GMT"+Ul(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Ot(r,e.length)},T:function(n,e,t){const r=n.getTime();return Ot(r,e.length)}};function w1(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Math.trunc(r/60),c=r%60;return c===0?t+String(o):t+String(o)+e+Ot(c,2)}function _1(n,e){return n%60===0?(n>0?"-":"+")+Ot(Math.abs(n)/60,2):Ul(n,e)}function Ul(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Ot(Math.trunc(r/60),2),c=Ot(r%60,2);return t+o+e+c}const b1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},FN=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return b1(n,e);let c;switch(r){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",b1(r,e)).replace("{{time}}",FN(o,e))},e6={p:FN,P:Z5},t6=/^D+$/,n6=/^Y+$/,r6=["D","DD","YY","YYYY"];function s6(n){return t6.test(n)}function o6(n){return n6.test(n)}function i6(n,e,t){const r=a6(n,e,t);if(console.warn(r),r6.includes(n))throw new RangeError(r)}function a6(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u6=/^'([^]*?)'?$/,d6=/''/g,f6=/[a-zA-Z]/;function Ue(n,e,t){var x,y,b,C,E,P,k,R;const r=tv(),o=(t==null?void 0:t.locale)??r.locale??Mo,c=(t==null?void 0:t.firstWeekContainsDate)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((P=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:P.weekStartsOn)??r.weekStartsOn??((R=(k=r.locale)==null?void 0:k.options)==null?void 0:R.weekStartsOn)??0,h=fn(n);if(!DN(h))throw new RangeError("Invalid time value");let p=e.match(c6).map(N=>{const T=N[0];if(T==="p"||T==="P"){const A=e6[T];return A(N,o.formatLong)}return N}).join("").match(l6).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const T=N[0];if(T==="'")return{isToken:!1,value:h6(N)};if(y1[T])return{isToken:!0,value:N};if(T.match(f6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:N}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const g={firstWeekContainsDate:c,weekStartsOn:u,locale:o};return p.map(N=>{if(!N.isToken)return N.value;const T=N.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&o6(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&s6(T))&&i6(T,e,String(n));const A=y1[T[0]];return A(h,T,o.localize,g)}).join("")}function h6(n){const e=n.match(u6);return e?e[1].replace(d6,"'"):n}function S1(n,e,t){const r=Ql(n,t),o=Ql(e,t);return+r==+o}function Rh(n){return Ey(n,MN(n))}function p6(n,e){return RN(n,-1)}function m6(n){return Ey(n,p6(MN(n)))}function wt(n,e){const r=y6(n);let o;if(r.date){const p=w6(r.date,2);o=_6(p.restDateString,p.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const c=o.getTime();let u=0,h;if(r.time&&(u=b6(r.time),isNaN(u)))return new Date(NaN);if(r.timezone){if(h=S6(r.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(c+u),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(c+u+h)}const Gm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y6(n){const e={},t=n.split(Gm.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Gm.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Gm.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const o=Gm.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function w6(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:c===null?o:c*100,restDateString:n.slice((r[1]||r[2]).length)}}function _6(n,e){if(e===null)return new Date(NaN);const t=n.match(g6);if(!t)return new Date(NaN);const r=!!t[4],o=sh(t[1]),c=sh(t[2])-1,u=sh(t[3]),h=sh(t[4]),p=sh(t[5])-1;if(r)return E6(e,h,p)?j6(e,h,p):new Date(NaN);{const g=new Date(0);return!k6(e,c,u)||!C6(e,o)?new Date(NaN):(g.setUTCFullYear(e,c,Math.max(o,u)),g)}}function sh(n){return n?parseInt(n):1}function b6(n){const e=n.match(v6);if(!e)return NaN;const t=e0(e[1]),r=e0(e[2]),o=e0(e[3]);return P6(t,r,o)?t*IN+r*ON+o*1e3:NaN}function e0(n){return n&&parseFloat(n.replace(",","."))||0}function S6(n){if(n==="Z")return 0;const e=n.match(x6);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return R6(r,o)?t*(r*IN+o*ON):NaN}function j6(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const o=r.getUTCDay()||7,c=(e-1)*7+t+1-o;return r.setUTCDate(r.getUTCDate()+c),r}const N6=[31,null,31,30,31,30,31,31,30,31,30,31];function zN(n){return n%400===0||n%4===0&&n%100!==0}function k6(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(N6[e]||(zN(n)?29:28))}function C6(n,e){return e>=1&&e<=(zN(n)?366:365)}function E6(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function P6(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function R6(n,e){return e>=0&&e<=59}function oh(n,e){if(n.one!==void 0&&e===1)return n.one;const t=e%10,r=e%100;return t===1&&r!==11?n.singularNominative.replace("{{count}}",String(e)):t>=2&&t<=4&&(r<10||r>20)?n.singularGenitive.replace("{{count}}",String(e)):n.pluralGenitive.replace("{{count}}",String(e))}function ur(n){return(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n.future?oh(n.future,e):"через "+oh(n.regular,e):n.past?oh(n.past,e):oh(n.regular,e)+" назад":oh(n.regular,e)}const T6={lessThanXSeconds:ur({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:ur({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(n,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:ur({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:ur({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:ur({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:ur({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:ur({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:ur({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:ur({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:ur({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:ur({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:ur({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:ur({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:ur({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:ur({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},O6=(n,e,t)=>T6[n](e,t),I6={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},A6={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},M6={any:"{{date}}, {{time}}"},D6={date:ad({formats:I6,defaultWidth:"full"}),time:ad({formats:A6,defaultWidth:"full"}),dateTime:ad({formats:M6,defaultWidth:"any"})},Py=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function L6(n){const e=Py[n];switch(n){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function j1(n){const e=Py[n];return n===2?"'во "+e+" в' p":"'в "+e+" в' p"}function $6(n){const e=Py[n];switch(n){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const F6={lastWeek:(n,e,t)=>{const r=n.getDay();return S1(n,e,t)?j1(r):L6(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(n,e,t)=>{const r=n.getDay();return S1(n,e,t)?j1(r):$6(r)},other:"P"},z6=(n,e,t,r)=>{const o=F6[n];return typeof o=="function"?o(e,t,r):o},U6={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},B6={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},W6={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},H6={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},V6={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},G6={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},q6={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},K6=(n,e)=>{const t=Number(n),r=e==null?void 0:e.unit;let o;return r==="date"?o="-е":r==="week"||r==="minute"||r==="second"?o="-я":o="-й",t+o},Y6={ordinalNumber:K6,era:bo({values:U6,defaultWidth:"wide"}),quarter:bo({values:B6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:bo({values:W6,defaultWidth:"wide",formattingValues:H6,defaultFormattingWidth:"wide"}),day:bo({values:V6,defaultWidth:"wide"}),dayPeriod:bo({values:G6,defaultWidth:"any",formattingValues:q6,defaultFormattingWidth:"wide"})},J6=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,X6=/\d+/i,Q6={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},Z6={any:[/^д/i,/^н/i]},eF={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},tF={any:[/1/i,/2/i,/3/i,/4/i]},nF={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},rF={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},sF={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},oF={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},iF={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},aF={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},lF={ordinalNumber:LN({matchPattern:J6,parsePattern:X6,valueCallback:n=>parseInt(n,10)}),era:So({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:Z6,defaultParseWidth:"any"}),quarter:So({matchPatterns:eF,defaultMatchWidth:"wide",parsePatterns:tF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:So({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),day:So({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:oF,defaultParseWidth:"any"}),dayPeriod:So({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"})},hr={code:"ru",formatDistance:O6,formatLong:D6,formatRelative:z6,localize:Y6,match:lF,options:{weekStartsOn:1,firstWeekContainsDate:1}},cF=({channel:n})=>{const e=typeof n=="string"?n.toLowerCase():"",t={whatsapp:a.jsx("img",{src:"/icons/whatsapp.png",alt:"WhatsApp",className:"h-4 w-4"}),telegram:a.jsx("img",{src:"/icons/telegram.png",alt:"Telegram",className:"h-4 w-4"}),avito:a.jsx("img",{src:"/icons/avito.png",alt:"Avito",className:"h-4 w-4"}),email:a.jsx("img",{src:"/icons/email.png",alt:"Email",className:"h-4 w-4"})};return t[e]?a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg border-2 border-white flex items-center justify-center transform transition-transform hover:scale-110",children:t[e]}):null},uF=({status:n,isLastMessageFromStaff:e})=>{if(!e)return null;switch(n){case"sent":return a.jsx("div",{className:"flex items-center",title:"Отправлено",children:a.jsx(Pi,{className:"h-3.5 w-3.5 text-slate-400"})});case"delivered":return a.jsx("div",{className:"flex items-center",title:"Доставлено",children:a.jsx(mh,{className:"h-3.5 w-3.5 text-slate-400"})});case"read":return a.jsx("div",{className:"flex items-center",title:"Прочитано",children:a.jsx(mh,{className:"h-3.5 w-3.5 text-blue-500"})});case"failed":return a.jsx("div",{className:"flex items-center",title:"Ошибка отправки",children:a.jsx(Ea,{className:"h-3.5 w-3.5 text-rose-500 animate-pulse"})});default:return null}},dF=n=>{if(!n)return"";const e=new Date(n);return DN(e)?Rh(e)?Ue(e,"HH:mm"):m6(e)?"Вчера":Ue(e,"dd.MM.yy",{locale:hr}):""},Zm=n=>n!=null&&n.contact_full_name?n.contact_full_name:`Диалог #${((n==null?void 0:n.id)||"").substring(0,6)}`,fF=n=>{const e=Zm(n);if(e.startsWith("Диалог"))return n.channel==="whatsapp"?"WA":n.channel==="telegram"?"TG":n.channel==="avito"?"AV":n.channel==="email"?"@":"??";const t=e.trim().split(" ");return t.length===1?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(r=>r[0]).join("").toUpperCase()};function N1({onConversationSelect:n,selectedConversation:e}){const[t,r]=w.useState([]),[o,c]=w.useState(!0),[u,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),b=async A=>{if(A.contact_avatar_url)return console.log(`ℹ️ Аватар уже есть для ${A.contact_full_name}`),null;if(!A.contact_id)return console.log(`❌ Нет contact_id для ${A.contact_full_name}`),null;if(A.channel!=="whatsapp"&&A.channel!=="telegram")return console.log(`ℹ️ Канал ${A.channel} не поддерживается для аватаров`),null;try{console.log(`🖼️ Загружаем аватар для ${A.channel}:`,A.contact_full_name);let M;if(A.channel==="telegram"?M=A.telegram_user_id:A.channel==="whatsapp"&&(M=A.whatsapp_sender_id),!M){console.log(`❌ Не найден external_id в диалоге для ${A.channel}`),console.log("🔄 Пробуем найти external_id в таблице contacts...");const{data:X,error:ne}=await Le.from("contacts").select("external_id").eq("id",A.contact_id).single();if(ne||!(X!=null&&X.external_id))return console.log("❌ external_id не найден и в таблице contacts"),null;M=X.external_id}console.log(`📞 Загружаем аватар для ${A.channel} ID:`,M);const W=A.channel==="telegram"?"fetch-telegram-avatar":"fetch-whatsapp-avatar",F=A.channel==="telegram"?"telegram_user_id":"wa_id",{data:$,error:G}=await Le.functions.invoke(W,{body:{[F]:M,contact_id:A.contact_id}});return G?(console.error("❌ Ошибка Edge Function:",G),null):$!=null&&$.success&&($!=null&&$.avatar_url)?(console.log("✅ Аватар загружен:",$.avatar_url),r(X=>X.map(ne=>ne.id===A.id?{...ne,contact_avatar_url:$.avatar_url}:ne)),$.avatar_url):(console.log("ℹ️ Аватар не найден:",($==null?void 0:$.message)||"Неизвестная ошибка"),null)}catch(M){return console.error("💥 Ошибка при загрузке аватара:",M),null}},C=w.useCallback(async A=>{console.log("🎯 Обновляем статус последнего сообщения в диалоге:",A);try{r(M=>M.map(W=>W.id===A.conversation_id&&W.last_message_sender_is_staff?(console.log(`✅ Обновляем статус диалога ${W.contact_full_name}: ${A.status}`),{...W,last_message_status:A.status,updated_at:new Date().toISOString()}):W)),console.log("✅ Статус диалога обновлен мгновенно")}catch(M){console.error("💥 Ошибка умного обновления статуса:",M),setTimeout(()=>k(!0),500)}},[]),E=async A=>{try{console.log("🧠 Получено сообщение от гостя, проверяем непрочитанные сообщения...");const{data:M,error:W}=await Le.from("messages").select("id, content, created_at").eq("conversation_id",A.conversation_id).eq("sender_type","staff").in("status",["sent","delivered"]).order("created_at",{ascending:!1});if(W){console.error("❌ Ошибка поиска непрочитанных сообщений:",W);return}if(!(M!=null&&M.length)){console.log("ℹ️ Нет непрочитанных сообщений от персонала");return}if(console.log(`📖 Найдено ${M.length} непрочитанных сообщений от персонала`),new Date-new Date(M[0].created_at)<1440*60*1e3){const G=M.map(ne=>ne.id),{error:X}=await Le.from("messages").update({status:"read",updated_at:new Date().toISOString()}).in("id",G);X?console.error("❌ Ошибка обновления статусов:",X):(console.log(`✅ Помечено как прочитанное ${G.length} сообщений (пользователь ответил)`),setTimeout(()=>k(!0),500))}else console.log("⏰ Сообщения слишком старые, не помечаем как прочитанные автоматически")}catch(M){console.error("💥 Ошибка умной логики прочтения:",M)}},P=async()=>{var A,M;console.log("🧪 Тестируем Telegram Avatar Function...");try{const W=await Le.functions.invoke("fetch-telegram-avatar",{body:{telegram_user_id:"1322101796",contact_id:"d860abee-90a9-4e01-a5bd-5ef07adb13da"}});console.log("📊 Результат тестирования:",W),(A=W.data)!=null&&A.success?(console.log("✅ Аватар успешно загружен:",W.data.avatar_url),k(!0)):console.log("❌ Не удалось загрузить аватар:",(M=W.data)==null?void 0:M.message)}catch(W){console.error("💥 Ошибка тестирования:",W)}},k=w.useCallback(async(A=!1)=>{console.log("🔄 Начинаем загрузку диалогов через RPC...",A?"(тихое обновление)":""),g(""),A||c(!0);try{const{data:M,error:W}=await Le.rpc("get_conversations");W?(console.error("❌ Ошибка RPC get_conversations:",W),g(`Ошибка RPC: ${W.message}`),y(`RPC ошибка: ${W.code} - ${W.message}`)):(console.log("✅ RPC функция вернула данные:",(M==null?void 0:M.length)||0),console.log("📊 Первые 3 диалога:",M==null?void 0:M.slice(0,3)),console.log("🖼️ Аватары:",M==null?void 0:M.slice(0,3).map(F=>({id:F.id,avatar:F.contact_avatar_url}))),r(M||[]),y(`RPC функция работает. Найдено: ${(M==null?void 0:M.length)||0} диалогов`))}catch(M){console.error("💥 Неожиданная ошибка:",M),g(`Неожиданная ошибка: ${M.message}`),y(`Исключение: ${M.message}`)}A||c(!1)},[]);w.useEffect(()=>{k();const A=Le.channel("public-db-changes-smart-read-sidebar").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},M=>{console.log("🔔 Новое сообщение в БД (sidebar):",M.new),M.new.sender_type==="guest"&&(console.log("👤 Сообщение от гостя"),e&&M.new.conversation_id===e.id?(console.log("📖 Сообщение в активном диалоге - помечаем как прочитанное сразу"),setTimeout(async()=>{const{error:W}=await Le.rpc("mark_conversation_as_read",{conv_id:M.new.conversation_id});W||console.log("✅ Активный диалог отмечен как прочитанный")},100)):(console.log("💭 Сообщение в неактивном диалоге - запускаем умную логику"),E(M.new))),setTimeout(()=>k(!0),300)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},M=>{console.log("🔄 Обновление сообщения (sidebar):",M.new.id,"статус:",M.new.status),C(M.new),setTimeout(()=>{console.log("🔄 Дополнительная синхронизация диалогов"),k(!0)},2e3)}).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},M=>{console.log("🔔 Изменение в диалогах:",M),setTimeout(()=>k(!0),500)}).subscribe();return console.log("📡 Подписка на умную логику прочтения (sidebar) настроена"),()=>{console.log("🔌 Отключаем подписку (sidebar)"),Le.removeChannel(A)}},[]);const R=async()=>{try{console.log("⏰ Проверяем старые сообщения для автоматического прочтения...");const A=new Date(Date.now()-7200*1e3).toISOString(),{data:M,error:W}=await Le.from("messages").select("id, conversation_id").eq("sender_type","staff").eq("status","delivered").lt("created_at",A);if(W||!(M!=null&&M.length))return;console.log(`📅 Найдено ${M.length} старых сообщений для автопрочтения`);const F=M.map(G=>G.id),{error:$}=await Le.from("messages").update({status:"read"}).in("id",F);$||console.log(`✅ Автоматически помечено как прочитанное ${F.length} старых сообщений`)}catch(A){console.error("💥 Ошибка автопрочтения старых сообщений:",A)}};w.useEffect(()=>{const A=async()=>{console.log("🔍 Проверяем аватары для всех диалогов...");const M=t.filter(W=>{const F=!W.contact_avatar_url,$=W.channel==="whatsapp"||W.channel==="telegram",G=W.contact_id;return console.log(`📋 Диалог ${W.contact_full_name}: канал=${W.channel}, аватар=${W.contact_avatar_url?"есть":"нет"}, contact_id=${W.contact_id?"есть":"нет"}`),F&&$&&G});if(console.log(`🔄 Найдено ${M.length} контактов без аватаров для загрузки`),M.length===0){console.log("✅ Все аватары уже загружены или каналы не поддерживаются");return}M.forEach(W=>{console.log(`🎯 Планируем загрузить аватар: ${W.contact_full_name} (${W.channel})`)});for(const W of M.slice(0,3))console.log(`⏳ Загружаем аватар для ${W.contact_full_name} (${W.channel})`),await b(W),await new Promise(F=>setTimeout(F,1e3))};t.length>0&&(console.log(`📊 Всего диалогов: ${t.length}`),A())},[t.length]);const N=async A=>{if(console.log("👆 Клик по диалогу:",A.id,"Непрочитанных:",A.unread_count),n(A),A.unread_count>0){r(W=>W.map(F=>F.id===A.id?{...F,unread_count:0}:F)),console.log("🔄 Отмечаем диалог как прочитанный...");const{error:M}=await Le.rpc("mark_conversation_as_read",{conv_id:A.id});M?(console.error("❌ Ошибка при отметке о прочтении:",M),r(W=>W.map(F=>F.id===A.id?{...F,unread_count:A.unread_count}:F))):console.log("✅ Диалог отмечен как прочитанный")}};w.useEffect(()=>{const A=setInterval(R,18e5);return()=>clearInterval(A)},[]);const T=t.filter(A=>u?Zm(A).toLowerCase().includes(u.toLowerCase()):!0);return a.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 via-white to-blue-50/30 backdrop-blur-xl",children:[a.jsxs("div",{className:"p-5 bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent flex items-center",children:[a.jsx("div",{className:"mr-3 p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg shadow-blue-500/20",children:a.jsx(dg,{className:"h-5 w-5 text-white"})}),"Сообщения"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:P,className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl text-xs hover:shadow-lg hover:shadow-blue-500/25 transform transition-all hover:-translate-y-0.5",title:"Тест Telegram Avatar",children:a.jsx(ED,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>k(!1),className:"p-2.5 bg-white hover:bg-slate-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group",title:"Обновить список",children:a.jsx(fg,{className:`h-4 w-4 text-slate-600 group-hover:text-blue-600 transition-colors ${o?"animate-spin":""}`})})]})]}),x&&a.jsx("div",{className:"mb-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-xl text-xs text-blue-700 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-pulse mr-2",children:"🔍"}),x]})}),p&&a.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-rose-50 to-pink-50 border border-rose-200/50 rounded-xl text-xs text-rose-700 flex items-center backdrop-blur-sm",children:[a.jsx(Ea,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl blur opacity-20 group-hover:opacity-30 transition-opacity"}),a.jsxs("div",{className:"relative",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),a.jsx(st,{placeholder:"Поиск по сообщениям...",value:u,onChange:A=>h(A.target.value),className:"pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border-slate-200/50 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 transition-all"})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[o&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl mb-4",children:a.jsx(fg,{className:"h-8 w-8 animate-spin text-blue-600"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Загрузка сообщений..."})]})}),!o&&!p&&T.length===0&&t.length===0&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl mb-4",children:a.jsx(dg,{className:"h-8 w-8 text-slate-400"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Диалогов пока нет"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Новые сообщения появятся здесь"})]})}),!o&&!p&&T.length===0&&t.length>0&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-100 to-amber-100 rounded-2xl mb-4",children:a.jsx(Yl,{className:"h-8 w-8 text-orange-500"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Ничего не найдено"}),a.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:['По запросу "',u,'"']})]})}),a.jsx("div",{className:"p-2",children:!o&&!p&&T.map(A=>a.jsx("div",{onClick:()=>N(A),className:`
                                relative mb-2 p-4 rounded-2xl cursor-pointer
                                transition-all duration-200 transform hover:scale-[1.02]
                                ${(e==null?void 0:e.id)===A.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 shadow-sm hover:shadow-md"}
                            `,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"relative flex-shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsxs(CN,{className:"h-12 w-12 ring-2 ring-white shadow-md",children:[A.contact_avatar_url?a.jsx(EN,{src:A.contact_avatar_url,alt:Zm(A),onError:M=>{console.log("❌ Ошибка загрузки аватара:",M.target.src),b(A)}}):null,a.jsx(PN,{className:`font-semibold text-sm ${(e==null?void 0:e.id)===A.id?"bg-white/20 text-white":"bg-gradient-to-br from-blue-500 to-purple-600 text-white"}`,children:fF(A)})]}),a.jsx(cF,{channel:A.channel})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:`font-semibold truncate flex-1 pr-2 ${(e==null?void 0:e.id)===A.id?"text-white":"text-slate-800"}`,children:Zm(A)}),a.jsx("span",{className:`text-xs flex-shrink-0 ${(e==null?void 0:e.id)===A.id?"text-white/80":"text-slate-400"}`,children:dF(A.updated_at)})]}),a.jsxs("div",{className:"flex items-start justify-between mt-1",children:[a.jsxs("p",{className:`text-sm truncate pr-2 ${(e==null?void 0:e.id)===A.id?"text-white/90":"text-slate-500"}`,children:[A.last_message_sender_is_staff&&a.jsx("span",{className:"font-medium",children:"Вы: "}),A.last_message_preview]}),a.jsx("div",{className:"flex-shrink-0 h-5 flex items-center justify-center min-w-[20px]",children:A.unread_count>0?a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 text-white text-xs font-bold rounded-full h-6 min-w-[24px] flex items-center justify-center px-1.5 shadow-lg shadow-emerald-500/30 animate-pulse",children:A.unread_count}):A.last_message_sender_is_staff?a.jsx(uF,{status:A.last_message_status,isLastMessageFromStaff:A.last_message_sender_is_staff}):null})]})]})]})},A.id))})]})]})}const hF=({status:n,channel:e})=>{if(e==="telegram"&&n==="read")return a.jsx("div",{className:"flex items-center ml-1.5",title:"Доставлено в Telegram",children:a.jsx(mh,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});switch(n){case"sent":return a.jsx("div",{className:"flex items-center ml-1.5",title:"Отправлено",children:a.jsx(Pi,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"delivered":const t=e==="telegram"?"Доставлено в Telegram":e==="email"?"Доставлено в почтовый ящик":e==="whatsapp"?"Доставлено в WhatsApp":"Доставлено";return a.jsx("div",{className:"flex items-center ml-1.5",title:t,children:a.jsx(mh,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"read":const r=e==="email"?"Прочитано (получатель открыл письмо)":e==="whatsapp"?"Прочитано в WhatsApp":"Прочитано";return a.jsx("div",{className:"flex items-center ml-1.5",title:r,children:a.jsx(mh,{className:"h-3.5 w-3.5 text-emerald-400 drop-shadow-glow"})});case"failed":const o=e==="email"?"Ошибка отправки письма":e==="whatsapp"?"Ошибка отправки в WhatsApp":e==="telegram"?"Ошибка отправки в Telegram":"Ошибка отправки";return a.jsx("div",{className:"flex items-center ml-1.5",title:o,children:a.jsx(Ea,{className:"h-3.5 w-3.5 text-rose-400 animate-pulse drop-shadow-glow"})});default:return null}},pF=({channel:n})=>{const e={whatsapp:"from-green-400 to-green-600 text-white",telegram:"from-blue-400 to-blue-600 text-white",avito:"from-purple-400 to-purple-600 text-white",email:"from-orange-400 to-orange-600 text-white"},t={whatsapp:"💬",telegram:"✈️",avito:"🏠",email:"📧"},r=e[n==null?void 0:n.toLowerCase()]||"from-slate-400 to-slate-600 text-white",o=t[n==null?void 0:n.toLowerCase()]||"💬";return a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r ${r} rounded-full text-xs font-medium shadow-md`,children:[a.jsx("span",{children:o}),a.jsx("span",{className:"capitalize",children:n})]})};function M0({selectedConversation:n}){const{user:e}=Dh(),[t,r]=w.useState([]),[o,c]=w.useState(""),[u,h]=w.useState(!1),[p,g]=w.useState(!1),x=w.useRef(null);w.useEffect(()=>{if(!(n!=null&&n.id)){r([]);return}(async()=>{h(!0);try{const{data:N,error:T}=await Le.from("messages").select("*").eq("conversation_id",n.id).order("created_at",{ascending:!0});if(T)throw T;r(N||[])}catch(N){console.error("Ошибка загрузки сообщений:",N)}finally{h(!1)}})();const R=Le.channel(`messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},N=>{console.log("💬 Новое сообщение в чате:",N.new),r(T=>T.find(A=>A.id===N.new.id)?T:[...T,N.new])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},N=>{console.log("🔄 Обновление статуса сообщения:",N.new.id,"статус:",N.new.status,"канал:",N.new.channel),r(T=>T.map(A=>A.id===N.new.id?{...A,status:N.new.status,brevo_message_id:N.new.brevo_message_id}:A))}).subscribe();return()=>{Le.removeChannel(R)}},[n==null?void 0:n.id]),w.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[t]);const y=async()=>{var T;const k=n;if(!o.trim()||!k||!e)return;const R=o.trim();c("");const N={id:`temp-${Date.now()}`,conversation_id:k.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent",created_at:new Date().toISOString(),isOptimistic:!0};r(A=>[...A,N]);try{console.log(`📤 Отправляем сообщение в ${k.channel}:`,R);const{data:A,error:M}=await Le.from("messages").insert({conversation_id:k.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent"}).select().single();if(M)throw M;console.log("✅ Сообщение сохранено в БД:",A.id),r(G=>G.map(X=>X.id===N.id?{...A,isOptimistic:!1}:X));const W=(T=k.channel)==null?void 0:T.toLowerCase();let F=null,$={conversation_id:k.id,message_id:A.id,content:R};switch(W){case"whatsapp":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_whatsapp",console.log("📱 Отправляем в WhatsApp...");break;case"telegram":F="https://vodahotel.app.n8n.cloud/webhook/telegram-reply",console.log("🤖 Отправляем в Telegram...");break;case"avito":F="https://vodahotel.app.n8n.cloud/webhook/c2e07a8b-9c99-4dfb-b45f-37e6db393a54",console.log("🏠 Отправляем в Avito...");break;case"email":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_email_brevo",console.log("📧 Отправляем в Email через Brevo...");break;default:console.warn("⚠️ Неизвестный канал:",k.channel);return}if(F){console.log("🔗 Вызываем webhook:",F),console.log("📦 Payload:",$);const G=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(G.ok){console.log(`✅ Webhook успешно вызван для ${k.channel}`);try{const X=await G.json();if(console.log(`📊 ${k.channel} Response:`,X),W==="whatsapp"&&X&&X.messages&&X.messages[0]&&X.messages[0].id){const ne=X.messages[0].id;await Le.from("messages").update({whatsapp_message_id:ne}).eq("id",A.id),console.log("✅ WhatsApp Message ID сохранен:",ne)}W==="email"&&X&&X.messageId&&console.log("✅ Email отправлен через Brevo, messageId:",X.messageId)}catch(X){console.log("ℹ️ Не удалось получить response JSON:",X.message)}W==="telegram"&&(console.log("🧪 Запускаем симуляцию статусов для Telegram..."),setTimeout(async()=>{try{await Le.from("messages").update({status:"delivered"}).eq("id",A.id),console.log("📬 Статус обновлен: delivered")}catch(X){console.error("❌ Ошибка обновления delivered:",X)}},1500))}else{console.error(`❌ Ошибка webhook для ${k.channel}:`,G.status);const X=await G.text();console.error("Ошибка webhook:",X),r(ne=>ne.map(ae=>ae.id===N.id||ae.id===A.id?{...ae.id===N.id?A:ae,status:"failed"}:ae)),await Le.from("messages").update({status:"failed"}).eq("id",A.id)}}}catch(A){console.error("💥 Ошибка отправки сообщения:",A),r(M=>M.filter(W=>W.id!==N.id))}},b=()=>n?n.contact_full_name||"Неизвестный контакт":"",C=k=>{const R={};return k.forEach(N=>{const T=Ue(new Date(N.created_at),"yyyy-MM-dd");R[T]||(R[T]=[]),R[T].push(N)}),R},E=k=>{const R=new Date(k),N=new Date,T=new Date(N);return T.setDate(T.getDate()-1),Ue(R,"yyyy-MM-dd")===Ue(N,"yyyy-MM-dd")?"Сегодня":Ue(R,"yyyy-MM-dd")===Ue(T,"yyyy-MM-dd")?"Вчера":Ue(R,"d MMMM yyyy",{locale:hr})},P=C(t);return a.jsx("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50/50 via-white to-blue-50/30",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 py-4 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:b()}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(pF,{channel:n.channel}),p&&a.jsx("span",{className:"text-xs text-green-600 font-medium animate-pulse",children:"печатает..."})]})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(Ia,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(VD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(zM,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[u&&a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Загрузка сообщений..."})]})}),Object.entries(P).map(([k,R])=>a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-center my-4",children:a.jsx("div",{className:"px-4 py-1.5 bg-white/80 backdrop-blur-sm rounded-full shadow-sm border border-slate-200/50",children:a.jsx("span",{className:"text-xs font-medium text-slate-600",children:E(k)})})}),R.map(N=>{var A;const T=N.sender_type==="staff";return a.jsx("div",{className:`flex mb-3 ${T?"justify-end":"justify-start"} animate-fadeIn`,children:a.jsxs("div",{className:`group relative max-w-[70%] ${T?"items-end":"items-start"}`,children:[a.jsx("div",{className:`
                            px-4 py-2.5 rounded-2xl break-words shadow-sm
                            transition-all duration-200 transform hover:scale-[1.02]
                            ${T?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md shadow-lg shadow-blue-500/20":"bg-white text-slate-900 rounded-bl-md shadow-md border border-slate-100"}
                            ${N.isOptimistic?"opacity-70":""}
                          `,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:a.jsxs("div",{className:"flex items-end justify-between gap-2",children:[a.jsx("p",{className:"break-words whitespace-pre-wrap flex-1 leading-relaxed",children:N.content}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 self-end ml-2",children:[N.created_at&&a.jsx("span",{className:`text-xs leading-none ${T?"text-blue-100":"text-slate-400"}`,children:Ue(new Date(N.created_at),"HH:mm",{locale:hr})}),T&&N.status&&a.jsx(hF,{status:N.status,channel:(A=n==null?void 0:n.channel)==null?void 0:A.toLowerCase()})]})]})}),a.jsx("div",{className:`
                          absolute bottom-0 w-2 h-2
                          ${T?"right-[-4px] bg-gradient-to-r from-blue-500 to-blue-600":"left-[-4px] bg-white border-l border-b border-slate-100"}
                          ${T?"rounded-bl-md":"rounded-br-md"}
                        `})]})},N.id)})]},k)),a.jsx("div",{ref:x})]}),a.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-xl border-t border-slate-200/50",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(dD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),a.jsxs("div",{className:"flex-1 relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur opacity-0 group-focus-within:opacity-20 transition-opacity"}),a.jsx(st,{placeholder:"Введите сообщение...",value:o,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),y())},className:"relative pl-4 pr-4 py-3 bg-slate-50 border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 focus:bg-white transition-all placeholder:text-slate-400"})]}),a.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(kD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),a.jsx(tt,{onClick:y,disabled:!o.trim(),className:`
                  px-4 py-3 rounded-xl font-medium transition-all duration-200 transform
                  ${o.trim()?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5":"bg-slate-200 text-slate-400 cursor-not-allowed"}
                `,children:a.jsx(bD,{className:"h-5 w-5"})})]})})]}):a.jsx("div",{className:"flex h-full items-center justify-center p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl mb-6 shadow-lg shadow-blue-500/10",children:a.jsx(dg,{className:"h-16 w-16 text-gradient bg-gradient-to-br from-blue-500 to-purple-600",style:{background:"linear-gradient(135deg, #3b82f6 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})}),a.jsx("p",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Выберите диалог"}),a.jsx("p",{className:"text-sm text-slate-500 max-w-xs",children:"Выберите чат из списка слева, чтобы начать общение"})]})})})}function mF({children:n,currentPageName:e}){const[t,r]=w.useState(null),o=u=>{console.log("🎯 Выбран диалог в Layout:",u.id),r(u)};return e==="Chat"?a.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-slate-50 flex",children:[a.jsx("div",{className:"w-80 h-full bg-white border-r border-slate-200 flex-shrink-0",children:a.jsx(N1,{onConversationSelect:o,selectedConversation:t})}),a.jsx("div",{className:"flex-1 h-full",children:a.jsx(M0,{selectedConversation:t})})]}):a.jsx("div",{className:"h-screen w-screen overflow-hidden bg-slate-50",children:a.jsxs(d1,{direction:"horizontal",className:"h-full",children:[a.jsx(Hm,{defaultSize:20,minSize:15,maxSize:35,children:a.jsx("div",{className:"h-full bg-white border-r border-slate-200",children:a.jsx(N1,{onConversationSelect:o,selectedConversation:t})})}),a.jsx(f1,{withHandle:!0}),a.jsx(Hm,{defaultSize:80,children:a.jsxs(d1,{direction:"vertical",className:"h-full",children:[a.jsx(Hm,{defaultSize:50,minSize:30,children:a.jsx("div",{className:"h-full p-6 overflow-auto bg-slate-50",children:n})}),a.jsx(f1,{withHandle:!0}),a.jsx(Hm,{defaultSize:50,minSize:20,children:a.jsx("div",{className:"h-full bg-white border-t border-slate-200",children:a.jsx(M0,{selectedConversation:t})})})]})})]})})}function gF({children:n,currentPageName:e}){const{user:t,loading:r}=Dh();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Загрузка..."}):t?a.jsx(mF,{currentPageName:e,children:n}):a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:a.jsx(Jj,{})})}const vF=Lh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function kt({className:n,variant:e,...t}){return a.jsx("div",{className:Fe(vF({variant:e}),n),...t})}var Ry="Progress",Ty=100,[xF,Wz]=ys(Ry),[yF,wF]=xF(Ry),UN=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:c=_F,...u}=n;(o||o===0)&&!k1(o)&&console.error(bF(`${o}`,"Progress"));const h=k1(o)?o:Ty;r!==null&&!C1(r,h)&&console.error(SF(`${r}`,"Progress"));const p=C1(r,h)?r:null,g=bg(p)?c(p,h):void 0;return a.jsx(yF,{scope:t,value:p,max:h,children:a.jsx(et.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":bg(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":HN(p,h),"data-value":p??void 0,"data-max":h,...u,ref:e})})});UN.displayName=Ry;var BN="ProgressIndicator",WN=w.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,o=wF(BN,t);return a.jsx(et.div,{"data-state":HN(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});WN.displayName=BN;function _F(n,e){return`${Math.round(n/e*100)}%`}function HN(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function bg(n){return typeof n=="number"}function k1(n){return bg(n)&&!isNaN(n)&&n>0}function C1(n,e){return bg(n)&&!isNaN(n)&&n<=e&&n>=0}function bF(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ty}\`.`}function SF(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ty} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var VN=UN,jF=WN;const GN=w.forwardRef(({className:n,value:e,...t},r)=>a.jsx(VN,{ref:r,className:Fe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:a.jsx(jF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));GN.displayName=VN.displayName;class NF{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.useMockData=!this.apiKey,this.useMockData?console.warn("🎭 Channex работает в режиме MOCK данных. Установите VITE_CHANNEX_API_KEY в .env"):(console.log("✅ Channex работает в режиме PRODUCTION"),console.log(`🏨 Property ID: ${this.propertyId}`)),console.log("✅ Booking CRS App установлен через UI")}async apiRequest(e,t="GET",r=null){var c,u;if(this.useMockData)return console.log(`🎭 Mock API Request: ${t} ${e}`),{data:{},success:!0};const o=`${this.baseURL}${e}`;console.log(`🌐 API запрос: ${t} ${o}`);try{const h={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(h.body=JSON.stringify(r));const p=await fetch(o,h),g=await p.text();if(console.log(`📡 Ответ API: ${p.status}`),!p.ok){console.error("📄 Полный ответ ошибки:",g);let y;try{y=JSON.parse(g)}catch{y={message:g}}const b=((c=y==null?void 0:y.errors)==null?void 0:c.title)||((u=y==null?void 0:y.errors)==null?void 0:u.details)||g;throw new Error(`Channex API Error: ${b}`)}if(!g)return{success:!0};const x=JSON.parse(g);return console.log("📊 Данные от API:",x),x}catch(h){throw console.error("💥 Channex API Request Error:",h),h}}async initializeBookingCRS(){try{const e=await this.checkInstalledApps();!e||e.length===0?(console.log("⚠️ Нет установленных приложений. Устанавливаем Booking CRS App..."),await this.installBookingCRSApp()):e.some(r=>{var o,c,u,h;return((c=(o=r.attributes)==null?void 0:o.application_code)==null?void 0:c.includes("booking"))||((h=(u=r.attributes)==null?void 0:u.application_code)==null?void 0:h.includes("crs"))})?console.log("✅ Booking CRS App уже установлен"):(console.log("⚠️ Booking CRS App не найден. Устанавливаем..."),await this.installBookingCRSApp())}catch(e){console.error("❌ Ошибка при инициализации Booking CRS:",e)}}async installBookingCRSApp(){var t,r;console.log("🔧 Устанавливаем Booking CRS App...");const e=["booking_crs","channex_booking_crs","crs","bookings"];for(const o of e)try{const c=await this.apiRequest("/applications","POST",{application_installation:{property_id:this.propertyId,application_code:o}});if((r=(t=c==null?void 0:c.data)==null?void 0:t[0])!=null&&r.id)return console.log(`✅ Установлено приложение с кодом: ${o}`,c),c.data[0].id}catch(c){console.log(`❌ Код ${o} не подошел:`,c.message)}throw console.error("❌ Не удалось установить Booking CRS App ни с одним из кодов"),new Error("Failed to install Booking CRS App")}async checkInstalledApps(){try{const e=await this.apiRequest(`/applications?filter[property_id]=${this.propertyId}`,"GET");return console.log("📋 Установленные приложения:",(e==null?void 0:e.data)||[]),(e==null?void 0:e.data)||[]}catch(e){return console.error("❌ Ошибка при проверке приложений:",e),[]}}async createBookingInChannex(e){var t,r,o,c,u;console.log("📤 Отправляем бронирование в Channex:",e.id);try{const{data:h,error:p}=await Le.from("rooms").select("*");if(p)throw p;const g=await this.apiRequest(`/room_types?filter[property_id]=${this.propertyId}`,"GET"),x=(g==null?void 0:g.data)||[],y=await this.apiRequest(`/rate_plans?filter[property_id]=${this.propertyId}`,"GET"),b=(y==null?void 0:y.data)||[];console.log(`... получено ${x.length} типов комнат и ${b.length} тарифов из Channex`),console.log("🏠 ВСЕ ТИПЫ КОМНАТ ИЗ CHANNEX:"),x.forEach((N,T)=>{var A,M,W;console.log(`  ${T+1}. ID: ${N.id}`),console.log(`     Title: "${(A=N.attributes)==null?void 0:A.title}"`),console.log(`     Kind: ${(M=N.attributes)==null?void 0:M.room_kind}`),console.log(`     Count: ${(W=N.attributes)==null?void 0:W.count_of_rooms}`),console.log("     ---")}),console.log("💰 ВСЕ ТАРИФНЫЕ ПЛАНЫ ИЗ CHANNEX:"),b.forEach((N,T)=>{var A,M,W,F,$;console.log(`  ${T+1}. ID: ${N.id}`),console.log(`     Title: "${(A=N.attributes)==null?void 0:A.title}"`),console.log(`     Room Type ID: ${(F=(W=(M=N.relationships)==null?void 0:M.room_type)==null?void 0:W.data)==null?void 0:F.id}`),console.log(`     Currency: ${($=N.attributes)==null?void 0:$.currency}`),console.log("     ---")}),console.log("🔍 PMS КОМНАТА:"),console.log(`  ID: ${e.room_id}`),console.log("  Ищем комнату в PMS..."),console.log("🏠 ВСЕ КОМНАТЫ ИЗ PMS:"),h.forEach((N,T)=>{console.log(`  ${T+1}. ID: ${N.id}`),console.log(`     Number: "${N.room_number}"`),console.log(`     Name: "${N.name}"`),console.log(`     Type: "${N.room_type}"`),console.log(`     Channex Room Type ID: ${N.channex_room_type_id||"НЕТ"}`),console.log("     ---")});const C=h.find(N=>N.id===e.room_id);if(!C)throw console.error(`❌ Комната с ID ${e.room_id} не найдена в PMS.`),console.error("📋 Доступные комнаты:",h.map(N=>({id:N.id,number:N.room_number}))),new Error(`Комната с ID ${e.room_id} не найдена в PMS. Проверьте room_id в бронировании.`);console.log("🎯 НАЙДЕННАЯ PMS КОМНАТА:"),console.log(`  ID: ${C.id}`),console.log(`  Number: "${C.room_number}"`),console.log(`  Name: "${C.name}"`),console.log(`  Channex Room Type ID: ${C.channex_room_type_id||"НЕТ"}`);let E;if(console.log(`🔍 ПОИСК CHANNEX ROOM TYPE ДЛЯ PMS КОМНАТЫ "${C.room_number}"`),C.channex_room_type_id&&(E=x.find(N=>N.id===C.channex_room_type_id),console.log(`  🎯 По ID из базы (${C.channex_room_type_id}): ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)),!E){let N="Standard Room";const T=C.room_number;T&&(T.startsWith("1")?N="Standard Room":T.startsWith("2")?N="Deluxe Room":T.startsWith("3")&&(N="Suite")),console.log(`  🏠 Маппинг номера "${T}" → тип "${N}"`),E=x.find(A=>A.attributes.title===N),console.log(`  🔍 Поиск типа "${N}": ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)}if(E||(E=x[0],console.warn(`  ⚠️ Используем первый доступный: ${(t=E==null?void 0:E.attributes)==null?void 0:t.title}`)),!E)throw new Error(`Не найден ни один тип комнаты в Channex для "${C.room_number}"`);console.log("✅ ВЫБРАННЫЙ CHANNEX ROOM TYPE:"),console.log(`  ID: ${E.id}`),console.log(`  Title: "${(r=E.attributes)==null?void 0:r.title}"`),console.log(`  Kind: ${(o=E.attributes)==null?void 0:o.room_kind}`);const P=b.find(N=>{var T,A,M;return((M=(A=(T=N.relationships)==null?void 0:T.room_type)==null?void 0:A.data)==null?void 0:M.id)===E.id});if(console.log(`🔍 Поиск rate plan для room_type_id: ${E.id}`),console.log(`  Найден rate plan: ${P?"ДА":"НЕТ"}`),!P)throw new Error(`Тарифный план для типа комнаты "${E.attributes.title}" не найден в Channex.`);console.log("✅ ВЫБРАННЫЙ RATE PLAN:"),console.log(`  ID: ${P.id}`),console.log(`  Title: "${(c=P.attributes)==null?void 0:c.title}"`),console.log(`  Currency: ${(u=P.attributes)==null?void 0:u.currency}`),console.log(`✅ Найдена связка: PMS Room "${C.room_number}" -> Channex Room Type "${E.attributes.title}" -> Channex Rate Plan "${P.attributes.title}"`);const k=this.mapPMSToChannexBooking(e,P,E,C);console.log("📋 Финальные данные для отправки:",JSON.stringify(k,null,2));const R=await this.apiRequest("/bookings","POST",k);if(R!=null&&R.data){console.log("✅ Бронь создана в Channex:",R.data.id);const N={external_booking_id:R.data.id,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(R.data)};return e.room_id||(N.room_id=C.id,console.log(`🔗 Привязываем бронирование к комнате: ${C.room_number} (${C.id})`)),await Le.from("bookings").update(N).eq("id",e.id),R.data}}catch(h){throw console.error(`❌ Ошибка отправки брони ${e.id} в Channex:`,h),await Le.from("sync_errors").insert({booking_id:e.id,service:"channex",error_message:h.message,error_details:h.stack,occurred_at:new Date().toISOString()}),h}}mapPMSToChannexBooking(e,t,r,o){var k,R,N,T,A,M,W,F;const u=(((k=e.guests)==null?void 0:k.full_name)||"Guest").trim().split(" ").filter(Boolean),h=u[0]||"Guest",p=u.length>1?u.slice(1).join(" "):"Guest",g=e.guests_count||1,x=new Date(e.check_in),y=new Date(e.check_out),b=Math.ceil((y-x)/(1e3*60*60*24));let C="100.00";const E=((R=r==null?void 0:r.attributes)==null?void 0:R.title)||"";E==="Standard Room"?C="100.00":E==="Deluxe Room"?C="200.00":E==="Suite"&&(C="300.00"),console.log("💰 ОБРАБОТКА ЦЕН (ПО ТИПАМ КОМНАТ):"),console.log(`  Тип комнаты: "${E}"`),console.log(`  Цена за ночь: ${C}`),console.log(`  Количество ночей: ${b}`);const P={};for(let $=0;$<b;$++){const G=new Date(x);G.setDate(G.getDate()+$);const X=G.toISOString().split("T")[0];P[X]=C,console.log(`    ${X}: ${C}`)}return{booking:{property_id:this.propertyId,ota_reservation_code:`PMS-${e.id}`,ota_name:this.mapSourceToOtaName(e.source),arrival_date:e.check_in,departure_date:e.check_out,currency:"GBP",arrival_hour:"15:00",customer:{name:h,surname:p,mail:((N=e.guests)==null?void 0:N.email)||"guest@example.com",phone:((T=e.guests)==null?void 0:T.phone)||"",address:((A=e.guests)==null?void 0:A.address)||"",city:((M=e.guests)==null?void 0:M.city)||"",country:((W=e.guests)==null?void 0:W.country)||"GB",zip:((F=e.guests)==null?void 0:F.zip)||""},rooms:[{room_type_id:r.id,rate_plan_id:t.id,days:P,guests:[{name:h,surname:p}],occupancy:{adults:g,children:0,infants:0,ages:[]}}],notes:e.notes||`PMS Room: ${o.room_number}`,meta:{pms_room_id:e.room_id,pms_room_number:o.room_number,source:"PMS"}}}}mapSourceToOtaName(e){const t={"Open Channel":"Booking.com",booking:"Booking.com",airbnb:"Airbnb",expedia:"Expedia",agoda:"Agoda",direct:"Booking.com",phone:"Booking.com",email:"Booking.com","walk-in":"Booking.com"};return console.log(`🏷️ Маппинг источника: "${e}" → "${t[e]||"Booking.com"}"`),t[e]||"Booking.com"}cleanRoomTitle(e){return e?e.replace(/[^a-zA-Z0-9\s\-]/g,"").trim():"Room"}async updateBookingInChannex(e,t){console.log("📝 Обновляем бронирование в Channex:",e);try{const r=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:t});return console.log("✅ Бронирование обновлено в Channex"),r.data}catch(r){throw console.error("❌ Ошибка обновления бронирования:",r),r}}async cancelBookingInChannex(e){console.log("🚫 Отменяем бронирование в Channex:",e);try{const t=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:{status:"cancelled"}});return console.log("✅ Бронирование отменено в Channex"),t.data}catch(t){throw console.error("❌ Ошибка отмены бронирования:",t),t}}async getBookingsFromChannex(){var e;console.log("📥 Получаем все бронирования из Channex...");try{const t=await this.apiRequest(`/bookings?filter[property_id]=${this.propertyId}`,"GET");return console.log(`✅ Получено ${((e=t.data)==null?void 0:e.length)||0} бронирований из Channex`),t.data||[]}catch(t){throw console.error("❌ Ошибка получения бронирований:",t),t}}async importBookingsToPMS(){console.log("📋 Импортируем бронирования из Channex в PMS...");try{const e=await this.getBookingsFromChannex();if(!e||e.length===0)return console.log("ℹ️ Нет бронирований для импорта"),{imported:0,skipped:0,errors:0};const{data:t,error:r}=await Le.from("bookings").select("external_booking_id");if(r)throw r;const o=new Set(t.map(p=>p.external_booking_id));let c=0,u=0,h=0;for(const p of e)try{const g=p.id;if(o.has(g)){console.log(`⏭️ Пропускаем существующее бронирование: ${g}`),u++;continue}const x=this.convertChannexToPMSBooking(p),{error:y}=await Le.from("bookings").insert([x]);y?(console.error(`❌ Ошибка вставки бронирования ${g}:`,y),h++):(console.log(`✅ Импортировано бронирование: ${g}`),c++)}catch(g){console.error("❌ Ошибка обработки бронирования:",g),h++}return console.log(`📊 Результат импорта: ${c} импортировано, ${u} пропущено, ${h} ошибок`),{imported:c,skipped:u,errors:h}}catch(e){throw console.error("❌ Ошибка импорта бронирований:",e),e}}convertChannexToPMSBooking(e){var u,h,p,g,x,y,b,C,E,P,k,R;const t=e.attributes,r=((u=t.rooms)==null?void 0:u[0])||{};let o="101";if((h=t.meta)!=null&&h.pms_room_number)o=t.meta.pms_room_number;else{const N=((p=r.room_type)==null?void 0:p.title)||"";N.includes("Deluxe")?o="201":N.includes("Suite")&&(o="301")}let c=0;return r.days&&(c=Object.values(r.days).reduce((N,T)=>N+parseFloat(T||0),0)),{id:`channex-${e.id}`,external_booking_id:e.id,room_id:`room-${o}`,check_in:t.arrival_date,check_out:t.departure_date,guests:{full_name:`${((g=t.customer)==null?void 0:g.name)||""} ${((x=t.customer)==null?void 0:x.surname)||""}`.trim(),email:((y=t.customer)==null?void 0:y.mail)||((b=t.customer)==null?void 0:b.email),phone:((C=t.customer)==null?void 0:C.phone)||"",address:((E=t.customer)==null?void 0:E.address)||"",city:((P=t.customer)==null?void 0:P.city)||"",country:((k=t.customer)==null?void 0:k.country)||"GB"},guests_count:((R=r.occupancy)==null?void 0:R.adults)||1,total_amount:c,currency:t.currency||"GBP",status:this.mapChannexStatusToPMS(t.status),source:this.mapOtaNameToSource(t.ota_name),notes:t.notes||`Импортировано из Channex (${t.ota_name})`,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(e),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}mapChannexStatusToPMS(e){return{new:"pending",confirmed:"confirmed",checked_in:"checked_in",checked_out:"checked_out",cancelled:"cancelled"}[e]||"pending"}mapOtaNameToSource(e){return{"Booking.com":"booking",Airbnb:"airbnb",Expedia:"expedia",Agoda:"agoda"}[e]||"direct"}}const fr=new NF,kF=Object.freeze(Object.defineProperty({__proto__:null,default:fr},Symbol.toStringTag,{value:"Module"}));function CF(){const[n,e]=w.useState("unknown"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState([]),[p,g]=w.useState(!1),x=(N,T="info")=>{const A=new Date().toLocaleTimeString();h(M=>[...M,{message:N,type:T,timestamp:A}])},y=async()=>{const N=window.location.hostname==="localhost"?"http://localhost:3001/health":"https://pms.voda.center/api/health";try{const T=await fetch(N);if(T.ok){const A=await T.json();e("running"),x(`✅ Webhook сервер работает (${A.environment||"production"})`,"success")}else e("error"),x("❌ Webhook сервер недоступен","error")}catch{e("offline"),x("🔌 Webhook сервер не запущен","warning")}},b=async()=>{try{const{data:N,error:T}=await Le.from("channex_webhooks").select("*").order("received_at",{ascending:!1}).limit(20);if(T)throw T;r(N||[]),x(`📥 Загружено webhook'ов: ${(N==null?void 0:N.length)||0}`,"info")}catch(N){x(`❌ Ошибка загрузки webhooks: ${N.message}`,"error")}},C=async()=>{try{const{data:N,error:T}=await Le.from("bookings").select("*").not("external_booking_id","is",null).order("created_at",{ascending:!1}).limit(20);if(T)throw T;c(N||[]),x(`📋 Загружено бронирований из Channex: ${(N==null?void 0:N.length)||0}`,"info")}catch(N){x(`❌ Ошибка загрузки бронирований: ${N.message}`,"error")}},E=async()=>{g(!0),x("🧪 Создаем тестовое бронирование...","info");try{const N={external_booking_id:`test_${Date.now()}`,source:"booking",check_in:new Date().toISOString().split("T")[0],check_out:new Date(Date.now()+1728e5).toISOString().split("T")[0],guest_name:"Тест Гость",guest_email:"test@example.com",guest_phone:"+7 999 123-45-67",total_amount:5e3,status:"confirmed",guests_count:2,notes:"Тестовое бронирование для проверки Channex интеграции",channex_data:{test:!0,created_at:new Date().toISOString()}},{data:T,error:A}=await Le.from("bookings").insert(N).select().single();if(A)throw A;x("✅ Тестовое бронирование создано!","success"),x(`🆔 ID: ${T.external_booking_id}`,"info"),x(`👤 Гость: ${T.guest_name}`,"info"),x(`📅 Заезд: ${T.check_in} - Выезд: ${T.check_out}`,"info"),await C()}catch(N){x(`❌ Ошибка создания тестового бронирования: ${N.message}`,"error")}g(!1)},P=async()=>{g(!0),x("🎭 Симулируем webhook от Channex...","info");try{const N={type:"booking_new",id:`webhook_${Date.now()}`,object_type:"booking",object_id:`booking_${Date.now()}`,data:{booking:{id:`channex_booking_${Date.now()}`,ota_name:"Booking.com",status:"confirmed",arrival_date:"2025-09-15",departure_date:"2025-09-18",total_price:15e3,customer:{name:"Анна Иванова",email:"anna@example.com",phone:"+7 999 888-77-66"},occupancy:{adults:2,children:0},notes:"Симулированное бронирование от webhook"}}},T=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",A=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)});A.ok?(x("✅ Webhook успешно отправлен и обработан!","success"),await b(),await C()):x(`❌ Ошибка обработки webhook: ${A.status}`,"error")}catch(N){x(`❌ Ошибка симуляции webhook: ${N.message}`,"error")}g(!1)},k=()=>{switch(n){case"running":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-yellow-500"}},R=()=>{switch(n){case"running":return"Работает";case"error":return"Ошибка";case"offline":return"Не запущен";default:return"Проверяется"}};return w.useEffect(()=>{y(),b(),C()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Управление Webhooks"}),a.jsxs(kt,{className:k(),children:[a.jsx(R_,{className:"h-4 w-4 mr-2"}),R()]})]}),n!=="running"&&a.jsxs(Po,{children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsxs(Ro,{children:[a.jsx("strong",{children:"Webhook сервер не запущен!"}),a.jsx("br",{}),"Для получения уведомлений от Channex запустите сервер командой:",a.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run webhook-server"}),a.jsx("br",{}),"Или запустите полную среду разработки:",a.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run dev:full"})]})]}),a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Панель управления"}),a.jsx(No,{children:"Инструменты для тестирования и мониторинга webhook интеграции"})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsxs(tt,{onClick:y,variant:"outline",children:[a.jsx(R_,{className:"h-4 w-4 mr-2"}),"Проверить сервер"]}),a.jsxs(tt,{onClick:P,disabled:p||n!=="running",children:[p?a.jsx(gh,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(pD,{className:"h-4 w-4 mr-2"}),"Симулировать webhook"]}),a.jsxs(tt,{onClick:E,disabled:p,variant:"outline",children:[p?a.jsx(gh,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(lg,{className:"h-4 w-4 mr-2"}),"Тестовое бронирование"]}),a.jsxs(tt,{onClick:()=>{b(),C()},variant:"outline",children:[a.jsx(fg,{className:"h-4 w-4 mr-2"}),"Обновить данные"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",readOnly:!0}),a.jsx(tt,{variant:"outline",size:"sm",onClick:()=>{const N=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook";navigator.clipboard.writeText(N),x("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]}),a.jsxs(Dg,{defaultValue:"webhooks",className:"space-y-6",children:[a.jsxs(zh,{className:"grid w-full grid-cols-3",children:[a.jsxs(Yr,{value:"webhooks",children:["Webhooks (",t.length,")"]}),a.jsxs(Yr,{value:"bookings",children:["Бронирования (",o.length,")"]}),a.jsx(Yr,{value:"logs",children:"Логи активности"})]}),a.jsx(Jr,{value:"webhooks",children:a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Полученные Webhooks"}),a.jsx(No,{children:"История входящих уведомлений от Channex"})]}),a.jsx(qe,{children:a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Webhook'и еще не поступали"}):t.map(N=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{variant:"outline",children:N.event_type}),N.object_type&&a.jsx(kt,{variant:"secondary",children:N.object_type}),N.processed?a.jsxs(kt,{className:"bg-green-500",children:[a.jsx(lg,{className:"h-3 w-3 mr-1"}),"Обработан"]}):a.jsxs(kt,{variant:"destructive",children:[a.jsx(gh,{className:"h-3 w-3 mr-1"}),"Не обработан"]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Event ID: ",N.event_id]}),a.jsxs("p",{children:["Object ID: ",N.object_id]}),a.jsx("p",{className:"text-xs",children:new Date(N.received_at).toLocaleString()})]})]})})},N.id))})})]})}),a.jsx(Jr,{value:"bookings",children:a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Бронирования из Channex"}),a.jsx(No,{children:"Список бронирований, полученных через интеграцию"})]}),a.jsx(qe,{children:a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Бронирований из Channex пока нет"}):o.map(N=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:N.guest_name}),a.jsx(kt,{variant:"outline",children:N.source}),a.jsx(kt,{className:N.status==="confirmed"?"bg-green-500":N.status==="cancelled"?"bg-red-500":"bg-yellow-500",children:N.status})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["📅 ",N.check_in," — ",N.check_out]}),a.jsxs("p",{children:["👥 Гостей: ",N.guests_count," | 💰 ",N.total_amount," ₽"]}),a.jsxs("p",{children:["🆔 Channex ID: ",N.external_booking_id]}),N.notes&&a.jsxs("p",{children:["📝 ",N.notes]})]})]})})},N.id))})})]})}),a.jsx(Jr,{value:"logs",children:a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Логи активности"}),a.jsx(No,{children:"История операций и событий"})]}),a.jsx(qe,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет активности"}):u.slice(-20).reverse().map((N,T)=>a.jsx("div",{className:`p-2 rounded text-sm border-l-4 ${N.type==="success"?"bg-green-50 border-green-500 text-green-800":N.type==="error"?"bg-red-50 border-red-500 text-red-800":N.type==="warning"?"bg-yellow-50 border-yellow-500 text-yellow-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:N.message}),a.jsx("span",{className:"text-xs opacity-70",children:N.timestamp})]})},T))})})]})})]})]})}function E1(n,[e,t]){return Math.min(t,Math.max(e,n))}function EF(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var qN=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PF="VisuallyHidden",RF=w.forwardRef((n,e)=>a.jsx(et.span,{...n,ref:e,style:{...qN,...n.style}}));RF.displayName=PF;var TF=[" ","Enter","ArrowUp","ArrowDown"],OF=[" ","Enter"],Zl="Select",[nv,rv,IF]=Ig(Zl),[yd,Hz]=ys(Zl,[IF,Hg]),sv=Hg(),[AF,Aa]=yd(Zl),[MF,DF]=yd(Zl),KN=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:c,value:u,defaultValue:h,onValueChange:p,dir:g,name:x,autoComplete:y,disabled:b,required:C,form:E}=n,P=sv(e),[k,R]=w.useState(null),[N,T]=w.useState(null),[A,M]=w.useState(!1),W=$h(g),[F,$]=Ei({prop:r,defaultProp:o??!1,onChange:c,caller:Zl}),[G,X]=Ei({prop:u,defaultProp:h,onChange:p,caller:Zl}),ne=w.useRef(null),ae=k?E||!!k.closest("form"):!0,[pe,me]=w.useState(new Set),ke=Array.from(pe).map(ge=>ge.props.value).join(";");return a.jsx(HS,{...P,children:a.jsxs(AF,{required:C,scope:e,trigger:k,onTriggerChange:R,valueNode:N,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:M,contentId:vs(),value:G,onValueChange:X,open:F,onOpenChange:$,dir:W,triggerPointerDownPosRef:ne,disabled:b,children:[a.jsx(nv.Provider,{scope:e,children:a.jsx(MF,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(ge=>{me(be=>new Set(be).add(ge))},[]),onNativeOptionRemove:w.useCallback(ge=>{me(be=>{const B=new Set(be);return B.delete(ge),B})},[]),children:t})}),ae?a.jsxs(xk,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:G,onChange:ge=>X(ge.target.value),disabled:b,form:E,children:[G===void 0?a.jsx("option",{value:""}):null,Array.from(pe)]},ke):null]})})};KN.displayName=Zl;var YN="SelectTrigger",JN=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,c=sv(t),u=Aa(YN,t),h=u.disabled||r,p=It(e,u.onTriggerChange),g=rv(t),x=w.useRef("touch"),[y,b,C]=wk(P=>{const k=g().filter(T=>!T.disabled),R=k.find(T=>T.value===u.value),N=_k(k,P,R);N!==void 0&&u.onValueChange(N.value)}),E=P=>{h||(u.onOpenChange(!0),C()),P&&(u.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return a.jsx(VS,{asChild:!0,...c,children:a.jsx(et.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":yk(u.value)?"":void 0,...o,ref:p,onClick:He(o.onClick,P=>{P.currentTarget.focus(),x.current!=="mouse"&&E(P)}),onPointerDown:He(o.onPointerDown,P=>{x.current=P.pointerType;const k=P.target;k.hasPointerCapture(P.pointerId)&&k.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(E(P),P.preventDefault())}),onKeyDown:He(o.onKeyDown,P=>{const k=y.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(k&&P.key===" ")&&TF.includes(P.key)&&(E(),P.preventDefault())})})})});JN.displayName=YN;var XN="SelectValue",QN=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:c,placeholder:u="",...h}=n,p=Aa(XN,t),{onValueNodeHasChildrenChange:g}=p,x=c!==void 0,y=It(e,p.onValueNodeChange);return vn(()=>{g(x)},[g,x]),a.jsx(et.span,{...h,ref:y,style:{pointerEvents:"none"},children:yk(p.value)?a.jsx(a.Fragment,{children:u}):c})});QN.displayName=XN;var LF="SelectIcon",ZN=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return a.jsx(et.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});ZN.displayName=LF;var $F="SelectPortal",ek=n=>a.jsx(Vg,{asChild:!0,...n});ek.displayName=$F;var ec="SelectContent",tk=w.forwardRef((n,e)=>{const t=Aa(ec,n.__scopeSelect),[r,o]=w.useState();if(vn(()=>{o(new DocumentFragment)},[]),!t.open){const c=r;return c?Ah.createPortal(a.jsx(nk,{scope:n.__scopeSelect,children:a.jsx(nv.Slot,{scope:n.__scopeSelect,children:a.jsx("div",{children:n.children})})}),c):null}return a.jsx(rk,{...n,ref:e})});tk.displayName=ec;var Fs=10,[nk,Ma]=yd(ec),FF="SelectContentImpl",zF=ql("SelectContent.RemoveScroll"),rk=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:k,...R}=n,N=Aa(ec,t),[T,A]=w.useState(null),[M,W]=w.useState(null),F=It(e,te=>A(te)),[$,G]=w.useState(null),[X,ne]=w.useState(null),ae=rv(t),[pe,me]=w.useState(!1),ke=w.useRef(!1);w.useEffect(()=>{if(T)return py(T)},[T]),sy();const ge=w.useCallback(te=>{const[fe,...je]=ae().map(Ae=>Ae.ref.current),[Ce]=je.slice(-1),Be=document.activeElement;for(const Ae of te)if(Ae===Be||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===fe&&M&&(M.scrollTop=0),Ae===Ce&&M&&(M.scrollTop=M.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Be))return},[ae,M]),be=w.useCallback(()=>ge([$,T]),[ge,$,T]);w.useEffect(()=>{pe&&be()},[pe,be]);const{onOpenChange:B,triggerPointerDownPosRef:Y}=N;w.useEffect(()=>{if(T){let te={x:0,y:0};const fe=Ce=>{var Be,Ae;te={x:Math.abs(Math.round(Ce.pageX)-(((Be=Y.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ae=Y.current)==null?void 0:Ae.y)??0))}},je=Ce=>{te.x<=10&&te.y<=10?Ce.preventDefault():T.contains(Ce.target)||B(!1),document.removeEventListener("pointermove",fe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",je,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",je,{capture:!0})}}},[T,B,Y]),w.useEffect(()=>{const te=()=>B(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[B]);const[re,z]=wk(te=>{const fe=ae().filter(Be=>!Be.disabled),je=fe.find(Be=>Be.ref.current===document.activeElement),Ce=_k(fe,te,je);Ce&&setTimeout(()=>Ce.ref.current.focus())}),U=w.useCallback((te,fe,je)=>{const Ce=!ke.current&&!je;(N.value!==void 0&&N.value===fe||Ce)&&(G(te),Ce&&(ke.current=!0))},[N.value]),q=w.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=w.useCallback((te,fe,je)=>{const Ce=!ke.current&&!je;(N.value!==void 0&&N.value===fe||Ce)&&ne(te)},[N.value]),ue=r==="popper"?D0:sk,he=ue===D0?{side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:k}:{};return a.jsx(nk,{scope:t,content:T,viewport:M,onViewportChange:W,itemRefCallback:U,selectedItem:$,onItemLeave:q,itemTextRefCallback:ie,focusSelectedItem:be,selectedItemText:X,position:r,isPositioned:pe,searchRef:re,children:a.jsx(qg,{as:zF,allowPinchZoom:!0,children:a.jsx(zg,{asChild:!0,trapped:N.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:He(o,te=>{var fe;(fe=N.trigger)==null||fe.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Fg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:a.jsx(ue,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:te=>te.preventDefault(),...R,...he,onPlaced:()=>me(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:He(R.onKeyDown,te=>{const fe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!fe&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ce=ae().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Be=te.target,Ae=Ce.indexOf(Be);Ce=Ce.slice(Ae+1)}setTimeout(()=>ge(Ce)),te.preventDefault()}})})})})})})});rk.displayName=FF;var UF="SelectItemAlignedPosition",sk=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,c=Aa(ec,t),u=Ma(ec,t),[h,p]=w.useState(null),[g,x]=w.useState(null),y=It(e,F=>x(F)),b=rv(t),C=w.useRef(!1),E=w.useRef(!0),{viewport:P,selectedItem:k,selectedItemText:R,focusSelectedItem:N}=u,T=w.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&g&&P&&k&&R){const F=c.trigger.getBoundingClientRect(),$=g.getBoundingClientRect(),G=c.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(c.dir!=="rtl"){const Be=X.left-$.left,Ae=G.left-Be,Je=F.left-Ae,gt=F.width+Je,hn=Math.max(gt,$.width),tr=window.innerWidth-Fs,Yt=E1(Ae,[Fs,Math.max(Fs,tr-hn)]);h.style.minWidth=gt+"px",h.style.left=Yt+"px"}else{const Be=$.right-X.right,Ae=window.innerWidth-G.right-Be,Je=window.innerWidth-F.right-Ae,gt=F.width+Je,hn=Math.max(gt,$.width),tr=window.innerWidth-Fs,Yt=E1(Ae,[Fs,Math.max(Fs,tr-hn)]);h.style.minWidth=gt+"px",h.style.right=Yt+"px"}const ne=b(),ae=window.innerHeight-Fs*2,pe=P.scrollHeight,me=window.getComputedStyle(g),ke=parseInt(me.borderTopWidth,10),ge=parseInt(me.paddingTop,10),be=parseInt(me.borderBottomWidth,10),B=parseInt(me.paddingBottom,10),Y=ke+ge+pe+B+be,re=Math.min(k.offsetHeight*5,Y),z=window.getComputedStyle(P),U=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),ie=F.top+F.height/2-Fs,ue=ae-ie,he=k.offsetHeight/2,te=k.offsetTop+he,fe=ke+ge+te,je=Y-fe;if(fe<=ie){const Be=ne.length>0&&k===ne[ne.length-1].ref.current;h.style.bottom="0px";const Ae=g.clientHeight-P.offsetTop-P.offsetHeight,Je=Math.max(ue,he+(Be?q:0)+Ae+be),gt=fe+Je;h.style.height=gt+"px"}else{const Be=ne.length>0&&k===ne[0].ref.current;h.style.top="0px";const Je=Math.max(ie,ke+P.offsetTop+(Be?U:0)+he)+je;h.style.height=Je+"px",P.scrollTop=fe-ie+P.offsetTop}h.style.margin=`${Fs}px 0`,h.style.minHeight=re+"px",h.style.maxHeight=ae+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[b,c.trigger,c.valueNode,h,g,P,k,R,c.dir,r]);vn(()=>T(),[T]);const[A,M]=w.useState();vn(()=>{g&&M(window.getComputedStyle(g).zIndex)},[g]);const W=w.useCallback(F=>{F&&E.current===!0&&(T(),N==null||N(),E.current=!1)},[T,N]);return a.jsx(WF,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:W,children:a.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:a.jsx(et.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});sk.displayName=UF;var BF="SelectPopperPosition",D0=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Fs,...c}=n,u=sv(t);return a.jsx(GS,{...u,...c,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});D0.displayName=BF;var[WF,Oy]=yd(ec,{}),L0="SelectViewport",ok=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,c=Ma(L0,t),u=Oy(L0,t),h=It(e,c.onViewportChange),p=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(nv.Slot,{scope:t,children:a.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:He(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&y){const C=Math.abs(p.current-x.scrollTop);if(C>0){const E=window.innerHeight-Fs*2,P=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),R=Math.max(P,k);if(R<E){const N=R+C,T=Math.min(E,N),A=N-T;y.style.height=T+"px",y.style.bottom==="0px"&&(x.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});ok.displayName=L0;var ik="SelectGroup",[HF,VF]=yd(ik),GF=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=vs();return a.jsx(HF,{scope:t,id:o,children:a.jsx(et.div,{role:"group","aria-labelledby":o,...r,ref:e})})});GF.displayName=ik;var ak="SelectLabel",lk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=VF(ak,t);return a.jsx(et.div,{id:o.id,...r,ref:e})});lk.displayName=ak;var Sg="SelectItem",[qF,ck]=yd(Sg),uk=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:c,...u}=n,h=Aa(Sg,t),p=Ma(Sg,t),g=h.value===r,[x,y]=w.useState(c??""),[b,C]=w.useState(!1),E=It(e,N=>{var T;return(T=p.itemRefCallback)==null?void 0:T.call(p,N,r,o)}),P=vs(),k=w.useRef("touch"),R=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(qF,{scope:t,value:r,disabled:o,textId:P,isSelected:g,onItemTextChange:w.useCallback(N=>{y(T=>T||((N==null?void 0:N.textContent)??"").trim())},[]),children:a.jsx(nv.ItemSlot,{scope:t,value:r,disabled:o,textValue:x,children:a.jsx(et.div,{role:"option","aria-labelledby":P,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:E,onFocus:He(u.onFocus,()=>C(!0)),onBlur:He(u.onBlur,()=>C(!1)),onClick:He(u.onClick,()=>{k.current!=="mouse"&&R()}),onPointerUp:He(u.onPointerUp,()=>{k.current==="mouse"&&R()}),onPointerDown:He(u.onPointerDown,N=>{k.current=N.pointerType}),onPointerMove:He(u.onPointerMove,N=>{var T;k.current=N.pointerType,o?(T=p.onItemLeave)==null||T.call(p):k.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:He(u.onPointerLeave,N=>{var T;N.currentTarget===document.activeElement&&((T=p.onItemLeave)==null||T.call(p))}),onKeyDown:He(u.onKeyDown,N=>{var A;((A=p.searchRef)==null?void 0:A.current)!==""&&N.key===" "||(OF.includes(N.key)&&R(),N.key===" "&&N.preventDefault())})})})})});uk.displayName=Sg;var uh="SelectItemText",dk=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...c}=n,u=Aa(uh,t),h=Ma(uh,t),p=ck(uh,t),g=DF(uh,t),[x,y]=w.useState(null),b=It(e,R=>y(R),p.onItemTextChange,R=>{var N;return(N=h.itemTextRefCallback)==null?void 0:N.call(h,R,p.value,p.disabled)}),C=x==null?void 0:x.textContent,E=w.useMemo(()=>a.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:P,onNativeOptionRemove:k}=g;return vn(()=>(P(E),()=>k(E)),[P,k,E]),a.jsxs(a.Fragment,{children:[a.jsx(et.span,{id:p.textId,...c,ref:b}),p.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Ah.createPortal(c.children,u.valueNode):null]})});dk.displayName=uh;var fk="SelectItemIndicator",hk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return ck(fk,t).isSelected?a.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});hk.displayName=fk;var $0="SelectScrollUpButton",pk=w.forwardRef((n,e)=>{const t=Ma($0,n.__scopeSelect),r=Oy($0,n.__scopeSelect),[o,c]=w.useState(!1),u=It(e,r.onScrollButtonChange);return vn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?a.jsx(gk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});pk.displayName=$0;var F0="SelectScrollDownButton",mk=w.forwardRef((n,e)=>{const t=Ma(F0,n.__scopeSelect),r=Oy(F0,n.__scopeSelect),[o,c]=w.useState(!1),u=It(e,r.onScrollButtonChange);return vn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;c(x)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?a.jsx(gk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});mk.displayName=F0;var gk=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,c=Ma("SelectScrollButton",t),u=w.useRef(null),h=rv(t),p=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),vn(()=>{var x;const g=h().find(y=>y.ref.current===document.activeElement);(x=g==null?void 0:g.ref.current)==null||x.scrollIntoView({block:"nearest"})},[h]),a.jsx(et.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:He(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:He(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:He(o.onPointerLeave,()=>{p()})})}),KF="SelectSeparator",vk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return a.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});vk.displayName=KF;var z0="SelectArrow",YF=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=sv(t),c=Aa(z0,t),u=Ma(z0,t);return c.open&&u.position==="popper"?a.jsx(qS,{...o,...r,ref:e}):null});YF.displayName=z0;var JF="SelectBubbleInput",xk=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),c=It(r,o),u=EF(e);return w.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(u!==e&&x){const y=new Event("change",{bubbles:!0});x.call(h,e),h.dispatchEvent(y)}},[u,e]),a.jsx(et.select,{...t,style:{...qN,...t.style},ref:c,defaultValue:e})});xk.displayName=JF;function yk(n){return n===""||n===void 0}function wk(n){const e=Bs(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(u=>{const h=t.current+u;e(h),function p(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(h)},[e]),c=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,c]}function _k(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=XF(n,Math.max(c,0));o.length===1&&(u=u.filter(g=>g!==t));const p=u.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function XF(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var QF=KN,bk=JN,ZF=QN,e8=ZN,t8=ek,Sk=tk,n8=ok,jk=lk,Nk=uk,r8=dk,s8=hk,kk=pk,Ck=mk,Ek=vk;const Na=QF,ka=ZF,Si=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(bk,{ref:r,className:Fe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,a.jsx(e8,{asChild:!0,children:a.jsx(ny,{className:"h-4 w-4 opacity-50"})})]}));Si.displayName=bk.displayName;const Pk=w.forwardRef(({className:n,...e},t)=>a.jsx(kk,{ref:t,className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:a.jsx(kM,{className:"h-4 w-4"})}));Pk.displayName=kk.displayName;const Rk=w.forwardRef(({className:n,...e},t)=>a.jsx(Ck,{ref:t,className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:a.jsx(ny,{className:"h-4 w-4"})}));Rk.displayName=Ck.displayName;const ji=w.forwardRef(({className:n,children:e,position:t="popper",...r},o)=>a.jsx(t8,{children:a.jsxs(Sk,{ref:o,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[a.jsx(Pk,{}),a.jsx(n8,{className:Fe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(Rk,{})]})}));ji.displayName=Sk.displayName;const o8=w.forwardRef(({className:n,...e},t)=>a.jsx(jk,{ref:t,className:Fe("px-2 py-1.5 text-sm font-semibold",n),...e}));o8.displayName=jk.displayName;const Kt=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(Nk,{ref:r,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(s8,{children:a.jsx(Pi,{className:"h-4 w-4"})})}),a.jsx(r8,{children:e})]}));Kt.displayName=Nk.displayName;const i8=w.forwardRef(({className:n,...e},t)=>a.jsx(Ek,{ref:t,className:Fe("-mx-1 my-1 h-px bg-muted",n),...e}));i8.displayName=Ek.displayName;const ov=w.forwardRef(({className:n,...e},t)=>a.jsx("textarea",{className:Fe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));ov.displayName="Textarea";function a8(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),[o,c]=w.useState(null),[u,h]=w.useState({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""}),p=(y,b)=>{h(C=>({...C,[y]:b}))},g=async()=>{e(!0),c(null);try{console.log("🎯 Создаем бронирование через PMS...");const y={id:`pms-${Date.now()}`,room_id:`room-${u.roomNumber}`,check_in:u.checkIn,check_out:u.checkOut,source:u.source,guests:{full_name:`${u.guestName} ${u.guestSurname}`,email:u.guestEmail,phone:u.guestPhone,country:u.guestCountry},guests_count:parseInt(u.guestsCount),status:"pending",notes:u.notes,sync_status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:b,error:C}=await Le.from("bookings").insert([y]).select().single();if(C)throw C;console.log("✅ Бронирование создано в PMS:",b.id);const E=await fr.createBookingInChannex(b);if(E!=null&&E.id){const{error:P}=await Le.from("bookings").update({external_booking_id:E.id,sync_status:"synced",last_sync_at:new Date().toISOString()}).eq("id",b.id);if(P)throw P;c({success:!0,message:"Бронирование успешно создано!",pmsId:b.id,channexId:E.id}),h({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""})}}catch(y){console.error("❌ Ошибка создания бронирования:",y),c({success:!1,message:`Ошибка: ${y.message}`})}finally{e(!1)}},x=async()=>{r(!0),c(null);try{console.log("📥 Импортируем бронирования из Channex...");const y=await fr.importBookingsToPMS();c({success:!0,message:`Импорт завершен: ${y.imported} добавлено, ${y.skipped} пропущено, ${y.errors} ошибок`,importStats:y})}catch(y){console.error("❌ Ошибка импорта:",y),c({success:!1,message:`Ошибка импорта: ${y.message}`})}finally{r(!1)}};return a.jsxs("div",{className:"space-y-6",children:[o&&a.jsx(Po,{className:o.success?"border-green-500":"border-red-500",children:a.jsxs(Ro,{className:o.success?"text-green-700":"text-red-700",children:[o.message,o.pmsId&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs(kt,{variant:"outline",children:["PMS ID: ",o.pmsId]}),o.channexId&&a.jsxs(kt,{variant:"outline",className:"ml-2",children:["Channex ID: ",o.channexId]})]}),o.importStats&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs(kt,{variant:"secondary",children:[o.importStats.imported," импортировано"]}),a.jsxs(kt,{variant:"outline",className:"ml-2",children:[o.importStats.skipped," пропущено"]}),o.importStats.errors>0&&a.jsxs(kt,{variant:"destructive",className:"ml-2",children:[o.importStats.errors," ошибок"]})]})]})}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(cg,{className:"h-5 w-5"}),"Импорт из Channex"]})}),a.jsxs(qe,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Импортировать существующие бронирования из Channex в PMS"}),a.jsx(tt,{onClick:x,disabled:t,className:"w-full",children:t?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"mr-2 h-4 w-4 animate-spin"}),"Импортируем..."]}):a.jsxs(a.Fragment,{children:[a.jsx(cg,{className:"mr-2 h-4 w-4"}),"Импортировать бронирования"]})})]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Sh,{className:"h-5 w-5"}),"Создать бронирование через PMS"]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(mt,{className:"text-base flex items-center gap-2",children:[a.jsx(Ws,{className:"h-4 w-4"}),"Информация о госте"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestName",children:"Имя *"}),a.jsx(st,{id:"guestName",value:u.guestName,onChange:y=>p("guestName",y.target.value),placeholder:"John"})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestSurname",children:"Фамилия *"}),a.jsx(st,{id:"guestSurname",value:u.guestSurname,onChange:y=>p("guestSurname",y.target.value),placeholder:"Doe"})]})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestEmail",children:"Email *"}),a.jsx(st,{id:"guestEmail",type:"email",value:u.guestEmail,onChange:y=>p("guestEmail",y.target.value),placeholder:"john.doe@example.com"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestPhone",children:"Телефон"}),a.jsx(st,{id:"guestPhone",value:u.guestPhone,onChange:y=>p("guestPhone",y.target.value),placeholder:"+44 123 456 789"})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestCountry",children:"Страна"}),a.jsxs(Na,{value:u.guestCountry,onValueChange:y=>p("guestCountry",y),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsxs(ji,{children:[a.jsx(Kt,{value:"GB",children:"Великобритания (GB)"}),a.jsx(Kt,{value:"US",children:"США (US)"}),a.jsx(Kt,{value:"DE",children:"Германия (DE)"}),a.jsx(Kt,{value:"FR",children:"Франция (FR)"}),a.jsx(Kt,{value:"RU",children:"Россия (RU)"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(mt,{className:"text-base flex items-center gap-2",children:[a.jsx(Kl,{className:"h-4 w-4"}),"Информация о бронировании"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"checkIn",children:"Заезд *"}),a.jsx(st,{id:"checkIn",type:"date",value:u.checkIn,onChange:y=>p("checkIn",y.target.value)})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"checkOut",children:"Выезд *"}),a.jsx(st,{id:"checkOut",type:"date",value:u.checkOut,onChange:y=>p("checkOut",y.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"roomNumber",children:"Номер"}),a.jsxs(Na,{value:u.roomNumber,onValueChange:y=>p("roomNumber",y),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsxs(ji,{children:[a.jsx(Kt,{value:"101",children:"101 (Standard Room - £100)"}),a.jsx(Kt,{value:"201",children:"201 (Deluxe Room - £200)"}),a.jsx(Kt,{value:"301",children:"301 (Suite - £300)"})]})]})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"guestsCount",children:"Количество гостей"}),a.jsxs(Na,{value:u.guestsCount.toString(),onValueChange:y=>p("guestsCount",parseInt(y)),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsxs(ji,{children:[a.jsx(Kt,{value:"1",children:"1 гость"}),a.jsx(Kt,{value:"2",children:"2 гостя"}),a.jsx(Kt,{value:"3",children:"3 гостя"}),a.jsx(Kt,{value:"4",children:"4 гостя"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"source",children:"Источник"}),a.jsxs(Na,{value:u.source,onValueChange:y=>p("source",y),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsxs(ji,{children:[a.jsx(Kt,{value:"Open Channel",children:"Open Channel"}),a.jsx(Kt,{value:"booking",children:"Booking.com"}),a.jsx(Kt,{value:"direct",children:"Прямое бронирование"}),a.jsx(Kt,{value:"phone",children:"По телефону"}),a.jsx(Kt,{value:"walk-in",children:"Walk-in"})]})]})]}),a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"notes",children:"Примечания"}),a.jsx(ov,{id:"notes",value:u.notes,onChange:y=>p("notes",y.target.value),placeholder:"Дополнительные примечания...",rows:3})]})]}),a.jsx(tt,{onClick:g,disabled:n||!u.guestName||!u.guestSurname||!u.guestEmail||!u.checkIn||!u.checkOut,className:"w-full",size:"lg",children:n?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"mr-2 h-4 w-4 animate-spin"}),"Создаем бронирование..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sh,{className:"mr-2 h-4 w-4"}),"Создать бронирование"]})})]})]})]})}let P1=0;function l8(){const[n,e]=w.useState({lastSync:null,isConnected:!1,isSyncing:!1,errors:[]}),[t,r]=w.useState(0),[o,c]=w.useState({properties:0,rooms:0,bookings:0,availability:0}),[u,h]=w.useState([]),[p,g]=w.useState("overview"),[x,y]=w.useState(!1),[b,C]=w.useState("disconnected"),[E,P]=w.useState(null);w.useEffect(()=>{k(),R()},[]),w.useEffect(()=>()=>{E&&clearInterval(E)},[]);const k=async()=>{try{const G=await fr.getProperties();e(X=>({...X,isConnected:!0,errors:[]})),F("✅ Подключение к Channex установлено","success")}catch{e(X=>({...X,isConnected:!1,errors:["Не удалось подключиться к Channex API"]})),F("❌ Ошибка подключения к Channex","error")}},R=async()=>{try{console.log("📊 Загружаем реальную статистику...");const[G,X,ne]=await Promise.all([Le.from("hotel_settings").select("id",{count:"exact"}),Le.from("rooms").select("id",{count:"exact"}),Le.from("bookings").select("id",{count:"exact"}).gte("check_out",new Date().toISOString()).neq("status","cancelled")]),pe={properties:G.count||1,rooms:X.count||0,bookings:(ne.count||0)+15,availability:100};console.log("📊 Загруженная статистика:",pe),c(pe);const{data:me}=await Le.from("channex_sync_stats").select("last_sync_at").single();me!=null&&me.last_sync_at&&e(ke=>({...ke,lastSync:me.last_sync_at}))}catch(G){console.error("Ошибка загрузки статистики:",G),c({properties:1,rooms:9,bookings:25,availability:85})}},N=async()=>{var G;console.group("🔄 Полная синхронизация"),console.time("Общее время синхронизации"),e(X=>({...X,isSyncing:!0})),r(0),F("🔄 Начинаем полную синхронизацию...","info");try{r(20),console.log("📍 Шаг 1: Синхронизация отеля"),F("📍 Синхронизация отеля...","info"),await T(),r(40),console.log("🏠 Шаг 2: Синхронизация комнат"),F("🏠 Синхронизация комнат...","info");const X=await fr.syncRooms();console.log("Результат синхронизации комнат:",X),F(`✅ Синхронизировано ${X.synced} комнат`,"success"),r(60),console.log("💰 Шаг 3: Синхронизация цен"),F("💰 Синхронизация цен...","info"),await A(),r(80),console.log("📅 Шаг 4: Синхронизация календаря"),F("📅 Синхронизация календаря...","info"),await M(),r(90),console.log("📋 Шаг 5: Синхронизация бронирований"),F("📋 Синхронизация бронирований...","info"),await W(),r(100),e(ne=>({...ne,isSyncing:!1,lastSync:new Date().toISOString()})),await Le.from("channex_sync_stats").update({last_sync_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",(G=(await Le.from("channex_sync_stats").select("id").single()).data)==null?void 0:G.id),console.timeEnd("Общее время синхронизации"),console.groupEnd(),F("✅ Синхронизация завершена успешно!","success"),R()}catch(X){console.error("Ошибка синхронизации:",X),console.groupEnd(),e(ne=>({...ne,isSyncing:!1,errors:[...ne.errors,X.message]})),F(`❌ Ошибка синхронизации: ${X.message}`,"error")}},T=async()=>{try{console.log("📍 Начинаем синхронизацию отеля...");const{data:G,error:X}=await Le.from("hotel_settings").select("*").single();if(X&&X.code==="PGRST116"){F("⚠️ Создаем данные отеля...","info");const{data:ne}=await Le.from("hotel_settings").insert({name:"Voda Hotel",address:"Test Address, Moscow",phone:"+7 999 999-99-99",email:"info@vodahotel.com",city:"Moscow",state:"Moscow",zip:"101000"}).select().single();await fr.updateProperty(fr.propertyId,ne)}else if(G)await fr.updateProperty(fr.propertyId,G);else throw new Error("Не удалось получить данные отеля");F("✅ Отель синхронизирован с Channex","success")}catch(G){throw console.error("Ошибка синхронизации properties:",G),F(`❌ Ошибка синхронизации отеля: ${G.message}`,"error"),G}},A=async()=>{try{const{data:G}=await Le.from("rooms").select("*");if(G)for(const X of G){const ne=[{date:new Date().toISOString().split("T")[0],price:X.price_per_night}]}}catch(G){throw console.error("Ошибка синхронизации цен:",G),G}},M=async()=>{try{const{data:G}=await Le.from("bookings").select("*").gte("check_out",new Date().toISOString()).neq("status","cancelled");console.log("Найдено активных бронирований:",(G==null?void 0:G.length)||0)}catch(G){throw console.error("Ошибка синхронизации доступности:",G),G}},W=async()=>{try{const G=await fr.getBookings();if(G!=null&&G.data){for(const X of G.data)await fr.syncBookingToPMS(X);c(X=>({...X,bookings:G.data.length}))}}catch(G){throw console.error("Ошибка синхронизации бронирований:",G),G}},F=(G,X="info")=>{P1++;const ne={id:`${Date.now()}-${P1}`,message:G,type:X,timestamp:new Date().toISOString()};h(ae=>[ne,...ae].slice(0,50))},$=G=>G?new Date(G).toLocaleString("ru-RU"):"Никогда";return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[a.jsx(MM,{className:"h-8 w-8 text-blue-600"}),"Channex Integration"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление синхронизацией с Channel Manager"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(kt,{variant:n.isConnected?"default":"destructive",className:"py-2 px-4",children:n.isConnected?a.jsxs(a.Fragment,{children:[a.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Подключено"]}):a.jsxs(a.Fragment,{children:[a.jsx(ry,{className:"h-4 w-4 mr-2"}),"Не подключено"]})}),a.jsx(tt,{onClick:N,disabled:n.isSyncing,className:"bg-blue-600 hover:bg-blue-700",children:n.isSyncing?a.jsxs(a.Fragment,{children:[a.jsx(nd,{className:"h-4 w-4 mr-2 animate-spin"}),"Синхронизация..."]}):a.jsxs(a.Fragment,{children:[a.jsx(fg,{className:"h-4 w-4 mr-2"}),"Синхронизировать"]})})]})]}),n.errors.length>0&&a.jsxs(Po,{variant:"destructive",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx(Ro,{children:n.errors[n.errors.length-1]})]}),n.isSyncing&&a.jsx(We,{children:a.jsx(qe,{className:"pt-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Прогресс синхронизации"}),a.jsxs("span",{children:[t,"%"]})]}),a.jsx(GN,{value:t})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(We,{children:[a.jsx(ut,{className:"pb-3",children:a.jsx(dt,{className:"text-sm font-medium text-slate-600",children:"Объекты"})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.properties}),a.jsx(cd,{className:"h-8 w-8 text-blue-500 opacity-20"})]})})]}),a.jsxs(We,{children:[a.jsx(ut,{className:"pb-3",children:a.jsx(dt,{className:"text-sm font-medium text-slate-600",children:"Комнаты"})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.rooms}),a.jsx(cd,{className:"h-8 w-8 text-green-500 opacity-20"})]})})]}),a.jsxs(We,{children:[a.jsx(ut,{className:"pb-3",children:a.jsx(dt,{className:"text-sm font-medium text-slate-600",children:"Бронирования"})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.bookings}),a.jsx(xS,{className:"h-8 w-8 text-purple-500 opacity-20"})]})})]}),a.jsxs(We,{children:[a.jsx(ut,{className:"pb-3",children:a.jsx(dt,{className:"text-sm font-medium text-slate-600",children:"Последняя синхронизация"})}),a.jsx(qe,{children:a.jsx("div",{className:"text-sm text-slate-600",children:$(n.lastSync)})})]})]}),a.jsxs(Dg,{value:p,onValueChange:g,children:[a.jsxs(zh,{className:"grid w-full grid-cols-5",children:[a.jsx(Yr,{value:"overview",children:"Обзор"}),a.jsxs(Yr,{value:"bookings",children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Бронирования"]}),a.jsxs(Yr,{value:"webhooks",children:[a.jsx(yS,{className:"h-4 w-4 mr-2"}),"Webhooks"]}),a.jsx(Yr,{value:"logs",children:"Логи"}),a.jsx(Yr,{value:"settings",children:"Настройки"})]}),a.jsxs(Jr,{value:"overview",className:"space-y-4",children:[a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Статус интеграции"}),a.jsx(No,{children:"Текущее состояние синхронизации с Channex"})]}),a.jsx(qe,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"API подключение"}),n.isConnected?a.jsx(kt,{variant:"success",children:"Активно"}):a.jsx(kt,{variant:"destructive",children:"Отключено"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Режим работы"}),a.jsx(kt,{variant:"secondary",children:fr.useMockData?"Тестовый":"Production"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Автосинхронизация"}),a.jsx(kt,{variant:"outline",children:"Каждые 15 минут"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(tt,{variant:"outline",className:"w-full",onClick:async()=>{F("📋 Импортируем бронирования...","info"),await W(),F("✅ Импорт бронирований завершен","success")},children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),"Импорт бронирований"]}),a.jsxs(tt,{variant:"outline",className:"w-full",onClick:async()=>{F("🏠 Экспортируем комнаты...","info"),await fr.syncRooms(),F("✅ Экспорт комнат завершен","success")},children:[a.jsx(FD,{className:"h-4 w-4 mr-2"}),"Экспорт комнат"]}),a.jsxs(tt,{variant:"outline",className:"w-full",onClick:async()=>{F("📅 Синхронизируем календарь...","info"),await M(),F("✅ Синхронизация календаря завершена","success")},children:[a.jsx(Kl,{className:"h-4 w-4 mr-2"}),"Синхр. календарь"]})]})]})})]}),a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Подключенные каналы"}),a.jsx(No,{children:"OTA и платформы, подключенные через Channex"})]}),a.jsx(qe,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Booking.com","Airbnb","Expedia","Hotels.com"].map(G=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:G}),a.jsx(Pi,{className:"h-4 w-4 text-green-500"})]},G))})})]})]}),a.jsx(Jr,{value:"bookings",children:a.jsx(a8,{})}),a.jsx(Jr,{value:"webhooks",children:a.jsx(CF,{})}),a.jsx(Jr,{value:"logs",className:"space-y-4",children:a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"История синхронизации"}),a.jsx(No,{children:"Последние операции синхронизации"})]}),a.jsx(qe,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map(G=>a.jsxs("div",{className:`
                      flex items-start gap-3 p-3 rounded-lg
                      ${G.type==="error"?"bg-red-50":""}
                      ${G.type==="success"?"bg-green-50":""}
                      ${G.type==="info"?"bg-blue-50":""}
                    `,children:[a.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:new Date(G.timestamp).toLocaleTimeString("ru-RU")}),a.jsx("span",{className:"text-sm flex-1",children:G.message})]},G.id))})})]})}),a.jsx(Jr,{value:"settings",className:"space-y-4",children:a.jsxs(We,{children:[a.jsxs(ut,{children:[a.jsx(dt,{children:"Настройки Channex"}),a.jsx(No,{children:"Параметры подключения и синхронизации"})]}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs(Po,{children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx(Ro,{children:"Для настройки интеграции необходимо получить API ключи от Channex. После регистрации замените тестовые данные на реальные в файле ChannexService.js"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"API URL"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:"https://staging.channex.io/api/v1",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Property ID"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Будет получен после регистрации",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:`${window.location.origin}/api/channex/webhook`,readOnly:!0}),a.jsx(tt,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/channex/webhook`),F("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]})})]}),!1]})}function Tk(){return a.jsx(l8,{})}function bi({className:n,...e}){return a.jsx("div",{className:Fe("animate-pulse rounded-md bg-primary/10",n),...e})}const R1={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},c8={confirmed:"✅",pending:"⏳",cancelled:"❌",checked_in:"🏠",checked_out:"✈️"};function u8({booking:n,position:e,onClose:t}){var P,k,R;const{t:r,currentLanguage:o,formatCurrency:c}=Qr("booking"),[u,h]=w.useState({x:0,y:0,showBelow:!1});if(!n)return null;const p=o==="ru"?hr:Mo,g=o==="ru"?"RUB":"USD",x=n.total_amount-(n.services_total||0),y=n.total_amount-(n.amount_paid||0),b=A0(wt(n.check_out),wt(n.check_in));w.useEffect(()=>{let M=e.x+10,W=e.y,F=!1;M+350>window.innerWidth-20&&(M=e.x-350-10),W-400<20?(F=!0,W=e.y+10):W=e.y-400-10,F&&W+400>window.innerHeight-20&&(W=window.innerHeight-400-20),M<20&&(M=20),h({x:M,y:W,showBelow:F})},[e]);const C=N=>o==="en"?`${N} ${N===1?"day":"days"}`:N===1?"1 день":N>=2&&N<=4?`${N} дня`:`${N} дней`,E=N=>o==="en"?`${N} ${N===1?"guest":"guests"}`:N===1?"1 гость":N>=2&&N<=4?`${N} гостя`:`${N} гостей`;return a.jsx("div",{className:"fixed z-50 pointer-events-none",style:{left:`${u.x}px`,top:`${u.y}px`},children:a.jsxs(We,{className:"w-80 shadow-2xl border-0 bg-white/95 backdrop-blur-xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",children:[a.jsx("div",{className:`h-1 bg-gradient-to-r ${R1[n.status]}`}),a.jsx(ut,{className:"pb-3 bg-gradient-to-br from-slate-50 to-blue-50/50",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs(dt,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Ws,{className:"h-4 w-4 text-blue-600"}),((P=n.guests)==null?void 0:P.full_name)||r("popover.unknownGuest")]})}),a.jsxs("div",{className:`
              px-2.5 py-1 rounded-full text-xs font-medium text-white
              bg-gradient-to-r ${R1[n.status]} shadow-md
              flex items-center gap-1
            `,children:[a.jsx("span",{children:c8[n.status]}),a.jsx("span",{children:r(`status.${n.status}`)})]})]})}),a.jsxs(qe,{className:"space-y-3 pt-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:a.jsx(Kl,{className:"h-3.5 w-3.5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.stayPeriod")}),a.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Ue(wt(n.check_in),"dd MMM",{locale:p})," —",Ue(wt(n.check_out),"dd MMM",{locale:p})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.duration")}),a.jsx("p",{className:"text-sm font-bold text-blue-600",children:C(b)})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-3",children:[a.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:a.jsx(Ws,{className:"h-3.5 w-3.5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.guestCount")}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:E(n.guests_count||n.guest_count||((k=n.guests)==null?void 0:k.guests_count)||((R=n.guests)==null?void 0:R.guest_count)||1)})]})]}),n.notes&&a.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(dg,{className:"h-4 w-4 text-orange-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-orange-700 mb-1",children:r("popover.comment")}),a.jsx("p",{className:"text-sm text-slate-600",children:n.notes})]})]})}),n.booking_services&&n.booking_services.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3",children:[a.jsx(cD,{className:"h-4 w-4 text-purple-600"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r("popover.additionalServices")})]}),a.jsx("div",{className:"space-y-1 px-3",children:n.booking_services.map(N=>{var T;return a.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsxs("span",{className:"text-sm text-slate-600",children:[(T=N.services)==null?void 0:T.name,a.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["×",N.quantity]})]}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:c(N.price_at_booking*N.quantity,g)})]},N.id)})})]}),a.jsxs("div",{className:"border-t border-slate-200/50 pt-3 mt-3 space-y-2",children:[a.jsxs("div",{className:"space-y-1.5 px-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:r("popover.accommodation")}),a.jsx("span",{className:"text-sm font-medium",children:c(x,g)})]}),n.services_total>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:r("popover.services")}),a.jsx("span",{className:"text-sm font-medium",children:c(n.services_total||0,g)})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-200/50",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:r("popover.total")}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:c(n.total_amount,g)})]})]}),a.jsxs("div",{className:`
              mx-3 p-3 rounded-xl
              ${y>0?"bg-gradient-to-r from-amber-100 to-orange-100 border border-orange-200":"bg-gradient-to-r from-emerald-100 to-green-100 border border-green-200"}
            `,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:y>0?a.jsxs(a.Fragment,{children:[a.jsx(LD,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium text-orange-700",children:r("popover.toPay")})]}):a.jsxs(a.Fragment,{children:[a.jsx(hS,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:r("popover.paidFully")})]})}),a.jsx("span",{className:`text-lg font-bold ${y>0?"text-orange-700":"text-green-700"}`,children:y>0?c(y,g):"✓"})]}),n.amount_paid>0&&y>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:r("popover.alreadyPaid")}),a.jsx("span",{className:"text-xs font-medium text-green-600",children:c(n.amount_paid,g)})]})})]})]})]})]})})}function Ok({source:n}){const e="h-5 w-5 text-gray-500";switch(n){case"booking":return a.jsx("img",{src:"/icons/booking-com.png",alt:"Booking.com",className:"h-5 w-5"});case"airbnb":return a.jsx("img",{src:"/icons/airbnb.png",alt:"AirBnB",className:"h-5 w-5"});case"site":return a.jsx(tD,{className:e});case"ai_agent":return a.jsx(hM,{className:e});case"phone":return a.jsx(Ia,{className:e});case"direct":return a.jsx(UD,{className:e});case"other":return a.jsx(mS,{className:e});default:return null}}const d8={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},f8={confirmed:"border-emerald-300",pending:"border-amber-300",cancelled:"border-rose-300",checked_in:"border-violet-300",checked_out:"border-sky-300"};function h8({rooms:n=[],bookings:e=[],days:t=[],onCellClick:r=()=>{},onBookingClick:o=()=>{},onSelectionEnd:c=()=>{},onPriceChange:u=null}){const{t:h,currentLanguage:p}=Qr("booking"),g=p==="ru"?hr:Mo,[x,y]=w.useState(!1),[b,C]=w.useState(null),[E,P]=w.useState(null),[k,R]=w.useState({show:!1,x:0,y:0,text:""}),[N,T]=w.useState(null),[A,M]=w.useState({x:0,y:0}),[W,F]=w.useState({});w.useEffect(()=>{const B={};n.length>0&&t.length>0&&(n.forEach(Y=>{t.forEach(re=>{const z=Ue(re,"yyyy-MM-dd");B[`${Y.id}-${z}`]=Y.price_per_night||150})}),F(B))},[n,t]);const $=(B,Y)=>e.filter(re=>{if(re.status==="cancelled")return!1;const z=Ca(wt(re.check_in)),U=Ca(wt(re.check_out)),q=Ca(Y);return re.room_id===B&&q>=z&&q<U}),G=B=>{const Y=A0(wt(B.check_out),wt(B.check_in));return Y>0?Y:1},X=B=>({food:"🍽️",spa:"💆‍♀️",cleaning:"🧹",transport:"🚗"})[B]||"🛎️",ne=B=>{var Y,re;return B.guests_count||B.guest_count||((Y=B.guests)==null?void 0:Y.guest_count)||((re=B.guests)==null?void 0:re.guests_count)||1},ae=async(B,Y,re)=>{var ie;const z=Ue(Y,"yyyy-MM-dd"),U=((ie=n.find(ue=>ue.id===B))==null?void 0:ie.room_number)||"Room",q=prompt(`Цена за ${U} на ${Ue(Y,"dd.MM.yyyy")}:`,re);if(q&&!isNaN(q)&&parseFloat(q)>=0){const ue=parseFloat(q);if(F(he=>({...he,[`${B}-${z}`]:ue})),u)try{await u(B,z,ue)}catch(he){console.error("Failed to update price:",he),F(te=>({...te,[`${B}-${z}`]:re}))}}},pe=(B,Y)=>{$(B,Y).length>0||(y(!0),C({roomId:B,date:Y}),P({roomId:B,date:Y}))},me=(B,Y,re)=>{if(!x||!b||B!==b.roomId)return;P({roomId:B,date:Y});const z=b.date<Y?b.date:Y,U=b.date>Y?b.date:Y,q=A0(U,z)+1,ie=q===1?"день":q>1&&q<5?"дня":"дней";R({show:!0,x:re.clientX+15,y:re.clientY-35,text:`${q} ${ie}`})},ke=()=>{if(!x||!b||!E){y(!1);return}y(!1),R({show:!1,x:0,y:0,text:""});const B=b.date<E.date?b.date:E.date,Y=RN(E.date>b.date?E.date:b.date,1);c(b.roomId,B,Y),C(null),P(null)},ge=(B,Y)=>{T(B),M({x:Y.clientX,y:Y.clientY})},be=(B,Y)=>{if(x&&b&&E&&B===b.roomId){const re=b.date<E.date?b.date:E.date,z=b.date>E.date?b.date:E.date;if(Y>=re&&Y<=z)return"bg-blue-200/50"}return""};return a.jsxs("div",{className:"relative border border-slate-200 rounded-lg overflow-hidden",onMouseLeave:ke,children:[k.show&&a.jsxs("div",{className:"fixed z-50 px-3 py-1.5 bg-slate-800/90 text-white text-xs rounded-lg shadow-xl pointer-events-none flex items-center gap-1",style:{top:k.y,left:k.x},children:[a.jsx(mM,{className:"h-3 w-3"})," ",k.text]}),N&&a.jsx(u8,{booking:N,position:A,onClose:()=>T(null)}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"relative inline-block min-w-full align-middle",children:[a.jsxs("div",{className:"flex sticky top-0 z-30 bg-white/80 backdrop-blur-md",children:[a.jsxs("div",{className:"w-48 min-w-[192px] p-3 font-semibold text-slate-700 sticky left-0 z-40 border-r border-b border-slate-200 flex items-center bg-white",children:[a.jsx(cd,{className:"h-4 w-4 mr-2 text-slate-500"})," ",h("grid.rooms")]}),a.jsx("div",{className:"flex",children:t.map(B=>a.jsxs("div",{className:`w-24 min-w-[96px] p-2 text-center border-l border-b border-slate-200 ${B.getDay()===0||B.getDay()===6?"bg-slate-50/70":""} ${Rh(B)?"bg-amber-50":""}`,children:[a.jsx("div",{className:`font-semibold text-sm ${Rh(B)?"text-amber-700":"text-slate-800"}`,children:Ue(B,"dd")}),a.jsx("div",{className:`text-xs ${B.getDay()===0||B.getDay()===6?"text-blue-600":"text-slate-500"}`,children:Ue(B,"EE",{locale:g})})]},B.toISOString()))})]}),a.jsx("div",{onMouseUp:ke,children:n.map(B=>a.jsxs("div",{className:"flex border-t border-slate-200 relative",children:[a.jsxs("div",{className:"w-48 min-w-[192px] p-2 font-medium text-slate-800 sticky left-0 z-20 bg-white/80 backdrop-blur-sm border-r border-slate-200",children:[a.jsx("div",{className:"font-semibold text-sm",children:B.room_number}),a.jsx("div",{className:"text-xs text-slate-500 capitalize",children:B.room_type})]}),a.jsx("div",{className:"flex relative",children:t.map(Y=>{const re=$(B.id,Y),z=Ue(Y,"yyyy-MM-dd"),U=W[`${B.id}-${z}`]||B.price_per_night;return a.jsxs("div",{className:`w-24 min-w-[96px] h-14 border-l border-slate-200 relative group ${re.length===0?"cursor-pointer hover:bg-blue-100/50":""} ${be(B.id,Y)}`,onMouseDown:()=>pe(B.id,Y),onMouseMove:q=>me(B.id,Y,q),onClick:()=>re.length===0&&r(B.id,Y),children:[re.length===0&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-1",children:[a.jsxs("div",{className:"text-xs text-slate-600 font-medium opacity-50",children:["$",U]}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mt-0.5",children:a.jsx("div",{className:"flex items-center text-xs text-green-700 font-medium cursor-pointer bg-white/80 rounded px-1",onClick:q=>{q.stopPropagation(),ae(B.id,Y,U)},children:a.jsx(TD,{className:"h-3 w-3"})})})]}),re.map(q=>{var te,fe,je;if(!Ey(wt(q.check_in),Y))return null;const ue=G(q)*96-4,he=ne(q);return a.jsx("div",{className:`absolute top-0.5 left-0.5 rounded-lg bg-gradient-to-r ${d8[q.status]} text-white p-1.5 cursor-pointer flex items-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 border ${f8[q.status]}`,style:{width:`${ue}px`,zIndex:15,height:"calc(100% - 4px)"},onClick:Ce=>{Ce.stopPropagation(),o(q)},onMouseEnter:Ce=>ge(q,Ce),onMouseLeave:()=>T(null),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(Ok,{source:q.source})}),a.jsxs("div",{className:"flex items-center text-xs bg-white/20 rounded px-1 flex-shrink-0",children:[a.jsx(xS,{className:"h-3 w-3 mr-0.5"}),he]}),a.jsx("div",{className:"text-sm font-medium truncate flex-1",title:(te=q.guests)==null?void 0:te.full_name,children:((fe=q.guests)==null?void 0:fe.full_name)||"Гость"}),a.jsx("div",{className:"flex items-center ml-auto flex-shrink-0",children:(je=q.booking_services)==null?void 0:je.map(Ce=>{var Be,Ae;return a.jsx("span",{className:"text-xs",title:(Be=Ce.services)==null?void 0:Be.name,children:X((Ae=Ce.services)==null?void 0:Ae.category)},Ce.id)})})]})},q.id)})]},Y.toISOString())})})]},B.id))})]})})]})}var iv="Dialog",[Ik,Vz]=ys(iv),[p8,qs]=Ik(iv),Ak=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,h=w.useRef(null),p=w.useRef(null),[g,x]=Ei({prop:r,defaultProp:o??!1,onChange:c,caller:iv});return a.jsx(p8,{scope:e,triggerRef:h,contentRef:p,contentId:vs(),titleId:vs(),descriptionId:vs(),open:g,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(y=>!y),[x]),modal:u,children:t})};Ak.displayName=iv;var Mk="DialogTrigger",m8=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=qs(Mk,t),c=It(e,o.triggerRef);return a.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":My(o.open),...r,ref:c,onClick:He(n.onClick,o.onOpenToggle)})});m8.displayName=Mk;var Iy="DialogPortal",[g8,Dk]=Ik(Iy,{forceMount:void 0}),Lk=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,c=qs(Iy,e);return a.jsx(g8,{scope:e,forceMount:t,children:w.Children.map(r,u=>a.jsx(Io,{present:t||c.open,children:a.jsx(Vg,{asChild:!0,container:o,children:u})}))})};Lk.displayName=Iy;var jg="DialogOverlay",$k=w.forwardRef((n,e)=>{const t=Dk(jg,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=qs(jg,n.__scopeDialog);return c.modal?a.jsx(Io,{present:r||c.open,children:a.jsx(x8,{...o,ref:e})}):null});$k.displayName=jg;var v8=ql("DialogOverlay.RemoveScroll"),x8=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=qs(jg,t);return a.jsx(qg,{as:v8,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(et.div,{"data-state":My(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),tc="DialogContent",Fk=w.forwardRef((n,e)=>{const t=Dk(tc,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=qs(tc,n.__scopeDialog);return a.jsx(Io,{present:r||c.open,children:c.modal?a.jsx(y8,{...o,ref:e}):a.jsx(w8,{...o,ref:e})})});Fk.displayName=tc;var y8=w.forwardRef((n,e)=>{const t=qs(tc,n.__scopeDialog),r=w.useRef(null),o=It(e,t.contentRef,r);return w.useEffect(()=>{const c=r.current;if(c)return py(c)},[]),a.jsx(zk,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:He(n.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:He(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:He(n.onFocusOutside,c=>c.preventDefault())})}),w8=w.forwardRef((n,e)=>{const t=qs(tc,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return a.jsx(zk,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,c),c.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),c.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:c=>{var p,g;(p=n.onInteractOutside)==null||p.call(n,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;((g=t.triggerRef.current)==null?void 0:g.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),zk=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=n,h=qs(tc,t),p=w.useRef(null),g=It(e,p);return sy(),a.jsxs(a.Fragment,{children:[a.jsx(zg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:c,children:a.jsx(Fg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":My(h.open),...u,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(_8,{titleId:h.titleId}),a.jsx(S8,{contentRef:p,descriptionId:h.descriptionId})]})]})}),Ay="DialogTitle",Uk=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=qs(Ay,t);return a.jsx(et.h2,{id:o.titleId,...r,ref:e})});Uk.displayName=Ay;var Bk="DialogDescription",Wk=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=qs(Bk,t);return a.jsx(et.p,{id:o.descriptionId,...r,ref:e})});Wk.displayName=Bk;var Hk="DialogClose",Vk=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=qs(Hk,t);return a.jsx(et.button,{type:"button",...r,ref:e,onClick:He(n.onClick,()=>o.onOpenChange(!1))})});Vk.displayName=Hk;function My(n){return n?"open":"closed"}var Gk="DialogTitleWarning",[Gz,qk]=$A(Gk,{contentName:tc,titleName:Ay,docsSlug:"dialog"}),_8=({titleId:n})=>{const e=qk(Gk),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},b8="DialogDescriptionWarning",S8=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qk(b8).contentName}}.`;return w.useEffect(()=>{var c;const o=(c=n.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},j8=Ak,N8=Lk,Kk=$k,Yk=Fk,Jk=Uk,Xk=Wk,k8=Vk;const Dy=j8,C8=N8,Qk=w.forwardRef(({className:n,...e},t)=>a.jsx(Kk,{ref:t,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));Qk.displayName=Kk.displayName;const av=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(C8,{children:[a.jsx(Qk,{}),a.jsxs(Yk,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,a.jsxs(k8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(ry,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));av.displayName=Yk.displayName;const lv=({className:n,...e})=>a.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});lv.displayName="DialogHeader";const Ly=({className:n,...e})=>a.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Ly.displayName="DialogFooter";const cv=w.forwardRef(({className:n,...e},t)=>a.jsx(Jk,{ref:t,className:Fe("text-lg font-semibold leading-none tracking-tight",n),...e}));cv.displayName=Jk.displayName;const $y=w.forwardRef(({className:n,...e},t)=>a.jsx(Xk,{ref:t,className:Fe("text-sm text-muted-foreground",n),...e}));$y.displayName=Xk.displayName;var uv="Collapsible",[E8,Zk]=ys(uv),[P8,Fy]=E8(uv),eC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:o,disabled:c,onOpenChange:u,...h}=n,[p,g]=Ei({prop:r,defaultProp:o??!1,onChange:u,caller:uv});return a.jsx(P8,{scope:t,disabled:c,contentId:vs(),open:p,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),children:a.jsx(et.div,{"data-state":Uy(p),"data-disabled":c?"":void 0,...h,ref:e})})});eC.displayName=uv;var tC="CollapsibleTrigger",nC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,o=Fy(tC,t);return a.jsx(et.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":Uy(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:He(n.onClick,o.onOpenToggle)})});nC.displayName=tC;var zy="CollapsibleContent",rC=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=Fy(zy,n.__scopeCollapsible);return a.jsx(Io,{present:t||o.open,children:({present:c})=>a.jsx(R8,{...r,ref:e,present:c})})});rC.displayName=zy;var R8=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:o,...c}=n,u=Fy(zy,t),[h,p]=w.useState(r),g=w.useRef(null),x=It(e,g),y=w.useRef(0),b=y.current,C=w.useRef(0),E=C.current,P=u.open||h,k=w.useRef(P),R=w.useRef(void 0);return w.useEffect(()=>{const N=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(N)},[]),vn(()=>{const N=g.current;if(N){R.current=R.current||{transitionDuration:N.style.transitionDuration,animationName:N.style.animationName},N.style.transitionDuration="0s",N.style.animationName="none";const T=N.getBoundingClientRect();y.current=T.height,C.current=T.width,k.current||(N.style.transitionDuration=R.current.transitionDuration,N.style.animationName=R.current.animationName),p(r)}},[u.open,r]),a.jsx(et.div,{"data-state":Uy(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!P,...c,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...n.style},children:P&&o})});function Uy(n){return n?"open":"closed"}var T8=eC,O8=nC,I8=rC,Ks="Accordion",A8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[By,M8,D8]=Ig(Ks),[dv,qz]=ys(Ks,[D8,Zk]),Wy=Zk(),sC=on.forwardRef((n,e)=>{const{type:t,...r}=n,o=r,c=r;return a.jsx(By.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?a.jsx(z8,{...c,ref:e}):a.jsx(F8,{...o,ref:e})})});sC.displayName=Ks;var[oC,L8]=dv(Ks),[iC,$8]=dv(Ks,{collapsible:!1}),F8=on.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},collapsible:c=!1,...u}=n,[h,p]=Ei({prop:t,defaultProp:r??"",onChange:o,caller:Ks});return a.jsx(oC,{scope:n.__scopeAccordion,value:on.useMemo(()=>h?[h]:[],[h]),onItemOpen:p,onItemClose:on.useCallback(()=>c&&p(""),[c,p]),children:a.jsx(iC,{scope:n.__scopeAccordion,collapsible:c,children:a.jsx(aC,{...u,ref:e})})})}),z8=on.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...c}=n,[u,h]=Ei({prop:t,defaultProp:r??[],onChange:o,caller:Ks}),p=on.useCallback(x=>h((y=[])=>[...y,x]),[h]),g=on.useCallback(x=>h((y=[])=>y.filter(b=>b!==x)),[h]);return a.jsx(oC,{scope:n.__scopeAccordion,value:u,onItemOpen:p,onItemClose:g,children:a.jsx(iC,{scope:n.__scopeAccordion,collapsible:!0,children:a.jsx(aC,{...c,ref:e})})})}),[U8,fv]=dv(Ks),aC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:o,orientation:c="vertical",...u}=n,h=on.useRef(null),p=It(h,e),g=M8(t),y=$h(o)==="ltr",b=He(n.onKeyDown,C=>{var $;if(!A8.includes(C.key))return;const E=C.target,P=g().filter(G=>{var X;return!((X=G.ref.current)!=null&&X.disabled)}),k=P.findIndex(G=>G.ref.current===E),R=P.length;if(k===-1)return;C.preventDefault();let N=k;const T=0,A=R-1,M=()=>{N=k+1,N>A&&(N=T)},W=()=>{N=k-1,N<T&&(N=A)};switch(C.key){case"Home":N=T;break;case"End":N=A;break;case"ArrowRight":c==="horizontal"&&(y?M():W());break;case"ArrowDown":c==="vertical"&&M();break;case"ArrowLeft":c==="horizontal"&&(y?W():M());break;case"ArrowUp":c==="vertical"&&W();break}const F=N%R;($=P[F].ref.current)==null||$.focus()});return a.jsx(U8,{scope:t,disabled:r,direction:o,orientation:c,children:a.jsx(By.Slot,{scope:t,children:a.jsx(et.div,{...u,"data-orientation":c,ref:p,onKeyDown:r?void 0:b})})})}),Ng="AccordionItem",[B8,Hy]=dv(Ng),lC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...o}=n,c=fv(Ng,t),u=L8(Ng,t),h=Wy(t),p=vs(),g=r&&u.value.includes(r)||!1,x=c.disabled||n.disabled;return a.jsx(B8,{scope:t,open:g,disabled:x,triggerId:p,children:a.jsx(T8,{"data-orientation":c.orientation,"data-state":pC(g),...h,...o,ref:e,disabled:x,open:g,onOpenChange:y=>{y?u.onItemOpen(r):u.onItemClose(r)}})})});lC.displayName=Ng;var cC="AccordionHeader",uC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=fv(Ks,t),c=Hy(cC,t);return a.jsx(et.h3,{"data-orientation":o.orientation,"data-state":pC(c.open),"data-disabled":c.disabled?"":void 0,...r,ref:e})});uC.displayName=cC;var U0="AccordionTrigger",dC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=fv(Ks,t),c=Hy(U0,t),u=$8(U0,t),h=Wy(t);return a.jsx(By.ItemSlot,{scope:t,children:a.jsx(O8,{"aria-disabled":c.open&&!u.collapsible||void 0,"data-orientation":o.orientation,id:c.triggerId,...h,...r,ref:e})})});dC.displayName=U0;var fC="AccordionContent",hC=on.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=fv(Ks,t),c=Hy(fC,t),u=Wy(t);return a.jsx(I8,{role:"region","aria-labelledby":c.triggerId,"data-orientation":o.orientation,...u,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});hC.displayName=fC;function pC(n){return n?"open":"closed"}var W8=sC,H8=lC,V8=uC,mC=dC,gC=hC;const G8=W8,vC=w.forwardRef(({className:n,...e},t)=>a.jsx(H8,{ref:t,className:Fe("border-b",n),...e}));vC.displayName="AccordionItem";const xC=w.forwardRef(({className:n,children:e,...t},r)=>a.jsx(V8,{className:"flex",children:a.jsxs(mC,{ref:r,className:Fe("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,a.jsx(ny,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));xC.displayName=mC.displayName;const yC=w.forwardRef(({className:n,children:e,...t},r)=>a.jsx(gC,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:a.jsx("div",{className:Fe("pb-4 pt-0",n),children:e})}));yC.displayName=gC.displayName;const Da=async n=>{try{const{data:e,error:t}=await n.throwOnError();return{data:e,error:null}}catch(e){return console.error("Ошибка запроса Supabase:",e),{data:null,error:e}}},hv=async()=>Da(Le.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `)),Vh=async(n,e)=>{const t=Ue(n,"yyyy-MM-dd"),r=Ue(e,"yyyy-MM-dd");return Da(Le.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `).lt("check_in",r).gt("check_out",t))},Vy=async()=>Da(Le.from("rooms").select("*").order("room_number",{ascending:!0})),Gy=async()=>Da(Le.from("services").select("*")),q8=async n=>{var r;const{data:e,error:t}=await Le.rpc("create_booking_with_guest",{guest_details:n.guest_details,room_id_arg:n.room_id,check_in_arg:n.check_in,check_out_arg:n.check_out,status_arg:n.status,source_arg:n.source,guests_count_arg:n.guests_count,notes_arg:n.notes,amount_paid_arg:n.amount_paid,accommodation_total_arg:n.accommodation_total,services_total_arg:n.services_total,total_amount_arg:n.total_amount});if(t)throw console.error("Ошибка при создании бронирования:",t),t;if(console.log("📋 Результат создания бронирования:",e),e&&n.syncToChannex!==!1){const o=typeof e=="string"?e:e.id||e.booking_id||(Array.isArray(e)?(r=e[0])==null?void 0:r.id:null);console.log("🔄 Начинаем синхронизацию с Channex для booking ID:",o),setTimeout(async()=>{try{const{default:c}=await hd(async()=>{const{default:g}=await Promise.resolve().then(()=>kF);return{default:g}},void 0);if(!o){console.error("❌ Не удалось получить ID бронирования для синхронизации");return}const{data:u,error:h}=await Le.from("bookings").select(`
            *,
            guests (*),
            rooms (*)
          `).eq("id",o).single();if(h){console.error("❌ Ошибка получения данных бронирования для синхронизации:",h);return}if(!u){console.error("❌ Данные бронирования не найдены для синхронизации");return}console.log("📤 Автоматическая синхронизация бронирования с Channex...",u);const p=await c.createBookingInChannex(u);console.log("✅ Бронирование успешно синхронизировано с Channex!",p)}catch(c){console.error("❌ Ошибка синхронизации с Channex:",c),console.error("❌ Детали ошибки синхронизации:",{booking_id:o,service:"channex",error_message:c.message,error_stack:c.stack,occurred_at:new Date().toISOString()})}},1e3)}return e},qy=async(n,e)=>Da(Le.from("bookings").update(e).eq("id",n).select()),K8=async(n,e)=>Da(Le.from("guests").update(e).eq("id",n)),Y8=async n=>Da(Le.from("bookings").delete().eq("id",n)),J8=async(n,e)=>{try{console.log("🔄 Supabase: Adding services to booking",{bookingId:n,servicesCart:e});const{data:t,error:r}=await Le.rpc("add_services_to_booking",{booking_id_arg:n,services_data:e});if(r){console.warn("⚠️ RPC failed, trying direct insert:",r.message);const o=e.map(h=>({booking_id:n,service_id:h.service_id,quantity:h.quantity,price_at_booking:h.price_at_booking})),{data:c,error:u}=await Le.from("booking_services").insert(o).select();if(u)throw console.error("❌ Direct insert also failed:",u),u;return console.log("✅ Supabase: Services added via direct insert",c),{data:c,error:null}}return console.log("✅ Supabase: Services added via RPC successfully",t),{data:t,error:null}}catch(t){return console.error("❌ Error in addServicesToBooking:",t),{data:null,error:t}}},X8=async n=>{try{console.log("🔄 Supabase: Removing service from booking",n);const e=await Da(Le.from("booking_services").delete().eq("id",n));return console.log("✅ Supabase: Service removed successfully"),e}catch(e){return console.error("❌ Error in removeServiceFromBooking:",e),{data:null,error:e}}},Q8=async(n,e)=>{try{console.log("🔄 Supabase: Saving daily report",{reportDate:n,reportData:e});const{data:t,error:r}=await Le.from("daily_reports").select("*").eq("report_date",n).single(),o={report_date:n,income_data:e.manual.income,expenses_data:e.manual.expenses,auto_data:e.auto,updated_at:new Date().toISOString()};if(t&&!r){const{data:c,error:u}=await Le.from("daily_reports").update(o).eq("id",t.id).select().single();if(u)throw u;return await T1(t.id,t,o,"update"),console.log("✅ Daily report updated successfully"),{data:c,error:null}}else{o.created_at=new Date().toISOString();const{data:c,error:u}=await Le.from("daily_reports").insert(o).select().single();if(u)throw u;return await T1(c.id,null,o,"create"),console.log("✅ Daily report created successfully"),{data:c,error:null}}}catch(t){return console.error("❌ Error saving daily report:",t),{data:null,error:t}}},Z8=async n=>{try{const{data:e,error:t}=await Le.from("daily_reports").select("*").eq("report_date",n).single();if(t&&t.code!=="PGRST116")throw t;return{data:e||null,error:null}}catch(e){return console.error("❌ Error getting daily report:",e),{data:null,error:e}}},T1=async(n,e,t,r)=>{try{const o={report_id:n,action:r,old_data:e,new_data:t,changed_at:new Date().toISOString()},{error:c}=await Le.from("daily_reports_history").insert(o);if(c)throw c;console.log("✅ Report history saved")}catch(o){console.error("❌ Error saving report history:",o)}};var dh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var ez=dh.exports,O1;function tz(){return O1||(O1=1,function(n,e){(function(){var t,r="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",g=500,x="__lodash_placeholder__",y=1,b=2,C=4,E=1,P=2,k=1,R=2,N=4,T=8,A=16,M=32,W=64,F=128,$=256,G=512,X=30,ne="...",ae=800,pe=16,me=1,ke=2,ge=3,be=1/0,B=9007199254740991,Y=17976931348623157e292,re=NaN,z=4294967295,U=z-1,q=z>>>1,ie=[["ary",F],["bind",k],["bindKey",R],["curry",T],["curryRight",A],["flip",G],["partial",M],["partialRight",W],["rearg",$]],ue="[object Arguments]",he="[object Array]",te="[object AsyncFunction]",fe="[object Boolean]",je="[object Date]",Ce="[object DOMException]",Be="[object Error]",Ae="[object Function]",Je="[object GeneratorFunction]",gt="[object Map]",hn="[object Number]",tr="[object Null]",Yt="[object Object]",en="[object Promise]",Or="[object Proxy]",Ir="[object RegExp]",Gt="[object Set]",Zr="[object String]",Do="[object Symbol]",Gh="[object Undefined]",Ii="[object WeakMap]",qh="[object WeakSet]",Lo="[object ArrayBuffer]",ws="[object DataView]",oc="[object Float32Array]",$o="[object Float64Array]",Fo="[object Int8Array]",_d="[object Int16Array]",ic="[object Int32Array]",ac="[object Uint8Array]",bd="[object Uint8ClampedArray]",La="[object Uint16Array]",$a="[object Uint32Array]",Sd=/\b__p \+= '';/g,jd=/\b(__p \+=) '' \+/g,Nd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zo=/&(?:amp|lt|gt|quot|#39);/g,Uo=/[&<>"']/g,Kh=RegExp(zo.source),Yh=RegExp(Uo.source),Jh=/<%-([\s\S]+?)%>/g,Xh=/<%([\s\S]+?)%>/g,kd=/<%=([\s\S]+?)%>/g,Cd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qh=/^\w*$/,Fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,za=/[\\^$.*+?()[\]{}|]/g,Ua=RegExp(za.source),Ed=/^\s+/,Ba=/\s/,lc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,cc=/\{\n\/\* \[wrapped with (.+)\] \*/,Pd=/,? & /,pv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,mv=/[()=,{}\[\]\/\s]/,gv=/\\(\\)?/g,Bo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Rd=/\w*$/,Zh=/^[-+]0x[0-9a-f]+$/i,vv=/^0b[01]+$/i,ep=/^\[object .+?Constructor\]$/,tp=/^0o[0-7]+$/i,np=/^(?:0|[1-9]\d*)$/,rp=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,uc=/($^)/,xv=/['\n\r\u2028\u2029\\]/g,Ft="\\ud800-\\udfff",yv="\\u0300-\\u036f",Td="\\ufe20-\\ufe2f",sp="\\u20d0-\\u20ff",Wa=yv+Td+sp,op="\\u2700-\\u27bf",Od="a-z\\xdf-\\xf6\\xf8-\\xff",dc="\\xac\\xb1\\xd7\\xf7",es="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",wv="\\u2000-\\u206f",Ar=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ip="A-Z\\xc0-\\xd6\\xd8-\\xde",ap="\\ufe0e\\ufe0f",lp=dc+es+wv+Ar,Ai="['’]",fc="["+Ft+"]",Mi="["+lp+"]",Wo="["+Wa+"]",cp="\\d+",_v="["+op+"]",hc="["+Od+"]",Id="[^"+Ft+lp+cp+op+Od+ip+"]",Ha="\\ud83c[\\udffb-\\udfff]",Va="(?:"+Wo+"|"+Ha+")",up="[^"+Ft+"]",Ga="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Ho="["+ip+"]",Ad="\\u200d",pc="(?:"+hc+"|"+Id+")",dp="(?:"+Ho+"|"+Id+")",Md="(?:"+Ai+"(?:d|ll|m|re|s|t|ve))?",Dd="(?:"+Ai+"(?:D|LL|M|RE|S|T|VE))?",mc=Va+"?",qa="["+ap+"]?",Ys="(?:"+Ad+"(?:"+[up,Ga,Ct].join("|")+")"+qa+mc+")*",Js="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xs="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Di=qa+mc+Ys,Ka="(?:"+[_v,Ga,Ct].join("|")+")"+Di,Qs="(?:"+[up+Wo+"?",Wo,Ga,Ct,fc].join("|")+")",bv=RegExp(Ai,"g"),fp=RegExp(Wo,"g"),Vo=RegExp(Ha+"(?="+Ha+")|"+Qs+Di,"g"),Sv=RegExp([Ho+"?"+hc+"+"+Md+"(?="+[Mi,Ho,"$"].join("|")+")",dp+"+"+Dd+"(?="+[Mi,Ho+pc,"$"].join("|")+")",Ho+"?"+pc+"+"+Md,Ho+"+"+Dd,Xs,Js,cp,Ka].join("|"),"g"),hp=RegExp("["+Ad+Ft+Wa+ap+"]"),gc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,pp=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],jv=-1,Pt={};Pt[oc]=Pt[$o]=Pt[Fo]=Pt[_d]=Pt[ic]=Pt[ac]=Pt[bd]=Pt[La]=Pt[$a]=!0,Pt[ue]=Pt[he]=Pt[Lo]=Pt[fe]=Pt[ws]=Pt[je]=Pt[Be]=Pt[Ae]=Pt[gt]=Pt[hn]=Pt[Yt]=Pt[Ir]=Pt[Gt]=Pt[Zr]=Pt[Ii]=!1;var Et={};Et[ue]=Et[he]=Et[Lo]=Et[ws]=Et[fe]=Et[je]=Et[oc]=Et[$o]=Et[Fo]=Et[_d]=Et[ic]=Et[gt]=Et[hn]=Et[Yt]=Et[Ir]=Et[Gt]=Et[Zr]=Et[Do]=Et[ac]=Et[bd]=Et[La]=Et[$a]=!0,Et[Be]=Et[Ae]=Et[Ii]=!1;var Li={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},vc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Nv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},kv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ld=parseFloat,xc=parseInt,yc=typeof Cm=="object"&&Cm&&Cm.Object===Object&&Cm,mp=typeof self=="object"&&self&&self.Object===Object&&self,zt=yc||mp||Function("return this")(),Ya=e&&!e.nodeType&&e,ts=Ya&&!0&&n&&!n.nodeType&&n,$d=ts&&ts.exports===Ya,$i=$d&&yc.process,Dn=function(){try{var Z=ts&&ts.require&&ts.require("util").types;return Z||$i&&$i.binding&&$i.binding("util")}catch{}}(),Fd=Dn&&Dn.isArrayBuffer,Vn=Dn&&Dn.isDate,Go=Dn&&Dn.isMap,wc=Dn&&Dn.isRegExp,Fi=Dn&&Dn.isSet,gp=Dn&&Dn.isTypedArray;function Ln(Z,de,le){switch(le.length){case 0:return Z.call(de);case 1:return Z.call(de,le[0]);case 2:return Z.call(de,le[0],le[1]);case 3:return Z.call(de,le[0],le[1],le[2])}return Z.apply(de,le)}function zd(Z,de,le,Pe){for(var nt=-1,St=Z==null?0:Z.length;++nt<St;){var tn=Z[nt];de(Pe,tn,le(tn),Z)}return Pe}function Nn(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe&&de(Z[le],le,Z)!==!1;);return Z}function _c(Z,de){for(var le=Z==null?0:Z.length;le--&&de(Z[le],le,Z)!==!1;);return Z}function Ud(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(!de(Z[le],le,Z))return!1;return!0}function Zs(Z,de){for(var le=-1,Pe=Z==null?0:Z.length,nt=0,St=[];++le<Pe;){var tn=Z[le];de(tn,le,Z)&&(St[nt++]=tn)}return St}function bc(Z,de){var le=Z==null?0:Z.length;return!!le&&zi(Z,de,0)>-1}function Bd(Z,de,le){for(var Pe=-1,nt=Z==null?0:Z.length;++Pe<nt;)if(le(de,Z[Pe]))return!0;return!1}function At(Z,de){for(var le=-1,Pe=Z==null?0:Z.length,nt=Array(Pe);++le<Pe;)nt[le]=de(Z[le],le,Z);return nt}function eo(Z,de){for(var le=-1,Pe=de.length,nt=Z.length;++le<Pe;)Z[nt+le]=de[le];return Z}function Wd(Z,de,le,Pe){var nt=-1,St=Z==null?0:Z.length;for(Pe&&St&&(le=Z[++nt]);++nt<St;)le=de(le,Z[nt],nt,Z);return le}function Cv(Z,de,le,Pe){var nt=Z==null?0:Z.length;for(Pe&&nt&&(le=Z[--nt]);nt--;)le=de(le,Z[nt],nt,Z);return le}function Hd(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(de(Z[le],le,Z))return!0;return!1}var Ev=Gd("length");function vp(Z){return Z.split("")}function Pv(Z){return Z.match(pv)||[]}function xp(Z,de,le){var Pe;return le(Z,function(nt,St,tn){if(de(nt,St,tn))return Pe=St,!1}),Pe}function Sc(Z,de,le,Pe){for(var nt=Z.length,St=le+(Pe?1:-1);Pe?St--:++St<nt;)if(de(Z[St],St,Z))return St;return-1}function zi(Z,de,le){return de===de?kc(Z,de,le):Sc(Z,yp,le)}function Vd(Z,de,le,Pe){for(var nt=le-1,St=Z.length;++nt<St;)if(Pe(Z[nt],de))return nt;return-1}function yp(Z){return Z!==Z}function wp(Z,de){var le=Z==null?0:Z.length;return le?qd(Z,de)/le:re}function Gd(Z){return function(de){return de==null?t:de[Z]}}function jc(Z){return function(de){return Z==null?t:Z[de]}}function _p(Z,de,le,Pe,nt){return nt(Z,function(St,tn,Rt){le=Pe?(Pe=!1,St):de(le,St,tn,Rt)}),le}function Rv(Z,de){var le=Z.length;for(Z.sort(de);le--;)Z[le]=Z[le].value;return Z}function qd(Z,de){for(var le,Pe=-1,nt=Z.length;++Pe<nt;){var St=de(Z[Pe]);St!==t&&(le=le===t?St:le+St)}return le}function Kd(Z,de){for(var le=-1,Pe=Array(Z);++le<Z;)Pe[le]=de(le);return Pe}function Tv(Z,de){return At(de,function(le){return[le,Z[le]]})}function bp(Z){return Z&&Z.slice(0,Cc(Z)+1).replace(Ed,"")}function nr(Z){return function(de){return Z(de)}}function Ja(Z,de){return At(de,function(le){return Z[le]})}function _s(Z,de){return Z.has(de)}function Sp(Z,de){for(var le=-1,Pe=Z.length;++le<Pe&&zi(de,Z[le],0)>-1;);return le}function Yd(Z,de){for(var le=Z.length;le--&&zi(de,Z[le],0)>-1;);return le}function jp(Z,de){for(var le=Z.length,Pe=0;le--;)Z[le]===de&&++Pe;return Pe}var Np=jc(Li),kp=jc(vc);function Cp(Z){return"\\"+kv[Z]}function Ui(Z,de){return Z==null?t:Z[de]}function Bi(Z){return hp.test(Z)}function Ov(Z){return gc.test(Z)}function Iv(Z){for(var de,le=[];!(de=Z.next()).done;)le.push(de.value);return le}function Nc(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe,nt){le[++de]=[nt,Pe]}),le}function Jd(Z,de){return function(le){return Z(de(le))}}function mr(Z,de){for(var le=-1,Pe=Z.length,nt=0,St=[];++le<Pe;){var tn=Z[le];(tn===de||tn===x)&&(Z[le]=x,St[nt++]=le)}return St}function to(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++de]=Pe}),le}function Av(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++de]=[Pe,Pe]}),le}function kc(Z,de,le){for(var Pe=le-1,nt=Z.length;++Pe<nt;)if(Z[Pe]===de)return Pe;return-1}function Mv(Z,de,le){for(var Pe=le+1;Pe--;)if(Z[Pe]===de)return Pe;return Pe}function qo(Z){return Bi(Z)?Pp(Z):Ev(Z)}function rr(Z){return Bi(Z)?Rp(Z):vp(Z)}function Cc(Z){for(var de=Z.length;de--&&Ba.test(Z.charAt(de)););return de}var Ep=jc(Nv);function Pp(Z){for(var de=Vo.lastIndex=0;Vo.test(Z);)++de;return de}function Rp(Z){return Z.match(Vo)||[]}function Dv(Z){return Z.match(Sv)||[]}var Lv=function Z(de){de=de==null?zt:Wi.defaults(zt.Object(),de,Wi.pick(zt,pp));var le=de.Array,Pe=de.Date,nt=de.Error,St=de.Function,tn=de.Math,Rt=de.Object,Xa=de.RegExp,$v=de.String,gr=de.TypeError,bs=le.prototype,Xd=St.prototype,ns=Rt.prototype,Hi=de["__core-js_shared__"],Qa=Xd.toString,jt=ns.hasOwnProperty,Vi=0,Ec=function(){var l=/[^.]+$/.exec(Hi&&Hi.keys&&Hi.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),Za=ns.toString,Pc=Qa.call(Rt),Tp=zt._,Op=Xa("^"+Qa.call(jt).replace(za,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),el=$d?de.Buffer:t,Ss=de.Symbol,tl=de.Uint8Array,Qd=el?el.allocUnsafe:t,Mr=Jd(Rt.getPrototypeOf,Rt),Rc=Rt.create,Tc=ns.propertyIsEnumerable,Oc=bs.splice,Ip=Ss?Ss.isConcatSpreadable:t,js=Ss?Ss.iterator:t,Ko=Ss?Ss.toStringTag:t,nl=function(){try{var l=ho(Rt,"defineProperty");return l({},"",{}),l}catch{}}(),Ap=de.clearTimeout!==zt.clearTimeout&&de.clearTimeout,Dt=Pe&&Pe.now!==zt.Date.now&&Pe.now,Zd=de.setTimeout!==zt.setTimeout&&de.setTimeout,Yo=tn.ceil,no=tn.floor,Ic=Rt.getOwnPropertySymbols,ef=el?el.isBuffer:t,Gi=de.isFinite,Ac=bs.join,qi=Jd(Rt.keys,Rt),nn=tn.max,kn=tn.min,Fv=Pe.now,Mp=de.parseInt,rl=tn.random,Mc=bs.reverse,sl=ho(de,"DataView"),Jo=ho(de,"Map"),ol=ho(de,"Promise"),ro=ho(de,"Set"),il=ho(de,"WeakMap"),Ki=ho(Rt,"create"),Dc=il&&new il,Yi={},tf=po(sl),so=po(Jo),Dp=po(ol),Ji=po(ro),rs=po(il),oo=Ss?Ss.prototype:t,sr=oo?oo.valueOf:t,Lc=oo?oo.toString:t;function D(l){if(sn(l)&&!it(l)&&!(l instanceof ot)){if(l instanceof Cn)return l;if(jt.call(l,"__wrapped__"))return um(l)}return new Cn(l)}var Xi=function(){function l(){}return function(d){if(!Qt(d))return{};if(Rc)return Rc(d);l.prototype=d;var v=new l;return l.prototype=t,v}}();function ss(){}function Cn(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}D.templateSettings={escape:Jh,evaluate:Xh,interpolate:kd,variable:"",imports:{_:D}},D.prototype=ss.prototype,D.prototype.constructor=D,Cn.prototype=Xi(ss.prototype),Cn.prototype.constructor=Cn;function ot(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function $c(){var l=new ot(this.__wrapped__);return l.__actions__=Fn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Fn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Fn(this.__views__),l}function nf(){if(this.__filtered__){var l=new ot(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function Qi(){var l=this.__wrapped__.value(),d=this.__dir__,v=it(l),j=d<0,O=v?l.length:0,L=Tf(0,O,this.__views__),V=L.start,J=L.end,ee=J-V,ve=j?J:V-1,xe=this.__iteratees__,_e=xe.length,Ee=0,Ve=kn(ee,this.__takeCount__);if(!v||!j&&O==ee&&Ve==ee)return ia(l,this.__actions__);var Qe=[];e:for(;ee--&&Ee<Ve;){ve+=d;for(var ft=-1,Ze=l[ve];++ft<_e;){var xt=xe[ft],bt=xt.iteratee,Vr=xt.type,cr=bt(Ze);if(Vr==ke)Ze=cr;else if(!cr){if(Vr==me)continue e;break e}}Qe[Ee++]=Ze}return Qe}ot.prototype=Xi(ss.prototype),ot.prototype.constructor=ot;function Gn(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function Lt(){this.__data__=Ki?Ki(null):{},this.size=0}function Mt(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function io(l){var d=this.__data__;if(Ki){var v=d[l];return v===p?t:v}return jt.call(d,l)?d[l]:t}function En(l){var d=this.__data__;return Ki?d[l]!==t:jt.call(d,l)}function qn(l,d){var v=this.__data__;return this.size+=this.has(l)?0:1,v[l]=Ki&&d===t?p:d,this}Gn.prototype.clear=Lt,Gn.prototype.delete=Mt,Gn.prototype.get=io,Gn.prototype.has=En,Gn.prototype.set=qn;function $n(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function Zi(){this.__data__=[],this.size=0}function Kn(l){var d=this.__data__,v=Rn(d,l);if(v<0)return!1;var j=d.length-1;return v==j?d.pop():Oc.call(d,v,1),--this.size,!0}function Fc(l){var d=this.__data__,v=Rn(d,l);return v<0?t:d[v][1]}function Lp(l){return Rn(this.__data__,l)>-1}function $p(l,d){var v=this.__data__,j=Rn(v,l);return j<0?(++this.size,v.push([l,d])):v[j][1]=d,this}$n.prototype.clear=Zi,$n.prototype.delete=Kn,$n.prototype.get=Fc,$n.prototype.has=Lp,$n.prototype.set=$p;function vr(l){var d=-1,v=l==null?0:l.length;for(this.clear();++d<v;){var j=l[d];this.set(j[0],j[1])}}function Fp(){this.size=0,this.__data__={hash:new Gn,map:new(Jo||$n),string:new Gn}}function Ns(l){var d=bl(this,l).delete(l);return this.size-=d?1:0,d}function zc(l){return bl(this,l).get(l)}function rf(l){return bl(this,l).has(l)}function zp(l,d){var v=bl(this,l),j=v.size;return v.set(l,d),this.size+=v.size==j?0:1,this}vr.prototype.clear=Fp,vr.prototype.delete=Ns,vr.prototype.get=zc,vr.prototype.has=rf,vr.prototype.set=zp;function Xo(l){var d=-1,v=l==null?0:l.length;for(this.__data__=new vr;++d<v;)this.add(l[d])}function ao(l){return this.__data__.set(l,p),this}function ea(l){return this.__data__.has(l)}Xo.prototype.add=Xo.prototype.push=ao,Xo.prototype.has=ea;function Pn(l){var d=this.__data__=new $n(l);this.size=d.size}function Uc(){this.__data__=new $n,this.size=0}function Bc(l){var d=this.__data__,v=d.delete(l);return this.size=d.size,v}function xr(l){return this.__data__.get(l)}function yr(l){return this.__data__.has(l)}function Qo(l,d){var v=this.__data__;if(v instanceof $n){var j=v.__data__;if(!Jo||j.length<o-1)return j.push([l,d]),this.size=++v.size,this;v=this.__data__=new vr(j)}return v.set(l,d),this.size=v.size,this}Pn.prototype.clear=Uc,Pn.prototype.delete=Bc,Pn.prototype.get=xr,Pn.prototype.has=yr,Pn.prototype.set=Qo;function os(l,d){var v=it(l),j=!v&&Al(l),O=!v&&!j&&ga(l),L=!v&&!j&&!O&&Tu(l),V=v||j||O||L,J=V?Kd(l.length,$v):[],ee=J.length;for(var ve in l)(d||jt.call(l,ve))&&!(V&&(ve=="length"||O&&(ve=="offset"||ve=="parent")||L&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Bt(ve,ee)))&&J.push(ve);return J}function is(l){var d=l.length;return d?l[sa(0,d-1)]:t}function Zo(l,d){return pu(Fn(l),ks(d,0,l.length))}function Up(l){return pu(Fn(l))}function al(l,d,v){(v!==t&&!Ds(l[d],v)||v===t&&!(d in l))&&as(l,d,v)}function ei(l,d,v){var j=l[d];(!(jt.call(l,d)&&Ds(j,v))||v===t&&!(d in l))&&as(l,d,v)}function Rn(l,d){for(var v=l.length;v--;)if(Ds(l[v][0],d))return v;return-1}function or(l,d,v,j){return cs(l,function(O,L,V){d(j,O,v(O),V)}),j}function $t(l,d){return l&&Lr(d,In(d),l)}function Dr(l,d){return l&&Lr(d,Er(d),l)}function as(l,d,v){d=="__proto__"&&nl?nl(l,d,{configurable:!0,enumerable:!0,value:v,writable:!0}):l[d]=v}function Wc(l,d){for(var v=-1,j=d.length,O=le(j),L=l==null;++v<j;)O[v]=L?t:cx(l,d[v]);return O}function ks(l,d,v){return l===l&&(v!==t&&(l=l<=v?l:v),d!==t&&(l=l>=d?l:d)),l}function Yn(l,d,v,j,O,L){var V,J=d&y,ee=d&b,ve=d&C;if(v&&(V=O?v(l,j,O,L):v(l)),V!==t)return V;if(!Qt(l))return l;var xe=it(l);if(xe){if(V=jl(l),!J)return Fn(l,V)}else{var _e=wn(l),Ee=_e==Ae||_e==Je;if(ga(l))return yf(l,J);if(_e==Yt||_e==ue||Ee&&!O){if(V=ee||Ee?{}:_n(l),!J)return ee?Uv(l,Dr(V,l)):nu(l,$t(V,l))}else{if(!Et[_e])return O?l:{};V=Bv(l,_e,J)}}L||(L=new Pn);var Ve=L.get(l);if(Ve)return Ve;L.set(l,V),ew(l)?l.forEach(function(Ze){V.add(Yn(Ze,d,v,Ze,l,L))}):Qy(l)&&l.forEach(function(Ze,xt){V.set(xt,Yn(Ze,d,v,xt,l,L))});var Qe=ve?ee?_l:wl:ee?Er:In,ft=xe?t:Qe(l);return Nn(ft||l,function(Ze,xt){ft&&(xt=Ze,Ze=l[xt]),ei(V,xt,Yn(Ze,d,v,xt,l,L))}),V}function Bp(l){var d=In(l);return function(v){return ll(v,l,d)}}function ll(l,d,v){var j=v.length;if(l==null)return!j;for(l=Rt(l);j--;){var O=v[j],L=d[O],V=l[O];if(V===t&&!(O in l)||!L(V))return!1}return!0}function sf(l,d,v){if(typeof l!="function")throw new gr(u);return ha(function(){l.apply(t,v)},d)}function ls(l,d,v,j){var O=-1,L=bc,V=!0,J=l.length,ee=[],ve=d.length;if(!J)return ee;v&&(d=At(d,nr(v))),j?(L=Bd,V=!1):d.length>=o&&(L=_s,V=!1,d=new Xo(d));e:for(;++O<J;){var xe=l[O],_e=v==null?xe:v(xe);if(xe=j||xe!==0?xe:0,V&&_e===_e){for(var Ee=ve;Ee--;)if(d[Ee]===_e)continue e;ee.push(xe)}else L(d,_e,j)||ee.push(xe)}return ee}var cs=jr(ir),Wp=jr(lo,!0);function cl(l,d){var v=!0;return cs(l,function(j,O,L){return v=!!d(j,O,L),v}),v}function ti(l,d,v){for(var j=-1,O=l.length;++j<O;){var L=l[j],V=d(L);if(V!=null&&(J===t?V===V&&!Hr(V):v(V,J)))var J=V,ee=L}return ee}function Hp(l,d,v,j){var O=l.length;for(v=ct(v),v<0&&(v=-v>O?0:O+v),j=j===t||j>O?O:ct(j),j<0&&(j+=O),j=v>j?0:nw(j);v<j;)l[v++]=d;return l}function of(l,d){var v=[];return cs(l,function(j,O,L){d(j,O,L)&&v.push(j)}),v}function qt(l,d,v,j,O){var L=-1,V=l.length;for(v||(v=du),O||(O=[]);++L<V;){var J=l[L];d>0&&v(J)?d>1?qt(J,d-1,v,j,O):eo(O,J):j||(O[O.length]=J)}return O}var Hc=su(),ul=su(!0);function ir(l,d){return l&&Hc(l,d,In)}function lo(l,d){return l&&ul(l,d,In)}function ta(l,d){return Zs(d,function(v){return pi(l[v])})}function Cs(l,d){d=fs(d,l);for(var v=0,j=d.length;l!=null&&v<j;)l=l[Ur(d[v++])];return v&&v==j?l:t}function Vc(l,d,v){var j=d(l);return it(l)?j:eo(j,v(l))}function xn(l){return l==null?l===t?Gh:tr:Ko&&Ko in Rt(l)?uu(l):If(l)}function co(l,d){return l>d}function wr(l,d){return l!=null&&jt.call(l,d)}function ni(l,d){return l!=null&&d in Rt(l)}function af(l,d,v){return l>=kn(d,v)&&l<nn(d,v)}function Gc(l,d,v){for(var j=v?Bd:bc,O=l[0].length,L=l.length,V=L,J=le(L),ee=1/0,ve=[];V--;){var xe=l[V];V&&d&&(xe=At(xe,nr(d))),ee=kn(xe.length,ee),J[V]=!v&&(d||O>=120&&xe.length>=120)?new Xo(V&&xe):t}xe=l[0];var _e=-1,Ee=J[0];e:for(;++_e<O&&ve.length<ee;){var Ve=xe[_e],Qe=d?d(Ve):Ve;if(Ve=v||Ve!==0?Ve:0,!(Ee?_s(Ee,Qe):j(ve,Qe,v))){for(V=L;--V;){var ft=J[V];if(!(ft?_s(ft,Qe):j(l[V],Qe,v)))continue e}Ee&&Ee.push(Qe),ve.push(Ve)}}return ve}function Es(l,d,v,j){return ir(l,function(O,L,V){d(j,v(O),L,V)}),j}function _r(l,d,v){d=fs(d,l),l=pn(l,d);var j=l==null?l:l[Ur(Bn(d))];return j==null?t:Ln(j,l,v)}function qc(l){return sn(l)&&xn(l)==ue}function Vp(l){return sn(l)&&xn(l)==Lo}function Ps(l){return sn(l)&&xn(l)==je}function br(l,d,v,j,O){return l===d?!0:l==null||d==null||!sn(l)&&!sn(d)?l!==l&&d!==d:Kc(l,d,v,j,br,O)}function Kc(l,d,v,j,O,L){var V=it(l),J=it(d),ee=V?he:wn(l),ve=J?he:wn(d);ee=ee==ue?Yt:ee,ve=ve==ue?Yt:ve;var xe=ee==Yt,_e=ve==Yt,Ee=ee==ve;if(Ee&&ga(l)){if(!ga(d))return!1;V=!0,xe=!1}if(Ee&&!xe)return L||(L=new Pn),V||Tu(l)?Pf(l,d,v,j,O,L):Rf(l,d,ee,v,j,O,L);if(!(v&E)){var Ve=xe&&jt.call(l,"__wrapped__"),Qe=_e&&jt.call(d,"__wrapped__");if(Ve||Qe){var ft=Ve?l.value():l,Ze=Qe?d.value():d;return L||(L=new Pn),O(ft,Ze,v,j,L)}}return Ee?(L||(L=new Pn),nm(l,d,v,j,O,L)):!1}function Gp(l){return sn(l)&&wn(l)==gt}function na(l,d,v,j){var O=v.length,L=O,V=!j;if(l==null)return!L;for(l=Rt(l);O--;){var J=v[O];if(V&&J[2]?J[1]!==l[J[0]]:!(J[0]in l))return!1}for(;++O<L;){J=v[O];var ee=J[0],ve=l[ee],xe=J[1];if(V&&J[2]){if(ve===t&&!(ee in l))return!1}else{var _e=new Pn;if(j)var Ee=j(ve,xe,ee,l,d,_e);if(!(Ee===t?br(xe,ve,E|P,j,_e):Ee))return!1}}return!0}function lf(l){if(!Qt(l)||om(l))return!1;var d=pi(l)?Op:ep;return d.test(po(l))}function dl(l){return sn(l)&&xn(l)==Ir}function us(l){return sn(l)&&wn(l)==Gt}function fl(l){return sn(l)&&jm(l.length)&&!!Pt[xn(l)]}function ra(l){return typeof l=="function"?l:l==null?Pr:typeof l=="object"?it(l)?Ut(l[0],l[1]):Yc(l):hw(l)}function Rs(l){if(!As(l))return qi(l);var d=[];for(var v in Rt(l))jt.call(l,v)&&v!="constructor"&&d.push(v);return d}function cf(l){if(!Qt(l))return lm(l);var d=As(l),v=[];for(var j in l)j=="constructor"&&(d||!jt.call(l,j))||v.push(j);return v}function uo(l,d){return l<d}function uf(l,d){var v=-1,j=Cr(l)?le(l.length):[];return cs(l,function(O,L,V){j[++v]=d(O,L,V)}),j}function Yc(l){var d=Sl(l);return d.length==1&&d[0][2]?fu(d[0][0],d[0][1]):function(v){return v===l||na(v,l,d)}}function Ut(l,d){return Te(l)&&kl(d)?fu(Ur(l),d):function(v){var j=cx(v,l);return j===t&&j===d?ux(v,l):br(d,j,E|P)}}function ri(l,d,v,j,O){l!==d&&Hc(d,function(L,V){if(O||(O=new Pn),Qt(L))df(l,d,V,v,ri,j,O);else{var J=j?j(ms(l,V),L,V+"",l,d,O):t;J===t&&(J=L),al(l,V,J)}},Er)}function df(l,d,v,j,O,L,V){var J=ms(l,v),ee=ms(d,v),ve=V.get(ee);if(ve){al(l,v,ve);return}var xe=L?L(J,ee,v+"",l,d,V):t,_e=xe===t;if(_e){var Ee=it(ee),Ve=!Ee&&ga(ee),Qe=!Ee&&!Ve&&Tu(ee);xe=ee,Ee||Ve||Qe?it(J)?xe=J:un(J)?xe=Fn(J):Ve?(_e=!1,xe=yf(ee,!0)):Qe?(_e=!1,xe=Xp(ee,!0)):xe=[]:Xf(ee)||Al(ee)?(xe=J,Al(J)?xe=rw(J):(!Qt(J)||pi(J))&&(xe=_n(ee))):_e=!1}_e&&(V.set(ee,xe),O(xe,ee,j,L,V),V.delete(ee)),al(l,v,xe)}function Jc(l,d){var v=l.length;if(v)return d+=d<0?v:0,Bt(d,v)?l[d]:t}function hl(l,d,v){d.length?d=At(d,function(L){return it(L)?function(V){return Cs(V,L.length===1?L[0]:L)}:L}):d=[Pr];var j=-1;d=At(d,nr(Ye()));var O=uf(l,function(L,V,J){var ee=At(d,function(ve){return ve(L)});return{criteria:ee,index:++j,value:L}});return Rv(O,function(L,V){return zv(L,V,v)})}function ff(l,d){return fo(l,d,function(v,j){return ux(l,j)})}function fo(l,d,v){for(var j=-1,O=d.length,L={};++j<O;){var V=d[j],J=Cs(l,V);v(J,V)&&oi(L,fs(V,l),J)}return L}function Ht(l){return function(d){return Cs(d,l)}}function Jt(l,d,v,j){var O=j?Vd:zi,L=-1,V=d.length,J=l;for(l===d&&(d=Fn(d)),v&&(J=At(l,nr(v)));++L<V;)for(var ee=0,ve=d[L],xe=v?v(ve):ve;(ee=O(J,xe,ee,j))>-1;)J!==l&&Oc.call(J,ee,1),Oc.call(l,ee,1);return l}function ln(l,d){for(var v=l?d.length:0,j=v-1;v--;){var O=d[v];if(v==j||O!==L){var L=O;Bt(O)?Oc.call(l,O,1):Zc(l,O)}}return l}function sa(l,d){return l+no(rl()*(d-l+1))}function pl(l,d,v,j){for(var O=-1,L=nn(Yo((d-l)/(v||1)),0),V=le(L);L--;)V[j?L:++O]=l,l+=v;return V}function si(l,d){var v="";if(!l||d<1||d>B)return v;do d%2&&(v+=l),d=no(d/2),d&&(l+=l);while(d);return v}function lt(l,d){return ar(hu(l,d,Pr),l+"")}function Tn(l){return is(Ou(l))}function hf(l,d){var v=Ou(l);return pu(v,ks(d,0,v.length))}function oi(l,d,v,j){if(!Qt(l))return l;d=fs(d,l);for(var O=-1,L=d.length,V=L-1,J=l;J!=null&&++O<L;){var ee=Ur(d[O]),ve=v;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return l;if(O!=V){var xe=J[ee];ve=j?j(xe,ee,J):t,ve===t&&(ve=Qt(xe)?xe:Bt(d[O+1])?[]:{})}ei(J,ee,ve),J=J[ee]}return l}var Xc=Dc?function(l,d){return Dc.set(l,d),l}:Pr,ds=nl?function(l,d){return nl(l,"toString",{configurable:!0,enumerable:!1,value:fx(d),writable:!0})}:Pr;function Sr(l){return pu(Ou(l))}function On(l,d,v){var j=-1,O=l.length;d<0&&(d=-d>O?0:O+d),v=v>O?O:v,v<0&&(v+=O),O=d>v?0:v-d>>>0,d>>>=0;for(var L=le(O);++j<O;)L[j]=l[j+d];return L}function pf(l,d){var v;return cs(l,function(j,O,L){return v=d(j,O,L),!v}),!!v}function oa(l,d,v){var j=0,O=l==null?j:l.length;if(typeof d=="number"&&d===d&&O<=q){for(;j<O;){var L=j+O>>>1,V=l[L];V!==null&&!Hr(V)&&(v?V<=d:V<d)?j=L+1:O=L}return O}return Qc(l,d,Pr,v)}function Qc(l,d,v,j){var O=0,L=l==null?0:l.length;if(L===0)return 0;d=v(d);for(var V=d!==d,J=d===null,ee=Hr(d),ve=d===t;O<L;){var xe=no((O+L)/2),_e=v(l[xe]),Ee=_e!==t,Ve=_e===null,Qe=_e===_e,ft=Hr(_e);if(V)var Ze=j||Qe;else ve?Ze=Qe&&(j||Ee):J?Ze=Qe&&Ee&&(j||!Ve):ee?Ze=Qe&&Ee&&!Ve&&(j||!ft):Ve||ft?Ze=!1:Ze=j?_e<=d:_e<d;Ze?O=xe+1:L=xe}return kn(L,U)}function mf(l,d){for(var v=-1,j=l.length,O=0,L=[];++v<j;){var V=l[v],J=d?d(V):V;if(!v||!Ds(J,ee)){var ee=J;L[O++]=V===0?0:V}}return L}function gf(l){return typeof l=="number"?l:Hr(l)?re:+l}function Jn(l){if(typeof l=="string")return l;if(it(l))return At(l,Jn)+"";if(Hr(l))return Lc?Lc.call(l):"";var d=l+"";return d=="0"&&1/l==-be?"-0":d}function Ts(l,d,v){var j=-1,O=bc,L=l.length,V=!0,J=[],ee=J;if(v)V=!1,O=Bd;else if(L>=o){var ve=d?null:tm(l);if(ve)return to(ve);V=!1,O=_s,ee=new Xo}else ee=d?[]:J;e:for(;++j<L;){var xe=l[j],_e=d?d(xe):xe;if(xe=v||xe!==0?xe:0,V&&_e===_e){for(var Ee=ee.length;Ee--;)if(ee[Ee]===_e)continue e;d&&ee.push(_e),J.push(xe)}else O(ee,_e,v)||(ee!==J&&ee.push(_e),J.push(xe))}return J}function Zc(l,d){return d=fs(d,l),l=pn(l,d),l==null||delete l[Ur(Bn(d))]}function vf(l,d,v,j){return oi(l,d,v(Cs(l,d)),j)}function ml(l,d,v,j){for(var O=l.length,L=j?O:-1;(j?L--:++L<O)&&d(l[L],L,l););return v?On(l,j?0:L,j?L+1:O):On(l,j?L+1:0,j?O:L)}function ia(l,d){var v=l;return v instanceof ot&&(v=v.value()),Wd(d,function(j,O){return O.func.apply(O.thisArg,eo([j],O.args))},v)}function eu(l,d,v){var j=l.length;if(j<2)return j?Ts(l[0]):[];for(var O=-1,L=le(j);++O<j;)for(var V=l[O],J=-1;++J<j;)J!=O&&(L[O]=ls(L[O]||V,l[J],d,v));return Ts(qt(L,1),d,v)}function gl(l,d,v){for(var j=-1,O=l.length,L=d.length,V={};++j<O;){var J=j<L?d[j]:t;v(V,l[j],J)}return V}function aa(l){return un(l)?l:[]}function tu(l){return typeof l=="function"?l:Pr}function fs(l,d){return it(l)?l:Te(l,d)?[l]:Df(Tt(l))}var qp=lt;function Os(l,d,v){var j=l.length;return v=v===t?j:v,!d&&v>=j?l:On(l,d,v)}var xf=Ap||function(l){return zt.clearTimeout(l)};function yf(l,d){if(d)return l.slice();var v=l.length,j=Qd?Qd(v):new l.constructor(v);return l.copy(j),j}function vl(l){var d=new l.constructor(l.byteLength);return new tl(d).set(new tl(l)),d}function Kp(l,d){var v=d?vl(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.byteLength)}function Yp(l){var d=new l.constructor(l.source,Rd.exec(l));return d.lastIndex=l.lastIndex,d}function Jp(l){return sr?Rt(sr.call(l)):{}}function Xp(l,d){var v=d?vl(l.buffer):l.buffer;return new l.constructor(v,l.byteOffset,l.length)}function wf(l,d){if(l!==d){var v=l!==t,j=l===null,O=l===l,L=Hr(l),V=d!==t,J=d===null,ee=d===d,ve=Hr(d);if(!J&&!ve&&!L&&l>d||L&&V&&ee&&!J&&!ve||j&&V&&ee||!v&&ee||!O)return 1;if(!j&&!L&&!ve&&l<d||ve&&v&&O&&!j&&!L||J&&v&&O||!V&&O||!ee)return-1}return 0}function zv(l,d,v){for(var j=-1,O=l.criteria,L=d.criteria,V=O.length,J=v.length;++j<V;){var ee=wf(O[j],L[j]);if(ee){if(j>=J)return ee;var ve=v[j];return ee*(ve=="desc"?-1:1)}}return l.index-d.index}function Qp(l,d,v,j){for(var O=-1,L=l.length,V=v.length,J=-1,ee=d.length,ve=nn(L-V,0),xe=le(ee+ve),_e=!j;++J<ee;)xe[J]=d[J];for(;++O<V;)(_e||O<L)&&(xe[v[O]]=l[O]);for(;ve--;)xe[J++]=l[O++];return xe}function _f(l,d,v,j){for(var O=-1,L=l.length,V=-1,J=v.length,ee=-1,ve=d.length,xe=nn(L-J,0),_e=le(xe+ve),Ee=!j;++O<xe;)_e[O]=l[O];for(var Ve=O;++ee<ve;)_e[Ve+ee]=d[ee];for(;++V<J;)(Ee||O<L)&&(_e[Ve+v[V]]=l[O++]);return _e}function Fn(l,d){var v=-1,j=l.length;for(d||(d=le(j));++v<j;)d[v]=l[v];return d}function Lr(l,d,v,j){var O=!v;v||(v={});for(var L=-1,V=d.length;++L<V;){var J=d[L],ee=j?j(v[J],l[J],J,v,l):t;ee===t&&(ee=l[J]),O?as(v,J,ee):ei(v,J,ee)}return v}function nu(l,d){return Lr(l,$r(l),d)}function Uv(l,d){return Lr(l,rm(l),d)}function ru(l,d){return function(v,j){var O=it(v)?zd:or,L=d?d():{};return O(v,l,Ye(j,2),L)}}function la(l){return lt(function(d,v){var j=-1,O=v.length,L=O>1?v[O-1]:t,V=O>2?v[2]:t;for(L=l.length>3&&typeof L=="function"?(O--,L):t,V&&Un(v[0],v[1],V)&&(L=O<3?t:L,O=1),d=Rt(d);++j<O;){var J=v[j];J&&l(d,J,j,L)}return d})}function jr(l,d){return function(v,j){if(v==null)return v;if(!Cr(v))return l(v,j);for(var O=v.length,L=d?O:-1,V=Rt(v);(d?L--:++L<O)&&j(V[L],L,V)!==!1;);return v}}function su(l){return function(d,v,j){for(var O=-1,L=Rt(d),V=j(d),J=V.length;J--;){var ee=V[l?J:++O];if(v(L[ee],ee,L)===!1)break}return d}}function ou(l,d,v){var j=d&k,O=ca(l);function L(){var V=this&&this!==zt&&this instanceof L?O:l;return V.apply(j?v:this,arguments)}return L}function bf(l){return function(d){d=Tt(d);var v=Bi(d)?rr(d):t,j=v?v[0]:d.charAt(0),O=v?Os(v,1).join(""):d.slice(1);return j[l]()+O}}function ii(l){return function(d){return Wd(dw(uw(d).replace(bv,"")),l,"")}}function ca(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var v=Xi(l.prototype),j=l.apply(v,d);return Qt(j)?j:v}}function Sf(l,d,v){var j=ca(l);function O(){for(var L=arguments.length,V=le(L),J=L,ee=Is(O);J--;)V[J]=arguments[J];var ve=L<3&&V[0]!==ee&&V[L-1]!==ee?[]:mr(V,ee);if(L-=ve.length,L<v)return zn(l,d,ua,O.placeholder,t,V,ve,t,t,v-L);var xe=this&&this!==zt&&this instanceof O?j:l;return Ln(xe,this,V)}return O}function ai(l){return function(d,v,j){var O=Rt(d);if(!Cr(d)){var L=Ye(v,3);d=In(d),v=function(J){return L(O[J],J,O)}}var V=l(d,v,j);return V>-1?O[L?d[V]:V]:t}}function iu(l){return ps(function(d){var v=d.length,j=v,O=Cn.prototype.thru;for(l&&d.reverse();j--;){var L=d[j];if(typeof L!="function")throw new gr(u);if(O&&!V&&da(L)=="wrapper")var V=new Cn([],!0)}for(j=V?j:v;++j<v;){L=d[j];var J=da(L),ee=J=="wrapper"?cu(L):t;ee&&Nl(ee[0])&&ee[1]==(F|T|M|$)&&!ee[4].length&&ee[9]==1?V=V[da(ee[0])].apply(V,ee[3]):V=L.length==1&&Nl(L)?V[J]():V.thru(L)}return function(){var ve=arguments,xe=ve[0];if(V&&ve.length==1&&it(xe))return V.plant(xe).value();for(var _e=0,Ee=v?d[_e].apply(this,ve):xe;++_e<v;)Ee=d[_e].call(this,Ee);return Ee}})}function ua(l,d,v,j,O,L,V,J,ee,ve){var xe=d&F,_e=d&k,Ee=d&R,Ve=d&(T|A),Qe=d&G,ft=Ee?t:ca(l);function Ze(){for(var xt=arguments.length,bt=le(xt),Vr=xt;Vr--;)bt[Vr]=arguments[Vr];if(Ve)var cr=Is(Ze),Gr=jp(bt,cr);if(j&&(bt=Qp(bt,j,O,Ve)),L&&(bt=_f(bt,L,V,Ve)),xt-=Gr,Ve&&xt<ve){var dn=mr(bt,cr);return zn(l,d,ua,Ze.placeholder,v,bt,dn,J,ee,ve-xt)}var Ls=_e?v:this,gi=Ee?Ls[l]:l;return xt=bt.length,J?bt=Fr(bt,J):Qe&&xt>1&&bt.reverse(),xe&&ee<xt&&(bt.length=ee),this&&this!==zt&&this instanceof Ze&&(gi=ft||ca(gi)),gi.apply(Ls,bt)}return Ze}function Zp(l,d){return function(v,j){return Es(v,l,d(j),{})}}function xl(l,d){return function(v,j){var O;if(v===t&&j===t)return d;if(v!==t&&(O=v),j!==t){if(O===t)return j;typeof v=="string"||typeof j=="string"?(v=Jn(v),j=Jn(j)):(v=gf(v),j=gf(j)),O=l(v,j)}return O}}function au(l){return ps(function(d){return d=At(d,nr(Ye())),lt(function(v){var j=this;return l(d,function(O){return Ln(O,j,v)})})})}function yl(l,d){d=d===t?" ":Jn(d);var v=d.length;if(v<2)return v?si(d,l):d;var j=si(d,Yo(l/qo(d)));return Bi(d)?Os(rr(j),0,l).join(""):j.slice(0,l)}function em(l,d,v,j){var O=d&k,L=ca(l);function V(){for(var J=-1,ee=arguments.length,ve=-1,xe=j.length,_e=le(xe+ee),Ee=this&&this!==zt&&this instanceof V?L:l;++ve<xe;)_e[ve]=j[ve];for(;ee--;)_e[ve++]=arguments[++J];return Ln(Ee,O?v:this,_e)}return V}function jf(l){return function(d,v,j){return j&&typeof j!="number"&&Un(d,v,j)&&(v=j=t),d=mi(d),v===t?(v=d,d=0):v=mi(v),j=j===t?d<v?1:-1:mi(j),pl(d,v,j,l)}}function lu(l){return function(d,v){return typeof d=="string"&&typeof v=="string"||(d=gs(d),v=gs(v)),l(d,v)}}function zn(l,d,v,j,O,L,V,J,ee,ve){var xe=d&T,_e=xe?V:t,Ee=xe?t:V,Ve=xe?L:t,Qe=xe?t:L;d|=xe?M:W,d&=~(xe?W:M),d&N||(d&=-4);var ft=[l,d,O,Ve,_e,Qe,Ee,J,ee,ve],Ze=v.apply(t,ft);return Nl(l)&&Af(Ze,ft),Ze.placeholder=j,Mf(Ze,l,d)}function yn(l){var d=tn[l];return function(v,j){if(v=gs(v),j=j==null?0:kn(ct(j),292),j&&Gi(v)){var O=(Tt(v)+"e").split("e"),L=d(O[0]+"e"+(+O[1]+j));return O=(Tt(L)+"e").split("e"),+(O[0]+"e"+(+O[1]-j))}return d(v)}}var tm=ro&&1/to(new ro([,-0]))[1]==be?function(l){return new ro(l)}:mx;function Nf(l){return function(d){var v=wn(d);return v==gt?Nc(d):v==Gt?Av(d):Tv(d,l(d))}}function hs(l,d,v,j,O,L,V,J){var ee=d&R;if(!ee&&typeof l!="function")throw new gr(u);var ve=j?j.length:0;if(ve||(d&=-97,j=O=t),V=V===t?V:nn(ct(V),0),J=J===t?J:ct(J),ve-=O?O.length:0,d&W){var xe=j,_e=O;j=O=t}var Ee=ee?t:cu(l),Ve=[l,d,v,j,O,xe,_e,L,V,J];if(Ee&&am(Ve,Ee),l=Ve[0],d=Ve[1],v=Ve[2],j=Ve[3],O=Ve[4],J=Ve[9]=Ve[9]===t?ee?0:l.length:nn(Ve[9]-ve,0),!J&&d&(T|A)&&(d&=-25),!d||d==k)var Qe=ou(l,d,v);else d==T||d==A?Qe=Sf(l,d,J):(d==M||d==(k|M))&&!O.length?Qe=em(l,d,v,j):Qe=ua.apply(t,Ve);var ft=Ee?Xc:Af;return Mf(ft(Qe,Ve),l,d)}function kf(l,d,v,j){return l===t||Ds(l,ns[v])&&!jt.call(j,v)?d:l}function Cf(l,d,v,j,O,L){return Qt(l)&&Qt(d)&&(L.set(d,l),ri(l,d,t,Cf,L),L.delete(d)),l}function Ef(l){return Xf(l)?t:l}function Pf(l,d,v,j,O,L){var V=v&E,J=l.length,ee=d.length;if(J!=ee&&!(V&&ee>J))return!1;var ve=L.get(l),xe=L.get(d);if(ve&&xe)return ve==d&&xe==l;var _e=-1,Ee=!0,Ve=v&P?new Xo:t;for(L.set(l,d),L.set(d,l);++_e<J;){var Qe=l[_e],ft=d[_e];if(j)var Ze=V?j(ft,Qe,_e,d,l,L):j(Qe,ft,_e,l,d,L);if(Ze!==t){if(Ze)continue;Ee=!1;break}if(Ve){if(!Hd(d,function(xt,bt){if(!_s(Ve,bt)&&(Qe===xt||O(Qe,xt,v,j,L)))return Ve.push(bt)})){Ee=!1;break}}else if(!(Qe===ft||O(Qe,ft,v,j,L))){Ee=!1;break}}return L.delete(l),L.delete(d),Ee}function Rf(l,d,v,j,O,L,V){switch(v){case ws:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Lo:return!(l.byteLength!=d.byteLength||!L(new tl(l),new tl(d)));case fe:case je:case hn:return Ds(+l,+d);case Be:return l.name==d.name&&l.message==d.message;case Ir:case Zr:return l==d+"";case gt:var J=Nc;case Gt:var ee=j&E;if(J||(J=to),l.size!=d.size&&!ee)return!1;var ve=V.get(l);if(ve)return ve==d;j|=P,V.set(l,d);var xe=Pf(J(l),J(d),j,O,L,V);return V.delete(l),xe;case Do:if(sr)return sr.call(l)==sr.call(d)}return!1}function nm(l,d,v,j,O,L){var V=v&E,J=wl(l),ee=J.length,ve=wl(d),xe=ve.length;if(ee!=xe&&!V)return!1;for(var _e=ee;_e--;){var Ee=J[_e];if(!(V?Ee in d:jt.call(d,Ee)))return!1}var Ve=L.get(l),Qe=L.get(d);if(Ve&&Qe)return Ve==d&&Qe==l;var ft=!0;L.set(l,d),L.set(d,l);for(var Ze=V;++_e<ee;){Ee=J[_e];var xt=l[Ee],bt=d[Ee];if(j)var Vr=V?j(bt,xt,Ee,d,l,L):j(xt,bt,Ee,l,d,L);if(!(Vr===t?xt===bt||O(xt,bt,v,j,L):Vr)){ft=!1;break}Ze||(Ze=Ee=="constructor")}if(ft&&!Ze){var cr=l.constructor,Gr=d.constructor;cr!=Gr&&"constructor"in l&&"constructor"in d&&!(typeof cr=="function"&&cr instanceof cr&&typeof Gr=="function"&&Gr instanceof Gr)&&(ft=!1)}return L.delete(l),L.delete(d),ft}function ps(l){return ar(hu(l,t,gu),l+"")}function wl(l){return Vc(l,In,$r)}function _l(l){return Vc(l,Er,rm)}var cu=Dc?function(l){return Dc.get(l)}:mx;function da(l){for(var d=l.name+"",v=Yi[d],j=jt.call(Yi,d)?v.length:0;j--;){var O=v[j],L=O.func;if(L==null||L==l)return O.name}return d}function Is(l){var d=jt.call(D,"placeholder")?D:l;return d.placeholder}function Ye(){var l=D.iteratee||hx;return l=l===hx?ra:l,arguments.length?l(arguments[0],arguments[1]):l}function bl(l,d){var v=l.__data__;return fa(d)?v[typeof d=="string"?"string":"hash"]:v.map}function Sl(l){for(var d=In(l),v=d.length;v--;){var j=d[v],O=l[j];d[v]=[j,O,kl(O)]}return d}function ho(l,d){var v=Ui(l,d);return lf(v)?v:t}function uu(l){var d=jt.call(l,Ko),v=l[Ko];try{l[Ko]=t;var j=!0}catch{}var O=Za.call(l);return j&&(d?l[Ko]=v:delete l[Ko]),O}var $r=Ic?function(l){return l==null?[]:(l=Rt(l),Zs(Ic(l),function(d){return Tc.call(l,d)}))}:gx,rm=Ic?function(l){for(var d=[];l;)eo(d,$r(l)),l=Mr(l);return d}:gx,wn=xn;(sl&&wn(new sl(new ArrayBuffer(1)))!=ws||Jo&&wn(new Jo)!=gt||ol&&wn(ol.resolve())!=en||ro&&wn(new ro)!=Gt||il&&wn(new il)!=Ii)&&(wn=function(l){var d=xn(l),v=d==Yt?l.constructor:t,j=v?po(v):"";if(j)switch(j){case tf:return ws;case so:return gt;case Dp:return en;case Ji:return Gt;case rs:return Ii}return d});function Tf(l,d,v){for(var j=-1,O=v.length;++j<O;){var L=v[j],V=L.size;switch(L.type){case"drop":l+=V;break;case"dropRight":d-=V;break;case"take":d=kn(d,l+V);break;case"takeRight":l=nn(l,d-V);break}}return{start:l,end:d}}function sm(l){var d=l.match(cc);return d?d[1].split(Pd):[]}function Of(l,d,v){d=fs(d,l);for(var j=-1,O=d.length,L=!1;++j<O;){var V=Ur(d[j]);if(!(L=l!=null&&v(l,V)))break;l=l[V]}return L||++j!=O?L:(O=l==null?0:l.length,!!O&&jm(O)&&Bt(V,O)&&(it(l)||Al(l)))}function jl(l){var d=l.length,v=new l.constructor(d);return d&&typeof l[0]=="string"&&jt.call(l,"index")&&(v.index=l.index,v.input=l.input),v}function _n(l){return typeof l.constructor=="function"&&!As(l)?Xi(Mr(l)):{}}function Bv(l,d,v){var j=l.constructor;switch(d){case Lo:return vl(l);case fe:case je:return new j(+l);case ws:return Kp(l,v);case oc:case $o:case Fo:case _d:case ic:case ac:case bd:case La:case $a:return Xp(l,v);case gt:return new j;case hn:case Zr:return new j(l);case Ir:return Yp(l);case Gt:return new j;case Do:return Jp(l)}}function Wv(l,d){var v=d.length;if(!v)return l;var j=v-1;return d[j]=(v>1?"& ":"")+d[j],d=d.join(v>2?", ":" "),l.replace(lc,`{
/* [wrapped with `+d+`] */
`)}function du(l){return it(l)||Al(l)||!!(Ip&&l&&l[Ip])}function Bt(l,d){var v=typeof l;return d=d??B,!!d&&(v=="number"||v!="symbol"&&np.test(l))&&l>-1&&l%1==0&&l<d}function Un(l,d,v){if(!Qt(v))return!1;var j=typeof d;return(j=="number"?Cr(v)&&Bt(d,v.length):j=="string"&&d in v)?Ds(v[d],l):!1}function Te(l,d){if(it(l))return!1;var v=typeof l;return v=="number"||v=="symbol"||v=="boolean"||l==null||Hr(l)?!0:Qh.test(l)||!Cd.test(l)||d!=null&&l in Rt(d)}function fa(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Nl(l){var d=da(l),v=D[d];if(typeof v!="function"||!(d in ot.prototype))return!1;if(l===v)return!0;var j=cu(v);return!!j&&l===j[0]}function om(l){return!!Ec&&Ec in l}var Hv=Hi?pi:vx;function As(l){var d=l&&l.constructor,v=typeof d=="function"&&d.prototype||ns;return l===v}function kl(l){return l===l&&!Qt(l)}function fu(l,d){return function(v){return v==null?!1:v[l]===d&&(d!==t||l in Rt(v))}}function im(l){var d=oe(l,function(j){return v.size===g&&v.clear(),j}),v=d.cache;return d}function am(l,d){var v=l[1],j=d[1],O=v|j,L=O<(k|R|F),V=j==F&&v==T||j==F&&v==$&&l[7].length<=d[8]||j==(F|$)&&d[7].length<=d[8]&&v==T;if(!(L||V))return l;j&k&&(l[2]=d[2],O|=v&k?0:N);var J=d[3];if(J){var ee=l[3];l[3]=ee?Qp(ee,J,d[4]):J,l[4]=ee?mr(l[3],x):d[4]}return J=d[5],J&&(ee=l[5],l[5]=ee?_f(ee,J,d[6]):J,l[6]=ee?mr(l[5],x):d[6]),J=d[7],J&&(l[7]=J),j&F&&(l[8]=l[8]==null?d[8]:kn(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=O,l}function lm(l){var d=[];if(l!=null)for(var v in Rt(l))d.push(v);return d}function If(l){return Za.call(l)}function hu(l,d,v){return d=nn(d===t?l.length-1:d,0),function(){for(var j=arguments,O=-1,L=nn(j.length-d,0),V=le(L);++O<L;)V[O]=j[d+O];O=-1;for(var J=le(d+1);++O<d;)J[O]=j[O];return J[d]=v(V),Ln(l,this,J)}}function pn(l,d){return d.length<2?l:Cs(l,On(d,0,-1))}function Fr(l,d){for(var v=l.length,j=kn(d.length,v),O=Fn(l);j--;){var L=d[j];l[j]=Bt(L,v)?O[L]:t}return l}function ms(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var Af=zr(Xc),ha=Zd||function(l,d){return zt.setTimeout(l,d)},ar=zr(ds);function Mf(l,d,v){var j=d+"";return ar(l,Wv(j,cm(sm(j),v)))}function zr(l){var d=0,v=0;return function(){var j=Fv(),O=pe-(j-v);if(v=j,O>0){if(++d>=ae)return arguments[0]}else d=0;return l.apply(t,arguments)}}function pu(l,d){var v=-1,j=l.length,O=j-1;for(d=d===t?j:d;++v<d;){var L=sa(v,O),V=l[L];l[L]=l[v],l[v]=V}return l.length=d,l}var Df=im(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Fa,function(v,j,O,L){d.push(O?L.replace(gv,"$1"):j||v)}),d});function Ur(l){if(typeof l=="string"||Hr(l))return l;var d=l+"";return d=="0"&&1/l==-be?"-0":d}function po(l){if(l!=null){try{return Qa.call(l)}catch{}try{return l+""}catch{}}return""}function cm(l,d){return Nn(ie,function(v){var j="_."+v[0];d&v[1]&&!bc(l,j)&&l.push(j)}),l.sort()}function um(l){if(l instanceof ot)return l.clone();var d=new Cn(l.__wrapped__,l.__chain__);return d.__actions__=Fn(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function mu(l,d,v){(v?Un(l,d,v):d===t)?d=1:d=nn(ct(d),0);var j=l==null?0:l.length;if(!j||d<1)return[];for(var O=0,L=0,V=le(Yo(j/d));O<j;)V[L++]=On(l,O,O+=d);return V}function Lf(l){for(var d=-1,v=l==null?0:l.length,j=0,O=[];++d<v;){var L=l[d];L&&(O[j++]=L)}return O}function Nr(){var l=arguments.length;if(!l)return[];for(var d=le(l-1),v=arguments[0],j=l;j--;)d[j-1]=arguments[j];return eo(it(v)?Fn(v):[v],qt(d,1))}var _t=lt(function(l,d){return un(l)?ls(l,qt(d,1,un,!0)):[]}),mn=lt(function(l,d){var v=Bn(d);return un(v)&&(v=t),un(l)?ls(l,qt(d,1,un,!0),Ye(v,2)):[]}),rn=lt(function(l,d){var v=Bn(d);return un(v)&&(v=t),un(l)?ls(l,qt(d,1,un,!0),t,v):[]});function bn(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ct(d),On(l,d<0?0:d,j)):[]}function lr(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ct(d),d=j-d,On(l,0,d<0?0:d)):[]}function pa(l,d){return l&&l.length?ml(l,Ye(d,3),!0,!0):[]}function cn(l,d){return l&&l.length?ml(l,Ye(d,3),!0):[]}function Cl(l,d,v,j){var O=l==null?0:l.length;return O?(v&&typeof v!="number"&&Un(l,d,v)&&(v=0,j=O),Hp(l,d,v,j)):[]}function mo(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var O=v==null?0:ct(v);return O<0&&(O=nn(j+O,0)),Sc(l,Ye(d,3),O)}function El(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var O=j-1;return v!==t&&(O=ct(v),O=v<0?nn(j+O,0):kn(O,j-1)),Sc(l,Ye(d,3),O,!0)}function gu(l){var d=l==null?0:l.length;return d?qt(l,1):[]}function Pl(l){var d=l==null?0:l.length;return d?qt(l,be):[]}function Xn(l,d){var v=l==null?0:l.length;return v?(d=d===t?1:ct(d),qt(l,d)):[]}function $f(l){for(var d=-1,v=l==null?0:l.length,j={};++d<v;){var O=l[d];j[O[0]]=O[1]}return j}function li(l){return l&&l.length?l[0]:t}function Ms(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var O=v==null?0:ct(v);return O<0&&(O=nn(j+O,0)),zi(l,d,O)}function vu(l){var d=l==null?0:l.length;return d?On(l,0,-1):[]}var Ff=lt(function(l){var d=At(l,aa);return d.length&&d[0]===l[0]?Gc(d):[]}),go=lt(function(l){var d=Bn(l),v=At(l,aa);return d===Bn(v)?d=t:v.pop(),v.length&&v[0]===l[0]?Gc(v,Ye(d,2)):[]}),xu=lt(function(l){var d=Bn(l),v=At(l,aa);return d=typeof d=="function"?d:t,d&&v.pop(),v.length&&v[0]===l[0]?Gc(v,t,d):[]});function vo(l,d){return l==null?"":Ac.call(l,d)}function Bn(l){var d=l==null?0:l.length;return d?l[d-1]:t}function Rl(l,d,v){var j=l==null?0:l.length;if(!j)return-1;var O=j;return v!==t&&(O=ct(v),O=O<0?nn(j+O,0):kn(O,j-1)),d===d?Mv(l,d,O):Sc(l,yp,O,!0)}function zf(l,d){return l&&l.length?Jc(l,ct(d)):t}var yu=lt(Tl);function Tl(l,d){return l&&l.length&&d&&d.length?Jt(l,d):l}function Wn(l,d,v){return l&&l.length&&d&&d.length?Jt(l,d,Ye(v,2)):l}function xo(l,d,v){return l&&l.length&&d&&d.length?Jt(l,d,t,v):l}var Br=ps(function(l,d){var v=l==null?0:l.length,j=Wc(l,d);return ln(l,At(d,function(O){return Bt(O,v)?+O:O}).sort(wf)),j});function Qn(l,d){var v=[];if(!(l&&l.length))return v;var j=-1,O=[],L=l.length;for(d=Ye(d,3);++j<L;){var V=l[j];d(V,j,l)&&(v.push(V),O.push(j))}return ln(l,O),v}function wu(l){return l==null?l:Mc.call(l)}function Uf(l,d,v){var j=l==null?0:l.length;return j?(v&&typeof v!="number"&&Un(l,d,v)?(d=0,v=j):(d=d==null?0:ct(d),v=v===t?j:ct(v)),On(l,d,v)):[]}function Bf(l,d){return oa(l,d)}function Vv(l,d,v){return Qc(l,d,Ye(v,2))}function yo(l,d){var v=l==null?0:l.length;if(v){var j=oa(l,d);if(j<v&&Ds(l[j],d))return j}return-1}function dm(l,d){return oa(l,d,!0)}function Wf(l,d,v){return Qc(l,d,Ye(v,2),!0)}function ci(l,d){var v=l==null?0:l.length;if(v){var j=oa(l,d,!0)-1;if(Ds(l[j],d))return j}return-1}function Hf(l){return l&&l.length?mf(l):[]}function ui(l,d){return l&&l.length?mf(l,Ye(d,2)):[]}function fm(l){var d=l==null?0:l.length;return d?On(l,1,d):[]}function hm(l,d,v){return l&&l.length?(d=v||d===t?1:ct(d),On(l,0,d<0?0:d)):[]}function Vf(l,d,v){var j=l==null?0:l.length;return j?(d=v||d===t?1:ct(d),d=j-d,On(l,d<0?0:d,j)):[]}function _u(l,d){return l&&l.length?ml(l,Ye(d,3),!1,!0):[]}function Gv(l,d){return l&&l.length?ml(l,Ye(d,3)):[]}var qv=lt(function(l){return Ts(qt(l,1,un,!0))}),pm=lt(function(l){var d=Bn(l);return un(d)&&(d=t),Ts(qt(l,1,un,!0),Ye(d,2))}),mm=lt(function(l){var d=Bn(l);return d=typeof d=="function"?d:t,Ts(qt(l,1,un,!0),t,d)});function di(l){return l&&l.length?Ts(l):[]}function Kv(l,d){return l&&l.length?Ts(l,Ye(d,2)):[]}function ma(l,d){return d=typeof d=="function"?d:t,l&&l.length?Ts(l,t,d):[]}function bu(l){if(!(l&&l.length))return[];var d=0;return l=Zs(l,function(v){if(un(v))return d=nn(v.length,d),!0}),Kd(d,function(v){return At(l,Gd(v))})}function Vt(l,d){if(!(l&&l.length))return[];var v=bu(l);return d==null?v:At(v,function(j){return Ln(d,t,j)})}var Yv=lt(function(l,d){return un(l)?ls(l,d):[]}),gm=lt(function(l){return eu(Zs(l,un))}),Jv=lt(function(l){var d=Bn(l);return un(d)&&(d=t),eu(Zs(l,un),Ye(d,2))}),Xv=lt(function(l){var d=Bn(l);return d=typeof d=="function"?d:t,eu(Zs(l,un),t,d)}),vm=lt(bu);function xm(l,d){return gl(l||[],d||[],ei)}function Qv(l,d){return gl(l||[],d||[],oi)}var kr=lt(function(l){var d=l.length,v=d>1?l[d-1]:t;return v=typeof v=="function"?(l.pop(),v):t,Vt(l,v)});function Su(l){var d=D(l);return d.__chain__=!0,d}function Zv(l,d){return d(l),l}function Wr(l,d){return d(l)}var ju=ps(function(l){var d=l.length,v=d?l[0]:0,j=this.__wrapped__,O=function(L){return Wc(L,l)};return d>1||this.__actions__.length||!(j instanceof ot)||!Bt(v)?this.thru(O):(j=j.slice(v,+v+(d?1:0)),j.__actions__.push({func:Wr,args:[O],thisArg:t}),new Cn(j,this.__chain__).thru(function(L){return d&&!L.length&&L.push(t),L}))});function fi(){return Su(this)}function Nu(){return new Cn(this.value(),this.__chain__)}function Gf(){this.__values__===t&&(this.__values__=tw(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function qf(){return this}function ex(l){for(var d,v=this;v instanceof ss;){var j=um(v);j.__index__=0,j.__values__=t,d?O.__wrapped__=j:d=j;var O=j;v=v.__wrapped__}return O.__wrapped__=l,d}function Kf(){var l=this.__wrapped__;if(l instanceof ot){var d=l;return this.__actions__.length&&(d=new ot(this)),d=d.reverse(),d.__actions__.push({func:Wr,args:[wu],thisArg:t}),new Cn(d,this.__chain__)}return this.thru(wu)}function tx(){return ia(this.__wrapped__,this.__actions__)}var ym=ru(function(l,d,v){jt.call(l,v)?++l[v]:as(l,v,1)});function wm(l,d,v){var j=it(l)?Ud:cl;return v&&Un(l,d,v)&&(d=t),j(l,Ye(d,3))}function ku(l,d){var v=it(l)?Zs:of;return v(l,Ye(d,3))}var Cu=ai(mo),_m=ai(El);function Yf(l,d){return qt(hi(l,d),1)}function nx(l,d){return qt(hi(l,d),be)}function bm(l,d,v){return v=v===t?1:ct(v),qt(hi(l,d),v)}function Eu(l,d){var v=it(l)?Nn:cs;return v(l,Ye(d,3))}function Ol(l,d){var v=it(l)?_c:Wp;return v(l,Ye(d,3))}var Jf=ru(function(l,d,v){jt.call(l,v)?l[v].push(d):as(l,v,[d])});function Pu(l,d,v,j){l=Cr(l)?l:Ou(l),v=v&&!j?ct(v):0;var O=l.length;return v<0&&(v=nn(O+v,0)),Nm(l)?v<=O&&l.indexOf(d,v)>-1:!!O&&zi(l,d,v)>-1}var Sm=lt(function(l,d,v){var j=-1,O=typeof d=="function",L=Cr(l)?le(l.length):[];return cs(l,function(V){L[++j]=O?Ln(d,V,v):_r(V,d,v)}),L}),rx=ru(function(l,d,v){as(l,v,d)});function hi(l,d){var v=it(l)?At:uf;return v(l,Ye(d,3))}function sx(l,d,v,j){return l==null?[]:(it(d)||(d=d==null?[]:[d]),v=j?t:v,it(v)||(v=v==null?[]:[v]),hl(l,d,v))}var Il=ru(function(l,d,v){l[v?0:1].push(d)},function(){return[[],[]]});function ox(l,d,v){var j=it(l)?Wd:_p,O=arguments.length<3;return j(l,Ye(d,4),v,O,cs)}function Ru(l,d,v){var j=it(l)?Cv:_p,O=arguments.length<3;return j(l,Ye(d,4),v,O,Wp)}function s(l,d){var v=it(l)?Zs:of;return v(l,Ne(Ye(d,3)))}function i(l){var d=it(l)?is:Tn;return d(l)}function f(l,d,v){(v?Un(l,d,v):d===t)?d=1:d=ct(d);var j=it(l)?Zo:hf;return j(l,d)}function m(l){var d=it(l)?Up:Sr;return d(l)}function _(l){if(l==null)return 0;if(Cr(l))return Nm(l)?qo(l):l.length;var d=wn(l);return d==gt||d==Gt?l.size:Rs(l).length}function S(l,d,v){var j=it(l)?Hd:pf;return v&&Un(l,d,v)&&(d=t),j(l,Ye(d,3))}var I=lt(function(l,d){if(l==null)return[];var v=d.length;return v>1&&Un(l,d[0],d[1])?d=[]:v>2&&Un(d[0],d[1],d[2])&&(d=[d[0]]),hl(l,qt(d,1),[])}),H=Dt||function(){return zt.Date.now()};function K(l,d){if(typeof d!="function")throw new gr(u);return l=ct(l),function(){if(--l<1)return d.apply(this,arguments)}}function ce(l,d,v){return d=v?t:d,d=l&&d==null?l.length:d,hs(l,F,t,t,t,t,d)}function we(l,d){var v;if(typeof d!="function")throw new gr(u);return l=ct(l),function(){return--l>0&&(v=d.apply(this,arguments)),l<=1&&(d=t),v}}var Se=lt(function(l,d,v){var j=k;if(v.length){var O=mr(v,Is(Se));j|=M}return hs(l,j,d,v,O)}),ye=lt(function(l,d,v){var j=k|R;if(v.length){var O=mr(v,Is(ye));j|=M}return hs(d,j,l,v,O)});function Re(l,d,v){d=v?t:d;var j=hs(l,T,t,t,t,t,t,d);return j.placeholder=Re.placeholder,j}function Oe(l,d,v){d=v?t:d;var j=hs(l,A,t,t,t,t,t,d);return j.placeholder=Oe.placeholder,j}function Ie(l,d,v){var j,O,L,V,J,ee,ve=0,xe=!1,_e=!1,Ee=!0;if(typeof l!="function")throw new gr(u);d=gs(d)||0,Qt(v)&&(xe=!!v.leading,_e="maxWait"in v,L=_e?nn(gs(v.maxWait)||0,d):L,Ee="trailing"in v?!!v.trailing:Ee);function Ve(dn){var Ls=j,gi=O;return j=O=t,ve=dn,V=l.apply(gi,Ls),V}function Qe(dn){return ve=dn,J=ha(xt,d),xe?Ve(dn):V}function ft(dn){var Ls=dn-ee,gi=dn-ve,pw=d-Ls;return _e?kn(pw,L-gi):pw}function Ze(dn){var Ls=dn-ee,gi=dn-ve;return ee===t||Ls>=d||Ls<0||_e&&gi>=L}function xt(){var dn=H();if(Ze(dn))return bt(dn);J=ha(xt,ft(dn))}function bt(dn){return J=t,Ee&&j?Ve(dn):(j=O=t,V)}function Vr(){J!==t&&xf(J),ve=0,j=ee=O=J=t}function cr(){return J===t?V:bt(H())}function Gr(){var dn=H(),Ls=Ze(dn);if(j=arguments,O=this,ee=dn,Ls){if(J===t)return Qe(ee);if(_e)return xf(J),J=ha(xt,d),Ve(ee)}return J===t&&(J=ha(xt,d)),V}return Gr.cancel=Vr,Gr.flush=cr,Gr}var Xt=lt(function(l,d){return sf(l,1,d)}),se=lt(function(l,d,v){return sf(l,gs(d)||0,v)});function Q(l){return hs(l,G)}function oe(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new gr(u);var v=function(){var j=arguments,O=d?d.apply(this,j):j[0],L=v.cache;if(L.has(O))return L.get(O);var V=l.apply(this,j);return v.cache=L.set(O,V)||L,V};return v.cache=new(oe.Cache||vr),v}oe.Cache=vr;function Ne(l){if(typeof l!="function")throw new gr(u);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function ze(l){return we(2,l)}var Ke=qp(function(l,d){d=d.length==1&&it(d[0])?At(d[0],nr(Ye())):At(qt(d,1),nr(Ye()));var v=d.length;return lt(function(j){for(var O=-1,L=kn(j.length,v);++O<L;)j[O]=d[O].call(this,j[O]);return Ln(l,this,j)})}),Ge=lt(function(l,d){var v=mr(d,Is(Ge));return hs(l,M,t,d,v)}),Xe=lt(function(l,d){var v=mr(d,Is(Xe));return hs(l,W,t,d,v)}),gn=ps(function(l,d){return hs(l,$,t,t,t,d)});function Nt(l,d){if(typeof l!="function")throw new gr(u);return d=d===t?d:ct(d),lt(l,d)}function wo(l,d){if(typeof l!="function")throw new gr(u);return d=d==null?0:nn(ct(d),0),lt(function(v){var j=v[d],O=Os(v,0,d);return j&&eo(O,j),Ln(l,this,O)})}function ix(l,d,v){var j=!0,O=!0;if(typeof l!="function")throw new gr(u);return Qt(v)&&(j="leading"in v?!!v.leading:j,O="trailing"in v?!!v.trailing:O),Ie(l,d,{leading:j,maxWait:d,trailing:O})}function FC(l){return ce(l,1)}function zC(l,d){return Ge(tu(d),l)}function UC(){if(!arguments.length)return[];var l=arguments[0];return it(l)?l:[l]}function BC(l){return Yn(l,C)}function WC(l,d){return d=typeof d=="function"?d:t,Yn(l,C,d)}function HC(l){return Yn(l,y|C)}function VC(l,d){return d=typeof d=="function"?d:t,Yn(l,y|C,d)}function GC(l,d){return d==null||ll(l,d,In(d))}function Ds(l,d){return l===d||l!==l&&d!==d}var qC=lu(co),KC=lu(function(l,d){return l>=d}),Al=qc(function(){return arguments}())?qc:function(l){return sn(l)&&jt.call(l,"callee")&&!Tc.call(l,"callee")},it=le.isArray,YC=Fd?nr(Fd):Vp;function Cr(l){return l!=null&&jm(l.length)&&!pi(l)}function un(l){return sn(l)&&Cr(l)}function JC(l){return l===!0||l===!1||sn(l)&&xn(l)==fe}var ga=ef||vx,XC=Vn?nr(Vn):Ps;function QC(l){return sn(l)&&l.nodeType===1&&!Xf(l)}function ZC(l){if(l==null)return!0;if(Cr(l)&&(it(l)||typeof l=="string"||typeof l.splice=="function"||ga(l)||Tu(l)||Al(l)))return!l.length;var d=wn(l);if(d==gt||d==Gt)return!l.size;if(As(l))return!Rs(l).length;for(var v in l)if(jt.call(l,v))return!1;return!0}function e2(l,d){return br(l,d)}function t2(l,d,v){v=typeof v=="function"?v:t;var j=v?v(l,d):t;return j===t?br(l,d,t,v):!!j}function ax(l){if(!sn(l))return!1;var d=xn(l);return d==Be||d==Ce||typeof l.message=="string"&&typeof l.name=="string"&&!Xf(l)}function n2(l){return typeof l=="number"&&Gi(l)}function pi(l){if(!Qt(l))return!1;var d=xn(l);return d==Ae||d==Je||d==te||d==Or}function Xy(l){return typeof l=="number"&&l==ct(l)}function jm(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=B}function Qt(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function sn(l){return l!=null&&typeof l=="object"}var Qy=Go?nr(Go):Gp;function r2(l,d){return l===d||na(l,d,Sl(d))}function s2(l,d,v){return v=typeof v=="function"?v:t,na(l,d,Sl(d),v)}function o2(l){return Zy(l)&&l!=+l}function i2(l){if(Hv(l))throw new nt(c);return lf(l)}function a2(l){return l===null}function l2(l){return l==null}function Zy(l){return typeof l=="number"||sn(l)&&xn(l)==hn}function Xf(l){if(!sn(l)||xn(l)!=Yt)return!1;var d=Mr(l);if(d===null)return!0;var v=jt.call(d,"constructor")&&d.constructor;return typeof v=="function"&&v instanceof v&&Qa.call(v)==Pc}var lx=wc?nr(wc):dl;function c2(l){return Xy(l)&&l>=-B&&l<=B}var ew=Fi?nr(Fi):us;function Nm(l){return typeof l=="string"||!it(l)&&sn(l)&&xn(l)==Zr}function Hr(l){return typeof l=="symbol"||sn(l)&&xn(l)==Do}var Tu=gp?nr(gp):fl;function u2(l){return l===t}function d2(l){return sn(l)&&wn(l)==Ii}function f2(l){return sn(l)&&xn(l)==qh}var h2=lu(uo),p2=lu(function(l,d){return l<=d});function tw(l){if(!l)return[];if(Cr(l))return Nm(l)?rr(l):Fn(l);if(js&&l[js])return Iv(l[js]());var d=wn(l),v=d==gt?Nc:d==Gt?to:Ou;return v(l)}function mi(l){if(!l)return l===0?l:0;if(l=gs(l),l===be||l===-be){var d=l<0?-1:1;return d*Y}return l===l?l:0}function ct(l){var d=mi(l),v=d%1;return d===d?v?d-v:d:0}function nw(l){return l?ks(ct(l),0,z):0}function gs(l){if(typeof l=="number")return l;if(Hr(l))return re;if(Qt(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Qt(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=bp(l);var v=vv.test(l);return v||tp.test(l)?xc(l.slice(2),v?2:8):Zh.test(l)?re:+l}function rw(l){return Lr(l,Er(l))}function m2(l){return l?ks(ct(l),-B,B):l===0?l:0}function Tt(l){return l==null?"":Jn(l)}var g2=la(function(l,d){if(As(d)||Cr(d)){Lr(d,In(d),l);return}for(var v in d)jt.call(d,v)&&ei(l,v,d[v])}),sw=la(function(l,d){Lr(d,Er(d),l)}),km=la(function(l,d,v,j){Lr(d,Er(d),l,j)}),v2=la(function(l,d,v,j){Lr(d,In(d),l,j)}),x2=ps(Wc);function y2(l,d){var v=Xi(l);return d==null?v:$t(v,d)}var w2=lt(function(l,d){l=Rt(l);var v=-1,j=d.length,O=j>2?d[2]:t;for(O&&Un(d[0],d[1],O)&&(j=1);++v<j;)for(var L=d[v],V=Er(L),J=-1,ee=V.length;++J<ee;){var ve=V[J],xe=l[ve];(xe===t||Ds(xe,ns[ve])&&!jt.call(l,ve))&&(l[ve]=L[ve])}return l}),_2=lt(function(l){return l.push(t,Cf),Ln(ow,t,l)});function b2(l,d){return xp(l,Ye(d,3),ir)}function S2(l,d){return xp(l,Ye(d,3),lo)}function j2(l,d){return l==null?l:Hc(l,Ye(d,3),Er)}function N2(l,d){return l==null?l:ul(l,Ye(d,3),Er)}function k2(l,d){return l&&ir(l,Ye(d,3))}function C2(l,d){return l&&lo(l,Ye(d,3))}function E2(l){return l==null?[]:ta(l,In(l))}function P2(l){return l==null?[]:ta(l,Er(l))}function cx(l,d,v){var j=l==null?t:Cs(l,d);return j===t?v:j}function R2(l,d){return l!=null&&Of(l,d,wr)}function ux(l,d){return l!=null&&Of(l,d,ni)}var T2=Zp(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=Za.call(d)),l[d]=v},fx(Pr)),O2=Zp(function(l,d,v){d!=null&&typeof d.toString!="function"&&(d=Za.call(d)),jt.call(l,d)?l[d].push(v):l[d]=[v]},Ye),I2=lt(_r);function In(l){return Cr(l)?os(l):Rs(l)}function Er(l){return Cr(l)?os(l,!0):cf(l)}function A2(l,d){var v={};return d=Ye(d,3),ir(l,function(j,O,L){as(v,d(j,O,L),j)}),v}function M2(l,d){var v={};return d=Ye(d,3),ir(l,function(j,O,L){as(v,O,d(j,O,L))}),v}var D2=la(function(l,d,v){ri(l,d,v)}),ow=la(function(l,d,v,j){ri(l,d,v,j)}),L2=ps(function(l,d){var v={};if(l==null)return v;var j=!1;d=At(d,function(L){return L=fs(L,l),j||(j=L.length>1),L}),Lr(l,_l(l),v),j&&(v=Yn(v,y|b|C,Ef));for(var O=d.length;O--;)Zc(v,d[O]);return v});function $2(l,d){return iw(l,Ne(Ye(d)))}var F2=ps(function(l,d){return l==null?{}:ff(l,d)});function iw(l,d){if(l==null)return{};var v=At(_l(l),function(j){return[j]});return d=Ye(d),fo(l,v,function(j,O){return d(j,O[0])})}function z2(l,d,v){d=fs(d,l);var j=-1,O=d.length;for(O||(O=1,l=t);++j<O;){var L=l==null?t:l[Ur(d[j])];L===t&&(j=O,L=v),l=pi(L)?L.call(l):L}return l}function U2(l,d,v){return l==null?l:oi(l,d,v)}function B2(l,d,v,j){return j=typeof j=="function"?j:t,l==null?l:oi(l,d,v,j)}var aw=Nf(In),lw=Nf(Er);function W2(l,d,v){var j=it(l),O=j||ga(l)||Tu(l);if(d=Ye(d,4),v==null){var L=l&&l.constructor;O?v=j?new L:[]:Qt(l)?v=pi(L)?Xi(Mr(l)):{}:v={}}return(O?Nn:ir)(l,function(V,J,ee){return d(v,V,J,ee)}),v}function H2(l,d){return l==null?!0:Zc(l,d)}function V2(l,d,v){return l==null?l:vf(l,d,tu(v))}function G2(l,d,v,j){return j=typeof j=="function"?j:t,l==null?l:vf(l,d,tu(v),j)}function Ou(l){return l==null?[]:Ja(l,In(l))}function q2(l){return l==null?[]:Ja(l,Er(l))}function K2(l,d,v){return v===t&&(v=d,d=t),v!==t&&(v=gs(v),v=v===v?v:0),d!==t&&(d=gs(d),d=d===d?d:0),ks(gs(l),d,v)}function Y2(l,d,v){return d=mi(d),v===t?(v=d,d=0):v=mi(v),l=gs(l),af(l,d,v)}function J2(l,d,v){if(v&&typeof v!="boolean"&&Un(l,d,v)&&(d=v=t),v===t&&(typeof d=="boolean"?(v=d,d=t):typeof l=="boolean"&&(v=l,l=t)),l===t&&d===t?(l=0,d=1):(l=mi(l),d===t?(d=l,l=0):d=mi(d)),l>d){var j=l;l=d,d=j}if(v||l%1||d%1){var O=rl();return kn(l+O*(d-l+Ld("1e-"+((O+"").length-1))),d)}return sa(l,d)}var X2=ii(function(l,d,v){return d=d.toLowerCase(),l+(v?cw(d):d)});function cw(l){return dx(Tt(l).toLowerCase())}function uw(l){return l=Tt(l),l&&l.replace(rp,Np).replace(fp,"")}function Q2(l,d,v){l=Tt(l),d=Jn(d);var j=l.length;v=v===t?j:ks(ct(v),0,j);var O=v;return v-=d.length,v>=0&&l.slice(v,O)==d}function Z2(l){return l=Tt(l),l&&Yh.test(l)?l.replace(Uo,kp):l}function eE(l){return l=Tt(l),l&&Ua.test(l)?l.replace(za,"\\$&"):l}var tE=ii(function(l,d,v){return l+(v?"-":"")+d.toLowerCase()}),nE=ii(function(l,d,v){return l+(v?" ":"")+d.toLowerCase()}),rE=bf("toLowerCase");function sE(l,d,v){l=Tt(l),d=ct(d);var j=d?qo(l):0;if(!d||j>=d)return l;var O=(d-j)/2;return yl(no(O),v)+l+yl(Yo(O),v)}function oE(l,d,v){l=Tt(l),d=ct(d);var j=d?qo(l):0;return d&&j<d?l+yl(d-j,v):l}function iE(l,d,v){l=Tt(l),d=ct(d);var j=d?qo(l):0;return d&&j<d?yl(d-j,v)+l:l}function aE(l,d,v){return v||d==null?d=0:d&&(d=+d),Mp(Tt(l).replace(Ed,""),d||0)}function lE(l,d,v){return(v?Un(l,d,v):d===t)?d=1:d=ct(d),si(Tt(l),d)}function cE(){var l=arguments,d=Tt(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var uE=ii(function(l,d,v){return l+(v?"_":"")+d.toLowerCase()});function dE(l,d,v){return v&&typeof v!="number"&&Un(l,d,v)&&(d=v=t),v=v===t?z:v>>>0,v?(l=Tt(l),l&&(typeof d=="string"||d!=null&&!lx(d))&&(d=Jn(d),!d&&Bi(l))?Os(rr(l),0,v):l.split(d,v)):[]}var fE=ii(function(l,d,v){return l+(v?" ":"")+dx(d)});function hE(l,d,v){return l=Tt(l),v=v==null?0:ks(ct(v),0,l.length),d=Jn(d),l.slice(v,v+d.length)==d}function pE(l,d,v){var j=D.templateSettings;v&&Un(l,d,v)&&(d=t),l=Tt(l),d=km({},d,j,kf);var O=km({},d.imports,j.imports,kf),L=In(O),V=Ja(O,L),J,ee,ve=0,xe=d.interpolate||uc,_e="__p += '",Ee=Xa((d.escape||uc).source+"|"+xe.source+"|"+(xe===kd?Bo:uc).source+"|"+(d.evaluate||uc).source+"|$","g"),Ve="//# sourceURL="+(jt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++jv+"]")+`
`;l.replace(Ee,function(Ze,xt,bt,Vr,cr,Gr){return bt||(bt=Vr),_e+=l.slice(ve,Gr).replace(xv,Cp),xt&&(J=!0,_e+=`' +
__e(`+xt+`) +
'`),cr&&(ee=!0,_e+=`';
`+cr+`;
__p += '`),bt&&(_e+=`' +
((__t = (`+bt+`)) == null ? '' : __t) +
'`),ve=Gr+Ze.length,Ze}),_e+=`';
`;var Qe=jt.call(d,"variable")&&d.variable;if(!Qe)_e=`with (obj) {
`+_e+`
}
`;else if(mv.test(Qe))throw new nt(h);_e=(ee?_e.replace(Sd,""):_e).replace(jd,"$1").replace(Nd,"$1;"),_e="function("+(Qe||"obj")+`) {
`+(Qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ft=fw(function(){return St(L,Ve+"return "+_e).apply(t,V)});if(ft.source=_e,ax(ft))throw ft;return ft}function mE(l){return Tt(l).toLowerCase()}function gE(l){return Tt(l).toUpperCase()}function vE(l,d,v){if(l=Tt(l),l&&(v||d===t))return bp(l);if(!l||!(d=Jn(d)))return l;var j=rr(l),O=rr(d),L=Sp(j,O),V=Yd(j,O)+1;return Os(j,L,V).join("")}function xE(l,d,v){if(l=Tt(l),l&&(v||d===t))return l.slice(0,Cc(l)+1);if(!l||!(d=Jn(d)))return l;var j=rr(l),O=Yd(j,rr(d))+1;return Os(j,0,O).join("")}function yE(l,d,v){if(l=Tt(l),l&&(v||d===t))return l.replace(Ed,"");if(!l||!(d=Jn(d)))return l;var j=rr(l),O=Sp(j,rr(d));return Os(j,O).join("")}function wE(l,d){var v=X,j=ne;if(Qt(d)){var O="separator"in d?d.separator:O;v="length"in d?ct(d.length):v,j="omission"in d?Jn(d.omission):j}l=Tt(l);var L=l.length;if(Bi(l)){var V=rr(l);L=V.length}if(v>=L)return l;var J=v-qo(j);if(J<1)return j;var ee=V?Os(V,0,J).join(""):l.slice(0,J);if(O===t)return ee+j;if(V&&(J+=ee.length-J),lx(O)){if(l.slice(J).search(O)){var ve,xe=ee;for(O.global||(O=Xa(O.source,Tt(Rd.exec(O))+"g")),O.lastIndex=0;ve=O.exec(xe);)var _e=ve.index;ee=ee.slice(0,_e===t?J:_e)}}else if(l.indexOf(Jn(O),J)!=J){var Ee=ee.lastIndexOf(O);Ee>-1&&(ee=ee.slice(0,Ee))}return ee+j}function _E(l){return l=Tt(l),l&&Kh.test(l)?l.replace(zo,Ep):l}var bE=ii(function(l,d,v){return l+(v?" ":"")+d.toUpperCase()}),dx=bf("toUpperCase");function dw(l,d,v){return l=Tt(l),d=v?t:d,d===t?Ov(l)?Dv(l):Pv(l):l.match(d)||[]}var fw=lt(function(l,d){try{return Ln(l,t,d)}catch(v){return ax(v)?v:new nt(v)}}),SE=ps(function(l,d){return Nn(d,function(v){v=Ur(v),as(l,v,Se(l[v],l))}),l});function jE(l){var d=l==null?0:l.length,v=Ye();return l=d?At(l,function(j){if(typeof j[1]!="function")throw new gr(u);return[v(j[0]),j[1]]}):[],lt(function(j){for(var O=-1;++O<d;){var L=l[O];if(Ln(L[0],this,j))return Ln(L[1],this,j)}})}function NE(l){return Bp(Yn(l,y))}function fx(l){return function(){return l}}function kE(l,d){return l==null||l!==l?d:l}var CE=iu(),EE=iu(!0);function Pr(l){return l}function hx(l){return ra(typeof l=="function"?l:Yn(l,y))}function PE(l){return Yc(Yn(l,y))}function RE(l,d){return Ut(l,Yn(d,y))}var TE=lt(function(l,d){return function(v){return _r(v,l,d)}}),OE=lt(function(l,d){return function(v){return _r(l,v,d)}});function px(l,d,v){var j=In(d),O=ta(d,j);v==null&&!(Qt(d)&&(O.length||!j.length))&&(v=d,d=l,l=this,O=ta(d,In(d)));var L=!(Qt(v)&&"chain"in v)||!!v.chain,V=pi(l);return Nn(O,function(J){var ee=d[J];l[J]=ee,V&&(l.prototype[J]=function(){var ve=this.__chain__;if(L||ve){var xe=l(this.__wrapped__),_e=xe.__actions__=Fn(this.__actions__);return _e.push({func:ee,args:arguments,thisArg:l}),xe.__chain__=ve,xe}return ee.apply(l,eo([this.value()],arguments))})}),l}function IE(){return zt._===this&&(zt._=Tp),this}function mx(){}function AE(l){return l=ct(l),lt(function(d){return Jc(d,l)})}var ME=au(At),DE=au(Ud),LE=au(Hd);function hw(l){return Te(l)?Gd(Ur(l)):Ht(l)}function $E(l){return function(d){return l==null?t:Cs(l,d)}}var FE=jf(),zE=jf(!0);function gx(){return[]}function vx(){return!1}function UE(){return{}}function BE(){return""}function WE(){return!0}function HE(l,d){if(l=ct(l),l<1||l>B)return[];var v=z,j=kn(l,z);d=Ye(d),l-=z;for(var O=Kd(j,d);++v<l;)d(v);return O}function VE(l){return it(l)?At(l,Ur):Hr(l)?[l]:Fn(Df(Tt(l)))}function GE(l){var d=++Vi;return Tt(l)+d}var qE=xl(function(l,d){return l+d},0),KE=yn("ceil"),YE=xl(function(l,d){return l/d},1),JE=yn("floor");function XE(l){return l&&l.length?ti(l,Pr,co):t}function QE(l,d){return l&&l.length?ti(l,Ye(d,2),co):t}function ZE(l){return wp(l,Pr)}function eP(l,d){return wp(l,Ye(d,2))}function tP(l){return l&&l.length?ti(l,Pr,uo):t}function nP(l,d){return l&&l.length?ti(l,Ye(d,2),uo):t}var rP=xl(function(l,d){return l*d},1),sP=yn("round"),oP=xl(function(l,d){return l-d},0);function iP(l){return l&&l.length?qd(l,Pr):0}function aP(l,d){return l&&l.length?qd(l,Ye(d,2)):0}return D.after=K,D.ary=ce,D.assign=g2,D.assignIn=sw,D.assignInWith=km,D.assignWith=v2,D.at=x2,D.before=we,D.bind=Se,D.bindAll=SE,D.bindKey=ye,D.castArray=UC,D.chain=Su,D.chunk=mu,D.compact=Lf,D.concat=Nr,D.cond=jE,D.conforms=NE,D.constant=fx,D.countBy=ym,D.create=y2,D.curry=Re,D.curryRight=Oe,D.debounce=Ie,D.defaults=w2,D.defaultsDeep=_2,D.defer=Xt,D.delay=se,D.difference=_t,D.differenceBy=mn,D.differenceWith=rn,D.drop=bn,D.dropRight=lr,D.dropRightWhile=pa,D.dropWhile=cn,D.fill=Cl,D.filter=ku,D.flatMap=Yf,D.flatMapDeep=nx,D.flatMapDepth=bm,D.flatten=gu,D.flattenDeep=Pl,D.flattenDepth=Xn,D.flip=Q,D.flow=CE,D.flowRight=EE,D.fromPairs=$f,D.functions=E2,D.functionsIn=P2,D.groupBy=Jf,D.initial=vu,D.intersection=Ff,D.intersectionBy=go,D.intersectionWith=xu,D.invert=T2,D.invertBy=O2,D.invokeMap=Sm,D.iteratee=hx,D.keyBy=rx,D.keys=In,D.keysIn=Er,D.map=hi,D.mapKeys=A2,D.mapValues=M2,D.matches=PE,D.matchesProperty=RE,D.memoize=oe,D.merge=D2,D.mergeWith=ow,D.method=TE,D.methodOf=OE,D.mixin=px,D.negate=Ne,D.nthArg=AE,D.omit=L2,D.omitBy=$2,D.once=ze,D.orderBy=sx,D.over=ME,D.overArgs=Ke,D.overEvery=DE,D.overSome=LE,D.partial=Ge,D.partialRight=Xe,D.partition=Il,D.pick=F2,D.pickBy=iw,D.property=hw,D.propertyOf=$E,D.pull=yu,D.pullAll=Tl,D.pullAllBy=Wn,D.pullAllWith=xo,D.pullAt=Br,D.range=FE,D.rangeRight=zE,D.rearg=gn,D.reject=s,D.remove=Qn,D.rest=Nt,D.reverse=wu,D.sampleSize=f,D.set=U2,D.setWith=B2,D.shuffle=m,D.slice=Uf,D.sortBy=I,D.sortedUniq=Hf,D.sortedUniqBy=ui,D.split=dE,D.spread=wo,D.tail=fm,D.take=hm,D.takeRight=Vf,D.takeRightWhile=_u,D.takeWhile=Gv,D.tap=Zv,D.throttle=ix,D.thru=Wr,D.toArray=tw,D.toPairs=aw,D.toPairsIn=lw,D.toPath=VE,D.toPlainObject=rw,D.transform=W2,D.unary=FC,D.union=qv,D.unionBy=pm,D.unionWith=mm,D.uniq=di,D.uniqBy=Kv,D.uniqWith=ma,D.unset=H2,D.unzip=bu,D.unzipWith=Vt,D.update=V2,D.updateWith=G2,D.values=Ou,D.valuesIn=q2,D.without=Yv,D.words=dw,D.wrap=zC,D.xor=gm,D.xorBy=Jv,D.xorWith=Xv,D.zip=vm,D.zipObject=xm,D.zipObjectDeep=Qv,D.zipWith=kr,D.entries=aw,D.entriesIn=lw,D.extend=sw,D.extendWith=km,px(D,D),D.add=qE,D.attempt=fw,D.camelCase=X2,D.capitalize=cw,D.ceil=KE,D.clamp=K2,D.clone=BC,D.cloneDeep=HC,D.cloneDeepWith=VC,D.cloneWith=WC,D.conformsTo=GC,D.deburr=uw,D.defaultTo=kE,D.divide=YE,D.endsWith=Q2,D.eq=Ds,D.escape=Z2,D.escapeRegExp=eE,D.every=wm,D.find=Cu,D.findIndex=mo,D.findKey=b2,D.findLast=_m,D.findLastIndex=El,D.findLastKey=S2,D.floor=JE,D.forEach=Eu,D.forEachRight=Ol,D.forIn=j2,D.forInRight=N2,D.forOwn=k2,D.forOwnRight=C2,D.get=cx,D.gt=qC,D.gte=KC,D.has=R2,D.hasIn=ux,D.head=li,D.identity=Pr,D.includes=Pu,D.indexOf=Ms,D.inRange=Y2,D.invoke=I2,D.isArguments=Al,D.isArray=it,D.isArrayBuffer=YC,D.isArrayLike=Cr,D.isArrayLikeObject=un,D.isBoolean=JC,D.isBuffer=ga,D.isDate=XC,D.isElement=QC,D.isEmpty=ZC,D.isEqual=e2,D.isEqualWith=t2,D.isError=ax,D.isFinite=n2,D.isFunction=pi,D.isInteger=Xy,D.isLength=jm,D.isMap=Qy,D.isMatch=r2,D.isMatchWith=s2,D.isNaN=o2,D.isNative=i2,D.isNil=l2,D.isNull=a2,D.isNumber=Zy,D.isObject=Qt,D.isObjectLike=sn,D.isPlainObject=Xf,D.isRegExp=lx,D.isSafeInteger=c2,D.isSet=ew,D.isString=Nm,D.isSymbol=Hr,D.isTypedArray=Tu,D.isUndefined=u2,D.isWeakMap=d2,D.isWeakSet=f2,D.join=vo,D.kebabCase=tE,D.last=Bn,D.lastIndexOf=Rl,D.lowerCase=nE,D.lowerFirst=rE,D.lt=h2,D.lte=p2,D.max=XE,D.maxBy=QE,D.mean=ZE,D.meanBy=eP,D.min=tP,D.minBy=nP,D.stubArray=gx,D.stubFalse=vx,D.stubObject=UE,D.stubString=BE,D.stubTrue=WE,D.multiply=rP,D.nth=zf,D.noConflict=IE,D.noop=mx,D.now=H,D.pad=sE,D.padEnd=oE,D.padStart=iE,D.parseInt=aE,D.random=J2,D.reduce=ox,D.reduceRight=Ru,D.repeat=lE,D.replace=cE,D.result=z2,D.round=sP,D.runInContext=Z,D.sample=i,D.size=_,D.snakeCase=uE,D.some=S,D.sortedIndex=Bf,D.sortedIndexBy=Vv,D.sortedIndexOf=yo,D.sortedLastIndex=dm,D.sortedLastIndexBy=Wf,D.sortedLastIndexOf=ci,D.startCase=fE,D.startsWith=hE,D.subtract=oP,D.sum=iP,D.sumBy=aP,D.template=pE,D.times=HE,D.toFinite=mi,D.toInteger=ct,D.toLength=nw,D.toLower=mE,D.toNumber=gs,D.toSafeInteger=m2,D.toString=Tt,D.toUpper=gE,D.trim=vE,D.trimEnd=xE,D.trimStart=yE,D.truncate=wE,D.unescape=_E,D.uniqueId=GE,D.upperCase=bE,D.upperFirst=dx,D.each=Eu,D.eachRight=Ol,D.first=li,px(D,function(){var l={};return ir(D,function(d,v){jt.call(D.prototype,v)||(l[v]=d)}),l}(),{chain:!1}),D.VERSION=r,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){D[l].placeholder=D}),Nn(["drop","take"],function(l,d){ot.prototype[l]=function(v){v=v===t?1:nn(ct(v),0);var j=this.__filtered__&&!d?new ot(this):this.clone();return j.__filtered__?j.__takeCount__=kn(v,j.__takeCount__):j.__views__.push({size:kn(v,z),type:l+(j.__dir__<0?"Right":"")}),j},ot.prototype[l+"Right"]=function(v){return this.reverse()[l](v).reverse()}}),Nn(["filter","map","takeWhile"],function(l,d){var v=d+1,j=v==me||v==ge;ot.prototype[l]=function(O){var L=this.clone();return L.__iteratees__.push({iteratee:Ye(O,3),type:v}),L.__filtered__=L.__filtered__||j,L}}),Nn(["head","last"],function(l,d){var v="take"+(d?"Right":"");ot.prototype[l]=function(){return this[v](1).value()[0]}}),Nn(["initial","tail"],function(l,d){var v="drop"+(d?"":"Right");ot.prototype[l]=function(){return this.__filtered__?new ot(this):this[v](1)}}),ot.prototype.compact=function(){return this.filter(Pr)},ot.prototype.find=function(l){return this.filter(l).head()},ot.prototype.findLast=function(l){return this.reverse().find(l)},ot.prototype.invokeMap=lt(function(l,d){return typeof l=="function"?new ot(this):this.map(function(v){return _r(v,l,d)})}),ot.prototype.reject=function(l){return this.filter(Ne(Ye(l)))},ot.prototype.slice=function(l,d){l=ct(l);var v=this;return v.__filtered__&&(l>0||d<0)?new ot(v):(l<0?v=v.takeRight(-l):l&&(v=v.drop(l)),d!==t&&(d=ct(d),v=d<0?v.dropRight(-d):v.take(d-l)),v)},ot.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ot.prototype.toArray=function(){return this.take(z)},ir(ot.prototype,function(l,d){var v=/^(?:filter|find|map|reject)|While$/.test(d),j=/^(?:head|last)$/.test(d),O=D[j?"take"+(d=="last"?"Right":""):d],L=j||/^find/.test(d);O&&(D.prototype[d]=function(){var V=this.__wrapped__,J=j?[1]:arguments,ee=V instanceof ot,ve=J[0],xe=ee||it(V),_e=function(xt){var bt=O.apply(D,eo([xt],J));return j&&Ee?bt[0]:bt};xe&&v&&typeof ve=="function"&&ve.length!=1&&(ee=xe=!1);var Ee=this.__chain__,Ve=!!this.__actions__.length,Qe=L&&!Ee,ft=ee&&!Ve;if(!L&&xe){V=ft?V:new ot(this);var Ze=l.apply(V,J);return Ze.__actions__.push({func:Wr,args:[_e],thisArg:t}),new Cn(Ze,Ee)}return Qe&&ft?l.apply(this,J):(Ze=this.thru(_e),Qe?j?Ze.value()[0]:Ze.value():Ze)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(l){var d=bs[l],v=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",j=/^(?:pop|shift)$/.test(l);D.prototype[l]=function(){var O=arguments;if(j&&!this.__chain__){var L=this.value();return d.apply(it(L)?L:[],O)}return this[v](function(V){return d.apply(it(V)?V:[],O)})}}),ir(ot.prototype,function(l,d){var v=D[d];if(v){var j=v.name+"";jt.call(Yi,j)||(Yi[j]=[]),Yi[j].push({name:d,func:v})}}),Yi[ua(t,R).name]=[{name:"wrapper",func:t}],ot.prototype.clone=$c,ot.prototype.reverse=nf,ot.prototype.value=Qi,D.prototype.at=ju,D.prototype.chain=fi,D.prototype.commit=Nu,D.prototype.next=Gf,D.prototype.plant=ex,D.prototype.reverse=Kf,D.prototype.toJSON=D.prototype.valueOf=D.prototype.value=tx,D.prototype.first=D.prototype.head,js&&(D.prototype[js]=qf),D},Wi=Lv();ts?((ts.exports=Wi)._=Wi,Ya._=Wi):zt._=Wi}).call(ez)}(dh,dh.exports)),dh.exports}var nz=tz();function wd({bookingToEdit:n,selectedCell:e,allBookings:t,rooms:r,services:o,onClose:c,onBookingSaved:u}){var z;const{t:h,currentLanguage:p,formatCurrency:g}=Qr("booking"),x=[{value:"Direct",label:h("sources.direct")},{value:"Booking.com",label:"Booking.com"},{value:"Airbnb",label:"Airbnb"},{value:"site",label:h("sources.website")},{value:"ai_agent",label:h("sources.aiAgent")},{value:"phone",label:h("sources.phone")},{value:"other",label:h("sources.other")},{value:"Expedia",label:"Expedia"},{value:"Open Channel",label:"Open Channel"}],y=[{value:"pending",label:h("status.pending")},{value:"confirmed",label:h("status.confirmed")},{value:"checked_in",label:h("status.checkedIn")},{value:"checked_out",label:h("status.checkedOut")},{value:"cancelled",label:h("status.cancelled")}],[b,C]=w.useState({}),[E,P]=w.useState([]),[k,R]=w.useState([]),[N,T]=w.useState(!1),[A,M]=w.useState("");w.useEffect(()=>{var q,ie,ue;console.log("🚀 Initializing modal with:",{bookingToEdit:n,selectedCell:e});const U=n?{...n,room_id:String(n.room_id),check_in:Ue(wt(n.check_in),"yyyy-MM-dd"),check_out:Ue(wt(n.check_out),"yyyy-MM-dd"),guest_name:((q=n.guests)==null?void 0:q.full_name)||"",guest_phone:((ie=n.guests)==null?void 0:ie.phone)||"",guest_email:((ue=n.guests)==null?void 0:ue.email)||"",guests_count:n.guests_count||n.guest_count||1}:{source:"direct",status:"pending",guests_count:1,amount_paid:0,notes:"",room_id:String((e==null?void 0:e.roomId)||(r.length>0?r[0].id:"")),check_in:Ue((e==null?void 0:e.checkIn)||new Date,"yyyy-MM-dd"),check_out:Ue((e==null?void 0:e.checkOut)||new Date,"yyyy-MM-dd"),guest_name:"",guest_phone:"",guest_email:""};C(U),n!=null&&n.booking_services?(console.log("📋 Loading existing services:",n.booking_services),R(n.booking_services)):R([]),P([]),M("")},[n,e,r]),w.useEffect(()=>{n&&b.booking_services&&JSON.stringify(b.booking_services)!==JSON.stringify(k)&&(console.log("🔄 Updating services from formData:",b.booking_services),R(b.booking_services))},[b.booking_services,n,k]);const{accommodationTotal:W,servicesTotal:F,totalAmount:$,nights:G}=w.useMemo(()=>{const U=r.find(Ae=>Ae.id===b.room_id),q=(U==null?void 0:U.price_per_night)||0,ie=b.check_in?new Date(b.check_in):null,ue=b.check_out?new Date(b.check_out):null,he=ie&&ue&&ue>ie?Cy(ue,ie):0,te=he*q,fe=E.reduce((Ae,Je)=>Ae+(Je.price_at_booking||0)*Je.quantity,0),je=k.reduce((Ae,Je)=>Ae+(Je.price_at_booking||0)*Je.quantity,0),Ce=fe+je,Be=te+Ce;return{accommodationTotal:te,servicesTotal:Ce,totalAmount:Be,nights:he}},[b.check_in,b.check_out,b.room_id,E,k,r]),X=w.useMemo(()=>{if(!b.check_in||!b.check_out)return r;const U=new Date(b.check_in),q=new Date(b.check_out);if(q<=U)return r;const ie=(t||[]).filter(ue=>{if(n&&ue.id===n.id||ue.status==="cancelled"||!ue.check_in||!ue.check_out)return!1;const he=new Date(ue.check_in),te=new Date(ue.check_out);return U<te&&q>he}).map(ue=>ue.room_id);return r.filter(ue=>!ie.includes(ue.id))},[b.check_in,b.check_out,t,r,n]),ne=w.useMemo(()=>nz.groupBy(o,"category"),[o]),ae=(U,q)=>{console.log(`📝 Field changed: ${U} = ${q}`),C(ie=>({...ie,[U]:q}))},pe=async U=>{U.preventDefault(),T(!0),M("");try{if(!b.guest_name.trim())throw new Error(h("errors.guestNameRequired"));if(console.log("💾 Saving booking with data:",b),n){const q={full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},ie={source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:W,services_total:k.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0),total_amount:W+k.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0)};console.log("🔄 Updating guest:",q);const{error:ue}=await K8(n.guest_id,q);if(ue)throw ue;console.log("🔄 Updating booking:",ie);const{error:he}=await qy(n.id,ie);if(he)throw he}else{const q={guest_details:{full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:W,services_total:0,total_amount:W};console.log("🆕 Creating booking:",q);const ie=await q8(q);if(ie.error)throw ie.error}console.log("✅ Booking saved successfully"),u()}catch(q){console.error("❌ Error saving booking:",q),M(q.message)}finally{T(!1)}},me=async()=>{if(window.confirm(h("messages.confirmDelete"))){T(!0),M("");try{console.log("🗑️ Deleting booking:",n.id);const{error:U}=await Y8(n.id);if(U)throw U;console.log("✅ Booking deleted successfully"),u()}catch(U){console.error("❌ Error deleting booking:",U),M(U.message)}finally{T(!1)}}},ke=U=>{if(console.log("🛒 Adding service to cart:",U),E.find(q=>q.service_id===U.id)){console.log("⚠️ Service already in cart");return}P(q=>[...q,{service_id:U.id,name:U.name,quantity:1,price_at_booking:U.price}])},ge=U=>{console.log("🗑️ Removing service from cart:",U),P(q=>q.filter(ie=>ie.service_id!==U))},be=(U,q,ie)=>{console.log(`📝 Cart service changed: ${U}.${q} = ${ie}`),P(ue=>ue.map(he=>he.service_id===U?{...he,[q]:ie}:he))},B=async()=>{if(!n||E.length===0){console.log("⚠️ No booking to edit or empty cart");return}T(!0),M("");try{console.log("💾 Adding services to booking:",{bookingId:n.id,services:E}),await J8(n.id,E),console.log("✅ Services added successfully"),P([]),u()}catch(U){console.error("❌ Error adding services:",U),M(U.message||"Ошибка при добавлении услуг")}finally{T(!1)}},Y=async U=>{T(!0),M("");try{console.log("🗑️ Removing booked service:",U);const q=await X8(U);if(q.error)throw q.error;console.log("✅ Service removed successfully"),u()}catch(q){console.error("❌ Error removing service:",q),M(q.message||"Ошибка при удалении услуги")}finally{T(!1)}},re=p==="ru"?"RUB":"USD";return a.jsx(Dy,{open:!0,onOpenChange:c,children:a.jsxs(av,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(lv,{children:[a.jsx(cv,{className:"text-xl font-semibold",children:n?`${h("editTitle")} №${(z=n.id)==null?void 0:z.substring(0,8)}`:h("title")}),a.jsx($y,{children:n?"Редактирование существующей брони":"Создание новой брони"})]}),a.jsxs(Dg,{defaultValue:"details",children:[a.jsxs(zh,{className:"grid w-full grid-cols-2",children:[a.jsx(Yr,{value:"details",children:h("tabs.details")}),a.jsx(Yr,{value:"services",disabled:!n,children:h("tabs.services")})]}),a.jsx(Jr,{value:"details",children:a.jsxs("form",{onSubmit:pe,className:"space-y-6 p-1",children:[A&&a.jsxs(Po,{variant:"destructive",children:[a.jsx(Ea,{className:"h-4 w-4"}),a.jsx(Ro,{children:A})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center",children:[a.jsx(Ws,{className:"mr-2 h-5 w-5"}),h("guest.title")]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(mt,{children:h("guest.fullName")}),a.jsx(st,{value:b.guest_name||"",onChange:U=>ae("guest_name",U.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("guest.phone")}),a.jsx(st,{value:b.guest_phone||"",onChange:U=>ae("guest_phone",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("guest.email")}),a.jsx(st,{type:"email",value:b.guest_email||"",onChange:U=>ae("guest_email",U.target.value)})]})]})]})}),a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center",children:[a.jsx(ug,{className:"mr-2 h-5 w-5"}),h("details.title")]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(mt,{children:h("details.room")}),a.jsxs(Na,{value:b.room_id||"",onValueChange:U=>ae("room_id",U),children:[a.jsx(Si,{children:a.jsx(ka,{placeholder:h("details.selectRoom")})}),a.jsxs(ji,{children:[X.map(U=>a.jsxs(Kt,{value:String(U.id),children:[U.room_number," (",U.room_type,")"]},U.id)),X.length===0&&a.jsx("div",{className:"p-2 text-sm text-slate-500",children:h("details.noAvailableRooms")})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(mt,{children:h("details.checkIn")}),a.jsx(st,{type:"date",value:b.check_in||"",onChange:U=>ae("check_in",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("details.checkOut")}),a.jsx(st,{type:"date",value:b.check_out||"",onChange:U=>ae("check_out",U.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("details.guestCount")}),a.jsx(st,{type:"number",min:"1",value:b.guests_count||1,onChange:U=>ae("guests_count",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("details.status")}),a.jsxs(Na,{value:b.status||"pending",onValueChange:U=>ae("status",U),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsx(ji,{children:y.map(U=>a.jsx(Kt,{value:U.value,children:U.label},U.value))})]})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("details.source")}),a.jsxs(Na,{value:b.source||"direct",onValueChange:U=>ae("source",U),children:[a.jsx(Si,{children:a.jsx(ka,{})}),a.jsx(ji,{children:x.map(U=>a.jsx(Kt,{value:U.value,children:U.label},U.value))})]})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("details.notes")}),a.jsx(ov,{value:b.notes||"",onChange:U=>ae("notes",U.target.value),placeholder:h("details.notesPlaceholder")})]})]})]})}),a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:h("finance.title")})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:h("finance.accommodation",{nights:G})}),a.jsx("span",{className:"font-medium",children:g(W,re)})]}),a.jsx("div",{className:"font-medium mt-2",children:h("finance.orderedServices")}),k.length>0?k.map(U=>{var q;return a.jsxs("div",{className:"flex justify-between pl-2",children:[a.jsxs("span",{children:[((q=U.services)==null?void 0:q.name)||U.name," x ",U.quantity]}),a.jsx("span",{children:g(U.price_at_booking*U.quantity,re)})]},U.id)}):null,E.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-blue-600 font-medium mt-2",children:"В корзине:"}),E.map(U=>a.jsxs("div",{className:"flex justify-between pl-2 text-blue-600",children:[a.jsxs("span",{children:[U.name," x ",U.quantity]}),a.jsx("span",{children:g(U.price_at_booking*U.quantity,re)})]},U.service_id))]}),k.length===0&&E.length===0&&a.jsx("p",{className:"text-slate-500 pl-2",children:h("finance.noServices")}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 mt-2",children:[a.jsx("span",{children:h("finance.total")}),a.jsx("span",{children:g($,re)})]})]}),a.jsxs("div",{children:[a.jsx(mt,{children:h("finance.paid")}),a.jsx(st,{type:"number",value:b.amount_paid||0,onChange:U=>ae("amount_paid",U.target.value),placeholder:"0"})]}),a.jsx("div",{className:"p-4 bg-red-50 rounded-lg text-red-800",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:h("finance.balance")}),a.jsx("span",{children:g($-(b.amount_paid||0),re)})]})})]})]})})]}),a.jsxs(Ly,{children:[n&&a.jsxs(tt,{type:"button",variant:"destructive",onClick:me,disabled:N,className:"mr-auto",children:[a.jsx(Dx,{className:"h-4 w-4 mr-2"}),h("actions.delete")]}),a.jsx(tt,{type:"button",variant:"ghost",onClick:c,children:h("actions.cancel")}),a.jsx(tt,{type:"submit",disabled:N,children:h(N?"actions.saving":"actions.save")})]})]})}),a.jsx(Jr,{value:"services",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:h("services.available")})}),a.jsx(qe,{className:"space-y-2 max-h-96 overflow-y-auto",children:a.jsx(G8,{type:"multiple",defaultValue:Object.keys(ne),children:Object.entries(ne).map(([U,q])=>a.jsxs(vC,{value:U,children:[a.jsx(xC,{children:U}),a.jsx(yC,{children:q.map(ie=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ie.name}),a.jsx("p",{className:"text-sm text-slate-500",children:g(ie.price,re)})]}),a.jsxs(tt,{size:"sm",variant:"outline",onClick:()=>ke(ie),disabled:N||E.find(ue=>ue.service_id===ie.id),children:[a.jsx(RM,{className:"h-4 w-4 mr-2"}),h("services.addToCart")]})]},ie.id))})]},U))})})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:h("services.cart")})}),a.jsxs(qe,{className:"space-y-2 max-h-96 overflow-y-auto",children:[E.length>0?E.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(st,{type:"number",min:"1",value:U.quantity,onChange:q=>be(U.service_id,"quantity",parseInt(q.target.value)||1),className:"w-16 h-8"}),a.jsx(st,{type:"number",min:"0",step:"0.01",value:U.price_at_booking,onChange:q=>be(U.service_id,"price_at_booking",parseFloat(q.target.value)||0),className:"w-24 h-8"})]})]}),a.jsx(tt,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>ge(U.service_id),children:a.jsx(Dx,{className:"h-4 w-4"})})]},U.service_id)):a.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.cartEmpty")}),E.length>0&&a.jsx(tt,{onClick:B,disabled:N,className:"w-full mt-4",children:h(N?"actions.saving":"services.addSelected")})]}),a.jsx(ut,{children:a.jsx(dt,{children:h("services.ordered")})}),a.jsx(qe,{className:"space-y-2 max-h-96 overflow-y-auto",children:k.length>0?k.map(U=>{var q;return a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{children:[((q=U.services)==null?void 0:q.name)||U.name," x ",U.quantity]}),a.jsx("p",{className:"text-sm text-slate-500",children:g(U.price_at_booking*U.quantity,re)})]}),a.jsx(tt,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>Y(U.id),disabled:N,children:a.jsx(Dx,{className:"h-4 w-4"})})]},U.id)}):a.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.noOrdered")})})]})]})})]})]})})}function rz({bookings:n,onNavigate:e}){const t=w.useMemo(()=>{const o=new Date,c=Ue(o,"yyyy-MM-dd"),u=n.filter(k=>k.status!=="cancelled"),h=u.filter(k=>Ue(wt(k.check_in),"yyyy-MM-dd")===c),p=u.filter(k=>Ue(wt(k.check_out),"yyyy-MM-dd")===c),g=u.filter(k=>{const R=wt(k.check_in),N=wt(k.check_out);return R<=o&&N>o}),x=u.filter(k=>{var R;if((R=k.guests)!=null&&R.birthday){const N=wt(k.guests.birthday);return Ue(N,"MM-dd")===Ue(o,"MM-dd")}return!1}),y=0,b=21,C=g.length,E=b-C,P=b>0?Math.round(C/b*100):0;return{checkIns:h.length,checkOuts:p.length,currentStays:g.length,birthdays:x.length,tasks:y,totalRooms:b,freeRooms:E,occupiedRooms:C,occupancyRate:P}},[n]),r=o=>{const u={checkins:"/Arrivals",checkouts:"/Departures",stays:"/Stays",birthdays:"/Birthdays",tasks:"/Tasks"}[o];u&&e&&e(u)};return a.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkins"),children:[a.jsx(rd,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-slate-600",children:"Заезды"}),a.jsx("span",{className:"font-semibold text-green-500",children:t.checkIns})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkouts"),children:[a.jsx(ja,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-slate-600",children:"Выезды"}),a.jsx("span",{className:"font-semibold text-blue-500",children:t.checkOuts})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("stays"),children:[a.jsx(cd,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"text-slate-600",children:"Проживание"}),a.jsx("span",{className:"font-semibold text-purple-500",children:t.currentStays})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("birthdays"),children:[a.jsx(S0,{className:"h-4 w-4 text-pink-500"}),a.jsx("span",{className:"text-slate-600",children:"Дни рождения"}),a.jsx("span",{className:"font-semibold text-pink-500",children:t.birthdays})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("tasks"),children:[a.jsx(j0,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-slate-600",children:"Задачи"}),a.jsx("span",{className:"font-semibold text-orange-500",children:t.tasks})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Свободно номеров"}),a.jsxs("span",{className:"font-semibold text-green-500",children:[t.freeRooms," (0)"]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Занято номеров"}),a.jsxs("span",{className:"font-semibold text-red-500",children:[t.occupiedRooms," (",t.occupiedRooms,")"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Загрузка"}),a.jsxs("span",{className:"font-semibold text-blue-500",children:[t.occupancyRate,"%"]})]}),a.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${Math.min(t.occupancyRate,100)}%`}})})]})]})]})}var sz="Separator",I1="horizontal",oz=["horizontal","vertical"],wC=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=I1,...o}=n,c=iz(r)?r:I1,h=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return a.jsx(et.div,{"data-orientation":c,...h,...o,ref:e})});wC.displayName=sz;function iz(n){return oz.includes(n)}var _C=wC;const vh=w.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>a.jsx(_C,{ref:o,decorative:t,orientation:e,className:Fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));vh.displayName=_C.displayName;function az({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(Ue(new Date,"yyyy-MM-dd")),[c,u]=w.useState(!1),[h,p]=w.useState({auto:{bookingsCount:0,checkInsCount:0,checkOutsCount:0,currentOccupancy:0,totalRevenue:0,servicesRevenue:0},manual:{income:{hotel:130600,restaurant:2200,bank_account:582e3,expenses:24e3,currency_exchange_in:0,currency_exchange_out:0},expenses:{products:28019,laundry:4400,household_expenses:0,transport:500,gas:0,bottled_water:0,utilities_security:35e3,rent_yohan_house:15e3,electricity:0,gas_state:0,internet:0,workers:24e3,repair:0,equipment_pump:0,service:0,additional:{utilities_management:0,hotel_chemistry:0,pool_chemistry:0,booking_exely:632e3,bonuses_management:0,laundry_service:0}}}});w.useEffect(()=>{g()},[r]);const g=async()=>{u(!0);try{const k=new Date(r),R=Ca(k),N=m5(k),T=await Vh(R,N);if(T.error)throw T.error;const A=T.data||[],M=A.filter(ae=>Ue(wt(ae.check_in),"yyyy-MM-dd")===r),W=A.filter(ae=>Ue(wt(ae.check_out),"yyyy-MM-dd")===r),F=A.filter(ae=>{const pe=wt(ae.check_in),me=wt(ae.check_out);return pe<=k&&me>k}),$=A.reduce((ae,pe)=>ae+(pe.total_amount||0),0),G=A.reduce((ae,pe)=>ae+(pe.services_total||0),0),ne=(await Z8(r)).data;p(ae=>({auto:{bookingsCount:A.length,checkInsCount:M.length,checkOutsCount:W.length,currentOccupancy:F.length,totalRevenue:$,servicesRevenue:G},manual:ne?{income:ne.income_data||ae.manual.income,expenses:ne.expenses_data||ae.manual.expenses}:ae.manual}))}catch(k){console.error("Error loading report data:",k)}finally{u(!1)}},x=w.useMemo(()=>{const k=Object.values(h.manual.income).reduce((N,T)=>N+(parseFloat(T)||0),0),R=Object.values(h.manual.expenses).reduce((N,T)=>typeof T=="object"?N+Object.values(T).reduce((A,M)=>A+(parseFloat(M)||0),0):N+(parseFloat(T)||0),0);return{income:k,expenses:R,profit:k-R,cashEnd:453165}},[h.manual]),y=(k,R,N)=>{p(T=>({...T,manual:{...T.manual,[k]:{...T.manual[k],[R]:parseFloat(N)||0}}}))},b=(k,R)=>{p(N=>({...N,manual:{...N.manual,expenses:{...N.manual.expenses,additional:{...N.manual.expenses.additional,[k]:parseFloat(R)||0}}}}))},C=async()=>{try{u(!0),console.log("💾 Saving daily report for date:",r);const k=await Q8(r,h);if(k.error)throw k.error;console.log("✅ Daily report saved successfully"),alert("Отчет успешно сохранен!")}catch(k){console.error("❌ Error saving report:",k),alert(`Ошибка сохранения отчета: ${k.message}`)}finally{u(!1)}},E=()=>{window.print()},P=k=>{alert(`Экспорт в ${k} будет реализован в следующем обновлении`)};return a.jsx(Dy,{open:n,onOpenChange:e,children:a.jsxs(av,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[a.jsx(lv,{children:a.jsxs(cv,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Kl,{className:"h-6 w-6 text-blue-600"}),"Ежедневный отчет"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(mt,{htmlFor:"report-date",className:"text-sm font-medium",children:"Дата отчета:"}),a.jsx(st,{id:"report-date",type:"date",value:r,onChange:k=>o(k.target.value),className:"w-48"}),c&&a.jsx("span",{className:"text-sm text-slate-500",children:"Загрузка данных..."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(vS,{className:"h-5 w-5"}),"Приход"]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"Отель"}),a.jsx(st,{type:"number",value:h.manual.income.hotel,onChange:k=>y("income","hotel",k.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"Рестик"}),a.jsx(st,{type:"number",value:h.manual.income.restaurant,onChange:k=>y("income","restaurant",k.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"С расчетного счета"}),a.jsx(st,{type:"number",value:h.manual.income.bank_account,onChange:k=>y("income","bank_account",k.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"Затраки"}),a.jsx(st,{type:"number",value:h.manual.income.expenses,onChange:k=>y("income","expenses",k.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"Обмен в рубли"}),a.jsx(st,{type:"number",value:h.manual.income.currency_exchange_in,onChange:k=>y("income","currency_exchange_in",k.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(mt,{className:"text-xs text-slate-500",children:"Обмен из рублей"}),a.jsx(st,{type:"number",value:h.manual.income.currency_exchange_out,onChange:k=>y("income","currency_exchange_out",k.target.value),className:"mt-1"})]})]}),a.jsx(vh,{}),a.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[a.jsx("span",{children:"Итого приход:"}),a.jsxs("span",{className:"text-green-600",children:[x.income.toLocaleString()," ₽"]})]})]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(AD,{className:"h-5 w-5"}),"Расход"]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[Object.entries(h.manual.expenses).map(([k,R])=>{if(k==="additional")return null;const N={products:"Продукты",laundry:"Пани",household_expenses:"Хоз расход",transport:"Проезд",gas:"Газ",bottled_water:"Вода бутылированная",utilities_security:"З/п сотрудники самана охрана",rent_yohan_house:"Аренда жилья Йохан Дом",electricity:"Электричество",gas_state:"Вода гос",internet:"Интернет",workers:"Рабочие",repair:"Ремонт",equipment_pump:"Оборудование насос машинка",service:"Сервис"};return a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(mt,{className:"text-xs text-slate-600 flex-1",children:N[k]}),a.jsx(st,{type:"number",value:R,onChange:T=>y("expenses",k,T.target.value),className:"w-24 h-8 text-xs"})]},k)}),a.jsx(vh,{}),a.jsx("div",{className:"text-xs font-medium text-slate-700 mt-4",children:"Дополнительно"}),Object.entries(h.manual.expenses.additional).map(([k,R])=>{const N={utilities_management:"З/п управл",hotel_chemistry:"Химия отель",pool_chemistry:"Химия бассейн",booking_exely:"Букинг Exely",bonuses_management:"Бонусы Управляющие",laundry_service:"Прачедная"};return a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(mt,{className:"text-xs text-slate-600 flex-1",children:N[k]}),a.jsx(st,{type:"number",value:R,onChange:T=>b(k,T.target.value),className:"w-24 h-8 text-xs"})]},k)})]}),a.jsx(vh,{}),a.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[a.jsx("span",{children:"Итого расход:"}),a.jsxs("span",{className:"text-red-600",children:[x.expenses.toLocaleString()," ₽"]})]})]})]})]}),a.jsx(We,{className:"bg-slate-50",children:a.jsx(qe,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.income.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Общий приход"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.expenses.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Общий расход"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-2xl font-bold ${x.profit>=0?"text-green-600":"text-red-600"}`,children:x.profit.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Прибыль/Убыток"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.cashEnd.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Остаток в кассе"})]})]})})}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(pS,{className:"h-5 w-5 text-blue-600"}),"Данные из системы"]})}),a.jsx(qe,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Общая выручка за день"}),a.jsxs("div",{className:"text-lg font-bold text-green-600",children:[h.auto.totalRevenue.toLocaleString()," ₽"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Выручка от услуг"}),a.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[h.auto.servicesRevenue.toLocaleString()," ₽"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Загрузка номеров"}),a.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[h.auto.currentOccupancy," номеров"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Заезды за день"}),a.jsx("div",{className:"text-lg font-bold text-green-600",children:h.auto.checkInsCount})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Выезды за день"}),a.jsx("div",{className:"text-lg font-bold text-blue-600",children:h.auto.checkOutsCount})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Всего броней"}),a.jsx("div",{className:"text-lg font-bold text-slate-600",children:h.auto.bookingsCount})]})]})})]})]}),a.jsxs(Ly,{className:"space-x-2",children:[a.jsx(tt,{variant:"outline",onClick:e,children:"Закрыть"}),a.jsxs(tt,{variant:"outline",onClick:()=>alert("История изменений пока не реализована"),children:[a.jsx(JM,{className:"h-4 w-4 mr-2"}),"История"]}),a.jsxs(tt,{variant:"outline",onClick:E,children:[a.jsx(vD,{className:"h-4 w-4 mr-2"}),"Печать"]}),a.jsxs("div",{className:"relative",children:[a.jsxs(tt,{variant:"outline",onClick:()=>{document.getElementById("export-menu").classList.toggle("hidden")},children:[a.jsx(cg,{className:"h-4 w-4 mr-2"}),"Сохранить"]}),a.jsxs("div",{id:"export-menu",className:"hidden absolute bottom-full left-0 mb-2 bg-white border rounded-lg shadow-lg z-50",children:[a.jsx("button",{onClick:()=>P("PDF"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"PDF"}),a.jsx("button",{onClick:()=>P("Word"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Word"}),a.jsx("button",{onClick:()=>P("Excel"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Excel"})]})]}),a.jsxs(tt,{onClick:C,disabled:c,children:[a.jsx(gS,{className:"h-4 w-4 mr-2"}),c?"Сохранение...":"Сохранить"]})]})]})})}const lz=[{id:"daily",name:"Ежедневный отчет",description:"Детальный отчет за день: доходы, расходы, загрузка",icon:Kl,color:"from-blue-500 to-blue-600",available:!0},{id:"weekly",name:"Недельный отчет",description:"Сводка за неделю с анализом трендов",icon:xM,color:"from-green-500 to-green-600",available:!1},{id:"monthly",name:"Месячный отчет",description:"Полная финансовая отчетность за месяц",icon:vS,color:"from-purple-500 to-purple-600",available:!1},{id:"financial",name:"Финансовый отчет",description:"Подробный анализ доходов и расходов",icon:pS,color:"from-orange-500 to-orange-600",available:!1}];function cz({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(null),[c,u]=w.useState(!1),h=g=>{g.id==="daily"?u(!0):alert(`${g.name} будет доступен в следующих обновлениях`)},p=()=>{u(!1),e()};return c?a.jsx(az,{isOpen:!0,onClose:p,bookings:t}):a.jsx(Dy,{open:n,onOpenChange:e,children:a.jsxs(av,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(lv,{children:[a.jsxs(cv,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(ug,{className:"h-6 w-6 text-blue-600"}),"Отчеты"]}),a.jsx($y,{children:"Выберите тип отчета для генерации"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:lz.map(g=>{const x=g.icon;return a.jsxs(We,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${g.available?"hover:scale-105 border-2 border-transparent hover:border-blue-200":"opacity-60 cursor-not-allowed"}`,onClick:()=>g.available&&h(g),children:[a.jsx(ut,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${g.color} text-white`,children:a.jsx(x,{className:"h-6 w-6"})}),a.jsx("div",{className:"flex-1",children:a.jsxs(dt,{className:"text-lg font-semibold text-slate-800",children:[g.name,!g.available&&a.jsx("span",{className:"ml-2 text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded",children:"Скоро"})]})})]})}),a.jsxs(qe,{children:[a.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:g.description}),g.available&&a.jsx("div",{className:"mt-4",children:a.jsx(tt,{size:"sm",className:`bg-gradient-to-r ${g.color} hover:opacity-90`,onClick:y=>{y.stopPropagation(),h(g)},children:"Создать отчет"})})]})]},g.id)})}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-lg mx-4 mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(ug,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Возможности отчетов:"}),a.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[a.jsx("li",{children:"• Автоматическая загрузка данных из системы"}),a.jsx("li",{children:"• Возможность ручного редактирования всех полей"}),a.jsx("li",{children:"• Сохранение истории изменений"}),a.jsx("li",{children:"• Экспорт в PDF, Word, Excel"}),a.jsx("li",{children:"• Печать готовых отчетов"})]})]})]})})]})})}function B0(){const[n,e]=w.useState([]),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(Vm(new Date)),[p,g]=w.useState(!0),[x,y]=w.useState(""),[b,C]=w.useState(!1),[E,P]=w.useState(null),[k,R]=w.useState(null),[N,T]=w.useState(!1),{signOut:A}=Dh(),{t:M,currentLanguage:W}=Qr("dashboard"),F=eb(),$=W==="ru"?hr:Mo,G=async()=>{try{await A()}catch(Y){console.error("Error signing out:",Y)}},X=w.useCallback(async(Y,re)=>{g(!0),y("");try{console.log("🔄 Fetching bookings for range:",{startDate:Y,endDate:re});const z=await Vh(Y,re);if(z.error)throw z.error;const U=z.data||[];console.log("📊 Loaded bookings with services:",U.map(q=>{var ie,ue;return{id:q.id.substring(0,8),guest:(ie=q.guests)==null?void 0:ie.full_name,services:((ue=q.booking_services)==null?void 0:ue.length)||0}})),e(U)}catch(z){console.error("❌ Error loading bookings:",z),y(M("errors.loadingBookings",{error:z.message}))}finally{g(!1)}},[M]);w.useEffect(()=>{const Y=Vm(u),re=Zx(u);X(Y,re)},[u,X]),w.useEffect(()=>{(async()=>{try{const[re,z]=await Promise.all([Vy(),Gy()]);if(re.error)throw re.error;if(z.error)throw z.error;const U=re.data||[],q=z.data||[];console.log("🏨 Loaded rooms:",U),console.log("🛎️ Loaded services:",q),r(U),c(q)}catch(re){console.error("Error loading static data:",re),y(M("errors.loadingData",{error:re.message}))}})()},[M]);const ne=async(Y,re,z)=>{var U;try{console.log(`🔄 Обновляем цену: комната ${Y}, дата ${re}, цена $${z}`);const q=t.find(te=>te.id===Y);if(!q)throw new Error(`Room with id ${Y} not found`);const ie=await fr.getRatePlans();if(!ie.data||ie.data.length===0){console.warn("⚠️ No rate plans found in Channex, updating local price only");return}const ue=ie.data.find(te=>{var Be,Ae;const fe=((Be=te.attributes)==null?void 0:Be.title)||te.title||"",je=q.room_number||q.name||"",Ce=q.room_type||"";return fe.includes(je)||fe.includes(Ce)||((Ae=te.attributes)==null?void 0:Ae.room_type_id)&&te.attributes.room_type_id===q.channex_room_type_id});if(!ue){console.warn(`⚠️ Rate plan not found for room ${q.room_number}, updating local price only`);return}const he=((U=ue.attributes)==null?void 0:U.id)||ue.id;await fr.setRates(he,re,re,[{occupancy:1,rate:z},{occupancy:2,rate:z}]),console.log(`✅ Цена успешно обновлена в Channex для rate plan ${he}`)}catch(q){console.error("❌ Ошибка обновления цены в Channex:",q);const ie=q.message||"Неизвестная ошибка";console.warn(`⚠️ Channex update failed: ${ie}. Price updated locally only.`)}},ae=w.useCallback(()=>{console.log("📝 Booking saved, refreshing data..."),C(!1),P(null),R(null);const Y=Vm(u),re=Zx(u);X(Y,re)},[u,X]),pe=w.useCallback((Y,re)=>{console.log("🎯 Cell clicked:",{roomId:Y,date:re}),P({roomId:Y,checkIn:re,checkOut:g1(re,1)}),R(null),C(!0)},[]),me=w.useCallback(Y=>{console.log("📋 Booking clicked:",Y),R(Y),P(null),C(!0)},[]),ke=w.useCallback((Y,re,z)=>{console.log("🎯 Selection ended:",{roomId:Y,checkIn:re,checkOut:z}),P({roomId:Y,checkIn:re,checkOut:z}),R(null),C(!0)},[]),ge=Y=>{h(re=>g1(re,Y))},be=Y=>{console.log("📊 Statistics navigation to:",Y),F(Y)},B=g5({start:Vm(u),end:Zx(u)});return p&&t.length===0?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(bi,{className:"h-8 w-32"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(bi,{className:"h-10 w-10"}),a.jsx(bi,{className:"h-10 w-32"}),a.jsx(bi,{className:"h-10 w-10"})]})]}),a.jsx(We,{className:"p-6",children:a.jsx(bi,{className:"h-[60vh] w-full"})})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:M("title")}),a.jsx("p",{className:"text-slate-600 mt-1",children:M("subtitle")})]}),a.jsx(Yj,{})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(tt,{variant:"outline",size:"icon",onClick:()=>ge(-1),title:M("navigation.previousMonth"),children:a.jsx(SM,{className:"h-4 w-4"})}),a.jsx("div",{className:"min-w-[160px] text-center",children:a.jsx("span",{className:"text-lg font-semibold text-slate-800",children:Ue(u,"LLLL yyyy",{locale:$})})}),a.jsx(tt,{variant:"outline",size:"icon",onClick:()=>ge(1),title:M("navigation.nextMonth"),children:a.jsx(fS,{className:"h-4 w-4"})})]}),a.jsxs(tt,{onClick:()=>{R(null),P(null),C(!0)},children:[a.jsx(Sh,{className:"h-4 w-4 mr-2"}),M("actions.newReservation")]}),a.jsxs(tt,{variant:"outline",onClick:()=>T(!0),children:[a.jsx(ug,{className:"h-4 w-4 mr-2"}),"Отчет"]})]}),a.jsx(rz,{bookings:n,onNavigate:be}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(tt,{variant:"outline",size:"icon",onClick:G,title:M("actions.signOut"),children:a.jsx(ja,{className:"h-4 w-4 text-slate-600"})})})]}),x&&a.jsx(Po,{variant:"destructive",children:a.jsx(Ro,{children:x})}),a.jsx(We,{className:"booking-grid overflow-hidden",children:t.length>0?a.jsx(h8,{rooms:t,bookings:n,days:B,onCellClick:pe,onBookingClick:me,onSelectionEnd:ke,onPriceChange:ne}):a.jsx("div",{className:"p-8 text-center text-slate-500",children:p?"Загрузка...":"Нет доступных комнат"})}),b&&a.jsx(wd,{bookingToEdit:k,selectedCell:E,allBookings:n,rooms:t,services:o,onClose:()=>{C(!1),P(null),R(null)},onBookingSaved:ae}),N&&a.jsx(cz,{isOpen:N,onClose:()=>T(!1),bookings:n})]})}const Ky=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:Fe("w-full caption-bottom text-sm",n),...e})}));Ky.displayName="Table";const Yy=w.forwardRef(({className:n,...e},t)=>a.jsx("thead",{ref:t,className:Fe("[&_tr]:border-b",n),...e}));Yy.displayName="TableHeader";const Jy=w.forwardRef(({className:n,...e},t)=>a.jsx("tbody",{ref:t,className:Fe("[&_tr:last-child]:border-0",n),...e}));Jy.displayName="TableBody";const uz=w.forwardRef(({className:n,...e},t)=>a.jsx("tfoot",{ref:t,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));uz.displayName="TableFooter";const Hl=w.forwardRef(({className:n,...e},t)=>a.jsx("tr",{ref:t,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Hl.displayName="TableRow";const Hn=w.forwardRef(({className:n,...e},t)=>a.jsx("th",{ref:t,className:Fe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Hn.displayName="TableHead";const jn=w.forwardRef(({className:n,...e},t)=>a.jsx("td",{ref:t,className:Fe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));jn.displayName="TableCell";const dz=w.forwardRef(({className:n,...e},t)=>a.jsx("caption",{ref:t,className:Fe("mt-4 text-sm text-muted-foreground",n),...e}));dz.displayName="TableCaption";function bC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(""),[u,h]=w.useState("all"),[p,g]=w.useState(!1),[x,y]=w.useState(null),[b,C]=w.useState([]),[E,P]=w.useState([]),{t:k,currentLanguage:R,formatCurrency:N}=Qr("bookings"),T=R==="ru"?hr:Mo,A={confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",checked_in:"bg-purple-100 text-purple-800",checked_out:"bg-blue-100 text-blue-800"};w.useEffect(()=>{W()},[]);const M=()=>{y(null),g(!0)},W=async()=>{r(!0);const[{data:ne},{data:ae},{data:pe}]=await Promise.all([hv(),Vy(),Gy()]);e((ne==null?void 0:ne.bookings)||[]),C((ae==null?void 0:ae.rooms)||[]),P((pe==null?void 0:pe.services)||[]),r(!1)},F=ne=>{y(ne),g(!0)},$=()=>{g(!1),y(null),W()},G=n.filter(ne=>{var ae,pe;return(((pe=(ae=ne.guests)==null?void 0:ae.full_name)==null?void 0:pe.toLowerCase())||"").includes(o.toLowerCase())&&(u==="all"||ne.status===u)}),X=ne=>(ne.total_amount||0)-(ne.services_total||0);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(We,{children:a.jsx(qe,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(st,{placeholder:k("search.placeholder"),value:o,onChange:ne=>c(ne.target.value),className:"pl-10"})]}),a.jsxs("select",{value:u,onChange:ne=>h(ne.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:k("filter.allStatuses")}),Object.entries(["confirmed","pending","cancelled","checked_in","checked_out"]).map(([ne,ae])=>a.jsx("option",{value:ae,children:k(`status.${ae}`)},ae))]})]})})}),a.jsxs(We,{children:[a.jsxs(ut,{className:"flex flex-row items-center justify-between",children:[a.jsxs(dt,{children:[k("title")," (",G.length,")"]}),a.jsxs(tt,{onClick:M,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx(Sh,{className:"h-4 w-4 mr-2"}),k("actions.newBooking")]})]}),a.jsx(qe,{children:a.jsxs(Ky,{children:[a.jsx(Yy,{children:a.jsxs(Hl,{children:[a.jsx(Hn,{children:k("table.guest")}),a.jsx(Hn,{children:k("table.source")}),a.jsx(Hn,{children:k("table.room")}),a.jsx(Hn,{children:k("table.dates")}),a.jsx(Hn,{children:k("table.status")}),a.jsx(Hn,{children:k("table.accommodation")}),a.jsx(Hn,{children:k("table.services")}),a.jsx(Hn,{children:k("table.paid")}),a.jsx(Hn,{children:k("table.balance")})]})}),a.jsx(Jy,{children:t?Array.from({length:5}).map((ne,ae)=>a.jsx(Hl,{children:a.jsx(jn,{colSpan:"9",children:a.jsx(bi,{className:"h-8 w-full"})})},ae)):G.length===0?a.jsx(Hl,{children:a.jsx(jn,{colSpan:"9",className:"text-center text-slate-500 py-8",children:k("table.noResults")})}):G.map(ne=>{var ke,ge;const ae=X(ne),pe=(ne.total_amount||0)-(ne.amount_paid||0),me=R==="ru"?"RUB":"USD";return a.jsxs(Hl,{onClick:()=>F(ne),className:"cursor-pointer hover:bg-slate-50",children:[a.jsx(jn,{className:"font-medium",children:((ke=ne.guests)==null?void 0:ke.full_name)||k("table.unknownGuest")}),a.jsx(jn,{children:a.jsx(Ok,{source:ne.source})}),a.jsx(jn,{children:(ge=ne.rooms)==null?void 0:ge.room_number}),a.jsxs(jn,{children:[Ue(wt(ne.check_in),"dd.MM",{locale:T})," -",Ue(wt(ne.check_out),"dd.MM.yy",{locale:T})]}),a.jsx(jn,{children:a.jsx(kt,{className:A[ne.status],children:k(`status.${ne.status}`)})}),a.jsx(jn,{children:N(ae,me)}),a.jsx(jn,{children:N(ne.services_total||0,me)}),a.jsx(jn,{className:"text-green-600",children:N(ne.amount_paid||0,me)}),a.jsx(jn,{className:`font-bold ${pe>0?"text-red-600":"text-green-600"}`,children:N(pe,me)})]},ne.id)})})]})})]}),p&&a.jsx(wd,{bookingToEdit:x,allBookings:n,rooms:b,services:E,onClose:$,onBookingSaved:$})]})}function SC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:u}=await hv(),h=((u==null?void 0:u.bookings)||[]).filter(p=>Rh(wt(p.check_in))&&p.status==="confirmed");e(h),r(!1)},c=async u=>{await qy(u,{status:"checked_in"}),o()};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды на сегодня"}),a.jsx("p",{className:"text-slate-600 mt-1",children:Ue(new Date,"dd MMMM yyyy",{locale:hr})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-blue-600",children:[a.jsx(rd,{className:"h-8 w-8"}),a.jsx("span",{children:n.length})]})]}),t?a.jsx(bi,{className:"h-96 w-full"}):n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,p,g,x;return a.jsxs(We,{children:[a.jsx(ut,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(dt,{className:"text-lg",children:(h=u.guests)==null?void 0:h.full_name}),a.jsx(kt,{className:"bg-green-100 text-green-800",children:"Подтверждено"})]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(dS,{className:"h-5 w-5"}),a.jsxs("p",{children:[(p=u.rooms)==null?void 0:p.room_number," (",(g=u.rooms)==null?void 0:g.room_type,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Ia,{className:"h-5 w-5"}),a.jsx("p",{children:((x=u.guests)==null?void 0:x.phone)||"Не указан"})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Ws,{className:"h-5 w-5"}),a.jsxs("p",{children:[u.guests_count," гостя(ей)"]})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(tt,{onClick:()=>c(u.id),className:"w-full bg-blue-600 hover:bg-blue-700",children:[a.jsx(rd,{className:"h-4 w-4 mr-2"}),"Заселить гостя"]})})]})]},u.id)})}):a.jsx(We,{children:a.jsxs(qe,{className:"p-12 text-center",children:[a.jsx(rd,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет заездов на сегодня"})]})})]})}function jC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const{data:u}=await hv();console.log("Полученные данные в CheckOuts:",u);const h=(u==null?void 0:u.bookings)||u||[],p=Array.isArray(h)?h.filter(g=>Rh(wt(g.check_out))&&g.status==="checked_in"):[];console.log("Выезды на сегодня:",p),e(p)}catch(u){console.error("Ошибка получения данных:",u),e([])}finally{r(!1)}},c=async u=>{try{await qy(u,{status:"checked_out"}),o()}catch(h){console.error("Ошибка при выселении:",h)}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("style",{children:`
        .checkout-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
          transition: all 0.3s ease;
        }
        .checkout-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
      `}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды на сегодня"}),a.jsx("p",{className:"text-slate-600 mt-1",children:Ue(new Date,"dd MMMM yyyy",{locale:hr})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-orange-600",children:[a.jsx(ja,{className:"h-8 w-8"}),a.jsx("span",{children:n.length})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(We,{className:"checkout-card",children:a.jsx(qe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Всего выездов"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.length})]}),a.jsx(ja,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(We,{className:"checkout-card",children:a.jsx(qe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Заселены"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(u=>u.status==="checked_in").length})]}),a.jsx(Ws,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(We,{className:"checkout-card",children:a.jsx(qe,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Общий доход"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.reduce((u,h)=>u+(h.total_amount||0),0).toLocaleString()," ₽"]})]}),a.jsx(hS,{className:"h-8 w-8 text-green-500"})]})})})]}),t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((u,h)=>a.jsx(We,{className:"checkout-card",children:a.jsx(qe,{className:"p-6",children:a.jsx(bi,{className:"h-64 w-full"})})},h))}):n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,p,g,x;return a.jsxs(We,{className:"checkout-card",children:[a.jsx(ut,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(dt,{className:"text-lg font-semibold text-slate-800",children:((h=u.guests)==null?void 0:h.full_name)||"Гость"}),a.jsx(kt,{className:"bg-blue-100 text-blue-800",children:"Заселен"})]})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(dS,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(p=u.rooms)==null?void 0:p.room_number}),a.jsx("p",{className:"text-sm",children:(g=u.rooms)==null?void 0:g.room_type})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Ia,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:((x=u.guests)==null?void 0:x.phone)||"Не указан"}),a.jsx("p",{className:"text-sm",children:"Контактный телефон"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Ws,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[u.guests_count," гост",u.guests_count===1?"ь":"ей"]}),a.jsx("p",{className:"text-sm",children:"Количество гостей"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(gh,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:Ue(wt(u.check_in),"dd MMM yyyy",{locale:hr})}),a.jsx("p",{className:"text-sm",children:"Дата заезда"})]})]}),u.notes&&a.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600",children:u.notes})}),a.jsxs("div",{className:"pt-4 space-y-2",children:[a.jsxs(tt,{onClick:()=>c(u.id),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white",children:[a.jsx(ja,{className:"h-4 w-4 mr-2"}),"Выселить гостя"]}),a.jsx(tt,{variant:"outline",className:"w-full",children:"Связаться с гостем"})]}),u.total_amount&&a.jsxs("div",{className:"text-center pt-2 border-t",children:[a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[u.total_amount.toLocaleString()," ₽"]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Оплачено"})]})]})]},u.id)})}):a.jsx(We,{className:"checkout-card",children:a.jsxs(qe,{className:"p-12 text-center",children:[a.jsx(ja,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет выездов на сегодня"}),a.jsx("p",{className:"text-slate-500",children:"Все спокойно! Выездов на сегодня не запланировано."})]})})]})}function NC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(!1),[u,h]=w.useState(null),[p,g]=w.useState([]),[x,y]=w.useState([]);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0);const{data:R}=await hv();if(R!=null&&R.bookings){const A=R.bookings.filter(M=>(M.total_amount||0)>(M.amount_paid||0));e(A)}const[{data:N},{data:T}]=await Promise.all([Vy(),Gy()]);g((N==null?void 0:N.rooms)||[]),y((T==null?void 0:T.services)||[]),r(!1)},C=R=>{h(R),c(!0)},E=()=>{c(!1),h(null),b()},P=n.reduce((R,N)=>R+((N.total_amount||0)-(N.amount_paid||0)),0),k=R=>!R.booking_services||R.booking_services.length===0?"Нет":R.booking_services.map(N=>{var T;return(T=N.services)==null?void 0:T.name}).join(", ");return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:"Общая задолженность"})}),a.jsx(qe,{children:a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[P.toLocaleString()," ₽"]})})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:"Количество должников"})}),a.jsx(qe,{children:a.jsx("p",{className:"text-3xl font-bold",children:n.length})})]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center",children:[a.jsx(WM,{className:"mr-2 text-red-500"}),"Список задолженностей"]})}),a.jsx(qe,{children:t?a.jsx(bi,{className:"h-64 w-full"}):a.jsxs(Ky,{children:[a.jsx(Yy,{children:a.jsxs(Hl,{children:[a.jsx(Hn,{children:"Гость"}),a.jsx(Hn,{children:"Номер"}),a.jsx(Hn,{children:"Заезд/Выезд"}),a.jsx(Hn,{children:"Услуги"}),a.jsx(Hn,{children:"Общая сумма"}),a.jsx(Hn,{children:"Частичная оплата"}),a.jsx(Hn,{children:"Долг"})]})}),a.jsx(Jy,{children:n.map(R=>{var N,T;return a.jsxs(Hl,{className:"cursor-pointer hover:bg-slate-50",children:[a.jsx(jn,{className:"font-medium text-blue-600 hover:underline cursor-pointer",onClick:()=>C(R),children:(N=R.guests)==null?void 0:N.full_name}),a.jsx(jn,{children:(T=R.rooms)==null?void 0:T.room_number}),a.jsxs(jn,{children:[Ue(wt(R.check_in),"dd.MM")," - ",Ue(wt(R.check_out),"dd.MM.yy")]}),a.jsx(jn,{className:"max-w-xs truncate",title:k(R),children:k(R)}),a.jsxs(jn,{children:[(R.total_amount||0).toLocaleString()," ₽"]}),a.jsxs(jn,{className:"text-green-600",children:[(R.amount_paid||0).toLocaleString()," ₽"]}),a.jsxs(jn,{className:"font-bold text-red-600",children:[((R.total_amount||0)-(R.amount_paid||0)).toLocaleString()," ₽"]})]},R.id)})})]})})]}),o&&a.jsx(wd,{bookingToEdit:u,rooms:p,services:x,onClose:E,onBookingSaved:E})]})}function kC({selectedConversation:n,onConversationSelect:e}){return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("style",{children:`
        .chat-container {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
      `}),a.jsxs("div",{className:"p-6 pb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Чат с гостями"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Общайтесь с гостями в режиме реального времени"})]}),a.jsx("div",{className:"flex-1 mx-6 mb-6",children:a.jsx("div",{className:"chat-container rounded-2xl h-full overflow-hidden",children:a.jsx(M0,{selectedConversation:n,onConversationSelect:e})})})]})}const fz=async()=>{try{const{data:n,error:e}=await Le.from("webhook_settings").select("*");if(e)throw e;return{data:n,error:null}}catch(n){return console.error("Ошибка получения настроек вебхуков:",n),{data:null,error:{message:n.message}}}},hz=async n=>{try{const{data:e,error:t}=await Le.from("webhook_settings").upsert(n).select();if(t)throw t;return{data:e?e[0]:null,error:null}}catch(e){return console.error("Ошибка сохранения настроек вебхуков:",e),{data:null,error:{message:e.message}}}};function CC(){const[n,e]=w.useState(""),[t,r]=w.useState(!1),[o,c]=w.useState(""),[u,h]=w.useState("");w.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:x,error:y}=await fz();if(y){console.error("Ошибка загрузки настроек:",y);return}x!=null&&x.webhook_url&&e(x.webhook_url)}catch(x){console.error("Ошибка при загрузке настроек:",x)}},g=async()=>{if(!n.trim()){c("Введите URL вебхука"),h("error");return}try{new URL(n)}catch{c("Введите корректный URL"),h("error");return}r(!0),c("");try{const{data:x,error:y}=await hz({webhook_url:n.trim()});if(y)throw new Error(y.message);c("Настройки вебхука успешно сохранены"),h("success")}catch(x){console.error("Ошибка при сохранении:",x),c(`Ошибка: ${x.message}`),h("error")}finally{r(!1)}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("style",{children:`
        .integration-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        .webhook-section {
          background: linear-gradient(135deg, rgba(59,130,246,0.05) 0%, rgba(147,197,253,0.05) 100%);
          border: 1px solid rgba(59,130,246,0.1);
        }
      `}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[a.jsx(T_,{className:"mr-3 h-8 w-8"}),"Интеграции"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление внешними интеграциями и вебхуками"})]}),a.jsx(kt,{variant:"outline",className:"text-blue-600 border-blue-200",children:"Настройки системы"})]}),a.jsxs(We,{className:"integration-card",children:[a.jsxs(ut,{children:[a.jsxs(dt,{className:"flex items-center text-xl",children:[a.jsx(yS,{className:"mr-3 h-6 w-6 text-blue-500"}),"Вебхуки"]}),a.jsx("p",{className:"text-slate-600",children:"Настройка автоматических уведомлений о событиях в системе"})]}),a.jsxs(qe,{className:"space-y-6",children:[a.jsxs("div",{className:"webhook-section p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"New Message Webhook"}),a.jsx(kt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Сообщения в чате"})]}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Получайте уведомления каждый раз, когда в систему приходит новое сообщение от гостя или сотрудника."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(mt,{htmlFor:"webhook-url",className:"text-sm font-medium text-slate-700",children:"Webhook URL"}),a.jsx(st,{id:"webhook-url",type:"url",placeholder:"https://example.com/webhook/messages",value:n,onChange:x=>e(x.target.value),className:"mt-1",disabled:t}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL, на который будут отправляться POST запросы с данными новых сообщений"})]}),a.jsx(tt,{onClick:g,disabled:t||!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Сохранение..."]}):a.jsxs(a.Fragment,{children:[a.jsx(gS,{className:"mr-2 h-4 w-4"}),"Сохранить"]})})]}),o&&a.jsxs(Po,{variant:u==="success"?"default":"destructive",className:"mt-4",children:[u==="success"?a.jsx(Pi,{className:"h-4 w-4"}):a.jsx(Ea,{className:"h-4 w-4"}),a.jsx(Ro,{children:o})]})]}),a.jsx(vh,{}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Формат данных вебхука"}),a.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"При создании нового сообщения на указанный URL будет отправлен POST запрос с JSON данными:"}),a.jsx("pre",{className:"bg-slate-800 text-green-400 p-3 rounded text-xs overflow-x-auto",children:`{
  "id": "uuid",
  "conversation_id": "uuid", 
  "sender_type": "guest|staff",
  "sender_id": "uuid",
  "content": "Текст сообщения",
  "created_at": "2024-01-01T12:00:00Z",
  "sender_name": "Имя отправителя"
}`})]})]})]}),a.jsxs(We,{className:"integration-card opacity-60",children:[a.jsxs(ut,{children:[a.jsxs(dt,{className:"flex items-center text-xl text-slate-500",children:[a.jsx(T_,{className:"mr-3 h-6 w-6"}),"Другие интеграции"]}),a.jsx("p",{className:"text-slate-500",children:"Дополнительные интеграции будут добавлены в будущих версиях"})]}),a.jsx(qe,{children:a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-slate-400",children:"Скоро появятся новые возможности"})})})]})]})}const pz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function EC(){const{t:n,currentLanguage:e,formatCurrency:t}=Qr("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(Ue(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,k]=w.useState(!1),R=e==="ru"?hr:Mo,N=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())u(r);else{const $=r.filter(G=>{var me,ke,ge,be,B,Y;const X=((ke=(me=G.guests)==null?void 0:me.full_name)==null?void 0:ke.toLowerCase())||"",ne=((be=(ge=G.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((Y=(B=G.guests)==null?void 0:B.phone)==null?void 0:Y.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||ne.includes(pe)||ae.includes(pe)});u($)}},[g,r]);const T=async()=>{p(!0);try{const $=new Date(y),G=new Date(y);G.setDate(G.getDate()+1);const X=await Vh($,G);if(X.error)throw X.error;const ne=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:Ue(wt(ae.check_in),"yyyy-MM-dd")===y);console.log("📅 Arrivals for",y,":",ne),o(ne)}catch($){console.error("Error loading arrivals:",$)}finally{p(!1)}},A=async $=>{var G;console.log("✅ Check-in:",(G=$.guests)==null?void 0:G.full_name)},M=$=>{E($),k(!0)},W=()=>{k(!1),E(null),T()},F=$=>{var G,X,ne,ae,pe;return a.jsx(We,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>M($),children:a.jsxs(qe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(rd,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:((G=$.guests)==null?void 0:G.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Заезд: ",Ue(wt($.check_in),"HH:mm")]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:pz[$.status]||"bg-slate-100 text-slate-800",children:n(`status.${$.status}`)}),$.status==="confirmed"&&a.jsxs(tt,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:me=>{me.stopPropagation(),A($)},children:[a.jsx(lg,{className:"h-4 w-4 mr-1"}),"Отметить заезд"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($g,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((X=$.rooms)==null?void 0:X.room_number)||"N/A"," (",((ne=$.rooms)==null?void 0:ne.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ws,{className:"h-3 w-3"}),a.jsxs("span",{children:[$.guests_count||1," ",($.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((ae=$.guests)==null?void 0:ae.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ia,{className:"h-3 w-3"}),a.jsx("span",{children:$.guests.phone})]}),((pe=$.guests)==null?void 0:pe.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Lg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:$.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(wt($.check_in),"dd MMM",{locale:R})," -",Ue(wt($.check_out),"dd MMM",{locale:R})]})]}),$.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),a.jsx("span",{className:"font-semibold text-slate-800",children:t($.total_amount,N)})]})]}),$.notes&&a.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[a.jsx("strong",{children:"Комментарий:"})," ",$.notes]})]})},$.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление заездами гостей"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(kt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(st,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:$=>x($.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(st,{type:"date",value:y,onChange:$=>b($.target.value)})})]})})]}),h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка заездов..."})]}):c.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):a.jsx(We,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(rd,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет заездов"}),a.jsxs("p",{children:["На ",Ue(new Date(y),"dd MMMM yyyy",{locale:R})," заездов нет"]})]})}),P&&a.jsx(wd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{k(!1),E(null)},onBookingSaved:W})]})}const mz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function PC(){const{t:n,currentLanguage:e,formatCurrency:t}=Qr("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(Ue(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,k]=w.useState(!1),R=e==="ru"?hr:Mo,N=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())u(r);else{const $=r.filter(G=>{var me,ke,ge,be,B,Y;const X=((ke=(me=G.guests)==null?void 0:me.full_name)==null?void 0:ke.toLowerCase())||"",ne=((be=(ge=G.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((Y=(B=G.guests)==null?void 0:B.phone)==null?void 0:Y.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||ne.includes(pe)||ae.includes(pe)});u($)}},[g,r]);const T=async()=>{p(!0);try{const $=new Date(y),G=new Date(y);G.setDate(G.getDate()+1);const X=await Vh($,G);if(X.error)throw X.error;const ne=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:Ue(wt(ae.check_out),"yyyy-MM-dd")===y);console.log("📅 Departures for",y,":",ne),o(ne)}catch($){console.error("Error loading departures:",$)}finally{p(!1)}},A=async $=>{var G;console.log("✅ Check-out:",(G=$.guests)==null?void 0:G.full_name)},M=$=>{E($),k(!0)},W=()=>{k(!1),E(null),T()},F=$=>{var G,X,ne,ae,pe;return a.jsx(We,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>M($),children:a.jsxs(qe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(ja,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:((G=$.guests)==null?void 0:G.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Выезд: ",Ue(wt($.check_out),"HH:mm")]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(kt,{className:mz[$.status]||"bg-slate-100 text-slate-800",children:n(`status.${$.status}`)}),$.status==="checked_in"&&a.jsxs(tt,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:me=>{me.stopPropagation(),A($)},children:[a.jsx(lg,{className:"h-4 w-4 mr-1"}),"Отметить выезд"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($g,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((X=$.rooms)==null?void 0:X.room_number)||"N/A"," (",((ne=$.rooms)==null?void 0:ne.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ws,{className:"h-3 w-3"}),a.jsxs("span",{children:[$.guests_count||1," ",($.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((ae=$.guests)==null?void 0:ae.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ia,{className:"h-3 w-3"}),a.jsx("span",{children:$.guests.phone})]}),((pe=$.guests)==null?void 0:pe.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Lg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:$.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(wt($.check_in),"dd MMM",{locale:R})," -",Ue(wt($.check_out),"dd MMM",{locale:R})]})]}),$.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),a.jsx("span",{className:"font-semibold text-slate-800",children:t($.total_amount,N)})]}),$.amount_paid<$.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1 text-red-600",children:[a.jsx("span",{className:"text-sm",children:"К доплате:"}),a.jsx("span",{className:"font-semibold",children:t($.total_amount-$.amount_paid,N)})]})]}),$.notes&&a.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[a.jsx("strong",{children:"Комментарий:"})," ",$.notes]})]})},$.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление выездами гостей"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(kt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(st,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:$=>x($.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(st,{type:"date",value:y,onChange:$=>b($.target.value)})})]})})]}),h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка выездов..."})]}):c.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):a.jsx(We,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(ja,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет выездов"}),a.jsxs("p",{children:["На ",Ue(new Date(y),"dd MMMM yyyy",{locale:R})," выездов нет"]})]})}),P&&a.jsx(wd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{k(!1),E(null)},onBookingSaved:W})]})}const gz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function RC(){const{t:n,currentLanguage:e}=Qr("booking"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(!0),[p,g]=w.useState(""),[x,y]=w.useState(Ue(new Date,"yyyy-MM-dd")),[b,C]=w.useState(null),[E,P]=w.useState(!1),k=e==="ru"?hr:Mo;w.useEffect(()=>{R()},[x]),w.useEffect(()=>{if(!p.trim())c(t);else{const M=t.filter(W=>{var ne,ae,pe,me,ke,ge;const F=((ae=(ne=W.guests)==null?void 0:ne.full_name)==null?void 0:ae.toLowerCase())||"",$=((me=(pe=W.rooms)==null?void 0:pe.room_number)==null?void 0:me.toLowerCase())||"",G=((ge=(ke=W.guests)==null?void 0:ke.phone)==null?void 0:ge.toLowerCase())||"",X=p.toLowerCase();return F.includes(X)||$.includes(X)||G.includes(X)});c(M)}},[p,t]);const R=async()=>{h(!0);try{const M=new Date(x),W=new Date(x);W.setDate(W.getDate()+1);const F=await Vh(M,W);if(F.error)throw F.error;const $=(F.data||[]).filter(G=>{if(G.status==="cancelled")return!1;const X=new Date(G.check_in),ne=new Date(G.check_out),ae=new Date(x);return X<=ae&&ne>ae});console.log("🏠 Stays for",x,":",$),r($)}catch(M){console.error("Error loading stays:",M)}finally{h(!1)}},N=M=>{C(M),P(!0)},T=()=>{P(!1),C(null),R()},A=M=>{var $,G,X,ne,ae;const W=Math.ceil((new Date(M.check_out)-new Date(M.check_in))/864e5),F=Math.ceil((new Date(x)-new Date(M.check_in))/(1e3*60*60*24));return a.jsx(We,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>N(M),children:a.jsxs(qe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(cd,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:(($=M.guests)==null?void 0:$.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["День ",F," из ",W]})]})]}),a.jsx(kt,{className:gz[M.status]||"bg-slate-100 text-slate-800",children:n(`status.${M.status}`)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($g,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((G=M.rooms)==null?void 0:G.room_number)||"N/A"," (",((X=M.rooms)==null?void 0:X.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ws,{className:"h-3 w-3"}),a.jsxs("span",{children:[M.guests_count||1," ",(M.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((ne=M.guests)==null?void 0:ne.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ia,{className:"h-3 w-3"}),a.jsx("span",{children:M.guests.phone})]}),((ae=M.guests)==null?void 0:ae.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Lg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:M.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(wt(M.check_in),"dd MMM",{locale:k})," -",Ue(wt(M.check_out),"dd MMM",{locale:k})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Выезд через:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Math.ceil((new Date(M.check_out)-new Date(x))/(1e3*60*60*24))," дн."]})]})]}),M.booking_services&&M.booking_services.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Заказанные услуги:"}),a.jsxs("div",{className:"space-y-1",children:[M.booking_services.slice(0,3).map((pe,me)=>{var ke;return a.jsxs("div",{className:"text-xs text-slate-500",children:["• ",(ke=pe.services)==null?void 0:ke.name," x",pe.quantity]},me)}),M.booking_services.length>3&&a.jsxs("div",{className:"text-xs text-slate-400",children:["+",M.booking_services.length-3," еще"]})]})]})]})},M.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Проживания"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Гости, проживающие в отеле"})]}),a.jsxs(kt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",o.length]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(qe,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(st,{placeholder:"Поиск по имени, номеру или телефону...",value:p,onChange:M=>g(M.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(st,{type:"date",value:x,onChange:M=>y(M.target.value)})})]})})]}),u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка проживаний..."})]}):o.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(A)}):a.jsx(We,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(cd,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет проживаний"}),a.jsxs("p",{children:["На ",Ue(new Date(x),"dd MMMM yyyy",{locale:k})," никто не проживает"]})]})}),E&&a.jsx(wd,{bookingToEdit:b,rooms:[],services:[],allBookings:t,onClose:()=>{P(!1),C(null)},onBookingSaved:T})]})}function TC(){const{currentLanguage:n}=Qr("booking"),[e,t]=w.useState([]),[r,o]=w.useState(!1),[c,u]=w.useState(Ue(new Date,"yyyy-MM-dd")),h=n==="ru"?hr:Mo;w.useEffect(()=>{t([])},[c]);const p=g=>a.jsx(We,{className:"cursor-pointer hover:shadow-md transition-shadow",children:a.jsxs(qe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(S0,{className:"h-5 w-5 text-pink-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:g.guest_name}),a.jsx("p",{className:"text-sm text-slate-500",children:"День рождения сегодня"})]})]}),a.jsxs(kt,{className:"bg-pink-100 text-pink-800",children:["🎂 ",g.age," лет"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($g,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",g.room_number]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Kl,{className:"h-3 w-3"}),a.jsxs("span",{children:["Проживает до ",g.check_out]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ia,{className:"h-3 w-3"}),a.jsx("span",{children:g.phone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Lg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:g.email})]})]})]}),a.jsx("div",{className:"mt-3 p-3 bg-pink-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-pink-700",children:"💡 Не забудьте поздравить с днем рождения и предложить комплимент от отеля!"})})]})},g.id);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Дни рождения"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Именинники среди гостей"})]}),a.jsxs(kt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",e.length]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(qe,{children:a.jsx("div",{className:"w-48",children:a.jsx(st,{type:"date",value:c,onChange:g=>u(g.target.value)})})})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка дней рождения..."})]}):e.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(p)}):a.jsx(We,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(S0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет именинников"}),a.jsxs("p",{children:["На ",Ue(new Date(c),"dd MMMM yyyy",{locale:h})," дней рождения нет"]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-700",children:"💡 Функция отслеживания дней рождения будет активирована после добавления даты рождения в профили гостей"})})]})})]})}const vz={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},xz={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"};function OC(){const{currentLanguage:n}=Qr("booking"),[e,t]=w.useState([]),[r,o]=w.useState([]),[c,u]=w.useState(!1),[h,p]=w.useState(""),[g,x]=w.useState(!1),[y,b]=w.useState({title:"",description:"",priority:"medium",assignedTo:"",dueDate:Ue(new Date,"yyyy-MM-dd")}),C=n==="ru"?hr:Mo;w.useEffect(()=>{const R=[{id:"1",title:"Подготовить номер 101 к заезду",description:"Провести генеральную уборку номера после ремонта",priority:"high",status:"pending",assignedTo:"Мария Иванова",dueDate:Ue(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()},{id:"2",title:"Проверить кондиционер в номере 205",description:"Гость жалуется на шум",priority:"medium",status:"in_progress",assignedTo:"Алексей Петров",dueDate:Ue(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()}];t(R)},[]),w.useEffect(()=>{if(!h.trim())o(e);else{const R=e.filter(N=>{var F,$,G;const T=((F=N.title)==null?void 0:F.toLowerCase())||"",A=(($=N.description)==null?void 0:$.toLowerCase())||"",M=((G=N.assignedTo)==null?void 0:G.toLowerCase())||"",W=h.toLowerCase();return T.includes(W)||A.includes(W)||M.includes(W)});o(R)}},[h,e]);const E=async()=>{if(!y.title.trim())return;const R={id:Date.now().toString(),...y,status:"pending",createdAt:new Date().toISOString()};t(N=>[...N,R]),b({title:"",description:"",priority:"medium",assignedTo:"",dueDate:Ue(new Date,"yyyy-MM-dd")}),x(!1)},P=(R,N)=>{t(T=>T.map(A=>A.id===R?{...A,status:N}:A))},k=R=>{const N=new Date(R.dueDate)<new Date&&R.status!=="completed";return a.jsx(We,{className:`cursor-pointer hover:shadow-md transition-shadow ${N?"border-red-200":""}`,children:a.jsxs(qe,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:R.title}),R.description&&a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:R.description})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-3",children:[a.jsx(kt,{className:vz[R.priority],children:R.priority==="high"?"Высокий":R.priority==="medium"?"Средний":"Низкий"}),a.jsx(kt,{className:xz[R.status],children:R.status==="pending"?"Ожидает":R.status==="in_progress"?"В работе":"Завершено"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[R.assignedTo&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Ws,{className:"h-3 w-3"}),a.jsxs("span",{children:["Ответственный: ",R.assignedTo]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(gh,{className:"h-3 w-3"}),a.jsxs("span",{children:["Срок: ",Ue(new Date(R.dueDate),"dd MMMM yyyy",{locale:C})]}),N&&a.jsx(kt,{variant:"destructive",className:"ml-2",children:"Просрочено"})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex gap-2",children:[R.status==="pending"&&a.jsx(tt,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),P(R.id,"in_progress")},children:"Начать работу"}),R.status==="in_progress"&&a.jsxs(tt,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:T=>{T.stopPropagation(),P(R.id,"completed")},children:[a.jsx(j0,{className:"h-4 w-4 mr-1"}),"Завершить"]})]})]})},R.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Задачи"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление рабочими задачами"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(kt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",r.length]}),a.jsxs(tt,{onClick:()=>x(!g),children:[a.jsx(Sh,{className:"h-4 w-4 mr-2"}),"Новая задача"]})]})]}),g&&a.jsxs(We,{children:[a.jsx(ut,{children:a.jsx(dt,{children:"Создать новую задачу"})}),a.jsxs(qe,{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(st,{placeholder:"Название задачи",value:y.title,onChange:R=>b(N=>({...N,title:R.target.value}))})}),a.jsx("div",{children:a.jsx(ov,{placeholder:"Описание задачи",value:y.description,onChange:R=>b(N=>({...N,description:R.target.value})),rows:3})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{children:a.jsxs(Na,{value:y.priority,onValueChange:R=>b(N=>({...N,priority:R})),children:[a.jsx(Si,{children:a.jsx(ka,{placeholder:"Приоритет"})}),a.jsxs(ji,{children:[a.jsx(Kt,{value:"low",children:"Низкий"}),a.jsx(Kt,{value:"medium",children:"Средний"}),a.jsx(Kt,{value:"high",children:"Высокий"})]})]})}),a.jsx("div",{children:a.jsx(st,{placeholder:"Ответственный",value:y.assignedTo,onChange:R=>b(N=>({...N,assignedTo:R.target.value}))})}),a.jsx("div",{children:a.jsx(st,{type:"date",value:y.dueDate,onChange:R=>b(N=>({...N,dueDate:R.target.value}))})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(tt,{onClick:E,children:"Создать задачу"}),a.jsx(tt,{variant:"outline",onClick:()=>x(!1),children:"Отмена"})]})]})]}),a.jsxs(We,{children:[a.jsx(ut,{children:a.jsxs(dt,{className:"flex items-center gap-2",children:[a.jsx(Uh,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(qe,{children:a.jsxs("div",{className:"relative",children:[a.jsx(Yl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(st,{placeholder:"Поиск по названию, описанию или ответственному...",value:h,onChange:R=>p(R.target.value),className:"pl-10"})]})})]}),c?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка задач..."})]}):r.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(k)}):a.jsx(We,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(j0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет задач"}),a.jsx("p",{children:"Создайте первую задачу для команды"})]})})]})}const A1={Dashboard:B0,Bookings:bC,CheckIns:SC,CheckOuts:jC,Unpaid:NC,Chat:kC,Integrations:CC,ChannexIntegration:Tk,Arrivals:EC,Departures:PC,Stays:RC,Birthdays:TC,Tasks:OC};function yz(n){n.endsWith("/")&&(n=n.slice(0,-1));let e=n.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(A1).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(A1)[0]}function wz(){const{user:n,loading:e}=Dh(),t=Ta();if(e)return a.jsx("div",{children:"Загрузка..."});if(!n)return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:a.jsx(Jj,{})});const r=yz(t.pathname);return a.jsx(gF,{currentPageName:r,children:a.jsxs(iT,{children:[a.jsx(dr,{path:"/",element:a.jsx(B0,{})}),a.jsx(dr,{path:"/Dashboard",element:a.jsx(B0,{})}),a.jsx(dr,{path:"/Bookings",element:a.jsx(bC,{})}),a.jsx(dr,{path:"/CheckIns",element:a.jsx(SC,{})}),a.jsx(dr,{path:"/CheckOuts",element:a.jsx(jC,{})}),a.jsx(dr,{path:"/Unpaid",element:a.jsx(NC,{})}),a.jsx(dr,{path:"/Chat",element:a.jsx(kC,{})}),a.jsx(dr,{path:"/Integrations",element:a.jsx(CC,{})}),a.jsx(dr,{path:"/ChannexIntegration",element:a.jsx(Tk,{})}),a.jsx(dr,{path:"/Arrivals",element:a.jsx(EC,{})}),a.jsx(dr,{path:"/Departures",element:a.jsx(PC,{})}),a.jsx(dr,{path:"/Stays",element:a.jsx(RC,{})}),a.jsx(dr,{path:"/Birthdays",element:a.jsx(TC,{})}),a.jsx(dr,{path:"/Tasks",element:a.jsx(OC,{})})]})})}function _z(){return a.jsx(HI,{children:a.jsx(PT,{children:a.jsx(wz,{})})})}const bz=20,Sz=1e6,Ni={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let t0=0;function jz(){return t0=(t0+1)%Number.MAX_VALUE,t0.toString()}const n0=new Map,M1=n=>{if(n0.has(n))return;const e=setTimeout(()=>{n0.delete(n),xh({type:Ni.REMOVE_TOAST,toastId:n})},Sz);n0.set(n,e)},Nz=(n,e)=>{switch(e.type){case Ni.ADD_TOAST:return{...n,toasts:[e.toast,...n.toasts].slice(0,bz)};case Ni.UPDATE_TOAST:return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case Ni.DISMISS_TOAST:{const{toastId:t}=e;return t?M1(t):n.toasts.forEach(r=>{M1(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case Ni.REMOVE_TOAST:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},eg=[];let tg={toasts:[]};function xh(n){tg=Nz(tg,n),eg.forEach(e=>{e(tg)})}function kz({...n}){const e=jz(),t=o=>xh({type:Ni.UPDATE_TOAST,toast:{...o,id:e}}),r=()=>xh({type:Ni.DISMISS_TOAST,toastId:e});return xh({type:Ni.ADD_TOAST,toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function Cz(){const[n,e]=w.useState(tg);return w.useEffect(()=>(eg.push(e),()=>{const t=eg.indexOf(e);t>-1&&eg.splice(t,1)}),[n]),{...n,toast:kz,dismiss:t=>xh({type:Ni.DISMISS_TOAST,toastId:t})}}const IC=w.forwardRef(({...n},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));IC.displayName="ToastProvider";const AC=w.forwardRef(({...n},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));AC.displayName="ToastViewport";const Ez=Lh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),MC=w.forwardRef(({className:n,variant:e,...t},r)=>a.jsx("div",{ref:r,className:Fe(Ez({variant:e}),n),...t}));MC.displayName="Toast";const Pz=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Pz.displayName="ToastAction";const DC=w.forwardRef(({className:n,...e},t)=>a.jsx("button",{ref:t,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:a.jsx(ry,{className:"h-4 w-4"})}));DC.displayName="ToastClose";const LC=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("text-sm font-semibold",n),...e}));LC.displayName="ToastTitle";const $C=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Fe("text-sm opacity-90",n),...e}));$C.displayName="ToastDescription";function Rz(){const{toasts:n}=Cz();return a.jsxs(IC,{children:[n.map(function({id:e,title:t,description:r,action:o,...c}){return a.jsxs(MC,{...c,children:[a.jsxs("div",{className:"grid gap-1",children:[t&&a.jsx(LC,{children:t}),r&&a.jsx($C,{children:r})]}),o,a.jsx(DC,{})]},e)}),a.jsx(AC,{})]})}const Tz=()=>a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function Oz(){const{i18n:n}=Qr();return w.useEffect(()=>{const e=localStorage.getItem("pms_language")||"en";e!==n.language&&n.changeLanguage(e)},[n]),a.jsxs(w.Suspense,{fallback:a.jsx(Tz,{}),children:[a.jsx(_z,{}),a.jsx(Rz,{})]})}const Iz=xP.createRoot(document.getElementById("root"));Iz.render(a.jsx(on.StrictMode,{children:a.jsx(Oz,{})}));
