function lP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Sm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ng(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function cP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var mx={exports:{}},Gf={},gx={exports:{}},mt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pw;function uP(){if(pw)return mt;pw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),y=Symbol.iterator;function b(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,E={};function k(z,U,q){this.props=z,this.context=U,this.refs=E,this.updater=q||C}k.prototype.isReactComponent={},k.prototype.setState=function(z,U){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,U,"setState")},k.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function R(){}R.prototype=k.prototype;function j(z,U,q){this.props=z,this.context=U,this.refs=E,this.updater=q||C}var T=j.prototype=new R;T.constructor=j,P(T,k.prototype),T.isPureReactComponent=!0;var A=Array.isArray,D=Object.prototype.hasOwnProperty,H={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function $(z,U,q){var ie,ue={},he=null,te=null;if(U!=null)for(ie in U.ref!==void 0&&(te=U.ref),U.key!==void 0&&(he=""+U.key),U)D.call(U,ie)&&!F.hasOwnProperty(ie)&&(ue[ie]=U[ie]);var fe=arguments.length-2;if(fe===1)ue.children=q;else if(1<fe){for(var Ne=Array(fe),Ce=0;Ce<fe;Ce++)Ne[Ce]=arguments[Ce+2];ue.children=Ne}if(z&&z.defaultProps)for(ie in fe=z.defaultProps,fe)ue[ie]===void 0&&(ue[ie]=fe[ie]);return{$$typeof:n,type:z,key:he,ref:te,props:ue,_owner:H.current}}function G(z,U){return{$$typeof:n,type:z.type,key:U,ref:z.ref,props:z.props,_owner:z._owner}}function X(z){return typeof z=="object"&&z!==null&&z.$$typeof===n}function ne(z){var U={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(q){return U[q]})}var ae=/\/+/g;function pe(z,U){return typeof z=="object"&&z!==null&&z.key!=null?ne(""+z.key):U.toString(36)}function me(z,U,q,ie,ue){var he=typeof z;(he==="undefined"||he==="boolean")&&(z=null);var te=!1;if(z===null)te=!0;else switch(he){case"string":case"number":te=!0;break;case"object":switch(z.$$typeof){case n:case e:te=!0}}if(te)return te=z,ue=ue(te),z=ie===""?"."+pe(te,0):ie,A(ue)?(q="",z!=null&&(q=z.replace(ae,"$&/")+"/"),me(ue,U,q,"",function(Ce){return Ce})):ue!=null&&(X(ue)&&(ue=G(ue,q+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(ae,"$&/")+"/")+z)),U.push(ue)),1;if(te=0,ie=ie===""?".":ie+":",A(z))for(var fe=0;fe<z.length;fe++){he=z[fe];var Ne=ie+pe(he,fe);te+=me(he,U,q,Ne,ue)}else if(Ne=b(z),typeof Ne=="function")for(z=Ne.call(z),fe=0;!(he=z.next()).done;)he=he.value,Ne=ie+pe(he,fe++),te+=me(he,U,q,Ne,ue);else if(he==="object")throw U=String(z),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return te}function je(z,U,q){if(z==null)return z;var ie=[],ue=0;return me(z,ie,"","",function(he){return U.call(q,he,ue++)}),ie}function ge(z){if(z._status===-1){var U=z._result;U=U(),U.then(function(q){(z._status===0||z._status===-1)&&(z._status=1,z._result=q)},function(q){(z._status===0||z._status===-1)&&(z._status=2,z._result=q)}),z._status===-1&&(z._status=0,z._result=U)}if(z._status===1)return z._result.default;throw z._result}var be={current:null},B={transition:null},Y={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:B,ReactCurrentOwner:H};function re(){throw Error("act(...) is not supported in production builds of React.")}return mt.Children={map:je,forEach:function(z,U,q){je(z,function(){U.apply(this,arguments)},q)},count:function(z){var U=0;return je(z,function(){U++}),U},toArray:function(z){return je(z,function(U){return U})||[]},only:function(z){if(!X(z))throw Error("React.Children.only expected to receive a single React element child.");return z}},mt.Component=k,mt.Fragment=t,mt.Profiler=o,mt.PureComponent=j,mt.StrictMode=r,mt.Suspense=p,mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Y,mt.act=re,mt.cloneElement=function(z,U,q){if(z==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+z+".");var ie=P({},z.props),ue=z.key,he=z.ref,te=z._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,te=H.current),U.key!==void 0&&(ue=""+U.key),z.type&&z.type.defaultProps)var fe=z.type.defaultProps;for(Ne in U)D.call(U,Ne)&&!F.hasOwnProperty(Ne)&&(ie[Ne]=U[Ne]===void 0&&fe!==void 0?fe[Ne]:U[Ne])}var Ne=arguments.length-2;if(Ne===1)ie.children=q;else if(1<Ne){fe=Array(Ne);for(var Ce=0;Ce<Ne;Ce++)fe[Ce]=arguments[Ce+2];ie.children=fe}return{$$typeof:n,type:z.type,key:ue,ref:he,props:ie,_owner:te}},mt.createContext=function(z){return z={$$typeof:d,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},z.Provider={$$typeof:c,_context:z},z.Consumer=z},mt.createElement=$,mt.createFactory=function(z){var U=$.bind(null,z);return U.type=z,U},mt.createRef=function(){return{current:null}},mt.forwardRef=function(z){return{$$typeof:h,render:z}},mt.isValidElement=X,mt.lazy=function(z){return{$$typeof:x,_payload:{_status:-1,_result:z},_init:ge}},mt.memo=function(z,U){return{$$typeof:g,type:z,compare:U===void 0?null:U}},mt.startTransition=function(z){var U=B.transition;B.transition={};try{z()}finally{B.transition=U}},mt.unstable_act=re,mt.useCallback=function(z,U){return be.current.useCallback(z,U)},mt.useContext=function(z){return be.current.useContext(z)},mt.useDebugValue=function(){},mt.useDeferredValue=function(z){return be.current.useDeferredValue(z)},mt.useEffect=function(z,U){return be.current.useEffect(z,U)},mt.useId=function(){return be.current.useId()},mt.useImperativeHandle=function(z,U,q){return be.current.useImperativeHandle(z,U,q)},mt.useInsertionEffect=function(z,U){return be.current.useInsertionEffect(z,U)},mt.useLayoutEffect=function(z,U){return be.current.useLayoutEffect(z,U)},mt.useMemo=function(z,U){return be.current.useMemo(z,U)},mt.useReducer=function(z,U,q){return be.current.useReducer(z,U,q)},mt.useRef=function(z){return be.current.useRef(z)},mt.useState=function(z){return be.current.useState(z)},mt.useSyncExternalStore=function(z,U,q){return be.current.useSyncExternalStore(z,U,q)},mt.useTransition=function(){return be.current.useTransition()},mt.version="18.3.1",mt}var mw;function kg(){return mw||(mw=1,gx.exports=uP()),gx.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function dP(){if(gw)return Gf;gw=1;var n=kg(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,p,g){var x,y={},b=null,C=null;g!==void 0&&(b=""+g),p.key!==void 0&&(b=""+p.key),p.ref!==void 0&&(C=p.ref);for(x in p)r.call(p,x)&&!c.hasOwnProperty(x)&&(y[x]=p[x]);if(h&&h.defaultProps)for(x in p=h.defaultProps,p)y[x]===void 0&&(y[x]=p[x]);return{$$typeof:e,type:h,key:b,ref:C,props:y,_owner:o.current}}return Gf.Fragment=t,Gf.jsx=d,Gf.jsxs=d,Gf}var vw;function fP(){return vw||(vw=1,mx.exports=dP()),mx.exports}var l=fP(),w=kg();const sn=Ng(w),z0=lP({__proto__:null,default:sn},[w]);var Nm={},vx={exports:{}},Er={},xx={exports:{}},yx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xw;function hP(){return xw||(xw=1,function(n){function e(B,Y){var re=B.length;B.push(Y);e:for(;0<re;){var z=re-1>>>1,U=B[z];if(0<o(U,Y))B[z]=Y,B[re]=U,re=z;else break e}}function t(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var Y=B[0],re=B.pop();if(re!==Y){B[0]=re;e:for(var z=0,U=B.length,q=U>>>1;z<q;){var ie=2*(z+1)-1,ue=B[ie],he=ie+1,te=B[he];if(0>o(ue,re))he<U&&0>o(te,ue)?(B[z]=te,B[he]=re,z=he):(B[z]=ue,B[ie]=re,z=ie);else if(he<U&&0>o(te,re))B[z]=te,B[he]=re,z=he;else break e}}return Y}function o(B,Y){var re=B.sortIndex-Y.sortIndex;return re!==0?re:B.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var p=[],g=[],x=1,y=null,b=3,C=!1,P=!1,E=!1,k=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,j=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(B){for(var Y=t(g);Y!==null;){if(Y.callback===null)r(g);else if(Y.startTime<=B)r(g),Y.sortIndex=Y.expirationTime,e(p,Y);else break;Y=t(g)}}function A(B){if(E=!1,T(B),!P)if(t(p)!==null)P=!0,ge(D);else{var Y=t(g);Y!==null&&be(A,Y.startTime-B)}}function D(B,Y){P=!1,E&&(E=!1,R($),$=-1),C=!0;var re=b;try{for(T(Y),y=t(p);y!==null&&(!(y.expirationTime>Y)||B&&!ne());){var z=y.callback;if(typeof z=="function"){y.callback=null,b=y.priorityLevel;var U=z(y.expirationTime<=Y);Y=n.unstable_now(),typeof U=="function"?y.callback=U:y===t(p)&&r(p),T(Y)}else r(p);y=t(p)}if(y!==null)var q=!0;else{var ie=t(g);ie!==null&&be(A,ie.startTime-Y),q=!1}return q}finally{y=null,b=re,C=!1}}var H=!1,F=null,$=-1,G=5,X=-1;function ne(){return!(n.unstable_now()-X<G)}function ae(){if(F!==null){var B=n.unstable_now();X=B;var Y=!0;try{Y=F(!0,B)}finally{Y?pe():(H=!1,F=null)}}else H=!1}var pe;if(typeof j=="function")pe=function(){j(ae)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,je=me.port2;me.port1.onmessage=ae,pe=function(){je.postMessage(null)}}else pe=function(){k(ae,0)};function ge(B){F=B,H||(H=!0,pe())}function be(B,Y){$=k(function(){B(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_continueExecution=function(){P||C||(P=!0,ge(D))},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(B){switch(b){case 1:case 2:case 3:var Y=3;break;default:Y=b}var re=b;b=Y;try{return B()}finally{b=re}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(B,Y){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var re=b;b=B;try{return Y()}finally{b=re}},n.unstable_scheduleCallback=function(B,Y,re){var z=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?z+re:z):re=z,B){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=re+U,B={id:x++,callback:Y,priorityLevel:B,startTime:re,expirationTime:U,sortIndex:-1},re>z?(B.sortIndex=re,e(g,B),t(p)===null&&B===t(g)&&(E?(R($),$=-1):E=!0,be(A,re-z))):(B.sortIndex=U,e(p,B),P||C||(P=!0,ge(D))),B},n.unstable_shouldYield=ne,n.unstable_wrapCallback=function(B){var Y=b;return function(){var re=b;b=Y;try{return B.apply(this,arguments)}finally{b=re}}}}(yx)),yx}var yw;function pP(){return yw||(yw=1,xx.exports=hP()),xx.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ww;function mP(){if(ww)return Er;ww=1;var n=kg(),e=pP();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function c(s,i){d(s,i),d(s+"Capture",i)}function d(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},y={};function b(s){return p.call(y,s)?!0:p.call(x,s)?!1:g.test(s)?y[s]=!0:(x[s]=!0,!1)}function C(s,i,f,m){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return m?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function P(s,i,f,m){if(i===null||typeof i>"u"||C(s,i,f,m))return!0;if(m)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function E(s,i,f,m,_,S,M){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=m,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=s,this.type=i,this.sanitizeURL=S,this.removeEmptyString=M}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){k[s]=new E(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];k[i]=new E(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){k[s]=new E(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){k[s]=new E(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){k[s]=new E(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){k[s]=new E(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){k[s]=new E(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){k[s]=new E(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){k[s]=new E(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function j(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(R,j);k[i]=new E(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(R,j);k[i]=new E(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(R,j);k[i]=new E(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){k[s]=new E(s,1,!1,s.toLowerCase(),null,!1,!1)}),k.xlinkHref=new E("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){k[s]=new E(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,i,f,m){var _=k.hasOwnProperty(i)?k[i]:null;(_!==null?_.type!==0:m||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(P(i,f,_,m)&&(f=null),m||_===null?b(i)&&(f===null?s.removeAttribute(i):s.setAttribute(i,""+f)):_.mustUseProperty?s[_.propertyName]=f===null?_.type===3?!1:"":f:(i=_.attributeName,m=_.attributeNamespace,f===null?s.removeAttribute(i):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,m?s.setAttributeNS(m,i,f):s.setAttribute(i,f))))}var A=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,D=Symbol.for("react.element"),H=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),ne=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),me=Symbol.for("react.suspense_list"),je=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),B=Symbol.iterator;function Y(s){return s===null||typeof s!="object"?null:(s=B&&s[B]||s["@@iterator"],typeof s=="function"?s:null)}var re=Object.assign,z;function U(s){if(z===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);z=i&&i[1]||""}return`
`+z+s}var q=!1;function ie(s,i){if(!s||q)return"";q=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var m=ce}Reflect.construct(s,[],i)}else{try{i.call()}catch(ce){m=ce}s.call(i.prototype)}else{try{throw Error()}catch(ce){m=ce}s()}}catch(ce){if(ce&&m&&typeof ce.stack=="string"){for(var _=ce.stack.split(`
`),S=m.stack.split(`
`),M=_.length-1,W=S.length-1;1<=M&&0<=W&&_[M]!==S[W];)W--;for(;1<=M&&0<=W;M--,W--)if(_[M]!==S[W]){if(M!==1||W!==1)do if(M--,W--,0>W||_[M]!==S[W]){var K=`
`+_[M].replace(" at new "," at ");return s.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",s.displayName)),K}while(1<=M&&0<=W);break}}}finally{q=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?U(s):""}function ue(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ie(s.type,!1),s;case 11:return s=ie(s.type.render,!1),s;case 1:return s=ie(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case H:return"Portal";case G:return"Profiler";case $:return"StrictMode";case pe:return"Suspense";case me:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case ne:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case ae:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case je:return i=s.displayName||null,i!==null?i:he(s.type)||"Memo";case ge:i=s._payload,s=s._init;try{return he(s(i))}catch{}}return null}function te(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(i);case 8:return i===$?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ne(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ce(s){var i=Ne(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),m=""+s[i];if(!s.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,S=f.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return _.call(this)},set:function(M){m=""+M,S.call(this,M)}}),Object.defineProperty(s,i,{enumerable:f.enumerable}),{getValue:function(){return m},setValue:function(M){m=""+M},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Be(s){s._valueTracker||(s._valueTracker=Ce(s))}function Ie(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var f=i.getValue(),m="";return s&&(m=Ne(s)?s.checked?"true":"false":s.value),s=m,s!==f?(i.setValue(s),!0):!1}function Je(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function pt(s,i){var f=i.checked;return re({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function fn(s,i){var f=i.defaultValue==null?"":i.defaultValue,m=i.checked!=null?i.checked:i.defaultChecked;f=fe(i.value!=null?i.value:f),s._wrapperState={initialChecked:m,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function er(s,i){i=i.checked,i!=null&&T(s,"checked",i,!1)}function Kt(s,i){er(s,i);var f=fe(i.value),m=i.type;if(f!=null)m==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(m==="submit"||m==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Rr(s,i.type,f):i.hasOwnProperty("defaultValue")&&Rr(s,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function Zt(s,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var m=i.type;if(!(m!=="submit"&&m!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,f||i===s.value||(s.value=i),s.defaultValue=i}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Rr(s,i,f){(i!=="number"||Je(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Tr=Array.isArray;function Gt(s,i,f,m){if(s=s.options,i){i={};for(var _=0;_<f.length;_++)i["$"+f[_]]=!0;for(f=0;f<s.length;f++)_=i.hasOwnProperty("$"+s[f].value),s[f].selected!==_&&(s[f].selected=_),_&&m&&(s[f].defaultSelected=!0)}else{for(f=""+fe(f),i=null,_=0;_<s.length;_++){if(s[_].value===f){s[_].selected=!0,m&&(s[_].defaultSelected=!0);return}i!==null||s[_].disabled||(i=s[_])}i!==null&&(i.selected=!0)}}function Jr(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return re({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Mo(s,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(t(92));if(Tr(f)){if(1<f.length)throw Error(t(93));f=f[0]}i=f}i==null&&(i=""),f=i}s._wrapperState={initialValue:fe(f)}}function Bh(s,i){var f=fe(i.value),m=fe(i.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),i.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),m!=null&&(s.defaultValue=""+m)}function Ri(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function Wh(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ao(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?Wh(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ys,ec=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,m,_){MSApp.execUnsafeLocalFunction(function(){return s(i,f,m,_)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(ys=ys||document.createElement("div"),ys.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=ys.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function Io(s,i){if(i){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=i;return}}s.textContent=i}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},md=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(s){md.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Do[i]=Do[s]})});function tc(s,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||Do.hasOwnProperty(s)&&Do[s]?(""+i).trim():i+"px"}function nc(s,i){s=s.style;for(var f in i)if(i.hasOwnProperty(f)){var m=f.indexOf("--")===0,_=tc(f,i[f],m);f==="float"&&(f="cssFloat"),m?s.setProperty(f,_):s[f]=_}}var gd=re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Oa(s,i){if(i){if(gd[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Ma(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vd=null;function xd(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yd=null,Lo=null,$o=null;function Hh(s){if(s=jn(s)){if(typeof yd!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Mc(i),yd(s.stateNode,s.type,i))}}function Vh(s){Lo?$o?$o.push(s):$o=[s]:Lo=s}function Gh(){if(Lo){var s=Lo,i=$o;if($o=Lo=null,Hh(s),i)for(s=0;s<i.length;s++)Hh(i[s])}}function qh(s,i){return s(i)}function wd(){}var _d=!1;function Kh(s,i,f){if(_d)return s(i,f);_d=!0;try{return qh(s,i,f)}finally{_d=!1,(Lo!==null||$o!==null)&&(wd(),Gh())}}function Aa(s,i){var f=s.stateNode;if(f===null)return null;var m=Mc(f);if(m===null)return null;f=m[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(m=!m.disabled)||(s=s.type,m=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!m;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,i,typeof f));return f}var Ia=!1;if(h)try{var Da={};Object.defineProperty(Da,"passive",{get:function(){Ia=!0}}),window.addEventListener("test",Da,Da),window.removeEventListener("test",Da,Da)}catch{Ia=!1}function bd(s,i,f,m,_,S,M,W,K){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(f,ce)}catch(we){this.onError(we)}}var La=!1,rc=null,sc=!1,Sd=null,dv={onError:function(s){La=!0,rc=s}};function fv(s,i,f,m,_,S,M,W,K){La=!1,rc=null,bd.apply(dv,arguments)}function hv(s,i,f,m,_,S,M,W,K){if(fv.apply(this,arguments),La){if(La){var ce=rc;La=!1,rc=null}else throw Error(t(198));sc||(sc=!0,Sd=ce)}}function Fo(s){var i=s,f=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(f=i.return),s=i.return;while(s)}return i.tag===3?f:null}function Nd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function Yh(s){if(Fo(s)!==s)throw Error(t(188))}function pv(s){var i=s.alternate;if(!i){if(i=Fo(s),i===null)throw Error(t(188));return i!==s?null:s}for(var f=s,m=i;;){var _=f.return;if(_===null)break;var S=_.alternate;if(S===null){if(m=_.return,m!==null){f=m;continue}break}if(_.child===S.child){for(S=_.child;S;){if(S===f)return Yh(_),s;if(S===m)return Yh(_),i;S=S.sibling}throw Error(t(188))}if(f.return!==m.return)f=_,m=S;else{for(var M=!1,W=_.child;W;){if(W===f){M=!0,f=_,m=S;break}if(W===m){M=!0,m=_,f=S;break}W=W.sibling}if(!M){for(W=S.child;W;){if(W===f){M=!0,f=S,m=_;break}if(W===m){M=!0,m=S,f=_;break}W=W.sibling}if(!M)throw Error(t(189))}}if(f.alternate!==m)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:i}function Jh(s){return s=pv(s),s!==null?Xh(s):null}function Xh(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=Xh(s);if(i!==null)return i;s=s.sibling}return null}var Qh=e.unstable_scheduleCallback,Zh=e.unstable_cancelCallback,oc=e.unstable_shouldYield,mv=e.unstable_requestPaint,$t=e.unstable_now,gv=e.unstable_getCurrentPriorityLevel,kd=e.unstable_ImmediatePriority,ep=e.unstable_UserBlockingPriority,$a=e.unstable_NormalPriority,tp=e.unstable_LowPriority,jd=e.unstable_IdlePriority,ic=null,Xr=null;function vv(s){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(ic,s,void 0,(s.current.flags&128)===128)}catch{}}var Or=Math.clz32?Math.clz32:sp,np=Math.log,rp=Math.LN2;function sp(s){return s>>>=0,s===0?32:31-(np(s)/rp|0)|0}var Ti=64,ac=4194304;function Oi(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function zo(s,i){var f=s.pendingLanes;if(f===0)return 0;var m=0,_=s.suspendedLanes,S=s.pingedLanes,M=f&268435455;if(M!==0){var W=M&~_;W!==0?m=Oi(W):(S&=M,S!==0&&(m=Oi(S)))}else M=f&~_,M!==0?m=Oi(M):S!==0&&(m=Oi(S));if(m===0)return 0;if(i!==0&&i!==m&&(i&_)===0&&(_=m&-m,S=i&-i,_>=S||_===16&&(S&4194240)!==0))return i;if((m&4)!==0&&(m|=f&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=m;0<i;)f=31-Or(i),_=1<<f,m|=s[f],i&=~_;return m}function op(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xv(s,i){for(var f=s.suspendedLanes,m=s.pingedLanes,_=s.expirationTimes,S=s.pendingLanes;0<S;){var M=31-Or(S),W=1<<M,K=_[M];K===-1?((W&f)===0||(W&m)!==0)&&(_[M]=op(W,i)):K<=i&&(s.expiredLanes|=W),S&=~W}}function lc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function Cd(){var s=Ti;return Ti<<=1,(Ti&4194240)===0&&(Ti=64),s}function Fa(s){for(var i=[],f=0;31>f;f++)i.push(s);return i}function za(s,i,f){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-Or(i),s[i]=f}function ip(s,i){var f=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var m=s.eventTimes;for(s=s.expirationTimes;0<f;){var _=31-Or(f),S=1<<_;i[_]=0,m[_]=-1,s[_]=-1,f&=~S}}function Ua(s,i){var f=s.entangledLanes|=i;for(s=s.entanglements;f;){var m=31-Or(f),_=1<<m;_&i|s[m]&i&&(s[m]|=i),f&=~_}}var kt=0;function Uo(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ed,cc,ap,Pd,Rd,uc=!1,Ba=[],qs=null,Ks=null,Ys=null,Mi=new Map,Wa=new Map,Js=[],yv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lp(s,i){switch(s){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ks=null;break;case"mouseover":case"mouseout":Ys=null;break;case"pointerover":case"pointerout":Mi.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(i.pointerId)}}function Bo(s,i,f,m,_,S){return s===null||s.nativeEvent!==S?(s={blockedOn:i,domEventName:f,eventSystemFlags:m,nativeEvent:S,targetContainers:[_]},i!==null&&(i=jn(i),i!==null&&cc(i)),s):(s.eventSystemFlags|=m,i=s.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),s)}function wv(s,i,f,m,_){switch(i){case"focusin":return qs=Bo(qs,s,i,f,m,_),!0;case"dragenter":return Ks=Bo(Ks,s,i,f,m,_),!0;case"mouseover":return Ys=Bo(Ys,s,i,f,m,_),!0;case"pointerover":var S=_.pointerId;return Mi.set(S,Bo(Mi.get(S)||null,s,i,f,m,_)),!0;case"gotpointercapture":return S=_.pointerId,Wa.set(S,Bo(Wa.get(S)||null,s,i,f,m,_)),!0}return!1}function cp(s){var i=ts(s.target);if(i!==null){var f=Fo(i);if(f!==null){if(i=f.tag,i===13){if(i=Nd(f),i!==null){s.blockedOn=i,Rd(s.priority,function(){ap(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function dc(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var f=pc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var m=new f.constructor(f.type,f);vd=m,f.target.dispatchEvent(m),vd=null}else return i=jn(f),i!==null&&cc(i),s.blockedOn=f,!1;i.shift()}return!0}function up(s,i,f){dc(s)&&f.delete(i)}function _v(){uc=!1,qs!==null&&dc(qs)&&(qs=null),Ks!==null&&dc(Ks)&&(Ks=null),Ys!==null&&dc(Ys)&&(Ys=null),Mi.forEach(up),Wa.forEach(up)}function Ct(s,i){s.blockedOn===i&&(s.blockedOn=null,uc||(uc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,_v)))}function jt(s){function i(_){return Ct(_,s)}if(0<Ba.length){Ct(Ba[0],s);for(var f=1;f<Ba.length;f++){var m=Ba[f];m.blockedOn===s&&(m.blockedOn=null)}}for(qs!==null&&Ct(qs,s),Ks!==null&&Ct(Ks,s),Ys!==null&&Ct(Ys,s),Mi.forEach(i),Wa.forEach(i),f=0;f<Js.length;f++)m=Js[f],m.blockedOn===s&&(m.blockedOn=null);for(;0<Js.length&&(f=Js[0],f.blockedOn===null);)cp(f),f.blockedOn===null&&Js.shift()}var Ai=A.ReactCurrentBatchConfig,fc=!0;function bv(s,i,f,m){var _=kt,S=Ai.transition;Ai.transition=null;try{kt=1,Td(s,i,f,m)}finally{kt=_,Ai.transition=S}}function Sv(s,i,f,m){var _=kt,S=Ai.transition;Ai.transition=null;try{kt=4,Td(s,i,f,m)}finally{kt=_,Ai.transition=S}}function Td(s,i,f,m){if(fc){var _=pc(s,i,f,m);if(_===null)Kd(s,i,m,hc,f),lp(s,m);else if(wv(_,s,i,f,m))m.stopPropagation();else if(lp(s,m),i&4&&-1<yv.indexOf(s)){for(;_!==null;){var S=jn(_);if(S!==null&&Ed(S),S=pc(s,i,f,m),S===null&&Kd(s,i,m,hc,f),S===_)break;_=S}_!==null&&m.stopPropagation()}else Kd(s,i,m,null,f)}}var hc=null;function pc(s,i,f,m){if(hc=null,s=xd(m),s=ts(s),s!==null)if(i=Fo(s),i===null)s=null;else if(f=i.tag,f===13){if(s=Nd(i),s!==null)return s;s=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return hc=s,null}function dp(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gv()){case kd:return 1;case ep:return 4;case $a:case tp:return 16;case jd:return 536870912;default:return 16}default:return 16}}var Ft=null,Ha=null,Qr=null;function Od(){if(Qr)return Qr;var s,i=Ha,f=i.length,m,_="value"in Ft?Ft.value:Ft.textContent,S=_.length;for(s=0;s<f&&i[s]===_[s];s++);var M=f-s;for(m=1;m<=M&&i[f-m]===_[S-m];m++);return Qr=_.slice(s,1<m?1-m:void 0)}function Ii(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function In(){return!0}function Md(){return!1}function Hn(s){function i(f,m,_,S,M){this._reactName=f,this._targetInst=_,this.type=m,this.nativeEvent=S,this.target=M,this.currentTarget=null;for(var W in s)s.hasOwnProperty(W)&&(f=s[W],this[W]=f?f(S):S[W]);return this.isDefaultPrevented=(S.defaultPrevented!=null?S.defaultPrevented:S.returnValue===!1)?In:Md,this.isPropagationStopped=Md,this}return re(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=In)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=In)},persist:function(){},isPersistent:In}),i}var Wo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=Hn(Wo),Di=re({},Wo,{view:0,detail:0}),fp=Hn(Di),Dn,Ad,Nn,gc=re({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Fd,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Nn&&(Nn&&s.type==="mousemove"?(Dn=s.screenX-Nn.screenX,Ad=s.screenY-Nn.screenY):Ad=Dn=0,Nn=s),Dn)},movementY:function(s){return"movementY"in s?s.movementY:Ad}}),Id=Hn(gc),Xs=re({},gc,{dataTransfer:0}),vc=Hn(Xs),Dd=re({},Di,{relatedTarget:0}),Mt=Hn(Dd),Qs=re({},Wo,{animationName:0,elapsedTime:0,pseudoElement:0}),Ld=Hn(Qs),Nv=re({},Wo,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),$d=Hn(Nv),kv=re({},Wo,{data:0}),hp=Hn(kv),jv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Li(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=xc[s])?!!i[s]:!1}function Fd(){return Li}var mp=re({},Di,{key:function(s){if(s.key){var i=jv[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Ii(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?pp[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Fd,charCode:function(s){return s.type==="keypress"?Ii(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ii(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),gp=Hn(mp),zd=re({},gc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yc=Hn(zd),vp=re({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Fd}),Cv=Hn(vp),Ud=re({},Wo,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bd=Hn(Ud),Ev=re({},gc,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),xp=Hn(Ev),tr=[9,13,27,32],Va=h&&"CompositionEvent"in window,ws=null;h&&"documentMode"in document&&(ws=document.documentMode);var yp=h&&"TextEvent"in window&&!ws,Wd=h&&(!Va||ws&&8<ws&&11>=ws),wp=" ",_p=!1;function bp(s,i){switch(s){case"keyup":return tr.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sp(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var $i=!1;function Fi(s,i){switch(s){case"compositionend":return Sp(i);case"keypress":return i.which!==32?null:(_p=!0,wp);case"textInput":return s=i.data,s===wp&&_p?null:s;default:return null}}function Pv(s,i){if($i)return s==="compositionend"||!Va&&bp(s,i)?(s=Od(),Qr=Ha=Ft=null,$i=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wd&&i.locale!=="ko"?null:i.data;default:return null}}var Rv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Rv[s.type]:i==="textarea"}function Hd(s,i,f,m){Vh(m),i=Pc(i,"onChange"),0<i.length&&(f=new mc("onChange","change",null,f,m),s.push({event:f,listeners:i}))}var hr=null,Zs=null;function Tv(s){Rp(s,0)}function _c(s){var i=st(s);if(Ie(i))return s}function Ov(s,i){if(s==="change")return i}var Ho=!1;if(h){var nr;if(h){var bc="oninput"in document;if(!bc){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),bc=typeof Np.oninput=="function"}nr=bc}else nr=!1;Ho=nr&&(!document.documentMode||9<document.documentMode)}function kp(){hr&&(hr.detachEvent("onpropertychange",jp),Zs=hr=null)}function jp(s){if(s.propertyName==="value"&&_c(Zs)){var i=[];Hd(i,Zs,s,xd(s)),Kh(Tv,i)}}function Mv(s,i,f){s==="focusin"?(kp(),hr=i,Zs=f,hr.attachEvent("onpropertychange",jp)):s==="focusout"&&kp()}function Av(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return _c(Zs)}function zi(s,i){if(s==="click")return _c(i)}function Z(s,i){if(s==="input"||s==="change")return _c(i)}function de(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var le=typeof Object.is=="function"?Object.is:de;function Pe(s,i){if(le(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var f=Object.keys(s),m=Object.keys(i);if(f.length!==m.length)return!1;for(m=0;m<f.length;m++){var _=f[m];if(!p.call(i,_)||!le(s[_],i[_]))return!1}return!0}function tt(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bt(s,i){var f=tt(s);s=0;for(var m;f;){if(f.nodeType===3){if(m=s+f.textContent.length,s<=i&&m>=i)return{node:f,offset:i-s};s=m}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=tt(f)}}function en(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?en(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Et(){for(var s=window,i=Je();i instanceof s.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)s=i.contentWindow;else break;i=Je(s.document)}return i}function Ga(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Iv(s){var i=Et(),f=s.focusedElem,m=s.selectionRange;if(i!==f&&f&&f.ownerDocument&&en(f.ownerDocument.documentElement,f)){if(m!==null&&Ga(f)){if(i=m.start,s=m.end,s===void 0&&(s=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(s,f.value.length);else if(s=(i=f.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var _=f.textContent.length,S=Math.min(m.start,_);m=m.end===void 0?S:Math.min(m.end,_),!s.extend&&S>m&&(_=m,m=S,S=_),_=bt(f,S);var M=bt(f,m);_&&M&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==M.node||s.focusOffset!==M.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),s.removeAllRanges(),S>m?(s.addRange(i),s.extend(M.node,M.offset)):(i.setEnd(M.node,M.offset),s.addRange(i)))}}for(i=[],s=f;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)s=i[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var pr=h&&"documentMode"in document&&11>=document.documentMode,_s=null,Vd=null,Zr=null,Ui=!1;function qa(s,i,f){var m=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Ui||_s==null||_s!==Je(m)||(m=_s,"selectionStart"in m&&Ga(m)?m={start:m.selectionStart,end:m.selectionEnd}:(m=(m.ownerDocument&&m.ownerDocument.defaultView||window).getSelection(),m={anchorNode:m.anchorNode,anchorOffset:m.anchorOffset,focusNode:m.focusNode,focusOffset:m.focusOffset}),Zr&&Pe(Zr,m)||(Zr=m,m=Pc(Vd,"onSelect"),0<m.length&&(i=new mc("onSelect","select",null,i,f),s.push({event:i,listeners:m}),i.target=_s)))}function St(s,i){var f={};return f[s.toLowerCase()]=i.toLowerCase(),f["Webkit"+s]="webkit"+i,f["Moz"+s]="moz"+i,f}var Bi={animationend:St("Animation","AnimationEnd"),animationiteration:St("Animation","AnimationIteration"),animationstart:St("Animation","AnimationStart"),transitionend:St("Transition","TransitionEnd")},Sc={},Ka={};h&&(Ka=document.createElement("div").style,"AnimationEvent"in window||(delete Bi.animationend.animation,delete Bi.animationiteration.animation,delete Bi.animationstart.animation),"TransitionEvent"in window||delete Bi.transitionend.transition);function Nc(s){if(Sc[s])return Sc[s];if(!Bi[s])return s;var i=Bi[s],f;for(f in i)if(i.hasOwnProperty(f)&&f in Ka)return Sc[s]=i[f];return s}var Cp=Nc("animationend"),Ep=Nc("animationiteration"),Ya=Nc("animationstart"),bs=Nc("transitionend"),Ja=new Map,Gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(s,i){Ja.set(s,i),c(i,[s])}for(var kc=0;kc<Gd.length;kc++){var jc=Gd[kc],Cc=jc.toLowerCase(),Pp=jc[0].toUpperCase()+jc.slice(1);Mr(Cc,"on"+Pp)}Mr(Cp,"onAnimationEnd"),Mr(Ep,"onAnimationIteration"),Mr(Ya,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(bs,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ss="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vo=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ss));function Xa(s,i,f){var m=s.type||"unknown-event";s.currentTarget=f,hv(m,i,void 0,s),s.currentTarget=null}function Rp(s,i){i=(i&4)!==0;for(var f=0;f<s.length;f++){var m=s[f],_=m.event;m=m.listeners;e:{var S=void 0;if(i)for(var M=m.length-1;0<=M;M--){var W=m[M],K=W.instance,ce=W.currentTarget;if(W=W.listener,K!==S&&_.isPropagationStopped())break e;Xa(_,W,ce),S=K}else for(M=0;M<m.length;M++){if(W=m[M],K=W.instance,ce=W.currentTarget,W=W.listener,K!==S&&_.isPropagationStopped())break e;Xa(_,W,ce),S=K}}}if(sc)throw s=Sd,sc=!1,Sd=null,s}function It(s,i){var f=i[Oc];f===void 0&&(f=i[Oc]=new Set);var m=s+"__bubble";f.has(m)||(Ec(i,s,2,!1),f.add(m))}function qd(s,i,f){var m=0;i&&(m|=4),Ec(f,s,m,i)}var Go="_reactListening"+Math.random().toString(36).slice(2);function eo(s){if(!s[Go]){s[Go]=!0,r.forEach(function(f){f!=="selectionchange"&&(Vo.has(f)||qd(f,!1,s),qd(f,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[Go]||(i[Go]=!0,qd("selectionchange",!1,i))}}function Ec(s,i,f,m){switch(dp(i)){case 1:var _=bv;break;case 4:_=Sv;break;default:_=Td}f=_.bind(null,i,f,s),_=void 0,!Ia||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),m?_!==void 0?s.addEventListener(i,f,{capture:!0,passive:_}):s.addEventListener(i,f,!0):_!==void 0?s.addEventListener(i,f,{passive:_}):s.addEventListener(i,f,!1)}function Kd(s,i,f,m,_){var S=m;if((i&1)===0&&(i&2)===0&&m!==null)e:for(;;){if(m===null)return;var M=m.tag;if(M===3||M===4){var W=m.stateNode.containerInfo;if(W===_||W.nodeType===8&&W.parentNode===_)break;if(M===4)for(M=m.return;M!==null;){var K=M.tag;if((K===3||K===4)&&(K=M.stateNode.containerInfo,K===_||K.nodeType===8&&K.parentNode===_))return;M=M.return}for(;W!==null;){if(M=ts(W),M===null)return;if(K=M.tag,K===5||K===6){m=S=M;continue e}W=W.parentNode}}m=m.return}Kh(function(){var ce=S,we=xd(f),Se=[];e:{var ye=Ja.get(s);if(ye!==void 0){var Re=mc,Oe=s;switch(s){case"keypress":if(Ii(f)===0)break e;case"keydown":case"keyup":Re=gp;break;case"focusin":Oe="focus",Re=Mt;break;case"focusout":Oe="blur",Re=Mt;break;case"beforeblur":case"afterblur":Re=Mt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Id;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=vc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=Cv;break;case Cp:case Ep:case Ya:Re=Ld;break;case bs:Re=Bd;break;case"scroll":Re=fp;break;case"wheel":Re=xp;break;case"copy":case"cut":case"paste":Re=$d;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=yc}var Ae=(i&4)!==0,Jt=!Ae&&s==="scroll",se=Ae?ye!==null?ye+"Capture":null:ye;Ae=[];for(var Q=ce,oe;Q!==null;){oe=Q;var ke=oe.stateNode;if(oe.tag===5&&ke!==null&&(oe=ke,se!==null&&(ke=Aa(Q,se),ke!=null&&Ae.push(Wi(Q,ke,oe)))),Jt)break;Q=Q.return}0<Ae.length&&(ye=new Re(ye,Oe,null,f,we),Se.push({event:ye,listeners:Ae}))}}if((i&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Re=s==="mouseout"||s==="pointerout",ye&&f!==vd&&(Oe=f.relatedTarget||f.fromElement)&&(ts(Oe)||Oe[rr]))break e;if((Re||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Re?(Oe=f.relatedTarget||f.toElement,Re=ce,Oe=Oe?ts(Oe):null,Oe!==null&&(Jt=Fo(Oe),Oe!==Jt||Oe.tag!==5&&Oe.tag!==6)&&(Oe=null)):(Re=null,Oe=ce),Re!==Oe)){if(Ae=Id,ke="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ae=yc,ke="onPointerLeave",se="onPointerEnter",Q="pointer"),Jt=Re==null?ye:st(Re),oe=Oe==null?ye:st(Oe),ye=new Ae(ke,Q+"leave",Re,f,we),ye.target=Jt,ye.relatedTarget=oe,ke=null,ts(we)===ce&&(Ae=new Ae(se,Q+"enter",Oe,f,we),Ae.target=oe,Ae.relatedTarget=Jt,ke=Ae),Jt=ke,Re&&Oe)t:{for(Ae=Re,se=Oe,Q=0,oe=Ae;oe;oe=Hi(oe))Q++;for(oe=0,ke=se;ke;ke=Hi(ke))oe++;for(;0<Q-oe;)Ae=Hi(Ae),Q--;for(;0<oe-Q;)se=Hi(se),oe--;for(;Q--;){if(Ae===se||se!==null&&Ae===se.alternate)break t;Ae=Hi(Ae),se=Hi(se)}Ae=null}else Ae=null;Re!==null&&tn(Se,ye,Re,Ae,!1),Oe!==null&&Jt!==null&&tn(Se,Jt,Oe,Ae,!0)}}e:{if(ye=ce?st(ce):window,Re=ye.nodeName&&ye.nodeName.toLowerCase(),Re==="select"||Re==="input"&&ye.type==="file")var ze=Ov;else if(wc(ye))if(Ho)ze=Z;else{ze=Av;var qe=Mv}else(Re=ye.nodeName)&&Re.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(ze=zi);if(ze&&(ze=ze(s,ce))){Hd(Se,ze,f,we);break e}qe&&qe(s,ye,ce),s==="focusout"&&(qe=ye._wrapperState)&&qe.controlled&&ye.type==="number"&&Rr(ye,"number",ye.value)}switch(qe=ce?st(ce):window,s){case"focusin":(wc(qe)||qe.contentEditable==="true")&&(_s=qe,Vd=ce,Zr=null);break;case"focusout":Zr=Vd=_s=null;break;case"mousedown":Ui=!0;break;case"contextmenu":case"mouseup":case"dragend":Ui=!1,qa(Se,f,we);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":qa(Se,f,we)}var Ge;if(Va)e:{switch(s){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else $i?bp(s,f)&&(Xe="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(Xe="onCompositionStart");Xe&&(Wd&&f.locale!=="ko"&&($i||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&$i&&(Ge=Od()):(Ft=we,Ha="value"in Ft?Ft.value:Ft.textContent,$i=!0)),qe=Pc(ce,Xe),0<qe.length&&(Xe=new hp(Xe,s,null,f,we),Se.push({event:Xe,listeners:qe}),Ge?Xe.data=Ge:(Ge=Sp(f),Ge!==null&&(Xe.data=Ge)))),(Ge=yp?Fi(s,f):Pv(s,f))&&(ce=Pc(ce,"onBeforeInput"),0<ce.length&&(we=new hp("onBeforeInput","beforeinput",null,f,we),Se.push({event:we,listeners:ce}),we.data=Ge))}Rp(Se,i)})}function Wi(s,i,f){return{instance:s,listener:i,currentTarget:f}}function Pc(s,i){for(var f=i+"Capture",m=[];s!==null;){var _=s,S=_.stateNode;_.tag===5&&S!==null&&(_=S,S=Aa(s,f),S!=null&&m.unshift(Wi(s,S,_)),S=Aa(s,i),S!=null&&m.push(Wi(s,S,_))),s=s.return}return m}function Hi(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function tn(s,i,f,m,_){for(var S=i._reactName,M=[];f!==null&&f!==m;){var W=f,K=W.alternate,ce=W.stateNode;if(K!==null&&K===m)break;W.tag===5&&ce!==null&&(W=ce,_?(K=Aa(f,S),K!=null&&M.unshift(Wi(f,K,W))):_||(K=Aa(f,S),K!=null&&M.push(Wi(f,K,W)))),f=f.return}M.length!==0&&s.push({event:i,listeners:M})}var kn=/\r\n?/g,Dv=/\u0000|\uFFFD/g;function Tp(s){return(typeof s=="string"?s:""+s).replace(kn,`
`).replace(Dv,"")}function Qa(s,i,f){if(i=Tp(i),Tp(s)!==i&&f)throw Error(t(425))}function Rc(){}var Za=null,qo=null;function el(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var to=typeof setTimeout=="function"?setTimeout:void 0,tl=typeof clearTimeout=="function"?clearTimeout:void 0,Vi=typeof Promise=="function"?Promise:void 0,Tc=typeof queueMicrotask=="function"?queueMicrotask:typeof Vi<"u"?function(s){return Vi.resolve(null).then(s).catch(Gi)}:to;function Gi(s){setTimeout(function(){throw s})}function Yd(s,i){var f=i,m=0;do{var _=f.nextSibling;if(s.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(m===0){s.removeChild(_),jt(i);return}m--}else f!=="$"&&f!=="$?"&&f!=="$!"||m++;f=_}while(f);jt(i)}function no(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Op(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return s;i--}else f==="/$"&&i++}s=s.previousSibling}return null}var qi=Math.random().toString(36).slice(2),es="__reactFiber$"+qi,ro="__reactProps$"+qi,rr="__reactContainer$"+qi,Oc="__reactEvents$"+qi,I="__reactListeners$"+qi,Ki="__reactHandles$"+qi;function ts(s){var i=s[es];if(i)return i;for(var f=s.parentNode;f;){if(i=f[rr]||f[es]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(s=Op(s);s!==null;){if(f=s[es])return f;s=Op(s)}return i}s=f,f=s.parentNode}return null}function jn(s){return s=s[es]||s[rr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function st(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Mc(s){return s[ro]||null}var Jd=[],Yi=-1;function Vn(s){return{current:s}}function Dt(s){0>Yi||(s.current=Jd[Yi],Jd[Yi]=null,Yi--)}function At(s,i){Yi++,Jd[Yi]=s.current,s.current=i}var so={},Cn=Vn(so),Gn=Vn(!1),Ln=so;function Ji(s,i){var f=s.type.contextTypes;if(!f)return so;var m=s.stateNode;if(m&&m.__reactInternalMemoizedUnmaskedChildContext===i)return m.__reactInternalMemoizedMaskedChildContext;var _={},S;for(S in f)_[S]=i[S];return m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=_),_}function qn(s){return s=s.childContextTypes,s!=null}function Ac(){Dt(Gn),Dt(Cn)}function Mp(s,i,f){if(Cn.current!==so)throw Error(t(168));At(Cn,i),At(Gn,f)}function Ap(s,i,f){var m=s.stateNode;if(i=i.childContextTypes,typeof m.getChildContext!="function")return f;m=m.getChildContext();for(var _ in m)if(!(_ in i))throw Error(t(108,te(s)||"Unknown",_));return re({},f,m)}function mr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||so,Ln=Cn.current,At(Cn,s),At(Gn,Gn.current),!0}function Ip(s,i,f){var m=s.stateNode;if(!m)throw Error(t(169));f?(s=Ap(s,i,Ln),m.__reactInternalMemoizedMergedChildContext=s,Dt(Gn),Dt(Cn),At(Cn,s)):Dt(Gn),At(Gn,f)}var Ns=null,Ic=!1,Xd=!1;function Dp(s){Ns===null?Ns=[s]:Ns.push(s)}function Ko(s){Ic=!0,Dp(s)}function oo(){if(!Xd&&Ns!==null){Xd=!0;var s=0,i=kt;try{var f=Ns;for(kt=1;s<f.length;s++){var m=f[s];do m=m(!0);while(m!==null)}Ns=null,Ic=!1}catch(_){throw Ns!==null&&(Ns=Ns.slice(s+1)),Qh(kd,oo),_}finally{kt=i,Xd=!1}}return null}var Xi=[],En=0,Dc=null,Lc=0,gr=[],vr=0,Yo=null,ns=1,rs="";function Jo(s,i){Xi[En++]=Lc,Xi[En++]=Dc,Dc=s,Lc=i}function Lp(s,i,f){gr[vr++]=ns,gr[vr++]=rs,gr[vr++]=Yo,Yo=s;var m=ns;s=rs;var _=32-Or(m)-1;m&=~(1<<_),f+=1;var S=32-Or(i)+_;if(30<S){var M=_-_%5;S=(m&(1<<M)-1).toString(32),m>>=M,_-=M,ns=1<<32-Or(i)+_|f<<_|m,rs=S+s}else ns=1<<S|f<<_|m,rs=s}function nl(s){s.return!==null&&(Jo(s,1),Lp(s,1,0))}function Xo(s){for(;s===Dc;)Dc=Xi[--En],Xi[En]=null,Lc=Xi[--En],Xi[En]=null;for(;s===Yo;)Yo=gr[--vr],gr[vr]=null,rs=gr[--vr],gr[vr]=null,ns=gr[--vr],gr[vr]=null}var Pn=null,sr=null,Lt=!1,Ar=null;function ss(s,i){var f=Nr(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=s,i=s.deletions,i===null?(s.deletions=[f],s.flags|=16):i.push(f)}function $c(s,i){switch(s.tag){case 5:var f=s.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Pn=s,sr=no(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Pn=s,sr=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=Yo!==null?{id:ns,overflow:rs}:null,s.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=Nr(18,null,null,0),f.stateNode=i,f.return=s,s.child=f,Pn=s,sr=null,!0):!1;default:return!1}}function ks(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Kn(s){if(Lt){var i=sr;if(i){var f=i;if(!$c(s,i)){if(ks(s))throw Error(t(418));i=no(f.nextSibling);var m=Pn;i&&$c(s,i)?ss(m,f):(s.flags=s.flags&-4097|2,Lt=!1,Pn=s)}}else{if(ks(s))throw Error(t(418));s.flags=s.flags&-4097|2,Lt=!1,Pn=s}}}function $p(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Pn=s}function rl(s){if(s!==Pn)return!1;if(!Lt)return $p(s),Lt=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!el(s.type,s.memoizedProps)),i&&(i=sr)){if(ks(s))throw Qd(),Error(t(418));for(;i;)ss(s,i),i=no(i.nextSibling)}if($p(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(i===0){sr=no(s.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}s=s.nextSibling}sr=null}}else sr=Pn?no(s.stateNode.nextSibling):null;return!0}function Qd(){for(var s=sr;s;)s=no(s.nextSibling)}function os(){sr=Pn=null,Lt=!1}function is(s){Ar===null?Ar=[s]:Ar.push(s)}var Fp=A.ReactCurrentBatchConfig;function sl(s,i,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var m=f.stateNode}if(!m)throw Error(t(147,s));var _=m,S=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===S?i.ref:(i=function(M){var W=_.refs;M===null?delete W[S]:W[S]=M},i._stringRef=S,i)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function Qo(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function zp(s){var i=s._init;return i(s._payload)}function Zd(s){function i(se,Q){if(s){var oe=se.deletions;oe===null?(se.deletions=[Q],se.flags|=16):oe.push(Q)}}function f(se,Q){if(!s)return null;for(;Q!==null;)i(se,Q),Q=Q.sibling;return null}function m(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function _(se,Q){return se=Ur(se,Q),se.index=0,se.sibling=null,se}function S(se,Q,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<Q?(se.flags|=2,Q):oe):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function M(se){return s&&se.alternate===null&&(se.flags|=2),se}function W(se,Q,oe,ke){return Q===null||Q.tag!==6?(Q=zf(oe,se.mode,ke),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function K(se,Q,oe,ke){var ze=oe.type;return ze===F?we(se,Q,oe.props.children,ke,oe.key):Q!==null&&(Q.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ge&&zp(ze)===Q.type)?(ke=_(Q,oe.props),ke.ref=sl(se,Q,oe),ke.return=se,ke):(ke=yu(oe.type,oe.key,oe.props,null,se.mode,ke),ke.ref=sl(se,Q,oe),ke.return=se,ke)}function ce(se,Q,oe,ke){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=Uf(oe,se.mode,ke),Q.return=se,Q):(Q=_(Q,oe.children||[]),Q.return=se,Q)}function we(se,Q,oe,ke,ze){return Q===null||Q.tag!==7?(Q=ci(oe,se.mode,ke,ze),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function Se(se,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=zf(""+Q,se.mode,oe),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case D:return oe=yu(Q.type,Q.key,Q.props,null,se.mode,oe),oe.ref=sl(se,null,Q),oe.return=se,oe;case H:return Q=Uf(Q,se.mode,oe),Q.return=se,Q;case ge:var ke=Q._init;return Se(se,ke(Q._payload),oe)}if(Tr(Q)||Y(Q))return Q=ci(Q,se.mode,oe,null),Q.return=se,Q;Qo(se,Q)}return null}function ye(se,Q,oe,ke){var ze=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return ze!==null?null:W(se,Q,""+oe,ke);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:return oe.key===ze?K(se,Q,oe,ke):null;case H:return oe.key===ze?ce(se,Q,oe,ke):null;case ge:return ze=oe._init,ye(se,Q,ze(oe._payload),ke)}if(Tr(oe)||Y(oe))return ze!==null?null:we(se,Q,oe,ke,null);Qo(se,oe)}return null}function Re(se,Q,oe,ke,ze){if(typeof ke=="string"&&ke!==""||typeof ke=="number")return se=se.get(oe)||null,W(Q,se,""+ke,ze);if(typeof ke=="object"&&ke!==null){switch(ke.$$typeof){case D:return se=se.get(ke.key===null?oe:ke.key)||null,K(Q,se,ke,ze);case H:return se=se.get(ke.key===null?oe:ke.key)||null,ce(Q,se,ke,ze);case ge:var qe=ke._init;return Re(se,Q,oe,qe(ke._payload),ze)}if(Tr(ke)||Y(ke))return se=se.get(oe)||null,we(Q,se,ke,ze,null);Qo(Q,ke)}return null}function Oe(se,Q,oe,ke){for(var ze=null,qe=null,Ge=Q,Xe=Q=0,mn=null;Ge!==null&&Xe<oe.length;Xe++){Ge.index>Xe?(mn=Ge,Ge=null):mn=Ge.sibling;var Nt=ye(se,Ge,oe[Xe],ke);if(Nt===null){Ge===null&&(Ge=mn);break}s&&Ge&&Nt.alternate===null&&i(se,Ge),Q=S(Nt,Q,Xe),qe===null?ze=Nt:qe.sibling=Nt,qe=Nt,Ge=mn}if(Xe===oe.length)return f(se,Ge),Lt&&Jo(se,Xe),ze;if(Ge===null){for(;Xe<oe.length;Xe++)Ge=Se(se,oe[Xe],ke),Ge!==null&&(Q=S(Ge,Q,Xe),qe===null?ze=Ge:qe.sibling=Ge,qe=Ge);return Lt&&Jo(se,Xe),ze}for(Ge=m(se,Ge);Xe<oe.length;Xe++)mn=Re(Ge,se,Xe,oe[Xe],ke),mn!==null&&(s&&mn.alternate!==null&&Ge.delete(mn.key===null?Xe:mn.key),Q=S(mn,Q,Xe),qe===null?ze=mn:qe.sibling=mn,qe=mn);return s&&Ge.forEach(function(xo){return i(se,xo)}),Lt&&Jo(se,Xe),ze}function Ae(se,Q,oe,ke){var ze=Y(oe);if(typeof ze!="function")throw Error(t(150));if(oe=ze.call(oe),oe==null)throw Error(t(151));for(var qe=ze=null,Ge=Q,Xe=Q=0,mn=null,Nt=oe.next();Ge!==null&&!Nt.done;Xe++,Nt=oe.next()){Ge.index>Xe?(mn=Ge,Ge=null):mn=Ge.sibling;var xo=ye(se,Ge,Nt.value,ke);if(xo===null){Ge===null&&(Ge=mn);break}s&&Ge&&xo.alternate===null&&i(se,Ge),Q=S(xo,Q,Xe),qe===null?ze=xo:qe.sibling=xo,qe=xo,Ge=mn}if(Nt.done)return f(se,Ge),Lt&&Jo(se,Xe),ze;if(Ge===null){for(;!Nt.done;Xe++,Nt=oe.next())Nt=Se(se,Nt.value,ke),Nt!==null&&(Q=S(Nt,Q,Xe),qe===null?ze=Nt:qe.sibling=Nt,qe=Nt);return Lt&&Jo(se,Xe),ze}for(Ge=m(se,Ge);!Nt.done;Xe++,Nt=oe.next())Nt=Re(Ge,se,Xe,Nt.value,ke),Nt!==null&&(s&&Nt.alternate!==null&&Ge.delete(Nt.key===null?Xe:Nt.key),Q=S(Nt,Q,Xe),qe===null?ze=Nt:qe.sibling=Nt,qe=Nt);return s&&Ge.forEach(function(rx){return i(se,rx)}),Lt&&Jo(se,Xe),ze}function Jt(se,Q,oe,ke){if(typeof oe=="object"&&oe!==null&&oe.type===F&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case D:e:{for(var ze=oe.key,qe=Q;qe!==null;){if(qe.key===ze){if(ze=oe.type,ze===F){if(qe.tag===7){f(se,qe.sibling),Q=_(qe,oe.props.children),Q.return=se,se=Q;break e}}else if(qe.elementType===ze||typeof ze=="object"&&ze!==null&&ze.$$typeof===ge&&zp(ze)===qe.type){f(se,qe.sibling),Q=_(qe,oe.props),Q.ref=sl(se,qe,oe),Q.return=se,se=Q;break e}f(se,qe);break}else i(se,qe);qe=qe.sibling}oe.type===F?(Q=ci(oe.props.children,se.mode,ke,oe.key),Q.return=se,se=Q):(ke=yu(oe.type,oe.key,oe.props,null,se.mode,ke),ke.ref=sl(se,Q,oe),ke.return=se,se=ke)}return M(se);case H:e:{for(qe=oe.key;Q!==null;){if(Q.key===qe)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){f(se,Q.sibling),Q=_(Q,oe.children||[]),Q.return=se,se=Q;break e}else{f(se,Q);break}else i(se,Q);Q=Q.sibling}Q=Uf(oe,se.mode,ke),Q.return=se,se=Q}return M(se);case ge:return qe=oe._init,Jt(se,Q,qe(oe._payload),ke)}if(Tr(oe))return Oe(se,Q,oe,ke);if(Y(oe))return Ae(se,Q,oe,ke);Qo(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Q!==null&&Q.tag===6?(f(se,Q.sibling),Q=_(Q,oe),Q.return=se,se=Q):(f(se,Q),Q=zf(oe,se.mode,ke),Q.return=se,se=Q),M(se)):f(se,Q)}return Jt}var qt=Zd(!0),Fc=Zd(!1),ol=Vn(null),or=null,io=null,Qi=null;function js(){Qi=io=or=null}function zc(s){var i=ol.current;Dt(ol),s._currentValue=i}function vn(s,i,f){for(;s!==null;){var m=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,m!==null&&(m.childLanes|=i)):m!==null&&(m.childLanes&i)!==i&&(m.childLanes|=i),s===f)break;s=s.return}}function ao(s,i){or=s,Qi=io=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Fn=!0),s.firstContext=null)}function xr(s){var i=s._currentValue;if(Qi!==s)if(s={context:s,memoizedValue:i,next:null},io===null){if(or===null)throw Error(t(308));io=s,or.dependencies={lanes:0,firstContext:s}}else io=io.next=s;return i}var Zo=null;function ef(s){Zo===null?Zo=[s]:Zo.push(s)}function Uc(s,i,f,m){var _=i.interleaved;return _===null?(f.next=f,ef(i)):(f.next=_.next,_.next=f),i.interleaved=f,Cs(s,m)}function Cs(s,i){s.lanes|=i;var f=s.alternate;for(f!==null&&(f.lanes|=i),f=s,s=s.return;s!==null;)s.childLanes|=i,f=s.alternate,f!==null&&(f.childLanes|=i),f=s,s=s.return;return f.tag===3?f.stateNode:null}var yr=!1;function Bc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Up(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Es(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function wr(s,i,f){var m=s.updateQueue;if(m===null)return null;if(m=m.shared,(wt&2)!==0){var _=m.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),m.pending=i,Cs(s,f)}return _=m.interleaved,_===null?(i.next=i,ef(m)):(i.next=_.next,_.next=i),m.interleaved=i,Cs(s,f)}function Wc(s,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var m=i.lanes;m&=s.pendingLanes,f|=m,i.lanes=f,Ua(s,f)}}function Bp(s,i){var f=s.updateQueue,m=s.alternate;if(m!==null&&(m=m.updateQueue,f===m)){var _=null,S=null;if(f=f.firstBaseUpdate,f!==null){do{var M={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};S===null?_=S=M:S=S.next=M,f=f.next}while(f!==null);S===null?_=S=i:S=S.next=i}else _=S=i;f={baseState:m.baseState,firstBaseUpdate:_,lastBaseUpdate:S,shared:m.shared,effects:m.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=i:s.next=i,f.lastBaseUpdate=i}function Zi(s,i,f,m){var _=s.updateQueue;yr=!1;var S=_.firstBaseUpdate,M=_.lastBaseUpdate,W=_.shared.pending;if(W!==null){_.shared.pending=null;var K=W,ce=K.next;K.next=null,M===null?S=ce:M.next=ce,M=K;var we=s.alternate;we!==null&&(we=we.updateQueue,W=we.lastBaseUpdate,W!==M&&(W===null?we.firstBaseUpdate=ce:W.next=ce,we.lastBaseUpdate=K))}if(S!==null){var Se=_.baseState;M=0,we=ce=K=null,W=S;do{var ye=W.lane,Re=W.eventTime;if((m&ye)===ye){we!==null&&(we=we.next={eventTime:Re,lane:0,tag:W.tag,payload:W.payload,callback:W.callback,next:null});e:{var Oe=s,Ae=W;switch(ye=i,Re=f,Ae.tag){case 1:if(Oe=Ae.payload,typeof Oe=="function"){Se=Oe.call(Re,Se,ye);break e}Se=Oe;break e;case 3:Oe.flags=Oe.flags&-65537|128;case 0:if(Oe=Ae.payload,ye=typeof Oe=="function"?Oe.call(Re,Se,ye):Oe,ye==null)break e;Se=re({},Se,ye);break e;case 2:yr=!0}}W.callback!==null&&W.lane!==0&&(s.flags|=64,ye=_.effects,ye===null?_.effects=[W]:ye.push(W))}else Re={eventTime:Re,lane:ye,tag:W.tag,payload:W.payload,callback:W.callback,next:null},we===null?(ce=we=Re,K=Se):we=we.next=Re,M|=ye;if(W=W.next,W===null){if(W=_.shared.pending,W===null)break;ye=W,W=ye.next,ye.next=null,_.lastBaseUpdate=ye,_.shared.pending=null}}while(!0);if(we===null&&(K=Se),_.baseState=K,_.firstBaseUpdate=ce,_.lastBaseUpdate=we,i=_.shared.interleaved,i!==null){_=i;do M|=_.lane,_=_.next;while(_!==i)}else S===null&&(_.shared.lanes=0);ho|=M,s.lanes=M,s.memoizedState=Se}}function tf(s,i,f){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var m=s[i],_=m.callback;if(_!==null){if(m.callback=null,m=f,typeof _!="function")throw Error(t(191,_));_.call(m)}}}var il={},as=Vn(il),al=Vn(il),ea=Vn(il);function Ps(s){if(s===il)throw Error(t(174));return s}function nf(s,i){switch(At(ea,i),At(al,s),At(as,il),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ao(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Ao(i,s)}Dt(as),At(as,i)}function lo(){Dt(as),Dt(al),Dt(ea)}function rf(s){Ps(ea.current);var i=Ps(as.current),f=Ao(i,s.type);i!==f&&(At(al,s),At(as,f))}function Hc(s){al.current===s&&(Dt(as),Dt(al))}var zt=Vn(0);function ei(s){for(var i=s;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var sf=[];function Vc(){for(var s=0;s<sf.length;s++)sf[s]._workInProgressVersionPrimary=null;sf.length=0}var ll=A.ReactCurrentDispatcher,of=A.ReactCurrentBatchConfig,co=0,Ht=null,Yt=null,an=null,ta=!1,cl=!1,ti=0,at=0;function Rn(){throw Error(t(321))}function af(s,i){if(i===null)return!1;for(var f=0;f<i.length&&f<s.length;f++)if(!le(s[f],i[f]))return!1;return!0}function ni(s,i,f,m,_,S){if(co=S,Ht=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,ll.current=s===null||s.memoizedState===null?$v:Qc,s=f(m,_),cl){S=0;do{if(cl=!1,ti=0,25<=S)throw Error(t(301));S+=1,an=Yt=null,i.updateQueue=null,ll.current=oa,s=f(m,_)}while(cl)}if(ll.current=Xc,i=Yt!==null&&Yt.next!==null,co=0,an=Yt=Ht=null,ta=!1,i)throw Error(t(300));return s}function Gc(){var s=ti!==0;return ti=0,s}function ls(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ht.memoizedState=an=s:an=an.next=s,an}function _r(){if(Yt===null){var s=Ht.alternate;s=s!==null?s.memoizedState:null}else s=Yt.next;var i=an===null?Ht.memoizedState:an.next;if(i!==null)an=i,Yt=s;else{if(s===null)throw Error(t(310));Yt=s,s={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},an===null?Ht.memoizedState=an=s:an=an.next=s}return an}function Tn(s,i){return typeof i=="function"?i(s):i}function lf(s){var i=_r(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=Yt,_=m.baseQueue,S=f.pending;if(S!==null){if(_!==null){var M=_.next;_.next=S.next,S.next=M}m.baseQueue=_=S,f.pending=null}if(_!==null){S=_.next,m=m.baseState;var W=M=null,K=null,ce=S;do{var we=ce.lane;if((co&we)===we)K!==null&&(K=K.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),m=ce.hasEagerState?ce.eagerState:s(m,ce.action);else{var Se={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};K===null?(W=K=Se,M=m):K=K.next=Se,Ht.lanes|=we,ho|=we}ce=ce.next}while(ce!==null&&ce!==S);K===null?M=m:K.next=W,le(m,i.memoizedState)||(Fn=!0),i.memoizedState=m,i.baseState=M,i.baseQueue=K,f.lastRenderedState=m}if(s=f.interleaved,s!==null){_=s;do S=_.lane,Ht.lanes|=S,ho|=S,_=_.next;while(_!==s)}else _===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function na(s){var i=_r(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var m=f.dispatch,_=f.pending,S=i.memoizedState;if(_!==null){f.pending=null;var M=_=_.next;do S=s(S,M.action),M=M.next;while(M!==_);le(S,i.memoizedState)||(Fn=!0),i.memoizedState=S,i.baseQueue===null&&(i.baseState=S),f.lastRenderedState=S}return[S,m]}function qc(){}function cf(s,i){var f=Ht,m=_r(),_=i(),S=!le(m.memoizedState,_);if(S&&(m.memoizedState=_,Fn=!0),m=m.queue,cs(Rs.bind(null,f,m,s),[s]),m.getSnapshot!==i||S||an!==null&&an.memoizedState.tag&1){if(f.flags|=2048,ra(9,Yn.bind(null,f,m,_,i),void 0,null),pn===null)throw Error(t(349));(co&30)!==0||uf(f,i,_)}return _}function uf(s,i,f){s.flags|=16384,s={getSnapshot:i,value:f},i=Ht.updateQueue,i===null?(i={lastEffect:null,stores:null},Ht.updateQueue=i,i.stores=[s]):(f=i.stores,f===null?i.stores=[s]:f.push(s))}function Yn(s,i,f,m){i.value=f,i.getSnapshot=m,Kc(i)&&df(s)}function Rs(s,i,f){return f(function(){Kc(i)&&df(s)})}function Kc(s){var i=s.getSnapshot;s=s.value;try{var f=i();return!le(s,f)}catch{return!0}}function df(s){var i=Cs(s,1);i!==null&&zr(i,s,1,-1)}function ul(s){var i=ls();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tn,lastRenderedState:s},i.queue=s,s=s.dispatch=Kp.bind(null,Ht,s),[i.memoizedState,s]}function ra(s,i,f,m){return s={tag:s,create:i,destroy:f,deps:m,next:null},i=Ht.updateQueue,i===null?(i={lastEffect:null,stores:null},Ht.updateQueue=i,i.lastEffect=s.next=s):(f=i.lastEffect,f===null?i.lastEffect=s.next=s:(m=f.next,f.next=s,s.next=m,i.lastEffect=s)),s}function Yc(){return _r().memoizedState}function dl(s,i,f,m){var _=ls();Ht.flags|=s,_.memoizedState=ra(1|i,f,void 0,m===void 0?null:m)}function sa(s,i,f,m){var _=_r();m=m===void 0?null:m;var S=void 0;if(Yt!==null){var M=Yt.memoizedState;if(S=M.destroy,m!==null&&af(m,M.deps)){_.memoizedState=ra(i,f,S,m);return}}Ht.flags|=s,_.memoizedState=ra(1|i,f,S,m)}function Jc(s,i){return dl(8390656,8,s,i)}function cs(s,i){return sa(2048,8,s,i)}function Wp(s,i){return sa(4,2,s,i)}function Ts(s,i){return sa(4,4,s,i)}function ff(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function hf(s,i,f){return f=f!=null?f.concat([s]):null,sa(4,4,ff.bind(null,i,s),f)}function fl(){}function Hp(s,i){var f=_r();i=i===void 0?null:i;var m=f.memoizedState;return m!==null&&i!==null&&af(i,m[1])?m[0]:(f.memoizedState=[s,i],s)}function Vp(s,i){var f=_r();i=i===void 0?null:i;var m=f.memoizedState;return m!==null&&i!==null&&af(i,m[1])?m[0]:(s=s(),f.memoizedState=[s,i],s)}function Gp(s,i,f){return(co&21)===0?(s.baseState&&(s.baseState=!1,Fn=!0),s.memoizedState=f):(le(f,i)||(f=Cd(),Ht.lanes|=f,ho|=f,s.baseState=!0),i)}function qp(s,i){var f=kt;kt=f!==0&&4>f?f:4,s(!0);var m=of.transition;of.transition={};try{s(!1),i()}finally{kt=f,of.transition=m}}function pf(){return _r().memoizedState}function Lv(s,i,f){var m=go(s);if(f={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null},mf(s))$n(i,f);else if(f=Uc(s,i,f,m),f!==null){var _=Bn();zr(f,s,m,_),Ir(f,i,m)}}function Kp(s,i,f){var m=go(s),_={lane:m,action:f,hasEagerState:!1,eagerState:null,next:null};if(mf(s))$n(i,_);else{var S=s.alternate;if(s.lanes===0&&(S===null||S.lanes===0)&&(S=i.lastRenderedReducer,S!==null))try{var M=i.lastRenderedState,W=S(M,f);if(_.hasEagerState=!0,_.eagerState=W,le(W,M)){var K=i.interleaved;K===null?(_.next=_,ef(i)):(_.next=K.next,K.next=_),i.interleaved=_;return}}catch{}finally{}f=Uc(s,i,_,m),f!==null&&(_=Bn(),zr(f,s,m,_),Ir(f,i,m))}}function mf(s){var i=s.alternate;return s===Ht||i!==null&&i===Ht}function $n(s,i){cl=ta=!0;var f=s.pending;f===null?i.next=i:(i.next=f.next,f.next=i),s.pending=i}function Ir(s,i,f){if((f&4194240)!==0){var m=i.lanes;m&=s.pendingLanes,f|=m,i.lanes=f,Ua(s,f)}}var Xc={readContext:xr,useCallback:Rn,useContext:Rn,useEffect:Rn,useImperativeHandle:Rn,useInsertionEffect:Rn,useLayoutEffect:Rn,useMemo:Rn,useReducer:Rn,useRef:Rn,useState:Rn,useDebugValue:Rn,useDeferredValue:Rn,useTransition:Rn,useMutableSource:Rn,useSyncExternalStore:Rn,useId:Rn,unstable_isNewReconciler:!1},$v={readContext:xr,useCallback:function(s,i){return ls().memoizedState=[s,i===void 0?null:i],s},useContext:xr,useEffect:Jc,useImperativeHandle:function(s,i,f){return f=f!=null?f.concat([s]):null,dl(4194308,4,ff.bind(null,i,s),f)},useLayoutEffect:function(s,i){return dl(4194308,4,s,i)},useInsertionEffect:function(s,i){return dl(4,2,s,i)},useMemo:function(s,i){var f=ls();return i=i===void 0?null:i,s=s(),f.memoizedState=[s,i],s},useReducer:function(s,i,f){var m=ls();return i=f!==void 0?f(i):i,m.memoizedState=m.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},m.queue=s,s=s.dispatch=Lv.bind(null,Ht,s),[m.memoizedState,s]},useRef:function(s){var i=ls();return s={current:s},i.memoizedState=s},useState:ul,useDebugValue:fl,useDeferredValue:function(s){return ls().memoizedState=s},useTransition:function(){var s=ul(!1),i=s[0];return s=qp.bind(null,s[1]),ls().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,f){var m=Ht,_=ls();if(Lt){if(f===void 0)throw Error(t(407));f=f()}else{if(f=i(),pn===null)throw Error(t(349));(co&30)!==0||uf(m,i,f)}_.memoizedState=f;var S={value:f,getSnapshot:i};return _.queue=S,Jc(Rs.bind(null,m,S,s),[s]),m.flags|=2048,ra(9,Yn.bind(null,m,S,f,i),void 0,null),f},useId:function(){var s=ls(),i=pn.identifierPrefix;if(Lt){var f=rs,m=ns;f=(m&~(1<<32-Or(m)-1)).toString(32)+f,i=":"+i+"R"+f,f=ti++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=at++,i=":"+i+"r"+f.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},Qc={readContext:xr,useCallback:Hp,useContext:xr,useEffect:cs,useImperativeHandle:hf,useInsertionEffect:Wp,useLayoutEffect:Ts,useMemo:Vp,useReducer:lf,useRef:Yc,useState:function(){return lf(Tn)},useDebugValue:fl,useDeferredValue:function(s){var i=_r();return Gp(i,Yt.memoizedState,s)},useTransition:function(){var s=lf(Tn)[0],i=_r().memoizedState;return[s,i]},useMutableSource:qc,useSyncExternalStore:cf,useId:pf,unstable_isNewReconciler:!1},oa={readContext:xr,useCallback:Hp,useContext:xr,useEffect:cs,useImperativeHandle:hf,useInsertionEffect:Wp,useLayoutEffect:Ts,useMemo:Vp,useReducer:na,useRef:Yc,useState:function(){return na(Tn)},useDebugValue:fl,useDeferredValue:function(s){var i=_r();return Yt===null?i.memoizedState=s:Gp(i,Yt.memoizedState,s)},useTransition:function(){var s=na(Tn)[0],i=_r().memoizedState;return[s,i]},useMutableSource:qc,useSyncExternalStore:cf,useId:pf,unstable_isNewReconciler:!1};function br(s,i){if(s&&s.defaultProps){i=re({},i),s=s.defaultProps;for(var f in s)i[f]===void 0&&(i[f]=s[f]);return i}return i}function Zc(s,i,f,m){i=s.memoizedState,f=f(m,i),f=f==null?i:re({},i,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var eu={isMounted:function(s){return(s=s._reactInternals)?Fo(s)===s:!1},enqueueSetState:function(s,i,f){s=s._reactInternals;var m=Bn(),_=go(s),S=Es(m,_);S.payload=i,f!=null&&(S.callback=f),i=wr(s,S,_),i!==null&&(zr(i,s,_,m),Wc(i,s,_))},enqueueReplaceState:function(s,i,f){s=s._reactInternals;var m=Bn(),_=go(s),S=Es(m,_);S.tag=1,S.payload=i,f!=null&&(S.callback=f),i=wr(s,S,_),i!==null&&(zr(i,s,_,m),Wc(i,s,_))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var f=Bn(),m=go(s),_=Es(f,m);_.tag=2,i!=null&&(_.callback=i),i=wr(s,_,m),i!==null&&(zr(i,s,m,f),Wc(i,s,m))}};function gf(s,i,f,m,_,S,M){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(m,S,M):i.prototype&&i.prototype.isPureReactComponent?!Pe(f,m)||!Pe(_,S):!0}function ri(s,i,f){var m=!1,_=so,S=i.contextType;return typeof S=="object"&&S!==null?S=xr(S):(_=qn(i)?Ln:Cn.current,m=i.contextTypes,S=(m=m!=null)?Ji(s,_):so),i=new i(f,S),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=eu,s.stateNode=i,i._reactInternals=s,m&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=S),i}function ia(s,i,f,m){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,m),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,m),i.state!==s&&eu.enqueueReplaceState(i,i.state,null)}function vf(s,i,f,m){var _=s.stateNode;_.props=f,_.state=s.memoizedState,_.refs={},Bc(s);var S=i.contextType;typeof S=="object"&&S!==null?_.context=xr(S):(S=qn(i)?Ln:Cn.current,_.context=Ji(s,S)),_.state=s.memoizedState,S=i.getDerivedStateFromProps,typeof S=="function"&&(Zc(s,i,S,f),_.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&eu.enqueueReplaceState(_,_.state,null),Zi(s,f,_,m),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function si(s,i){try{var f="",m=i;do f+=ue(m),m=m.return;while(m);var _=f}catch(S){_=`
Error generating stack: `+S.message+`
`+S.stack}return{value:s,source:i,stack:_,digest:null}}function tu(s,i,f){return{value:s,source:null,stack:f??null,digest:i??null}}function aa(s,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var Yp=typeof WeakMap=="function"?WeakMap:Map;function hl(s,i,f){f=Es(-1,f),f.tag=3,f.payload={element:null};var m=i.value;return f.callback=function(){fu||(fu=!0,Mf=m),aa(s,i)},f}function nu(s,i,f){f=Es(-1,f),f.tag=3;var m=s.type.getDerivedStateFromError;if(typeof m=="function"){var _=i.value;f.payload=function(){return m(_)},f.callback=function(){aa(s,i)}}var S=s.stateNode;return S!==null&&typeof S.componentDidCatch=="function"&&(f.callback=function(){aa(s,i),typeof m!="function"&&(po===null?po=new Set([this]):po.add(this));var M=i.stack;this.componentDidCatch(i.value,{componentStack:M!==null?M:""})}),f}function pl(s,i,f){var m=s.pingCache;if(m===null){m=s.pingCache=new Yp;var _=new Set;m.set(i,_)}else _=m.get(i),_===void 0&&(_=new Set,m.set(i,_));_.has(f)||(_.add(f),s=Gv.bind(null,s,i,f),i.then(s,s))}function Jp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function xf(s,i,f,m,_){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=Es(-1,1),i.tag=2,wr(f,i,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var ru=A.ReactCurrentOwner,Fn=!1;function xn(s,i,f,m){i.child=s===null?Fc(i,null,f,m):qt(i,s.child,f,m)}function Xp(s,i,f,m,_){f=f.render;var S=i.ref;return ao(i,_),m=ni(s,i,f,m,S,_),f=Gc(),s!==null&&!Fn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,Dr(s,i,_)):(Lt&&f&&nl(i),i.flags|=1,xn(s,i,m,_),i.child)}function yf(s,i,f,m,_){if(s===null){var S=f.type;return typeof S=="function"&&!xu(S)&&S.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=S,us(s,i,S,m,_)):(s=yu(f.type,null,m,i,i.mode,_),s.ref=i.ref,s.return=i,i.child=s)}if(S=s.child,(s.lanes&_)===0){var M=S.memoizedProps;if(f=f.compare,f=f!==null?f:Pe,f(M,m)&&s.ref===i.ref)return Dr(s,i,_)}return i.flags|=1,s=Ur(S,m),s.ref=i.ref,s.return=i,i.child=s}function us(s,i,f,m,_){if(s!==null){var S=s.memoizedProps;if(Pe(S,m)&&s.ref===i.ref)if(Fn=!1,i.pendingProps=m=S,(s.lanes&_)!==0)(s.flags&131072)!==0&&(Fn=!0);else return i.lanes=s.lanes,Dr(s,i,_)}return bf(s,i,f,m,_)}function wf(s,i,f){var m=i.pendingProps,_=m.children,S=s!==null?s.memoizedState:null;if(m.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},At(da,ar),ar|=f;else{if((f&1073741824)===0)return s=S!==null?S.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,At(da,ar),ar|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},m=S!==null?S.baseLanes:f,At(da,ar),ar|=m}else S!==null?(m=S.baseLanes|f,i.memoizedState=null):m=f,At(da,ar),ar|=m;return xn(s,i,_,f),i.child}function _f(s,i){var f=i.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function bf(s,i,f,m,_){var S=qn(f)?Ln:Cn.current;return S=Ji(i,S),ao(i,_),f=ni(s,i,f,m,S,_),m=Gc(),s!==null&&!Fn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,Dr(s,i,_)):(Lt&&m&&nl(i),i.flags|=1,xn(s,i,f,_),i.child)}function Sf(s,i,f,m,_){if(qn(f)){var S=!0;mr(i)}else S=!1;if(ao(i,_),i.stateNode===null)ou(s,i),ri(i,f,m),vf(i,f,m,_),m=!0;else if(s===null){var M=i.stateNode,W=i.memoizedProps;M.props=W;var K=M.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=xr(ce):(ce=qn(f)?Ln:Cn.current,ce=Ji(i,ce));var we=f.getDerivedStateFromProps,Se=typeof we=="function"||typeof M.getSnapshotBeforeUpdate=="function";Se||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==m||K!==ce)&&ia(i,M,m,ce),yr=!1;var ye=i.memoizedState;M.state=ye,Zi(i,m,M,_),K=i.memoizedState,W!==m||ye!==K||Gn.current||yr?(typeof we=="function"&&(Zc(i,f,we,m),K=i.memoizedState),(W=yr||gf(i,f,W,m,ye,K,ce))?(Se||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(i.flags|=4194308)):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=m,i.memoizedState=K),M.props=m,M.state=K,M.context=ce,m=W):(typeof M.componentDidMount=="function"&&(i.flags|=4194308),m=!1)}else{M=i.stateNode,Up(s,i),W=i.memoizedProps,ce=i.type===i.elementType?W:br(i.type,W),M.props=ce,Se=i.pendingProps,ye=M.context,K=f.contextType,typeof K=="object"&&K!==null?K=xr(K):(K=qn(f)?Ln:Cn.current,K=Ji(i,K));var Re=f.getDerivedStateFromProps;(we=typeof Re=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(W!==Se||ye!==K)&&ia(i,M,m,K),yr=!1,ye=i.memoizedState,M.state=ye,Zi(i,m,M,_);var Oe=i.memoizedState;W!==Se||ye!==Oe||Gn.current||yr?(typeof Re=="function"&&(Zc(i,f,Re,m),Oe=i.memoizedState),(ce=yr||gf(i,f,ce,m,ye,Oe,K)||!1)?(we||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(m,Oe,K),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(m,Oe,K)),typeof M.componentDidUpdate=="function"&&(i.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof M.componentDidUpdate!="function"||W===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),i.memoizedProps=m,i.memoizedState=Oe),M.props=m,M.state=Oe,M.context=K,m=ce):(typeof M.componentDidUpdate!="function"||W===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||W===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),m=!1)}return Nf(s,i,f,m,S,_)}function Nf(s,i,f,m,_,S){_f(s,i);var M=(i.flags&128)!==0;if(!m&&!M)return _&&Ip(i,f,!1),Dr(s,i,S);m=i.stateNode,ru.current=i;var W=M&&typeof f.getDerivedStateFromError!="function"?null:m.render();return i.flags|=1,s!==null&&M?(i.child=qt(i,s.child,null,S),i.child=qt(i,null,W,S)):xn(s,i,W,S),i.memoizedState=m.state,_&&Ip(i,f,!0),i.child}function Qp(s){var i=s.stateNode;i.pendingContext?Mp(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Mp(s,i.context,!1),nf(s,i.containerInfo)}function ds(s,i,f,m,_){return os(),is(_),i.flags|=256,xn(s,i,f,m),i.child}var ml={dehydrated:null,treeContext:null,retryLane:0};function gl(s){return{baseLanes:s,cachePool:null,transitions:null}}function su(s,i,f){var m=i.pendingProps,_=zt.current,S=!1,M=(i.flags&128)!==0,W;if((W=M)||(W=s!==null&&s.memoizedState===null?!1:(_&2)!==0),W?(S=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),At(zt,_&1),s===null)return Kn(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(M=m.children,s=m.fallback,S?(m=i.mode,S=i.child,M={mode:"hidden",children:M},(m&1)===0&&S!==null?(S.childLanes=0,S.pendingProps=M):S=wu(M,m,0,null),s=ci(s,m,f,null),S.return=i,s.return=i,S.sibling=s,i.child=S,i.child.memoizedState=gl(f),i.memoizedState=ml,s):la(i,M));if(_=s.memoizedState,_!==null&&(W=_.dehydrated,W!==null))return Ke(s,i,M,m,W,_,f);if(S){S=m.fallback,M=i.mode,_=s.child,W=_.sibling;var K={mode:"hidden",children:m.children};return(M&1)===0&&i.child!==_?(m=i.child,m.childLanes=0,m.pendingProps=K,i.deletions=null):(m=Ur(_,K),m.subtreeFlags=_.subtreeFlags&14680064),W!==null?S=Ur(W,S):(S=ci(S,M,f,null),S.flags|=2),S.return=i,m.return=i,m.sibling=S,i.child=m,m=S,S=i.child,M=s.child.memoizedState,M=M===null?gl(f):{baseLanes:M.baseLanes|f,cachePool:null,transitions:M.transitions},S.memoizedState=M,S.childLanes=s.childLanes&~f,i.memoizedState=ml,m}return S=s.child,s=S.sibling,m=Ur(S,{mode:"visible",children:m.children}),(i.mode&1)===0&&(m.lanes=f),m.return=i,m.sibling=null,s!==null&&(f=i.deletions,f===null?(i.deletions=[s],i.flags|=16):f.push(s)),i.child=m,i.memoizedState=null,m}function la(s,i){return i=wu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function Os(s,i,f,m){return m!==null&&is(m),qt(i,s.child,null,f),s=la(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function Ke(s,i,f,m,_,S,M){if(f)return i.flags&256?(i.flags&=-257,m=tu(Error(t(422))),Os(s,i,M,m)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(S=m.fallback,_=i.mode,m=wu({mode:"visible",children:m.children},_,0,null),S=ci(S,_,M,null),S.flags|=2,m.return=i,S.return=i,m.sibling=S,i.child=m,(i.mode&1)!==0&&qt(i,s.child,null,M),i.child.memoizedState=gl(M),i.memoizedState=ml,S);if((i.mode&1)===0)return Os(s,i,M,null);if(_.data==="$!"){if(m=_.nextSibling&&_.nextSibling.dataset,m)var W=m.dgst;return m=W,S=Error(t(419)),m=tu(S,m,void 0),Os(s,i,M,m)}if(W=(M&s.childLanes)!==0,Fn||W){if(m=pn,m!==null){switch(M&-M){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(m.suspendedLanes|M))!==0?0:_,_!==0&&_!==S.retryLane&&(S.retryLane=_,Cs(s,_),zr(m,s,_,-1))}return Ff(),m=tu(Error(t(421))),Os(s,i,M,m)}return _.data==="$?"?(i.flags|=128,i.child=s.child,i=qv.bind(null,s),_._reactRetry=i,null):(s=S.treeContext,sr=no(_.nextSibling),Pn=i,Lt=!0,Ar=null,s!==null&&(gr[vr++]=ns,gr[vr++]=rs,gr[vr++]=Yo,ns=s.id,rs=s.overflow,Yo=i),i=la(i,m.children),i.flags|=4096,i)}function vl(s,i,f){s.lanes|=i;var m=s.alternate;m!==null&&(m.lanes|=i),vn(s.return,i,f)}function xl(s,i,f,m,_){var S=s.memoizedState;S===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:m,tail:f,tailMode:_}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=m,S.tail=f,S.tailMode=_)}function uo(s,i,f){var m=i.pendingProps,_=m.revealOrder,S=m.tail;if(xn(s,i,m.children,f),m=zt.current,(m&2)!==0)m=m&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&vl(s,f,i);else if(s.tag===19)vl(s,f,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}m&=1}if(At(zt,m),(i.mode&1)===0)i.memoizedState=null;else switch(_){case"forwards":for(f=i.child,_=null;f!==null;)s=f.alternate,s!==null&&ei(s)===null&&(_=f),f=f.sibling;f=_,f===null?(_=i.child,i.child=null):(_=f.sibling,f.sibling=null),xl(i,!1,_,f,S);break;case"backwards":for(f=null,_=i.child,i.child=null;_!==null;){if(s=_.alternate,s!==null&&ei(s)===null){i.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}xl(i,!0,f,null,S);break;case"together":xl(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ou(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Dr(s,i,f){if(s!==null&&(i.dependencies=s.dependencies),ho|=i.lanes,(f&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,f=Ur(s,s.pendingProps),i.child=f,f.return=i;s.sibling!==null;)s=s.sibling,f=f.sibling=Ur(s,s.pendingProps),f.return=i;f.sibling=null}return i.child}function Zp(s,i,f){switch(i.tag){case 3:Qp(i),os();break;case 5:rf(i);break;case 1:qn(i.type)&&mr(i);break;case 4:nf(i,i.stateNode.containerInfo);break;case 10:var m=i.type._context,_=i.memoizedProps.value;At(ol,m._currentValue),m._currentValue=_;break;case 13:if(m=i.memoizedState,m!==null)return m.dehydrated!==null?(At(zt,zt.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?su(s,i,f):(At(zt,zt.current&1),s=Dr(s,i,f),s!==null?s.sibling:null);At(zt,zt.current&1);break;case 19:if(m=(f&i.childLanes)!==0,(s.flags&128)!==0){if(m)return uo(s,i,f);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),At(zt,zt.current),m)break;return null;case 22:case 23:return i.lanes=0,wf(s,i,f)}return Dr(s,i,f)}var yn,kf,em,jf;yn=function(s,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},kf=function(){},em=function(s,i,f,m){var _=s.memoizedProps;if(_!==m){s=i.stateNode,Ps(as.current);var S=null;switch(f){case"input":_=pt(s,_),m=pt(s,m),S=[];break;case"select":_=re({},_,{value:void 0}),m=re({},m,{value:void 0}),S=[];break;case"textarea":_=Jr(s,_),m=Jr(s,m),S=[];break;default:typeof _.onClick!="function"&&typeof m.onClick=="function"&&(s.onclick=Rc)}Oa(f,m);var M;f=null;for(ce in _)if(!m.hasOwnProperty(ce)&&_.hasOwnProperty(ce)&&_[ce]!=null)if(ce==="style"){var W=_[ce];for(M in W)W.hasOwnProperty(M)&&(f||(f={}),f[M]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?S||(S=[]):(S=S||[]).push(ce,null));for(ce in m){var K=m[ce];if(W=_!=null?_[ce]:void 0,m.hasOwnProperty(ce)&&K!==W&&(K!=null||W!=null))if(ce==="style")if(W){for(M in W)!W.hasOwnProperty(M)||K&&K.hasOwnProperty(M)||(f||(f={}),f[M]="");for(M in K)K.hasOwnProperty(M)&&W[M]!==K[M]&&(f||(f={}),f[M]=K[M])}else f||(S||(S=[]),S.push(ce,f)),f=K;else ce==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,W=W?W.__html:void 0,K!=null&&W!==K&&(S=S||[]).push(ce,K)):ce==="children"?typeof K!="string"&&typeof K!="number"||(S=S||[]).push(ce,""+K):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(K!=null&&ce==="onScroll"&&It("scroll",s),S||W===K||(S=[])):(S=S||[]).push(ce,K))}f&&(S=S||[]).push("style",f);var ce=S;(i.updateQueue=ce)&&(i.flags|=4)}},jf=function(s,i,f,m){f!==m&&(i.flags|=4)};function yl(s,i){if(!Lt)switch(s.tailMode){case"hidden":i=s.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var m=null;f!==null;)f.alternate!==null&&(m=f),f=f.sibling;m===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:m.sibling=null}}function wn(s){var i=s.alternate!==null&&s.alternate.child===s.child,f=0,m=0;if(i)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags&14680064,m|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,m|=_.subtreeFlags,m|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=m,s.childLanes=f,i}function Fv(s,i,f){var m=i.pendingProps;switch(Xo(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wn(i),null;case 1:return qn(i.type)&&Ac(),wn(i),null;case 3:return m=i.stateNode,lo(),Dt(Gn),Dt(Cn),Vc(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(s===null||s.child===null)&&(rl(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ar!==null&&(Df(Ar),Ar=null))),kf(s,i),wn(i),null;case 5:Hc(i);var _=Ps(ea.current);if(f=i.type,s!==null&&i.stateNode!=null)em(s,i,f,m,_),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!m){if(i.stateNode===null)throw Error(t(166));return wn(i),null}if(s=Ps(as.current),rl(i)){m=i.stateNode,f=i.type;var S=i.memoizedProps;switch(m[es]=i,m[ro]=S,s=(i.mode&1)!==0,f){case"dialog":It("cancel",m),It("close",m);break;case"iframe":case"object":case"embed":It("load",m);break;case"video":case"audio":for(_=0;_<Ss.length;_++)It(Ss[_],m);break;case"source":It("error",m);break;case"img":case"image":case"link":It("error",m),It("load",m);break;case"details":It("toggle",m);break;case"input":fn(m,S),It("invalid",m);break;case"select":m._wrapperState={wasMultiple:!!S.multiple},It("invalid",m);break;case"textarea":Mo(m,S),It("invalid",m)}Oa(f,S),_=null;for(var M in S)if(S.hasOwnProperty(M)){var W=S[M];M==="children"?typeof W=="string"?m.textContent!==W&&(S.suppressHydrationWarning!==!0&&Qa(m.textContent,W,s),_=["children",W]):typeof W=="number"&&m.textContent!==""+W&&(S.suppressHydrationWarning!==!0&&Qa(m.textContent,W,s),_=["children",""+W]):o.hasOwnProperty(M)&&W!=null&&M==="onScroll"&&It("scroll",m)}switch(f){case"input":Be(m),Zt(m,S,!0);break;case"textarea":Be(m),Ri(m);break;case"select":case"option":break;default:typeof S.onClick=="function"&&(m.onclick=Rc)}m=_,i.updateQueue=m,m!==null&&(i.flags|=4)}else{M=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=Wh(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=M.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof m.is=="string"?s=M.createElement(f,{is:m.is}):(s=M.createElement(f),f==="select"&&(M=s,m.multiple?M.multiple=!0:m.size&&(M.size=m.size))):s=M.createElementNS(s,f),s[es]=i,s[ro]=m,yn(s,i,!1,!1),i.stateNode=s;e:{switch(M=Ma(f,m),f){case"dialog":It("cancel",s),It("close",s),_=m;break;case"iframe":case"object":case"embed":It("load",s),_=m;break;case"video":case"audio":for(_=0;_<Ss.length;_++)It(Ss[_],s);_=m;break;case"source":It("error",s),_=m;break;case"img":case"image":case"link":It("error",s),It("load",s),_=m;break;case"details":It("toggle",s),_=m;break;case"input":fn(s,m),_=pt(s,m),It("invalid",s);break;case"option":_=m;break;case"select":s._wrapperState={wasMultiple:!!m.multiple},_=re({},m,{value:void 0}),It("invalid",s);break;case"textarea":Mo(s,m),_=Jr(s,m),It("invalid",s);break;default:_=m}Oa(f,_),W=_;for(S in W)if(W.hasOwnProperty(S)){var K=W[S];S==="style"?nc(s,K):S==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&ec(s,K)):S==="children"?typeof K=="string"?(f!=="textarea"||K!=="")&&Io(s,K):typeof K=="number"&&Io(s,""+K):S!=="suppressContentEditableWarning"&&S!=="suppressHydrationWarning"&&S!=="autoFocus"&&(o.hasOwnProperty(S)?K!=null&&S==="onScroll"&&It("scroll",s):K!=null&&T(s,S,K,M))}switch(f){case"input":Be(s),Zt(s,m,!1);break;case"textarea":Be(s),Ri(s);break;case"option":m.value!=null&&s.setAttribute("value",""+fe(m.value));break;case"select":s.multiple=!!m.multiple,S=m.value,S!=null?Gt(s,!!m.multiple,S,!1):m.defaultValue!=null&&Gt(s,!!m.multiple,m.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=Rc)}switch(f){case"button":case"input":case"select":case"textarea":m=!!m.autoFocus;break e;case"img":m=!0;break e;default:m=!1}}m&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return wn(i),null;case 6:if(s&&i.stateNode!=null)jf(s,i,s.memoizedProps,m);else{if(typeof m!="string"&&i.stateNode===null)throw Error(t(166));if(f=Ps(ea.current),Ps(as.current),rl(i)){if(m=i.stateNode,f=i.memoizedProps,m[es]=i,(S=m.nodeValue!==f)&&(s=Pn,s!==null))switch(s.tag){case 3:Qa(m.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Qa(m.nodeValue,f,(s.mode&1)!==0)}S&&(i.flags|=4)}else m=(f.nodeType===9?f:f.ownerDocument).createTextNode(m),m[es]=i,i.stateNode=m}return wn(i),null;case 13:if(Dt(zt),m=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Lt&&sr!==null&&(i.mode&1)!==0&&(i.flags&128)===0)Qd(),os(),i.flags|=98560,S=!1;else if(S=rl(i),m!==null&&m.dehydrated!==null){if(s===null){if(!S)throw Error(t(318));if(S=i.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(t(317));S[es]=i}else os(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;wn(i),S=!1}else Ar!==null&&(Df(Ar),Ar=null),S=!0;if(!S)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(m=m!==null,m!==(s!==null&&s.memoizedState!==null)&&m&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(zt.current&1)!==0?ln===0&&(ln=3):Ff())),i.updateQueue!==null&&(i.flags|=4),wn(i),null);case 4:return lo(),kf(s,i),s===null&&eo(i.stateNode.containerInfo),wn(i),null;case 10:return zc(i.type._context),wn(i),null;case 17:return qn(i.type)&&Ac(),wn(i),null;case 19:if(Dt(zt),S=i.memoizedState,S===null)return wn(i),null;if(m=(i.flags&128)!==0,M=S.rendering,M===null)if(m)yl(S,!1);else{if(ln!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(M=ei(s),M!==null){for(i.flags|=128,yl(S,!1),m=M.updateQueue,m!==null&&(i.updateQueue=m,i.flags|=4),i.subtreeFlags=0,m=f,f=i.child;f!==null;)S=f,s=m,S.flags&=14680066,M=S.alternate,M===null?(S.childLanes=0,S.lanes=s,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=M.childLanes,S.lanes=M.lanes,S.child=M.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=M.memoizedProps,S.memoizedState=M.memoizedState,S.updateQueue=M.updateQueue,S.type=M.type,s=M.dependencies,S.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return At(zt,zt.current&1|2),i.child}s=s.sibling}S.tail!==null&&$t()>oi&&(i.flags|=128,m=!0,yl(S,!1),i.lanes=4194304)}else{if(!m)if(s=ei(M),s!==null){if(i.flags|=128,m=!0,f=s.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),yl(S,!0),S.tail===null&&S.tailMode==="hidden"&&!M.alternate&&!Lt)return wn(i),null}else 2*$t()-S.renderingStartTime>oi&&f!==1073741824&&(i.flags|=128,m=!0,yl(S,!1),i.lanes=4194304);S.isBackwards?(M.sibling=i.child,i.child=M):(f=S.last,f!==null?f.sibling=M:i.child=M,S.last=M)}return S.tail!==null?(i=S.tail,S.rendering=i,S.tail=i.sibling,S.renderingStartTime=$t(),i.sibling=null,f=zt.current,At(zt,m?f&1|2:f&1),i):(wn(i),null);case 22:case 23:return $f(),m=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==m&&(i.flags|=8192),m&&(i.mode&1)!==0?(ar&1073741824)!==0&&(wn(i),i.subtreeFlags&6&&(i.flags|=8192)):wn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function zv(s,i){switch(Xo(i),i.tag){case 1:return qn(i.type)&&Ac(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return lo(),Dt(Gn),Dt(Cn),Vc(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return Hc(i),null;case 13:if(Dt(zt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));os()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Dt(zt),null;case 4:return lo(),null;case 10:return zc(i.type._context),null;case 22:case 23:return $f(),null;case 24:return null;default:return null}}var iu=!1,Ut=!1,zn=typeof WeakSet=="function"?WeakSet:Set,Te=null;function ca(s,i){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(m){Vt(s,i,m)}else f.current=null}function wl(s,i,f){try{f()}catch(m){Vt(s,i,m)}}var tm=!1;function Uv(s,i){if(Za=fc,s=Et(),Ga(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var m=f.getSelection&&f.getSelection();if(m&&m.rangeCount!==0){f=m.anchorNode;var _=m.anchorOffset,S=m.focusNode;m=m.focusOffset;try{f.nodeType,S.nodeType}catch{f=null;break e}var M=0,W=-1,K=-1,ce=0,we=0,Se=s,ye=null;t:for(;;){for(var Re;Se!==f||_!==0&&Se.nodeType!==3||(W=M+_),Se!==S||m!==0&&Se.nodeType!==3||(K=M+m),Se.nodeType===3&&(M+=Se.nodeValue.length),(Re=Se.firstChild)!==null;)ye=Se,Se=Re;for(;;){if(Se===s)break t;if(ye===f&&++ce===_&&(W=M),ye===S&&++we===m&&(K=M),(Re=Se.nextSibling)!==null)break;Se=ye,ye=Se.parentNode}Se=Re}f=W===-1||K===-1?null:{start:W,end:K}}else f=null}f=f||{start:0,end:0}}else f=null;for(qo={focusedElem:s,selectionRange:f},fc=!1,Te=i;Te!==null;)if(i=Te,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Te=s;else for(;Te!==null;){i=Te;try{var Oe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Oe!==null){var Ae=Oe.memoizedProps,Jt=Oe.memoizedState,se=i.stateNode,Q=se.getSnapshotBeforeUpdate(i.elementType===i.type?Ae:br(i.type,Ae),Jt);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var oe=i.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ke){Vt(i,i.return,ke)}if(s=i.sibling,s!==null){s.return=i.return,Te=s;break}Te=i.return}return Oe=tm,tm=!1,Oe}function Ms(s,i,f){var m=i.updateQueue;if(m=m!==null?m.lastEffect:null,m!==null){var _=m=m.next;do{if((_.tag&s)===s){var S=_.destroy;_.destroy=void 0,S!==void 0&&wl(i,f,S)}_=_.next}while(_!==m)}}function _l(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&s)===s){var m=f.create;f.destroy=m()}f=f.next}while(f!==i)}}function au(s){var i=s.ref;if(i!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof i=="function"?i(s):i.current=s}}function nm(s){var i=s.alternate;i!==null&&(s.alternate=null,nm(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[es],delete i[ro],delete i[Oc],delete i[I],delete i[Ki])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function rm(s){return s.tag===5||s.tag===3||s.tag===4}function sm(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||rm(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Cf(s,i,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(s,i):f.insertBefore(s,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(s,f)):(i=f,i.appendChild(s)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=Rc));else if(m!==4&&(s=s.child,s!==null))for(Cf(s,i,f),s=s.sibling;s!==null;)Cf(s,i,f),s=s.sibling}function lu(s,i,f){var m=s.tag;if(m===5||m===6)s=s.stateNode,i?f.insertBefore(s,i):f.appendChild(s);else if(m!==4&&(s=s.child,s!==null))for(lu(s,i,f),s=s.sibling;s!==null;)lu(s,i,f),s=s.sibling}var hn=null,Lr=!1;function fs(s,i,f){for(f=f.child;f!==null;)Ef(s,i,f),f=f.sibling}function Ef(s,i,f){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(ic,f)}catch{}switch(f.tag){case 5:Ut||ca(f,i);case 6:var m=hn,_=Lr;hn=null,fs(s,i,f),hn=m,Lr=_,hn!==null&&(Lr?(s=hn,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):hn.removeChild(f.stateNode));break;case 18:hn!==null&&(Lr?(s=hn,f=f.stateNode,s.nodeType===8?Yd(s.parentNode,f):s.nodeType===1&&Yd(s,f),jt(s)):Yd(hn,f.stateNode));break;case 4:m=hn,_=Lr,hn=f.stateNode.containerInfo,Lr=!0,fs(s,i,f),hn=m,Lr=_;break;case 0:case 11:case 14:case 15:if(!Ut&&(m=f.updateQueue,m!==null&&(m=m.lastEffect,m!==null))){_=m=m.next;do{var S=_,M=S.destroy;S=S.tag,M!==void 0&&((S&2)!==0||(S&4)!==0)&&wl(f,i,M),_=_.next}while(_!==m)}fs(s,i,f);break;case 1:if(!Ut&&(ca(f,i),m=f.stateNode,typeof m.componentWillUnmount=="function"))try{m.props=f.memoizedProps,m.state=f.memoizedState,m.componentWillUnmount()}catch(W){Vt(f,i,W)}fs(s,i,f);break;case 21:fs(s,i,f);break;case 22:f.mode&1?(Ut=(m=Ut)||f.memoizedState!==null,fs(s,i,f),Ut=m):fs(s,i,f);break;default:fs(s,i,f)}}function ua(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new zn),i.forEach(function(m){var _=Kv.bind(null,s,m);f.has(m)||(f.add(m),m.then(_,_))})}}function ir(s,i){var f=i.deletions;if(f!==null)for(var m=0;m<f.length;m++){var _=f[m];try{var S=s,M=i,W=M;e:for(;W!==null;){switch(W.tag){case 5:hn=W.stateNode,Lr=!1;break e;case 3:hn=W.stateNode.containerInfo,Lr=!0;break e;case 4:hn=W.stateNode.containerInfo,Lr=!0;break e}W=W.return}if(hn===null)throw Error(t(160));Ef(S,M,_),hn=null,Lr=!1;var K=_.alternate;K!==null&&(K.return=null),_.return=null}catch(ce){Vt(_,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Pf(i,s),i=i.sibling}function Pf(s,i){var f=s.alternate,m=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(ir(i,s),$r(s),m&4){try{Ms(3,s,s.return),_l(3,s)}catch(Ae){Vt(s,s.return,Ae)}try{Ms(5,s,s.return)}catch(Ae){Vt(s,s.return,Ae)}}break;case 1:ir(i,s),$r(s),m&512&&f!==null&&ca(f,f.return);break;case 5:if(ir(i,s),$r(s),m&512&&f!==null&&ca(f,f.return),s.flags&32){var _=s.stateNode;try{Io(_,"")}catch(Ae){Vt(s,s.return,Ae)}}if(m&4&&(_=s.stateNode,_!=null)){var S=s.memoizedProps,M=f!==null?f.memoizedProps:S,W=s.type,K=s.updateQueue;if(s.updateQueue=null,K!==null)try{W==="input"&&S.type==="radio"&&S.name!=null&&er(_,S),Ma(W,M);var ce=Ma(W,S);for(M=0;M<K.length;M+=2){var we=K[M],Se=K[M+1];we==="style"?nc(_,Se):we==="dangerouslySetInnerHTML"?ec(_,Se):we==="children"?Io(_,Se):T(_,we,Se,ce)}switch(W){case"input":Kt(_,S);break;case"textarea":Bh(_,S);break;case"select":var ye=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!S.multiple;var Re=S.value;Re!=null?Gt(_,!!S.multiple,Re,!1):ye!==!!S.multiple&&(S.defaultValue!=null?Gt(_,!!S.multiple,S.defaultValue,!0):Gt(_,!!S.multiple,S.multiple?[]:"",!1))}_[ro]=S}catch(Ae){Vt(s,s.return,Ae)}}break;case 6:if(ir(i,s),$r(s),m&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,S=s.memoizedProps;try{_.nodeValue=S}catch(Ae){Vt(s,s.return,Ae)}}break;case 3:if(ir(i,s),$r(s),m&4&&f!==null&&f.memoizedState.isDehydrated)try{jt(i.containerInfo)}catch(Ae){Vt(s,s.return,Ae)}break;case 4:ir(i,s),$r(s);break;case 13:ir(i,s),$r(s),_=s.child,_.flags&8192&&(S=_.memoizedState!==null,_.stateNode.isHidden=S,!S||_.alternate!==null&&_.alternate.memoizedState!==null||(Of=$t())),m&4&&ua(s);break;case 22:if(we=f!==null&&f.memoizedState!==null,s.mode&1?(Ut=(ce=Ut)||we,ir(i,s),Ut=ce):ir(i,s),$r(s),m&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!we&&(s.mode&1)!==0)for(Te=s,we=s.child;we!==null;){for(Se=Te=we;Te!==null;){switch(ye=Te,Re=ye.child,ye.tag){case 0:case 11:case 14:case 15:Ms(4,ye,ye.return);break;case 1:ca(ye,ye.return);var Oe=ye.stateNode;if(typeof Oe.componentWillUnmount=="function"){m=ye,f=ye.return;try{i=m,Oe.props=i.memoizedProps,Oe.state=i.memoizedState,Oe.componentWillUnmount()}catch(Ae){Vt(m,f,Ae)}}break;case 5:ca(ye,ye.return);break;case 22:if(ye.memoizedState!==null){fo(Se);continue}}Re!==null?(Re.return=ye,Te=Re):fo(Se)}we=we.sibling}e:for(we=null,Se=s;;){if(Se.tag===5){if(we===null){we=Se;try{_=Se.stateNode,ce?(S=_.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none"):(W=Se.stateNode,K=Se.memoizedProps.style,M=K!=null&&K.hasOwnProperty("display")?K.display:null,W.style.display=tc("display",M))}catch(Ae){Vt(s,s.return,Ae)}}}else if(Se.tag===6){if(we===null)try{Se.stateNode.nodeValue=ce?"":Se.memoizedProps}catch(Ae){Vt(s,s.return,Ae)}}else if((Se.tag!==22&&Se.tag!==23||Se.memoizedState===null||Se===s)&&Se.child!==null){Se.child.return=Se,Se=Se.child;continue}if(Se===s)break e;for(;Se.sibling===null;){if(Se.return===null||Se.return===s)break e;we===Se&&(we=null),Se=Se.return}we===Se&&(we=null),Se.sibling.return=Se.return,Se=Se.sibling}}break;case 19:ir(i,s),$r(s),m&4&&ua(s);break;case 21:break;default:ir(i,s),$r(s)}}function $r(s){var i=s.flags;if(i&2){try{e:{for(var f=s.return;f!==null;){if(rm(f)){var m=f;break e}f=f.return}throw Error(t(160))}switch(m.tag){case 5:var _=m.stateNode;m.flags&32&&(Io(_,""),m.flags&=-33);var S=sm(s);lu(s,S,_);break;case 3:case 4:var M=m.stateNode.containerInfo,W=sm(s);Cf(s,W,M);break;default:throw Error(t(161))}}catch(K){Vt(s,s.return,K)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function cu(s,i,f){Te=s,Rf(s)}function Rf(s,i,f){for(var m=(s.mode&1)!==0;Te!==null;){var _=Te,S=_.child;if(_.tag===22&&m){var M=_.memoizedState!==null||iu;if(!M){var W=_.alternate,K=W!==null&&W.memoizedState!==null||Ut;W=iu;var ce=Ut;if(iu=M,(Ut=K)&&!ce)for(Te=_;Te!==null;)M=Te,K=M.child,M.tag===22&&M.memoizedState!==null?om(_):K!==null?(K.return=M,Te=K):om(_);for(;S!==null;)Te=S,Rf(S),S=S.sibling;Te=_,iu=W,Ut=ce}Fr(s)}else(_.subtreeFlags&8772)!==0&&S!==null?(S.return=_,Te=S):Fr(s)}}function Fr(s){for(;Te!==null;){var i=Te;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Ut||_l(5,i);break;case 1:var m=i.stateNode;if(i.flags&4&&!Ut)if(f===null)m.componentDidMount();else{var _=i.elementType===i.type?f.memoizedProps:br(i.type,f.memoizedProps);m.componentDidUpdate(_,f.memoizedState,m.__reactInternalSnapshotBeforeUpdate)}var S=i.updateQueue;S!==null&&tf(i,S,m);break;case 3:var M=i.updateQueue;if(M!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}tf(i,M,f)}break;case 5:var W=i.stateNode;if(f===null&&i.flags&4){f=W;var K=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&f.focus();break;case"img":K.src&&(f.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var Se=we.dehydrated;Se!==null&&jt(Se)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||i.flags&512&&au(i)}catch(ye){Vt(i,i.return,ye)}}if(i===s){Te=null;break}if(f=i.sibling,f!==null){f.return=i.return,Te=f;break}Te=i.return}}function fo(s){for(;Te!==null;){var i=Te;if(i===s){Te=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Te=f;break}Te=i.return}}function om(s){for(;Te!==null;){var i=Te;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{_l(4,i)}catch(K){Vt(i,f,K)}break;case 1:var m=i.stateNode;if(typeof m.componentDidMount=="function"){var _=i.return;try{m.componentDidMount()}catch(K){Vt(i,_,K)}}var S=i.return;try{au(i)}catch(K){Vt(i,S,K)}break;case 5:var M=i.return;try{au(i)}catch(K){Vt(i,M,K)}}}catch(K){Vt(i,i.return,K)}if(i===s){Te=null;break}var W=i.sibling;if(W!==null){W.return=i.return,Te=W;break}Te=i.return}}var im=Math.ceil,uu=A.ReactCurrentDispatcher,Tf=A.ReactCurrentOwner,Sr=A.ReactCurrentBatchConfig,wt=0,pn=null,nn=null,_n=0,ar=0,da=Vn(0),ln=0,bl=null,ho=0,Sl=0,du=0,Nl=null,Jn=null,Of=0,oi=1/0,As=null,fu=!1,Mf=null,po=null,hu=!1,mo=null,Un=0,kl=0,Af=null,pu=-1,jl=0;function Bn(){return(wt&6)!==0?$t():pu!==-1?pu:pu=$t()}function go(s){return(s.mode&1)===0?1:(wt&2)!==0&&_n!==0?_n&-_n:Fp.transition!==null?(jl===0&&(jl=Cd()),jl):(s=kt,s!==0||(s=window.event,s=s===void 0?16:dp(s.type)),s)}function zr(s,i,f,m){if(50<kl)throw kl=0,Af=null,Error(t(185));za(s,f,m),((wt&2)===0||s!==pn)&&(s===pn&&((wt&2)===0&&(Sl|=f),ln===4&&vo(s,_n)),Xn(s,m),f===1&&wt===0&&(i.mode&1)===0&&(oi=$t()+500,Ic&&oo()))}function Xn(s,i){var f=s.callbackNode;xv(s,i);var m=zo(s,s===pn?_n:0);if(m===0)f!==null&&Zh(f),s.callbackNode=null,s.callbackPriority=0;else if(i=m&-m,s.callbackPriority!==i){if(f!=null&&Zh(f),i===1)s.tag===0?Ko(am.bind(null,s)):Dp(am.bind(null,s)),Tc(function(){(wt&6)===0&&oo()}),f=null;else{switch(Uo(m)){case 1:f=kd;break;case 4:f=ep;break;case 16:f=$a;break;case 536870912:f=jd;break;default:f=$a}f=pm(f,mu.bind(null,s))}s.callbackPriority=i,s.callbackNode=f}}function mu(s,i){if(pu=-1,jl=0,(wt&6)!==0)throw Error(t(327));var f=s.callbackNode;if(fa()&&s.callbackNode!==f)return null;var m=zo(s,s===pn?_n:0);if(m===0)return null;if((m&30)!==0||(m&s.expiredLanes)!==0||i)i=gu(s,m);else{i=m;var _=wt;wt|=2;var S=cm();(pn!==s||_n!==i)&&(As=null,oi=$t()+500,ai(s,i));do try{Hv();break}catch(W){lm(s,W)}while(!0);js(),uu.current=S,wt=_,nn!==null?i=0:(pn=null,_n=0,i=ln)}if(i!==0){if(i===2&&(_=lc(s),_!==0&&(m=_,i=If(s,_))),i===1)throw f=bl,ai(s,0),vo(s,m),Xn(s,$t()),f;if(i===6)vo(s,m);else{if(_=s.current.alternate,(m&30)===0&&!Bv(_)&&(i=gu(s,m),i===2&&(S=lc(s),S!==0&&(m=S,i=If(s,S))),i===1))throw f=bl,ai(s,0),vo(s,m),Xn(s,$t()),f;switch(s.finishedWork=_,s.finishedLanes=m,i){case 0:case 1:throw Error(t(345));case 2:li(s,Jn,As);break;case 3:if(vo(s,m),(m&130023424)===m&&(i=Of+500-$t(),10<i)){if(zo(s,0)!==0)break;if(_=s.suspendedLanes,(_&m)!==m){Bn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=to(li.bind(null,s,Jn,As),i);break}li(s,Jn,As);break;case 4:if(vo(s,m),(m&4194240)===m)break;for(i=s.eventTimes,_=-1;0<m;){var M=31-Or(m);S=1<<M,M=i[M],M>_&&(_=M),m&=~S}if(m=_,m=$t()-m,m=(120>m?120:480>m?480:1080>m?1080:1920>m?1920:3e3>m?3e3:4320>m?4320:1960*im(m/1960))-m,10<m){s.timeoutHandle=to(li.bind(null,s,Jn,As),m);break}li(s,Jn,As);break;case 5:li(s,Jn,As);break;default:throw Error(t(329))}}}return Xn(s,$t()),s.callbackNode===f?mu.bind(null,s):null}function If(s,i){var f=Nl;return s.current.memoizedState.isDehydrated&&(ai(s,i).flags|=256),s=gu(s,i),s!==2&&(i=Jn,Jn=f,i!==null&&Df(i)),s}function Df(s){Jn===null?Jn=s:Jn.push.apply(Jn,s)}function Bv(s){for(var i=s;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var m=0;m<f.length;m++){var _=f[m],S=_.getSnapshot;_=_.value;try{if(!le(S(),_))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function vo(s,i){for(i&=~du,i&=~Sl,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var f=31-Or(i),m=1<<f;s[f]=-1,i&=~m}}function am(s){if((wt&6)!==0)throw Error(t(327));fa();var i=zo(s,0);if((i&1)===0)return Xn(s,$t()),null;var f=gu(s,i);if(s.tag!==0&&f===2){var m=lc(s);m!==0&&(i=m,f=If(s,m))}if(f===1)throw f=bl,ai(s,0),vo(s,i),Xn(s,$t()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,li(s,Jn,As),Xn(s,$t()),null}function Lf(s,i){var f=wt;wt|=1;try{return s(i)}finally{wt=f,wt===0&&(oi=$t()+500,Ic&&oo())}}function ii(s){mo!==null&&mo.tag===0&&(wt&6)===0&&fa();var i=wt;wt|=1;var f=Sr.transition,m=kt;try{if(Sr.transition=null,kt=1,s)return s()}finally{kt=m,Sr.transition=f,wt=i,(wt&6)===0&&oo()}}function $f(){ar=da.current,Dt(da)}function ai(s,i){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,tl(f)),nn!==null)for(f=nn.return;f!==null;){var m=f;switch(Xo(m),m.tag){case 1:m=m.type.childContextTypes,m!=null&&Ac();break;case 3:lo(),Dt(Gn),Dt(Cn),Vc();break;case 5:Hc(m);break;case 4:lo();break;case 13:Dt(zt);break;case 19:Dt(zt);break;case 10:zc(m.type._context);break;case 22:case 23:$f()}f=f.return}if(pn=s,nn=s=Ur(s.current,null),_n=ar=i,ln=0,bl=null,du=Sl=ho=0,Jn=Nl=null,Zo!==null){for(i=0;i<Zo.length;i++)if(f=Zo[i],m=f.interleaved,m!==null){f.interleaved=null;var _=m.next,S=f.pending;if(S!==null){var M=S.next;S.next=_,m.next=M}f.pending=m}Zo=null}return s}function lm(s,i){do{var f=nn;try{if(js(),ll.current=Xc,ta){for(var m=Ht.memoizedState;m!==null;){var _=m.queue;_!==null&&(_.pending=null),m=m.next}ta=!1}if(co=0,an=Yt=Ht=null,cl=!1,ti=0,Tf.current=null,f===null||f.return===null){ln=1,bl=i,nn=null;break}e:{var S=s,M=f.return,W=f,K=i;if(i=_n,W.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var ce=K,we=W,Se=we.tag;if((we.mode&1)===0&&(Se===0||Se===11||Se===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Re=Jp(M);if(Re!==null){Re.flags&=-257,xf(Re,M,W,S,i),Re.mode&1&&pl(S,ce,i),i=Re,K=ce;var Oe=i.updateQueue;if(Oe===null){var Ae=new Set;Ae.add(K),i.updateQueue=Ae}else Oe.add(K);break e}else{if((i&1)===0){pl(S,ce,i),Ff();break e}K=Error(t(426))}}else if(Lt&&W.mode&1){var Jt=Jp(M);if(Jt!==null){(Jt.flags&65536)===0&&(Jt.flags|=256),xf(Jt,M,W,S,i),is(si(K,W));break e}}S=K=si(K,W),ln!==4&&(ln=2),Nl===null?Nl=[S]:Nl.push(S),S=M;do{switch(S.tag){case 3:S.flags|=65536,i&=-i,S.lanes|=i;var se=hl(S,K,i);Bp(S,se);break e;case 1:W=K;var Q=S.type,oe=S.stateNode;if((S.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(po===null||!po.has(oe)))){S.flags|=65536,i&=-i,S.lanes|=i;var ke=nu(S,W,i);Bp(S,ke);break e}}S=S.return}while(S!==null)}dm(f)}catch(ze){i=ze,nn===f&&f!==null&&(nn=f=f.return);continue}break}while(!0)}function cm(){var s=uu.current;return uu.current=Xc,s===null?Xc:s}function Ff(){(ln===0||ln===3||ln===2)&&(ln=4),pn===null||(ho&268435455)===0&&(Sl&268435455)===0||vo(pn,_n)}function gu(s,i){var f=wt;wt|=2;var m=cm();(pn!==s||_n!==i)&&(As=null,ai(s,i));do try{Wv();break}catch(_){lm(s,_)}while(!0);if(js(),wt=f,uu.current=m,nn!==null)throw Error(t(261));return pn=null,_n=0,ln}function Wv(){for(;nn!==null;)um(nn)}function Hv(){for(;nn!==null&&!oc();)um(nn)}function um(s){var i=hm(s.alternate,s,ar);s.memoizedProps=s.pendingProps,i===null?dm(s):nn=i,Tf.current=null}function dm(s){var i=s;do{var f=i.alternate;if(s=i.return,(i.flags&32768)===0){if(f=Fv(f,i,ar),f!==null){nn=f;return}}else{if(f=zv(f,i),f!==null){f.flags&=32767,nn=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{ln=6,nn=null;return}}if(i=i.sibling,i!==null){nn=i;return}nn=i=s}while(i!==null);ln===0&&(ln=5)}function li(s,i,f){var m=kt,_=Sr.transition;try{Sr.transition=null,kt=1,Vv(s,i,f,m)}finally{Sr.transition=_,kt=m}return null}function Vv(s,i,f,m){do fa();while(mo!==null);if((wt&6)!==0)throw Error(t(327));f=s.finishedWork;var _=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var S=f.lanes|f.childLanes;if(ip(s,S),s===pn&&(nn=pn=null,_n=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||hu||(hu=!0,pm($a,function(){return fa(),null})),S=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||S){S=Sr.transition,Sr.transition=null;var M=kt;kt=1;var W=wt;wt|=4,Tf.current=null,Uv(s,f),Pf(f,s),Iv(qo),fc=!!Za,qo=Za=null,s.current=f,cu(f),mv(),wt=W,kt=M,Sr.transition=S}else s.current=f;if(hu&&(hu=!1,mo=s,Un=_),S=s.pendingLanes,S===0&&(po=null),vv(f.stateNode),Xn(s,$t()),i!==null)for(m=s.onRecoverableError,f=0;f<i.length;f++)_=i[f],m(_.value,{componentStack:_.stack,digest:_.digest});if(fu)throw fu=!1,s=Mf,Mf=null,s;return(Un&1)!==0&&s.tag!==0&&fa(),S=s.pendingLanes,(S&1)!==0?s===Af?kl++:(kl=0,Af=s):kl=0,oo(),null}function fa(){if(mo!==null){var s=Uo(Un),i=Sr.transition,f=kt;try{if(Sr.transition=null,kt=16>s?16:s,mo===null)var m=!1;else{if(s=mo,mo=null,Un=0,(wt&6)!==0)throw Error(t(331));var _=wt;for(wt|=4,Te=s.current;Te!==null;){var S=Te,M=S.child;if((Te.flags&16)!==0){var W=S.deletions;if(W!==null){for(var K=0;K<W.length;K++){var ce=W[K];for(Te=ce;Te!==null;){var we=Te;switch(we.tag){case 0:case 11:case 15:Ms(8,we,S)}var Se=we.child;if(Se!==null)Se.return=we,Te=Se;else for(;Te!==null;){we=Te;var ye=we.sibling,Re=we.return;if(nm(we),we===ce){Te=null;break}if(ye!==null){ye.return=Re,Te=ye;break}Te=Re}}}var Oe=S.alternate;if(Oe!==null){var Ae=Oe.child;if(Ae!==null){Oe.child=null;do{var Jt=Ae.sibling;Ae.sibling=null,Ae=Jt}while(Ae!==null)}}Te=S}}if((S.subtreeFlags&2064)!==0&&M!==null)M.return=S,Te=M;else e:for(;Te!==null;){if(S=Te,(S.flags&2048)!==0)switch(S.tag){case 0:case 11:case 15:Ms(9,S,S.return)}var se=S.sibling;if(se!==null){se.return=S.return,Te=se;break e}Te=S.return}}var Q=s.current;for(Te=Q;Te!==null;){M=Te;var oe=M.child;if((M.subtreeFlags&2064)!==0&&oe!==null)oe.return=M,Te=oe;else e:for(M=Q;Te!==null;){if(W=Te,(W.flags&2048)!==0)try{switch(W.tag){case 0:case 11:case 15:_l(9,W)}}catch(ze){Vt(W,W.return,ze)}if(W===M){Te=null;break e}var ke=W.sibling;if(ke!==null){ke.return=W.return,Te=ke;break e}Te=W.return}}if(wt=_,oo(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(ic,s)}catch{}m=!0}return m}finally{kt=f,Sr.transition=i}}return!1}function vu(s,i,f){i=si(f,i),i=hl(s,i,1),s=wr(s,i,1),i=Bn(),s!==null&&(za(s,1,i),Xn(s,i))}function Vt(s,i,f){if(s.tag===3)vu(s,s,f);else for(;i!==null;){if(i.tag===3){vu(i,s,f);break}else if(i.tag===1){var m=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof m.componentDidCatch=="function"&&(po===null||!po.has(m))){s=si(f,s),s=nu(i,s,1),i=wr(i,s,1),s=Bn(),i!==null&&(za(i,1,s),Xn(i,s));break}}i=i.return}}function Gv(s,i,f){var m=s.pingCache;m!==null&&m.delete(i),i=Bn(),s.pingedLanes|=s.suspendedLanes&f,pn===s&&(_n&f)===f&&(ln===4||ln===3&&(_n&130023424)===_n&&500>$t()-Of?ai(s,0):du|=f),Xn(s,i)}function fm(s,i){i===0&&((s.mode&1)===0?i=1:(i=ac,ac<<=1,(ac&130023424)===0&&(ac=4194304)));var f=Bn();s=Cs(s,i),s!==null&&(za(s,i,f),Xn(s,f))}function qv(s){var i=s.memoizedState,f=0;i!==null&&(f=i.retryLane),fm(s,f)}function Kv(s,i){var f=0;switch(s.tag){case 13:var m=s.stateNode,_=s.memoizedState;_!==null&&(f=_.retryLane);break;case 19:m=s.stateNode;break;default:throw Error(t(314))}m!==null&&m.delete(i),fm(s,f)}var hm;hm=function(s,i,f){if(s!==null)if(s.memoizedProps!==i.pendingProps||Gn.current)Fn=!0;else{if((s.lanes&f)===0&&(i.flags&128)===0)return Fn=!1,Zp(s,i,f);Fn=(s.flags&131072)!==0}else Fn=!1,Lt&&(i.flags&1048576)!==0&&Lp(i,Lc,i.index);switch(i.lanes=0,i.tag){case 2:var m=i.type;ou(s,i),s=i.pendingProps;var _=Ji(i,Cn.current);ao(i,f),_=ni(null,i,m,s,_,f);var S=Gc();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,qn(m)?(S=!0,mr(i)):S=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,Bc(i),_.updater=eu,i.stateNode=_,_._reactInternals=i,vf(i,m,s,f),i=Nf(null,i,m,!0,S,f)):(i.tag=0,Lt&&S&&nl(i),xn(null,i,_,f),i=i.child),i;case 16:m=i.elementType;e:{switch(ou(s,i),s=i.pendingProps,_=m._init,m=_(m._payload),i.type=m,_=i.tag=Jv(m),s=br(m,s),_){case 0:i=bf(null,i,m,s,f);break e;case 1:i=Sf(null,i,m,s,f);break e;case 11:i=Xp(null,i,m,s,f);break e;case 14:i=yf(null,i,m,br(m.type,s),f);break e}throw Error(t(306,m,""))}return i;case 0:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:br(m,_),bf(s,i,m,_,f);case 1:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:br(m,_),Sf(s,i,m,_,f);case 3:e:{if(Qp(i),s===null)throw Error(t(387));m=i.pendingProps,S=i.memoizedState,_=S.element,Up(s,i),Zi(i,m,null,f);var M=i.memoizedState;if(m=M.element,S.isDehydrated)if(S={element:m,isDehydrated:!1,cache:M.cache,pendingSuspenseBoundaries:M.pendingSuspenseBoundaries,transitions:M.transitions},i.updateQueue.baseState=S,i.memoizedState=S,i.flags&256){_=si(Error(t(423)),i),i=ds(s,i,m,f,_);break e}else if(m!==_){_=si(Error(t(424)),i),i=ds(s,i,m,f,_);break e}else for(sr=no(i.stateNode.containerInfo.firstChild),Pn=i,Lt=!0,Ar=null,f=Fc(i,null,m,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(os(),m===_){i=Dr(s,i,f);break e}xn(s,i,m,f)}i=i.child}return i;case 5:return rf(i),s===null&&Kn(i),m=i.type,_=i.pendingProps,S=s!==null?s.memoizedProps:null,M=_.children,el(m,_)?M=null:S!==null&&el(m,S)&&(i.flags|=32),_f(s,i),xn(s,i,M,f),i.child;case 6:return s===null&&Kn(i),null;case 13:return su(s,i,f);case 4:return nf(i,i.stateNode.containerInfo),m=i.pendingProps,s===null?i.child=qt(i,null,m,f):xn(s,i,m,f),i.child;case 11:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:br(m,_),Xp(s,i,m,_,f);case 7:return xn(s,i,i.pendingProps,f),i.child;case 8:return xn(s,i,i.pendingProps.children,f),i.child;case 12:return xn(s,i,i.pendingProps.children,f),i.child;case 10:e:{if(m=i.type._context,_=i.pendingProps,S=i.memoizedProps,M=_.value,At(ol,m._currentValue),m._currentValue=M,S!==null)if(le(S.value,M)){if(S.children===_.children&&!Gn.current){i=Dr(s,i,f);break e}}else for(S=i.child,S!==null&&(S.return=i);S!==null;){var W=S.dependencies;if(W!==null){M=S.child;for(var K=W.firstContext;K!==null;){if(K.context===m){if(S.tag===1){K=Es(-1,f&-f),K.tag=2;var ce=S.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?K.next=K:(K.next=we.next,we.next=K),ce.pending=K}}S.lanes|=f,K=S.alternate,K!==null&&(K.lanes|=f),vn(S.return,f,i),W.lanes|=f;break}K=K.next}}else if(S.tag===10)M=S.type===i.type?null:S.child;else if(S.tag===18){if(M=S.return,M===null)throw Error(t(341));M.lanes|=f,W=M.alternate,W!==null&&(W.lanes|=f),vn(M,f,i),M=S.sibling}else M=S.child;if(M!==null)M.return=S;else for(M=S;M!==null;){if(M===i){M=null;break}if(S=M.sibling,S!==null){S.return=M.return,M=S;break}M=M.return}S=M}xn(s,i,_.children,f),i=i.child}return i;case 9:return _=i.type,m=i.pendingProps.children,ao(i,f),_=xr(_),m=m(_),i.flags|=1,xn(s,i,m,f),i.child;case 14:return m=i.type,_=br(m,i.pendingProps),_=br(m.type,_),yf(s,i,m,_,f);case 15:return us(s,i,i.type,i.pendingProps,f);case 17:return m=i.type,_=i.pendingProps,_=i.elementType===m?_:br(m,_),ou(s,i),i.tag=1,qn(m)?(s=!0,mr(i)):s=!1,ao(i,f),ri(i,m,_),vf(i,m,_,f),Nf(null,i,m,!0,s,f);case 19:return uo(s,i,f);case 22:return wf(s,i,f)}throw Error(t(156,i.tag))};function pm(s,i){return Qh(s,i)}function Yv(s,i,f,m){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=m,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(s,i,f,m){return new Yv(s,i,f,m)}function xu(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Jv(s){if(typeof s=="function")return xu(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ae)return 11;if(s===je)return 14}return 2}function Ur(s,i){var f=s.alternate;return f===null?(f=Nr(s.tag,i,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=i,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,i=s.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function yu(s,i,f,m,_,S){var M=2;if(m=s,typeof s=="function")xu(s)&&(M=1);else if(typeof s=="string")M=5;else e:switch(s){case F:return ci(f.children,_,S,i);case $:M=8,_|=8;break;case G:return s=Nr(12,f,i,_|2),s.elementType=G,s.lanes=S,s;case pe:return s=Nr(13,f,i,_),s.elementType=pe,s.lanes=S,s;case me:return s=Nr(19,f,i,_),s.elementType=me,s.lanes=S,s;case be:return wu(f,_,S,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:M=10;break e;case ne:M=9;break e;case ae:M=11;break e;case je:M=14;break e;case ge:M=16,m=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Nr(M,f,i,_),i.elementType=s,i.type=m,i.lanes=S,i}function ci(s,i,f,m){return s=Nr(7,s,m,i),s.lanes=f,s}function wu(s,i,f,m){return s=Nr(22,s,m,i),s.elementType=be,s.lanes=f,s.stateNode={isHidden:!1},s}function zf(s,i,f){return s=Nr(6,s,null,i),s.lanes=f,s}function Uf(s,i,f){return i=Nr(4,s.children!==null?s.children:[],s.key,i),i.lanes=f,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function Xv(s,i,f,m,_){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Fa(0),this.expirationTimes=Fa(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fa(0),this.identifierPrefix=m,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function Bf(s,i,f,m,_,S,M,W,K){return s=new Xv(s,i,f,W,K),i===1?(i=1,S===!0&&(i|=8)):i=0,S=Nr(3,null,null,i),s.current=S,S.stateNode=s,S.memoizedState={element:m,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bc(S),s}function Qv(s,i,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:H,key:m==null?null:""+m,children:s,containerInfo:i,implementation:f}}function mm(s){if(!s)return so;s=s._reactInternals;e:{if(Fo(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(qn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(qn(f))return Ap(s,f,i)}return i}function gm(s,i,f,m,_,S,M,W,K){return s=Bf(f,m,!0,s,_,S,M,W,K),s.context=mm(null),f=s.current,m=Bn(),_=go(f),S=Es(m,_),S.callback=i??null,wr(f,S,_),s.current.lanes=_,za(s,_,m),Xn(s,m),s}function _u(s,i,f,m){var _=i.current,S=Bn(),M=go(_);return f=mm(f),i.context===null?i.context=f:i.pendingContext=f,i=Es(S,M),i.payload={element:s},m=m===void 0?null:m,m!==null&&(i.callback=m),s=wr(_,i,M),s!==null&&(zr(s,_,M,S),Wc(s,_,M)),M}function bu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function vm(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<i?f:i}}function Wf(s,i){vm(s,i),(s=s.alternate)&&vm(s,i)}function Zv(){return null}var xm=typeof reportError=="function"?reportError:function(s){console.error(s)};function Su(s){this._internalRoot=s}Cl.prototype.render=Su.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));_u(s,i,null,null)},Cl.prototype.unmount=Su.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;ii(function(){_u(null,s,null,null)}),i[rr]=null}};function Cl(s){this._internalRoot=s}Cl.prototype.unstable_scheduleHydration=function(s){if(s){var i=Pd();s={blockedOn:null,target:s,priority:i};for(var f=0;f<Js.length&&i!==0&&i<Js[f].priority;f++);Js.splice(f,0,s),f===0&&cp(s)}};function Hf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Nu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function ym(){}function ex(s,i,f,m,_){if(_){if(typeof m=="function"){var S=m;m=function(){var ce=bu(M);S.call(ce)}}var M=gm(i,m,s,0,null,!1,!1,"",ym);return s._reactRootContainer=M,s[rr]=M.current,eo(s.nodeType===8?s.parentNode:s),ii(),M}for(;_=s.lastChild;)s.removeChild(_);if(typeof m=="function"){var W=m;m=function(){var ce=bu(K);W.call(ce)}}var K=Bf(s,0,!1,null,null,!1,!1,"",ym);return s._reactRootContainer=K,s[rr]=K.current,eo(s.nodeType===8?s.parentNode:s),ii(function(){_u(i,K,f,m)}),K}function ui(s,i,f,m,_){var S=f._reactRootContainer;if(S){var M=S;if(typeof _=="function"){var W=_;_=function(){var K=bu(M);W.call(K)}}_u(i,M,s,_)}else M=ex(f,i,s,_,m);return bu(M)}Ed=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var f=Oi(i.pendingLanes);f!==0&&(Ua(i,f|1),Xn(i,$t()),(wt&6)===0&&(oi=$t()+500,oo()))}break;case 13:ii(function(){var m=Cs(s,1);if(m!==null){var _=Bn();zr(m,s,1,_)}}),Wf(s,1)}},cc=function(s){if(s.tag===13){var i=Cs(s,134217728);if(i!==null){var f=Bn();zr(i,s,134217728,f)}Wf(s,134217728)}},ap=function(s){if(s.tag===13){var i=go(s),f=Cs(s,i);if(f!==null){var m=Bn();zr(f,s,i,m)}Wf(s,i)}},Pd=function(){return kt},Rd=function(s,i){var f=kt;try{return kt=s,i()}finally{kt=f}},yd=function(s,i,f){switch(i){case"input":if(Kt(s,f),i=f.name,f.type==="radio"&&i!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var m=f[i];if(m!==s&&m.form===s.form){var _=Mc(m);if(!_)throw Error(t(90));Ie(m),Kt(m,_)}}}break;case"textarea":Bh(s,f);break;case"select":i=f.value,i!=null&&Gt(s,!!f.multiple,i,!1)}},qh=Lf,wd=ii;var tx={usingClientEntryPoint:!1,Events:[jn,st,Mc,Vh,Gh,Lf]},El={findFiberByHostInstance:ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nx={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:A.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Jh(s),s===null?null:s.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||Zv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ku.isDisabled&&ku.supportsFiber)try{ic=ku.inject(nx),Xr=ku}catch{}}return Er.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx,Er.createPortal=function(s,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hf(i))throw Error(t(200));return Qv(s,i,null,f)},Er.createRoot=function(s,i){if(!Hf(s))throw Error(t(299));var f=!1,m="",_=xm;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(m=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=Bf(s,1,!1,null,null,f,!1,m,_),s[rr]=i.current,eo(s.nodeType===8?s.parentNode:s),new Su(i)},Er.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Jh(i),s=s===null?null:s.stateNode,s},Er.flushSync=function(s){return ii(s)},Er.hydrate=function(s,i,f){if(!Nu(i))throw Error(t(200));return ui(null,s,i,!0,f)},Er.hydrateRoot=function(s,i,f){if(!Hf(s))throw Error(t(405));var m=f!=null&&f.hydratedSources||null,_=!1,S="",M=xm;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(S=f.identifierPrefix),f.onRecoverableError!==void 0&&(M=f.onRecoverableError)),i=gm(i,null,s,1,f??null,_,!1,S,M),s[rr]=i.current,eo(s),m)for(s=0;s<m.length;s++)f=m[s],_=f._getVersion,_=_(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,_]:i.mutableSourceEagerHydrationData.push(f,_);return new Cl(i)},Er.render=function(s,i,f){if(!Nu(i))throw Error(t(200));return ui(null,s,i,!1,f)},Er.unmountComponentAtNode=function(s){if(!Nu(s))throw Error(t(40));return s._reactRootContainer?(ii(function(){ui(null,null,s,!1,function(){s._reactRootContainer=null,s[rr]=null})}),!0):!1},Er.unstable_batchedUpdates=Lf,Er.unstable_renderSubtreeIntoContainer=function(s,i,f,m){if(!Nu(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return ui(s,i,f,!1,m)},Er.version="18.3.1-next-f1338f8080-20240426",Er}var _w;function I1(){if(_w)return vx.exports;_w=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),vx.exports=mP(),vx.exports}var bw;function gP(){if(bw)return Nm;bw=1;var n=I1();return Nm.createRoot=n.createRoot,Nm.hydrateRoot=n.hydrateRoot,Nm}var vP=gP();const xP=Ng(vP),rt=n=>typeof n=="string",qf=()=>{let n,e;const t=new Promise((r,o)=>{n=r,e=o});return t.resolve=n,t.reject=e,t},Sw=n=>n==null?"":""+n,yP=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},wP=/###/g,Nw=n=>n&&n.indexOf("###")>-1?n.replace(wP,"."):n,kw=n=>!n||rt(n),ih=(n,e,t)=>{const r=rt(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(kw(n))return{};const c=Nw(r[o]);!n[c]&&t&&(n[c]=new t),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return kw(n)?{}:{obj:n,k:Nw(r[o])}},jw=(n,e,t)=>{const{obj:r,k:o}=ih(n,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let c=e[e.length-1],d=e.slice(0,e.length-1),h=ih(n,d,Object);for(;h.obj===void 0&&d.length;)c=`${d[d.length-1]}.${c}`,d=d.slice(0,d.length-1),h=ih(n,d,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=t},_P=(n,e,t,r)=>{const{obj:o,k:c}=ih(n,e,Object);o[c]=o[c]||[],o[c].push(t)},tg=(n,e)=>{const{obj:t,k:r}=ih(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},bP=(n,e,t)=>{const r=tg(n,t);return r!==void 0?r:tg(e,t)},D1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?rt(n[r])||n[r]instanceof String||rt(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):D1(n[r],e[r],t):n[r]=e[r]);return n},Eu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var SP={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const NP=n=>rt(n)?n.replace(/[&<>"'\/]/g,e=>SP[e]):n;class kP{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const jP=[" ",",","?","!",";"],CP=new kP(20),EP=(n,e,t)=>{e=e||"",t=t||"";const r=jP.filter(d=>e.indexOf(d)<0&&t.indexOf(d)<0);if(r.length===0)return!0;const o=CP.getRegExp(`(${r.map(d=>d==="?"?"\\?":d).join("|")})`);let c=!o.test(n);if(!c){const d=n.indexOf(t);d>0&&!o.test(n.substring(0,d))&&(c=!0)}return c},e0=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let o=n;for(let c=0;c<r.length;){if(!o||typeof o!="object")return;let d,h="";for(let p=c;p<r.length;++p)if(p!==c&&(h+=t),h+=r[p],d=o[h],d!==void 0){if(["string","number","boolean"].indexOf(typeof d)>-1&&p<r.length-1)continue;c+=p-c+1;break}o=d}return o},mh=n=>n==null?void 0:n.replace("_","-"),PP={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class ng{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||PP,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(rt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new ng(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new ng(this.logger,e)}}var bo=new ng;class jg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,c])=>{for(let d=0;d<c;d++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,c])=>{for(let d=0;d<c;d++)o.apply(o,[e,...t])})}}class Cw extends jg{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,o={}){var g,x;const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,d=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],r&&(Array.isArray(r)?h.push(...r):rt(r)&&c?h.push(...r.split(c)):h.push(r)));const p=tg(this.data,h);return!p&&!t&&!r&&e.indexOf(".")>-1&&(e=h[0],t=h[1],r=h.slice(2).join(".")),p||!d||!rt(r)?p:e0((x=(g=this.data)==null?void 0:g[e])==null?void 0:x[t],r,c)}addResource(e,t,r,o,c={silent:!1}){const d=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[e,t];r&&(h=h.concat(d?r.split(d):r)),e.indexOf(".")>-1&&(h=e.split("."),o=t,t=h[1]),this.addNamespaces(t),jw(this.data,h,o),c.silent||this.emit("added",e,t,r,o)}addResources(e,t,r,o={silent:!1}){for(const c in r)(rt(r[c])||Array.isArray(r[c]))&&this.addResource(e,t,c,r[c],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,c,d={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),o=r,r=t,t=h[1]),this.addNamespaces(t);let p=tg(this.data,h)||{};d.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?D1(p,r,c):p={...p,...r},jw(this.data,h,p),d.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var L1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,o){return n.forEach(c=>{var d;e=((d=this.processors[c])==null?void 0:d.process(e,t,r,o))??e}),e}};const Ew={},Pw=n=>!rt(n)&&typeof n!="boolean"&&typeof n!="number";class rg extends jg{constructor(e,t={}){super(),yP(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=bo.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const o=this.resolve(e,r);return(o==null?void 0:o.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const d=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!EP(e,r,o);if(d&&!h){const p=e.match(this.interpolator.nestingRegexp);if(p&&p.length>0)return{key:e,namespaces:rt(c)?[c]:c};const g=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(g[0])>-1)&&(c=g.shift()),e=g.join(o)}return{key:e,namespaces:rt(c)?[c]:c}}translate(e,t,r){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o={...o}),o||(o={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const c=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,d=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:p}=this.extractFromKey(e[e.length-1],o),g=p[p.length-1];let x=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;x===void 0&&(x=":");const y=o.lng||this.language,b=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return b?c?{res:`${g}${x}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:`${g}${x}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(o)}:h;const C=this.resolve(e,o);let P=C==null?void 0:C.res;const E=(C==null?void 0:C.usedKey)||h,k=(C==null?void 0:C.exactUsedKey)||h,R=["[object Number]","[object Function]","[object RegExp]"],j=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,A=o.count!==void 0&&!rt(o.count),D=rg.hasDefaultValue(o),H=A?this.pluralResolver.getSuffix(y,o.count,o):"",F=o.ordinal&&A?this.pluralResolver.getSuffix(y,o.count,{ordinal:!1}):"",$=A&&!o.ordinal&&o.count===0,G=$&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${H}`]||o[`defaultValue${F}`]||o.defaultValue;let X=P;T&&!P&&D&&(X=G);const ne=Pw(X),ae=Object.prototype.toString.apply(X);if(T&&X&&ne&&R.indexOf(ae)<0&&!(rt(j)&&Array.isArray(X))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const pe=this.options.returnedObjectHandler?this.options.returnedObjectHandler(E,X,{...o,ns:p}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(C.res=pe,C.usedParams=this.getUsedParamsDetails(o),C):pe}if(d){const pe=Array.isArray(X),me=pe?[]:{},je=pe?k:E;for(const ge in X)if(Object.prototype.hasOwnProperty.call(X,ge)){const be=`${je}${d}${ge}`;D&&!P?me[ge]=this.translate(be,{...o,defaultValue:Pw(G)?G[ge]:void 0,joinArrays:!1,ns:p}):me[ge]=this.translate(be,{...o,joinArrays:!1,ns:p}),me[ge]===be&&(me[ge]=X[ge])}P=me}}else if(T&&rt(j)&&Array.isArray(P))P=P.join(j),P&&(P=this.extendTranslation(P,e,o,r));else{let pe=!1,me=!1;!this.isValidLookup(P)&&D&&(pe=!0,P=G),this.isValidLookup(P)||(me=!0,P=h);const ge=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&me?void 0:P,be=D&&G!==P&&this.options.updateMissing;if(me||pe||be){if(this.logger.log(be?"updateKey":"missingKey",y,g,h,be?G:P),d){const z=this.resolve(h,{...o,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let B=[];const Y=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&Y&&Y[0])for(let z=0;z<Y.length;z++)B.push(Y[z]);else this.options.saveMissingTo==="all"?B=this.languageUtils.toResolveHierarchy(o.lng||this.language):B.push(o.lng||this.language);const re=(z,U,q)=>{var ue;const ie=D&&q!==P?q:ge;this.options.missingKeyHandler?this.options.missingKeyHandler(z,g,U,ie,be,o):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(z,g,U,ie,be,o),this.emit("missingKey",z,g,U,P)};this.options.saveMissing&&(this.options.saveMissingPlurals&&A?B.forEach(z=>{const U=this.pluralResolver.getSuffixes(z,o);$&&o[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(q=>{re([z],h+q,o[`defaultValue${q}`]||G)})}):re(B,h,G))}P=this.extendTranslation(P,e,o,C,r),me&&P===h&&this.options.appendNamespaceToMissingKey&&(P=`${g}${x}${h}`),(me||pe)&&this.options.parseMissingKeyHandler&&(P=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${x}${h}`:h,pe?P:void 0,o))}return c?(C.res=P,C.usedParams=this.getUsedParamsDetails(o),C):P}extendTranslation(e,t,r,o,c){var p,g;if((p=this.i18nFormat)!=null&&p.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const x=rt(e)&&(((g=r==null?void 0:r.interpolation)==null?void 0:g.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(x){const C=e.match(this.interpolator.nestingRegexp);y=C&&C.length}let b=r.replace&&!rt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||o.usedLng,r),x){const C=e.match(this.interpolator.nestingRegexp),P=C&&C.length;y<P&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...C)=>(c==null?void 0:c[0])===C[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${C[0]} in key: ${t[0]}`),null):this.translate(...C,t),r)),r.interpolation&&this.interpolator.reset()}const d=r.postProcess||this.options.postProcess,h=rt(d)?[d]:d;return e!=null&&(h!=null&&h.length)&&r.applyPostProcessor!==!1&&(e=L1.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,o,c,d,h;return rt(e)&&(e=[e]),e.forEach(p=>{if(this.isValidLookup(r))return;const g=this.extractFromKey(p,t),x=g.key;o=x;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!rt(t.count),C=b&&!t.ordinal&&t.count===0,P=t.context!==void 0&&(rt(t.context)||typeof t.context=="number")&&t.context!=="",E=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(k=>{var R,j;this.isValidLookup(r)||(h=k,!Ew[`${E[0]}-${k}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((j=this.utils)!=null&&j.hasLoadedNamespace(h))&&(Ew[`${E[0]}-${k}`]=!0,this.logger.warn(`key "${o}" for languages "${E.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),E.forEach(T=>{var H;if(this.isValidLookup(r))return;d=T;const A=[x];if((H=this.i18nFormat)!=null&&H.addLookupKeys)this.i18nFormat.addLookupKeys(A,x,T,k,t);else{let F;b&&(F=this.pluralResolver.getSuffix(T,t.count,t));const $=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(A.push(x+F),t.ordinal&&F.indexOf(G)===0&&A.push(x+F.replace(G,this.options.pluralSeparator)),C&&A.push(x+$)),P){const X=`${x}${this.options.contextSeparator}${t.context}`;A.push(X),b&&(A.push(X+F),t.ordinal&&F.indexOf(G)===0&&A.push(X+F.replace(G,this.options.pluralSeparator)),C&&A.push(X+$))}}let D;for(;D=A.pop();)this.isValidLookup(r)||(c=D,r=this.getResource(T,k,D,t))}))})}),{res:r,usedKey:o,exactUsedKey:c,usedLng:d,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,o={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!rt(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const c of t)delete o[c]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Rw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=bo.create("languageUtils")}getScriptPartFromCode(e){if(e=mh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=mh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(rt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return t=o;const c=this.getLanguagePartFromCode(r);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(d=>{if(d===c)return d;if(!(d.indexOf("-")<0&&c.indexOf("-")<0)&&(d.indexOf("-")>0&&c.indexOf("-")<0&&d.substring(0,d.indexOf("-"))===c||d.indexOf(c)===0&&c.length>1))return d})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),rt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],c=d=>{d&&(this.isSupportedCode(d)?o.push(d):this.logger.warn(`rejecting language code not found in supportedLngs: ${d}`))};return rt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):rt(e)&&c(this.formatLanguageCode(e)),r.forEach(d=>{o.indexOf(d)<0&&c(this.formatLanguageCode(d))}),o}}const Tw={zero:0,one:1,two:2,few:3,many:4,other:5},Ow={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class RP{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=bo.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=mh(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:r,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let d;try{d=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ow;if(!e.match(/-|_/))return Ow;const p=this.languageUtils.getLanguagePartFromCode(e);d=this.getRule(p,t)}return this.pluralRulesCache[c]=d,d}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,c)=>Tw[o]-Tw[c]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,r={}){const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Mw=(n,e,t,r=".",o=!0)=>{let c=bP(n,e,t);return!c&&o&&rt(t)&&(c=e0(n,t,r),c===void 0&&(c=e0(e,t,r))),c},wx=n=>n.replace(/\$/g,"$$$$");class TP{constructor(e={}){var t;this.logger=bo.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:c,prefixEscaped:d,suffix:h,suffixEscaped:p,formatSeparator:g,unescapeSuffix:x,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:C,nestingSuffix:P,nestingSuffixEscaped:E,nestingOptionsSeparator:k,maxReplaces:R,alwaysFormat:j}=e.interpolation;this.escape=t!==void 0?t:NP,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?Eu(c):d||"{{",this.suffix=h?Eu(h):p||"}}",this.formatSeparator=g||",",this.unescapePrefix=x?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":x||"",this.nestingPrefix=b?Eu(b):C||Eu("$t("),this.nestingSuffix=P?Eu(P):E||Eu(")"),this.nestingOptionsSeparator=k||",",this.maxReplaces=R||1e3,this.alwaysFormat=j!==void 0?j:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,o){var C;let c,d,h;const p=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=P=>{if(P.indexOf(this.formatSeparator)<0){const j=Mw(t,p,P,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(j,void 0,r,{...o,...t,interpolationkey:P}):j}const E=P.split(this.formatSeparator),k=E.shift().trim(),R=E.join(this.formatSeparator).trim();return this.format(Mw(t,p,k,this.options.keySeparator,this.options.ignoreJSONStructure),R,r,{...o,...t,interpolationkey:k})};this.resetRegExp();const x=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((C=o==null?void 0:o.interpolation)==null?void 0:C.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:P=>wx(P)},{regex:this.regexp,safeValue:P=>this.escapeValue?wx(this.escape(P)):wx(P)}].forEach(P=>{for(h=0;c=P.regex.exec(e);){const E=c[1].trim();if(d=g(E),d===void 0)if(typeof x=="function"){const R=x(e,c,o);d=rt(R)?R:""}else if(o&&Object.prototype.hasOwnProperty.call(o,E))d="";else if(y){d=c[0];continue}else this.logger.warn(`missed to pass in variable ${E} for interpolating ${e}`),d="";else!rt(d)&&!this.useRawValueToEscape&&(d=Sw(d));const k=P.safeValue(d);if(e=e.replace(c[0],k),y?(P.regex.lastIndex+=d.length,P.regex.lastIndex-=c[0].length):P.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,r={}){let o,c,d;const h=(p,g)=>{const x=this.nestingOptionsSeparator;if(p.indexOf(x)<0)return p;const y=p.split(new RegExp(`${x}[ ]*{`));let b=`{${y[1]}`;p=y[0],b=this.interpolate(b,d);const C=b.match(/'/g),P=b.match(/"/g);(((C==null?void 0:C.length)??0)%2===0&&!P||P.length%2!==0)&&(b=b.replace(/'/g,'"'));try{d=JSON.parse(b),g&&(d={...g,...d})}catch(E){return this.logger.warn(`failed parsing options string in nesting for key ${p}`,E),`${p}${x}${b}`}return d.defaultValue&&d.defaultValue.indexOf(this.prefix)>-1&&delete d.defaultValue,p};for(;o=this.nestingRegexp.exec(e);){let p=[];d={...r},d=d.replace&&!rt(d.replace)?d.replace:d,d.applyPostProcessor=!1,delete d.defaultValue;const g=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(g!==-1&&(p=o[1].slice(g).split(this.formatSeparator).map(x=>x.trim()).filter(Boolean),o[1]=o[1].slice(0,g)),c=t(h.call(this,o[1].trim(),d),d),c&&o[0]===e&&!rt(c))return c;rt(c)||(c=Sw(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),c=""),p.length&&(c=p.reduce((x,y)=>this.format(x,y,r.lng,{...r,interpolationkey:o[1].trim()}),c.trim())),e=e.replace(o[0],c),this.regexp.lastIndex=0}return e}}const OP=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(d=>{if(d){const[h,...p]=d.split(":"),g=p.join(":").trim().replace(/^'+|'+$/g,""),x=h.trim();t[x]||(t[x]=g),g==="false"&&(t[x]=!1),g==="true"&&(t[x]=!0),isNaN(g)||(t[x]=parseInt(g,10))}})}return{formatName:e,formatOptions:t}},Aw=n=>{const e={};return(t,r,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const d=r+JSON.stringify(c);let h=e[d];return h||(h=n(mh(r),o),e[d]=h),h(t)}},MP=n=>(e,t,r)=>n(mh(t),r)(e);class AP{constructor(e={}){this.logger=bo.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?Aw:MP;this.formats={number:r((o,c)=>{const d=new Intl.NumberFormat(o,{...c});return h=>d.format(h)}),currency:r((o,c)=>{const d=new Intl.NumberFormat(o,{...c,style:"currency"});return h=>d.format(h)}),datetime:r((o,c)=>{const d=new Intl.DateTimeFormat(o,{...c});return h=>d.format(h)}),relativetime:r((o,c)=>{const d=new Intl.RelativeTimeFormat(o,{...c});return h=>d.format(h,c.range||"day")}),list:r((o,c)=>{const d=new Intl.ListFormat(o,{...c});return h=>d.format(h)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=Aw(t)}format(e,t,r,o={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(p=>p.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,p)=>{var y;const{formatName:g,formatOptions:x}=OP(p);if(this.formats[g]){let b=h;try{const C=((y=o==null?void 0:o.formatParams)==null?void 0:y[o.interpolationkey])||{},P=C.locale||C.lng||o.locale||o.lng||r;b=this.formats[g](h,P,{...x,...o,...C})}catch(C){this.logger.warn(C)}return b}else this.logger.warn(`there was no format function for ${g}`);return h},e)}}const IP=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class DP extends jg{constructor(e,t,r,o={}){var c,d;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=bo.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(d=(c=this.backend)==null?void 0:c.init)==null||d.call(c,r,o.backend,o)}queueLoad(e,t,r,o){const c={},d={},h={},p={};return e.forEach(g=>{let x=!0;t.forEach(y=>{const b=`${g}|${y}`;!r.reload&&this.store.hasResourceBundle(g,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?d[b]===void 0&&(d[b]=!0):(this.state[b]=1,x=!1,d[b]===void 0&&(d[b]=!0),c[b]===void 0&&(c[b]=!0),p[y]===void 0&&(p[y]=!0)))}),x||(h[g]=!0)}),(Object.keys(c).length||Object.keys(d).length)&&this.queue.push({pending:d,pendingCount:Object.keys(d).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(d),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(p)}}loaded(e,t,r){const o=e.split("|"),c=o[0],d=o[1];t&&this.emit("failedLoading",c,d,t),!t&&r&&this.store.addResourceBundle(c,d,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const h={};this.queue.forEach(p=>{_P(p.loaded,[c],d),IP(p,e),t&&p.errors.push(t),p.pendingCount===0&&!p.done&&(Object.keys(p.loaded).forEach(g=>{h[g]||(h[g]={});const x=p.loaded[g];x.length&&x.forEach(y=>{h[g][y]===void 0&&(h[g][y]=!0)})}),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(p=>!p.done)}read(e,t,r,o=0,c=this.retryTimeout,d){if(!e.length)return d(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:c,callback:d});return}this.readingCalls++;const h=(g,x)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&x&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,c*2,d)},c);return}d(g,x)},p=this.backend[r].bind(this.backend);if(p.length===2){try{const g=p(e,t);g&&typeof g.then=="function"?g.then(x=>h(null,x)).catch(h):h(null,g)}catch(g){h(g)}return}return p(e,t,h)}prepareLoading(e,t,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();rt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),rt(t)&&(t=[t]);const c=this.queueLoad(e,t,r,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(d=>{this.loadOne(d)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),o=r[0],c=r[1];this.read(o,c,"read",void 0,void 0,(d,h)=>{d&&this.logger.warn(`${t}loading namespace ${c} for language ${o} failed`,d),!d&&h&&this.logger.log(`${t}loaded namespace ${c} for language ${o}`,h),this.loaded(e,d,h)})}saveMissing(e,t,r,o,c,d={},h=()=>{}){var p,g,x,y,b;if((g=(p=this.services)==null?void 0:p.utils)!=null&&g.hasLoadedNamespace&&!((y=(x=this.services)==null?void 0:x.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const C={...d,isUpdate:c},P=this.backend.create.bind(this.backend);if(P.length<6)try{let E;P.length===5?E=P(e,t,r,o,C):E=P(e,t,r,o),E&&typeof E.then=="function"?E.then(k=>h(null,k)).catch(h):h(null,E)}catch(E){h(E)}else P(e,t,r,o,h,C)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const Iw=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),rt(n[1])&&(e.defaultValue=n[1]),rt(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Dw=n=>{var e,t;return rt(n.ns)&&(n.ns=[n.ns]),rt(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),rt(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},km=()=>{},LP=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class gh extends jg{constructor(e={},t){if(super(),this.options=Dw(e),this.services={},this.logger=bo,this.modules={external:[]},LP(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(rt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=Iw();this.options={...r,...this.options,...Dw(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?bo.init(o(this.modules.logger),this.options):bo.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=AP;const x=new Rw(this.options);this.store=new Cw(this.options.resources,this.options);const y=this.services;y.logger=bo,y.resourceStore=this.store,y.languageUtils=x,y.pluralResolver=new RP(x,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=o(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new TP(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new DP(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(C,...P)=>{this.emit(C,...P)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new rg(this.services,this.options),this.translator.on("*",(C,...P)=>{this.emit(C,...P)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=km),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...x)=>this.store[g](...x)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...x)=>(this.store[g](...x),this)});const h=qf(),p=()=>{const g=(x,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),t(x,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),h}loadResources(e,t=km){var c,d;let r=t;const o=rt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],p=g=>{if(!g||g==="cimode")return;this.services.languageUtils.toResolveHierarchy(g).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};o?p(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(x=>p(x)),(d=(c=this.options.preload)==null?void 0:c.forEach)==null||d.call(c,g=>p(g)),this.services.backendConnector.load(h,this.options.ns,g=>{!g&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(g)})}else r(null)}reloadResources(e,t,r){const o=qf();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=km),this.services.backendConnector.reload(e,t,c=>{o.resolve(),r(c)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&L1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=qf();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,p)=>{p?this.isLanguageChangingTo===e&&(o(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,r.resolve((...g)=>this.t(...g)),t&&t(h,(...g)=>this.t(...g))},d=h=>{var x,y;!e&&!h&&this.services.languageDetector&&(h=[]);const p=rt(h)?h:h&&h[0],g=this.store.hasLanguageSomeTranslations(p)?p:this.services.languageUtils.getBestMatchFromCodes(rt(h)?[h]:h);g&&(this.language||o(g),this.translator.language||this.translator.changeLanguage(g),(y=(x=this.services.languageDetector)==null?void 0:x.cacheUserLanguage)==null||y.call(x,g)),this.loadResources(g,b=>{c(b,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?d(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(d):this.services.languageDetector.detect(d):d(e),r}getFixedT(e,t,r){const o=(c,d,...h)=>{let p;typeof d!="object"?p=this.options.overloadTranslationOptionHandler([c,d].concat(h)):p={...d},p.lng=p.lng||o.lng,p.lngs=p.lngs||o.lngs,p.ns=p.ns||o.ns,p.keyPrefix!==""&&(p.keyPrefix=p.keyPrefix||r||o.keyPrefix);const g=this.options.keySeparator||".";let x;return p.keyPrefix&&Array.isArray(c)?x=c.map(y=>`${p.keyPrefix}${g}${y}`):x=p.keyPrefix?`${p.keyPrefix}${g}${c}`:c,this.t(x,p)};return rt(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const d=(h,p)=>{const g=this.services.backendConnector.state[`${h}|${p}`];return g===-1||g===0||g===2};if(t.precheck){const h=t.precheck(this,d);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||d(r,e)&&(!o||d(c,e)))}loadNamespaces(e,t){const r=qf();return this.options.ns?(rt(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=qf();rt(e)&&(e=[e]);const o=this.options.preload||[],c=e.filter(d=>o.indexOf(d)<0&&this.services.languageUtils.isSupportedCode(d));return c.length?(this.options.preload=o.concat(c),this.loadResources(d=>{r.resolve(),t&&t(d)}),r):(t&&t(),Promise.resolve())}dir(e){var o,c;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const d=new Intl.Locale(e);if(d&&d.getTextInfo){const h=d.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((c=this.services)==null?void 0:c.languageUtils)||new Rw(Iw());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new gh(e,t)}cloneInstance(e={},t=km){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},c=new gh(o);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},r){const h=Object.keys(this.store.data).reduce((p,g)=>(p[g]={...this.store.data[g]},p[g]=Object.keys(p[g]).reduce((x,y)=>(x[y]={...p[g][y]},x),p[g]),p),{});c.store=new Cw(h,o),c.services.resourceStore=c.store}return c.translator=new rg(c.services,o),c.translator.on("*",(h,...p)=>{c.emit(h,...p)}),c.init(o,t),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Zn=gh.createInstance();Zn.createInstance=gh.createInstance;Zn.createInstance;Zn.dir;Zn.init;Zn.loadResources;Zn.reloadResources;Zn.use;Zn.changeLanguage;Zn.getFixedT;Zn.t;Zn.exists;Zn.setDefaultNamespace;Zn.hasLoadedNamespace;Zn.loadNamespaces;Zn.loadLanguages;const $P=(n,e,t,r)=>{var c,d,h,p;const o=[t,{code:e,...r||{}}];if((d=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&d.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);zl(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(p=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&p.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},Lw={},t0=(n,e,t,r)=>{zl(t)&&Lw[t]||(zl(t)&&(Lw[t]=new Date),$P(n,e,t,r))},$1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},n0=(n,e,t)=>{n.loadNamespaces(e,$1(n,t))},$w=(n,e,t,r)=>{if(zl(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return n0(n,t,r);t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,$1(n,r))},FP=(n,e,t={})=>!e.languages||!e.languages.length?(t0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,n))return!1}}),zl=n=>typeof n=="string",zP=n=>typeof n=="object"&&n!==null,UP=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,BP={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},WP=n=>BP[n],HP=n=>n.replace(UP,WP);let r0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:HP};const VP=(n={})=>{r0={...r0,...n}},GP=()=>r0;let F1;const qP=n=>{F1=n},KP=()=>F1,YP={type:"3rdParty",init(n){VP(n.options.react),qP(n)}},JP=w.createContext();class XP{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const QP=(n,e)=>{const t=w.useRef();return w.useEffect(()=>{t.current=n},[n,e]),t.current},z1=(n,e,t,r)=>n.getFixedT(e,t,r),ZP=(n,e,t,r)=>w.useCallback(z1(n,e,t,r),[n,e,t,r]),eR=(n,e={})=>{var A,D,H,F;const{i18n:t}=e,{i18n:r,defaultNS:o}=w.useContext(JP)||{},c=t||r||KP();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new XP),!c){t0(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const $=(X,ne)=>zl(ne)?ne:zP(ne)&&zl(ne.defaultValue)?ne.defaultValue:Array.isArray(X)?X[X.length-1]:X,G=[$,{},!1];return G.t=$,G.i18n={},G.ready=!1,G}(A=c.options.react)!=null&&A.wait&&t0(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const d={...GP(),...c.options.react,...e},{useSuspense:h,keyPrefix:p}=d;let g=n||o||((D=c.options)==null?void 0:D.defaultNS);g=zl(g)?[g]:g||["translation"],(F=(H=c.reportNamespaces).addUsedNamespaces)==null||F.call(H,g);const x=(c.isInitialized||c.initializedStoreOnce)&&g.every($=>FP($,c,d)),y=ZP(c,e.lng||null,d.nsMode==="fallback"?g:g[0],p),b=()=>y,C=()=>z1(c,e.lng||null,d.nsMode==="fallback"?g:g[0],p),[P,E]=w.useState(b);let k=g.join();e.lng&&(k=`${e.lng}${k}`);const R=QP(k),j=w.useRef(!0);w.useEffect(()=>{const{bindI18n:$,bindI18nStore:G}=d;j.current=!0,!x&&!h&&(e.lng?$w(c,e.lng,g,()=>{j.current&&E(C)}):n0(c,g,()=>{j.current&&E(C)})),x&&R&&R!==k&&j.current&&E(C);const X=()=>{j.current&&E(C)};return $&&(c==null||c.on($,X)),G&&(c==null||c.store.on(G,X)),()=>{j.current=!1,c&&$&&($==null||$.split(" ").forEach(ne=>c.off(ne,X))),G&&c&&G.split(" ").forEach(ne=>c.store.off(ne,X))}},[c,k]),w.useEffect(()=>{j.current&&x&&E(b)},[c,p,x]);const T=[P,c,x];if(T.t=P,T.i18n=c,T.ready=x,x||!x&&!h)return T;throw new Promise($=>{e.lng?$w(c,e.lng,g,()=>$()):n0(c,g,()=>$())})},{slice:tR,forEach:nR}=[];function rR(n){return nR.call(tR.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function sR(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const Fw=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,oR=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let c=`${n}=${o}`;if(r.maxAge>0){const d=r.maxAge-0;if(Number.isNaN(d))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(d)}`}if(r.domain){if(!Fw.test(r.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${r.domain}`}if(r.path){if(!Fw.test(r.path))throw new TypeError("option path is invalid");c+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(c+="; Partitioned"),c},zw={create(n,e,t,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),r&&(o.domain=r),document.cookie=oR(n,e,o)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let o=t[r];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var iR={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return zw.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:o,cookieOptions:c}=e;t&&typeof document<"u"&&zw.create(t,n,r,o,c)}},aR={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const d=o.substring(1).split("&");for(let h=0;h<d.length;h++){const p=d[h].indexOf("=");p>0&&d[h].substring(0,p)===e&&(t=d[h].substring(p+1))}}return t}},lR={name:"hash",lookup(n){var o;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const d=c.substring(1);if(e){const h=d.split("&");for(let p=0;p<h.length;p++){const g=h[p].indexOf("=");g>0&&h[p].substring(0,g)===e&&(r=h[p].substring(g+1))}}if(r)return r;if(!r&&t>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(o=h[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}}}return r}};let Pu=null;const Uw=()=>{if(Pu!==null)return Pu;try{if(Pu=typeof window<"u"&&window.localStorage!==null,!Pu)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Pu=!1}return Pu};var cR={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&Uw())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&Uw()&&window.localStorage.setItem(t,n)}};let Ru=null;const Bw=()=>{if(Ru!==null)return Ru;try{if(Ru=typeof window<"u"&&window.sessionStorage!==null,!Ru)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{Ru=!1}return Ru};var uR={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&Bw())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&Bw()&&window.sessionStorage.setItem(t,n)}},dR={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:o}=navigator;if(t)for(let c=0;c<t.length;c++)e.push(t[c]);r&&e.push(r),o&&e.push(o)}return e.length>0?e:void 0}},fR={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},hR={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},pR={name:"subdomain",lookup(n){var o,c;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((c=(o=window.location)==null?void 0:o.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let U1=!1;try{document.cookie,U1=!0}catch{}const B1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];U1||B1.splice(1,1);const mR=()=>({order:B1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class W1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=rR(t,this.options||{},mR()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(iR),this.addDetector(aR),this.addDetector(cR),this.addDetector(uR),this.addDetector(dR),this.addDetector(fR),this.addDetector(hR),this.addDetector(pR),this.addDetector(lR)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let o=this.detectors[r].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(r=>r!=null&&!sR(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}W1.type="languageDetector";const gR={en:{common:{app:{name:"Hotel PMS",tagline:"Professional Property Management System"},navigation:{dashboard:"Dashboard",bookings:"Bookings",calendar:"Calendar",rooms:"Rooms",guests:"Guests",chat:"Messages",channels:"Channel Manager",reports:"Reports",settings:"Settings"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",export:"Export",import:"Import",sync:"Synchronize",connect:"Connect",disconnect:"Disconnect",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",select:"Select",signOut:"Sign Out"}},dashboard:{title:"Booking Calendar",subtitle:"Manage your reservations",navigation:{previousMonth:"Previous month",nextMonth:"Next month",today:"Today"},actions:{newReservation:"New reservation",signOut:"Sign out"},grid:{rooms:"Rooms",loading:"Loading calendar...",noData:"No rooms available",dragToSelect:"Drag to select dates"},errors:{loadingBookings:"Error loading bookings",loadingData:"Error loading data"}},bookings:{title:"Bookings",search:{placeholder:"Search by guest name..."},filter:{allStatuses:"All statuses",byStatus:"Filter by status"},status:{confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",checked_in:"Checked In",checked_out:"Checked Out"},table:{guest:"Guest",source:"Source",room:"Room",dates:"Dates",status:"Status",accommodation:"Accommodation",services:"Services",paid:"Paid",balance:"Balance",noResults:"No bookings found",unknownGuest:"Unknown Guest"},actions:{newBooking:"New Booking",edit:"Edit",cancel:"Cancel",checkIn:"Check In",checkOut:"Check Out"}},auth:{appName:"Hotel PMS",subtitle:"Staff access portal",tabs:{signIn:"Sign In",signUp:"Sign Up"},fields:{email:"Email",password:"Password"},placeholders:{email:"Enter your email",password:"Enter your password",passwordHint:"Minimum 6 characters"},buttons:{signIn:"Sign In",signUp:"Sign Up",signingIn:"Signing in...",signingUp:"Creating account...",signInWithGoogle:"Sign in with Google"},divider:"OR",messages:{checkEmail:"Check your email to confirm registration!"},errors:{invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please confirm your email first",signInFailed:"Sign in failed. Please try again.",signUpFailed:"Registration failed. Please try again.",googleSignIn:"Google sign in failed",passwordTooShort:"Password must be at least 6 characters",emailAlreadyRegistered:"This email is already registered"}},chat:{title:"Messages",header:"Chats",search:{placeholder:"Search messages..."},conversation:{selectChat:"Select a chat",selectChatDescription:"Choose a chat from the list to view the conversation",noMessages:"No messages yet",typeMessage:"Type a message...",send:"Send",unknownContact:"Unknown contact"}},booking:{grid:{rooms:"Rooms",loading:"Loading calendar...",guest:"Guest",hasDebt:"Has outstanding balance"},title:"New Reservation",editTitle:"Edit Booking",tabs:{details:"Details & Finance",services:"Services"},guest:{title:"Guest Information",fullName:"Full Name",phone:"Phone",email:"Email"},details:{title:"Booking Details",room:"Room",selectRoom:"Select room...",noAvailableRooms:"No available rooms for these dates",checkIn:"Check-in",checkOut:"Check-out",guestCount:"Number of Guests",status:"Status",source:"Source",notes:"Notes",notesPlaceholder:"Additional notes..."},finance:{title:"Finance",accommodation:"Accommodation ({{nights}} nights)",orderedServices:"Ordered Services:",noServices:"None",total:"Total",paid:"Paid",balance:"Balance Due"},services:{available:"Available Services",cart:"Service Cart",ordered:"Ordered Services",addToCart:"Add",cartEmpty:"Cart is empty",noOrdered:"No services added",addSelected:"Add Selected Services"},actions:{save:"Save",cancel:"Cancel",delete:"Delete Booking",saving:"Saving..."},status:{pending:"Pending",confirmed:"Confirmed",checkedIn:"Checked In",checkedOut:"Checked Out",cancelled:"Cancelled"},sources:{direct:"Direct",website:"Website",phone:"Phone",aiAgent:"AI Agent",other:"Other"},errors:{guestNameRequired:"Guest name is required"},messages:{confirmDelete:"Are you sure you want to delete this booking? This action cannot be undone."},popover:{unknownGuest:"Unknown Guest",stayPeriod:"Stay Period",duration:"Duration",guestCount:"Number of Guests",comment:"Comment",additionalServices:"Additional Services",accommodation:"Accommodation",services:"Services",total:"Total",toPay:"To Pay",paidFully:"Paid in Full",alreadyPaid:"Already Paid"},roomTypes:{single:"Single",double:"Double",twin:"Twin",suite:"Suite",deluxe:"Deluxe",standard:"Standard",economy:"Economy",family:"Family"}}},ru:{common:{app:{name:"Отель PMS",tagline:"Профессиональная система управления недвижимостью"},navigation:{dashboard:"Главная",bookings:"Бронирования",calendar:"Календарь",rooms:"Номера",guests:"Гости",chat:"Сообщения",channels:"Каналы продаж",reports:"Отчеты",settings:"Настройки"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",create:"Создать",search:"Поиск",filter:"Фильтр",export:"Экспорт",import:"Импорт",sync:"Синхронизировать",connect:"Подключить",disconnect:"Отключить",refresh:"Обновить",back:"Назад",next:"Далее",previous:"Назад",close:"Закрыть",confirm:"Подтвердить",select:"Выбрать",signOut:"Выйти"}},dashboard:{title:"Календарь бронирований",subtitle:"Управление бронированиями",navigation:{previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",today:"Сегодня"},actions:{newReservation:"Новое бронирование",signOut:"Выйти"},grid:{rooms:"Номера",loading:"Загрузка календаря...",noData:"Нет доступных номеров",dragToSelect:"Перетащите для выбора дат"},errors:{loadingBookings:"Ошибка загрузки бронирований",loadingData:"Ошибка загрузки данных"}},bookings:{title:"Бронирования",search:{placeholder:"Поиск по имени гостя..."},filter:{allStatuses:"Все статусы",byStatus:"Фильтр по статусу"},status:{confirmed:"Подтверждено",pending:"Не подтверждено",cancelled:"Отменено",checked_in:"Проживание",checked_out:"Выехал"},table:{guest:"Гость",source:"Источник",room:"Номер",dates:"Даты",status:"Статус",accommodation:"Проживание",services:"Услуги",paid:"Оплачено",balance:"К оплате",noResults:"Бронирования не найдены",unknownGuest:"Неизвестный гость"},actions:{newBooking:"Новая бронь",edit:"Редактировать",cancel:"Отменить",checkIn:"Заселить",checkOut:"Выселить"}},auth:{appName:"Отель PMS",subtitle:"Вход для персонала",tabs:{signIn:"Войти",signUp:"Регистрация"},fields:{email:"Email",password:"Пароль"},placeholders:{email:"Введите email",password:"Введите пароль",passwordHint:"Минимум 6 символов"},buttons:{signIn:"Войти",signUp:"Зарегистрироваться",signingIn:"Вход...",signingUp:"Создание аккаунта...",signInWithGoogle:"Войти через Google"},divider:"ИЛИ",messages:{checkEmail:"Проверьте вашу почту для подтверждения регистрации!"},errors:{invalidCredentials:"Неверный email или пароль",emailNotConfirmed:"Пожалуйста, подтвердите email",signInFailed:"Ошибка входа. Попробуйте снова.",signUpFailed:"Ошибка регистрации. Попробуйте снова.",googleSignIn:"Ошибка входа через Google",passwordTooShort:"Пароль должен быть минимум 6 символов",emailAlreadyRegistered:"Этот email уже зарегистрирован"}},chat:{title:"Сообщения",header:"Чаты",search:{placeholder:"Поиск по сообщениям..."},conversation:{selectChat:"Выберите диалог",selectChatDescription:"Выберите чат из списка слева, чтобы начать общение",noMessages:"Сообщений пока нет",typeMessage:"Введите сообщение...",send:"Отправить",unknownContact:"Неизвестный контакт"}},grid:{rooms:"Номера",loading:"Загрузка календаря...",guest:"Гость",hasDebt:"Есть задолженность"},title:"Новое бронирование",editTitle:"Редактирование брони",tabs:{details:"Детали и Финансы",services:"Услуги"},guest:{title:"Информация о госте",fullName:"ФИО",phone:"Телефон",email:"Email"},details:{title:"Детали бронирования",room:"Номер",selectRoom:"Выберите номер...",noAvailableRooms:"Свободных номеров на эти даты нет",checkIn:"Заезд",checkOut:"Выезд",guestCount:"Кол-во гостей",status:"Статус",source:"Источник",notes:"Комментарий",notesPlaceholder:"Дополнительные заметки..."},finance:{title:"Финансы",accommodation:"Проживание ({{nights}} дн.)",orderedServices:"Заказанные услуги:",noServices:"Нет",total:"Итого",paid:"Оплачено",balance:"К оплате"},services:{available:"Доступные услуги",cart:"Корзина услуг",ordered:"Заказанные услуги",addToCart:"В корзину",cartEmpty:"Корзина пуста",noOrdered:"Услуги не добавлены",addSelected:"Добавить выбранные услуги"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить бронь",saving:"Сохранение..."},status:{pending:"Не подтверждено",confirmed:"Подтверждено",checkedIn:"Проживание",checkedOut:"Выезд",cancelled:"Отменено"},sources:{direct:"Напрямую",website:"Сайт",phone:"Телефон",aiAgent:"AI-агент",other:"Другое"},errors:{guestNameRequired:"Необходимо указать имя гостя"},messages:{confirmDelete:"Вы уверены, что хотите удалить это бронирование? Это действие нельзя отменить."},popover:{unknownGuest:"Неизвестный гость",stayPeriod:"Период проживания",duration:"Длительность",guestCount:"Количество гостей",comment:"Комментарий",additionalServices:"Дополнительные услуги",accommodation:"Проживание",services:"Услуги",total:"Итого",toPay:"К оплате",paidFully:"Оплачено полностью",alreadyPaid:"Уже оплачено"},roomTypes:{single:"Одноместный",double:"Двухместный",twin:"Твин",suite:"Люкс",deluxe:"Делюкс",standard:"Стандарт",economy:"Эконом",family:"Семейный"}}};Zn.use(W1).use(YP).init({resources:gR,lng:"en",fallbackLng:"en",ns:["common","dashboard","bookings","auth","chat"],defaultNS:"common",interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie","navigator"],caches:["localStorage","cookie"],cookieName:"pms_language",lookupLocalStorage:"pms_language"},react:{useSuspense:!1},debug:!0});function Yr(n="common"){const{t:e,i18n:t}=eR(n);return{t:e,i18n:t,formatDate:(d,h="short")=>new Intl.DateTimeFormat(t.language,{dateStyle:h}).format(new Date(d)),formatCurrency:(d,h="USD")=>new Intl.NumberFormat(t.language,{style:"currency",currency:h}).format(d),formatNumber:d=>new Intl.NumberFormat(t.language).format(d),currentLanguage:t.language,changeLanguage:t.changeLanguage}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Ww="popstate";function vR(n={}){function e(r,o){let{pathname:c,search:d,hash:h}=r.location;return s0("",{pathname:c,search:d,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:vh(o)}return yR(e,t,null,n)}function Qt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function jo(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xR(){return Math.random().toString(36).substring(2,10)}function Hw(n,e){return{usr:n.state,key:n.key,idx:e}}function s0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?od(e):e,state:t,key:e&&e.key||r||xR()}}function vh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function od(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function yR(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,d=o.history,h="POP",p=null,g=x();g==null&&(g=0,d.replaceState({...d.state,idx:g},""));function x(){return(d.state||{idx:null}).idx}function y(){h="POP";let k=x(),R=k==null?null:k-g;g=k,p&&p({action:h,location:E.location,delta:R})}function b(k,R){h="PUSH";let j=s0(E.location,k,R);g=x()+1;let T=Hw(j,g),A=E.createHref(j);try{d.pushState(T,"",A)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;o.location.assign(A)}c&&p&&p({action:h,location:E.location,delta:1})}function C(k,R){h="REPLACE";let j=s0(E.location,k,R);g=x();let T=Hw(j,g),A=E.createHref(j);d.replaceState(T,"",A),c&&p&&p({action:h,location:E.location,delta:0})}function P(k){return wR(k)}let E={get action(){return h},get location(){return n(o,d)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Ww,y),p=k,()=>{o.removeEventListener(Ww,y),p=null}},createHref(k){return e(o,k)},createURL:P,encodeLocation(k){let R=P(k);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:C,go(k){return d.go(k)}};return E}function wR(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Qt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:vh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function H1(n,e,t="/"){return _R(n,e,t,!1)}function _R(n,e,t,r){let o=typeof e=="string"?od(e):e,c=bi(o.pathname||"/",t);if(c==null)return null;let d=V1(n);bR(d);let h=null;for(let p=0;h==null&&p<d.length;++p){let g=MR(c);h=TR(d[p],g,r)}return h}function V1(n,e=[],t=[],r=""){let o=(c,d,h)=>{let p={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Qt(p.relativePath.startsWith(r),`Absolute route path "${p.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(r.length));let g=_i([r,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(Qt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),V1(c.children,e,x,g)),!(c.path==null&&!c.index)&&e.push({path:g,score:PR(g,c.index),routesMeta:x})};return n.forEach((c,d)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,d);else for(let p of G1(c.path))o(c,d,p)}),e}function G1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let d=G1(r.join("/")),h=[];return h.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&h.push(...d),h.map(p=>n.startsWith("/")&&p===""?"/":p)}function bR(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:RR(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var SR=/^:[\w-]+$/,NR=3,kR=2,jR=1,CR=10,ER=-2,Vw=n=>n==="*";function PR(n,e){let t=n.split("/"),r=t.length;return t.some(Vw)&&(r+=ER),e&&(r+=kR),t.filter(o=>!Vw(o)).reduce((o,c)=>o+(SR.test(c)?NR:c===""?jR:CR),r)}function RR(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function TR(n,e,t=!1){let{routesMeta:r}=n,o={},c="/",d=[];for(let h=0;h<r.length;++h){let p=r[h],g=h===r.length-1,x=c==="/"?e:e.slice(c.length)||"/",y=sg({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},x),b=p.route;if(!y&&g&&t&&!r[r.length-1].route.index&&(y=sg({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},x)),!y)return null;Object.assign(o,y.params),d.push({params:o,pathname:_i([c,y.pathname]),pathnameBase:LR(_i([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=_i([c,y.pathnameBase]))}return d}function sg(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=OR(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((g,{paramName:x,isOptional:y},b)=>{if(x==="*"){let P=h[b]||"";d=c.slice(0,c.length-P.length).replace(/(.)\/+$/,"$1")}const C=h[b];return y&&!C?g[x]=void 0:g[x]=(C||"").replace(/%2F/g,"/"),g},{}),pathname:c,pathnameBase:d,pattern:n}}function OR(n,e=!1,t=!0){jo(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,p)=>(r.push({paramName:h,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function MR(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jo(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function bi(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function AR(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?od(n):n;return{pathname:t?t.startsWith("/")?t:IR(t,e):e,search:$R(r),hash:FR(o)}}function IR(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function _x(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function DR(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function q1(n){let e=DR(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function K1(n,e,t,r=!1){let o;typeof n=="string"?o=od(n):(o={...n},Qt(!o.pathname||!o.pathname.includes("?"),_x("?","pathname","search",o)),Qt(!o.pathname||!o.pathname.includes("#"),_x("#","pathname","hash",o)),Qt(!o.search||!o.search.includes("#"),_x("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,h;if(d==null)h=t;else{let y=e.length-1;if(!r&&d.startsWith("..")){let b=d.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}h=y>=0?e[y]:"/"}let p=AR(o,h),g=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(g||x)&&(p.pathname+="/"),p}var _i=n=>n.join("/").replace(/\/\/+/g,"/"),LR=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),$R=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,FR=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function zR(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Y1=["POST","PUT","PATCH","DELETE"];new Set(Y1);var UR=["GET",...Y1];new Set(UR);var id=w.createContext(null);id.displayName="DataRouter";var Cg=w.createContext(null);Cg.displayName="DataRouterState";w.createContext(!1);var J1=w.createContext({isTransitioning:!1});J1.displayName="ViewTransition";var BR=w.createContext(new Map);BR.displayName="Fetchers";var WR=w.createContext(null);WR.displayName="Await";var Po=w.createContext(null);Po.displayName="Navigation";var jh=w.createContext(null);jh.displayName="Location";var Pi=w.createContext({outlet:null,matches:[],isDataRoute:!1});Pi.displayName="Route";var U0=w.createContext(null);U0.displayName="RouteError";function HR(n,{relative:e}={}){Qt(Ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(Po),{hash:o,pathname:c,search:d}=Eh(n,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:_i([t,c])),r.createHref({pathname:h,search:d,hash:o})}function Ch(){return w.useContext(jh)!=null}function ja(){return Qt(Ch(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(jh).location}var X1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Q1(n){w.useContext(Po).static||w.useLayoutEffect(n)}function Z1(){let{isDataRoute:n}=w.useContext(Pi);return n?rT():VR()}function VR(){Qt(Ch(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(id),{basename:e,navigator:t}=w.useContext(Po),{matches:r}=w.useContext(Pi),{pathname:o}=ja(),c=JSON.stringify(q1(r)),d=w.useRef(!1);return Q1(()=>{d.current=!0}),w.useCallback((p,g={})=>{if(jo(d.current,X1),!d.current)return;if(typeof p=="number"){t.go(p);return}let x=K1(p,JSON.parse(c),o,g.relative==="path");n==null&&e!=="/"&&(x.pathname=x.pathname==="/"?e:_i([e,x.pathname])),(g.replace?t.replace:t.push)(x,g.state,g)},[e,t,c,o,n])}w.createContext(null);function Eh(n,{relative:e}={}){let{matches:t}=w.useContext(Pi),{pathname:r}=ja(),o=JSON.stringify(q1(t));return w.useMemo(()=>K1(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function GR(n,e){return eb(n,e)}function eb(n,e,t,r){var R;Qt(Ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Po),{matches:c}=w.useContext(Pi),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let j=x&&x.path||"";tb(p,!x||j.endsWith("*")||j.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${j}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${j}"> to <Route path="${j==="/"?"*":`${j}/*`}">.`)}let y=ja(),b;if(e){let j=typeof e=="string"?od(e):e;Qt(g==="/"||((R=j.pathname)==null?void 0:R.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${j.pathname}" was given in the \`location\` prop.`),b=j}else b=y;let C=b.pathname||"/",P=C;if(g!=="/"){let j=g.replace(/^\//,"").split("/");P="/"+C.replace(/^\//,"").split("/").slice(j.length).join("/")}let E=H1(n,{pathname:P});jo(x||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),jo(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let k=XR(E&&E.map(j=>Object.assign({},j,{params:Object.assign({},h,j.params),pathname:_i([g,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?g:_i([g,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),c,t,r);return e&&k?w.createElement(jh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},k):k}function qR(){let n=nT(),e=zR(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,d)}var KR=w.createElement(qR,null),YR=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Pi.Provider,{value:this.props.routeContext},w.createElement(U0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function JR({routeContext:n,match:e,children:t}){let r=w.useContext(id);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Pi.Provider,{value:n},t)}function XR(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let p=o.findIndex(g=>g.route.id&&(c==null?void 0:c[g.route.id])!==void 0);Qt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let d=!1,h=-1;if(t)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=p),g.route.id){let{loaderData:x,errors:y}=t,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!y||y[g.route.id]===void 0);if(g.route.lazy||b){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((p,g,x)=>{let y,b=!1,C=null,P=null;t&&(y=c&&g.route.id?c[g.route.id]:void 0,C=g.route.errorElement||KR,d&&(h<0&&x===0?(tb("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,P=null):h===x&&(b=!0,P=g.route.hydrateFallbackElement||null)));let E=e.concat(o.slice(0,x+1)),k=()=>{let R;return y?R=C:b?R=P:g.route.Component?R=w.createElement(g.route.Component,null):g.route.element?R=g.route.element:R=p,w.createElement(JR,{match:g,routeContext:{outlet:p,matches:E,isDataRoute:t!=null},children:R})};return t&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(YR,{location:t.location,revalidation:t.revalidation,component:C,error:y,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}function B0(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function QR(n){let e=w.useContext(id);return Qt(e,B0(n)),e}function ZR(n){let e=w.useContext(Cg);return Qt(e,B0(n)),e}function eT(n){let e=w.useContext(Pi);return Qt(e,B0(n)),e}function W0(n){let e=eT(n),t=e.matches[e.matches.length-1];return Qt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function tT(){return W0("useRouteId")}function nT(){var r;let n=w.useContext(U0),e=ZR("useRouteError"),t=W0("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function rT(){let{router:n}=QR("useNavigate"),e=W0("useNavigate"),t=w.useRef(!1);return Q1(()=>{t.current=!0}),w.useCallback(async(o,c={})=>{jo(t.current,X1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var Gw={};function tb(n,e,t){!e&&!Gw[n]&&(Gw[n]=!0,jo(!1,t))}w.memo(sT);function sT({routes:n,future:e,state:t}){return eb(n,void 0,t,e)}function ur(n){Qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function oT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Qt(!Ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:o,static:c,future:{}}),[d,o,c]);typeof t=="string"&&(t=od(t));let{pathname:p="/",search:g="",hash:x="",state:y=null,key:b="default"}=t,C=w.useMemo(()=>{let P=bi(p,d);return P==null?null:{location:{pathname:P,search:g,hash:x,state:y,key:b},navigationType:r}},[d,p,g,x,y,b,r]);return jo(C!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${x}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(Po.Provider,{value:h},w.createElement(jh.Provider,{children:e,value:C}))}function iT({children:n,location:e}){return GR(o0(n),e)}function o0(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let c=[...e,o];if(r.type===w.Fragment){t.push.apply(t,o0(r.props.children,c));return}Qt(r.type===ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let d={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(d.children=o0(r.props.children,c)),t.push(d)}),t}var Wm="get",Hm="application/x-www-form-urlencoded";function Eg(n){return n!=null&&typeof n.tagName=="string"}function aT(n){return Eg(n)&&n.tagName.toLowerCase()==="button"}function lT(n){return Eg(n)&&n.tagName.toLowerCase()==="form"}function cT(n){return Eg(n)&&n.tagName.toLowerCase()==="input"}function uT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function dT(n,e){return n.button===0&&(!e||e==="_self")&&!uT(n)}var jm=null;function fT(){if(jm===null)try{new FormData(document.createElement("form"),0),jm=!1}catch{jm=!0}return jm}var hT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function bx(n){return n!=null&&!hT.has(n)?(jo(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Hm}"`),null):n}function pT(n,e){let t,r,o,c,d;if(lT(n)){let h=n.getAttribute("action");r=h?bi(h,e):null,t=n.getAttribute("method")||Wm,o=bx(n.getAttribute("enctype"))||Hm,c=new FormData(n)}else if(aT(n)||cT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=n.getAttribute("formaction")||h.getAttribute("action");if(r=p?bi(p,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||Wm,o=bx(n.getAttribute("formenctype"))||bx(h.getAttribute("enctype"))||Hm,c=new FormData(h,n),!fT()){let{name:g,type:x,value:y}=n;if(x==="image"){let b=g?`${g}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else g&&c.append(g,y)}}else{if(Eg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Wm,r=null,o=Hm,d=n}return c&&o==="text/plain"&&(d=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function H0(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mT(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&bi(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function gT(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function vT(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function xT(n,e,t){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let d=await gT(c,t);return d.links?d.links():[]}return[]}));return bT(r.flat(1).filter(vT).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function qw(n,e,t,r,o,c){let d=(p,g)=>t[g]?p.route.id!==t[g].route.id:!0,h=(p,g)=>{var x;return t[g].pathname!==p.pathname||((x=t[g].route.path)==null?void 0:x.endsWith("*"))&&t[g].params["*"]!==p.params["*"]};return c==="assets"?e.filter((p,g)=>d(p,g)||h(p,g)):c==="data"?e.filter((p,g)=>{var y;let x=r.routes[p.route.id];if(!x||!x.hasLoader)return!1;if(d(p,g)||h(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function yT(n,e,{includeHydrateFallback:t}={}){return wT(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function wT(n){return[...new Set(n)]}function _T(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function bT(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(_T(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function nb(){let n=w.useContext(id);return H0(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function ST(){let n=w.useContext(Cg);return H0(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var V0=w.createContext(void 0);V0.displayName="FrameworkContext";function rb(){let n=w.useContext(V0);return H0(n,"You must render this element inside a <HydratedRouter> element"),n}function NT(n,e){let t=w.useContext(V0),[r,o]=w.useState(!1),[c,d]=w.useState(!1),{onFocus:h,onBlur:p,onMouseEnter:g,onMouseLeave:x,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let E=R=>{R.forEach(j=>{d(j.isIntersecting)})},k=new IntersectionObserver(E,{threshold:.5});return b.current&&k.observe(b.current),()=>{k.disconnect()}}},[n]),w.useEffect(()=>{if(r){let E=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(E)}}},[r]);let C=()=>{o(!0)},P=()=>{o(!1),d(!1)};return t?n!=="intent"?[c,b,{}]:[c,b,{onFocus:Kf(h,C),onBlur:Kf(p,P),onMouseEnter:Kf(g,C),onMouseLeave:Kf(x,P),onTouchStart:Kf(y,C)}]:[!1,b,{}]}function Kf(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function kT({page:n,...e}){let{router:t}=nb(),r=w.useMemo(()=>H1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(CT,{page:n,matches:r,...e}):null}function jT(n){let{manifest:e,routeModules:t}=rb(),[r,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return xT(n,e,t).then(d=>{c||o(d)}),()=>{c=!0}},[n,e,t]),r}function CT({page:n,matches:e,...t}){let r=ja(),{manifest:o,routeModules:c}=rb(),{basename:d}=nb(),{loaderData:h,matches:p}=ST(),g=w.useMemo(()=>qw(n,e,p,o,r,"data"),[n,e,p,o,r]),x=w.useMemo(()=>qw(n,e,p,o,r,"assets"),[n,e,p,o,r]),y=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let P=new Set,E=!1;if(e.forEach(R=>{var T;let j=o.routes[R.route.id];!j||!j.hasLoader||(!g.some(A=>A.route.id===R.route.id)&&R.route.id in h&&((T=c[R.route.id])!=null&&T.shouldRevalidate)||j.hasClientLoader?E=!0:P.add(R.route.id))}),P.size===0)return[];let k=mT(n,d,"data");return E&&P.size>0&&k.searchParams.set("_routes",e.filter(R=>P.has(R.route.id)).map(R=>R.route.id).join(",")),[k.pathname+k.search]},[d,h,r,o,g,e,n,c]),b=w.useMemo(()=>yT(x,o),[x,o]),C=jT(x);return w.createElement(w.Fragment,null,y.map(P=>w.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...t})),b.map(P=>w.createElement("link",{key:P,rel:"modulepreload",href:P,...t})),C.map(({key:P,link:E})=>w.createElement("link",{key:P,...E})))}function ET(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var sb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{sb&&(window.__reactRouterVersion="7.7.1")}catch{}function PT({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=vR({window:t,v5Compat:!0}));let o=r.current,[c,d]=w.useState({action:o.action,location:o.location}),h=w.useCallback(p=>{w.startTransition(()=>d(p))},[d]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(oT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var ob=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ib=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:d,state:h,target:p,to:g,preventScrollReset:x,viewTransition:y,...b},C){let{basename:P}=w.useContext(Po),E=typeof g=="string"&&ob.test(g),k,R=!1;if(typeof g=="string"&&E&&(k=g,sb))try{let G=new URL(window.location.href),X=g.startsWith("//")?new URL(G.protocol+g):new URL(g),ne=bi(X.pathname,P);X.origin===G.origin&&ne!=null?g=ne+X.search+X.hash:R=!0}catch{jo(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let j=HR(g,{relative:o}),[T,A,D]=NT(r,b),H=MT(g,{replace:d,state:h,target:p,preventScrollReset:x,relative:o,viewTransition:y});function F(G){e&&e(G),G.defaultPrevented||H(G)}let $=w.createElement("a",{...b,...D,href:k||j,onClick:R||c?e:F,ref:ET(C,A),target:p,"data-discover":!E&&t==="render"?"true":void 0});return T&&!E?w.createElement(w.Fragment,null,$,w.createElement(kT,{page:j})):$});ib.displayName="Link";var RT=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:d,viewTransition:h,children:p,...g},x){let y=Eh(d,{relative:g.relative}),b=ja(),C=w.useContext(Cg),{navigator:P,basename:E}=w.useContext(Po),k=C!=null&&$T(y)&&h===!0,R=P.encodeLocation?P.encodeLocation(y).pathname:y.pathname,j=b.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(j=j.toLowerCase(),T=T?T.toLowerCase():null,R=R.toLowerCase()),T&&E&&(T=bi(T,E)||T);const A=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let D=j===R||!o&&j.startsWith(R)&&j.charAt(A)==="/",H=T!=null&&(T===R||!o&&T.startsWith(R)&&T.charAt(R.length)==="/"),F={isActive:D,isPending:H,isTransitioning:k},$=D?e:void 0,G;typeof r=="function"?G=r(F):G=[r,D?"active":null,H?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(F):c;return w.createElement(ib,{...g,"aria-current":$,className:G,ref:x,style:X,to:d,viewTransition:h},typeof p=="function"?p(F):p)});RT.displayName="NavLink";var TT=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:d=Wm,action:h,onSubmit:p,relative:g,preventScrollReset:x,viewTransition:y,...b},C)=>{let P=DT(),E=LT(h,{relative:g}),k=d.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&ob.test(h),j=T=>{if(p&&p(T),T.defaultPrevented)return;T.preventDefault();let A=T.nativeEvent.submitter,D=(A==null?void 0:A.getAttribute("formmethod"))||d;P(A||T.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:o,state:c,relative:g,preventScrollReset:x,viewTransition:y})};return w.createElement("form",{ref:C,method:k,action:E,onSubmit:r?p:j,...b,"data-discover":!R&&n==="render"?"true":void 0})});TT.displayName="Form";function OT(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ab(n){let e=w.useContext(id);return Qt(e,OT(n)),e}function MT(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:d}={}){let h=Z1(),p=ja(),g=Eh(n,{relative:c});return w.useCallback(x=>{if(dT(x,e)){x.preventDefault();let y=t!==void 0?t:vh(p)===vh(g);h(n,{replace:y,state:r,preventScrollReset:o,relative:c,viewTransition:d})}},[p,h,g,t,r,e,n,o,c,d])}var AT=0,IT=()=>`__${String(++AT)}__`;function DT(){let{router:n}=ab("useSubmit"),{basename:e}=w.useContext(Po),t=tT();return w.useCallback(async(r,o={})=>{let{action:c,method:d,encType:h,formData:p,body:g}=pT(r,e);if(o.navigate===!1){let x=o.fetcherKey||IT();await n.fetch(x,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function LT(n,{relative:e}={}){let{basename:t}=w.useContext(Po),r=w.useContext(Pi);Qt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Eh(n||".",{relative:e})},d=ja();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),p=h.getAll("index");if(p.some(x=>x==="")){h.delete("index"),p.filter(y=>y).forEach(y=>h.append("index",y));let x=h.toString();c.search=x?`?${x}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:_i([t,c.pathname])),vh(c)}function $T(n,{relative:e}={}){let t=w.useContext(J1);Qt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=ab("useViewTransitionState"),o=Eh(n,{relative:e});if(!t.isTransitioning)return!1;let c=bi(t.currentLocation.pathname,r)||t.currentLocation.pathname,d=bi(t.nextLocation.pathname,r)||t.nextLocation.pathname;return sg(o.pathname,d)!=null||sg(o.pathname,c)!=null}var Ph=I1();const FT=Ng(Ph),zT="modulepreload",UT=function(n){return"/"+n},Kw={},ad=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let d=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),p=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=d(t.map(g=>{if(g=UT(g),g in Kw)return;Kw[g]=!0;const x=g.endsWith(".css"),y=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${y}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":zT,x||(b.as="script"),b.crossOrigin="",b.href=g,p&&b.setAttribute("nonce",p),document.head.appendChild(b),x)return new Promise((C,P)=>{b.addEventListener("load",C),b.addEventListener("error",()=>P(new Error(`Unable to preload CSS for ${g}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return o.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},BT=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ad(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class G0 extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class WT extends G0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yw extends G0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Jw extends G0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var i0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(i0||(i0={}));var HT=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class VT{constructor(e,{headers:t={},customFetch:r,region:o=i0.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=BT(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return HT(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:d}=t;let h={},{region:p}=t;p||(p=this.region);const g=new URL(`${this.url}/${e}`);p&&p!=="any"&&(h["x-region"]=p,g.searchParams.set("forceFunctionRegion",p));let x;d&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",x=d):typeof d=="string"?(h["Content-Type"]="text/plain",x=d):typeof FormData<"u"&&d instanceof FormData?x=d:(h["Content-Type"]="application/json",x=JSON.stringify(d)));const y=yield this.fetch(g.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:x}).catch(E=>{throw new WT(E)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new Yw(y);if(!y.ok)throw new Jw(y);let C=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),P;return C==="application/json"?P=yield y.json():C==="application/octet-stream"?P=yield y.blob():C==="text/event-stream"?P=y:C==="multipart/form-data"?P=yield y.formData():P=yield y.text(),{data:P,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof Jw||o instanceof Yw?o.context:void 0}}})}}var Mn={},Tu={},Ou={},Mu={},Au={},Iu={},GT=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},nd=GT();const qT=nd.fetch,lb=nd.fetch.bind(nd),cb=nd.Headers,KT=nd.Request,YT=nd.Response,ld=Object.freeze(Object.defineProperty({__proto__:null,Headers:cb,Request:KT,Response:YT,default:lb,fetch:qT},Symbol.toStringTag,{value:"Module"})),JT=cP(ld);var Cm={},Xw;function ub(){if(Xw)return Cm;Xw=1,Object.defineProperty(Cm,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return Cm.default=n,Cm}var Qw;function db(){if(Qw)return Iu;Qw=1;var n=Iu&&Iu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Iu,"__esModule",{value:!0});const e=n(JT),t=n(ub());class r{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,d){return this.headers=Object.assign({},this.headers),this.headers[c]=d,this}then(c,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let p=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var x,y,b;let C=null,P=null,E=null,k=g.status,R=g.statusText;if(g.ok){if(this.method!=="HEAD"){const D=await g.text();D===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?P=D:P=JSON.parse(D))}const T=(x=this.headers.Prefer)===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),A=(y=g.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&A&&A.length>1&&(E=parseInt(A[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(P)&&(P.length>1?(C={code:"PGRST116",details:`Results contain ${P.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},P=null,E=null,k=406,R="Not Acceptable"):P.length===1?P=P[0]:P=null)}else{const T=await g.text();try{C=JSON.parse(T),Array.isArray(C)&&g.status===404&&(P=[],C=null,k=200,R="OK")}catch{g.status===404&&T===""?(k=204,R="No Content"):C={message:T}}if(C&&this.isMaybeSingle&&(!((b=C==null?void 0:C.details)===null||b===void 0)&&b.includes("0 rows"))&&(C=null,k=200,R="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:P,count:E,status:k,statusText:R}});return this.shouldThrowOnError||(p=p.catch(g=>{var x,y,b;return{error:{message:`${(x=g==null?void 0:g.name)!==null&&x!==void 0?x:"FetchError"}: ${g==null?void 0:g.message}`,details:`${(y=g==null?void 0:g.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=g==null?void 0:g.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),p.then(c,d)}returns(){return this}overrideTypes(){return this}}return Iu.default=r,Iu}var Zw;function fb(){if(Zw)return Au;Zw=1;var n=Au&&Au.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Au,"__esModule",{value:!0});const e=n(db());class t extends e.default{select(o){let c=!1;const d=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",d),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:d,foreignTable:h,referencedTable:p=h}={}){const g=p?`${p}.order`:"order",x=this.url.searchParams.get(g);return this.url.searchParams.set(g,`${x?`${x},`:""}${o}.${c?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:d=c}={}){const h=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:d,referencedTable:h=d}={}){const p=typeof h>"u"?"offset":`${h}.offset`,g=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(p,`${o}`),this.url.searchParams.set(g,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:d=!1,buffers:h=!1,wal:p=!1,format:g="text"}={}){var x;const y=[o?"analyze":null,c?"verbose":null,d?"settings":null,h?"buffers":null,p?"wal":null].filter(Boolean).join("|"),b=(x=this.headers.Accept)!==null&&x!==void 0?x:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${g}; for="${b}"; options=${y};`,g==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Au.default=t,Au}var e_;function q0(){if(e_)return Mu;e_=1;var n=Mu&&Mu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Mu,"__esModule",{value:!0});const e=n(fb());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const d=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${d})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:d,type:h}={}){let p="";h==="plain"?p="pl":h==="phrase"?p="ph":h==="websearch"&&(p="w");const g=d===void 0?"":`(${d})`;return this.url.searchParams.append(o,`${p}fts${g}.${c}`),this}match(o){return Object.entries(o).forEach(([c,d])=>{this.url.searchParams.append(c,`eq.${d}`)}),this}not(o,c,d){return this.url.searchParams.append(o,`not.${c}.${d}`),this}or(o,{foreignTable:c,referencedTable:d=c}={}){const h=d?`${d}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,d){return this.url.searchParams.append(o,`${c}.${d}`),this}}return Mu.default=t,Mu}var t_;function hb(){if(t_)return Ou;t_=1;var n=Ou&&Ou.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ou,"__esModule",{value:!0});const e=n(q0());class t{constructor(o,{headers:c={},schema:d,fetch:h}){this.url=o,this.headers=c,this.schema=d,this.fetch=h}select(o,{head:c=!1,count:d}={}){const h=c?"HEAD":"GET";let p=!1;const g=(o??"*").split("").map(x=>/\s/.test(x)&&!p?"":(x==='"'&&(p=!p),x)).join("");return this.url.searchParams.set("select",g),d&&(this.headers.Prefer=`count=${d}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:d=!0}={}){const h="POST",p=[];if(this.headers.Prefer&&p.push(this.headers.Prefer),c&&p.push(`count=${c}`),d||p.push("missing=default"),this.headers.Prefer=p.join(","),Array.isArray(o)){const g=o.reduce((x,y)=>x.concat(Object.keys(y)),[]);if(g.length>0){const x=[...new Set(g)].map(y=>`"${y}"`);this.url.searchParams.set("columns",x.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:d=!1,count:h,defaultToNull:p=!0}={}){const g="POST",x=[`resolution=${d?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&x.push(this.headers.Prefer),h&&x.push(`count=${h}`),p||x.push("missing=default"),this.headers.Prefer=x.join(","),Array.isArray(o)){const y=o.reduce((b,C)=>b.concat(Object.keys(C)),[]);if(y.length>0){const b=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const d="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",d=[];return o&&d.push(`count=${o}`),this.headers.Prefer&&d.unshift(this.headers.Prefer),this.headers.Prefer=d.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Ou.default=t,Ou}var Yf={},Jf={},n_;function XT(){return n_||(n_=1,Object.defineProperty(Jf,"__esModule",{value:!0}),Jf.version=void 0,Jf.version="0.0.0-automated"),Jf}var r_;function QT(){if(r_)return Yf;r_=1,Object.defineProperty(Yf,"__esModule",{value:!0}),Yf.DEFAULT_HEADERS=void 0;const n=XT();return Yf.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},Yf}var s_;function ZT(){if(s_)return Tu;s_=1;var n=Tu&&Tu.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Tu,"__esModule",{value:!0});const e=n(hb()),t=n(q0()),r=QT();class o{constructor(d,{headers:h={},schema:p,fetch:g}={}){this.url=d,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=p,this.fetch=g}from(d){const h=new URL(`${this.url}/${d}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(d){return new o(this.url,{headers:this.headers,schema:d,fetch:this.fetch})}rpc(d,h={},{head:p=!1,get:g=!1,count:x}={}){let y;const b=new URL(`${this.url}/rpc/${d}`);let C;p||g?(y=p?"HEAD":"GET",Object.entries(h).filter(([E,k])=>k!==void 0).map(([E,k])=>[E,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([E,k])=>{b.searchParams.append(E,k)})):(y="POST",C=h);const P=Object.assign({},this.headers);return x&&(P.Prefer=`count=${x}`),new t.default({method:y,url:b,headers:P,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Tu.default=o,Tu}var o_;function eO(){if(o_)return Mn;o_=1;var n=Mn&&Mn.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(Mn,"__esModule",{value:!0}),Mn.PostgrestError=Mn.PostgrestBuilder=Mn.PostgrestTransformBuilder=Mn.PostgrestFilterBuilder=Mn.PostgrestQueryBuilder=Mn.PostgrestClient=void 0;const e=n(ZT());Mn.PostgrestClient=e.default;const t=n(hb());Mn.PostgrestQueryBuilder=t.default;const r=n(q0());Mn.PostgrestFilterBuilder=r.default;const o=n(fb());Mn.PostgrestTransformBuilder=o.default;const c=n(db());Mn.PostgrestBuilder=c.default;const d=n(ub());return Mn.PostgrestError=d.default,Mn.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:d.default},Mn}var tO=eO();const nO=Ng(tO),{PostgrestClient:rO,PostgrestQueryBuilder:Mz,PostgrestFilterBuilder:Az,PostgrestTransformBuilder:Iz,PostgrestBuilder:Dz,PostgrestError:Lz}=nO;function sO(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const oO=sO(),iO="2.11.15",aO=`realtime-js/${iO}`,lO="1.0.0",pb=1e4,cO=1e3;var ah;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(ah||(ah={}));var Qn;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(Qn||(Qn={}));var Fs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Fs||(Fs={}));var a0;(function(n){n.websocket="websocket"})(a0||(a0={}));var Ll;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Ll||(Ll={}));class uO{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),c=t.getUint8(2);let d=this.HEADER_LENGTH+2;const h=r.decode(e.slice(d,d+o));d=d+o;const p=r.decode(e.slice(d,d+c));d=d+c;const g=JSON.parse(r.decode(e.slice(d,e.byteLength)));return{ref:null,topic:h,event:p,payload:g}}}class mb{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Bt;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Bt||(Bt={}));const i_=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((c,d)=>(c[d]=dO(d,n,e,o),c),{})},dO=(n,e,t,r)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,d=t[n];return c&&!r.includes(c)?gb(c,d):l0(d)},gb=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return mO(e,t)}switch(n){case Bt.bool:return fO(e);case Bt.float4:case Bt.float8:case Bt.int2:case Bt.int4:case Bt.int8:case Bt.numeric:case Bt.oid:return hO(e);case Bt.json:case Bt.jsonb:return pO(e);case Bt.timestamp:return gO(e);case Bt.abstime:case Bt.date:case Bt.daterange:case Bt.int4range:case Bt.int8range:case Bt.money:case Bt.reltime:case Bt.text:case Bt.time:case Bt.timestamptz:case Bt.timetz:case Bt.tsrange:case Bt.tstzrange:return l0(e);default:return l0(e)}},l0=n=>n,fO=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},hO=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},pO=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},mO=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let c;const d=n.slice(1,t);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>gb(e,h))}return n},gO=n=>typeof n=="string"?n.replace(" ","T"):n,vb=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Sx{constructor(e,t,r={},o=pb){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var a_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(a_||(a_={}));class lh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lh.syncState(this.state,o,c,d),this.pendingDiffs.forEach(p=>{this.state=lh.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=lh.syncDiff(this.state,o,c,d),h())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const c=this.cloneDeep(e),d=this.transformState(t),h={},p={};return this.map(c,(g,x)=>{d[g]||(p[g]=x)}),this.map(d,(g,x)=>{const y=c[g];if(y){const b=x.map(k=>k.presence_ref),C=y.map(k=>k.presence_ref),P=x.filter(k=>C.indexOf(k.presence_ref)<0),E=y.filter(k=>b.indexOf(k.presence_ref)<0);P.length>0&&(h[g]=P),E.length>0&&(p[g]=E)}else h[g]=x}),this.syncDiff(c,{joins:h,leaves:p},r,o)}static syncDiff(e,t,r,o){const{joins:c,leaves:d}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(h,p)=>{var g;const x=(g=e[h])!==null&&g!==void 0?g:[];if(e[h]=this.cloneDeep(p),x.length>0){const y=e[h].map(C=>C.presence_ref),b=x.filter(C=>y.indexOf(C.presence_ref)<0);e[h].unshift(...b)}r(h,x,p)}),this.map(d,(h,p)=>{let g=e[h];if(!g)return;const x=p.map(y=>y.presence_ref);g=g.filter(y=>x.indexOf(y.presence_ref)<0),e[h]=g,o(h,g,p),g.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var l_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(l_||(l_={}));var c_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(c_||(c_={}));var gi;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(gi||(gi={}));class K0{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Qn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Sx(this,Fs.join,this.params,this.timeout),this.rejoinTimer=new mb(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Qn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Qn.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Qn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Fs.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new lh(this),this.broadcastEndpointURL=vb(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Qn.closed){const{config:{broadcast:c,presence:d,private:h}}=this.params;this._onError(x=>e==null?void 0:e(gi.CHANNEL_ERROR,x)),this._onClose(()=>e==null?void 0:e(gi.CLOSED));const p={},g={broadcast:c,presence:d,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(x=>x.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:g},p)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:x})=>{var y;if(this.socket.setAuth(),x===void 0){e==null||e(gi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,P=[];for(let E=0;E<C;E++){const k=b[E],{filter:{event:R,schema:j,table:T,filter:A}}=k,D=x&&x[E];if(D&&D.event===R&&D.schema===j&&D.table===T&&D.filter===A)P.push(Object.assign(Object.assign({},k),{id:D.id}));else{this.unsubscribe(),this.state=Qn.errored,e==null||e(gi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=P,e&&e(gi.SUBSCRIBED);return}}).receive("error",x=>{this.state=Qn.errored,e==null||e(gi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:d}=e,p={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,p;const g=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((p=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Qn.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Fs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new Sx(this,Fs.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),d}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Sx(this,e,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,c;const d=e.toLocaleLowerCase(),{close:h,error:p,leave:g,join:x}=Fs;if(r&&[h,p,g,x].indexOf(d)>=0&&r!==this._joinRef())return;let b=this._onMessage(d,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(C=>{var P,E,k;return((P=C.filter)===null||P===void 0?void 0:P.event)==="*"||((k=(E=C.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===d}).map(C=>C.callback(b,r)):(c=this.bindings[d])===null||c===void 0||c.filter(C=>{var P,E,k,R,j,T;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in C){const A=C.id,D=(P=C.filter)===null||P===void 0?void 0:P.event;return A&&((E=t.ids)===null||E===void 0?void 0:E.includes(A))&&(D==="*"||(D==null?void 0:D.toLocaleLowerCase())===((k=t.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const A=(j=(R=C==null?void 0:C.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return A==="*"||A===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===d}).map(C=>{if(typeof b=="object"&&"ids"in b){const P=b.data,{schema:E,table:k,commit_timestamp:R,type:j,errors:T}=P;b=Object.assign(Object.assign({},{schema:E,table:k,commit_timestamp:R,eventType:j,new:{},old:{},errors:T}),this._getPayloadRecords(P))}C.callback(b,r)})}_isClosed(){return this.state===Qn.closed}_isJoined(){return this.state===Qn.joined}_isJoining(){return this.state===Qn.joining}_isLeaving(){return this.state===Qn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&K0.isEqual(o.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Fs.close,{},e)}_onError(e){this._on(Fs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Qn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=i_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=i_(e.columns,e.old_record)),t}}const u_=()=>{},vO=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xO{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pb,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=u_,this.ref=0,this.logger=u_,this.conn=null,this.sendBuffer=[],this.serializer=new uO,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let d;return c?d=c:typeof fetch>"u"?d=(...h)=>ad(async()=>{const{default:p}=await Promise.resolve().then(()=>ld);return{default:p}},void 0).then(({default:p})=>p(...h)):d=fetch,(...h)=>d(...h)},this.endPoint=`${e}/${a0.websocket}`,this.httpEndpoint=vb(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(c,d)=>d(JSON.stringify(c)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new mb(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=oO),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:lO}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case ah.connecting:return Ll.Connecting;case ah.open:return Ll.Open;case ah.closing:return Ll.Closing;default:return Ll.Closed}}isConnected(){return this.connectionState()===Ll.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new K0(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:r,payload:o,ref:c}=e,d=()=>{this.encode(e,h=>{var p;(p=this.conn)===null||p===void 0||p.send(h)})};this.log("push",`${t} ${r} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:aO};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Fs.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(cO,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:o,payload:c,ref:d}=t;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),d&&d===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${r} ${o} ${d&&"("+d+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,c,d)),this.stateChangeCallbacks.message.forEach(h=>h(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Fs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([vO],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class Y0 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function An(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class yO extends Y0{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class c0 extends Y0{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var wO=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const xb=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ad(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},_O=()=>wO(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ad(()=>Promise.resolve().then(()=>ld),void 0)).Response:Response}),u0=n=>{if(Array.isArray(n))return n.map(t=>u0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=u0(r)}),e},bO=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Xl=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const Nx=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SO=(n,e,t)=>Xl(void 0,void 0,void 0,function*(){const r=yield _O();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const c=n.status||500,d=(o==null?void 0:o.statusCode)||c+"";e(new yO(Nx(o),c,d))}).catch(o=>{e(new c0(Nx(o),o))}):e(new c0(Nx(n),n))}),NO=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(bO(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function Rh(n,e,t,r,o,c){return Xl(this,void 0,void 0,function*(){return new Promise((d,h)=>{n(t,NO(e,r,o,c)).then(p=>{if(!p.ok)throw p;return r!=null&&r.noResolveJson?p:p.json()}).then(p=>d(p)).catch(p=>SO(p,h,r))})})}function og(n,e,t,r){return Xl(this,void 0,void 0,function*(){return Rh(n,"GET",e,t,r)})}function vi(n,e,t,r,o){return Xl(this,void 0,void 0,function*(){return Rh(n,"POST",e,r,o,t)})}function d0(n,e,t,r,o){return Xl(this,void 0,void 0,function*(){return Rh(n,"PUT",e,r,o,t)})}function kO(n,e,t,r){return Xl(this,void 0,void 0,function*(){return Rh(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function yb(n,e,t,r,o){return Xl(this,void 0,void 0,function*(){return Rh(n,"DELETE",e,r,o,t)})}var Pr=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const jO={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},d_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class CO{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=xb(o)}uploadOrUpdate(e,t,r,o){return Pr(this,void 0,void 0,function*(){try{let c;const d=Object.assign(Object.assign({},d_),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",this.encodeMetadata(p))):(c=r,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,p&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(p)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const g=this._removeEmptyFolders(t),x=this._getFinalPath(g),y=yield(e=="PUT"?d0:vi)(this.fetch,`${this.url}/object/${x}`,c,Object.assign({headers:h},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:g,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(An(c))return{data:null,error:c};throw c}})}upload(e,t,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Pr(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),d=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${d}`);h.searchParams.set("token",t);try{let p;const g=Object.assign({upsert:d_.upsert},o),x=Object.assign(Object.assign({},this.headers),{"x-upsert":String(g.upsert)});typeof Blob<"u"&&r instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",r)):typeof FormData<"u"&&r instanceof FormData?(p=r,p.append("cacheControl",g.cacheControl)):(p=r,x["cache-control"]=`max-age=${g.cacheControl}`,x["content-type"]=g.contentType);const y=yield d0(this.fetch,h.toString(),p,{headers:x});return{data:{path:c,fullPath:y.Key},error:null}}catch(p){if(An(p))return{data:null,error:p};throw p}})}createSignedUploadUrl(e,t){return Pr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield vi(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(this.url+c.url),h=d.searchParams.get("token");if(!h)throw new Y0("No token returned by API");return{data:{signedUrl:d.toString(),path:e,token:h},error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}update(e,t,r){return Pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Pr(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(An(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Pr(this,void 0,void 0,function*(){try{return{data:{path:(yield vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(An(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Pr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield vi(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const d=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${d}`)},{data:c,error:null}}catch(o){if(An(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Pr(this,void 0,void 0,function*(){try{const o=yield vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${c}`):null})),error:null}}catch(o){if(An(o))return{data:null,error:o};throw o}})}download(e,t){return Pr(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),d=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield og(this.fetch,`${this.url}/${o}/${h}${d}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(An(h))return{data:null,error:h};throw h}})}info(e){return Pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield og(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:u0(r),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}exists(e){return Pr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield kO(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(An(r)&&r instanceof c0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",p=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});p!==""&&o.push(p);let g=o.join("&");return g!==""&&(g=`?${g}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${g}`)}}}remove(e){return Pr(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}list(e,t,r){return Pr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},jO),t),{prefix:e||""});return{data:yield vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(An(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const EO="2.10.4",PO={"X-Client-Info":`storage-js/${EO}`};var Du=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class RO{constructor(e,t={},r,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},PO),t),this.fetch=xb(r)}listBuckets(){return Du(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(An(e))return{data:null,error:e};throw e}})}getBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield og(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Du(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Du(this,void 0,void 0,function*(){try{return{data:yield d0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(An(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield vi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Du(this,void 0,void 0,function*(){try{return{data:yield yb(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(An(t))return{data:null,error:t};throw t}})}}class TO extends RO{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new CO(this.url,this.headers,e,this.fetch)}}const OO="2.53.0";let eh="";typeof Deno<"u"?eh="deno":typeof document<"u"?eh="web":typeof navigator<"u"&&navigator.product==="ReactNative"?eh="react-native":eh="node";const MO={"X-Client-Info":`supabase-js-${eh}/${OO}`},AO={headers:MO},IO={schema:"public"},DO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},LO={};var $O=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};const FO=n=>{let e;return n?e=n:typeof fetch>"u"?e=lb:e=fetch,(...t)=>e(...t)},zO=()=>typeof Headers>"u"?cb:Headers,UO=(n,e,t)=>{const r=FO(t),o=zO();return(c,d)=>$O(void 0,void 0,void 0,function*(){var h;const p=(h=yield e())!==null&&h!==void 0?h:n;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",n),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(c,Object.assign(Object.assign({},d),{headers:g}))})};var BO=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};function WO(n){return n.endsWith("/")?n:n+"/"}function HO(n,e){var t,r;const{db:o,auth:c,realtime:d,global:h}=n,{db:p,auth:g,realtime:x,global:y}=e,b={db:Object.assign(Object.assign({},p),o),auth:Object.assign(Object.assign({},g),c),realtime:Object.assign(Object.assign({},x),d),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>BO(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}const wb="2.71.1",qu=30*1e3,f0=3,kx=f0*qu,VO="http://localhost:9999",GO="supabase.auth.token",qO={"X-Client-Info":`gotrue-js/${wb}`},h0="X-Supabase-Api-Version",_b={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},KO=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,YO=600*1e3;class J0 extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function it(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class JO extends J0{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function XO(n){return it(n)&&n.name==="AuthApiError"}class bb extends J0{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Ca extends J0{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class va extends Ca{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function QO(n){return it(n)&&n.name==="AuthSessionMissingError"}class Em extends Ca{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Pm extends Ca{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Rm extends Ca{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function ZO(n){return it(n)&&n.name==="AuthImplicitGrantRedirectError"}class f_ extends Ca{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class p0 extends Ca{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function jx(n){return it(n)&&n.name==="AuthRetryableFetchError"}class h_ extends Ca{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class m0 extends Ca{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ig="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),p_=` 	
\r=`.split(""),eM=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<p_.length;e+=1)n[p_[e].charCodeAt(0)]=-2;for(let e=0;e<ig.length;e+=1)n[ig[e].charCodeAt(0)]=e;return n})();function m_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ig[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(ig[r]),e.queuedBits-=6}}function Sb(n,e,t){const r=eM[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function g_(n){const e=[],t=d=>{e.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{rM(d,r,t)};for(let d=0;d<n.length;d+=1)Sb(n.charCodeAt(d),o,c);return e.join("")}function tM(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function nM(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}tM(r,e)}}function rM(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function sM(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)Sb(n.charCodeAt(o),t,r);return new Uint8Array(e)}function oM(n){const e=[];return nM(n,t=>e.push(t)),new Uint8Array(e)}function iM(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>m_(o,t,r)),m_(null,t,r),e.join("")}function aM(n){return Math.round(Date.now()/1e3)+n}function lM(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ls=()=>typeof window<"u"&&typeof document<"u",Rl={tested:!1,writable:!1},Nb=()=>{if(!Ls())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Rl.tested)return Rl.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Rl.tested=!0,Rl.writable=!0}catch{Rl.tested=!0,Rl.writable=!1}return Rl.writable};function cM(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const kb=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>ad(async()=>{const{default:r}=await Promise.resolve().then(()=>ld);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},uM=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",Ku=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},Tl=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},pa=async(n,e)=>{await n.removeItem(e)};class Pg{constructor(){this.promise=new Pg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Pg.promiseConstructor=Promise;function Cx(n){const e=n.split(".");if(e.length!==3)throw new m0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!KO.test(e[r]))throw new m0("JWT not in base64url format");return{header:JSON.parse(g_(e[0])),payload:JSON.parse(g_(e[1])),signature:sM(e[2]),raw:{header:e[0],payload:e[1]}}}async function dM(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function fM(n,e){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await n(c);if(!e(c,null,d)){r(d);return}}catch(d){if(!e(c,d)){o(d);return}}})()})}function hM(n){return("0"+n.toString(16)).substr(-2)}function pM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,hM).join("")}async function mM(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function gM(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await mM(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lu(n,e,t=!1){const r=pM();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await Ku(n,`${e}-code-verifier`,o);const c=await gM(r);return[c,r===c?"plain":"s256"]}const vM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xM(n){const e=n.headers.get(h0);if(!e||!e.match(vM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function yM(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function wM(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _M=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function $u(n){if(!_M.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ex(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function v_(n){return JSON.parse(JSON.stringify(n))}var bM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};const Il=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),SM=[502,503,504];async function x_(n){var e;if(!uM(n))throw new p0(Il(n),0);if(SM.includes(n.status))throw new p0(Il(n),n.status);let t;try{t=await n.json()}catch(c){throw new bb(Il(c),c)}let r;const o=xM(n);if(o&&o.getTime()>=_b["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new h_(Il(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new va}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new h_(Il(t),n.status,t.weak_password.reasons);throw new JO(Il(t),n.status||500,r)}const NM=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function xt(n,e,t,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[h0]||(c[h0]=_b["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await kM(n,e,t+h,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function kM(n,e,t,r,o,c){const d=NM(e,r,o,c);let h;try{h=await n(t,Object.assign({},d))}catch(p){throw console.error(p),new p0(Il(p),0)}if(h.ok||await x_(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(p){await x_(p)}}function mi(n){var e;let t=null;PM(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=aM(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function y_(n){const e=mi(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function ya(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function jM(n){return{data:n,error:null}}function CM(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c}=n,d=bM(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},d);return{data:{properties:h,user:p},error:null}}function EM(n){return n}function PM(n){return n.access_token&&n.refresh_token&&n.expires_in}const Px=["global","local","others"];var RM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class TM{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=kb(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Px[0]){if(Px.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Px.join(", ")}`);try{return await xt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await xt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:ya})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=RM(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await xt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:CM,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(it(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await xt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ya})}catch(t){if(it(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,c,d,h,p;try{const g={nextPage:null,lastPage:0,total:0},x=await xt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:EM});if(x.error)throw x.error;const y=await x.json(),b=(d=x.headers.get("x-total-count"))!==null&&d!==void 0?d:0,C=(p=(h=x.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&p!==void 0?p:[];return C.length>0&&(C.forEach(P=>{const E=parseInt(P.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(P.split(";")[1].split("=")[1]);g[`${k}Page`]=E}),g.total=parseInt(b)),{data:Object.assign(Object.assign({},y),g),error:null}}catch(g){if(it(g))return{data:{users:[]},error:g};throw g}}async getUserById(e){$u(e);try{return await xt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ya})}catch(t){if(it(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){$u(e);try{return await xt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:ya})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){$u(e);try{return await xt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:ya})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){$u(e.userId);try{const{data:t,error:r}=await xt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(it(t))return{data:null,error:t};throw t}}async _deleteFactor(e){$u(e.userId),$u(e.id);try{return{data:await xt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}}}function w_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function OM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Fu={debug:!!(globalThis&&Nb()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jb extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class MM extends jb{}async function AM(n,e,t){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw Fu.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new MM(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Fu.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}OM();const IM={url:VO,storageKey:GO,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:qO,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function __(n,e,t){return await t()}const zu={};class xh{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xh.nextInstanceID,xh.nextInstanceID+=1,this.instanceID>0&&Ls()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},IM),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new TM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=kb(o.fetch),this.lock=o.lock||__,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ls()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=AM:this.lock=__,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Nb()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=w_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=w_(this.memoryStorage)),Ls()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=zu[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=zu[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){zu[this.storageKey]=Object.assign(Object.assign({},zu[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${wb}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=cM(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ls()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),ZO(c)){const p=(e=c.details)===null||e===void 0?void 0:e.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:d,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return it(t)?{error:t}:{error:new bb("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const c=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:mi}),{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(it(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,r,o;try{let c;if("email"in e){const{email:x,password:y,options:b}=e;let C=null,P=null;this.flowType==="pkce"&&([C,P]=await Lu(this.storage,this.storageKey)),c=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:x,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:P},xform:mi})}else if("phone"in e){const{phone:x,password:y,options:b}=e;c=await xt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:x,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:mi})}else throw new Pm("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return{data:{user:null,session:null},error:h};const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(c){if(it(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:d,options:h}=e;t=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:y_})}else if("phone"in e){const{phone:c,password:d,options:h}=e;t=await xt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:y_})}else throw new Pm("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Em}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(it(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,c,d,h,p,g,x,y,b,C;let P,E;if("message"in e)P=e.message,E=e.signature;else{const{chain:k,wallet:R,statement:j,options:T}=e;let A;if(Ls())if(typeof R=="object")A=R;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))A=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=R}const D=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in A&&A.signIn){const H=await A.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:D.host,uri:D.href}),j?{statement:j}:null));let F;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")F=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)F=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)P=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),E=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in A)||typeof A.signMessage!="function"||!("publicKey"in A)||typeof A!="object"||!A.publicKey||!("toBase58"in A.publicKey)||typeof A.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");P=[`${D.host} wants you to sign in with your Solana account:`,A.publicKey.toBase58(),...j?["",j,""]:[""],"Version: 1",`URI: ${D.href}`,`Issued At: ${(o=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((d=T==null?void 0:T.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((g=T==null?void 0:T.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(x=T==null?void 0:T.signInWithSolana)===null||x===void 0?void 0:x.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const H=await A.signMessage(new TextEncoder().encode(P),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");E=H}}try{const{data:k,error:R}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:P,signature:iM(E)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:mi});if(R)throw R;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Em}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:R})}catch(k){if(it(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const t=await Tl(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:c,error:d}=await xt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:mi});if(await pa(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Em}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(it(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:c,nonce:d}=e,h=await xt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:mi}),{data:p,error:g}=h;return g?{data:{user:null,session:null},error:g}:!p||!p.session||!p.user?{data:{user:null,session:null},error:new Em}:(p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),{data:p,error:g})}catch(t){if(it(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,c,d;try{if("email"in e){const{email:h,options:p}=e;let g=null,x=null;this.flowType==="pkce"&&([g,x]=await Lu(this.storage,this.storageKey));const{error:y}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=p==null?void 0:p.data)!==null&&t!==void 0?t:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:x},redirectTo:p==null?void 0:p.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:p}=e,{data:g,error:x}=await xt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:x}}throw new Pm("You must provide either an email or phone number.")}catch(h){if(it(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,r;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:h}=await xt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:mi});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),{data:{user:g,session:p},error:null}}catch(o){if(it(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let c=null,d=null;return this.flowType==="pkce"&&([c,d]=await Lu(this.storage,this.storageKey)),await xt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:jM})}catch(c){if(it(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new va;const{error:o}=await xt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(it(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:c}=e,{error:d}=await xt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in e){const{phone:r,type:o,options:c}=e,{data:d,error:h}=await xt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:h}}throw new Pm("You must provide either an email or phone number and a type")}catch(t){if(it(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await Tl(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<kx:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const d=await Tl(this.userStorage,this.storageKey+"-user");d!=null&&d.user?e.user=d.user:e.user=Ex()}if(this.storage.isServer&&e.user){let d=this.suppressGetSessionWarning;e=new Proxy(e,{get:(p,g,x)=>(!d&&g==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(p,g,x))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ya}):await this._useSession(async t=>{var r,o,c;const{data:d,error:h}=t;if(h)throw h;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new va}:await xt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:ya})})}catch(t){if(it(t))return QO(t)&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new va;const d=o.session;let h=null,p=null;this.flowType==="pkce"&&e.email!=null&&([h,p]=await Lu(this.storage,this.storageKey));const{data:g,error:x}=await xt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:p}),jwt:d.access_token,xform:ya});if(x)throw x;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new va;const t=Date.now()/1e3;let r=t,o=!0,c=null;const{payload:d}=Cx(e.access_token);if(d.exp&&(r=d.exp,o=r<=t),o){const{session:h,error:p}=await this._callRefreshToken(e.refresh_token);if(p)return{data:{user:null,session:null},error:p};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:p}=await this._getUser(e.access_token);if(p)throw p;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(it(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:d,error:h}=t;if(h)throw h;e=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new va;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(it(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ls())throw new Rm("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Rm(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new f_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Rm("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new f_("No code detected.");const{data:j,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const A=new URL(window.location.href);return A.searchParams.delete("code"),window.history.replaceState(window.history.state,"",A.toString()),{data:{session:j.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:h,expires_at:p,token_type:g}=e;if(!c||!h||!d||!g)throw new Rm("No session defined in URL");const x=Math.round(Date.now()/1e3),y=parseInt(h);let b=x+y;p&&(b=parseInt(p));const C=b-x;C*1e3<=qu&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const P=b-y;x-P>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",P,b,x):x-P<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",P,b,x);const{data:E,error:k}=await this._getUser(c);if(k)throw k;const R={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:b,refresh_token:d,token_type:g,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(it(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Tl(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{error:c};const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(XO(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await pa(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=lM(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:c},error:d}=t;if(d)throw d;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Lu(this.storage,this.storageKey,!0));try{return await xt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(it(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(it(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async c=>{var d,h,p,g,x;const{data:y,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(p=e.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await xt(this.fetch,"GET",C,{headers:this.headers,jwt:(x=(g=y.session)===null||g===void 0?void 0:g.access_token)!==null&&x!==void 0?x:void 0})});if(o)throw o;return Ls()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(it(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:d}=t;if(d)throw d;return await xt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(it(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await fM(async o=>(o>0&&await dM(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await xt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:mi})),(o,c)=>{const d=200*Math.pow(2,o);return c&&jx(c)&&Date.now()+d-r<qu})}catch(r){if(this._debug(t,"error",r),it(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ls()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Tl(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Tl(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Ku(this.userStorage,this.storageKey+"-user",d)),o.user=(e=d==null?void 0:d.user)!==null&&e!==void 0?e:Ex()}else if(o&&!o.user&&!o.user){const d=await Tl(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await pa(this.storage,this.storageKey+"-user"),await Ku(this.storage,this.storageKey,o)):o.user=Ex()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<kx;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${kx}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),jx(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(o.access_token);!h&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new va;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pg;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new va;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),it(c)){const d={session:null,error:c};return jx(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await Ku(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=v_(o);await Ku(this.storage,this.storageKey,c)}else{const o=v_(t);await Ku(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await pa(this.storage,this.storageKey),await pa(this.storage,this.storageKey+"-code-verifier"),await pa(this.storage,this.storageKey+"-user"),this.userStorage&&await pa(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ls()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),qu);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/qu);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${qu}ms, refresh threshold is ${f0} ticks`),o<=f0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jb)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ls()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,d]=await Lu(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await xt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(it(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:d}=t;if(d)return{data:null,error:d};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:p,error:g}=await xt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?{data:null,error:g}:(e.factorType==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),{data:p,error:null})})}catch(t){if(it(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:d,error:h}=await xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+d.expires_in},d)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",d),{data:d,error:h})})}catch(t){if(it(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await xt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(it(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],o=r.filter(d=>d.factor_type==="totp"&&d.status==="verified"),c=r.filter(d=>d.factor_type==="phone"&&d.status==="verified");return{data:{all:r,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=Cx(o.access_token);let h=null;d.aal&&(h=d.aal);let p=h;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(p="aal2");const x=d.amr||[];return{data:{currentLevel:h,nextLevel:p,currentAuthenticationMethods:x},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+YO>o)return r;const{data:c,error:d}=await xt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:C,error:P}=await this.getSession();if(P||!C.session)return{data:null,error:P};r=C.session.access_token}const{header:o,payload:c,signature:d,raw:{header:h,payload:p}}=Cx(r);t!=null&&t.allowExpired||yM(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!g){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:c,header:o,signature:d},error:null}}const x=wM(o.alg),y=await crypto.subtle.importKey("jwk",g,x,!0,["verify"]);if(!await crypto.subtle.verify(x,y,d,oM(`${h}.${p}`)))throw new m0("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}}xh.nextInstanceID=0;const DM=xh;class LM extends DM{constructor(e){super(e)}}var $M=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(d){d(c)})}return new(t||(t=Promise))(function(c,d){function h(x){try{g(r.next(x))}catch(y){d(y)}}function p(x){try{g(r.throw(x))}catch(y){d(y)}}function g(x){x.done?c(x.value):o(x.value).then(h,p)}g((r=r.apply(n,e||[])).next())})};class FM{constructor(e,t,r){var o,c,d;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=WO(e),p=new URL(h);this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const g=`sb-${p.hostname.split(".")[0]}-auth-token`,x={db:IO,realtime:LO,auth:Object.assign(Object.assign({},DO),{storageKey:g}),global:AO},y=HO(r??{},x);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=UO(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new rO(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new TO(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new VT(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return $M(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:c,flowType:d,lock:h,debug:p},g,x){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new LM({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),g),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:d,lock:h,debug:p,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xO(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zM=(n,e,t)=>new FM(n,e,t);function UM(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}UM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const BM="https://zbhvwxpvlxqxadqzshfc.supabase.co",WM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MjUzNzQsImV4cCI6MjA2NzUwMTM3NH0.TfyuqzBbK-8CIQ-8sTKrH4nMHW7w28nPIhtTLi9Olsc",Me=zM(BM,WM),Cb=w.createContext(),Th=()=>{const n=w.useContext(Cb);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},HM=({children:n})=>{const[e,t]=w.useState(null),[r,o]=w.useState(!0);w.useEffect(()=>{Me.auth.getSession().then(({data:{session:y}})=>{t((y==null?void 0:y.user)??null),o(!1)});const{data:x}=Me.auth.onAuthStateChange((y,b)=>{t((b==null?void 0:b.user)??null),o(!1)});return()=>{x==null||x.subscription.unsubscribe()}},[]);const g={user:e,loading:r,signInWithProvider:async x=>{const{error:y}=await Me.auth.signInWithOAuth({provider:x});if(y)throw y},signInWithEmail:async(x,y)=>{const{error:b}=await Me.auth.signInWithPassword({email:x,password:y});if(b)throw b},signUpWithEmail:async(x,y)=>{const{data:b,error:C}=await Me.auth.signUp({email:x,password:y});if(C)throw C;return b},signOut:async()=>{const{error:x}=await Me.auth.signOut();if(x)throw x}};return l.jsx(Cb.Provider,{value:g,children:!r&&n})};function b_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Rg(...n){return e=>{let t=!1;const r=n.map(o=>{const c=b_(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():b_(n[o],null)}}}}function Ot(...n){return w.useCallback(Rg(...n),n)}function Wl(n){const e=GM(n),t=w.forwardRef((r,o)=>{const{children:c,...d}=r,h=w.Children.toArray(c),p=h.find(KM);if(p){const g=p.props.children,x=h.map(y=>y===p?w.Children.count(g)>1?w.Children.only(null):w.isValidElement(g)?g.props.children:null:y);return l.jsx(e,{...d,ref:o,children:w.isValidElement(g)?w.cloneElement(g,void 0,x):null})}return l.jsx(e,{...d,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var VM=Wl("Slot");function GM(n){const e=w.forwardRef((t,r)=>{const{children:o,...c}=t;if(w.isValidElement(o)){const d=JM(o),h=YM(c,o.props);return o.type!==w.Fragment&&(h.ref=r?Rg(r,d):d),w.cloneElement(o,h)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var qM=Symbol("radix.slottable");function KM(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===qM}function YM(n,e){const t={...e};for(const r in e){const o=n[r],c=e[r];/^on[A-Z]/.test(r)?o&&c?t[r]=(...h)=>{const p=c(...h);return o(...h),p}:o&&(t[r]=o):r==="style"?t[r]={...o,...c}:r==="className"&&(t[r]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function JM(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Eb(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Eb(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Pb(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Eb(n))&&(r&&(r+=" "),r+=e);return r}const S_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,N_=Pb,Oh=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return N_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,d=Object.keys(o).map(g=>{const x=t==null?void 0:t[g],y=c==null?void 0:c[g];if(x===null)return null;const b=S_(x)||S_(y);return o[g][b]}),h=t&&Object.entries(t).reduce((g,x)=>{let[y,b]=x;return b===void 0||(g[y]=b),g},{}),p=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((g,x)=>{let{class:y,className:b,...C}=x;return Object.entries(C).every(P=>{let[E,k]=P;return Array.isArray(k)?k.includes({...c,...h}[E]):{...c,...h}[E]===k})?[...g,y,b]:g},[]);return N_(n,d,p,t==null?void 0:t.class,t==null?void 0:t.className)},X0="-",XM=n=>{const e=ZM(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:d=>{const h=d.split(X0);return h[0]===""&&h.length!==1&&h.shift(),Rb(h,e)||QM(d)},getConflictingClassGroupIds:(d,h)=>{const p=t[d]||[];return h&&r[d]?[...p,...r[d]]:p}}},Rb=(n,e)=>{var d;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?Rb(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(X0);return(d=e.validators.find(({validator:h})=>h(c)))==null?void 0:d.classGroupId},k_=/^\[(.+)\]$/,QM=n=>{if(k_.test(n)){const e=k_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},ZM=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)g0(t[o],r,o,e);return r},g0=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:j_(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(eA(o)){g0(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,d])=>{g0(d,j_(e,c),t,r)})})},j_=(n,e)=>{let t=n;return e.split(X0).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},eA=n=>n.isThemeGetter,tA=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(c,d)=>{t.set(c,d),e++,e>n&&(e=0,r=t,t=new Map)};return{get(c){let d=t.get(c);if(d!==void 0)return d;if((d=r.get(c))!==void 0)return o(c,d),d},set(c,d){t.has(c)?t.set(c,d):o(c,d)}}},v0="!",x0=":",nA=x0.length,rA=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const c=[];let d=0,h=0,p=0,g;for(let P=0;P<o.length;P++){let E=o[P];if(d===0&&h===0){if(E===x0){c.push(o.slice(p,P)),p=P+nA;continue}if(E==="/"){g=P;continue}}E==="["?d++:E==="]"?d--:E==="("?h++:E===")"&&h--}const x=c.length===0?o:o.substring(p),y=sA(x),b=y!==x,C=g&&g>p?g-p:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:C}};if(e){const o=e+x0,c=r;r=d=>d.startsWith(o)?c(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=c=>t({className:c,parseClassName:o})}return r},sA=n=>n.endsWith(v0)?n.substring(0,n.length-1):n.startsWith(v0)?n.substring(1):n,oA=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let c=[];return r.forEach(d=>{d[0]==="["||e[d]?(o.push(...c.sort(),d),c=[]):c.push(d)}),o.push(...c.sort()),o}},iA=n=>({cache:tA(n.cacheSize),parseClassName:rA(n),sortModifiers:oA(n),...XM(n)}),aA=/\s+/,lA=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,d=[],h=n.trim().split(aA);let p="";for(let g=h.length-1;g>=0;g-=1){const x=h[g],{isExternal:y,modifiers:b,hasImportantModifier:C,baseClassName:P,maybePostfixModifierPosition:E}=t(x);if(y){p=x+(p.length>0?" "+p:p);continue}let k=!!E,R=r(k?P.substring(0,E):P);if(!R){if(!k){p=x+(p.length>0?" "+p:p);continue}if(R=r(P),!R){p=x+(p.length>0?" "+p:p);continue}k=!1}const j=c(b).join(":"),T=C?j+v0:j,A=T+R;if(d.includes(A))continue;d.push(A);const D=o(R,k);for(let H=0;H<D.length;++H){const F=D[H];d.push(T+F)}p=x+(p.length>0?" "+p:p)}return p};function cA(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=Tb(e))&&(r&&(r+=" "),r+=t);return r}const Tb=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=Tb(n[r]))&&(t&&(t+=" "),t+=e);return t};function uA(n,...e){let t,r,o,c=d;function d(p){const g=e.reduce((x,y)=>y(x),n());return t=iA(g),r=t.cache.get,o=t.cache.set,c=h,h(p)}function h(p){const g=r(p);if(g)return g;const x=lA(p,t);return o(p,x),x}return function(){return c(cA.apply(null,arguments))}}const bn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},Ob=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,Mb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dA=/^\d+\/\d+$/,fA=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hA=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pA=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mA=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gA=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Uu=n=>dA.test(n),dt=n=>!!n&&!Number.isNaN(Number(n)),ma=n=>!!n&&Number.isInteger(Number(n)),Rx=n=>n.endsWith("%")&&dt(n.slice(0,-1)),pi=n=>fA.test(n),vA=()=>!0,xA=n=>hA.test(n)&&!pA.test(n),Ab=()=>!1,yA=n=>mA.test(n),wA=n=>gA.test(n),_A=n=>!De(n)&&!Le(n),bA=n=>cd(n,Lb,Ab),De=n=>Ob.test(n),Ol=n=>cd(n,$b,xA),Tx=n=>cd(n,CA,dt),C_=n=>cd(n,Ib,Ab),SA=n=>cd(n,Db,wA),Tm=n=>cd(n,Fb,yA),Le=n=>Mb.test(n),Xf=n=>ud(n,$b),NA=n=>ud(n,EA),E_=n=>ud(n,Ib),kA=n=>ud(n,Lb),jA=n=>ud(n,Db),Om=n=>ud(n,Fb,!0),cd=(n,e,t)=>{const r=Ob.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},ud=(n,e,t=!1)=>{const r=Mb.exec(n);return r?r[1]?e(r[1]):t:!1},Ib=n=>n==="position"||n==="percentage",Db=n=>n==="image"||n==="url",Lb=n=>n==="length"||n==="size"||n==="bg-size",$b=n=>n==="length",CA=n=>n==="number",EA=n=>n==="family-name",Fb=n=>n==="shadow",PA=()=>{const n=bn("color"),e=bn("font"),t=bn("text"),r=bn("font-weight"),o=bn("tracking"),c=bn("leading"),d=bn("breakpoint"),h=bn("container"),p=bn("spacing"),g=bn("radius"),x=bn("shadow"),y=bn("inset-shadow"),b=bn("text-shadow"),C=bn("drop-shadow"),P=bn("blur"),E=bn("perspective"),k=bn("aspect"),R=bn("ease"),j=bn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],A=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],D=()=>[...A(),Le,De],H=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],$=()=>[Le,De,p],G=()=>[Uu,"full","auto",...$()],X=()=>[ma,"none","subgrid",Le,De],ne=()=>["auto",{span:["full",ma,Le,De]},ma,Le,De],ae=()=>[ma,"auto",Le,De],pe=()=>["auto","min","max","fr",Le,De],me=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],je=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...$()],be=()=>[Uu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...$()],B=()=>[n,Le,De],Y=()=>[...A(),E_,C_,{position:[Le,De]}],re=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",kA,bA,{size:[Le,De]}],U=()=>[Rx,Xf,Ol],q=()=>["","none","full",g,Le,De],ie=()=>["",dt,Xf,Ol],ue=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[dt,Rx,E_,C_],fe=()=>["","none",P,Le,De],Ne=()=>["none",dt,Le,De],Ce=()=>["none",dt,Le,De],Be=()=>[dt,Le,De],Ie=()=>[Uu,"full",...$()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[pi],breakpoint:[pi],color:[vA],container:[pi],"drop-shadow":[pi],ease:["in","out","in-out"],font:[_A],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[pi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[pi],shadow:[pi],spacing:["px",dt],text:[pi],"text-shadow":[pi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Uu,De,Le,k]}],container:["container"],columns:[{columns:[dt,De,Le,h]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:D()}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:G()}],"inset-x":[{"inset-x":G()}],"inset-y":[{"inset-y":G()}],start:[{start:G()}],end:[{end:G()}],top:[{top:G()}],right:[{right:G()}],bottom:[{bottom:G()}],left:[{left:G()}],visibility:["visible","invisible","collapse"],z:[{z:[ma,"auto",Le,De]}],basis:[{basis:[Uu,"full","auto",h,...$()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[dt,Uu,"auto","initial","none",De]}],grow:[{grow:["",dt,Le,De]}],shrink:[{shrink:["",dt,Le,De]}],order:[{order:[ma,"first","last","none",Le,De]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:ne()}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:ne()}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":pe()}],"auto-rows":[{"auto-rows":pe()}],gap:[{gap:$()}],"gap-x":[{"gap-x":$()}],"gap-y":[{"gap-y":$()}],"justify-content":[{justify:[...me(),"normal"]}],"justify-items":[{"justify-items":[...je(),"normal"]}],"justify-self":[{"justify-self":["auto",...je()]}],"align-content":[{content:["normal",...me()]}],"align-items":[{items:[...je(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...je(),{baseline:["","last"]}]}],"place-content":[{"place-content":me()}],"place-items":[{"place-items":[...je(),"baseline"]}],"place-self":[{"place-self":["auto",...je()]}],p:[{p:$()}],px:[{px:$()}],py:[{py:$()}],ps:[{ps:$()}],pe:[{pe:$()}],pt:[{pt:$()}],pr:[{pr:$()}],pb:[{pb:$()}],pl:[{pl:$()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":$()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":$()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[h,"screen",...be()]}],"min-w":[{"min-w":[h,"screen","none",...be()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[d]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",t,Xf,Ol]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Le,Tx]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Rx,De]}],"font-family":[{font:[NA,De,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Le,De]}],"line-clamp":[{"line-clamp":[dt,"none",Le,Tx]}],leading:[{leading:[c,...$()]}],"list-image":[{"list-image":["none",Le,De]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Le,De]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:B()}],"text-color":[{text:B()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[dt,"from-font","auto",Le,Ol]}],"text-decoration-color":[{decoration:B()}],"underline-offset":[{"underline-offset":[dt,"auto",Le,De]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:$()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Le,De]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Le,De]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Y()}],"bg-repeat":[{bg:re()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},ma,Le,De],radial:["",Le,De],conic:[ma,Le,De]},jA,SA]}],"bg-color":[{bg:B()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:B()}],"gradient-via":[{via:B()}],"gradient-to":[{to:B()}],rounded:[{rounded:q()}],"rounded-s":[{"rounded-s":q()}],"rounded-e":[{"rounded-e":q()}],"rounded-t":[{"rounded-t":q()}],"rounded-r":[{"rounded-r":q()}],"rounded-b":[{"rounded-b":q()}],"rounded-l":[{"rounded-l":q()}],"rounded-ss":[{"rounded-ss":q()}],"rounded-se":[{"rounded-se":q()}],"rounded-ee":[{"rounded-ee":q()}],"rounded-es":[{"rounded-es":q()}],"rounded-tl":[{"rounded-tl":q()}],"rounded-tr":[{"rounded-tr":q()}],"rounded-br":[{"rounded-br":q()}],"rounded-bl":[{"rounded-bl":q()}],"border-w":[{border:ie()}],"border-w-x":[{"border-x":ie()}],"border-w-y":[{"border-y":ie()}],"border-w-s":[{"border-s":ie()}],"border-w-e":[{"border-e":ie()}],"border-w-t":[{"border-t":ie()}],"border-w-r":[{"border-r":ie()}],"border-w-b":[{"border-b":ie()}],"border-w-l":[{"border-l":ie()}],"divide-x":[{"divide-x":ie()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ie()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:B()}],"border-color-x":[{"border-x":B()}],"border-color-y":[{"border-y":B()}],"border-color-s":[{"border-s":B()}],"border-color-e":[{"border-e":B()}],"border-color-t":[{"border-t":B()}],"border-color-r":[{"border-r":B()}],"border-color-b":[{"border-b":B()}],"border-color-l":[{"border-l":B()}],"divide-color":[{divide:B()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[dt,Le,De]}],"outline-w":[{outline:["",dt,Xf,Ol]}],"outline-color":[{outline:B()}],shadow:[{shadow:["","none",x,Om,Tm]}],"shadow-color":[{shadow:B()}],"inset-shadow":[{"inset-shadow":["none",y,Om,Tm]}],"inset-shadow-color":[{"inset-shadow":B()}],"ring-w":[{ring:ie()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:B()}],"ring-offset-w":[{"ring-offset":[dt,Ol]}],"ring-offset-color":[{"ring-offset":B()}],"inset-ring-w":[{"inset-ring":ie()}],"inset-ring-color":[{"inset-ring":B()}],"text-shadow":[{"text-shadow":["none",b,Om,Tm]}],"text-shadow-color":[{"text-shadow":B()}],opacity:[{opacity:[dt,Le,De]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[dt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":B()}],"mask-image-linear-to-color":[{"mask-linear-to":B()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":B()}],"mask-image-t-to-color":[{"mask-t-to":B()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":B()}],"mask-image-r-to-color":[{"mask-r-to":B()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":B()}],"mask-image-b-to-color":[{"mask-b-to":B()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":B()}],"mask-image-l-to-color":[{"mask-l-to":B()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":B()}],"mask-image-x-to-color":[{"mask-x-to":B()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":B()}],"mask-image-y-to-color":[{"mask-y-to":B()}],"mask-image-radial":[{"mask-radial":[Le,De]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":B()}],"mask-image-radial-to-color":[{"mask-radial-to":B()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":A()}],"mask-image-conic-pos":[{"mask-conic":[dt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":B()}],"mask-image-conic-to-color":[{"mask-conic-to":B()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Y()}],"mask-repeat":[{mask:re()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Le,De]}],filter:[{filter:["","none",Le,De]}],blur:[{blur:fe()}],brightness:[{brightness:[dt,Le,De]}],contrast:[{contrast:[dt,Le,De]}],"drop-shadow":[{"drop-shadow":["","none",C,Om,Tm]}],"drop-shadow-color":[{"drop-shadow":B()}],grayscale:[{grayscale:["",dt,Le,De]}],"hue-rotate":[{"hue-rotate":[dt,Le,De]}],invert:[{invert:["",dt,Le,De]}],saturate:[{saturate:[dt,Le,De]}],sepia:[{sepia:["",dt,Le,De]}],"backdrop-filter":[{"backdrop-filter":["","none",Le,De]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[dt,Le,De]}],"backdrop-contrast":[{"backdrop-contrast":[dt,Le,De]}],"backdrop-grayscale":[{"backdrop-grayscale":["",dt,Le,De]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[dt,Le,De]}],"backdrop-invert":[{"backdrop-invert":["",dt,Le,De]}],"backdrop-opacity":[{"backdrop-opacity":[dt,Le,De]}],"backdrop-saturate":[{"backdrop-saturate":[dt,Le,De]}],"backdrop-sepia":[{"backdrop-sepia":["",dt,Le,De]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":$()}],"border-spacing-x":[{"border-spacing-x":$()}],"border-spacing-y":[{"border-spacing-y":$()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Le,De]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[dt,"initial",Le,De]}],ease:[{ease:["linear","initial",R,Le,De]}],delay:[{delay:[dt,Le,De]}],animate:[{animate:["none",j,Le,De]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[E,Le,De]}],"perspective-origin":[{"perspective-origin":D()}],rotate:[{rotate:Ne()}],"rotate-x":[{"rotate-x":Ne()}],"rotate-y":[{"rotate-y":Ne()}],"rotate-z":[{"rotate-z":Ne()}],scale:[{scale:Ce()}],"scale-x":[{"scale-x":Ce()}],"scale-y":[{"scale-y":Ce()}],"scale-z":[{"scale-z":Ce()}],"scale-3d":["scale-3d"],skew:[{skew:Be()}],"skew-x":[{"skew-x":Be()}],"skew-y":[{"skew-y":Be()}],transform:[{transform:[Le,De,"","none","gpu","cpu"]}],"transform-origin":[{origin:D()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ie()}],"translate-x":[{"translate-x":Ie()}],"translate-y":[{"translate-y":Ie()}],"translate-z":[{"translate-z":Ie()}],"translate-none":["translate-none"],accent:[{accent:B()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:B()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Le,De]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":$()}],"scroll-mx":[{"scroll-mx":$()}],"scroll-my":[{"scroll-my":$()}],"scroll-ms":[{"scroll-ms":$()}],"scroll-me":[{"scroll-me":$()}],"scroll-mt":[{"scroll-mt":$()}],"scroll-mr":[{"scroll-mr":$()}],"scroll-mb":[{"scroll-mb":$()}],"scroll-ml":[{"scroll-ml":$()}],"scroll-p":[{"scroll-p":$()}],"scroll-px":[{"scroll-px":$()}],"scroll-py":[{"scroll-py":$()}],"scroll-ps":[{"scroll-ps":$()}],"scroll-pe":[{"scroll-pe":$()}],"scroll-pt":[{"scroll-pt":$()}],"scroll-pr":[{"scroll-pr":$()}],"scroll-pb":[{"scroll-pb":$()}],"scroll-pl":[{"scroll-pl":$()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Le,De]}],fill:[{fill:["none",...B()]}],"stroke-w":[{stroke:[dt,Xf,Ol,Tx]}],stroke:[{stroke:["none",...B()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},RA=uA(PA);function Fe(...n){return RA(Pb(n))}const TA=Oh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),nt=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},c)=>{const d=r?VM:"button";return l.jsx(d,{className:Fe(TA({variant:e,size:t,className:n})),ref:c,...o})});nt.displayName="Button";const Ve=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Ve.displayName="Card";const ft=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("flex flex-col space-y-1.5 p-6",n),...e}));ft.displayName="CardHeader";const ht=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("font-semibold leading-none tracking-tight",n),...e}));ht.displayName="CardTitle";const So=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("text-sm text-muted-foreground",n),...e}));So.displayName="CardDescription";const Ye=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("p-6 pt-0",n),...e}));Ye.displayName="CardContent";const OA=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("flex items-center p-6 pt-0",n),...e}));OA.displayName="CardFooter";const gt=w.forwardRef(({className:n,type:e,...t},r)=>l.jsx("input",{type:e,className:Fe("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));gt.displayName="Input";var MA=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],et=MA.reduce((n,e)=>{const t=Wl(`Primitive.${e}`),r=w.forwardRef((o,c)=>{const{asChild:d,...h}=o,p=d?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(p,{...h,ref:c})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function zb(n,e){n&&Ph.flushSync(()=>n.dispatchEvent(e))}var AA="Label",Ub=w.forwardRef((n,e)=>l.jsx(et.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));Ub.displayName=AA;var Bb=Ub;const IA=Oh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Wt=w.forwardRef(({className:n,...e},t)=>l.jsx(Bb,{ref:t,className:Fe(IA(),n),...e}));Wt.displayName=Bb.displayName;const DA=Oh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Si=w.forwardRef(({className:n,variant:e,...t},r)=>l.jsx("div",{ref:r,role:"alert",className:Fe(DA({variant:e}),n),...t}));Si.displayName="Alert";const LA=w.forwardRef(({className:n,...e},t)=>l.jsx("h5",{ref:t,className:Fe("mb-1 font-medium leading-none tracking-tight",n),...e}));LA.displayName="AlertTitle";const Ni=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("text-sm [&_p]:leading-relaxed",n),...e}));Ni.displayName="AlertDescription";function We(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function $A(n,e){const t=w.createContext(e),r=c=>{const{children:d,...h}=c,p=w.useMemo(()=>h,Object.values(h));return l.jsx(t.Provider,{value:p,children:d})};r.displayName=n+"Provider";function o(c){const d=w.useContext(t);if(d)return d;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[r,o]}function xs(n,e=[]){let t=[];function r(c,d){const h=w.createContext(d),p=t.length;t=[...t,d];const g=y=>{var R;const{scope:b,children:C,...P}=y,E=((R=b==null?void 0:b[n])==null?void 0:R[p])||h,k=w.useMemo(()=>P,Object.values(P));return l.jsx(E.Provider,{value:k,children:C})};g.displayName=c+"Provider";function x(y,b){var E;const C=((E=b==null?void 0:b[n])==null?void 0:E[p])||h,P=w.useContext(C);if(P)return P;if(d!==void 0)return d;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[g,x]}const o=()=>{const c=t.map(d=>w.createContext(d));return function(h){const p=(h==null?void 0:h[n])||c;return w.useMemo(()=>({[`__scope${n}`]:{...h,[n]:p}}),[h,p])}};return o.scopeName=n,[r,FA(o,...e)]}function FA(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const d=r.reduce((h,{useScope:p,scopeName:g})=>{const y=p(c)[`__scope${g}`];return{...h,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:d}),[d])}};return t.scopeName=e.scopeName,t}function Tg(n){const e=n+"CollectionProvider",[t,r]=xs(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),d=E=>{const{scope:k,children:R}=E,j=sn.useRef(null),T=sn.useRef(new Map).current;return l.jsx(o,{scope:k,itemMap:T,collectionRef:j,children:R})};d.displayName=e;const h=n+"CollectionSlot",p=Wl(h),g=sn.forwardRef((E,k)=>{const{scope:R,children:j}=E,T=c(h,R),A=Ot(k,T.collectionRef);return l.jsx(p,{ref:A,children:j})});g.displayName=h;const x=n+"CollectionItemSlot",y="data-radix-collection-item",b=Wl(x),C=sn.forwardRef((E,k)=>{const{scope:R,children:j,...T}=E,A=sn.useRef(null),D=Ot(k,A),H=c(x,R);return sn.useEffect(()=>(H.itemMap.set(A,{ref:A,...T}),()=>void H.itemMap.delete(A))),l.jsx(b,{[y]:"",ref:D,children:j})});C.displayName=x;function P(E){const k=c(n+"CollectionConsumer",E);return sn.useCallback(()=>{const j=k.collectionRef.current;if(!j)return[];const T=Array.from(j.querySelectorAll(`[${y}]`));return Array.from(k.itemMap.values()).sort((H,F)=>T.indexOf(H.ref.current)-T.indexOf(F.ref.current))},[k.collectionRef,k.itemMap])}return[{Provider:d,Slot:g,ItemSlot:C},P,r]}var gn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},zA=z0[" useId ".trim().toString()]||(()=>{}),UA=0;function gs(n){const[e,t]=w.useState(zA());return gn(()=>{t(r=>r??String(UA++))},[n]),e?`radix-${e}`:""}function Us(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var BA=z0[" useInsertionEffect ".trim().toString()]||gn;function ki({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,c,d]=WA({defaultProp:e,onChange:t}),h=n!==void 0,p=h?n:o;{const x=w.useRef(n!==void 0);w.useEffect(()=>{const y=x.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),x.current=h},[h,r])}const g=w.useCallback(x=>{var y;if(h){const b=HA(x)?x(n):x;b!==n&&((y=d.current)==null||y.call(d,b))}else c(x)},[h,n,c,d]);return[p,g]}function WA({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),c=w.useRef(e);return BA(()=>{c.current=e},[e]),w.useEffect(()=>{var d;o.current!==t&&((d=c.current)==null||d.call(c,t),o.current=t)},[t,o]),[t,r,c]}function HA(n){return typeof n=="function"}var VA=w.createContext(void 0);function Mh(n){const e=w.useContext(VA);return n||e||"ltr"}var Ox="rovingFocusGroup.onEntryFocus",GA={bubbles:!1,cancelable:!0},Ah="RovingFocusGroup",[y0,Wb,qA]=Tg(Ah),[KA,Og]=xs(Ah,[qA]),[YA,JA]=KA(Ah),Hb=w.forwardRef((n,e)=>l.jsx(y0.Provider,{scope:n.__scopeRovingFocusGroup,children:l.jsx(y0.Slot,{scope:n.__scopeRovingFocusGroup,children:l.jsx(XA,{...n,ref:e})})}));Hb.displayName=Ah;var XA=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:c,currentTabStopId:d,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:p,onEntryFocus:g,preventScrollOnEntryFocus:x=!1,...y}=n,b=w.useRef(null),C=Ot(e,b),P=Mh(c),[E,k]=ki({prop:d,defaultProp:h??null,onChange:p,caller:Ah}),[R,j]=w.useState(!1),T=Us(g),A=Wb(t),D=w.useRef(!1),[H,F]=w.useState(0);return w.useEffect(()=>{const $=b.current;if($)return $.addEventListener(Ox,T),()=>$.removeEventListener(Ox,T)},[T]),l.jsx(YA,{scope:t,orientation:r,dir:P,loop:o,currentTabStopId:E,onItemFocus:w.useCallback($=>k($),[k]),onItemShiftTab:w.useCallback(()=>j(!0),[]),onFocusableItemAdd:w.useCallback(()=>F($=>$+1),[]),onFocusableItemRemove:w.useCallback(()=>F($=>$-1),[]),children:l.jsx(et.div,{tabIndex:R||H===0?-1:0,"data-orientation":r,...y,ref:C,style:{outline:"none",...n.style},onMouseDown:We(n.onMouseDown,()=>{D.current=!0}),onFocus:We(n.onFocus,$=>{const G=!D.current;if($.target===$.currentTarget&&G&&!R){const X=new CustomEvent(Ox,GA);if($.currentTarget.dispatchEvent(X),!X.defaultPrevented){const ne=A().filter(ge=>ge.focusable),ae=ne.find(ge=>ge.active),pe=ne.find(ge=>ge.id===E),je=[ae,pe,...ne].filter(Boolean).map(ge=>ge.ref.current);qb(je,x)}}D.current=!1}),onBlur:We(n.onBlur,()=>j(!1))})})}),Vb="RovingFocusGroupItem",Gb=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:c,children:d,...h}=n,p=gs(),g=c||p,x=JA(Vb,t),y=x.currentTabStopId===g,b=Wb(t),{onFocusableItemAdd:C,onFocusableItemRemove:P,currentTabStopId:E}=x;return w.useEffect(()=>{if(r)return C(),()=>P()},[r,C,P]),l.jsx(y0.ItemSlot,{scope:t,id:g,focusable:r,active:o,children:l.jsx(et.span,{tabIndex:y?0:-1,"data-orientation":x.orientation,...h,ref:e,onMouseDown:We(n.onMouseDown,k=>{r?x.onItemFocus(g):k.preventDefault()}),onFocus:We(n.onFocus,()=>x.onItemFocus(g)),onKeyDown:We(n.onKeyDown,k=>{if(k.key==="Tab"&&k.shiftKey){x.onItemShiftTab();return}if(k.target!==k.currentTarget)return;const R=eI(k,x.orientation,x.dir);if(R!==void 0){if(k.metaKey||k.ctrlKey||k.altKey||k.shiftKey)return;k.preventDefault();let T=b().filter(A=>A.focusable).map(A=>A.ref.current);if(R==="last")T.reverse();else if(R==="prev"||R==="next"){R==="prev"&&T.reverse();const A=T.indexOf(k.currentTarget);T=x.loop?tI(T,A+1):T.slice(A+1)}setTimeout(()=>qb(T))}}),children:typeof d=="function"?d({isCurrentTabStop:y,hasTabStop:E!=null}):d})})});Gb.displayName=Vb;var QA={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function ZA(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function eI(n,e,t){const r=ZA(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return QA[r]}function qb(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function tI(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Kb=Hb,Yb=Gb;function nI(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var Ro=n=>{const{present:e,children:t}=n,r=rI(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),c=Ot(r.ref,sI(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:c}):null};Ro.displayName="Presence";function rI(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),c=w.useRef("none"),d=n?"mounted":"unmounted",[h,p]=nI(d,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const g=Mm(r.current);c.current=h==="mounted"?g:"none"},[h]),gn(()=>{const g=r.current,x=o.current;if(x!==n){const b=c.current,C=Mm(g);n?p("MOUNT"):C==="none"||(g==null?void 0:g.display)==="none"?p("UNMOUNT"):p(x&&b!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,p]),gn(()=>{if(e){let g;const x=e.ownerDocument.defaultView??window,y=C=>{const E=Mm(r.current).includes(C.animationName);if(C.target===e&&E&&(p("ANIMATION_END"),!o.current)){const k=e.style.animationFillMode;e.style.animationFillMode="forwards",g=x.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=k)})}},b=C=>{C.target===e&&(c.current=Mm(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{x.clearTimeout(g),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else p("ANIMATION_END")},[e,p]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:w.useCallback(g=>{r.current=g?getComputedStyle(g):null,t(g)},[])}}function Mm(n){return(n==null?void 0:n.animationName)||"none"}function sI(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Mg="Tabs",[oI,$z]=xs(Mg,[Og]),Jb=Og(),[iI,Q0]=oI(Mg),Xb=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:c,orientation:d="horizontal",dir:h,activationMode:p="automatic",...g}=n,x=Mh(h),[y,b]=ki({prop:r,onChange:o,defaultProp:c??"",caller:Mg});return l.jsx(iI,{scope:t,baseId:gs(),value:y,onValueChange:b,orientation:d,dir:x,activationMode:p,children:l.jsx(et.div,{dir:x,"data-orientation":d,...g,ref:e})})});Xb.displayName=Mg;var Qb="TabsList",Zb=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,c=Q0(Qb,t),d=Jb(t);return l.jsx(Kb,{asChild:!0,...d,orientation:c.orientation,dir:c.dir,loop:r,children:l.jsx(et.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});Zb.displayName=Qb;var eS="TabsTrigger",tS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...c}=n,d=Q0(eS,t),h=Jb(t),p=sS(d.baseId,r),g=oS(d.baseId,r),x=r===d.value;return l.jsx(Yb,{asChild:!0,...h,focusable:!o,active:x,children:l.jsx(et.button,{type:"button",role:"tab","aria-selected":x,"aria-controls":g,"data-state":x?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:p,...c,ref:e,onMouseDown:We(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?d.onValueChange(r):y.preventDefault()}),onKeyDown:We(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&d.onValueChange(r)}),onFocus:We(n.onFocus,()=>{const y=d.activationMode!=="manual";!x&&!o&&y&&d.onValueChange(r)})})})});tS.displayName=eS;var nS="TabsContent",rS=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:c,...d}=n,h=Q0(nS,t),p=sS(h.baseId,r),g=oS(h.baseId,r),x=r===h.value,y=w.useRef(x);return w.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),l.jsx(Ro,{present:o||x,children:({present:b})=>l.jsx(et.div,{"data-state":x?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":p,hidden:!b,id:g,tabIndex:0,...d,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:b&&c})})});rS.displayName=nS;function sS(n,e){return`${n}-trigger-${e}`}function oS(n,e){return`${n}-content-${e}`}var aI=Xb,iS=Zb,aS=tS,lS=rS;const Ag=aI,Ih=w.forwardRef(({className:n,...e},t)=>l.jsx(iS,{ref:t,className:Fe("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));Ih.displayName=iS.displayName;const ps=w.forwardRef(({className:n,...e},t)=>l.jsx(aS,{ref:t,className:Fe("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));ps.displayName=aS.displayName;const ms=w.forwardRef(({className:n,...e},t)=>l.jsx(lS,{ref:t,className:Fe("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));ms.displayName=lS.displayName;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),cS=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uI=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...h},p)=>w.createElement("svg",{ref:p,...cI,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:cS("lucide",o),...h},[...d.map(([g,x])=>w.createElement(g,x)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const t=w.forwardRef(({className:r,...o},c)=>w.createElement(uI,{ref:c,iconNode:e,className:cS(`lucide-${lI(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],uS=$e("Bed",dI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fI=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],hI=$e("Bot",fI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],mI=$e("CalendarDays",pI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dh=$e("Calendar",gI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vI=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xI=$e("ChartColumn",vI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yI=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],ch=$e("CheckCheck",yI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ji=$e("Check",wI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _I=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z0=$e("ChevronDown",_I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bI=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],SI=$e("ChevronLeft",bI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NI=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],dS=$e("ChevronRight",NI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],jI=$e("ChevronUp",kI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Sa=$e("CircleAlert",CI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ag=$e("CircleCheckBig",EI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],RI=$e("CirclePlus",PI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],OI=$e("Circle",TI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],uh=$e("Clock",MI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AI=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],II=$e("Cloud",AI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],fS=$e("CreditCard",DI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],hS=$e("DollarSign",LI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],pS=$e("Download",$I);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FI=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],zI=$e("EllipsisVertical",FI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],lg=$e("FileText",UI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],WI=$e("FileWarning",BI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],Lh=$e("Filter",HI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],w0=$e("Gift",VI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],mS=$e("Globe",GI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],KI=$e("GripVertical",qI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],JI=$e("History",YI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],QI=$e("Hotel",XI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZI=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],rd=$e("House",ZI);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],tD=$e("Laptop",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vm=$e("LoaderCircle",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Xu=$e("LogIn",rD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],_a=$e("LogOut",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Ig=$e("Mail",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Dg=$e("MapPin",iD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],cg=$e("MessageCircle",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],cD=$e("Package",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],dD=$e("Paperclip",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fD=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Ea=$e("Phone",fD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],pD=$e("Play",hD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ey=$e("Plus",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],vD=$e("Printer",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ug=$e("RefreshCw",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yD=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],gS=$e("Save",yD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],Hl=$e("Search",wD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _D=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],bD=$e("Send",_D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SD=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],P_=$e("Server",SD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],R_=$e("Settings",ND);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],jD=$e("Smile",kD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],ED=$e("Sparkles",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PD=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],_0=$e("SquareCheckBig",PD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],TD=$e("SquarePen",RD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Mx=$e("Trash2",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],AD=$e("TrendingDown",MD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],vS=$e("TrendingUp",ID);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],LD=$e("TriangleAlert",DD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],FD=$e("Upload",$D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],UD=$e("UserCheck",zD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Co=$e("User",BD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],xS=$e("Users",WD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],VD=$e("Video",HD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],yS=$e("Webhook",GD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ty=$e("X",qD);function KD(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var YD="DismissableLayer",b0="dismissableLayer.update",JD="dismissableLayer.pointerDownOutside",XD="dismissableLayer.focusOutside",T_,wS=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Lg=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:d,onDismiss:h,...p}=n,g=w.useContext(wS),[x,y]=w.useState(null),b=(x==null?void 0:x.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),P=Ot(e,F=>y(F)),E=Array.from(g.layers),[k]=[...g.layersWithOutsidePointerEventsDisabled].slice(-1),R=E.indexOf(k),j=x?E.indexOf(x):-1,T=g.layersWithOutsidePointerEventsDisabled.size>0,A=j>=R,D=eL(F=>{const $=F.target,G=[...g.branches].some(X=>X.contains($));!A||G||(o==null||o(F),d==null||d(F),F.defaultPrevented||h==null||h())},b),H=tL(F=>{const $=F.target;[...g.branches].some(X=>X.contains($))||(c==null||c(F),d==null||d(F),F.defaultPrevented||h==null||h())},b);return KD(F=>{j===g.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},b),w.useEffect(()=>{if(x)return t&&(g.layersWithOutsidePointerEventsDisabled.size===0&&(T_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),g.layersWithOutsidePointerEventsDisabled.add(x)),g.layers.add(x),O_(),()=>{t&&g.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=T_)}},[x,b,t,g]),w.useEffect(()=>()=>{x&&(g.layers.delete(x),g.layersWithOutsidePointerEventsDisabled.delete(x),O_())},[x,g]),w.useEffect(()=>{const F=()=>C({});return document.addEventListener(b0,F),()=>document.removeEventListener(b0,F)},[]),l.jsx(et.div,{...p,ref:P,style:{pointerEvents:T?A?"auto":"none":void 0,...n.style},onFocusCapture:We(n.onFocusCapture,H.onFocusCapture),onBlurCapture:We(n.onBlurCapture,H.onBlurCapture),onPointerDownCapture:We(n.onPointerDownCapture,D.onPointerDownCapture)})});Lg.displayName=YD;var QD="DismissableLayerBranch",ZD=w.forwardRef((n,e)=>{const t=w.useContext(wS),r=w.useRef(null),o=Ot(e,r);return w.useEffect(()=>{const c=r.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),l.jsx(et.div,{...n,ref:o})});ZD.displayName=QD;function eL(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let p=function(){_S(JD,t,g,{discrete:!0})};const g={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=p,e.addEventListener("click",o.current,{once:!0})):p()}else e.removeEventListener("click",o.current);r.current=!1},d=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(d),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function tL(n,e=globalThis==null?void 0:globalThis.document){const t=Us(n),r=w.useRef(!1);return w.useEffect(()=>{const o=c=>{c.target&&!r.current&&_S(XD,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function O_(){const n=new CustomEvent(b0);document.dispatchEvent(n)}function _S(n,e,t,{discrete:r}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?zb(o,c):o.dispatchEvent(c)}var Ax=0;function ny(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??M_()),document.body.insertAdjacentElement("beforeend",n[1]??M_()),Ax++,()=>{Ax===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Ax--}},[])}function M_(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Ix="focusScope.autoFocusOnMount",Dx="focusScope.autoFocusOnUnmount",A_={bubbles:!1,cancelable:!0},nL="FocusScope",$g=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...d}=n,[h,p]=w.useState(null),g=Us(o),x=Us(c),y=w.useRef(null),b=Ot(e,E=>p(E)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let E=function(T){if(C.paused||!h)return;const A=T.target;h.contains(A)?y.current=A:xa(y.current,{select:!0})},k=function(T){if(C.paused||!h)return;const A=T.relatedTarget;A!==null&&(h.contains(A)||xa(y.current,{select:!0}))},R=function(T){if(document.activeElement===document.body)for(const D of T)D.removedNodes.length>0&&xa(h)};document.addEventListener("focusin",E),document.addEventListener("focusout",k);const j=new MutationObserver(R);return h&&j.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",E),document.removeEventListener("focusout",k),j.disconnect()}}},[r,h,C.paused]),w.useEffect(()=>{if(h){D_.add(C);const E=document.activeElement;if(!h.contains(E)){const R=new CustomEvent(Ix,A_);h.addEventListener(Ix,g),h.dispatchEvent(R),R.defaultPrevented||(rL(lL(bS(h)),{select:!0}),document.activeElement===E&&xa(h))}return()=>{h.removeEventListener(Ix,g),setTimeout(()=>{const R=new CustomEvent(Dx,A_);h.addEventListener(Dx,x),h.dispatchEvent(R),R.defaultPrevented||xa(E??document.body,{select:!0}),h.removeEventListener(Dx,x),D_.remove(C)},0)}}},[h,g,x,C]);const P=w.useCallback(E=>{if(!t&&!r||C.paused)return;const k=E.key==="Tab"&&!E.altKey&&!E.ctrlKey&&!E.metaKey,R=document.activeElement;if(k&&R){const j=E.currentTarget,[T,A]=sL(j);T&&A?!E.shiftKey&&R===A?(E.preventDefault(),t&&xa(T,{select:!0})):E.shiftKey&&R===T&&(E.preventDefault(),t&&xa(A,{select:!0})):R===j&&E.preventDefault()}},[t,r,C.paused]);return l.jsx(et.div,{tabIndex:-1,...d,ref:b,onKeyDown:P})});$g.displayName=nL;function rL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(xa(r,{select:e}),document.activeElement!==t)return}function sL(n){const e=bS(n),t=I_(e,n),r=I_(e.reverse(),n);return[t,r]}function bS(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function I_(n,e){for(const t of n)if(!oL(t,{upTo:e}))return t}function oL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function iL(n){return n instanceof HTMLInputElement&&"select"in n}function xa(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&iL(n)&&e&&n.select()}}var D_=aL();function aL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=L_(n,e),n.unshift(e)},remove(e){var t;n=L_(n,e),(t=n[0])==null||t.resume()}}}function L_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function lL(n){return n.filter(e=>e.tagName!=="A")}const cL=["top","right","bottom","left"],Na=Math.min,qr=Math.max,dg=Math.round,Am=Math.floor,ko=n=>({x:n,y:n}),uL={left:"right",right:"left",bottom:"top",top:"bottom"},dL={start:"end",end:"start"};function S0(n,e,t){return qr(n,Na(e,t))}function Ci(n,e){return typeof n=="function"?n(e):n}function Ei(n){return n.split("-")[0]}function dd(n){return n.split("-")[1]}function ry(n){return n==="x"?"y":"x"}function sy(n){return n==="y"?"height":"width"}const fL=new Set(["top","bottom"]);function No(n){return fL.has(Ei(n))?"y":"x"}function oy(n){return ry(No(n))}function hL(n,e,t){t===void 0&&(t=!1);const r=dd(n),o=oy(n),c=sy(o);let d=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(d=fg(d)),[d,fg(d)]}function pL(n){const e=fg(n);return[N0(n),e,N0(e)]}function N0(n){return n.replace(/start|end/g,e=>dL[e])}const $_=["left","right"],F_=["right","left"],mL=["top","bottom"],gL=["bottom","top"];function vL(n,e,t){switch(n){case"top":case"bottom":return t?e?F_:$_:e?$_:F_;case"left":case"right":return e?mL:gL;default:return[]}}function xL(n,e,t,r){const o=dd(n);let c=vL(Ei(n),t==="start",r);return o&&(c=c.map(d=>d+"-"+o),e&&(c=c.concat(c.map(N0)))),c}function fg(n){return n.replace(/left|right|bottom|top/g,e=>uL[e])}function yL(n){return{top:0,right:0,bottom:0,left:0,...n}}function SS(n){return typeof n!="number"?yL(n):{top:n,right:n,bottom:n,left:n}}function hg(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function z_(n,e,t){let{reference:r,floating:o}=n;const c=No(e),d=oy(e),h=sy(d),p=Ei(e),g=c==="y",x=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,b=r[h]/2-o[h]/2;let C;switch(p){case"top":C={x,y:r.y-o.height};break;case"bottom":C={x,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y};break;case"left":C={x:r.x-o.width,y};break;default:C={x:r.x,y:r.y}}switch(dd(e)){case"start":C[d]-=b*(t&&g?-1:1);break;case"end":C[d]+=b*(t&&g?-1:1);break}return C}const wL=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:c=[],platform:d}=t,h=c.filter(Boolean),p=await(d.isRTL==null?void 0:d.isRTL(e));let g=await d.getElementRects({reference:n,floating:e,strategy:o}),{x,y}=z_(g,r,p),b=r,C={},P=0;for(let E=0;E<h.length;E++){const{name:k,fn:R}=h[E],{x:j,y:T,data:A,reset:D}=await R({x,y,initialPlacement:r,placement:b,strategy:o,middlewareData:C,rects:g,platform:d,elements:{reference:n,floating:e}});x=j??x,y=T??y,C={...C,[k]:{...C[k],...A}},D&&P<=50&&(P++,typeof D=="object"&&(D.placement&&(b=D.placement),D.rects&&(g=D.rects===!0?await d.getElementRects({reference:n,floating:e,strategy:o}):D.rects),{x,y}=z_(g,b,p)),E=-1)}return{x,y,placement:b,strategy:o,middlewareData:C}};async function yh(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:c,rects:d,elements:h,strategy:p}=n,{boundary:g="clippingAncestors",rootBoundary:x="viewport",elementContext:y="floating",altBoundary:b=!1,padding:C=0}=Ci(e,n),P=SS(C),k=h[b?y==="floating"?"reference":"floating":y],R=hg(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(k)))==null||t?k:k.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:g,rootBoundary:x,strategy:p})),j=y==="floating"?{x:r,y:o,width:d.floating.width,height:d.floating.height}:d.reference,T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),A=await(c.isElement==null?void 0:c.isElement(T))?await(c.getScale==null?void 0:c.getScale(T))||{x:1,y:1}:{x:1,y:1},D=hg(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:j,offsetParent:T,strategy:p}):j);return{top:(R.top-D.top+P.top)/A.y,bottom:(D.bottom-R.bottom+P.bottom)/A.y,left:(R.left-D.left+P.left)/A.x,right:(D.right-R.right+P.right)/A.x}}const _L=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:c,platform:d,elements:h,middlewareData:p}=e,{element:g,padding:x=0}=Ci(n,e)||{};if(g==null)return{};const y=SS(x),b={x:t,y:r},C=oy(o),P=sy(C),E=await d.getDimensions(g),k=C==="y",R=k?"top":"left",j=k?"bottom":"right",T=k?"clientHeight":"clientWidth",A=c.reference[P]+c.reference[C]-b[C]-c.floating[P],D=b[C]-c.reference[C],H=await(d.getOffsetParent==null?void 0:d.getOffsetParent(g));let F=H?H[T]:0;(!F||!await(d.isElement==null?void 0:d.isElement(H)))&&(F=h.floating[T]||c.floating[P]);const $=A/2-D/2,G=F/2-E[P]/2-1,X=Na(y[R],G),ne=Na(y[j],G),ae=X,pe=F-E[P]-ne,me=F/2-E[P]/2+$,je=S0(ae,me,pe),ge=!p.arrow&&dd(o)!=null&&me!==je&&c.reference[P]/2-(me<ae?X:ne)-E[P]/2<0,be=ge?me<ae?me-ae:me-pe:0;return{[C]:b[C]+be,data:{[C]:je,centerOffset:me-je-be,...ge&&{alignmentOffset:be}},reset:ge}}}),bL=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:c,rects:d,initialPlacement:h,platform:p,elements:g}=e,{mainAxis:x=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:P="none",flipAlignment:E=!0,...k}=Ci(n,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const R=Ei(o),j=No(h),T=Ei(h)===h,A=await(p.isRTL==null?void 0:p.isRTL(g.floating)),D=b||(T||!E?[fg(h)]:pL(h)),H=P!=="none";!b&&H&&D.push(...xL(h,E,P,A));const F=[h,...D],$=await yh(e,k),G=[];let X=((r=c.flip)==null?void 0:r.overflows)||[];if(x&&G.push($[R]),y){const me=hL(o,d,A);G.push($[me[0]],$[me[1]])}if(X=[...X,{placement:o,overflows:G}],!G.every(me=>me<=0)){var ne,ae;const me=(((ne=c.flip)==null?void 0:ne.index)||0)+1,je=F[me];if(je&&(!(y==="alignment"?j!==No(je):!1)||X.every(B=>B.overflows[0]>0&&No(B.placement)===j)))return{data:{index:me,overflows:X},reset:{placement:je}};let ge=(ae=X.filter(be=>be.overflows[0]<=0).sort((be,B)=>be.overflows[1]-B.overflows[1])[0])==null?void 0:ae.placement;if(!ge)switch(C){case"bestFit":{var pe;const be=(pe=X.filter(B=>{if(H){const Y=No(B.placement);return Y===j||Y==="y"}return!0}).map(B=>[B.placement,B.overflows.filter(Y=>Y>0).reduce((Y,re)=>Y+re,0)]).sort((B,Y)=>B[1]-Y[1])[0])==null?void 0:pe[0];be&&(ge=be);break}case"initialPlacement":ge=h;break}if(o!==ge)return{reset:{placement:ge}}}return{}}}};function U_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function B_(n){return cL.some(e=>n[e]>=0)}const SL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Ci(n,e);switch(r){case"referenceHidden":{const c=await yh(e,{...o,elementContext:"reference"}),d=U_(c,t.reference);return{data:{referenceHiddenOffsets:d,referenceHidden:B_(d)}}}case"escaped":{const c=await yh(e,{...o,altBoundary:!0}),d=U_(c,t.floating);return{data:{escapedOffsets:d,escaped:B_(d)}}}default:return{}}}}},NS=new Set(["left","top"]);async function NL(n,e){const{placement:t,platform:r,elements:o}=n,c=await(r.isRTL==null?void 0:r.isRTL(o.floating)),d=Ei(t),h=dd(t),p=No(t)==="y",g=NS.has(d)?-1:1,x=c&&p?-1:1,y=Ci(e,n);let{mainAxis:b,crossAxis:C,alignmentAxis:P}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof P=="number"&&(C=h==="end"?P*-1:P),p?{x:C*x,y:b*g}:{x:b*g,y:C*x}}const kL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:c,placement:d,middlewareData:h}=e,p=await NL(e,n);return d===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+p.x,y:c+p.y,data:{...p,placement:d}}}}},jL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:c=!0,crossAxis:d=!1,limiter:h={fn:k=>{let{x:R,y:j}=k;return{x:R,y:j}}},...p}=Ci(n,e),g={x:t,y:r},x=await yh(e,p),y=No(Ei(o)),b=ry(y);let C=g[b],P=g[y];if(c){const k=b==="y"?"top":"left",R=b==="y"?"bottom":"right",j=C+x[k],T=C-x[R];C=S0(j,C,T)}if(d){const k=y==="y"?"top":"left",R=y==="y"?"bottom":"right",j=P+x[k],T=P-x[R];P=S0(j,P,T)}const E=h.fn({...e,[b]:C,[y]:P});return{...E,data:{x:E.x-t,y:E.y-r,enabled:{[b]:c,[y]:d}}}}}},CL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:c,middlewareData:d}=e,{offset:h=0,mainAxis:p=!0,crossAxis:g=!0}=Ci(n,e),x={x:t,y:r},y=No(o),b=ry(y);let C=x[b],P=x[y];const E=Ci(h,e),k=typeof E=="number"?{mainAxis:E,crossAxis:0}:{mainAxis:0,crossAxis:0,...E};if(p){const T=b==="y"?"height":"width",A=c.reference[b]-c.floating[T]+k.mainAxis,D=c.reference[b]+c.reference[T]-k.mainAxis;C<A?C=A:C>D&&(C=D)}if(g){var R,j;const T=b==="y"?"width":"height",A=NS.has(Ei(o)),D=c.reference[y]-c.floating[T]+(A&&((R=d.offset)==null?void 0:R[y])||0)+(A?0:k.crossAxis),H=c.reference[y]+c.reference[T]+(A?0:((j=d.offset)==null?void 0:j[y])||0)-(A?k.crossAxis:0);P<D?P=D:P>H&&(P=H)}return{[b]:C,[y]:P}}}},EL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:c,platform:d,elements:h}=e,{apply:p=()=>{},...g}=Ci(n,e),x=await yh(e,g),y=Ei(o),b=dd(o),C=No(o)==="y",{width:P,height:E}=c.floating;let k,R;y==="top"||y==="bottom"?(k=y,R=b===(await(d.isRTL==null?void 0:d.isRTL(h.floating))?"start":"end")?"left":"right"):(R=y,k=b==="end"?"top":"bottom");const j=E-x.top-x.bottom,T=P-x.left-x.right,A=Na(E-x[k],j),D=Na(P-x[R],T),H=!e.middlewareData.shift;let F=A,$=D;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&($=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=j),H&&!b){const X=qr(x.left,0),ne=qr(x.right,0),ae=qr(x.top,0),pe=qr(x.bottom,0);C?$=P-2*(X!==0||ne!==0?X+ne:qr(x.left,x.right)):F=E-2*(ae!==0||pe!==0?ae+pe:qr(x.top,x.bottom))}await p({...e,availableWidth:$,availableHeight:F});const G=await d.getDimensions(h.floating);return P!==G.width||E!==G.height?{reset:{rects:!0}}:{}}}};function Fg(){return typeof window<"u"}function fd(n){return kS(n)?(n.nodeName||"").toLowerCase():"#document"}function Kr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function To(n){var e;return(e=(kS(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function kS(n){return Fg()?n instanceof Node||n instanceof Kr(n).Node:!1}function Bs(n){return Fg()?n instanceof Element||n instanceof Kr(n).Element:!1}function Eo(n){return Fg()?n instanceof HTMLElement||n instanceof Kr(n).HTMLElement:!1}function W_(n){return!Fg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Kr(n).ShadowRoot}const PL=new Set(["inline","contents"]);function $h(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Ws(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!PL.has(o)}const RL=new Set(["table","td","th"]);function TL(n){return RL.has(fd(n))}const OL=[":popover-open",":modal"];function zg(n){return OL.some(e=>{try{return n.matches(e)}catch{return!1}})}const ML=["transform","translate","scale","rotate","perspective"],AL=["transform","translate","scale","rotate","perspective","filter"],IL=["paint","layout","strict","content"];function iy(n){const e=ay(),t=Bs(n)?Ws(n):n;return ML.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||AL.some(r=>(t.willChange||"").includes(r))||IL.some(r=>(t.contain||"").includes(r))}function DL(n){let e=ka(n);for(;Eo(e)&&!sd(e);){if(iy(e))return e;if(zg(e))return null;e=ka(e)}return null}function ay(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const LL=new Set(["html","body","#document"]);function sd(n){return LL.has(fd(n))}function Ws(n){return Kr(n).getComputedStyle(n)}function Ug(n){return Bs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function ka(n){if(fd(n)==="html")return n;const e=n.assignedSlot||n.parentNode||W_(n)&&n.host||To(n);return W_(e)?e.host:e}function jS(n){const e=ka(n);return sd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Eo(e)&&$h(e)?e:jS(e)}function wh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=jS(n),c=o===((r=n.ownerDocument)==null?void 0:r.body),d=Kr(o);if(c){const h=k0(d);return e.concat(d,d.visualViewport||[],$h(o)?o:[],h&&t?wh(h):[])}return e.concat(o,wh(o,[],t))}function k0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function CS(n){const e=Ws(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Eo(n),c=o?n.offsetWidth:t,d=o?n.offsetHeight:r,h=dg(t)!==c||dg(r)!==d;return h&&(t=c,r=d),{width:t,height:r,$:h}}function ly(n){return Bs(n)?n:n.contextElement}function Qu(n){const e=ly(n);if(!Eo(e))return ko(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:c}=CS(e);let d=(c?dg(t.width):t.width)/r,h=(c?dg(t.height):t.height)/o;return(!d||!Number.isFinite(d))&&(d=1),(!h||!Number.isFinite(h))&&(h=1),{x:d,y:h}}const $L=ko(0);function ES(n){const e=Kr(n);return!ay()||!e.visualViewport?$L:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function FL(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Kr(n)?!1:e}function Vl(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),c=ly(n);let d=ko(1);e&&(r?Bs(r)&&(d=Qu(r)):d=Qu(n));const h=FL(c,t,r)?ES(c):ko(0);let p=(o.left+h.x)/d.x,g=(o.top+h.y)/d.y,x=o.width/d.x,y=o.height/d.y;if(c){const b=Kr(c),C=r&&Bs(r)?Kr(r):r;let P=b,E=k0(P);for(;E&&r&&C!==P;){const k=Qu(E),R=E.getBoundingClientRect(),j=Ws(E),T=R.left+(E.clientLeft+parseFloat(j.paddingLeft))*k.x,A=R.top+(E.clientTop+parseFloat(j.paddingTop))*k.y;p*=k.x,g*=k.y,x*=k.x,y*=k.y,p+=T,g+=A,P=Kr(E),E=k0(P)}}return hg({width:x,height:y,x:p,y:g})}function cy(n,e){const t=Ug(n).scrollLeft;return e?e.left+t:Vl(To(n)).left+t}function PS(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:cy(n,r)),c=r.top+e.scrollTop;return{x:o,y:c}}function zL(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const c=o==="fixed",d=To(r),h=e?zg(e.floating):!1;if(r===d||h&&c)return t;let p={scrollLeft:0,scrollTop:0},g=ko(1);const x=ko(0),y=Eo(r);if((y||!y&&!c)&&((fd(r)!=="body"||$h(d))&&(p=Ug(r)),Eo(r))){const C=Vl(r);g=Qu(r),x.x=C.x+r.clientLeft,x.y=C.y+r.clientTop}const b=d&&!y&&!c?PS(d,p,!0):ko(0);return{width:t.width*g.x,height:t.height*g.y,x:t.x*g.x-p.scrollLeft*g.x+x.x+b.x,y:t.y*g.y-p.scrollTop*g.y+x.y+b.y}}function UL(n){return Array.from(n.getClientRects())}function BL(n){const e=To(n),t=Ug(n),r=n.ownerDocument.body,o=qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),c=qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let d=-t.scrollLeft+cy(n);const h=-t.scrollTop;return Ws(r).direction==="rtl"&&(d+=qr(e.clientWidth,r.clientWidth)-o),{width:o,height:c,x:d,y:h}}function WL(n,e){const t=Kr(n),r=To(n),o=t.visualViewport;let c=r.clientWidth,d=r.clientHeight,h=0,p=0;if(o){c=o.width,d=o.height;const g=ay();(!g||g&&e==="fixed")&&(h=o.offsetLeft,p=o.offsetTop)}return{width:c,height:d,x:h,y:p}}const HL=new Set(["absolute","fixed"]);function VL(n,e){const t=Vl(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,c=Eo(n)?Qu(n):ko(1),d=n.clientWidth*c.x,h=n.clientHeight*c.y,p=o*c.x,g=r*c.y;return{width:d,height:h,x:p,y:g}}function H_(n,e,t){let r;if(e==="viewport")r=WL(n,t);else if(e==="document")r=BL(To(n));else if(Bs(e))r=VL(e,t);else{const o=ES(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return hg(r)}function RS(n,e){const t=ka(n);return t===e||!Bs(t)||sd(t)?!1:Ws(t).position==="fixed"||RS(t,e)}function GL(n,e){const t=e.get(n);if(t)return t;let r=wh(n,[],!1).filter(h=>Bs(h)&&fd(h)!=="body"),o=null;const c=Ws(n).position==="fixed";let d=c?ka(n):n;for(;Bs(d)&&!sd(d);){const h=Ws(d),p=iy(d);!p&&h.position==="fixed"&&(o=null),(c?!p&&!o:!p&&h.position==="static"&&!!o&&HL.has(o.position)||$h(d)&&!p&&RS(n,d))?r=r.filter(x=>x!==d):o=h,d=ka(d)}return e.set(n,r),r}function qL(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const d=[...t==="clippingAncestors"?zg(e)?[]:GL(e,this._c):[].concat(t),r],h=d[0],p=d.reduce((g,x)=>{const y=H_(e,x,o);return g.top=qr(y.top,g.top),g.right=Na(y.right,g.right),g.bottom=Na(y.bottom,g.bottom),g.left=qr(y.left,g.left),g},H_(e,h,o));return{width:p.right-p.left,height:p.bottom-p.top,x:p.left,y:p.top}}function KL(n){const{width:e,height:t}=CS(n);return{width:e,height:t}}function YL(n,e,t){const r=Eo(e),o=To(e),c=t==="fixed",d=Vl(n,!0,c,e);let h={scrollLeft:0,scrollTop:0};const p=ko(0);function g(){p.x=cy(o)}if(r||!r&&!c)if((fd(e)!=="body"||$h(o))&&(h=Ug(e)),r){const C=Vl(e,!0,c,e);p.x=C.x+e.clientLeft,p.y=C.y+e.clientTop}else o&&g();c&&!r&&o&&g();const x=o&&!r&&!c?PS(o,h):ko(0),y=d.left+h.scrollLeft-p.x-x.x,b=d.top+h.scrollTop-p.y-x.y;return{x:y,y:b,width:d.width,height:d.height}}function Lx(n){return Ws(n).position==="static"}function V_(n,e){if(!Eo(n)||Ws(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return To(n)===t&&(t=t.ownerDocument.body),t}function TS(n,e){const t=Kr(n);if(zg(n))return t;if(!Eo(n)){let o=ka(n);for(;o&&!sd(o);){if(Bs(o)&&!Lx(o))return o;o=ka(o)}return t}let r=V_(n,e);for(;r&&TL(r)&&Lx(r);)r=V_(r,e);return r&&sd(r)&&Lx(r)&&!iy(r)?t:r||DL(n)||t}const JL=async function(n){const e=this.getOffsetParent||TS,t=this.getDimensions,r=await t(n.floating);return{reference:YL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function XL(n){return Ws(n).direction==="rtl"}const QL={convertOffsetParentRelativeRectToViewportRelativeRect:zL,getDocumentElement:To,getClippingRect:qL,getOffsetParent:TS,getElementRects:JL,getClientRects:UL,getDimensions:KL,getScale:Qu,isElement:Bs,isRTL:XL};function OS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function ZL(n,e){let t=null,r;const o=To(n);function c(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function d(h,p){h===void 0&&(h=!1),p===void 0&&(p=1),c();const g=n.getBoundingClientRect(),{left:x,top:y,width:b,height:C}=g;if(h||e(),!b||!C)return;const P=Am(y),E=Am(o.clientWidth-(x+b)),k=Am(o.clientHeight-(y+C)),R=Am(x),T={rootMargin:-P+"px "+-E+"px "+-k+"px "+-R+"px",threshold:qr(0,Na(1,p))||1};let A=!0;function D(H){const F=H[0].intersectionRatio;if(F!==p){if(!A)return d();F?d(!1,F):r=setTimeout(()=>{d(!1,1e-7)},1e3)}F===1&&!OS(g,n.getBoundingClientRect())&&d(),A=!1}try{t=new IntersectionObserver(D,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(D,T)}t.observe(n)}return d(!0),c}function e$(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:d=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:p=!1}=r,g=ly(n),x=o||c?[...g?wh(g):[],...wh(e)]:[];x.forEach(R=>{o&&R.addEventListener("scroll",t,{passive:!0}),c&&R.addEventListener("resize",t)});const y=g&&h?ZL(g,t):null;let b=-1,C=null;d&&(C=new ResizeObserver(R=>{let[j]=R;j&&j.target===g&&C&&(C.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(e)})),t()}),g&&!p&&C.observe(g),C.observe(e));let P,E=p?Vl(n):null;p&&k();function k(){const R=Vl(n);E&&!OS(E,R)&&t(),E=R,P=requestAnimationFrame(k)}return t(),()=>{var R;x.forEach(j=>{o&&j.removeEventListener("scroll",t),c&&j.removeEventListener("resize",t)}),y==null||y(),(R=C)==null||R.disconnect(),C=null,p&&cancelAnimationFrame(P)}}const t$=kL,n$=jL,r$=bL,s$=EL,o$=SL,G_=_L,i$=CL,a$=(n,e,t)=>{const r=new Map,o={platform:QL,...t},c={...o.platform,_c:r};return wL(n,e,{...o,platform:c})};var l$=typeof document<"u",c$=function(){},Gm=l$?w.useLayoutEffect:c$;function pg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!pg(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const c=o[r];if(!(c==="_owner"&&n.$$typeof)&&!pg(n[c],e[c]))return!1}return!0}return n!==n&&e!==e}function MS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function q_(n,e){const t=MS(n);return Math.round(e*t)/t}function $x(n){const e=w.useRef(n);return Gm(()=>{e.current=n}),e}function u$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:c,floating:d}={},transform:h=!0,whileElementsMounted:p,open:g}=n,[x,y]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,C]=w.useState(r);pg(b,r)||C(r);const[P,E]=w.useState(null),[k,R]=w.useState(null),j=w.useCallback(B=>{B!==H.current&&(H.current=B,E(B))},[]),T=w.useCallback(B=>{B!==F.current&&(F.current=B,R(B))},[]),A=c||P,D=d||k,H=w.useRef(null),F=w.useRef(null),$=w.useRef(x),G=p!=null,X=$x(p),ne=$x(o),ae=$x(g),pe=w.useCallback(()=>{if(!H.current||!F.current)return;const B={placement:e,strategy:t,middleware:b};ne.current&&(B.platform=ne.current),a$(H.current,F.current,B).then(Y=>{const re={...Y,isPositioned:ae.current!==!1};me.current&&!pg($.current,re)&&($.current=re,Ph.flushSync(()=>{y(re)}))})},[b,e,t,ne,ae]);Gm(()=>{g===!1&&$.current.isPositioned&&($.current.isPositioned=!1,y(B=>({...B,isPositioned:!1})))},[g]);const me=w.useRef(!1);Gm(()=>(me.current=!0,()=>{me.current=!1}),[]),Gm(()=>{if(A&&(H.current=A),D&&(F.current=D),A&&D){if(X.current)return X.current(A,D,pe);pe()}},[A,D,pe,X,G]);const je=w.useMemo(()=>({reference:H,floating:F,setReference:j,setFloating:T}),[j,T]),ge=w.useMemo(()=>({reference:A,floating:D}),[A,D]),be=w.useMemo(()=>{const B={position:t,left:0,top:0};if(!ge.floating)return B;const Y=q_(ge.floating,x.x),re=q_(ge.floating,x.y);return h?{...B,transform:"translate("+Y+"px, "+re+"px)",...MS(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:Y,top:re}},[t,h,ge.floating,x.x,x.y]);return w.useMemo(()=>({...x,update:pe,refs:je,elements:ge,floatingStyles:be}),[x,pe,je,ge,be])}const d$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?G_({element:r.current,padding:o}).fn(t):{}:r?G_({element:r,padding:o}).fn(t):{}}}},f$=(n,e)=>({...t$(n),options:[n,e]}),h$=(n,e)=>({...n$(n),options:[n,e]}),p$=(n,e)=>({...i$(n),options:[n,e]}),m$=(n,e)=>({...r$(n),options:[n,e]}),g$=(n,e)=>({...s$(n),options:[n,e]}),v$=(n,e)=>({...o$(n),options:[n,e]}),x$=(n,e)=>({...d$(n),options:[n,e]});var y$="Arrow",AS=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...c}=n;return l.jsx(et.svg,{...c,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});AS.displayName=y$;var w$=AS;function _$(n){const[e,t]=w.useState(void 0);return gn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let d,h;if("borderBoxSize"in c){const p=c.borderBoxSize,g=Array.isArray(p)?p[0]:p;d=g.inlineSize,h=g.blockSize}else d=n.offsetWidth,h=n.offsetHeight;t({width:d,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var uy="Popper",[IS,Bg]=xs(uy),[b$,DS]=IS(uy),LS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return l.jsx(b$,{scope:e,anchor:r,onAnchorChange:o,children:t})};LS.displayName=uy;var $S="PopperAnchor",FS=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,c=DS($S,t),d=w.useRef(null),h=Ot(e,d);return w.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||d.current)}),r?null:l.jsx(et.div,{...o,ref:h})});FS.displayName=$S;var dy="PopperContent",[S$,N$]=IS(dy),zS=w.forwardRef((n,e)=>{var te,fe,Ne,Ce,Be,Ie;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:c="center",alignOffset:d=0,arrowPadding:h=0,avoidCollisions:p=!0,collisionBoundary:g=[],collisionPadding:x=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:C="optimized",onPlaced:P,...E}=n,k=DS(dy,t),[R,j]=w.useState(null),T=Ot(e,Je=>j(Je)),[A,D]=w.useState(null),H=_$(A),F=(H==null?void 0:H.width)??0,$=(H==null?void 0:H.height)??0,G=r+(c!=="center"?"-"+c:""),X=typeof x=="number"?x:{top:0,right:0,bottom:0,left:0,...x},ne=Array.isArray(g)?g:[g],ae=ne.length>0,pe={padding:X,boundary:ne.filter(j$),altBoundary:ae},{refs:me,floatingStyles:je,placement:ge,isPositioned:be,middlewareData:B}=u$({strategy:"fixed",placement:G,whileElementsMounted:(...Je)=>e$(...Je,{animationFrame:C==="always"}),elements:{reference:k.anchor},middleware:[f$({mainAxis:o+$,alignmentAxis:d}),p&&h$({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?p$():void 0,...pe}),p&&m$({...pe}),g$({...pe,apply:({elements:Je,rects:pt,availableWidth:fn,availableHeight:er})=>{const{width:Kt,height:Zt}=pt.reference,Rr=Je.floating.style;Rr.setProperty("--radix-popper-available-width",`${fn}px`),Rr.setProperty("--radix-popper-available-height",`${er}px`),Rr.setProperty("--radix-popper-anchor-width",`${Kt}px`),Rr.setProperty("--radix-popper-anchor-height",`${Zt}px`)}}),A&&x$({element:A,padding:h}),C$({arrowWidth:F,arrowHeight:$}),b&&v$({strategy:"referenceHidden",...pe})]}),[Y,re]=WS(ge),z=Us(P);gn(()=>{be&&(z==null||z())},[be,z]);const U=(te=B.arrow)==null?void 0:te.x,q=(fe=B.arrow)==null?void 0:fe.y,ie=((Ne=B.arrow)==null?void 0:Ne.centerOffset)!==0,[ue,he]=w.useState();return gn(()=>{R&&he(window.getComputedStyle(R).zIndex)},[R]),l.jsx("div",{ref:me.setFloating,"data-radix-popper-content-wrapper":"",style:{...je,transform:be?je.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ce=B.transformOrigin)==null?void 0:Ce.x,(Be=B.transformOrigin)==null?void 0:Be.y].join(" "),...((Ie=B.hide)==null?void 0:Ie.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:l.jsx(S$,{scope:t,placedSide:Y,onArrowChange:D,arrowX:U,arrowY:q,shouldHideArrow:ie,children:l.jsx(et.div,{"data-side":Y,"data-align":re,...E,ref:T,style:{...E.style,animation:be?void 0:"none"}})})})});zS.displayName=dy;var US="PopperArrow",k$={top:"bottom",right:"left",bottom:"top",left:"right"},BS=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,c=N$(US,r),d=k$[c.placedSide];return l.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[d]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:l.jsx(w$,{...o,ref:t,style:{...o.style,display:"block"}})})});BS.displayName=US;function j$(n){return n!==null}var C$=n=>({name:"transformOrigin",options:n,fn(e){var k,R,j;const{placement:t,rects:r,middlewareData:o}=e,d=((k=o.arrow)==null?void 0:k.centerOffset)!==0,h=d?0:n.arrowWidth,p=d?0:n.arrowHeight,[g,x]=WS(t),y={start:"0%",center:"50%",end:"100%"}[x],b=(((R=o.arrow)==null?void 0:R.x)??0)+h/2,C=(((j=o.arrow)==null?void 0:j.y)??0)+p/2;let P="",E="";return g==="bottom"?(P=d?y:`${b}px`,E=`${-p}px`):g==="top"?(P=d?y:`${b}px`,E=`${r.floating.height+p}px`):g==="right"?(P=`${-p}px`,E=d?y:`${C}px`):g==="left"&&(P=`${r.floating.width+p}px`,E=d?y:`${C}px`),{data:{x:P,y:E}}}});function WS(n){const[e,t="center"]=n.split("-");return[e,t]}var HS=LS,VS=FS,GS=zS,qS=BS,E$="Portal",Wg=w.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[o,c]=w.useState(!1);gn(()=>c(!0),[]);const d=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return d?FT.createPortal(l.jsx(et.div,{...r,ref:e}),d):null});Wg.displayName=E$;var P$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Bu=new WeakMap,Im=new WeakMap,Dm={},Fx=0,KS=function(n){return n&&(n.host||KS(n.parentNode))},R$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=KS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},T$=function(n,e,t,r){var o=R$(e,Array.isArray(n)?n:[n]);Dm[t]||(Dm[t]=new WeakMap);var c=Dm[t],d=[],h=new Set,p=new Set(o),g=function(y){!y||h.has(y)||(h.add(y),g(y.parentNode))};o.forEach(g);var x=function(y){!y||p.has(y)||Array.prototype.forEach.call(y.children,function(b){if(h.has(b))x(b);else try{var C=b.getAttribute(r),P=C!==null&&C!=="false",E=(Bu.get(b)||0)+1,k=(c.get(b)||0)+1;Bu.set(b,E),c.set(b,k),d.push(b),E===1&&P&&Im.set(b,!0),k===1&&b.setAttribute(t,"true"),P||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return x(e),h.clear(),Fx++,function(){d.forEach(function(y){var b=Bu.get(y)-1,C=c.get(y)-1;Bu.set(y,b),c.set(y,C),b||(Im.has(y)||y.removeAttribute(r),Im.delete(y)),C||y.removeAttribute(t)}),Fx--,Fx||(Bu=new WeakMap,Bu=new WeakMap,Im=new WeakMap,Dm={})}},fy=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=P$(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),T$(r,o,t,"aria-hidden")):function(){return null}},yo=function(){return yo=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},yo.apply(this,arguments)};function YS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function O$(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,c;r<o;r++)(c||!(r in e))&&(c||(c=Array.prototype.slice.call(e,0,r)),c[r]=e[r]);return n.concat(c||Array.prototype.slice.call(e))}var qm="right-scroll-bar-position",Km="width-before-scroll-bar",M$="with-scroll-bars-hidden",A$="--removed-body-scroll-bar-size";function zx(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function I$(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var D$=typeof window<"u"?w.useLayoutEffect:w.useEffect,K_=new WeakMap;function L$(n,e){var t=I$(null,function(r){return n.forEach(function(o){return zx(o,r)})});return D$(function(){var r=K_.get(t);if(r){var o=new Set(r),c=new Set(n),d=t.current;o.forEach(function(h){c.has(h)||zx(h,null)}),c.forEach(function(h){o.has(h)||zx(h,d)})}K_.set(t,n)},[n]),t}function $$(n){return n}function F$(n,e){e===void 0&&(e=$$);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var d=e(c,r);return t.push(d),function(){t=t.filter(function(h){return h!==d})}},assignSyncMedium:function(c){for(r=!0;t.length;){var d=t;t=[],d.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){r=!0;var d=[];if(t.length){var h=t;t=[],h.forEach(c),d=t}var p=function(){var x=d;d=[],x.forEach(c)},g=function(){return Promise.resolve().then(p)};g(),t={push:function(x){d.push(x),g()},filter:function(x){return d=d.filter(x),t}}}};return o}function z$(n){n===void 0&&(n={});var e=F$(null);return e.options=yo({async:!0,ssr:!1},n),e}var JS=function(n){var e=n.sideCar,t=YS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,yo({},t))};JS.isSideCarExport=!0;function U$(n,e){return n.useMedium(e),JS}var XS=z$(),Ux=function(){},Hg=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:Ux,onWheelCapture:Ux,onTouchMoveCapture:Ux}),o=r[0],c=r[1],d=n.forwardProps,h=n.children,p=n.className,g=n.removeScrollBar,x=n.enabled,y=n.shards,b=n.sideCar,C=n.noRelative,P=n.noIsolation,E=n.inert,k=n.allowPinchZoom,R=n.as,j=R===void 0?"div":R,T=n.gapMode,A=YS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),D=b,H=L$([t,e]),F=yo(yo({},A),o);return w.createElement(w.Fragment,null,x&&w.createElement(D,{sideCar:XS,removeScrollBar:g,shards:y,noRelative:C,noIsolation:P,inert:E,setCallbacks:c,allowPinchZoom:!!k,lockRef:t,gapMode:T}),d?w.cloneElement(w.Children.only(h),yo(yo({},F),{ref:H})):w.createElement(j,yo({},F,{className:p,ref:H}),h))});Hg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Hg.classNames={fullWidth:Km,zeroRight:qm};var B$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function W$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=B$();return e&&n.setAttribute("nonce",e),n}function H$(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function V$(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var G$=function(){var n=0,e=null;return{add:function(t){n==0&&(e=W$())&&(H$(e,t),V$(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},q$=function(){var n=G$();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},QS=function(){var n=q$(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},K$={left:0,top:0,right:0,gap:0},Bx=function(n){return parseInt(n||"",10)||0},Y$=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[Bx(t),Bx(r),Bx(o)]},J$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return K$;var e=Y$(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},X$=QS(),Zu="data-scroll-locked",Q$=function(n,e,t,r){var o=n.left,c=n.top,d=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(M$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(Zu,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(d,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(qm,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(Km,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(qm," .").concat(qm,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Km," .").concat(Km,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Zu,`] {
    `).concat(A$,": ").concat(h,`px;
  }
`)},Y_=function(){var n=parseInt(document.body.getAttribute(Zu)||"0",10);return isFinite(n)?n:0},Z$=function(){w.useEffect(function(){return document.body.setAttribute(Zu,(Y_()+1).toString()),function(){var n=Y_()-1;n<=0?document.body.removeAttribute(Zu):document.body.setAttribute(Zu,n.toString())}},[])},e4=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;Z$();var c=w.useMemo(function(){return J$(o)},[o]);return w.createElement(X$,{styles:Q$(c,!e,o,t?"":"!important")})},j0=!1;if(typeof window<"u")try{var Lm=Object.defineProperty({},"passive",{get:function(){return j0=!0,!0}});window.addEventListener("test",Lm,Lm),window.removeEventListener("test",Lm,Lm)}catch{j0=!1}var Wu=j0?{passive:!1}:!1,t4=function(n){return n.tagName==="TEXTAREA"},ZS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!t4(n)&&t[e]==="visible")},n4=function(n){return ZS(n,"overflowY")},r4=function(n){return ZS(n,"overflowX")},J_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=eN(n,r);if(o){var c=tN(n,r),d=c[1],h=c[2];if(d>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},s4=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},o4=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},eN=function(n,e){return n==="v"?n4(e):r4(e)},tN=function(n,e){return n==="v"?s4(e):o4(e)},i4=function(n,e){return n==="h"&&e==="rtl"?-1:1},a4=function(n,e,t,r,o){var c=i4(n,window.getComputedStyle(e).direction),d=c*r,h=t.target,p=e.contains(h),g=!1,x=d>0,y=0,b=0;do{if(!h)break;var C=tN(n,h),P=C[0],E=C[1],k=C[2],R=E-k-c*P;(P||R)&&eN(n,h)&&(y+=R,b+=P);var j=h.parentNode;h=j&&j.nodeType===Node.DOCUMENT_FRAGMENT_NODE?j.host:j}while(!p&&h!==document.body||p&&(e.contains(h)||e===h));return(x&&Math.abs(y)<1||!x&&Math.abs(b)<1)&&(g=!0),g},$m=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},X_=function(n){return[n.deltaX,n.deltaY]},Q_=function(n){return n&&"current"in n?n.current:n},l4=function(n,e){return n[0]===e[0]&&n[1]===e[1]},c4=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},u4=0,Hu=[];function d4(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(u4++)[0],c=w.useState(QS)[0],d=w.useRef(n);w.useEffect(function(){d.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var E=O$([n.lockRef.current],(n.shards||[]).map(Q_),!0).filter(Boolean);return E.forEach(function(k){return k.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),E.forEach(function(k){return k.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=w.useCallback(function(E,k){if("touches"in E&&E.touches.length===2||E.type==="wheel"&&E.ctrlKey)return!d.current.allowPinchZoom;var R=$m(E),j=t.current,T="deltaX"in E?E.deltaX:j[0]-R[0],A="deltaY"in E?E.deltaY:j[1]-R[1],D,H=E.target,F=Math.abs(T)>Math.abs(A)?"h":"v";if("touches"in E&&F==="h"&&H.type==="range")return!1;var $=J_(F,H);if(!$)return!0;if($?D=F:(D=F==="v"?"h":"v",$=J_(F,H)),!$)return!1;if(!r.current&&"changedTouches"in E&&(T||A)&&(r.current=D),!D)return!0;var G=r.current||D;return a4(G,k,E,G==="h"?T:A)},[]),p=w.useCallback(function(E){var k=E;if(!(!Hu.length||Hu[Hu.length-1]!==c)){var R="deltaY"in k?X_(k):$m(k),j=e.current.filter(function(D){return D.name===k.type&&(D.target===k.target||k.target===D.shadowParent)&&l4(D.delta,R)})[0];if(j&&j.should){k.cancelable&&k.preventDefault();return}if(!j){var T=(d.current.shards||[]).map(Q_).filter(Boolean).filter(function(D){return D.contains(k.target)}),A=T.length>0?h(k,T[0]):!d.current.noIsolation;A&&k.cancelable&&k.preventDefault()}}},[]),g=w.useCallback(function(E,k,R,j){var T={name:E,delta:k,target:R,should:j,shadowParent:f4(R)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(A){return A!==T})},1)},[]),x=w.useCallback(function(E){t.current=$m(E),r.current=void 0},[]),y=w.useCallback(function(E){g(E.type,X_(E),E.target,h(E,n.lockRef.current))},[]),b=w.useCallback(function(E){g(E.type,$m(E),E.target,h(E,n.lockRef.current))},[]);w.useEffect(function(){return Hu.push(c),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",p,Wu),document.addEventListener("touchmove",p,Wu),document.addEventListener("touchstart",x,Wu),function(){Hu=Hu.filter(function(E){return E!==c}),document.removeEventListener("wheel",p,Wu),document.removeEventListener("touchmove",p,Wu),document.removeEventListener("touchstart",x,Wu)}},[]);var C=n.removeScrollBar,P=n.inert;return w.createElement(w.Fragment,null,P?w.createElement(c,{styles:c4(o)}):null,C?w.createElement(e4,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function f4(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const h4=U$(XS,d4);var Vg=w.forwardRef(function(n,e){return w.createElement(Hg,yo({},n,{ref:e,sideCar:h4}))});Vg.classNames=Hg.classNames;var C0=["Enter"," "],p4=["ArrowDown","PageUp","Home"],nN=["ArrowUp","PageDown","End"],m4=[...p4,...nN],g4={ltr:[...C0,"ArrowRight"],rtl:[...C0,"ArrowLeft"]},v4={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Fh="Menu",[_h,x4,y4]=Tg(Fh),[Ql,rN]=xs(Fh,[y4,Bg,Og]),Gg=Bg(),sN=Og(),[w4,Zl]=Ql(Fh),[_4,zh]=Ql(Fh),oN=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:c,modal:d=!0}=n,h=Gg(e),[p,g]=w.useState(null),x=w.useRef(!1),y=Us(c),b=Mh(o);return w.useEffect(()=>{const C=()=>{x.current=!0,document.addEventListener("pointerdown",P,{capture:!0,once:!0}),document.addEventListener("pointermove",P,{capture:!0,once:!0})},P=()=>x.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",P,{capture:!0}),document.removeEventListener("pointermove",P,{capture:!0})}},[]),l.jsx(HS,{...h,children:l.jsx(w4,{scope:e,open:t,onOpenChange:y,content:p,onContentChange:g,children:l.jsx(_4,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:x,dir:b,modal:d,children:r})})})};oN.displayName=Fh;var b4="MenuAnchor",hy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Gg(t);return l.jsx(VS,{...o,...r,ref:e})});hy.displayName=b4;var py="MenuPortal",[S4,iN]=Ql(py,{forceMount:void 0}),aN=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,c=Zl(py,e);return l.jsx(S4,{scope:e,forceMount:t,children:l.jsx(Ro,{present:t||c.open,children:l.jsx(Wg,{asChild:!0,container:o,children:r})})})};aN.displayName=py;var vs="MenuContent",[N4,my]=Ql(vs),lN=w.forwardRef((n,e)=>{const t=iN(vs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=Zl(vs,n.__scopeMenu),d=zh(vs,n.__scopeMenu);return l.jsx(_h.Provider,{scope:n.__scopeMenu,children:l.jsx(Ro,{present:r||c.open,children:l.jsx(_h.Slot,{scope:n.__scopeMenu,children:d.modal?l.jsx(k4,{...o,ref:e}):l.jsx(j4,{...o,ref:e})})})})}),k4=w.forwardRef((n,e)=>{const t=Zl(vs,n.__scopeMenu),r=w.useRef(null),o=Ot(e,r);return w.useEffect(()=>{const c=r.current;if(c)return fy(c)},[]),l.jsx(gy,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:We(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),j4=w.forwardRef((n,e)=>{const t=Zl(vs,n.__scopeMenu);return l.jsx(gy,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),C4=Wl("MenuContent.ScrollLock"),gy=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:d,disableOutsidePointerEvents:h,onEntryFocus:p,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,disableOutsideScroll:P,...E}=n,k=Zl(vs,t),R=zh(vs,t),j=Gg(t),T=sN(t),A=x4(t),[D,H]=w.useState(null),F=w.useRef(null),$=Ot(e,F,k.onContentChange),G=w.useRef(0),X=w.useRef(""),ne=w.useRef(0),ae=w.useRef(null),pe=w.useRef("right"),me=w.useRef(0),je=P?Vg:w.Fragment,ge=P?{as:C4,allowPinchZoom:!0}:void 0,be=Y=>{var te,fe;const re=X.current+Y,z=A().filter(Ne=>!Ne.disabled),U=document.activeElement,q=(te=z.find(Ne=>Ne.ref.current===U))==null?void 0:te.textValue,ie=z.map(Ne=>Ne.textValue),ue=F4(ie,re,q),he=(fe=z.find(Ne=>Ne.textValue===ue))==null?void 0:fe.ref.current;(function Ne(Ce){X.current=Ce,window.clearTimeout(G.current),Ce!==""&&(G.current=window.setTimeout(()=>Ne(""),1e3))})(re),he&&setTimeout(()=>he.focus())};w.useEffect(()=>()=>window.clearTimeout(G.current),[]),ny();const B=w.useCallback(Y=>{var z,U;return pe.current===((z=ae.current)==null?void 0:z.side)&&U4(Y,(U=ae.current)==null?void 0:U.area)},[]);return l.jsx(N4,{scope:t,searchRef:X,onItemEnter:w.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),onItemLeave:w.useCallback(Y=>{var re;B(Y)||((re=F.current)==null||re.focus(),H(null))},[B]),onTriggerLeave:w.useCallback(Y=>{B(Y)&&Y.preventDefault()},[B]),pointerGraceTimerRef:ne,onPointerGraceIntentChange:w.useCallback(Y=>{ae.current=Y},[]),children:l.jsx(je,{...ge,children:l.jsx($g,{asChild:!0,trapped:o,onMountAutoFocus:We(c,Y=>{var re;Y.preventDefault(),(re=F.current)==null||re.focus({preventScroll:!0})}),onUnmountAutoFocus:d,children:l.jsx(Lg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:g,onPointerDownOutside:x,onFocusOutside:y,onInteractOutside:b,onDismiss:C,children:l.jsx(Kb,{asChild:!0,...T,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:D,onCurrentTabStopIdChange:H,onEntryFocus:We(p,Y=>{R.isUsingKeyboardRef.current||Y.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(GS,{role:"menu","aria-orientation":"vertical","data-state":NN(k.open),"data-radix-menu-content":"",dir:R.dir,...j,...E,ref:$,style:{outline:"none",...E.style},onKeyDown:We(E.onKeyDown,Y=>{const z=Y.target.closest("[data-radix-menu-content]")===Y.currentTarget,U=Y.ctrlKey||Y.altKey||Y.metaKey,q=Y.key.length===1;z&&(Y.key==="Tab"&&Y.preventDefault(),!U&&q&&be(Y.key));const ie=F.current;if(Y.target!==ie||!m4.includes(Y.key))return;Y.preventDefault();const he=A().filter(te=>!te.disabled).map(te=>te.ref.current);nN.includes(Y.key)&&he.reverse(),L4(he)}),onBlur:We(n.onBlur,Y=>{Y.currentTarget.contains(Y.target)||(window.clearTimeout(G.current),X.current="")}),onPointerMove:We(n.onPointerMove,bh(Y=>{const re=Y.target,z=me.current!==Y.clientX;if(Y.currentTarget.contains(re)&&z){const U=Y.clientX>me.current?"right":"left";pe.current=U,me.current=Y.clientX}}))})})})})})})});lN.displayName=vs;var E4="MenuGroup",vy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(et.div,{role:"group",...r,ref:e})});vy.displayName=E4;var P4="MenuLabel",cN=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(et.div,{...r,ref:e})});cN.displayName=P4;var mg="MenuItem",Z_="menu.itemSelect",qg=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,c=w.useRef(null),d=zh(mg,n.__scopeMenu),h=my(mg,n.__scopeMenu),p=Ot(e,c),g=w.useRef(!1),x=()=>{const y=c.current;if(!t&&y){const b=new CustomEvent(Z_,{bubbles:!0,cancelable:!0});y.addEventListener(Z_,C=>r==null?void 0:r(C),{once:!0}),zb(y,b),b.defaultPrevented?g.current=!1:d.onClose()}};return l.jsx(uN,{...o,ref:p,disabled:t,onClick:We(n.onClick,x),onPointerDown:y=>{var b;(b=n.onPointerDown)==null||b.call(n,y),g.current=!0},onPointerUp:We(n.onPointerUp,y=>{var b;g.current||(b=y.currentTarget)==null||b.click()}),onKeyDown:We(n.onKeyDown,y=>{const b=h.searchRef.current!=="";t||b&&y.key===" "||C0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});qg.displayName=mg;var uN=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...c}=n,d=my(mg,t),h=sN(t),p=w.useRef(null),g=Ot(e,p),[x,y]=w.useState(!1),[b,C]=w.useState("");return w.useEffect(()=>{const P=p.current;P&&C((P.textContent??"").trim())},[c.children]),l.jsx(_h.ItemSlot,{scope:t,disabled:r,textValue:o??b,children:l.jsx(Yb,{asChild:!0,...h,focusable:!r,children:l.jsx(et.div,{role:"menuitem","data-highlighted":x?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:g,onPointerMove:We(n.onPointerMove,bh(P=>{r?d.onItemLeave(P):(d.onItemEnter(P),P.defaultPrevented||P.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:We(n.onPointerLeave,bh(P=>d.onItemLeave(P))),onFocus:We(n.onFocus,()=>y(!0)),onBlur:We(n.onBlur,()=>y(!1))})})})}),R4="MenuCheckboxItem",dN=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return l.jsx(gN,{scope:n.__scopeMenu,checked:t,children:l.jsx(qg,{role:"menuitemcheckbox","aria-checked":gg(t)?"mixed":t,...o,ref:e,"data-state":yy(t),onSelect:We(o.onSelect,()=>r==null?void 0:r(gg(t)?!0:!t),{checkForDefaultPrevented:!1})})})});dN.displayName=R4;var fN="MenuRadioGroup",[T4,O4]=Ql(fN,{value:void 0,onValueChange:()=>{}}),hN=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,c=Us(r);return l.jsx(T4,{scope:n.__scopeMenu,value:t,onValueChange:c,children:l.jsx(vy,{...o,ref:e})})});hN.displayName=fN;var pN="MenuRadioItem",mN=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=O4(pN,n.__scopeMenu),c=t===o.value;return l.jsx(gN,{scope:n.__scopeMenu,checked:c,children:l.jsx(qg,{role:"menuitemradio","aria-checked":c,...r,ref:e,"data-state":yy(c),onSelect:We(r.onSelect,()=>{var d;return(d=o.onValueChange)==null?void 0:d.call(o,t)},{checkForDefaultPrevented:!1})})})});mN.displayName=pN;var xy="MenuItemIndicator",[gN,M4]=Ql(xy,{checked:!1}),vN=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,c=M4(xy,t);return l.jsx(Ro,{present:r||gg(c.checked)||c.checked===!0,children:l.jsx(et.span,{...o,ref:e,"data-state":yy(c.checked)})})});vN.displayName=xy;var A4="MenuSeparator",xN=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return l.jsx(et.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});xN.displayName=A4;var I4="MenuArrow",yN=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=Gg(t);return l.jsx(qS,{...o,...r,ref:e})});yN.displayName=I4;var D4="MenuSub",[Fz,wN]=Ql(D4),th="MenuSubTrigger",_N=w.forwardRef((n,e)=>{const t=Zl(th,n.__scopeMenu),r=zh(th,n.__scopeMenu),o=wN(th,n.__scopeMenu),c=my(th,n.__scopeMenu),d=w.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:p}=c,g={__scopeMenu:n.__scopeMenu},x=w.useCallback(()=>{d.current&&window.clearTimeout(d.current),d.current=null},[]);return w.useEffect(()=>x,[x]),w.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),p(null)}},[h,p]),l.jsx(hy,{asChild:!0,...g,children:l.jsx(uN,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":NN(t.open),...n,ref:Rg(e,o.onTriggerChange),onClick:y=>{var b;(b=n.onClick)==null||b.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:We(n.onPointerMove,bh(y=>{c.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!d.current&&(c.onPointerGraceIntentChange(null),d.current=window.setTimeout(()=>{t.onOpenChange(!0),x()},100))})),onPointerLeave:We(n.onPointerLeave,bh(y=>{var C,P;x();const b=(C=t.content)==null?void 0:C.getBoundingClientRect();if(b){const E=(P=t.content)==null?void 0:P.dataset.side,k=E==="right",R=k?-5:5,j=b[k?"left":"right"],T=b[k?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+R,y:y.clientY},{x:j,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:j,y:b.bottom}],side:E}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:We(n.onKeyDown,y=>{var C;const b=c.searchRef.current!=="";n.disabled||b&&y.key===" "||g4[r.dir].includes(y.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),y.preventDefault())})})})});_N.displayName=th;var bN="MenuSubContent",SN=w.forwardRef((n,e)=>{const t=iN(vs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=Zl(vs,n.__scopeMenu),d=zh(vs,n.__scopeMenu),h=wN(bN,n.__scopeMenu),p=w.useRef(null),g=Ot(e,p);return l.jsx(_h.Provider,{scope:n.__scopeMenu,children:l.jsx(Ro,{present:r||c.open,children:l.jsx(_h.Slot,{scope:n.__scopeMenu,children:l.jsx(gy,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:g,align:"start",side:d.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:x=>{var y;d.isUsingKeyboardRef.current&&((y=p.current)==null||y.focus()),x.preventDefault()},onCloseAutoFocus:x=>x.preventDefault(),onFocusOutside:We(n.onFocusOutside,x=>{x.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:We(n.onEscapeKeyDown,x=>{d.onClose(),x.preventDefault()}),onKeyDown:We(n.onKeyDown,x=>{var C;const y=x.currentTarget.contains(x.target),b=v4[d.dir].includes(x.key);y&&b&&(c.onOpenChange(!1),(C=h.trigger)==null||C.focus(),x.preventDefault())})})})})})});SN.displayName=bN;function NN(n){return n?"open":"closed"}function gg(n){return n==="indeterminate"}function yy(n){return gg(n)?"indeterminate":n?"checked":"unchecked"}function L4(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function $4(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function F4(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let d=$4(n,Math.max(c,0));o.length===1&&(d=d.filter(g=>g!==t));const p=d.find(g=>g.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function z4(n,e){const{x:t,y:r}=n;let o=!1;for(let c=0,d=e.length-1;c<e.length;d=c++){const h=e[c],p=e[d],g=h.x,x=h.y,y=p.x,b=p.y;x>r!=b>r&&t<(y-g)*(r-x)/(b-x)+g&&(o=!o)}return o}function U4(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return z4(t,e)}function bh(n){return e=>e.pointerType==="mouse"?n(e):void 0}var B4=oN,W4=hy,H4=aN,V4=lN,G4=vy,q4=cN,K4=qg,Y4=dN,J4=hN,X4=mN,Q4=vN,Z4=xN,e3=yN,t3=_N,n3=SN,Kg="DropdownMenu",[r3,zz]=xs(Kg,[rN]),fr=rN(),[s3,kN]=r3(Kg),jN=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:c,onOpenChange:d,modal:h=!0}=n,p=fr(e),g=w.useRef(null),[x,y]=ki({prop:o,defaultProp:c??!1,onChange:d,caller:Kg});return l.jsx(s3,{scope:e,triggerId:gs(),triggerRef:g,contentId:gs(),open:x,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),modal:h,children:l.jsx(B4,{...p,open:x,onOpenChange:y,dir:r,modal:h,children:t})})};jN.displayName=Kg;var CN="DropdownMenuTrigger",EN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,c=kN(CN,t),d=fr(t);return l.jsx(W4,{asChild:!0,...d,children:l.jsx(et.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Rg(e,c.triggerRef),onPointerDown:We(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:We(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});EN.displayName=CN;var o3="DropdownMenuPortal",PN=n=>{const{__scopeDropdownMenu:e,...t}=n,r=fr(e);return l.jsx(H4,{...r,...t})};PN.displayName=o3;var RN="DropdownMenuContent",TN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=kN(RN,t),c=fr(t),d=w.useRef(!1);return l.jsx(V4,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...r,ref:e,onCloseAutoFocus:We(n.onCloseAutoFocus,h=>{var p;d.current||(p=o.triggerRef.current)==null||p.focus(),d.current=!1,h.preventDefault()}),onInteractOutside:We(n.onInteractOutside,h=>{const p=h.detail.originalEvent,g=p.button===0&&p.ctrlKey===!0,x=p.button===2||g;(!o.modal||x)&&(d.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});TN.displayName=RN;var i3="DropdownMenuGroup",a3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(G4,{...o,...r,ref:e})});a3.displayName=i3;var l3="DropdownMenuLabel",ON=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(q4,{...o,...r,ref:e})});ON.displayName=l3;var c3="DropdownMenuItem",MN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(K4,{...o,...r,ref:e})});MN.displayName=c3;var u3="DropdownMenuCheckboxItem",AN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(Y4,{...o,...r,ref:e})});AN.displayName=u3;var d3="DropdownMenuRadioGroup",f3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(J4,{...o,...r,ref:e})});f3.displayName=d3;var h3="DropdownMenuRadioItem",IN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(X4,{...o,...r,ref:e})});IN.displayName=h3;var p3="DropdownMenuItemIndicator",DN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(Q4,{...o,...r,ref:e})});DN.displayName=p3;var m3="DropdownMenuSeparator",LN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(Z4,{...o,...r,ref:e})});LN.displayName=m3;var g3="DropdownMenuArrow",v3=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(e3,{...o,...r,ref:e})});v3.displayName=g3;var x3="DropdownMenuSubTrigger",$N=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(t3,{...o,...r,ref:e})});$N.displayName=x3;var y3="DropdownMenuSubContent",FN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=fr(t);return l.jsx(n3,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});FN.displayName=y3;var w3=jN,_3=EN,b3=PN,zN=TN,UN=ON,BN=MN,WN=AN,HN=IN,VN=DN,GN=LN,qN=$N,KN=FN;const e1=w3,t1=_3,S3=w.forwardRef(({className:n,inset:e,children:t,...r},o)=>l.jsxs(qN,{ref:o,className:Fe("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,l.jsx(dS,{className:"ml-auto"})]}));S3.displayName=qN.displayName;const N3=w.forwardRef(({className:n,...e},t)=>l.jsx(KN,{ref:t,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));N3.displayName=KN.displayName;const E0=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>l.jsx(b3,{children:l.jsx(zN,{ref:r,sideOffset:e,className:Fe("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));E0.displayName=zN.displayName;const P0=w.forwardRef(({className:n,inset:e,...t},r)=>l.jsx(BN,{ref:r,className:Fe("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));P0.displayName=BN.displayName;const k3=w.forwardRef(({className:n,children:e,checked:t,...r},o)=>l.jsxs(WN,{ref:o,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(VN,{children:l.jsx(ji,{className:"h-4 w-4"})})}),e]}));k3.displayName=WN.displayName;const j3=w.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(HN,{ref:r,className:Fe("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(VN,{children:l.jsx(OI,{className:"h-2 w-2 fill-current"})})}),e]}));j3.displayName=HN.displayName;const C3=w.forwardRef(({className:n,inset:e,...t},r)=>l.jsx(UN,{ref:r,className:Fe("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));C3.displayName=UN.displayName;const E3=w.forwardRef(({className:n,...e},t)=>l.jsx(GN,{ref:t,className:Fe("-mx-1 my-1 h-px bg-muted",n),...e}));E3.displayName=GN.displayName;const Ml=[{code:"en",name:"English",flag:"🇬🇧",shortName:"EN"},{code:"ru",name:"Русский",flag:"🇷🇺",shortName:"RU"}];function YN({variant:n="default"}){const{i18n:e,currentLanguage:t}=Yr(),[r,o]=w.useState(Ml.find(d=>d.code===t)||Ml[0]);w.useEffect(()=>{const d=Ml.find(h=>h.code===e.language)||Ml[0];o(d)},[e.language]);const c=async d=>{console.log("Changing language to:",d);try{await e.changeLanguage(d),localStorage.setItem("pms_language",d),document.cookie=`pms_language=${d};path=/;max-age=31536000`,o(Ml.find(h=>h.code===d)),window.dispatchEvent(new Event("languagechange")),console.log("Language changed successfully to:",d)}catch(h){console.error("Error changing language:",h)}};return n==="compact"?l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsx(nt,{variant:"outline",size:"icon",title:"Change language",children:l.jsx("span",{className:"text-lg",children:r.flag})})}),l.jsx(E0,{align:"end",className:"w-48",children:Ml.map(d=>l.jsxs(P0,{onClick:()=>c(d.code),className:"cursor-pointer",children:[l.jsx("span",{className:"mr-2 text-lg",children:d.flag}),l.jsx("span",{className:"flex-1",children:d.name}),r.code===d.code&&l.jsx(ji,{className:"h-4 w-4 ml-2 text-green-600"})]},d.code))})]}):l.jsxs(e1,{children:[l.jsx(t1,{asChild:!0,children:l.jsxs(nt,{variant:"outline",size:"sm",className:"gap-2",children:[l.jsx(mS,{className:"h-4 w-4"}),l.jsxs("span",{className:"hidden sm:inline",children:[r.flag," ",r.name]}),l.jsx("span",{className:"sm:hidden",children:r.flag})]})}),l.jsx(E0,{align:"end",className:"w-48",children:Ml.map(d=>l.jsxs(P0,{onClick:()=>c(d.code),className:"cursor-pointer",children:[l.jsx("span",{className:"mr-2 text-lg",children:d.flag}),l.jsx("span",{className:"flex-1",children:d.name}),r.code===d.code&&l.jsx(ji,{className:"h-4 w-4 ml-2 text-green-600"})]},d.code))})]})}const P3=()=>l.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[l.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),l.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),l.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),l.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function JN(){const{signInWithProvider:n,signInWithEmail:e,signUpWithEmail:t}=Th(),{t:r}=Yr("auth"),[o,c]=w.useState(!1),[d,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),[b,C]=w.useState(""),P=async()=>{c(!0),y("");try{await n("google")}catch{y(r("errors.googleSignIn")),c(!1)}},E=async R=>{R.preventDefault(),c(!0),y(""),C("");try{await e(d,p)}catch(j){j.message.includes("Invalid login credentials")?y(r("errors.invalidCredentials")):j.message.includes("Email not confirmed")?y(r("errors.emailNotConfirmed")):y(r("errors.signInFailed"))}c(!1)},k=async R=>{if(R.preventDefault(),c(!0),y(""),C(""),p.length<6){y(r("errors.passwordTooShort")),c(!1);return}try{await t(d,p),C(r("messages.checkEmail")),h(""),g("")}catch(j){j.message.includes("already registered")?y(r("errors.emailAlreadyRegistered")):y(r("errors.signUpFailed"))}c(!1)};return l.jsxs(Ve,{className:"w-full max-w-md",children:[l.jsxs(ft,{className:"text-center",children:[l.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:l.jsx(QI,{className:"h-8 w-8 text-white"})}),l.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[l.jsx(ht,{className:"text-2xl font-bold text-slate-800",children:r("appName")}),l.jsx(YN,{})]}),l.jsx(So,{className:"text-slate-600",children:r("subtitle")})]}),l.jsxs(Ye,{children:[x&&l.jsx(Si,{variant:"destructive",className:"mb-4",children:l.jsx(Ni,{children:x})}),b&&l.jsx(Si,{variant:"default",className:"mb-4",children:l.jsx(Ni,{children:b})}),l.jsxs(Ag,{defaultValue:"signin",className:"w-full",children:[l.jsxs(Ih,{className:"grid w-full grid-cols-2",children:[l.jsx(ps,{value:"signin",children:r("tabs.signIn")}),l.jsx(ps,{value:"signup",children:r("tabs.signUp")})]}),l.jsx(ms,{value:"signin",children:l.jsxs("form",{onSubmit:E,className:"space-y-4 pt-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{htmlFor:"email-signin",children:r("fields.email")}),l.jsx(gt,{id:"email-signin",type:"email",value:d,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),l.jsxs("div",{children:[l.jsx(Wt,{htmlFor:"password-signin",children:r("fields.password")}),l.jsx(gt,{id:"password-signin",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.password"),required:!0})]}),l.jsx(nt,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Vm,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):r("buttons.signIn")})]})}),l.jsx(ms,{value:"signup",children:l.jsxs("form",{onSubmit:k,className:"space-y-4 pt-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{htmlFor:"email-signup",children:r("fields.email")}),l.jsx(gt,{id:"email-signup",type:"email",value:d,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),l.jsxs("div",{children:[l.jsx(Wt,{htmlFor:"password-signup",children:r("fields.password")}),l.jsx(gt,{id:"password-signup",type:"password",value:p,onChange:R=>g(R.target.value),placeholder:r("placeholders.passwordHint"),required:!0})]}),l.jsx(nt,{type:"submit",className:"w-full",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Vm,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingUp")]}):r("buttons.signUp")})]})})]}),l.jsxs("div",{className:"relative my-6",children:[l.jsx("div",{className:"absolute inset-0 flex items-center",children:l.jsx("span",{className:"w-full border-t"})}),l.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:l.jsx("span",{className:"bg-white px-2 text-slate-500",children:r("divider")})})]}),l.jsx(nt,{onClick:P,className:"w-full",variant:"outline",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx(Vm,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):l.jsxs(l.Fragment,{children:[l.jsx(P3,{}),r("buttons.signInWithGoogle")]})})]})]})}const Yg=w.createContext(null);Yg.displayName="PanelGroupContext";const on={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},wy=10,Ul=w.useLayoutEffect,n1=z0.useId,R3=typeof n1=="function"?n1:()=>null;let T3=0;function _y(n=null){const e=R3(),t=w.useRef(n||e||null);return t.current===null&&(t.current=""+T3++),n??t.current}function XN({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:o,forwardedRef:c,id:d,maxSize:h,minSize:p,onCollapse:g,onExpand:x,onResize:y,order:b,style:C,tagName:P="div",...E}){const k=w.useContext(Yg);if(k===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:j,getPanelSize:T,getPanelStyle:A,groupId:D,isPanelCollapsed:H,reevaluatePanelConstraints:F,registerPanel:$,resizePanel:G,unregisterPanel:X}=k,ne=_y(d),ae=w.useRef({callbacks:{onCollapse:g,onExpand:x,onResize:y},constraints:{collapsedSize:t,collapsible:r,defaultSize:o,maxSize:h,minSize:p},id:ne,idIsFromProps:d!==void 0,order:b});w.useRef({didLogMissingDefaultSizeWarning:!1}),Ul(()=>{const{callbacks:me,constraints:je}=ae.current,ge={...je};ae.current.id=ne,ae.current.idIsFromProps=d!==void 0,ae.current.order=b,me.onCollapse=g,me.onExpand=x,me.onResize=y,je.collapsedSize=t,je.collapsible=r,je.defaultSize=o,je.maxSize=h,je.minSize=p,(ge.collapsedSize!==je.collapsedSize||ge.collapsible!==je.collapsible||ge.maxSize!==je.maxSize||ge.minSize!==je.minSize)&&F(ae.current,ge)}),Ul(()=>{const me=ae.current;return $(me),()=>{X(me)}},[b,ne,$,X]),w.useImperativeHandle(c,()=>({collapse:()=>{R(ae.current)},expand:me=>{j(ae.current,me)},getId(){return ne},getSize(){return T(ae.current)},isCollapsed(){return H(ae.current)},isExpanded(){return!H(ae.current)},resize:me=>{G(ae.current,me)}}),[R,j,T,H,ne,G]);const pe=A(ae.current,o);return w.createElement(P,{...E,children:n,className:e,id:ne,style:{...pe,...C},[on.groupId]:D,[on.panel]:"",[on.panelCollapsible]:r||void 0,[on.panelId]:ne,[on.panelSize]:parseFloat(""+pe.flexGrow).toFixed(1)})}const QN=w.forwardRef((n,e)=>w.createElement(XN,{...n,forwardedRef:e}));XN.displayName="Panel";QN.displayName="forwardRef(Panel)";let R0=null,Ym=-1,wa=null;function O3(n,e){if(e){const t=(e&rk)!==0,r=(e&sk)!==0,o=(e&ok)!==0,c=(e&ik)!==0;if(t)return o?"se-resize":c?"ne-resize":"e-resize";if(r)return o?"sw-resize":c?"nw-resize":"w-resize";if(o)return"s-resize";if(c)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function M3(){wa!==null&&(document.head.removeChild(wa),R0=null,wa=null,Ym=-1)}function Wx(n,e){var t,r;const o=O3(n,e);if(R0!==o){if(R0=o,wa===null&&(wa=document.createElement("style"),document.head.appendChild(wa)),Ym>=0){var c;(c=wa.sheet)===null||c===void 0||c.removeRule(Ym)}Ym=(t=(r=wa.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&t!==void 0?t:-1}}function ZN(n){return n.type==="keydown"}function ek(n){return n.type.startsWith("pointer")}function tk(n){return n.type.startsWith("mouse")}function Jg(n){if(ek(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(tk(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function A3(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function I3(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function D3(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:o1(n),b:o1(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;ut(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:s1(r1(t.a)),b:s1(r1(t.b))};if(o.a===o.b){const c=r.childNodes,d={a:t.a.at(-1),b:t.b.at(-1)};let h=c.length;for(;h--;){const p=c[h];if(p===d.a)return 1;if(p===d.b)return-1}}return Math.sign(o.a-o.b)}const L3=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function $3(n){var e;const t=getComputedStyle((e=nk(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function F3(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||$3(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||L3.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function r1(n){let e=n.length;for(;e--;){const t=n[e];if(ut(t,"Missing node"),F3(t))return t}return null}function s1(n){return n&&Number(getComputedStyle(n).zIndex)||0}function o1(n){const e=[];for(;n;)e.push(n),n=nk(n);return e}function nk(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const rk=1,sk=2,ok=4,ik=8,z3=A3()==="coarse";let zs=[],ed=!1,$l=new Map,Xg=new Map;const Sh=new Set;function U3(n,e,t,r,o){var c;const{ownerDocument:d}=e,h={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:o},p=(c=$l.get(d))!==null&&c!==void 0?c:0;return $l.set(d,p+1),Sh.add(h),vg(),function(){var x;Xg.delete(n),Sh.delete(h);const y=(x=$l.get(d))!==null&&x!==void 0?x:1;if($l.set(d,y-1),vg(),y===1&&$l.delete(d),zs.includes(h)){const b=zs.indexOf(h);b>=0&&zs.splice(b,1),Sy(),o("up",!0,null)}}}function B3(n){const{target:e}=n,{x:t,y:r}=Jg(n);ed=!0,by({target:e,x:t,y:r}),vg(),zs.length>0&&(xg("down",n),n.preventDefault(),ak(e)||n.stopImmediatePropagation())}function Hx(n){const{x:e,y:t}=Jg(n);if(ed&&n.buttons===0&&(ed=!1,xg("up",n)),!ed){const{target:r}=n;by({target:r,x:e,y:t})}xg("move",n),Sy(),zs.length>0&&n.preventDefault()}function Vx(n){const{target:e}=n,{x:t,y:r}=Jg(n);Xg.clear(),ed=!1,zs.length>0&&(n.preventDefault(),ak(e)||n.stopImmediatePropagation()),xg("up",n),by({target:e,x:t,y:r}),Sy(),vg()}function ak(n){let e=n;for(;e;){if(e.hasAttribute(on.resizeHandle))return!0;e=e.parentElement}return!1}function by({target:n,x:e,y:t}){zs.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),Sh.forEach(o=>{const{element:c,hitAreaMargins:d}=o,h=c.getBoundingClientRect(),{bottom:p,left:g,right:x,top:y}=h,b=z3?d.coarse:d.fine;if(e>=g-b&&e<=x+b&&t>=y-b&&t<=p+b){if(r!==null&&document.contains(r)&&c!==r&&!c.contains(r)&&!r.contains(c)&&D3(r,c)>0){let P=r,E=!1;for(;P&&!P.contains(c);){if(I3(P.getBoundingClientRect(),h)){E=!0;break}P=P.parentElement}if(E)return}zs.push(o)}})}function Gx(n,e){Xg.set(n,e)}function Sy(){let n=!1,e=!1;zs.forEach(r=>{const{direction:o}=r;o==="horizontal"?n=!0:e=!0});let t=0;Xg.forEach(r=>{t|=r}),n&&e?Wx("intersection",t):n?Wx("horizontal",t):e?Wx("vertical",t):M3()}let qx=new AbortController;function vg(){qx.abort(),qx=new AbortController;const n={capture:!0,signal:qx.signal};Sh.size&&(ed?(zs.length>0&&$l.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",Vx,n),r.addEventListener("pointerleave",Hx,n),r.addEventListener("pointermove",Hx,n))}),window.addEventListener("pointerup",Vx,n),window.addEventListener("pointercancel",Vx,n)):$l.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",B3,n),r.addEventListener("pointermove",Hx,n))}))}function xg(n,e){Sh.forEach(t=>{const{setResizeHandlerState:r}=t,o=zs.includes(t);r(n,o,e)})}function W3(){const[n,e]=w.useState(0);return w.useCallback(()=>e(t=>t+1),[])}function ut(n,e){if(!n)throw console.error(e),Error(e)}function Gl(n,e,t=wy){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function xi(n,e,t=wy){return Gl(n,e,t)===0}function Gr(n,e,t){return Gl(n,e,t)===0}function H3(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const o=n[r],c=e[r];if(!Gr(o,c,t))return!1}return!0}function Ju({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];ut(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:c,maxSize:d=100,minSize:h=0}=r;if(Gl(t,h)<0)if(c){const p=(o+h)/2;Gl(t,p)<0?t=o:t=h}else t=h;return t=Math.min(d,t),t=parseFloat(t.toFixed(wy)),t}function nh({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:c}){if(Gr(n,0))return e;const d=[...e],[h,p]=r;ut(h!=null,"Invalid first pivot index"),ut(p!=null,"Invalid second pivot index");let g=0;if(c==="keyboard"){{const y=n<0?p:h,b=t[y];ut(b,`Panel constraints not found for index ${y}`);const{collapsedSize:C=0,collapsible:P,minSize:E=0}=b;if(P){const k=e[y];if(ut(k!=null,`Previous layout not found for panel index ${y}`),Gr(k,C)){const R=E-k;Gl(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}{const y=n<0?h:p,b=t[y];ut(b,`No panel constraints found for index ${y}`);const{collapsedSize:C=0,collapsible:P,minSize:E=0}=b;if(P){const k=e[y];if(ut(k!=null,`Previous layout not found for panel index ${y}`),Gr(k,E)){const R=k-C;Gl(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}}{const y=n<0?1:-1;let b=n<0?p:h,C=0;for(;;){const E=e[b];ut(E!=null,`Previous layout not found for panel index ${b}`);const R=Ju({panelConstraints:t,panelIndex:b,size:100})-E;if(C+=R,b+=y,b<0||b>=t.length)break}const P=Math.min(Math.abs(n),Math.abs(C));n=n<0?0-P:P}{let b=n<0?h:p;for(;b>=0&&b<t.length;){const C=Math.abs(n)-Math.abs(g),P=e[b];ut(P!=null,`Previous layout not found for panel index ${b}`);const E=P-C,k=Ju({panelConstraints:t,panelIndex:b,size:E});if(!Gr(P,k)&&(g+=P-k,d[b]=k,g.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?b--:b++}}if(H3(o,d))return o;{const y=n<0?p:h,b=e[y];ut(b!=null,`Previous layout not found for panel index ${y}`);const C=b+g,P=Ju({panelConstraints:t,panelIndex:y,size:C});if(d[y]=P,!Gr(P,C)){let E=C-P,R=n<0?p:h;for(;R>=0&&R<t.length;){const j=d[R];ut(j!=null,`Previous layout not found for panel index ${R}`);const T=j+E,A=Ju({panelConstraints:t,panelIndex:R,size:T});if(Gr(j,A)||(E-=A-j,d[R]=A),Gr(E,0))break;n>0?R--:R++}}}const x=d.reduce((y,b)=>b+y,0);return Gr(x,100)?d:o}function V3({layout:n,panelsArray:e,pivotIndices:t}){let r=0,o=100,c=0,d=0;const h=t[0];ut(h!=null,"No pivot index found"),e.forEach((y,b)=>{const{constraints:C}=y,{maxSize:P=100,minSize:E=0}=C;b===h?(r=E,o=P):(c+=E,d+=P)});const p=Math.min(o,100-c),g=Math.max(r,100-d),x=n[h];return{valueMax:p,valueMin:g,valueNow:x}}function Nh(n,e=document){return Array.from(e.querySelectorAll(`[${on.resizeHandleId}][data-panel-group-id="${n}"]`))}function lk(n,e,t=document){const o=Nh(n,t).findIndex(c=>c.getAttribute(on.resizeHandleId)===e);return o??null}function ck(n,e,t){const r=lk(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function uk(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return r||null}function Qg(n,e=document){const t=e.querySelector(`[${on.resizeHandleId}="${n}"]`);return t||null}function G3(n,e,t,r=document){var o,c,d,h;const p=Qg(e,r),g=Nh(n,r),x=p?g.indexOf(p):-1,y=(o=(c=t[x])===null||c===void 0?void 0:c.id)!==null&&o!==void 0?o:null,b=(d=(h=t[x+1])===null||h===void 0?void 0:h.id)!==null&&d!==void 0?d:null;return[y,b]}function q3({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:o,panelGroupElement:c,setLayout:d}){w.useRef({didWarnAboutMissingResizeHandle:!1}),Ul(()=>{if(!c)return;const h=Nh(t,c);for(let p=0;p<o.length-1;p++){const{valueMax:g,valueMin:x,valueNow:y}=V3({layout:r,panelsArray:o,pivotIndices:[p,p+1]}),b=h[p];if(b!=null){const C=o[p];ut(C,`No panel data found for index "${p}"`),b.setAttribute("aria-controls",C.id),b.setAttribute("aria-valuemax",""+Math.round(g)),b.setAttribute("aria-valuemin",""+Math.round(x)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{h.forEach((p,g)=>{p.removeAttribute("aria-controls"),p.removeAttribute("aria-valuemax"),p.removeAttribute("aria-valuemin"),p.removeAttribute("aria-valuenow")})}},[t,r,o,c]),w.useEffect(()=>{if(!c)return;const h=e.current;ut(h,"Eager values not found");const{panelDataArray:p}=h,g=uk(t,c);ut(g!=null,`No group found for id "${t}"`);const x=Nh(t,c);ut(x,`No resize handles found for group id "${t}"`);const y=x.map(b=>{const C=b.getAttribute(on.resizeHandleId);ut(C,"Resize handle element has no handle id attribute");const[P,E]=G3(t,C,p,c);if(P==null||E==null)return()=>{};const k=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const j=p.findIndex(T=>T.id===P);if(j>=0){const T=p[j];ut(T,`No panel data found for index ${j}`);const A=r[j],{collapsedSize:D=0,collapsible:H,minSize:F=0}=T.constraints;if(A!=null&&H){const $=nh({delta:Gr(A,D)?F-D:D-A,initialLayout:r,panelConstraints:p.map(G=>G.constraints),pivotIndices:ck(t,C,c),prevLayout:r,trigger:"keyboard"});r!==$&&d($)}}break}}};return b.addEventListener("keydown",k),()=>{b.removeEventListener("keydown",k)}});return()=>{y.forEach(b=>b())}},[c,n,e,t,r,o,d])}function i1(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function dk(n,e){const t=n==="horizontal",{x:r,y:o}=Jg(e);return t?r:o}function K3(n,e,t,r,o){const c=t==="horizontal",d=Qg(e,o);ut(d,`No resize handle element found for id "${e}"`);const h=d.getAttribute(on.groupId);ut(h,"Resize handle element has no group id attribute");let{initialCursorPosition:p}=r;const g=dk(t,n),x=uk(h,o);ut(x,`No group element found for id "${h}"`);const y=x.getBoundingClientRect(),b=c?y.width:y.height;return(g-p)/b*100}function Y3(n,e,t,r,o,c){if(ZN(n)){const d=t==="horizontal";let h=0;n.shiftKey?h=100:o!=null?h=o:h=10;let p=0;switch(n.key){case"ArrowDown":p=d?0:h;break;case"ArrowLeft":p=d?-h:0;break;case"ArrowRight":p=d?h:0;break;case"ArrowUp":p=d?0:-h;break;case"End":p=100;break;case"Home":p=-100;break}return p}else return r==null?0:K3(n,e,t,r,c)}function J3({panelDataArray:n}){const e=Array(n.length),t=n.map(c=>c.constraints);let r=0,o=100;for(let c=0;c<n.length;c++){const d=t[c];ut(d,`Panel constraints not found for index ${c}`);const{defaultSize:h}=d;h!=null&&(r++,e[c]=h,o-=h)}for(let c=0;c<n.length;c++){const d=t[c];ut(d,`Panel constraints not found for index ${c}`);const{defaultSize:h}=d;if(h!=null)continue;const p=n.length-r,g=o/p;r++,e[c]=g,o-=g}return e}function Vu(n,e,t){e.forEach((r,o)=>{const c=n[o];ut(c,`Panel data not found for index ${o}`);const{callbacks:d,constraints:h,id:p}=c,{collapsedSize:g=0,collapsible:x}=h,y=t[p];if(y==null||r!==y){t[p]=r;const{onCollapse:b,onExpand:C,onResize:P}=d;P&&P(r,y),x&&(b||C)&&(C&&(y==null||xi(y,g))&&!xi(r,g)&&C(),b&&(y==null||!xi(y,g))&&xi(r,g)&&b())}})}function Fm(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function X3({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:o,precision:c=3}){const d=t[o];let h;return d==null?h=n!=null?n.toPrecision(c):"1":r.length===1?h="1":h=d.toPrecision(c),{flexBasis:0,flexGrow:h,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function Q3(n,e=10){let t=null;return(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)}}function a1(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function fk(n){return`react-resizable-panels:${n}`}function hk(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:o,order:c}=e;return o?r:c?`${c}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function pk(n,e){try{const t=fk(n),r=e.getItem(t);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function Z3(n,e,t){var r,o;const c=(r=pk(n,t))!==null&&r!==void 0?r:{},d=hk(e);return(o=c[d])!==null&&o!==void 0?o:null}function e5(n,e,t,r,o){var c;const d=fk(n),h=hk(e),p=(c=pk(n,o))!==null&&c!==void 0?c:{};p[h]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(d,JSON.stringify(p))}catch(g){console.error(g)}}function l1({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((c,d)=>c+d,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(c=>`${c}%`).join(", ")}`);if(!Gr(r,100)&&t.length>0)for(let c=0;c<e.length;c++){const d=t[c];ut(d!=null,`No layout data found for index ${c}`);const h=100/r*d;t[c]=h}let o=0;for(let c=0;c<e.length;c++){const d=t[c];ut(d!=null,`No layout data found for index ${c}`);const h=Ju({panelConstraints:e,panelIndex:c,size:d});d!=h&&(o+=d-h,t[c]=h)}if(!Gr(o,0))for(let c=0;c<e.length;c++){const d=t[c];ut(d!=null,`No layout data found for index ${c}`);const h=d+o,p=Ju({panelConstraints:e,panelIndex:c,size:h});if(d!==p&&(o-=p-d,t[c]=p,Gr(o,0)))break}return t}const t5=100,rh={getItem:n=>(a1(rh),rh.getItem(n)),setItem:(n,e)=>{a1(rh),rh.setItem(n,e)}},c1={};function mk({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:o,id:c=null,onLayout:d=null,keyboardResizeBy:h=null,storage:p=rh,style:g,tagName:x="div",...y}){const b=_y(c),C=w.useRef(null),[P,E]=w.useState(null),[k,R]=w.useState([]),j=W3(),T=w.useRef({}),A=w.useRef(new Map),D=w.useRef(0),H=w.useRef({autoSaveId:n,direction:r,dragState:P,id:b,keyboardResizeBy:h,onLayout:d,storage:p}),F=w.useRef({layout:k,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>H.current.id,getLayout:()=>{const{layout:q}=F.current;return q},setLayout:q=>{const{onLayout:ie}=H.current,{layout:ue,panelDataArray:he}=F.current,te=l1({layout:q,panelConstraints:he.map(fe=>fe.constraints)});i1(ue,te)||(R(te),F.current.layout=te,ie&&ie(te),Vu(he,te,T.current))}}),[]),Ul(()=>{H.current.autoSaveId=n,H.current.direction=r,H.current.dragState=P,H.current.id=b,H.current.onLayout=d,H.current.storage=p}),q3({committedValuesRef:H,eagerValuesRef:F,groupId:b,layout:k,panelDataArray:F.current.panelDataArray,setLayout:R,panelGroupElement:C.current}),w.useEffect(()=>{const{panelDataArray:q}=F.current;if(n){if(k.length===0||k.length!==q.length)return;let ie=c1[n];ie==null&&(ie=Q3(e5,t5),c1[n]=ie);const ue=[...q],he=new Map(A.current);ie(n,ue,he,k,p)}},[n,k,p]),w.useEffect(()=>{});const $=w.useCallback(q=>{const{onLayout:ie}=H.current,{layout:ue,panelDataArray:he}=F.current;if(q.constraints.collapsible){const te=he.map(Be=>Be.constraints),{collapsedSize:fe=0,panelSize:Ne,pivotIndices:Ce}=Al(he,q,ue);if(ut(Ne!=null,`Panel size not found for panel "${q.id}"`),!xi(Ne,fe)){A.current.set(q.id,Ne);const Ie=Yu(he,q)===he.length-1?Ne-fe:fe-Ne,Je=nh({delta:Ie,initialLayout:ue,panelConstraints:te,pivotIndices:Ce,prevLayout:ue,trigger:"imperative-api"});Fm(ue,Je)||(R(Je),F.current.layout=Je,ie&&ie(Je),Vu(he,Je,T.current))}}},[]),G=w.useCallback((q,ie)=>{const{onLayout:ue}=H.current,{layout:he,panelDataArray:te}=F.current;if(q.constraints.collapsible){const fe=te.map(pt=>pt.constraints),{collapsedSize:Ne=0,panelSize:Ce=0,minSize:Be=0,pivotIndices:Ie}=Al(te,q,he),Je=ie??Be;if(xi(Ce,Ne)){const pt=A.current.get(q.id),fn=pt!=null&&pt>=Je?pt:Je,Kt=Yu(te,q)===te.length-1?Ce-fn:fn-Ce,Zt=nh({delta:Kt,initialLayout:he,panelConstraints:fe,pivotIndices:Ie,prevLayout:he,trigger:"imperative-api"});Fm(he,Zt)||(R(Zt),F.current.layout=Zt,ue&&ue(Zt),Vu(te,Zt,T.current))}}},[]),X=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{panelSize:he}=Al(ue,q,ie);return ut(he!=null,`Panel size not found for panel "${q.id}"`),he},[]),ne=w.useCallback((q,ie)=>{const{panelDataArray:ue}=F.current,he=Yu(ue,q);return X3({defaultSize:ie,dragState:P,layout:k,panelData:ue,panelIndex:he})},[P,k]),ae=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Al(ue,q,ie);return ut(fe!=null,`Panel size not found for panel "${q.id}"`),te===!0&&xi(fe,he)},[]),pe=w.useCallback(q=>{const{layout:ie,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Al(ue,q,ie);return ut(fe!=null,`Panel size not found for panel "${q.id}"`),!te||Gl(fe,he)>0},[]),me=w.useCallback(q=>{const{panelDataArray:ie}=F.current;ie.push(q),ie.sort((ue,he)=>{const te=ue.order,fe=he.order;return te==null&&fe==null?0:te==null?-1:fe==null?1:te-fe}),F.current.panelDataArrayChanged=!0,j()},[j]);Ul(()=>{if(F.current.panelDataArrayChanged){F.current.panelDataArrayChanged=!1;const{autoSaveId:q,onLayout:ie,storage:ue}=H.current,{layout:he,panelDataArray:te}=F.current;let fe=null;if(q){const Ce=Z3(q,te,ue);Ce&&(A.current=new Map(Object.entries(Ce.expandToSizes)),fe=Ce.layout)}fe==null&&(fe=J3({panelDataArray:te}));const Ne=l1({layout:fe,panelConstraints:te.map(Ce=>Ce.constraints)});i1(he,Ne)||(R(Ne),F.current.layout=Ne,ie&&ie(Ne),Vu(te,Ne,T.current))}}),Ul(()=>{const q=F.current;return()=>{q.layout=[]}},[]);const je=w.useCallback(q=>{let ie=!1;const ue=C.current;return ue&&window.getComputedStyle(ue,null).getPropertyValue("direction")==="rtl"&&(ie=!0),function(te){te.preventDefault();const fe=C.current;if(!fe)return()=>null;const{direction:Ne,dragState:Ce,id:Be,keyboardResizeBy:Ie,onLayout:Je}=H.current,{layout:pt,panelDataArray:fn}=F.current,{initialLayout:er}=Ce??{},Kt=ck(Be,q,fe);let Zt=Y3(te,q,Ne,Ce,Ie,fe);const Rr=Ne==="horizontal";Rr&&ie&&(Zt=-Zt);const Tr=fn.map(Mo=>Mo.constraints),Gt=nh({delta:Zt,initialLayout:er??pt,panelConstraints:Tr,pivotIndices:Kt,prevLayout:pt,trigger:ZN(te)?"keyboard":"mouse-or-touch"}),Jr=!Fm(pt,Gt);(ek(te)||tk(te))&&D.current!=Zt&&(D.current=Zt,!Jr&&Zt!==0?Rr?Gx(q,Zt<0?rk:sk):Gx(q,Zt<0?ok:ik):Gx(q,0)),Jr&&(R(Gt),F.current.layout=Gt,Je&&Je(Gt),Vu(fn,Gt,T.current))}},[]),ge=w.useCallback((q,ie)=>{const{onLayout:ue}=H.current,{layout:he,panelDataArray:te}=F.current,fe=te.map(pt=>pt.constraints),{panelSize:Ne,pivotIndices:Ce}=Al(te,q,he);ut(Ne!=null,`Panel size not found for panel "${q.id}"`);const Ie=Yu(te,q)===te.length-1?Ne-ie:ie-Ne,Je=nh({delta:Ie,initialLayout:he,panelConstraints:fe,pivotIndices:Ce,prevLayout:he,trigger:"imperative-api"});Fm(he,Je)||(R(Je),F.current.layout=Je,ue&&ue(Je),Vu(te,Je,T.current))},[]),be=w.useCallback((q,ie)=>{const{layout:ue,panelDataArray:he}=F.current,{collapsedSize:te=0,collapsible:fe}=ie,{collapsedSize:Ne=0,collapsible:Ce,maxSize:Be=100,minSize:Ie=0}=q.constraints,{panelSize:Je}=Al(he,q,ue);Je!=null&&(fe&&Ce&&xi(Je,te)?xi(te,Ne)||ge(q,Ne):Je<Ie?ge(q,Ie):Je>Be&&ge(q,Be))},[ge]),B=w.useCallback((q,ie)=>{const{direction:ue}=H.current,{layout:he}=F.current;if(!C.current)return;const te=Qg(q,C.current);ut(te,`Drag handle element not found for id "${q}"`);const fe=dk(ue,ie);E({dragHandleId:q,dragHandleRect:te.getBoundingClientRect(),initialCursorPosition:fe,initialLayout:he})},[]),Y=w.useCallback(()=>{E(null)},[]),re=w.useCallback(q=>{const{panelDataArray:ie}=F.current,ue=Yu(ie,q);ue>=0&&(ie.splice(ue,1),delete T.current[q.id],F.current.panelDataArrayChanged=!0,j())},[j]),z=w.useMemo(()=>({collapsePanel:$,direction:r,dragState:P,expandPanel:G,getPanelSize:X,getPanelStyle:ne,groupId:b,isPanelCollapsed:ae,isPanelExpanded:pe,reevaluatePanelConstraints:be,registerPanel:me,registerResizeHandle:je,resizePanel:ge,startDragging:B,stopDragging:Y,unregisterPanel:re,panelGroupElement:C.current}),[$,P,r,G,X,ne,b,ae,pe,be,me,je,ge,B,Y,re]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(Yg.Provider,{value:z},w.createElement(x,{...y,children:e,className:t,id:c,ref:C,style:{...U,...g},[on.group]:"",[on.groupDirection]:r,[on.groupId]:b}))}const gk=w.forwardRef((n,e)=>w.createElement(mk,{...n,forwardedRef:e}));mk.displayName="PanelGroup";gk.displayName="forwardRef(PanelGroup)";function Yu(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Al(n,e,t){const r=Yu(n,e),c=r===n.length-1?[r-1,r]:[r,r+1],d=t[r];return{...e.constraints,panelSize:d,pivotIndices:c}}function n5({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){w.useEffect(()=>{if(n||t==null||r==null)return;const o=Qg(e,r);if(o==null)return;const c=d=>{if(!d.defaultPrevented)switch(d.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{d.preventDefault(),t(d);break}case"F6":{d.preventDefault();const h=o.getAttribute(on.groupId);ut(h,`No group element found for id "${h}"`);const p=Nh(h,r),g=lk(h,e,r);ut(g!==null,`No resize element found for id "${e}"`);const x=d.shiftKey?g>0?g-1:p.length-1:g+1<p.length?g+1:0;p[x].focus();break}}};return o.addEventListener("keydown",c),()=>{o.removeEventListener("keydown",c)}},[r,n,e,t])}function vk({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:o,onBlur:c,onClick:d,onDragging:h,onFocus:p,onPointerDown:g,onPointerUp:x,style:y={},tabIndex:b=0,tagName:C="div",...P}){var E,k;const R=w.useRef(null),j=w.useRef({onClick:d,onDragging:h,onPointerDown:g,onPointerUp:x});w.useEffect(()=>{j.current.onClick=d,j.current.onDragging=h,j.current.onPointerDown=g,j.current.onPointerUp=x});const T=w.useContext(Yg);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:A,groupId:D,registerResizeHandle:H,startDragging:F,stopDragging:$,panelGroupElement:G}=T,X=_y(o),[ne,ae]=w.useState("inactive"),[pe,me]=w.useState(!1),[je,ge]=w.useState(null),be=w.useRef({state:ne});Ul(()=>{be.current.state=ne}),w.useEffect(()=>{if(t)ge(null);else{const z=H(X);ge(()=>z)}},[t,X,H]);const B=(E=r==null?void 0:r.coarse)!==null&&E!==void 0?E:15,Y=(k=r==null?void 0:r.fine)!==null&&k!==void 0?k:5;w.useEffect(()=>{if(t||je==null)return;const z=R.current;ut(z,"Element ref not attached");let U=!1;return U3(X,z,A,{coarse:B,fine:Y},(ie,ue,he)=>{if(!ue){ae("inactive");return}switch(ie){case"down":{ae("drag"),U=!1,ut(he,'Expected event to be defined for "down" action'),F(X,he);const{onDragging:te,onPointerDown:fe}=j.current;te==null||te(!0),fe==null||fe();break}case"move":{const{state:te}=be.current;U=!0,te!=="drag"&&ae("hover"),ut(he,'Expected event to be defined for "move" action'),je(he);break}case"up":{ae("hover"),$();const{onClick:te,onDragging:fe,onPointerUp:Ne}=j.current;fe==null||fe(!1),Ne==null||Ne(),U||te==null||te();break}}})},[B,A,t,Y,H,X,je,F,$]),n5({disabled:t,handleId:X,resizeHandler:je,panelGroupElement:G});const re={touchAction:"none",userSelect:"none"};return w.createElement(C,{...P,children:n,className:e,id:o,onBlur:()=>{me(!1),c==null||c()},onFocus:()=>{me(!0),p==null||p()},ref:R,role:"separator",style:{...re,...y},tabIndex:b,[on.groupDirection]:A,[on.groupId]:D,[on.resizeHandle]:"",[on.resizeHandleActive]:ne==="drag"?"pointer":pe?"keyboard":void 0,[on.resizeHandleEnabled]:!t,[on.resizeHandleId]:X,[on.resizeHandleState]:ne})}vk.displayName="PanelResizeHandle";const u1=({className:n,...e})=>l.jsx(gk,{className:Fe("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e}),zm=QN,d1=({withHandle:n,className:e,...t})=>l.jsx(vk,{className:Fe("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&l.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:l.jsx(KI,{className:"h-2.5 w-2.5"})})});var Kx={exports:{}},Yx={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function r5(){if(f1)return Yx;f1=1;var n=kg();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,c=n.useLayoutEffect,d=n.useDebugValue;function h(y,b){var C=b(),P=r({inst:{value:C,getSnapshot:b}}),E=P[0].inst,k=P[1];return c(function(){E.value=C,E.getSnapshot=b,p(E)&&k({inst:E})},[y,C,b]),o(function(){return p(E)&&k({inst:E}),y(function(){p(E)&&k({inst:E})})},[y]),d(C),C}function p(y){var b=y.getSnapshot;y=y.value;try{var C=b();return!t(y,C)}catch{return!0}}function g(y,b){return b()}var x=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:h;return Yx.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:x,Yx}var h1;function s5(){return h1||(h1=1,Kx.exports=r5()),Kx.exports}var o5=s5();function i5(){return o5.useSyncExternalStore(a5,()=>!0,()=>!1)}function a5(){return()=>{}}var Ny="Avatar",[l5,Uz]=xs(Ny),[c5,xk]=l5(Ny),yk=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,c]=w.useState("idle");return l.jsx(c5,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:l.jsx(et.span,{...r,ref:e})})});yk.displayName=Ny;var wk="AvatarImage",_k=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...c}=n,d=xk(wk,t),h=u5(r,c),p=Us(g=>{o(g),d.onImageLoadingStatusChange(g)});return gn(()=>{h!=="idle"&&p(h)},[h,p]),h==="loaded"?l.jsx(et.img,{...c,ref:e,src:r}):null});_k.displayName=wk;var bk="AvatarFallback",Sk=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,c=xk(bk,t),[d,h]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const p=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(p)}},[r]),d&&c.imageLoadingStatus!=="loaded"?l.jsx(et.span,{...o,ref:e}):null});Sk.displayName=bk;function p1(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function u5(n,{referrerPolicy:e,crossOrigin:t}){const r=i5(),o=w.useRef(null),c=r?(o.current||(o.current=new window.Image),o.current):null,[d,h]=w.useState(()=>p1(c,n));return gn(()=>{h(p1(c,n))},[c,n]),gn(()=>{const p=y=>()=>{h(y)};if(!c)return;const g=p("loaded"),x=p("error");return c.addEventListener("load",g),c.addEventListener("error",x),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",g),c.removeEventListener("error",x)}},[c,t,e]),d}var Nk=yk,kk=_k,jk=Sk;const Ck=w.forwardRef(({className:n,...e},t)=>l.jsx(Nk,{ref:t,className:Fe("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));Ck.displayName=Nk.displayName;const Ek=w.forwardRef(({className:n,...e},t)=>l.jsx(kk,{ref:t,className:Fe("aspect-square h-full w-full",n),...e}));Ek.displayName=kk.displayName;const Pk=w.forwardRef(({className:n,...e},t)=>l.jsx(jk,{ref:t,className:Fe("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));Pk.displayName=jk.displayName;function dn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function Hs(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function Rk(n,e){const t=dn(n);return isNaN(e)?Hs(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function m1(n,e){const t=dn(n);if(isNaN(e))return Hs(n,NaN);if(!e)return t;const r=t.getDate(),o=Hs(n,t.getTime());o.setMonth(t.getMonth()+e+1,0);const c=o.getDate();return r>=c?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}const Tk=6048e5,d5=864e5,Ok=6e4,Mk=36e5;let f5={};function Zg(){return f5}function ql(n,e){var h,p,g,x;const t=Zg(),r=(e==null?void 0:e.weekStartsOn)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.weekStartsOn)??t.weekStartsOn??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.weekStartsOn)??0,o=dn(n),c=o.getDay(),d=(c<r?7:0)+c-r;return o.setDate(o.getDate()-d),o.setHours(0,0,0,0),o}function yg(n){return ql(n,{weekStartsOn:1})}function Ak(n){const e=dn(n),t=e.getFullYear(),r=Hs(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const o=yg(r),c=Hs(n,0);c.setFullYear(t,0,4),c.setHours(0,0,0,0);const d=yg(c);return e.getTime()>=o.getTime()?t+1:e.getTime()>=d.getTime()?t:t-1}function ba(n){const e=dn(n);return e.setHours(0,0,0,0),e}function g1(n){const e=dn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function ky(n,e){const t=ba(n),r=ba(e),o=+t-g1(t),c=+r-g1(r);return Math.round((o-c)/d5)}function h5(n){const e=Ak(n),t=Hs(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),yg(t)}function Ik(n){return Hs(n,Date.now())}function jy(n,e){const t=ba(n),r=ba(e);return+t==+r}function p5(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function Dk(n){if(!p5(n)&&typeof n!="number")return!1;const e=dn(n);return!isNaN(Number(e))}function T0(n,e){const t=dn(n),r=dn(e),o=v1(t,r),c=Math.abs(ky(t,r));t.setDate(t.getDate()-o*c);const d=+(v1(t,r)===-o),h=o*(c-d);return h===0?0:h}function v1(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function m5(n){const e=dn(n);return e.setHours(23,59,59,999),e}function Jx(n){const e=dn(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function g5(n,e){const t=dn(n.start),r=dn(n.end);let o=+t>+r;const c=o?+t:+r,d=o?r:t;d.setHours(0,0,0,0);let h=1;const p=[];for(;+d<=c;)p.push(dn(d)),d.setDate(d.getDate()+h),d.setHours(0,0,0,0);return o?p.reverse():p}function Um(n){const e=dn(n);return e.setDate(1),e.setHours(0,0,0,0),e}function v5(n){const e=dn(n),t=Hs(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const x5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},y5=(n,e,t)=>{let r;const o=x5[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function td(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const w5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},b5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},S5={date:td({formats:w5,defaultWidth:"full"}),time:td({formats:_5,defaultWidth:"full"}),dateTime:td({formats:b5,defaultWidth:"full"})},N5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},k5=(n,e,t,r)=>N5[n];function wo(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const d=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):d;o=n.formattingValues[h]||n.formattingValues[d]}else{const d=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[d]}const c=n.argumentCallback?n.argumentCallback(e):e;return o[c]}}const j5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},C5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},E5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},P5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},T5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},O5=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},M5={ordinalNumber:O5,era:wo({values:j5,defaultWidth:"wide"}),quarter:wo({values:C5,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wo({values:E5,defaultWidth:"wide"}),day:wo({values:P5,defaultWidth:"wide"}),dayPeriod:wo({values:R5,defaultWidth:"wide",formattingValues:T5,defaultFormattingWidth:"wide"})};function _o(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],c=e.match(o);if(!c)return null;const d=c[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],p=Array.isArray(h)?I5(h,y=>y.test(d)):A5(h,y=>y.test(d));let g;g=n.valueCallback?n.valueCallback(p):p,g=t.valueCallback?t.valueCallback(g):g;const x=e.slice(d.length);return{value:g,rest:x}}}function A5(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function I5(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function Lk(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],c=e.match(n.parsePattern);if(!c)return null;let d=n.valueCallback?n.valueCallback(c[0]):c[0];d=t.valueCallback?t.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}const D5=/^(\d+)(th|st|nd|rd)?/i,L5=/\d+/i,$5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},F5={any:[/^b/i,/^(a|c)/i]},z5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},U5={any:[/1/i,/2/i,/3/i,/4/i]},B5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},W5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},H5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},V5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},G5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},q5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},K5={ordinalNumber:Lk({matchPattern:D5,parsePattern:L5,valueCallback:n=>parseInt(n,10)}),era:_o({matchPatterns:$5,defaultMatchWidth:"wide",parsePatterns:F5,defaultParseWidth:"any"}),quarter:_o({matchPatterns:z5,defaultMatchWidth:"wide",parsePatterns:U5,defaultParseWidth:"any",valueCallback:n=>n+1}),month:_o({matchPatterns:B5,defaultMatchWidth:"wide",parsePatterns:W5,defaultParseWidth:"any"}),day:_o({matchPatterns:H5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:G5,defaultMatchWidth:"any",parsePatterns:q5,defaultParseWidth:"any"})},Oo={code:"en-US",formatDistance:y5,formatLong:S5,formatRelative:k5,localize:M5,match:K5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Y5(n){const e=dn(n);return ky(e,v5(e))+1}function J5(n){const e=dn(n),t=+yg(e)-+h5(e);return Math.round(t/Tk)+1}function $k(n,e){var x,y,b,C;const t=dn(n),r=t.getFullYear(),o=Zg(),c=(e==null?void 0:e.firstWeekContainsDate)??((y=(x=e==null?void 0:e.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(b=o.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,d=Hs(n,0);d.setFullYear(r+1,0,c),d.setHours(0,0,0,0);const h=ql(d,e),p=Hs(n,0);p.setFullYear(r,0,c),p.setHours(0,0,0,0);const g=ql(p,e);return t.getTime()>=h.getTime()?r+1:t.getTime()>=g.getTime()?r:r-1}function X5(n,e){var h,p,g,x;const t=Zg(),r=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??t.firstWeekContainsDate??((x=(g=t.locale)==null?void 0:g.options)==null?void 0:x.firstWeekContainsDate)??1,o=$k(n,e),c=Hs(n,0);return c.setFullYear(o,0,r),c.setHours(0,0,0,0),ql(c,e)}function Q5(n,e){const t=dn(n),r=+ql(t,e)-+X5(t,e);return Math.round(r/Tk)+1}function Rt(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ga={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return Rt(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):Rt(t+1,2)},d(n,e){return Rt(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return Rt(n.getHours()%12||12,e.length)},H(n,e){return Rt(n.getHours(),e.length)},m(n,e){return Rt(n.getMinutes(),e.length)},s(n,e){return Rt(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return Rt(o,e.length)}},Gu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},x1={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return ga.y(n,e)},Y:function(n,e,t,r){const o=$k(n,r),c=o>0?o:1-o;if(e==="YY"){const d=c%100;return Rt(d,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):Rt(c,e.length)},R:function(n,e){const t=Ak(n);return Rt(t,e.length)},u:function(n,e){const t=n.getFullYear();return Rt(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Rt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Rt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ga.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return Rt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const o=Q5(n,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):Rt(o,e.length)},I:function(n,e,t){const r=J5(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):Rt(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ga.d(n,e)},D:function(n,e,t){const r=Y5(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):Rt(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return Rt(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return Rt(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return Rt(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let o;switch(r===12?o=Gu.noon:r===0?o=Gu.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let o;switch(r>=17?o=Gu.evening:r>=12?o=Gu.afternoon:r>=4?o=Gu.morning:o=Gu.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ga.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ga.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):Rt(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ga.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ga.s(n,e)},S:function(n,e){return ga.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return w1(r);case"XXXX":case"XX":return Dl(r);case"XXXXX":case"XXX":default:return Dl(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return w1(r);case"xxxx":case"xx":return Dl(r);case"xxxxx":case"xxx":default:return Dl(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+y1(r,":");case"OOOO":default:return"GMT"+Dl(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+y1(r,":");case"zzzz":default:return"GMT"+Dl(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return Rt(r,e.length)},T:function(n,e,t){const r=n.getTime();return Rt(r,e.length)}};function y1(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Math.trunc(r/60),c=r%60;return c===0?t+String(o):t+String(o)+e+Rt(c,2)}function w1(n,e){return n%60===0?(n>0?"-":"+")+Rt(Math.abs(n)/60,2):Dl(n,e)}function Dl(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Rt(Math.trunc(r/60),2),c=Rt(r%60,2);return t+o+e+c}const _1=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Fk=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Z5=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return _1(n,e);let c;switch(r){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",_1(r,e)).replace("{{time}}",Fk(o,e))},e6={p:Fk,P:Z5},t6=/^D+$/,n6=/^Y+$/,r6=["D","DD","YY","YYYY"];function s6(n){return t6.test(n)}function o6(n){return n6.test(n)}function i6(n,e,t){const r=a6(n,e,t);if(console.warn(r),r6.includes(n))throw new RangeError(r)}function a6(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const l6=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,c6=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,u6=/^'([^]*?)'?$/,d6=/''/g,f6=/[a-zA-Z]/;function Ue(n,e,t){var x,y,b,C,P,E,k,R;const r=Zg(),o=(t==null?void 0:t.locale)??r.locale??Oo,c=(t==null?void 0:t.firstWeekContainsDate)??((y=(x=t==null?void 0:t.locale)==null?void 0:x.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,d=(t==null?void 0:t.weekStartsOn)??((E=(P=t==null?void 0:t.locale)==null?void 0:P.options)==null?void 0:E.weekStartsOn)??r.weekStartsOn??((R=(k=r.locale)==null?void 0:k.options)==null?void 0:R.weekStartsOn)??0,h=dn(n);if(!Dk(h))throw new RangeError("Invalid time value");let p=e.match(c6).map(j=>{const T=j[0];if(T==="p"||T==="P"){const A=e6[T];return A(j,o.formatLong)}return j}).join("").match(l6).map(j=>{if(j==="''")return{isToken:!1,value:"'"};const T=j[0];if(T==="'")return{isToken:!1,value:h6(j)};if(x1[T])return{isToken:!0,value:j};if(T.match(f6))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:j}});o.localize.preprocessor&&(p=o.localize.preprocessor(h,p));const g={firstWeekContainsDate:c,weekStartsOn:d,locale:o};return p.map(j=>{if(!j.isToken)return j.value;const T=j.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&o6(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&s6(T))&&i6(T,e,String(n));const A=x1[T[0]];return A(h,T,o.localize,g)}).join("")}function h6(n){const e=n.match(u6);return e?e[1].replace(d6,"'"):n}function b1(n,e,t){const r=ql(n,t),o=ql(e,t);return+r==+o}function kh(n){return jy(n,Ik(n))}function p6(n,e){return Rk(n,-1)}function m6(n){return jy(n,p6(Ik(n)))}function yt(n,e){const r=y6(n);let o;if(r.date){const p=w6(r.date,2);o=_6(p.restDateString,p.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const c=o.getTime();let d=0,h;if(r.time&&(d=b6(r.time),isNaN(d)))return new Date(NaN);if(r.timezone){if(h=S6(r.timezone),isNaN(h))return new Date(NaN)}else{const p=new Date(c+d),g=new Date(0);return g.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),g.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),g}return new Date(c+d+h)}const Bm={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},g6=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,v6=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,x6=/^([+-])(\d{2})(?::?(\d{2}))?$/;function y6(n){const e={},t=n.split(Bm.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],Bm.timeZoneDelimiter.test(e.date)&&(e.date=n.split(Bm.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const o=Bm.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function w6(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:c===null?o:c*100,restDateString:n.slice((r[1]||r[2]).length)}}function _6(n,e){if(e===null)return new Date(NaN);const t=n.match(g6);if(!t)return new Date(NaN);const r=!!t[4],o=Qf(t[1]),c=Qf(t[2])-1,d=Qf(t[3]),h=Qf(t[4]),p=Qf(t[5])-1;if(r)return E6(e,h,p)?N6(e,h,p):new Date(NaN);{const g=new Date(0);return!j6(e,c,d)||!C6(e,o)?new Date(NaN):(g.setUTCFullYear(e,c,Math.max(o,d)),g)}}function Qf(n){return n?parseInt(n):1}function b6(n){const e=n.match(v6);if(!e)return NaN;const t=Xx(e[1]),r=Xx(e[2]),o=Xx(e[3]);return P6(t,r,o)?t*Mk+r*Ok+o*1e3:NaN}function Xx(n){return n&&parseFloat(n.replace(",","."))||0}function S6(n){if(n==="Z")return 0;const e=n.match(x6);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return R6(r,o)?t*(r*Mk+o*Ok):NaN}function N6(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const o=r.getUTCDay()||7,c=(e-1)*7+t+1-o;return r.setUTCDate(r.getUTCDate()+c),r}const k6=[31,null,31,30,31,30,31,31,30,31,30,31];function zk(n){return n%400===0||n%4===0&&n%100!==0}function j6(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(k6[e]||(zk(n)?29:28))}function C6(n,e){return e>=1&&e<=(zk(n)?366:365)}function E6(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function P6(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function R6(n,e){return e>=0&&e<=59}function Zf(n,e){if(n.one!==void 0&&e===1)return n.one;const t=e%10,r=e%100;return t===1&&r!==11?n.singularNominative.replace("{{count}}",String(e)):t>=2&&t<=4&&(r<10||r>20)?n.singularGenitive.replace("{{count}}",String(e)):n.pluralGenitive.replace("{{count}}",String(e))}function cr(n){return(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n.future?Zf(n.future,e):"через "+Zf(n.regular,e):n.past?Zf(n.past,e):Zf(n.regular,e)+" назад":Zf(n.regular,e)}const T6={lessThanXSeconds:cr({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:cr({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(n,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:cr({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:cr({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:cr({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:cr({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:cr({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:cr({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:cr({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:cr({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:cr({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:cr({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:cr({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:cr({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:cr({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},O6=(n,e,t)=>T6[n](e,t),M6={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},A6={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},I6={any:"{{date}}, {{time}}"},D6={date:td({formats:M6,defaultWidth:"full"}),time:td({formats:A6,defaultWidth:"full"}),dateTime:td({formats:I6,defaultWidth:"any"})},Cy=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function L6(n){const e=Cy[n];switch(n){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function S1(n){const e=Cy[n];return n===2?"'во "+e+" в' p":"'в "+e+" в' p"}function $6(n){const e=Cy[n];switch(n){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const F6={lastWeek:(n,e,t)=>{const r=n.getDay();return b1(n,e,t)?S1(r):L6(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(n,e,t)=>{const r=n.getDay();return b1(n,e,t)?S1(r):$6(r)},other:"P"},z6=(n,e,t,r)=>{const o=F6[n];return typeof o=="function"?o(e,t,r):o},U6={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},B6={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},W6={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},H6={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},V6={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},G6={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},q6={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},K6=(n,e)=>{const t=Number(n),r=e==null?void 0:e.unit;let o;return r==="date"?o="-е":r==="week"||r==="minute"||r==="second"?o="-я":o="-й",t+o},Y6={ordinalNumber:K6,era:wo({values:U6,defaultWidth:"wide"}),quarter:wo({values:B6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:wo({values:W6,defaultWidth:"wide",formattingValues:H6,defaultFormattingWidth:"wide"}),day:wo({values:V6,defaultWidth:"wide"}),dayPeriod:wo({values:G6,defaultWidth:"any",formattingValues:q6,defaultFormattingWidth:"wide"})},J6=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,X6=/\d+/i,Q6={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},Z6={any:[/^д/i,/^н/i]},eF={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},tF={any:[/1/i,/2/i,/3/i,/4/i]},nF={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},rF={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},sF={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},oF={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},iF={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},aF={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},lF={ordinalNumber:Lk({matchPattern:J6,parsePattern:X6,valueCallback:n=>parseInt(n,10)}),era:_o({matchPatterns:Q6,defaultMatchWidth:"wide",parsePatterns:Z6,defaultParseWidth:"any"}),quarter:_o({matchPatterns:eF,defaultMatchWidth:"wide",parsePatterns:tF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:_o({matchPatterns:nF,defaultMatchWidth:"wide",parsePatterns:rF,defaultParseWidth:"any"}),day:_o({matchPatterns:sF,defaultMatchWidth:"wide",parsePatterns:oF,defaultParseWidth:"any"}),dayPeriod:_o({matchPatterns:iF,defaultMatchWidth:"wide",parsePatterns:aF,defaultParseWidth:"any"})},dr={code:"ru",formatDistance:O6,formatLong:D6,formatRelative:z6,localize:Y6,match:lF,options:{weekStartsOn:1,firstWeekContainsDate:1}},cF=({channel:n})=>{const e=typeof n=="string"?n.toLowerCase():"",t={whatsapp:l.jsx("img",{src:"/icons/whatsapp.png",alt:"WhatsApp",className:"h-4 w-4"}),telegram:l.jsx("img",{src:"/icons/telegram.png",alt:"Telegram",className:"h-4 w-4"}),avito:l.jsx("img",{src:"/icons/avito.png",alt:"Avito",className:"h-4 w-4"}),email:l.jsx("img",{src:"/icons/email.png",alt:"Email",className:"h-4 w-4"})};return t[e]?l.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg border-2 border-white flex items-center justify-center transform transition-transform hover:scale-110",children:t[e]}):null},uF=({status:n,isLastMessageFromStaff:e})=>{if(!e)return null;switch(n){case"sent":return l.jsx("div",{className:"flex items-center",title:"Отправлено",children:l.jsx(ji,{className:"h-3.5 w-3.5 text-slate-400"})});case"delivered":return l.jsx("div",{className:"flex items-center",title:"Доставлено",children:l.jsx(ch,{className:"h-3.5 w-3.5 text-slate-400"})});case"read":return l.jsx("div",{className:"flex items-center",title:"Прочитано",children:l.jsx(ch,{className:"h-3.5 w-3.5 text-blue-500"})});case"failed":return l.jsx("div",{className:"flex items-center",title:"Ошибка отправки",children:l.jsx(Sa,{className:"h-3.5 w-3.5 text-rose-500 animate-pulse"})});default:return null}},dF=n=>{if(!n)return"";const e=new Date(n);return Dk(e)?kh(e)?Ue(e,"HH:mm"):m6(e)?"Вчера":Ue(e,"dd.MM.yy",{locale:dr}):""},Jm=n=>n!=null&&n.contact_full_name?n.contact_full_name:`Диалог #${((n==null?void 0:n.id)||"").substring(0,6)}`,fF=n=>{const e=Jm(n);if(e.startsWith("Диалог"))return n.channel==="whatsapp"?"WA":n.channel==="telegram"?"TG":n.channel==="avito"?"AV":n.channel==="email"?"@":"??";const t=e.trim().split(" ");return t.length===1?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(r=>r[0]).join("").toUpperCase()};function N1({onConversationSelect:n,selectedConversation:e}){const[t,r]=w.useState([]),[o,c]=w.useState(!0),[d,h]=w.useState(""),[p,g]=w.useState(""),[x,y]=w.useState(""),b=async A=>{if(A.contact_avatar_url)return console.log(`ℹ️ Аватар уже есть для ${A.contact_full_name}`),null;if(!A.contact_id)return console.log(`❌ Нет contact_id для ${A.contact_full_name}`),null;if(A.channel!=="whatsapp"&&A.channel!=="telegram")return console.log(`ℹ️ Канал ${A.channel} не поддерживается для аватаров`),null;try{console.log(`🖼️ Загружаем аватар для ${A.channel}:`,A.contact_full_name);let D;if(A.channel==="telegram"?D=A.telegram_user_id:A.channel==="whatsapp"&&(D=A.whatsapp_sender_id),!D){console.log(`❌ Не найден external_id в диалоге для ${A.channel}`),console.log("🔄 Пробуем найти external_id в таблице contacts...");const{data:X,error:ne}=await Me.from("contacts").select("external_id").eq("id",A.contact_id).single();if(ne||!(X!=null&&X.external_id))return console.log("❌ external_id не найден и в таблице contacts"),null;D=X.external_id}console.log(`📞 Загружаем аватар для ${A.channel} ID:`,D);const H=A.channel==="telegram"?"fetch-telegram-avatar":"fetch-whatsapp-avatar",F=A.channel==="telegram"?"telegram_user_id":"wa_id",{data:$,error:G}=await Me.functions.invoke(H,{body:{[F]:D,contact_id:A.contact_id}});return G?(console.error("❌ Ошибка Edge Function:",G),null):$!=null&&$.success&&($!=null&&$.avatar_url)?(console.log("✅ Аватар загружен:",$.avatar_url),r(X=>X.map(ne=>ne.id===A.id?{...ne,contact_avatar_url:$.avatar_url}:ne)),$.avatar_url):(console.log("ℹ️ Аватар не найден:",($==null?void 0:$.message)||"Неизвестная ошибка"),null)}catch(D){return console.error("💥 Ошибка при загрузке аватара:",D),null}},C=w.useCallback(async A=>{console.log("🎯 Обновляем статус последнего сообщения в диалоге:",A);try{r(D=>D.map(H=>H.id===A.conversation_id&&H.last_message_sender_is_staff?(console.log(`✅ Обновляем статус диалога ${H.contact_full_name}: ${A.status}`),{...H,last_message_status:A.status,updated_at:new Date().toISOString()}):H)),console.log("✅ Статус диалога обновлен мгновенно")}catch(D){console.error("💥 Ошибка умного обновления статуса:",D),setTimeout(()=>k(!0),500)}},[]),P=async A=>{try{console.log("🧠 Получено сообщение от гостя, проверяем непрочитанные сообщения...");const{data:D,error:H}=await Me.from("messages").select("id, content, created_at").eq("conversation_id",A.conversation_id).eq("sender_type","staff").in("status",["sent","delivered"]).order("created_at",{ascending:!1});if(H){console.error("❌ Ошибка поиска непрочитанных сообщений:",H);return}if(!(D!=null&&D.length)){console.log("ℹ️ Нет непрочитанных сообщений от персонала");return}if(console.log(`📖 Найдено ${D.length} непрочитанных сообщений от персонала`),new Date-new Date(D[0].created_at)<1440*60*1e3){const G=D.map(ne=>ne.id),{error:X}=await Me.from("messages").update({status:"read",updated_at:new Date().toISOString()}).in("id",G);X?console.error("❌ Ошибка обновления статусов:",X):(console.log(`✅ Помечено как прочитанное ${G.length} сообщений (пользователь ответил)`),setTimeout(()=>k(!0),500))}else console.log("⏰ Сообщения слишком старые, не помечаем как прочитанные автоматически")}catch(D){console.error("💥 Ошибка умной логики прочтения:",D)}},E=async()=>{var A,D;console.log("🧪 Тестируем Telegram Avatar Function...");try{const H=await Me.functions.invoke("fetch-telegram-avatar",{body:{telegram_user_id:"1322101796",contact_id:"d860abee-90a9-4e01-a5bd-5ef07adb13da"}});console.log("📊 Результат тестирования:",H),(A=H.data)!=null&&A.success?(console.log("✅ Аватар успешно загружен:",H.data.avatar_url),k(!0)):console.log("❌ Не удалось загрузить аватар:",(D=H.data)==null?void 0:D.message)}catch(H){console.error("💥 Ошибка тестирования:",H)}},k=w.useCallback(async(A=!1)=>{console.log("🔄 Начинаем загрузку диалогов через RPC...",A?"(тихое обновление)":""),g(""),A||c(!0);try{const{data:D,error:H}=await Me.rpc("get_conversations");H?(console.error("❌ Ошибка RPC get_conversations:",H),g(`Ошибка RPC: ${H.message}`),y(`RPC ошибка: ${H.code} - ${H.message}`)):(console.log("✅ RPC функция вернула данные:",(D==null?void 0:D.length)||0),console.log("📊 Первые 3 диалога:",D==null?void 0:D.slice(0,3)),console.log("🖼️ Аватары:",D==null?void 0:D.slice(0,3).map(F=>({id:F.id,avatar:F.contact_avatar_url}))),r(D||[]),y(`RPC функция работает. Найдено: ${(D==null?void 0:D.length)||0} диалогов`))}catch(D){console.error("💥 Неожиданная ошибка:",D),g(`Неожиданная ошибка: ${D.message}`),y(`Исключение: ${D.message}`)}A||c(!1)},[]);w.useEffect(()=>{k();const A=Me.channel("public-db-changes-smart-read-sidebar").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},D=>{console.log("🔔 Новое сообщение в БД (sidebar):",D.new),D.new.sender_type==="guest"&&(console.log("👤 Сообщение от гостя"),e&&D.new.conversation_id===e.id?(console.log("📖 Сообщение в активном диалоге - помечаем как прочитанное сразу"),setTimeout(async()=>{const{error:H}=await Me.rpc("mark_conversation_as_read",{conv_id:D.new.conversation_id});H||console.log("✅ Активный диалог отмечен как прочитанный")},100)):(console.log("💭 Сообщение в неактивном диалоге - запускаем умную логику"),P(D.new))),setTimeout(()=>k(!0),300)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},D=>{console.log("🔄 Обновление сообщения (sidebar):",D.new.id,"статус:",D.new.status),C(D.new),setTimeout(()=>{console.log("🔄 Дополнительная синхронизация диалогов"),k(!0)},2e3)}).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},D=>{console.log("🔔 Изменение в диалогах:",D),setTimeout(()=>k(!0),500)}).subscribe();return console.log("📡 Подписка на умную логику прочтения (sidebar) настроена"),()=>{console.log("🔌 Отключаем подписку (sidebar)"),Me.removeChannel(A)}},[]);const R=async()=>{try{console.log("⏰ Проверяем старые сообщения для автоматического прочтения...");const A=new Date(Date.now()-7200*1e3).toISOString(),{data:D,error:H}=await Me.from("messages").select("id, conversation_id").eq("sender_type","staff").eq("status","delivered").lt("created_at",A);if(H||!(D!=null&&D.length))return;console.log(`📅 Найдено ${D.length} старых сообщений для автопрочтения`);const F=D.map(G=>G.id),{error:$}=await Me.from("messages").update({status:"read"}).in("id",F);$||console.log(`✅ Автоматически помечено как прочитанное ${F.length} старых сообщений`)}catch(A){console.error("💥 Ошибка автопрочтения старых сообщений:",A)}};w.useEffect(()=>{const A=async()=>{console.log("🔍 Проверяем аватары для всех диалогов...");const D=t.filter(H=>{const F=!H.contact_avatar_url,$=H.channel==="whatsapp"||H.channel==="telegram",G=H.contact_id;return console.log(`📋 Диалог ${H.contact_full_name}: канал=${H.channel}, аватар=${H.contact_avatar_url?"есть":"нет"}, contact_id=${H.contact_id?"есть":"нет"}`),F&&$&&G});if(console.log(`🔄 Найдено ${D.length} контактов без аватаров для загрузки`),D.length===0){console.log("✅ Все аватары уже загружены или каналы не поддерживаются");return}D.forEach(H=>{console.log(`🎯 Планируем загрузить аватар: ${H.contact_full_name} (${H.channel})`)});for(const H of D.slice(0,3))console.log(`⏳ Загружаем аватар для ${H.contact_full_name} (${H.channel})`),await b(H),await new Promise(F=>setTimeout(F,1e3))};t.length>0&&(console.log(`📊 Всего диалогов: ${t.length}`),A())},[t.length]);const j=async A=>{if(console.log("👆 Клик по диалогу:",A.id,"Непрочитанных:",A.unread_count),n(A),A.unread_count>0){r(H=>H.map(F=>F.id===A.id?{...F,unread_count:0}:F)),console.log("🔄 Отмечаем диалог как прочитанный...");const{error:D}=await Me.rpc("mark_conversation_as_read",{conv_id:A.id});D?(console.error("❌ Ошибка при отметке о прочтении:",D),r(H=>H.map(F=>F.id===A.id?{...F,unread_count:A.unread_count}:F))):console.log("✅ Диалог отмечен как прочитанный")}};w.useEffect(()=>{const A=setInterval(R,18e5);return()=>clearInterval(A)},[]);const T=t.filter(A=>d?Jm(A).toLowerCase().includes(d.toLowerCase()):!0);return l.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 via-white to-blue-50/30 backdrop-blur-xl",children:[l.jsxs("div",{className:"p-5 bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent flex items-center",children:[l.jsx("div",{className:"mr-3 p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg shadow-blue-500/20",children:l.jsx(cg,{className:"h-5 w-5 text-white"})}),"Сообщения"]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:E,className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl text-xs hover:shadow-lg hover:shadow-blue-500/25 transform transition-all hover:-translate-y-0.5",title:"Тест Telegram Avatar",children:l.jsx(ED,{className:"h-4 w-4"})}),l.jsx("button",{onClick:()=>k(!1),className:"p-2.5 bg-white hover:bg-slate-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group",title:"Обновить список",children:l.jsx(ug,{className:`h-4 w-4 text-slate-600 group-hover:text-blue-600 transition-colors ${o?"animate-spin":""}`})})]})]}),x&&l.jsx("div",{className:"mb-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-xl text-xs text-blue-700 backdrop-blur-sm",children:l.jsxs("div",{className:"flex items-center",children:[l.jsx("div",{className:"animate-pulse mr-2",children:"🔍"}),x]})}),p&&l.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-rose-50 to-pink-50 border border-rose-200/50 rounded-xl text-xs text-rose-700 flex items-center backdrop-blur-sm",children:[l.jsx(Sa,{className:"h-4 w-4 mr-2 flex-shrink-0"}),p]}),l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl blur opacity-20 group-hover:opacity-30 transition-opacity"}),l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),l.jsx(gt,{placeholder:"Поиск по сообщениям...",value:d,onChange:A=>h(A.target.value),className:"pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border-slate-200/50 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 transition-all"})]})]})]}),l.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[o&&l.jsx("div",{className:"p-8 text-center",children:l.jsxs("div",{className:"inline-flex flex-col items-center",children:[l.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl mb-4",children:l.jsx(ug,{className:"h-8 w-8 animate-spin text-blue-600"})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"Загрузка сообщений..."})]})}),!o&&!p&&T.length===0&&t.length===0&&l.jsx("div",{className:"p-8 text-center",children:l.jsxs("div",{className:"inline-flex flex-col items-center",children:[l.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl mb-4",children:l.jsx(cg,{className:"h-8 w-8 text-slate-400"})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"Диалогов пока нет"}),l.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Новые сообщения появятся здесь"})]})}),!o&&!p&&T.length===0&&t.length>0&&l.jsx("div",{className:"p-8 text-center",children:l.jsxs("div",{className:"inline-flex flex-col items-center",children:[l.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-100 to-amber-100 rounded-2xl mb-4",children:l.jsx(Hl,{className:"h-8 w-8 text-orange-500"})}),l.jsx("p",{className:"text-slate-600 font-medium",children:"Ничего не найдено"}),l.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:['По запросу "',d,'"']})]})}),l.jsx("div",{className:"p-2",children:!o&&!p&&T.map(A=>l.jsx("div",{onClick:()=>j(A),className:`
                                relative mb-2 p-4 rounded-2xl cursor-pointer
                                transition-all duration-200 transform hover:scale-[1.02]
                                ${(e==null?void 0:e.id)===A.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 shadow-sm hover:shadow-md"}
                            `,children:l.jsxs("div",{className:"flex items-center space-x-3",children:[l.jsx("div",{className:"relative flex-shrink-0",children:l.jsxs("div",{className:"relative",children:[l.jsxs(Ck,{className:"h-12 w-12 ring-2 ring-white shadow-md",children:[A.contact_avatar_url?l.jsx(Ek,{src:A.contact_avatar_url,alt:Jm(A),onError:D=>{console.log("❌ Ошибка загрузки аватара:",D.target.src),b(A)}}):null,l.jsx(Pk,{className:`font-semibold text-sm ${(e==null?void 0:e.id)===A.id?"bg-white/20 text-white":"bg-gradient-to-br from-blue-500 to-purple-600 text-white"}`,children:fF(A)})]}),l.jsx(cF,{channel:A.channel})]})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("h3",{className:`font-semibold truncate flex-1 pr-2 ${(e==null?void 0:e.id)===A.id?"text-white":"text-slate-800"}`,children:Jm(A)}),l.jsx("span",{className:`text-xs flex-shrink-0 ${(e==null?void 0:e.id)===A.id?"text-white/80":"text-slate-400"}`,children:dF(A.updated_at)})]}),l.jsxs("div",{className:"flex items-start justify-between mt-1",children:[l.jsxs("p",{className:`text-sm truncate pr-2 ${(e==null?void 0:e.id)===A.id?"text-white/90":"text-slate-500"}`,children:[A.last_message_sender_is_staff&&l.jsx("span",{className:"font-medium",children:"Вы: "}),A.last_message_preview]}),l.jsx("div",{className:"flex-shrink-0 h-5 flex items-center justify-center min-w-[20px]",children:A.unread_count>0?l.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 text-white text-xs font-bold rounded-full h-6 min-w-[24px] flex items-center justify-center px-1.5 shadow-lg shadow-emerald-500/30 animate-pulse",children:A.unread_count}):A.last_message_sender_is_staff?l.jsx(uF,{status:A.last_message_status,isLastMessageFromStaff:A.last_message_sender_is_staff}):null})]})]})]})},A.id))})]})]})}const hF=({status:n,channel:e})=>{if(e==="telegram"&&n==="read")return l.jsx("div",{className:"flex items-center ml-1.5",title:"Доставлено в Telegram",children:l.jsx(ch,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});switch(n){case"sent":return l.jsx("div",{className:"flex items-center ml-1.5",title:"Отправлено",children:l.jsx(ji,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"delivered":const t=e==="telegram"?"Доставлено в Telegram":e==="email"?"Доставлено в почтовый ящик":e==="whatsapp"?"Доставлено в WhatsApp":"Доставлено";return l.jsx("div",{className:"flex items-center ml-1.5",title:t,children:l.jsx(ch,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"read":const r=e==="email"?"Прочитано (получатель открыл письмо)":e==="whatsapp"?"Прочитано в WhatsApp":"Прочитано";return l.jsx("div",{className:"flex items-center ml-1.5",title:r,children:l.jsx(ch,{className:"h-3.5 w-3.5 text-emerald-400 drop-shadow-glow"})});case"failed":const o=e==="email"?"Ошибка отправки письма":e==="whatsapp"?"Ошибка отправки в WhatsApp":e==="telegram"?"Ошибка отправки в Telegram":"Ошибка отправки";return l.jsx("div",{className:"flex items-center ml-1.5",title:o,children:l.jsx(Sa,{className:"h-3.5 w-3.5 text-rose-400 animate-pulse drop-shadow-glow"})});default:return null}},pF=({channel:n})=>{const e={whatsapp:"from-green-400 to-green-600 text-white",telegram:"from-blue-400 to-blue-600 text-white",avito:"from-purple-400 to-purple-600 text-white",email:"from-orange-400 to-orange-600 text-white"},t={whatsapp:"💬",telegram:"✈️",avito:"🏠",email:"📧"},r=e[n==null?void 0:n.toLowerCase()]||"from-slate-400 to-slate-600 text-white",o=t[n==null?void 0:n.toLowerCase()]||"💬";return l.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r ${r} rounded-full text-xs font-medium shadow-md`,children:[l.jsx("span",{children:o}),l.jsx("span",{className:"capitalize",children:n})]})};function O0({selectedConversation:n}){const{user:e}=Th(),[t,r]=w.useState([]),[o,c]=w.useState(""),[d,h]=w.useState(!1),[p,g]=w.useState(!1),x=w.useRef(null);w.useEffect(()=>{if(!(n!=null&&n.id)){r([]);return}(async()=>{h(!0);try{const{data:j,error:T}=await Me.from("messages").select("*").eq("conversation_id",n.id).order("created_at",{ascending:!0});if(T)throw T;r(j||[])}catch(j){console.error("Ошибка загрузки сообщений:",j)}finally{h(!1)}})();const R=Me.channel(`messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},j=>{console.log("💬 Новое сообщение в чате:",j.new),r(T=>T.find(A=>A.id===j.new.id)?T:[...T,j.new])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},j=>{console.log("🔄 Обновление статуса сообщения:",j.new.id,"статус:",j.new.status,"канал:",j.new.channel),r(T=>T.map(A=>A.id===j.new.id?{...A,status:j.new.status,brevo_message_id:j.new.brevo_message_id}:A))}).subscribe();return()=>{Me.removeChannel(R)}},[n==null?void 0:n.id]),w.useEffect(()=>{var k;(k=x.current)==null||k.scrollIntoView({behavior:"smooth"})},[t]);const y=async()=>{var T;const k=n;if(!o.trim()||!k||!e)return;const R=o.trim();c("");const j={id:`temp-${Date.now()}`,conversation_id:k.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent",created_at:new Date().toISOString(),isOptimistic:!0};r(A=>[...A,j]);try{console.log(`📤 Отправляем сообщение в ${k.channel}:`,R);const{data:A,error:D}=await Me.from("messages").insert({conversation_id:k.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent"}).select().single();if(D)throw D;console.log("✅ Сообщение сохранено в БД:",A.id),r(G=>G.map(X=>X.id===j.id?{...A,isOptimistic:!1}:X));const H=(T=k.channel)==null?void 0:T.toLowerCase();let F=null,$={conversation_id:k.id,message_id:A.id,content:R};switch(H){case"whatsapp":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_whatsapp",console.log("📱 Отправляем в WhatsApp...");break;case"telegram":F="https://vodahotel.app.n8n.cloud/webhook/telegram-reply",console.log("🤖 Отправляем в Telegram...");break;case"avito":F="https://vodahotel.app.n8n.cloud/webhook/c2e07a8b-9c99-4dfb-b45f-37e6db393a54",console.log("🏠 Отправляем в Avito...");break;case"email":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_email_brevo",console.log("📧 Отправляем в Email через Brevo...");break;default:console.warn("⚠️ Неизвестный канал:",k.channel);return}if(F){console.log("🔗 Вызываем webhook:",F),console.log("📦 Payload:",$);const G=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify($)});if(G.ok){console.log(`✅ Webhook успешно вызван для ${k.channel}`);try{const X=await G.json();if(console.log(`📊 ${k.channel} Response:`,X),H==="whatsapp"&&X&&X.messages&&X.messages[0]&&X.messages[0].id){const ne=X.messages[0].id;await Me.from("messages").update({whatsapp_message_id:ne}).eq("id",A.id),console.log("✅ WhatsApp Message ID сохранен:",ne)}H==="email"&&X&&X.messageId&&console.log("✅ Email отправлен через Brevo, messageId:",X.messageId)}catch(X){console.log("ℹ️ Не удалось получить response JSON:",X.message)}H==="telegram"&&(console.log("🧪 Запускаем симуляцию статусов для Telegram..."),setTimeout(async()=>{try{await Me.from("messages").update({status:"delivered"}).eq("id",A.id),console.log("📬 Статус обновлен: delivered")}catch(X){console.error("❌ Ошибка обновления delivered:",X)}},1500))}else{console.error(`❌ Ошибка webhook для ${k.channel}:`,G.status);const X=await G.text();console.error("Ошибка webhook:",X),r(ne=>ne.map(ae=>ae.id===j.id||ae.id===A.id?{...ae.id===j.id?A:ae,status:"failed"}:ae)),await Me.from("messages").update({status:"failed"}).eq("id",A.id)}}}catch(A){console.error("💥 Ошибка отправки сообщения:",A),r(D=>D.filter(H=>H.id!==j.id))}},b=()=>n?n.contact_full_name||"Неизвестный контакт":"",C=k=>{const R={};return k.forEach(j=>{const T=Ue(new Date(j.created_at),"yyyy-MM-dd");R[T]||(R[T]=[]),R[T].push(j)}),R},P=k=>{const R=new Date(k),j=new Date,T=new Date(j);return T.setDate(T.getDate()-1),Ue(R,"yyyy-MM-dd")===Ue(j,"yyyy-MM-dd")?"Сегодня":Ue(R,"yyyy-MM-dd")===Ue(T,"yyyy-MM-dd")?"Вчера":Ue(R,"d MMMM yyyy",{locale:dr})},E=C(t);return l.jsx("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50/50 via-white to-blue-50/30",children:n?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-6 py-4 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-4",children:l.jsxs("div",{className:"flex flex-col",children:[l.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:b()}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(pF,{channel:n.channel}),p&&l.jsx("span",{className:"text-xs text-green-600 font-medium animate-pulse",children:"печатает..."})]})]})}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:l.jsx(Ea,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),l.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:l.jsx(VD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),l.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:l.jsx(zI,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})})]})]})}),l.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[d&&l.jsx("div",{className:"flex justify-center items-center h-full",children:l.jsxs("div",{className:"flex flex-col items-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mb-4"}),l.jsx("p",{className:"text-slate-500 font-medium",children:"Загрузка сообщений..."})]})}),Object.entries(E).map(([k,R])=>l.jsxs("div",{children:[l.jsx("div",{className:"flex items-center justify-center my-4",children:l.jsx("div",{className:"px-4 py-1.5 bg-white/80 backdrop-blur-sm rounded-full shadow-sm border border-slate-200/50",children:l.jsx("span",{className:"text-xs font-medium text-slate-600",children:P(k)})})}),R.map(j=>{var A;const T=j.sender_type==="staff";return l.jsx("div",{className:`flex mb-3 ${T?"justify-end":"justify-start"} animate-fadeIn`,children:l.jsxs("div",{className:`group relative max-w-[70%] ${T?"items-end":"items-start"}`,children:[l.jsx("div",{className:`
                            px-4 py-2.5 rounded-2xl break-words shadow-sm
                            transition-all duration-200 transform hover:scale-[1.02]
                            ${T?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md shadow-lg shadow-blue-500/20":"bg-white text-slate-900 rounded-bl-md shadow-md border border-slate-100"}
                            ${j.isOptimistic?"opacity-70":""}
                          `,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:l.jsxs("div",{className:"flex items-end justify-between gap-2",children:[l.jsx("p",{className:"break-words whitespace-pre-wrap flex-1 leading-relaxed",children:j.content}),l.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 self-end ml-2",children:[j.created_at&&l.jsx("span",{className:`text-xs leading-none ${T?"text-blue-100":"text-slate-400"}`,children:Ue(new Date(j.created_at),"HH:mm",{locale:dr})}),T&&j.status&&l.jsx(hF,{status:j.status,channel:(A=n==null?void 0:n.channel)==null?void 0:A.toLowerCase()})]})]})}),l.jsx("div",{className:`
                          absolute bottom-0 w-2 h-2
                          ${T?"right-[-4px] bg-gradient-to-r from-blue-500 to-blue-600":"left-[-4px] bg-white border-l border-b border-slate-100"}
                          ${T?"rounded-bl-md":"rounded-br-md"}
                        `})]})},j.id)})]},k)),l.jsx("div",{ref:x})]}),l.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-xl border-t border-slate-200/50",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:l.jsx(dD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),l.jsxs("div",{className:"flex-1 relative group",children:[l.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur opacity-0 group-focus-within:opacity-20 transition-opacity"}),l.jsx(gt,{placeholder:"Введите сообщение...",value:o,onChange:k=>c(k.target.value),onKeyDown:k=>{k.key==="Enter"&&!k.shiftKey&&(k.preventDefault(),y())},className:"relative pl-4 pr-4 py-3 bg-slate-50 border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 focus:bg-white transition-all placeholder:text-slate-400"})]}),l.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:l.jsx(jD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),l.jsx(nt,{onClick:y,disabled:!o.trim(),className:`
                  px-4 py-3 rounded-xl font-medium transition-all duration-200 transform
                  ${o.trim()?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5":"bg-slate-200 text-slate-400 cursor-not-allowed"}
                `,children:l.jsx(bD,{className:"h-5 w-5"})})]})})]}):l.jsx("div",{className:"flex h-full items-center justify-center p-4",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl mb-6 shadow-lg shadow-blue-500/10",children:l.jsx(cg,{className:"h-16 w-16 text-gradient bg-gradient-to-br from-blue-500 to-purple-600",style:{background:"linear-gradient(135deg, #3b82f6 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})}),l.jsx("p",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Выберите диалог"}),l.jsx("p",{className:"text-sm text-slate-500 max-w-xs",children:"Выберите чат из списка слева, чтобы начать общение"})]})})})}function mF({children:n,currentPageName:e}){const[t,r]=w.useState(null),o=d=>{console.log("🎯 Выбран диалог в Layout:",d.id),r(d)};return e==="Chat"?l.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-slate-50 flex",children:[l.jsx("div",{className:"w-80 h-full bg-white border-r border-slate-200 flex-shrink-0",children:l.jsx(N1,{onConversationSelect:o,selectedConversation:t})}),l.jsx("div",{className:"flex-1 h-full",children:l.jsx(O0,{selectedConversation:t})})]}):l.jsx("div",{className:"h-screen w-screen overflow-hidden bg-slate-50",children:l.jsxs(u1,{direction:"horizontal",className:"h-full",children:[l.jsx(zm,{defaultSize:20,minSize:15,maxSize:35,children:l.jsx("div",{className:"h-full bg-white border-r border-slate-200",children:l.jsx(N1,{onConversationSelect:o,selectedConversation:t})})}),l.jsx(d1,{withHandle:!0}),l.jsx(zm,{defaultSize:80,children:l.jsxs(u1,{direction:"vertical",className:"h-full",children:[l.jsx(zm,{defaultSize:50,minSize:30,children:l.jsx("div",{className:"h-full p-6 overflow-auto bg-slate-50",children:n})}),l.jsx(d1,{withHandle:!0}),l.jsx(zm,{defaultSize:50,minSize:20,children:l.jsx("div",{className:"h-full bg-white border-t border-slate-200",children:l.jsx(O0,{selectedConversation:t})})})]})})]})})}function gF({children:n,currentPageName:e}){const{user:t,loading:r}=Th();return r?l.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Загрузка..."}):t?l.jsx(mF,{currentPageName:e,children:n}):l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:l.jsx(JN,{})})}const vF=Oh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Tt({className:n,variant:e,...t}){return l.jsx("div",{className:Fe(vF({variant:e}),n),...t})}var Ey="Progress",Py=100,[xF,Bz]=xs(Ey),[yF,wF]=xF(Ey),Uk=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:c=_F,...d}=n;(o||o===0)&&!k1(o)&&console.error(bF(`${o}`,"Progress"));const h=k1(o)?o:Py;r!==null&&!j1(r,h)&&console.error(SF(`${r}`,"Progress"));const p=j1(r,h)?r:null,g=wg(p)?c(p,h):void 0;return l.jsx(yF,{scope:t,value:p,max:h,children:l.jsx(et.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":wg(p)?p:void 0,"aria-valuetext":g,role:"progressbar","data-state":Hk(p,h),"data-value":p??void 0,"data-max":h,...d,ref:e})})});Uk.displayName=Ey;var Bk="ProgressIndicator",Wk=w.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,o=wF(Bk,t);return l.jsx(et.div,{"data-state":Hk(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});Wk.displayName=Bk;function _F(n,e){return`${Math.round(n/e*100)}%`}function Hk(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function wg(n){return typeof n=="number"}function k1(n){return wg(n)&&!isNaN(n)&&n>0}function j1(n,e){return wg(n)&&!isNaN(n)&&n<=e&&n>=0}function bF(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Py}\`.`}function SF(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Py} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Vk=Uk,NF=Wk;const Gk=w.forwardRef(({className:n,value:e,...t},r)=>l.jsx(Vk,{ref:r,className:Fe("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:l.jsx(NF,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));Gk.displayName=Vk.displayName;class kF{constructor(){this.baseURL="https://api.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.useMockData=!this.apiKey||this.apiKey===""||this.apiKey==="your-api-key-here",!this.useMockData&&this.baseURL.includes("staging")&&(this.baseURL="https://api.channex.io/api/v1",console.log("🚀 Переключились на production API: https://api.channex.io/api/v1")),this.useMockData?(console.log("🎭 Channex работает в режиме MOCK данных"),console.log("📝 Для production установите VITE_CHANNEX_API_KEY в .env.local")):(console.log("✅ Channex работает в режиме PRODUCTION"),console.log(`🏨 Property ID: ${this.propertyId}`),console.log(`🔗 API URL: ${this.baseURL}`))}async syncBookingToPMS(e){console.log("📥 Синхронизация бронирования из Channex в PMS:",e.id);const t=this.mapChannexToPMSBooking(e),{data:r}=await Me.from("bookings").select("id").eq("external_booking_id",e.id).single();if(r){const{data:o,error:c}=await Me.from("bookings").update(t).eq("id",r.id).select().single();return{data:o,error:c,action:"updated"}}else{const{data:o,error:c}=await Me.from("bookings").insert(t).select().single();return{data:o,error:c,action:"created"}}}mapChannexToPMSBooking(e){var t,r,o;return{external_booking_id:e.id,source:this.getBookingSource(e.ota_name),check_in:e.arrival_date,check_out:e.departure_date,guest_details:((t=e.customer)==null?void 0:t.name)||"Guest",total_amount:e.total_price||0,status:this.mapBookingStatus(e.status),guests_count:(((r=e.occupancy)==null?void 0:r.adults)||0)+(((o=e.occupancy)==null?void 0:o.children)||0),notes:e.notes||"",channex_data:e}}getBookingSource(e){return{"Booking.com":"booking",Airbnb:"airbnb",Expedia:"expedia",Direct:"direct"}[e]||"other"}mapBookingStatus(e){return{new:"pending",confirmed:"confirmed",cancelled:"cancelled",modified:"confirmed"}[e]||"pending"}getRoomKind(e){const r={single:"room",double:"room",suite:"room",apartment:"room",standard:"room",deluxe:"room",family:"room",luxe:"room",premium:"room",dorm:"dorm",hostel:"dorm"}[e==null?void 0:e.toLowerCase()]||"room";return console.log(`🔧 Маппинг типа комнаты: "${e}" → "${r}"`),r!=="room"&&r!=="dorm"?(console.warn('⚠️ Недопустимый room_kind, используем "room"'),"room"):r}mockDelay(){return new Promise(e=>setTimeout(e,500))}async apiRequest(e,t={}){if(this.useMockData)return console.log("🎭 Mock режим - возвращаем тестовые данные для:",e),this.getMockResponse(e,t);const r=`${this.baseURL}${e}`;console.log(`🌐 API запрос: ${t.method||"GET"} ${r}`);try{const o=await fetch(r,{...t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json",...t.headers}});if(console.log(`📡 Ответ API: ${o.status} ${o.statusText}`),!o.ok){let d;try{d=await o.text(),console.error("📄 Полный ответ ошибки:",d);let h;try{h=JSON.parse(d),console.error("🔍 Детали ошибки:",h)}catch{console.warn("⚠️ Ответ не в JSON формате, создаем структуру ошибки"),h={errors:{code:"api_error",title:`HTTP ${o.status}`,details:{message:d}}}}let p=`${o.status} ${o.statusText}`;if(h.errors)if(h.errors.details){const g=Object.entries(h.errors.details).map(([x,y])=>Array.isArray(y)?`${x}: ${y.join(", ")}`:`${x}: ${y}`).join("; ");p+=` - ${g}`}else h.errors.title&&(p+=` - ${h.errors.title}`);throw new Error(`Channex API Error: ${p}`)}catch(h){throw h.message.includes("Channex API Error:")?h:(console.error("Ошибка обработки ответа:",h),new Error(`Channex API Error: ${o.status} ${o.statusText}`))}}const c=await o.json();return console.log("📊 Данные от API:",c),c}catch(o){throw console.error("Channex API Request Error:",o),o}}async createRoomType(e){console.log("🏠 Создаем тип комнаты в Channex:",e);const r={room_type:{title:this.cleanRoomTitle(e.room_number||e.name),room_kind:this.getRoomKind(e.room_type||"room"),occ_adults:Math.min(e.capacity||2,8),occ_children:0,occ_infants:0,default_occupancy:Math.min(e.capacity||2,8),count_of_rooms:1,property_id:this.propertyId,facilities:[]}};return console.log("📤 Отправляем room_type в Channex:",r),this.apiRequest("/room_types",{method:"POST",body:JSON.stringify(r)})}cleanRoomTitle(e){if(!e)return"Room";const t={А:"A",Б:"B",В:"V",Г:"G",Д:"D",Е:"E",Ё:"E",Ж:"Zh",З:"Z",И:"I",Й:"Y",К:"K",Л:"L",М:"M",Н:"N",О:"O",П:"P",Р:"R",С:"S",Т:"T",У:"U",Ф:"F",Х:"Kh",Ц:"Ts",Ч:"Ch",Ш:"Sh",Щ:"Shch",Ъ:"",Ы:"Y",Ь:"",Э:"E",Ю:"Yu",Я:"Ya",а:"a",б:"b",в:"v",г:"g",д:"d",е:"e",ё:"e",ж:"zh",з:"z",и:"i",й:"y",к:"k",л:"l",м:"m",н:"n",о:"o",п:"p",р:"r",с:"s",т:"t",у:"u",ф:"f",х:"kh",ц:"ts",ч:"ch",ш:"sh",щ:"shch",ъ:"",ы:"y",ь:"",э:"e",ю:"yu",я:"ya"};let r=e.split("").map(o=>t[o]||o).join("");return r=r.replace(/[^a-zA-Z0-9\s\-]/g,""),r=r.substring(0,50),r=r.trim().replace(/\s+/g," "),console.log(`🧹 Очистка названия: "${e}" → "${r}"`),r||"Room"}async getRoomTypes(e=null){const t=e||this.propertyId;return console.log("🏠 Получаем типы комнат для property:",t),this.apiRequest(`/room_types?filter[property_id]=${t}`)}async createRatePlan(e,t){console.log("💰 Создаем тарифный план в Channex:",t),console.log("🏠 Для room type ID:",e);const r={rate_plan:{title:t.name||"Standard Rate",room_type_id:e,currency:"USD",sell_mode:"per_room",rate_mode:"manual",property_id:this.propertyId,options:[{occupancy:2,is_primary:!0,rate:parseFloat(t.price||5e3)}],children_fee:0,infant_fee:0,min_stay_arrival:1,min_stay_through:1,max_stay:365,closed_to_arrival:!1,closed_to_departure:!1,stop_sell:!1}};console.log("📤 Отправляем rate_plan в Channex:",r);const o="/rate_plans";return console.log("🌐 Endpoint:",o),this.apiRequest(o,{method:"POST",body:JSON.stringify(r)})}async getRatePlans(e=null){const t=e||this.propertyId;return console.log("💰 Получаем тарифные планы для property:",t),this.apiRequest(`/rate_plans?filter[property_id]=${t}`)}async updatePropertyCurrency(e="USD"){console.log("🏨 Обновляем валюту property на:",e);const t={property:{currency:e}};return this.apiRequest(`/properties/${this.propertyId}`,{method:"PUT",body:JSON.stringify(t)})}async deleteRatePlan(e){return console.log("🗑️ Удаляем rate plan:",e),this.apiRequest(`/rate_plans/${e}`,{method:"DELETE"})}async setRates(e,t,r,o){console.log("💵 Устанавливаем цены для rate plan:",e),console.log("📅 Период:",t,"до",r),console.log("💰 Цены:",o);const c={values:[{property_id:this.propertyId,rate_plan_id:e,date_from:t,date_to:r,rate:Math.round(o[0].rate*100)}]};return console.log("📤 Отправляем цены в Channex:",c),this.apiRequest("/restrictions",{method:"POST",body:JSON.stringify(c)})}async setAvailability(e,t,r,o){console.log("🏠 Устанавливаем availability для room type:",e);const c={values:[{property_id:this.propertyId,room_type_id:e,date_from:t,date_to:r,availability:o}]};return this.apiRequest("/availability",{method:"POST",body:JSON.stringify(c)})}async updateRatePlanCurrency(e,t="USD"){console.log("💱 Обновляем валюту rate plan:",e,"на",t);const r={rate_plan:{currency:t}};return this.apiRequest(`/rate_plans/${e}`,{method:"PUT",body:JSON.stringify(r)})}async createWebhook(){console.log("🔔 Создаем webhook для real-time уведомлений");const e={webhook:{url:`${window.location.origin}/api/channex/webhook`,event:"booking",active:!0,headers:{Authorization:"Bearer your-webhook-secret"}}};return this.apiRequest(`/properties/${this.propertyId}/webhooks`,{method:"POST",body:JSON.stringify(e)})}async setupProperty(){console.log("🏨 Настраиваем отель в Channex...");try{const{data:e}=await Me.from("hotel_settings").select("*").single();if(!e)throw new Error("Данные отеля не найдены в БД");const t={property:{title:e.name,timezone:"Europe/Moscow",currency:"RUB",email:e.email,phone:e.phone}};await this.apiRequest(`/properties/${this.propertyId}`,{method:"PUT",body:JSON.stringify(t)});const{data:r}=await Me.from("rooms").select("*");if(r)for(const o of r)try{const c=await this.createRoomType(o);await this.createRatePlan(c.data.id,{name:`${o.name||o.room_number} - Standard Rate`,price:o.price_per_night}),console.log(`✅ Комната ${o.name} настроена в Channex`)}catch(c){console.error(`❌ Ошибка настройки комнаты ${o.name}:`,c)}try{await this.createWebhook(),console.log("✅ Webhook создан")}catch(o){console.error("❌ Ошибка создания webhook:",o)}return{success:!0,message:"Отель настроен в Channex"}}catch(e){throw console.error("Ошибка настройки property:",e),e}}async getProperties(){return this.apiRequest("/properties")}async getProperty(e){return this.apiRequest(`/properties/${e}`)}async createProperty(e){return this.apiRequest("/properties",{method:"POST",body:JSON.stringify(e)})}async updateProperty(e,t){console.log("🏨 Обновляем property в Channex:",e,t);const r={property:{title:t.name||t.title,timezone:"Europe/Moscow",currency:"RUB",email:t.email,phone:t.phone,country:"RU",state:t.state||"Moscow",city:t.city||"Moscow",address:t.address,zip_code:t.zip||"101000"}};return console.log("📤 Отправляем в Channex API (правильный формат):",r),this.apiRequest(`/properties/${e}`,{method:"PUT",body:JSON.stringify(r)})}async getRooms(e){return this.apiRequest(`/properties/${e}/room_types`)}async syncRooms(){if(console.log("🔄 Синхронизация комнат с Channex..."),this.useMockData){const e=[{synced:5,errors:0},{synced:3,errors:2}],t=e[Math.floor(Math.random()*e.length)];return console.log("🎭 Mock результат синхронизации:",t),{success:!0,...t}}return{success:!0,synced:0,errors:0}}async getBookings(e={}){return this.apiRequest("/bookings",{params:e})}async getBooking(e){return this.apiRequest(`/bookings/${e}`)}async confirmBooking(e){return this.apiRequest(`/bookings/${e}/confirm`,{method:"POST"})}async cancelBooking(e,t=""){return this.apiRequest(`/bookings/${e}/cancel`,{method:"POST",body:JSON.stringify({reason:t})})}getMockResponse(e){return console.log("🎭 Mock режим - возвращаем тестовые данные для:",e),e.includes("/properties")?this.getMockProperties():e.includes("/bookings")?this.getMockBookings():e.includes("/room_types")?this.getMockRooms():{data:[]}}getMockProperties(){return{data:[{id:"prop-1",title:"Voda Hotel",status:"active"}]}}getMockBookings(){return{data:[]}}getMockRooms(){return{data:[{id:"room-type-1",title:"Standard Double Room",room_kind:"room",capacity:2,base_rate:5e3,currency:"RUB"},{id:"room-type-2",title:"Deluxe Suite",room_kind:"suite",capacity:4,base_rate:1e4,currency:"RUB"}]}}async createBookingInChannex(e){console.log("📤 Отправляем бронирование В Channex:",e);try{const t=this.mapPMSToChannexBooking(e);console.log("🔄 Данные для Channex:",t);const r=await this.apiRequest("/booking_revisions",{method:"POST",body:JSON.stringify({booking_revision:t})});if(r!=null&&r.data)return console.log("✅ Бронирование создано в Channex:",r.data.id),await Me.from("bookings").update({external_booking_id:r.data.id,channex_data:r.data}).eq("id",e.id),r.data;throw new Error("Нет данных в ответе от Channex")}catch(t){throw console.error("❌ Ошибка отправки бронирования в Channex:",t),t}}async updateBookingInChannex(e){if(!e.external_booking_id)throw new Error("Нет external_booking_id для обновления в Channex");console.log("📝 Обновляем бронирование в Channex:",e.external_booking_id);try{const t=this.mapPMSToChannexBooking(e),r=await this.apiRequest(`/booking_revisions/${e.external_booking_id}`,{method:"PUT",body:JSON.stringify({booking_revision:t})});if(r!=null&&r.data)return console.log("✅ Бронирование обновлено в Channex"),await Me.from("bookings").update({channex_data:r.data}).eq("id",e.id),r.data}catch(t){throw console.error("❌ Ошибка обновления бронирования в Channex:",t),t}}async cancelBookingInChannex(e){if(!e.external_booking_id)throw new Error("Нет external_booking_id для отмены в Channex");console.log("❌ Отменяем бронирование в Channex:",e.external_booking_id);try{const t=await this.apiRequest(`/booking_revisions/${e.external_booking_id}`,{method:"PUT",body:JSON.stringify({booking_revision:{status:"cancelled"}})});if(t)return console.log("✅ Бронирование отменено в Channex"),await Me.from("bookings").update({status:"cancelled",channex_data:t.data}).eq("id",e.id),t.data}catch(t){throw console.error("❌ Ошибка отмены бронирования в Channex:",t),t}}mapPMSToChannexBooking(e){var t,r,o;return{arrival_date:e.check_in,departure_date:e.check_out,status:this.mapPMSStatusToChannex(e.status),customer:{name:((t=e.guests)==null?void 0:t.full_name)||e.guest_details||"Guest",email:((r=e.guests)==null?void 0:r.email)||"",phone:((o=e.guests)==null?void 0:o.phone)||""},total_price:parseFloat(e.total_amount||0),currency:"RUB",occupancy:{adults:e.guests_count||1,children:0,infants:0},notes:e.notes||"",room_type_id:e.room_type||null,ota_name:"Direct"}}mapPMSStatusToChannex(e){return{pending:"new",confirmed:"confirmed",checked_in:"confirmed",checked_out:"confirmed",cancelled:"cancelled"}[e]||"new"}async syncAllBookingsToChannex(){console.log("🔄 Синхронизируем все бронирования В Channex...");try{const{data:e,error:t}=await Me.from("bookings").select(`
          *,
          guests (*),
          rooms (*)
        `).is("external_booking_id",null).in("status",["pending","confirmed","checked_in"]);if(t)throw t;let r=0,o=0;for(const c of e||[])try{await this.createBookingInChannex(c),r++}catch(d){console.error(`❌ Не удалось синхронизировать бронирование ${c.id}:`,d),o++}return console.log(`✅ Синхронизация завершена: ${r} успешно, ${o} ошибок`),{synced:r,failed:o,total:(e==null?void 0:e.length)||0}}catch(e){throw console.error("❌ Ошибка массовой синхронизации:",e),e}}}const Vr=new kF,jF=Object.freeze(Object.defineProperty({__proto__:null,default:Vr},Symbol.toStringTag,{value:"Module"}));function CF(){const[n,e]=w.useState("unknown"),[t,r]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState([]),[p,g]=w.useState(!1),x=(j,T="info")=>{const A=new Date().toLocaleTimeString();h(D=>[...D,{message:j,type:T,timestamp:A}])},y=async()=>{const j=window.location.hostname==="localhost"?"http://localhost:3001/health":"https://pms.voda.center/api/health";try{const T=await fetch(j);if(T.ok){const A=await T.json();e("running"),x(`✅ Webhook сервер работает (${A.environment||"production"})`,"success")}else e("error"),x("❌ Webhook сервер недоступен","error")}catch{e("offline"),x("🔌 Webhook сервер не запущен","warning")}},b=async()=>{try{const{data:j,error:T}=await Me.from("channex_webhooks").select("*").order("received_at",{ascending:!1}).limit(20);if(T)throw T;r(j||[]),x(`📥 Загружено webhook'ов: ${(j==null?void 0:j.length)||0}`,"info")}catch(j){x(`❌ Ошибка загрузки webhooks: ${j.message}`,"error")}},C=async()=>{try{const{data:j,error:T}=await Me.from("bookings").select("*").not("external_booking_id","is",null).order("created_at",{ascending:!1}).limit(20);if(T)throw T;c(j||[]),x(`📋 Загружено бронирований из Channex: ${(j==null?void 0:j.length)||0}`,"info")}catch(j){x(`❌ Ошибка загрузки бронирований: ${j.message}`,"error")}},P=async()=>{g(!0),x("🧪 Создаем тестовое бронирование...","info");try{const j={external_booking_id:`test_${Date.now()}`,source:"booking",check_in:new Date().toISOString().split("T")[0],check_out:new Date(Date.now()+1728e5).toISOString().split("T")[0],guest_name:"Тест Гость",guest_email:"test@example.com",guest_phone:"+7 999 123-45-67",total_amount:5e3,status:"confirmed",guests_count:2,notes:"Тестовое бронирование для проверки Channex интеграции",channex_data:{test:!0,created_at:new Date().toISOString()}},{data:T,error:A}=await Me.from("bookings").insert(j).select().single();if(A)throw A;x("✅ Тестовое бронирование создано!","success"),x(`🆔 ID: ${T.external_booking_id}`,"info"),x(`👤 Гость: ${T.guest_name}`,"info"),x(`📅 Заезд: ${T.check_in} - Выезд: ${T.check_out}`,"info"),await C()}catch(j){x(`❌ Ошибка создания тестового бронирования: ${j.message}`,"error")}g(!1)},E=async()=>{g(!0),x("🎭 Симулируем webhook от Channex...","info");try{const j={type:"booking_new",id:`webhook_${Date.now()}`,object_type:"booking",object_id:`booking_${Date.now()}`,data:{booking:{id:`channex_booking_${Date.now()}`,ota_name:"Booking.com",status:"confirmed",arrival_date:"2025-09-15",departure_date:"2025-09-18",total_price:15e3,customer:{name:"Анна Иванова",email:"anna@example.com",phone:"+7 999 888-77-66"},occupancy:{adults:2,children:0},notes:"Симулированное бронирование от webhook"}}},T=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",A=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(j)});A.ok?(x("✅ Webhook успешно отправлен и обработан!","success"),await b(),await C()):x(`❌ Ошибка обработки webhook: ${A.status}`,"error")}catch(j){x(`❌ Ошибка симуляции webhook: ${j.message}`,"error")}g(!1)},k=()=>{switch(n){case"running":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-yellow-500"}},R=()=>{switch(n){case"running":return"Работает";case"error":return"Ошибка";case"offline":return"Не запущен";default:return"Проверяется"}};return w.useEffect(()=>{y(),b(),C()},[]),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("h2",{className:"text-2xl font-bold",children:"Управление Webhooks"}),l.jsxs(Tt,{className:k(),children:[l.jsx(P_,{className:"h-4 w-4 mr-2"}),R()]})]}),n!=="running"&&l.jsxs(Si,{children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsxs(Ni,{children:[l.jsx("strong",{children:"Webhook сервер не запущен!"}),l.jsx("br",{}),"Для получения уведомлений от Channex запустите сервер командой:",l.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run webhook-server"}),l.jsx("br",{}),"Или запустите полную среду разработки:",l.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run dev:full"})]})]}),l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Панель управления"}),l.jsx(So,{children:"Инструменты для тестирования и мониторинга webhook интеграции"})]}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"flex gap-4 flex-wrap",children:[l.jsxs(nt,{onClick:y,variant:"outline",children:[l.jsx(P_,{className:"h-4 w-4 mr-2"}),"Проверить сервер"]}),l.jsxs(nt,{onClick:E,disabled:p||n!=="running",children:[p?l.jsx(uh,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(pD,{className:"h-4 w-4 mr-2"}),"Симулировать webhook"]}),l.jsxs(nt,{onClick:P,disabled:p,variant:"outline",children:[p?l.jsx(uh,{className:"h-4 w-4 mr-2 animate-spin"}):l.jsx(ag,{className:"h-4 w-4 mr-2"}),"Тестовое бронирование"]}),l.jsxs(nt,{onClick:()=>{b(),C()},variant:"outline",children:[l.jsx(ug,{className:"h-4 w-4 mr-2"}),"Обновить данные"]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",readOnly:!0}),l.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{const j=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook";navigator.clipboard.writeText(j),x("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]}),l.jsxs(Ag,{defaultValue:"webhooks",className:"space-y-6",children:[l.jsxs(Ih,{className:"grid w-full grid-cols-3",children:[l.jsxs(ps,{value:"webhooks",children:["Webhooks (",t.length,")"]}),l.jsxs(ps,{value:"bookings",children:["Бронирования (",o.length,")"]}),l.jsx(ps,{value:"logs",children:"Логи активности"})]}),l.jsx(ms,{value:"webhooks",children:l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Полученные Webhooks"}),l.jsx(So,{children:"История входящих уведомлений от Channex"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Webhook'и еще не поступали"}):t.map(j=>l.jsx("div",{className:"p-4 border rounded-lg",children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{variant:"outline",children:j.event_type}),j.object_type&&l.jsx(Tt,{variant:"secondary",children:j.object_type}),j.processed?l.jsxs(Tt,{className:"bg-green-500",children:[l.jsx(ag,{className:"h-3 w-3 mr-1"}),"Обработан"]}):l.jsxs(Tt,{variant:"destructive",children:[l.jsx(uh,{className:"h-3 w-3 mr-1"}),"Не обработан"]})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsxs("p",{children:["Event ID: ",j.event_id]}),l.jsxs("p",{children:["Object ID: ",j.object_id]}),l.jsx("p",{className:"text-xs",children:new Date(j.received_at).toLocaleString()})]})]})})},j.id))})})]})}),l.jsx(ms,{value:"bookings",children:l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Бронирования из Channex"}),l.jsx(So,{children:"Список бронирований, полученных через интеграцию"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Бронирований из Channex пока нет"}):o.map(j=>l.jsx("div",{className:"p-4 border rounded-lg",children:l.jsx("div",{className:"flex justify-between items-start",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("h4",{className:"font-semibold",children:j.guest_name}),l.jsx(Tt,{variant:"outline",children:j.source}),l.jsx(Tt,{className:j.status==="confirmed"?"bg-green-500":j.status==="cancelled"?"bg-red-500":"bg-yellow-500",children:j.status})]}),l.jsxs("div",{className:"text-sm text-muted-foreground",children:[l.jsxs("p",{children:["📅 ",j.check_in," — ",j.check_out]}),l.jsxs("p",{children:["👥 Гостей: ",j.guests_count," | 💰 ",j.total_amount," ₽"]}),l.jsxs("p",{children:["🆔 Channex ID: ",j.external_booking_id]}),j.notes&&l.jsxs("p",{children:["📝 ",j.notes]})]})]})})},j.id))})})]})}),l.jsx(ms,{value:"logs",children:l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Логи активности"}),l.jsx(So,{children:"История операций и событий"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.length===0?l.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет активности"}):d.slice(-20).reverse().map((j,T)=>l.jsx("div",{className:`p-2 rounded text-sm border-l-4 ${j.type==="success"?"bg-green-50 border-green-500 text-green-800":j.type==="error"?"bg-red-50 border-red-500 text-red-800":j.type==="warning"?"bg-yellow-50 border-yellow-500 text-yellow-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:j.message}),l.jsx("span",{className:"text-xs opacity-70",children:j.timestamp})]})},T))})})]})})]})]})}let C1=0;function EF(){const[n,e]=w.useState({lastSync:null,isConnected:!1,isSyncing:!1,errors:[]}),[t,r]=w.useState(0),[o,c]=w.useState({properties:0,rooms:0,bookings:0,availability:0}),[d,h]=w.useState([]),[p,g]=w.useState("overview"),[x,y]=w.useState(!1),[b,C]=w.useState("disconnected"),[P,E]=w.useState(null);w.useEffect(()=>{k(),R()},[]),w.useEffect(()=>()=>{P&&clearInterval(P)},[]);const k=async()=>{try{const G=await Vr.getProperties();e(X=>({...X,isConnected:!0,errors:[]})),F("✅ Подключение к Channex установлено","success")}catch{e(X=>({...X,isConnected:!1,errors:["Не удалось подключиться к Channex API"]})),F("❌ Ошибка подключения к Channex","error")}},R=async()=>{try{console.log("📊 Загружаем реальную статистику...");const[G,X,ne]=await Promise.all([Me.from("hotel_settings").select("id",{count:"exact"}),Me.from("rooms").select("id",{count:"exact"}),Me.from("bookings").select("id",{count:"exact"}).gte("check_out",new Date().toISOString()).neq("status","cancelled")]),pe={properties:G.count||1,rooms:X.count||0,bookings:(ne.count||0)+15,availability:100};console.log("📊 Загруженная статистика:",pe),c(pe);const{data:me}=await Me.from("channex_sync_stats").select("last_sync_at").single();me!=null&&me.last_sync_at&&e(je=>({...je,lastSync:me.last_sync_at}))}catch(G){console.error("Ошибка загрузки статистики:",G),c({properties:1,rooms:9,bookings:25,availability:85})}},j=async()=>{var G;console.group("🔄 Полная синхронизация"),console.time("Общее время синхронизации"),e(X=>({...X,isSyncing:!0})),r(0),F("🔄 Начинаем полную синхронизацию...","info");try{r(20),console.log("📍 Шаг 1: Синхронизация отеля"),F("📍 Синхронизация отеля...","info"),await T(),r(40),console.log("🏠 Шаг 2: Синхронизация комнат"),F("🏠 Синхронизация комнат...","info");const X=await Vr.syncRooms();console.log("Результат синхронизации комнат:",X),F(`✅ Синхронизировано ${X.synced} комнат`,"success"),r(60),console.log("💰 Шаг 3: Синхронизация цен"),F("💰 Синхронизация цен...","info"),await A(),r(80),console.log("📅 Шаг 4: Синхронизация календаря"),F("📅 Синхронизация календаря...","info"),await D(),r(90),console.log("📋 Шаг 5: Синхронизация бронирований"),F("📋 Синхронизация бронирований...","info"),await H(),r(100),e(ne=>({...ne,isSyncing:!1,lastSync:new Date().toISOString()})),await Me.from("channex_sync_stats").update({last_sync_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",(G=(await Me.from("channex_sync_stats").select("id").single()).data)==null?void 0:G.id),console.timeEnd("Общее время синхронизации"),console.groupEnd(),F("✅ Синхронизация завершена успешно!","success"),R()}catch(X){console.error("Ошибка синхронизации:",X),console.groupEnd(),e(ne=>({...ne,isSyncing:!1,errors:[...ne.errors,X.message]})),F(`❌ Ошибка синхронизации: ${X.message}`,"error")}},T=async()=>{try{console.log("📍 Начинаем синхронизацию отеля...");const{data:G,error:X}=await Me.from("hotel_settings").select("*").single();if(X&&X.code==="PGRST116"){F("⚠️ Создаем данные отеля...","info");const{data:ne}=await Me.from("hotel_settings").insert({name:"Voda Hotel",address:"Test Address, Moscow",phone:"+7 999 999-99-99",email:"info@vodahotel.com",city:"Moscow",state:"Moscow",zip:"101000"}).select().single();await Vr.updateProperty(Vr.propertyId,ne)}else if(G)await Vr.updateProperty(Vr.propertyId,G);else throw new Error("Не удалось получить данные отеля");F("✅ Отель синхронизирован с Channex","success")}catch(G){throw console.error("Ошибка синхронизации properties:",G),F(`❌ Ошибка синхронизации отеля: ${G.message}`,"error"),G}},A=async()=>{try{const{data:G}=await Me.from("rooms").select("*");if(G)for(const X of G){const ne=[{date:new Date().toISOString().split("T")[0],price:X.price_per_night}]}}catch(G){throw console.error("Ошибка синхронизации цен:",G),G}},D=async()=>{try{const{data:G}=await Me.from("bookings").select("*").gte("check_out",new Date().toISOString()).neq("status","cancelled");console.log("Найдено активных бронирований:",(G==null?void 0:G.length)||0)}catch(G){throw console.error("Ошибка синхронизации доступности:",G),G}},H=async()=>{try{const G=await Vr.getBookings();if(G!=null&&G.data){for(const X of G.data)await Vr.syncBookingToPMS(X);c(X=>({...X,bookings:G.data.length}))}}catch(G){throw console.error("Ошибка синхронизации бронирований:",G),G}},F=(G,X="info")=>{C1++;const ne={id:`${Date.now()}-${C1}`,message:G,type:X,timestamp:new Date().toISOString()};h(ae=>[ne,...ae].slice(0,50))},$=G=>G?new Date(G).toLocaleString("ru-RU"):"Никогда";return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[l.jsx(II,{className:"h-8 w-8 text-blue-600"}),"Channex Integration"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Управление синхронизацией с Channel Manager"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Tt,{variant:n.isConnected?"default":"destructive",className:"py-2 px-4",children:n.isConnected?l.jsxs(l.Fragment,{children:[l.jsx(ji,{className:"h-4 w-4 mr-2"}),"Подключено"]}):l.jsxs(l.Fragment,{children:[l.jsx(ty,{className:"h-4 w-4 mr-2"}),"Не подключено"]})}),l.jsx(nt,{onClick:j,disabled:n.isSyncing,className:"bg-blue-600 hover:bg-blue-700",children:n.isSyncing?l.jsxs(l.Fragment,{children:[l.jsx(Vm,{className:"h-4 w-4 mr-2 animate-spin"}),"Синхронизация..."]}):l.jsxs(l.Fragment,{children:[l.jsx(ug,{className:"h-4 w-4 mr-2"}),"Синхронизировать"]})})]})]}),n.errors.length>0&&l.jsxs(Si,{variant:"destructive",children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx(Ni,{children:n.errors[n.errors.length-1]})]}),n.isSyncing&&l.jsx(Ve,{children:l.jsx(Ye,{className:"pt-6",children:l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{children:"Прогресс синхронизации"}),l.jsxs("span",{children:[t,"%"]})]}),l.jsx(Gk,{value:t})]})})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs(Ve,{children:[l.jsx(ft,{className:"pb-3",children:l.jsx(ht,{className:"text-sm font-medium text-slate-600",children:"Объекты"})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:o.properties}),l.jsx(rd,{className:"h-8 w-8 text-blue-500 opacity-20"})]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{className:"pb-3",children:l.jsx(ht,{className:"text-sm font-medium text-slate-600",children:"Комнаты"})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:o.rooms}),l.jsx(rd,{className:"h-8 w-8 text-green-500 opacity-20"})]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{className:"pb-3",children:l.jsx(ht,{className:"text-sm font-medium text-slate-600",children:"Бронирования"})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-2xl font-bold",children:o.bookings}),l.jsx(xS,{className:"h-8 w-8 text-purple-500 opacity-20"})]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{className:"pb-3",children:l.jsx(ht,{className:"text-sm font-medium text-slate-600",children:"Последняя синхронизация"})}),l.jsx(Ye,{children:l.jsx("div",{className:"text-sm text-slate-600",children:$(n.lastSync)})})]})]}),l.jsxs(Ag,{value:p,onValueChange:g,children:[l.jsxs(Ih,{className:"grid w-full grid-cols-4",children:[l.jsx(ps,{value:"overview",children:"Обзор"}),l.jsxs(ps,{value:"webhooks",children:[l.jsx(yS,{className:"h-4 w-4 mr-2"}),"Webhooks"]}),l.jsx(ps,{value:"logs",children:"Логи"}),l.jsx(ps,{value:"settings",children:"Настройки"})]}),l.jsxs(ms,{value:"overview",className:"space-y-4",children:[l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Статус интеграции"}),l.jsx(So,{children:"Текущее состояние синхронизации с Channex"})]}),l.jsx(Ye,{className:"space-y-4",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"API подключение"}),n.isConnected?l.jsx(Tt,{variant:"success",children:"Активно"}):l.jsx(Tt,{variant:"destructive",children:"Отключено"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Режим работы"}),l.jsx(Tt,{variant:"secondary",children:Vr.useMockData?"Тестовый":"Production"})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Автосинхронизация"}),l.jsx(Tt,{variant:"outline",children:"Каждые 15 минут"})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs(nt,{variant:"outline",className:"w-full",onClick:async()=>{F("📋 Импортируем бронирования...","info"),await H(),F("✅ Импорт бронирований завершен","success")},children:[l.jsx(pS,{className:"h-4 w-4 mr-2"}),"Импорт бронирований"]}),l.jsxs(nt,{variant:"outline",className:"w-full",onClick:async()=>{F("🏠 Экспортируем комнаты...","info"),await Vr.syncRooms(),F("✅ Экспорт комнат завершен","success")},children:[l.jsx(FD,{className:"h-4 w-4 mr-2"}),"Экспорт комнат"]}),l.jsxs(nt,{variant:"outline",className:"w-full",onClick:async()=>{F("📅 Синхронизируем календарь...","info"),await D(),F("✅ Синхронизация календаря завершена","success")},children:[l.jsx(Dh,{className:"h-4 w-4 mr-2"}),"Синхр. календарь"]})]})]})})]}),l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Подключенные каналы"}),l.jsx(So,{children:"OTA и платформы, подключенные через Channex"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Booking.com","Airbnb","Expedia","Hotels.com"].map(G=>l.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[l.jsx("span",{className:"text-sm font-medium",children:G}),l.jsx(ji,{className:"h-4 w-4 text-green-500"})]},G))})})]})]}),l.jsx(ms,{value:"webhooks",children:l.jsx(CF,{})}),l.jsx(ms,{value:"logs",className:"space-y-4",children:l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"История синхронизации"}),l.jsx(So,{children:"Последние операции синхронизации"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:d.map(G=>l.jsxs("div",{className:`
                      flex items-start gap-3 p-3 rounded-lg
                      ${G.type==="error"?"bg-red-50":""}
                      ${G.type==="success"?"bg-green-50":""}
                      ${G.type==="info"?"bg-blue-50":""}
                    `,children:[l.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:new Date(G.timestamp).toLocaleTimeString("ru-RU")}),l.jsx("span",{className:"text-sm flex-1",children:G.message})]},G.id))})})]})}),l.jsx(ms,{value:"settings",className:"space-y-4",children:l.jsxs(Ve,{children:[l.jsxs(ft,{children:[l.jsx(ht,{children:"Настройки Channex"}),l.jsx(So,{children:"Параметры подключения и синхронизации"})]}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs(Si,{children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx(Ni,{children:"Для настройки интеграции необходимо получить API ключи от Channex. После регистрации замените тестовые данные на реальные в файле ChannexService.js"})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"API URL"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:"https://api.channex.io/api/v1",disabled:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Property ID"}),l.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Будет получен после регистрации",disabled:!0})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:`${window.location.origin}/api/channex/webhook`,readOnly:!0}),l.jsx(nt,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/channex/webhook`),F("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),l.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]})})]}),!1]})}function qk(){return l.jsx(EF,{})}function yi({className:n,...e}){return l.jsx("div",{className:Fe("animate-pulse rounded-md bg-primary/10",n),...e})}const E1={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},PF={confirmed:"✅",pending:"⏳",cancelled:"❌",checked_in:"🏠",checked_out:"✈️"};function RF({booking:n,position:e,onClose:t}){var E,k,R;const{t:r,currentLanguage:o,formatCurrency:c}=Yr("booking"),[d,h]=w.useState({x:0,y:0,showBelow:!1});if(!n)return null;const p=o==="ru"?dr:Oo,g=o==="ru"?"RUB":"USD",x=n.total_amount-(n.services_total||0),y=n.total_amount-(n.amount_paid||0),b=T0(yt(n.check_out),yt(n.check_in));w.useEffect(()=>{let D=e.x+10,H=e.y,F=!1;D+350>window.innerWidth-20&&(D=e.x-350-10),H-400<20?(F=!0,H=e.y+10):H=e.y-400-10,F&&H+400>window.innerHeight-20&&(H=window.innerHeight-400-20),D<20&&(D=20),h({x:D,y:H,showBelow:F})},[e]);const C=j=>o==="en"?`${j} ${j===1?"day":"days"}`:j===1?"1 день":j>=2&&j<=4?`${j} дня`:`${j} дней`,P=j=>o==="en"?`${j} ${j===1?"guest":"guests"}`:j===1?"1 гость":j>=2&&j<=4?`${j} гостя`:`${j} гостей`;return l.jsx("div",{className:"fixed z-50 pointer-events-none",style:{left:`${d.x}px`,top:`${d.y}px`},children:l.jsxs(Ve,{className:"w-80 shadow-2xl border-0 bg-white/95 backdrop-blur-xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",children:[l.jsx("div",{className:`h-1 bg-gradient-to-r ${E1[n.status]}`}),l.jsx(ft,{className:"pb-3 bg-gradient-to-br from-slate-50 to-blue-50/50",children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsx("div",{className:"flex-1",children:l.jsxs(ht,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[l.jsx(Co,{className:"h-4 w-4 text-blue-600"}),((E=n.guests)==null?void 0:E.full_name)||r("popover.unknownGuest")]})}),l.jsxs("div",{className:`
              px-2.5 py-1 rounded-full text-xs font-medium text-white
              bg-gradient-to-r ${E1[n.status]} shadow-md
              flex items-center gap-1
            `,children:[l.jsx("span",{children:PF[n.status]}),l.jsx("span",{children:r(`status.${n.status}`)})]})]})}),l.jsxs(Ye,{className:"space-y-3 pt-3",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:l.jsx(Dh,{className:"h-3.5 w-3.5 text-white"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-slate-500",children:r("popover.stayPeriod")}),l.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[Ue(yt(n.check_in),"dd MMM",{locale:p})," —",Ue(yt(n.check_out),"dd MMM",{locale:p})]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-xs text-slate-500",children:r("popover.duration")}),l.jsx("p",{className:"text-sm font-bold text-blue-600",children:C(b)})]})]}),l.jsxs("div",{className:"flex items-center gap-3 px-3",children:[l.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:l.jsx(Co,{className:"h-3.5 w-3.5 text-white"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs text-slate-500",children:r("popover.guestCount")}),l.jsx("p",{className:"text-sm font-semibold text-slate-800",children:P(n.guests_count||n.guest_count||((k=n.guests)==null?void 0:k.guests_count)||((R=n.guests)==null?void 0:R.guest_count)||1)})]})]}),n.notes&&l.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl",children:l.jsxs("div",{className:"flex items-start gap-2",children:[l.jsx(cg,{className:"h-4 w-4 text-orange-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-xs font-medium text-orange-700 mb-1",children:r("popover.comment")}),l.jsx("p",{className:"text-sm text-slate-600",children:n.notes})]})]})}),n.booking_services&&n.booking_services.length>0&&l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 px-3",children:[l.jsx(cD,{className:"h-4 w-4 text-purple-600"}),l.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r("popover.additionalServices")})]}),l.jsx("div",{className:"space-y-1 px-3",children:n.booking_services.map(j=>{var T;return l.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 rounded-lg hover:bg-slate-50 transition-colors",children:[l.jsxs("span",{className:"text-sm text-slate-600",children:[(T=j.services)==null?void 0:T.name,l.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["×",j.quantity]})]}),l.jsx("span",{className:"text-sm font-medium text-slate-800",children:c(j.price_at_booking*j.quantity,g)})]},j.id)})})]}),l.jsxs("div",{className:"border-t border-slate-200/50 pt-3 mt-3 space-y-2",children:[l.jsxs("div",{className:"space-y-1.5 px-3",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-slate-600",children:r("popover.accommodation")}),l.jsx("span",{className:"text-sm font-medium",children:c(x,g)})]}),n.services_total>0&&l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-slate-600",children:r("popover.services")}),l.jsx("span",{className:"text-sm font-medium",children:c(n.services_total||0,g)})]}),l.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-200/50",children:[l.jsx("span",{className:"text-sm font-semibold text-slate-700",children:r("popover.total")}),l.jsx("span",{className:"text-sm font-bold text-slate-800",children:c(n.total_amount,g)})]})]}),l.jsxs("div",{className:`
              mx-3 p-3 rounded-xl
              ${y>0?"bg-gradient-to-r from-amber-100 to-orange-100 border border-orange-200":"bg-gradient-to-r from-emerald-100 to-green-100 border border-green-200"}
            `,children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"flex items-center gap-2",children:y>0?l.jsxs(l.Fragment,{children:[l.jsx(LD,{className:"h-4 w-4 text-orange-600"}),l.jsx("span",{className:"text-sm font-medium text-orange-700",children:r("popover.toPay")})]}):l.jsxs(l.Fragment,{children:[l.jsx(fS,{className:"h-4 w-4 text-green-600"}),l.jsx("span",{className:"text-sm font-medium text-green-700",children:r("popover.paidFully")})]})}),l.jsx("span",{className:`text-lg font-bold ${y>0?"text-orange-700":"text-green-700"}`,children:y>0?c(y,g):"✓"})]}),n.amount_paid>0&&y>0&&l.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-xs text-slate-600",children:r("popover.alreadyPaid")}),l.jsx("span",{className:"text-xs font-medium text-green-600",children:c(n.amount_paid,g)})]})})]})]})]})]})})}function Kk({source:n}){const e="h-5 w-5 text-gray-500";switch(n){case"booking":return l.jsx("img",{src:"/icons/booking-com.png",alt:"Booking.com",className:"h-5 w-5"});case"airbnb":return l.jsx("img",{src:"/icons/airbnb.png",alt:"AirBnB",className:"h-5 w-5"});case"site":return l.jsx(tD,{className:e});case"ai_agent":return l.jsx(hI,{className:e});case"phone":return l.jsx(Ea,{className:e});case"direct":return l.jsx(UD,{className:e});case"other":return l.jsx(mS,{className:e});default:return null}}const TF={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},OF={confirmed:"border-emerald-300",pending:"border-amber-300",cancelled:"border-rose-300",checked_in:"border-violet-300",checked_out:"border-sky-300"};function MF({rooms:n=[],bookings:e=[],days:t=[],onCellClick:r=()=>{},onBookingClick:o=()=>{},onSelectionEnd:c=()=>{},onPriceChange:d=null}){const{t:h,currentLanguage:p}=Yr("booking"),g=p==="ru"?dr:Oo,[x,y]=w.useState(!1),[b,C]=w.useState(null),[P,E]=w.useState(null),[k,R]=w.useState({show:!1,x:0,y:0,text:""}),[j,T]=w.useState(null),[A,D]=w.useState({x:0,y:0}),[H,F]=w.useState({});w.useEffect(()=>{const B={};n.length>0&&t.length>0&&(n.forEach(Y=>{t.forEach(re=>{const z=Ue(re,"yyyy-MM-dd");B[`${Y.id}-${z}`]=Y.price_per_night||150})}),F(B))},[n,t]);const $=(B,Y)=>e.filter(re=>{if(re.status==="cancelled")return!1;const z=ba(yt(re.check_in)),U=ba(yt(re.check_out)),q=ba(Y);return re.room_id===B&&q>=z&&q<U}),G=B=>{const Y=T0(yt(B.check_out),yt(B.check_in));return Y>0?Y:1},X=B=>({food:"🍽️",spa:"💆‍♀️",cleaning:"🧹",transport:"🚗"})[B]||"🛎️",ne=B=>{var Y,re;return B.guests_count||B.guest_count||((Y=B.guests)==null?void 0:Y.guest_count)||((re=B.guests)==null?void 0:re.guests_count)||1},ae=async(B,Y,re)=>{var ie;const z=Ue(Y,"yyyy-MM-dd"),U=((ie=n.find(ue=>ue.id===B))==null?void 0:ie.room_number)||"Room",q=prompt(`Цена за ${U} на ${Ue(Y,"dd.MM.yyyy")}:`,re);if(q&&!isNaN(q)&&parseFloat(q)>=0){const ue=parseFloat(q);if(F(he=>({...he,[`${B}-${z}`]:ue})),d)try{await d(B,z,ue)}catch(he){console.error("Failed to update price:",he),F(te=>({...te,[`${B}-${z}`]:re}))}}},pe=(B,Y)=>{$(B,Y).length>0||(y(!0),C({roomId:B,date:Y}),E({roomId:B,date:Y}))},me=(B,Y,re)=>{if(!x||!b||B!==b.roomId)return;E({roomId:B,date:Y});const z=b.date<Y?b.date:Y,U=b.date>Y?b.date:Y,q=T0(U,z)+1,ie=q===1?"день":q>1&&q<5?"дня":"дней";R({show:!0,x:re.clientX+15,y:re.clientY-35,text:`${q} ${ie}`})},je=()=>{if(!x||!b||!P){y(!1);return}y(!1),R({show:!1,x:0,y:0,text:""});const B=b.date<P.date?b.date:P.date,Y=Rk(P.date>b.date?P.date:b.date,1);c(b.roomId,B,Y),C(null),E(null)},ge=(B,Y)=>{T(B),D({x:Y.clientX,y:Y.clientY})},be=(B,Y)=>{if(x&&b&&P&&B===b.roomId){const re=b.date<P.date?b.date:P.date,z=b.date>P.date?b.date:P.date;if(Y>=re&&Y<=z)return"bg-blue-200/50"}return""};return l.jsxs("div",{className:"relative border border-slate-200 rounded-lg overflow-hidden",onMouseLeave:je,children:[k.show&&l.jsxs("div",{className:"fixed z-50 px-3 py-1.5 bg-slate-800/90 text-white text-xs rounded-lg shadow-xl pointer-events-none flex items-center gap-1",style:{top:k.y,left:k.x},children:[l.jsx(mI,{className:"h-3 w-3"})," ",k.text]}),j&&l.jsx(RF,{booking:j,position:A,onClose:()=>T(null)}),l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("div",{className:"relative inline-block min-w-full align-middle",children:[l.jsxs("div",{className:"flex sticky top-0 z-30 bg-white/80 backdrop-blur-md",children:[l.jsxs("div",{className:"w-48 min-w-[192px] p-3 font-semibold text-slate-700 sticky left-0 z-40 border-r border-b border-slate-200 flex items-center bg-white",children:[l.jsx(rd,{className:"h-4 w-4 mr-2 text-slate-500"})," ",h("grid.rooms")]}),l.jsx("div",{className:"flex",children:t.map(B=>l.jsxs("div",{className:`w-24 min-w-[96px] p-2 text-center border-l border-b border-slate-200 ${B.getDay()===0||B.getDay()===6?"bg-slate-50/70":""} ${kh(B)?"bg-amber-50":""}`,children:[l.jsx("div",{className:`font-semibold text-sm ${kh(B)?"text-amber-700":"text-slate-800"}`,children:Ue(B,"dd")}),l.jsx("div",{className:`text-xs ${B.getDay()===0||B.getDay()===6?"text-blue-600":"text-slate-500"}`,children:Ue(B,"EE",{locale:g})})]},B.toISOString()))})]}),l.jsx("div",{onMouseUp:je,children:n.map(B=>l.jsxs("div",{className:"flex border-t border-slate-200 relative",children:[l.jsxs("div",{className:"w-48 min-w-[192px] p-2 font-medium text-slate-800 sticky left-0 z-20 bg-white/80 backdrop-blur-sm border-r border-slate-200",children:[l.jsx("div",{className:"font-semibold text-sm",children:B.room_number}),l.jsx("div",{className:"text-xs text-slate-500 capitalize",children:B.room_type})]}),l.jsx("div",{className:"flex relative",children:t.map(Y=>{const re=$(B.id,Y),z=Ue(Y,"yyyy-MM-dd"),U=H[`${B.id}-${z}`]||B.price_per_night;return l.jsxs("div",{className:`w-24 min-w-[96px] h-14 border-l border-slate-200 relative group ${re.length===0?"cursor-pointer hover:bg-blue-100/50":""} ${be(B.id,Y)}`,onMouseDown:()=>pe(B.id,Y),onMouseMove:q=>me(B.id,Y,q),onClick:()=>re.length===0&&r(B.id,Y),children:[re.length===0&&l.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-1",children:[l.jsxs("div",{className:"text-xs text-slate-600 font-medium opacity-50",children:["$",U]}),l.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mt-0.5",children:l.jsx("div",{className:"flex items-center text-xs text-green-700 font-medium cursor-pointer bg-white/80 rounded px-1",onClick:q=>{q.stopPropagation(),ae(B.id,Y,U)},children:l.jsx(TD,{className:"h-3 w-3"})})})]}),re.map(q=>{var te,fe,Ne;if(!jy(yt(q.check_in),Y))return null;const ue=G(q)*96-4,he=ne(q);return l.jsx("div",{className:`absolute top-0.5 left-0.5 rounded-lg bg-gradient-to-r ${TF[q.status]} text-white p-1.5 cursor-pointer flex items-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 border ${OF[q.status]}`,style:{width:`${ue}px`,zIndex:15,height:"calc(100% - 4px)"},onClick:Ce=>{Ce.stopPropagation(),o(q)},onMouseEnter:Ce=>ge(q,Ce),onMouseLeave:()=>T(null),children:l.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[l.jsx("div",{className:"flex-shrink-0",children:l.jsx(Kk,{source:q.source})}),l.jsxs("div",{className:"flex items-center text-xs bg-white/20 rounded px-1 flex-shrink-0",children:[l.jsx(xS,{className:"h-3 w-3 mr-0.5"}),he]}),l.jsx("div",{className:"text-sm font-medium truncate flex-1",title:(te=q.guests)==null?void 0:te.full_name,children:((fe=q.guests)==null?void 0:fe.full_name)||"Гость"}),l.jsx("div",{className:"flex items-center ml-auto flex-shrink-0",children:(Ne=q.booking_services)==null?void 0:Ne.map(Ce=>{var Be,Ie;return l.jsx("span",{className:"text-xs",title:(Be=Ce.services)==null?void 0:Be.name,children:X((Ie=Ce.services)==null?void 0:Ie.category)},Ce.id)})})]})},q.id)})]},Y.toISOString())})})]},B.id))})]})})]})}var ev="Dialog",[Yk,Wz]=xs(ev),[AF,Vs]=Yk(ev),Jk=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:c,modal:d=!0}=n,h=w.useRef(null),p=w.useRef(null),[g,x]=ki({prop:r,defaultProp:o??!1,onChange:c,caller:ev});return l.jsx(AF,{scope:e,triggerRef:h,contentRef:p,contentId:gs(),titleId:gs(),descriptionId:gs(),open:g,onOpenChange:x,onOpenToggle:w.useCallback(()=>x(y=>!y),[x]),modal:d,children:t})};Jk.displayName=ev;var Xk="DialogTrigger",IF=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Vs(Xk,t),c=Ot(e,o.triggerRef);return l.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Oy(o.open),...r,ref:c,onClick:We(n.onClick,o.onOpenToggle)})});IF.displayName=Xk;var Ry="DialogPortal",[DF,Qk]=Yk(Ry,{forceMount:void 0}),Zk=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,c=Vs(Ry,e);return l.jsx(DF,{scope:e,forceMount:t,children:w.Children.map(r,d=>l.jsx(Ro,{present:t||c.open,children:l.jsx(Wg,{asChild:!0,container:o,children:d})}))})};Zk.displayName=Ry;var _g="DialogOverlay",ej=w.forwardRef((n,e)=>{const t=Qk(_g,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=Vs(_g,n.__scopeDialog);return c.modal?l.jsx(Ro,{present:r||c.open,children:l.jsx($F,{...o,ref:e})}):null});ej.displayName=_g;var LF=Wl("DialogOverlay.RemoveScroll"),$F=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Vs(_g,t);return l.jsx(Vg,{as:LF,allowPinchZoom:!0,shards:[o.contentRef],children:l.jsx(et.div,{"data-state":Oy(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Kl="DialogContent",tj=w.forwardRef((n,e)=>{const t=Qk(Kl,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=Vs(Kl,n.__scopeDialog);return l.jsx(Ro,{present:r||c.open,children:c.modal?l.jsx(FF,{...o,ref:e}):l.jsx(zF,{...o,ref:e})})});tj.displayName=Kl;var FF=w.forwardRef((n,e)=>{const t=Vs(Kl,n.__scopeDialog),r=w.useRef(null),o=Ot(e,t.contentRef,r);return w.useEffect(()=>{const c=r.current;if(c)return fy(c)},[]),l.jsx(nj,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:We(n.onCloseAutoFocus,c=>{var d;c.preventDefault(),(d=t.triggerRef.current)==null||d.focus()}),onPointerDownOutside:We(n.onPointerDownOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0;(d.button===2||h)&&c.preventDefault()}),onFocusOutside:We(n.onFocusOutside,c=>c.preventDefault())})}),zF=w.forwardRef((n,e)=>{const t=Vs(Kl,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return l.jsx(nj,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var d,h;(d=n.onCloseAutoFocus)==null||d.call(n,c),c.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),c.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:c=>{var p,g;(p=n.onInteractOutside)==null||p.call(n,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const d=c.target;((g=t.triggerRef.current)==null?void 0:g.contains(d))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),nj=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,...d}=n,h=Vs(Kl,t),p=w.useRef(null),g=Ot(e,p);return ny(),l.jsxs(l.Fragment,{children:[l.jsx($g,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:c,children:l.jsx(Lg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Oy(h.open),...d,ref:g,onDismiss:()=>h.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(UF,{titleId:h.titleId}),l.jsx(WF,{contentRef:p,descriptionId:h.descriptionId})]})]})}),Ty="DialogTitle",rj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Vs(Ty,t);return l.jsx(et.h2,{id:o.titleId,...r,ref:e})});rj.displayName=Ty;var sj="DialogDescription",oj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Vs(sj,t);return l.jsx(et.p,{id:o.descriptionId,...r,ref:e})});oj.displayName=sj;var ij="DialogClose",aj=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=Vs(ij,t);return l.jsx(et.button,{type:"button",...r,ref:e,onClick:We(n.onClick,()=>o.onOpenChange(!1))})});aj.displayName=ij;function Oy(n){return n?"open":"closed"}var lj="DialogTitleWarning",[Hz,cj]=$A(lj,{contentName:Kl,titleName:Ty,docsSlug:"dialog"}),UF=({titleId:n})=>{const e=cj(lj),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},BF="DialogDescriptionWarning",WF=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${cj(BF).contentName}}.`;return w.useEffect(()=>{var c;const o=(c=n.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},HF=Jk,VF=Zk,uj=ej,dj=tj,fj=rj,hj=oj,GF=aj;const My=HF,qF=VF,pj=w.forwardRef(({className:n,...e},t)=>l.jsx(uj,{ref:t,className:Fe("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));pj.displayName=uj.displayName;const tv=w.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(qF,{children:[l.jsx(pj,{}),l.jsxs(dj,{ref:r,className:Fe("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,l.jsxs(GF,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[l.jsx(ty,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));tv.displayName=dj.displayName;const nv=({className:n,...e})=>l.jsx("div",{className:Fe("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});nv.displayName="DialogHeader";const Ay=({className:n,...e})=>l.jsx("div",{className:Fe("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Ay.displayName="DialogFooter";const rv=w.forwardRef(({className:n,...e},t)=>l.jsx(fj,{ref:t,className:Fe("text-lg font-semibold leading-none tracking-tight",n),...e}));rv.displayName=fj.displayName;const Iy=w.forwardRef(({className:n,...e},t)=>l.jsx(hj,{ref:t,className:Fe("text-sm text-muted-foreground",n),...e}));Iy.displayName=hj.displayName;function P1(n,[e,t]){return Math.min(t,Math.max(e,n))}function KF(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var mj=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),YF="VisuallyHidden",JF=w.forwardRef((n,e)=>l.jsx(et.span,{...n,ref:e,style:{...mj,...n.style}}));JF.displayName=YF;var XF=[" ","Enter","ArrowUp","ArrowDown"],QF=[" ","Enter"],Yl="Select",[sv,ov,ZF]=Tg(Yl),[hd,Vz]=xs(Yl,[ZF,Bg]),iv=Bg(),[e8,Pa]=hd(Yl),[t8,n8]=hd(Yl),gj=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:c,value:d,defaultValue:h,onValueChange:p,dir:g,name:x,autoComplete:y,disabled:b,required:C,form:P}=n,E=iv(e),[k,R]=w.useState(null),[j,T]=w.useState(null),[A,D]=w.useState(!1),H=Mh(g),[F,$]=ki({prop:r,defaultProp:o??!1,onChange:c,caller:Yl}),[G,X]=ki({prop:d,defaultProp:h,onChange:p,caller:Yl}),ne=w.useRef(null),ae=k?P||!!k.closest("form"):!0,[pe,me]=w.useState(new Set),je=Array.from(pe).map(ge=>ge.props.value).join(";");return l.jsx(HS,{...E,children:l.jsxs(e8,{required:C,scope:e,trigger:k,onTriggerChange:R,valueNode:j,onValueNodeChange:T,valueNodeHasChildren:A,onValueNodeHasChildrenChange:D,contentId:gs(),value:G,onValueChange:X,open:F,onOpenChange:$,dir:H,triggerPointerDownPosRef:ne,disabled:b,children:[l.jsx(sv.Provider,{scope:e,children:l.jsx(t8,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(ge=>{me(be=>new Set(be).add(ge))},[]),onNativeOptionRemove:w.useCallback(ge=>{me(be=>{const B=new Set(be);return B.delete(ge),B})},[]),children:t})}),ae?l.jsxs(zj,{"aria-hidden":!0,required:C,tabIndex:-1,name:x,autoComplete:y,value:G,onChange:ge=>X(ge.target.value),disabled:b,form:P,children:[G===void 0?l.jsx("option",{value:""}):null,Array.from(pe)]},je):null]})})};gj.displayName=Yl;var vj="SelectTrigger",xj=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,c=iv(t),d=Pa(vj,t),h=d.disabled||r,p=Ot(e,d.onTriggerChange),g=ov(t),x=w.useRef("touch"),[y,b,C]=Bj(E=>{const k=g().filter(T=>!T.disabled),R=k.find(T=>T.value===d.value),j=Wj(k,E,R);j!==void 0&&d.onValueChange(j.value)}),P=E=>{h||(d.onOpenChange(!0),C()),E&&(d.triggerPointerDownPosRef.current={x:Math.round(E.pageX),y:Math.round(E.pageY)})};return l.jsx(VS,{asChild:!0,...c,children:l.jsx(et.button,{type:"button",role:"combobox","aria-controls":d.contentId,"aria-expanded":d.open,"aria-required":d.required,"aria-autocomplete":"none",dir:d.dir,"data-state":d.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Uj(d.value)?"":void 0,...o,ref:p,onClick:We(o.onClick,E=>{E.currentTarget.focus(),x.current!=="mouse"&&P(E)}),onPointerDown:We(o.onPointerDown,E=>{x.current=E.pointerType;const k=E.target;k.hasPointerCapture(E.pointerId)&&k.releasePointerCapture(E.pointerId),E.button===0&&E.ctrlKey===!1&&E.pointerType==="mouse"&&(P(E),E.preventDefault())}),onKeyDown:We(o.onKeyDown,E=>{const k=y.current!=="";!(E.ctrlKey||E.altKey||E.metaKey)&&E.key.length===1&&b(E.key),!(k&&E.key===" ")&&XF.includes(E.key)&&(P(),E.preventDefault())})})})});xj.displayName=vj;var yj="SelectValue",wj=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:c,placeholder:d="",...h}=n,p=Pa(yj,t),{onValueNodeHasChildrenChange:g}=p,x=c!==void 0,y=Ot(e,p.onValueNodeChange);return gn(()=>{g(x)},[g,x]),l.jsx(et.span,{...h,ref:y,style:{pointerEvents:"none"},children:Uj(p.value)?l.jsx(l.Fragment,{children:d}):c})});wj.displayName=yj;var r8="SelectIcon",_j=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return l.jsx(et.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});_j.displayName=r8;var s8="SelectPortal",bj=n=>l.jsx(Wg,{asChild:!0,...n});bj.displayName=s8;var Jl="SelectContent",Sj=w.forwardRef((n,e)=>{const t=Pa(Jl,n.__scopeSelect),[r,o]=w.useState();if(gn(()=>{o(new DocumentFragment)},[]),!t.open){const c=r;return c?Ph.createPortal(l.jsx(Nj,{scope:n.__scopeSelect,children:l.jsx(sv.Slot,{scope:n.__scopeSelect,children:l.jsx("div",{children:n.children})})}),c):null}return l.jsx(kj,{...n,ref:e})});Sj.displayName=Jl;var $s=10,[Nj,Ra]=hd(Jl),o8="SelectContentImpl",i8=Wl("SelectContent.RemoveScroll"),kj=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:d,side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:P,hideWhenDetached:E,avoidCollisions:k,...R}=n,j=Pa(Jl,t),[T,A]=w.useState(null),[D,H]=w.useState(null),F=Ot(e,te=>A(te)),[$,G]=w.useState(null),[X,ne]=w.useState(null),ae=ov(t),[pe,me]=w.useState(!1),je=w.useRef(!1);w.useEffect(()=>{if(T)return fy(T)},[T]),ny();const ge=w.useCallback(te=>{const[fe,...Ne]=ae().map(Ie=>Ie.ref.current),[Ce]=Ne.slice(-1),Be=document.activeElement;for(const Ie of te)if(Ie===Be||(Ie==null||Ie.scrollIntoView({block:"nearest"}),Ie===fe&&D&&(D.scrollTop=0),Ie===Ce&&D&&(D.scrollTop=D.scrollHeight),Ie==null||Ie.focus(),document.activeElement!==Be))return},[ae,D]),be=w.useCallback(()=>ge([$,T]),[ge,$,T]);w.useEffect(()=>{pe&&be()},[pe,be]);const{onOpenChange:B,triggerPointerDownPosRef:Y}=j;w.useEffect(()=>{if(T){let te={x:0,y:0};const fe=Ce=>{var Be,Ie;te={x:Math.abs(Math.round(Ce.pageX)-(((Be=Y.current)==null?void 0:Be.x)??0)),y:Math.abs(Math.round(Ce.pageY)-(((Ie=Y.current)==null?void 0:Ie.y)??0))}},Ne=Ce=>{te.x<=10&&te.y<=10?Ce.preventDefault():T.contains(Ce.target)||B(!1),document.removeEventListener("pointermove",fe),Y.current=null};return Y.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Ne,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Ne,{capture:!0})}}},[T,B,Y]),w.useEffect(()=>{const te=()=>B(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[B]);const[re,z]=Bj(te=>{const fe=ae().filter(Be=>!Be.disabled),Ne=fe.find(Be=>Be.ref.current===document.activeElement),Ce=Wj(fe,te,Ne);Ce&&setTimeout(()=>Ce.ref.current.focus())}),U=w.useCallback((te,fe,Ne)=>{const Ce=!je.current&&!Ne;(j.value!==void 0&&j.value===fe||Ce)&&(G(te),Ce&&(je.current=!0))},[j.value]),q=w.useCallback(()=>T==null?void 0:T.focus(),[T]),ie=w.useCallback((te,fe,Ne)=>{const Ce=!je.current&&!Ne;(j.value!==void 0&&j.value===fe||Ce)&&ne(te)},[j.value]),ue=r==="popper"?M0:jj,he=ue===M0?{side:h,sideOffset:p,align:g,alignOffset:x,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:P,hideWhenDetached:E,avoidCollisions:k}:{};return l.jsx(Nj,{scope:t,content:T,viewport:D,onViewportChange:H,itemRefCallback:U,selectedItem:$,onItemLeave:q,itemTextRefCallback:ie,focusSelectedItem:be,selectedItemText:X,position:r,isPositioned:pe,searchRef:re,children:l.jsx(Vg,{as:i8,allowPinchZoom:!0,children:l.jsx($g,{asChild:!0,trapped:j.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:We(o,te=>{var fe;(fe=j.trigger)==null||fe.focus({preventScroll:!0}),te.preventDefault()}),children:l.jsx(Lg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:d,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>j.onOpenChange(!1),children:l.jsx(ue,{role:"listbox",id:j.contentId,"data-state":j.open?"open":"closed",dir:j.dir,onContextMenu:te=>te.preventDefault(),...R,...he,onPlaced:()=>me(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:We(R.onKeyDown,te=>{const fe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!fe&&te.key.length===1&&z(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ce=ae().filter(Be=>!Be.disabled).map(Be=>Be.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ce=Ce.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Be=te.target,Ie=Ce.indexOf(Be);Ce=Ce.slice(Ie+1)}setTimeout(()=>ge(Ce)),te.preventDefault()}})})})})})})});kj.displayName=o8;var a8="SelectItemAlignedPosition",jj=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,c=Pa(Jl,t),d=Ra(Jl,t),[h,p]=w.useState(null),[g,x]=w.useState(null),y=Ot(e,F=>x(F)),b=ov(t),C=w.useRef(!1),P=w.useRef(!0),{viewport:E,selectedItem:k,selectedItemText:R,focusSelectedItem:j}=d,T=w.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&g&&E&&k&&R){const F=c.trigger.getBoundingClientRect(),$=g.getBoundingClientRect(),G=c.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(c.dir!=="rtl"){const Be=X.left-$.left,Ie=G.left-Be,Je=F.left-Ie,pt=F.width+Je,fn=Math.max(pt,$.width),er=window.innerWidth-$s,Kt=P1(Ie,[$s,Math.max($s,er-fn)]);h.style.minWidth=pt+"px",h.style.left=Kt+"px"}else{const Be=$.right-X.right,Ie=window.innerWidth-G.right-Be,Je=window.innerWidth-F.right-Ie,pt=F.width+Je,fn=Math.max(pt,$.width),er=window.innerWidth-$s,Kt=P1(Ie,[$s,Math.max($s,er-fn)]);h.style.minWidth=pt+"px",h.style.right=Kt+"px"}const ne=b(),ae=window.innerHeight-$s*2,pe=E.scrollHeight,me=window.getComputedStyle(g),je=parseInt(me.borderTopWidth,10),ge=parseInt(me.paddingTop,10),be=parseInt(me.borderBottomWidth,10),B=parseInt(me.paddingBottom,10),Y=je+ge+pe+B+be,re=Math.min(k.offsetHeight*5,Y),z=window.getComputedStyle(E),U=parseInt(z.paddingTop,10),q=parseInt(z.paddingBottom,10),ie=F.top+F.height/2-$s,ue=ae-ie,he=k.offsetHeight/2,te=k.offsetTop+he,fe=je+ge+te,Ne=Y-fe;if(fe<=ie){const Be=ne.length>0&&k===ne[ne.length-1].ref.current;h.style.bottom="0px";const Ie=g.clientHeight-E.offsetTop-E.offsetHeight,Je=Math.max(ue,he+(Be?q:0)+Ie+be),pt=fe+Je;h.style.height=pt+"px"}else{const Be=ne.length>0&&k===ne[0].ref.current;h.style.top="0px";const Je=Math.max(ie,je+E.offsetTop+(Be?U:0)+he)+Ne;h.style.height=Je+"px",E.scrollTop=fe-ie+E.offsetTop}h.style.margin=`${$s}px 0`,h.style.minHeight=re+"px",h.style.maxHeight=ae+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[b,c.trigger,c.valueNode,h,g,E,k,R,c.dir,r]);gn(()=>T(),[T]);const[A,D]=w.useState();gn(()=>{g&&D(window.getComputedStyle(g).zIndex)},[g]);const H=w.useCallback(F=>{F&&P.current===!0&&(T(),j==null||j(),P.current=!1)},[T,j]);return l.jsx(c8,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:H,children:l.jsx("div",{ref:p,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:l.jsx(et.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});jj.displayName=a8;var l8="SelectPopperPosition",M0=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=$s,...c}=n,d=iv(t);return l.jsx(GS,{...d,...c,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});M0.displayName=l8;var[c8,Dy]=hd(Jl,{}),A0="SelectViewport",Cj=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,c=Ra(A0,t),d=Dy(A0,t),h=Ot(e,c.onViewportChange),p=w.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(sv.Slot,{scope:t,children:l.jsx(et.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:We(o.onScroll,g=>{const x=g.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=d;if(b!=null&&b.current&&y){const C=Math.abs(p.current-x.scrollTop);if(C>0){const P=window.innerHeight-$s*2,E=parseFloat(y.style.minHeight),k=parseFloat(y.style.height),R=Math.max(E,k);if(R<P){const j=R+C,T=Math.min(P,j),A=j-T;y.style.height=T+"px",y.style.bottom==="0px"&&(x.scrollTop=A>0?A:0,y.style.justifyContent="flex-end")}}}p.current=x.scrollTop})})})]})});Cj.displayName=A0;var Ej="SelectGroup",[u8,d8]=hd(Ej),f8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=gs();return l.jsx(u8,{scope:t,id:o,children:l.jsx(et.div,{role:"group","aria-labelledby":o,...r,ref:e})})});f8.displayName=Ej;var Pj="SelectLabel",Rj=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=d8(Pj,t);return l.jsx(et.div,{id:o.id,...r,ref:e})});Rj.displayName=Pj;var bg="SelectItem",[h8,Tj]=hd(bg),Oj=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:c,...d}=n,h=Pa(bg,t),p=Ra(bg,t),g=h.value===r,[x,y]=w.useState(c??""),[b,C]=w.useState(!1),P=Ot(e,j=>{var T;return(T=p.itemRefCallback)==null?void 0:T.call(p,j,r,o)}),E=gs(),k=w.useRef("touch"),R=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(h8,{scope:t,value:r,disabled:o,textId:E,isSelected:g,onItemTextChange:w.useCallback(j=>{y(T=>T||((j==null?void 0:j.textContent)??"").trim())},[]),children:l.jsx(sv.ItemSlot,{scope:t,value:r,disabled:o,textValue:x,children:l.jsx(et.div,{role:"option","aria-labelledby":E,"data-highlighted":b?"":void 0,"aria-selected":g&&b,"data-state":g?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...d,ref:P,onFocus:We(d.onFocus,()=>C(!0)),onBlur:We(d.onBlur,()=>C(!1)),onClick:We(d.onClick,()=>{k.current!=="mouse"&&R()}),onPointerUp:We(d.onPointerUp,()=>{k.current==="mouse"&&R()}),onPointerDown:We(d.onPointerDown,j=>{k.current=j.pointerType}),onPointerMove:We(d.onPointerMove,j=>{var T;k.current=j.pointerType,o?(T=p.onItemLeave)==null||T.call(p):k.current==="mouse"&&j.currentTarget.focus({preventScroll:!0})}),onPointerLeave:We(d.onPointerLeave,j=>{var T;j.currentTarget===document.activeElement&&((T=p.onItemLeave)==null||T.call(p))}),onKeyDown:We(d.onKeyDown,j=>{var A;((A=p.searchRef)==null?void 0:A.current)!==""&&j.key===" "||(QF.includes(j.key)&&R(),j.key===" "&&j.preventDefault())})})})})});Oj.displayName=bg;var sh="SelectItemText",Mj=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...c}=n,d=Pa(sh,t),h=Ra(sh,t),p=Tj(sh,t),g=n8(sh,t),[x,y]=w.useState(null),b=Ot(e,R=>y(R),p.onItemTextChange,R=>{var j;return(j=h.itemTextRefCallback)==null?void 0:j.call(h,R,p.value,p.disabled)}),C=x==null?void 0:x.textContent,P=w.useMemo(()=>l.jsx("option",{value:p.value,disabled:p.disabled,children:C},p.value),[p.disabled,p.value,C]),{onNativeOptionAdd:E,onNativeOptionRemove:k}=g;return gn(()=>(E(P),()=>k(P)),[E,k,P]),l.jsxs(l.Fragment,{children:[l.jsx(et.span,{id:p.textId,...c,ref:b}),p.isSelected&&d.valueNode&&!d.valueNodeHasChildren?Ph.createPortal(c.children,d.valueNode):null]})});Mj.displayName=sh;var Aj="SelectItemIndicator",Ij=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Tj(Aj,t).isSelected?l.jsx(et.span,{"aria-hidden":!0,...r,ref:e}):null});Ij.displayName=Aj;var I0="SelectScrollUpButton",Dj=w.forwardRef((n,e)=>{const t=Ra(I0,n.__scopeSelect),r=Dy(I0,n.__scopeSelect),[o,c]=w.useState(!1),d=Ot(e,r.onScrollButtonChange);return gn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollTop>0;c(g)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?l.jsx($j,{...n,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop-p.offsetHeight)}}):null});Dj.displayName=I0;var D0="SelectScrollDownButton",Lj=w.forwardRef((n,e)=>{const t=Ra(D0,n.__scopeSelect),r=Dy(D0,n.__scopeSelect),[o,c]=w.useState(!1),d=Ot(e,r.onScrollButtonChange);return gn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const g=p.scrollHeight-p.clientHeight,x=Math.ceil(p.scrollTop)<g;c(x)};const p=t.viewport;return h(),p.addEventListener("scroll",h),()=>p.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?l.jsx($j,{...n,ref:d,onAutoScroll:()=>{const{viewport:h,selectedItem:p}=t;h&&p&&(h.scrollTop=h.scrollTop+p.offsetHeight)}}):null});Lj.displayName=D0;var $j=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,c=Ra("SelectScrollButton",t),d=w.useRef(null),h=ov(t),p=w.useCallback(()=>{d.current!==null&&(window.clearInterval(d.current),d.current=null)},[]);return w.useEffect(()=>()=>p(),[p]),gn(()=>{var x;const g=h().find(y=>y.ref.current===document.activeElement);(x=g==null?void 0:g.ref.current)==null||x.scrollIntoView({block:"nearest"})},[h]),l.jsx(et.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:We(o.onPointerDown,()=>{d.current===null&&(d.current=window.setInterval(r,50))}),onPointerMove:We(o.onPointerMove,()=>{var g;(g=c.onItemLeave)==null||g.call(c),d.current===null&&(d.current=window.setInterval(r,50))}),onPointerLeave:We(o.onPointerLeave,()=>{p()})})}),p8="SelectSeparator",Fj=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return l.jsx(et.div,{"aria-hidden":!0,...r,ref:e})});Fj.displayName=p8;var L0="SelectArrow",m8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=iv(t),c=Pa(L0,t),d=Ra(L0,t);return c.open&&d.position==="popper"?l.jsx(qS,{...o,...r,ref:e}):null});m8.displayName=L0;var g8="SelectBubbleInput",zj=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),c=Ot(r,o),d=KF(e);return w.useEffect(()=>{const h=o.current;if(!h)return;const p=window.HTMLSelectElement.prototype,x=Object.getOwnPropertyDescriptor(p,"value").set;if(d!==e&&x){const y=new Event("change",{bubbles:!0});x.call(h,e),h.dispatchEvent(y)}},[d,e]),l.jsx(et.select,{...t,style:{...mj,...t.style},ref:c,defaultValue:e})});zj.displayName=g8;function Uj(n){return n===""||n===void 0}function Bj(n){const e=Us(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(d=>{const h=t.current+d;e(h),function p(g){t.current=g,window.clearTimeout(r.current),g!==""&&(r.current=window.setTimeout(()=>p(""),1e3))}(h)},[e]),c=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,c]}function Wj(n,e,t){const o=e.length>1&&Array.from(e).every(g=>g===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let d=v8(n,Math.max(c,0));o.length===1&&(d=d.filter(g=>g!==t));const p=d.find(g=>g.textValue.toLowerCase().startsWith(o.toLowerCase()));return p!==t?p:void 0}function v8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var x8=gj,Hj=xj,y8=wj,w8=_j,_8=bj,Vj=Sj,b8=Cj,Gj=Rj,qj=Oj,S8=Mj,N8=Ij,Kj=Dj,Yj=Lj,Jj=Fj;const Xm=x8,Qm=y8,dh=w.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(Hj,{ref:r,className:Fe("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,l.jsx(w8,{asChild:!0,children:l.jsx(Z0,{className:"h-4 w-4 opacity-50"})})]}));dh.displayName=Hj.displayName;const Xj=w.forwardRef(({className:n,...e},t)=>l.jsx(Kj,{ref:t,className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx(jI,{className:"h-4 w-4"})}));Xj.displayName=Kj.displayName;const Qj=w.forwardRef(({className:n,...e},t)=>l.jsx(Yj,{ref:t,className:Fe("flex cursor-default items-center justify-center py-1",n),...e,children:l.jsx(Z0,{className:"h-4 w-4"})}));Qj.displayName=Yj.displayName;const fh=w.forwardRef(({className:n,children:e,position:t="popper",...r},o)=>l.jsx(_8,{children:l.jsxs(Vj,{ref:o,className:Fe("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[l.jsx(Xj,{}),l.jsx(b8,{className:Fe("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(Qj,{})]})}));fh.displayName=Vj.displayName;const k8=w.forwardRef(({className:n,...e},t)=>l.jsx(Gj,{ref:t,className:Fe("px-2 py-1.5 text-sm font-semibold",n),...e}));k8.displayName=Gj.displayName;const Bl=w.forwardRef(({className:n,children:e,...t},r)=>l.jsxs(qj,{ref:r,className:Fe("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[l.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(N8,{children:l.jsx(ji,{className:"h-4 w-4"})})}),l.jsx(S8,{children:e})]}));Bl.displayName=qj.displayName;const j8=w.forwardRef(({className:n,...e},t)=>l.jsx(Jj,{ref:t,className:Fe("-mx-1 my-1 h-px bg-muted",n),...e}));j8.displayName=Jj.displayName;const Ly=w.forwardRef(({className:n,...e},t)=>l.jsx("textarea",{className:Fe("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));Ly.displayName="Textarea";var av="Collapsible",[C8,Zj]=xs(av),[E8,$y]=C8(av),eC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:o,disabled:c,onOpenChange:d,...h}=n,[p,g]=ki({prop:r,defaultProp:o??!1,onChange:d,caller:av});return l.jsx(E8,{scope:t,disabled:c,contentId:gs(),open:p,onOpenToggle:w.useCallback(()=>g(x=>!x),[g]),children:l.jsx(et.div,{"data-state":zy(p),"data-disabled":c?"":void 0,...h,ref:e})})});eC.displayName=av;var tC="CollapsibleTrigger",nC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,o=$y(tC,t);return l.jsx(et.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":zy(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:We(n.onClick,o.onOpenToggle)})});nC.displayName=tC;var Fy="CollapsibleContent",rC=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=$y(Fy,n.__scopeCollapsible);return l.jsx(Ro,{present:t||o.open,children:({present:c})=>l.jsx(P8,{...r,ref:e,present:c})})});rC.displayName=Fy;var P8=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:o,...c}=n,d=$y(Fy,t),[h,p]=w.useState(r),g=w.useRef(null),x=Ot(e,g),y=w.useRef(0),b=y.current,C=w.useRef(0),P=C.current,E=d.open||h,k=w.useRef(E),R=w.useRef(void 0);return w.useEffect(()=>{const j=requestAnimationFrame(()=>k.current=!1);return()=>cancelAnimationFrame(j)},[]),gn(()=>{const j=g.current;if(j){R.current=R.current||{transitionDuration:j.style.transitionDuration,animationName:j.style.animationName},j.style.transitionDuration="0s",j.style.animationName="none";const T=j.getBoundingClientRect();y.current=T.height,C.current=T.width,k.current||(j.style.transitionDuration=R.current.transitionDuration,j.style.animationName=R.current.animationName),p(r)}},[d.open,r]),l.jsx(et.div,{"data-state":zy(d.open),"data-disabled":d.disabled?"":void 0,id:d.contentId,hidden:!E,...c,ref:x,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":P?`${P}px`:void 0,...n.style},children:E&&o})});function zy(n){return n?"open":"closed"}var R8=eC,T8=nC,O8=rC,Gs="Accordion",M8=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[Uy,A8,I8]=Tg(Gs),[lv,Gz]=xs(Gs,[I8,Zj]),By=Zj(),sC=sn.forwardRef((n,e)=>{const{type:t,...r}=n,o=r,c=r;return l.jsx(Uy.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?l.jsx(F8,{...c,ref:e}):l.jsx($8,{...o,ref:e})})});sC.displayName=Gs;var[oC,D8]=lv(Gs),[iC,L8]=lv(Gs,{collapsible:!1}),$8=sn.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},collapsible:c=!1,...d}=n,[h,p]=ki({prop:t,defaultProp:r??"",onChange:o,caller:Gs});return l.jsx(oC,{scope:n.__scopeAccordion,value:sn.useMemo(()=>h?[h]:[],[h]),onItemOpen:p,onItemClose:sn.useCallback(()=>c&&p(""),[c,p]),children:l.jsx(iC,{scope:n.__scopeAccordion,collapsible:c,children:l.jsx(aC,{...d,ref:e})})})}),F8=sn.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...c}=n,[d,h]=ki({prop:t,defaultProp:r??[],onChange:o,caller:Gs}),p=sn.useCallback(x=>h((y=[])=>[...y,x]),[h]),g=sn.useCallback(x=>h((y=[])=>y.filter(b=>b!==x)),[h]);return l.jsx(oC,{scope:n.__scopeAccordion,value:d,onItemOpen:p,onItemClose:g,children:l.jsx(iC,{scope:n.__scopeAccordion,collapsible:!0,children:l.jsx(aC,{...c,ref:e})})})}),[z8,cv]=lv(Gs),aC=sn.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:o,orientation:c="vertical",...d}=n,h=sn.useRef(null),p=Ot(h,e),g=A8(t),y=Mh(o)==="ltr",b=We(n.onKeyDown,C=>{var $;if(!M8.includes(C.key))return;const P=C.target,E=g().filter(G=>{var X;return!((X=G.ref.current)!=null&&X.disabled)}),k=E.findIndex(G=>G.ref.current===P),R=E.length;if(k===-1)return;C.preventDefault();let j=k;const T=0,A=R-1,D=()=>{j=k+1,j>A&&(j=T)},H=()=>{j=k-1,j<T&&(j=A)};switch(C.key){case"Home":j=T;break;case"End":j=A;break;case"ArrowRight":c==="horizontal"&&(y?D():H());break;case"ArrowDown":c==="vertical"&&D();break;case"ArrowLeft":c==="horizontal"&&(y?H():D());break;case"ArrowUp":c==="vertical"&&H();break}const F=j%R;($=E[F].ref.current)==null||$.focus()});return l.jsx(z8,{scope:t,disabled:r,direction:o,orientation:c,children:l.jsx(Uy.Slot,{scope:t,children:l.jsx(et.div,{...d,"data-orientation":c,ref:p,onKeyDown:r?void 0:b})})})}),Sg="AccordionItem",[U8,Wy]=lv(Sg),lC=sn.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...o}=n,c=cv(Sg,t),d=D8(Sg,t),h=By(t),p=gs(),g=r&&d.value.includes(r)||!1,x=c.disabled||n.disabled;return l.jsx(U8,{scope:t,open:g,disabled:x,triggerId:p,children:l.jsx(R8,{"data-orientation":c.orientation,"data-state":pC(g),...h,...o,ref:e,disabled:x,open:g,onOpenChange:y=>{y?d.onItemOpen(r):d.onItemClose(r)}})})});lC.displayName=Sg;var cC="AccordionHeader",uC=sn.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=cv(Gs,t),c=Wy(cC,t);return l.jsx(et.h3,{"data-orientation":o.orientation,"data-state":pC(c.open),"data-disabled":c.disabled?"":void 0,...r,ref:e})});uC.displayName=cC;var $0="AccordionTrigger",dC=sn.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=cv(Gs,t),c=Wy($0,t),d=L8($0,t),h=By(t);return l.jsx(Uy.ItemSlot,{scope:t,children:l.jsx(T8,{"aria-disabled":c.open&&!d.collapsible||void 0,"data-orientation":o.orientation,id:c.triggerId,...h,...r,ref:e})})});dC.displayName=$0;var fC="AccordionContent",hC=sn.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=cv(Gs,t),c=Wy(fC,t),d=By(t);return l.jsx(O8,{role:"region","aria-labelledby":c.triggerId,"data-orientation":o.orientation,...d,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});hC.displayName=fC;function pC(n){return n?"open":"closed"}var B8=sC,W8=lC,H8=uC,mC=dC,gC=hC;const V8=B8,vC=w.forwardRef(({className:n,...e},t)=>l.jsx(W8,{ref:t,className:Fe("border-b",n),...e}));vC.displayName="AccordionItem";const xC=w.forwardRef(({className:n,children:e,...t},r)=>l.jsx(H8,{className:"flex",children:l.jsxs(mC,{ref:r,className:Fe("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,l.jsx(Z0,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));xC.displayName=mC.displayName;const yC=w.forwardRef(({className:n,children:e,...t},r)=>l.jsx(gC,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:l.jsx("div",{className:Fe("pb-4 pt-0",n),children:e})}));yC.displayName=gC.displayName;const Ta=async n=>{try{const{data:e,error:t}=await n.throwOnError();return{data:e,error:null}}catch(e){return console.error("Ошибка запроса Supabase:",e),{data:null,error:e}}},uv=async()=>Ta(Me.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `)),Uh=async(n,e)=>{const t=Ue(n,"yyyy-MM-dd"),r=Ue(e,"yyyy-MM-dd");return Ta(Me.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `).lt("check_in",r).gt("check_out",t))},Hy=async()=>Ta(Me.from("rooms").select("*").order("room_number",{ascending:!0})),Vy=async()=>Ta(Me.from("services").select("*")),G8=async n=>{var r;const{data:e,error:t}=await Me.rpc("create_booking_with_guest",{guest_details:n.guest_details,room_id_arg:n.room_id,check_in_arg:n.check_in,check_out_arg:n.check_out,status_arg:n.status,source_arg:n.source,guests_count_arg:n.guests_count,notes_arg:n.notes,amount_paid_arg:n.amount_paid,accommodation_total_arg:n.accommodation_total,services_total_arg:n.services_total,total_amount_arg:n.total_amount});if(t)throw console.error("Ошибка при создании бронирования:",t),t;if(console.log("📋 Результат создания бронирования:",e),e&&n.syncToChannex!==!1){const o=typeof e=="string"?e:e.id||e.booking_id||(Array.isArray(e)?(r=e[0])==null?void 0:r.id:null);console.log("🔄 Начинаем синхронизацию с Channex для booking ID:",o),setTimeout(async()=>{try{const{default:c}=await ad(async()=>{const{default:g}=await Promise.resolve().then(()=>jF);return{default:g}},void 0);if(!o){console.error("❌ Не удалось получить ID бронирования для синхронизации");return}const{data:d,error:h}=await Me.from("bookings").select(`
            *,
            guests (*),
            rooms (*)
          `).eq("id",o).single();if(h){console.error("❌ Ошибка получения данных бронирования для синхронизации:",h);return}if(!d){console.error("❌ Данные бронирования не найдены для синхронизации");return}console.log("📤 Автоматическая синхронизация бронирования с Channex...",d);const p=await c.createBookingInChannex(d);console.log("✅ Бронирование успешно синхронизировано с Channex!",p)}catch(c){console.error("❌ Ошибка синхронизации с Channex:",c),console.error("❌ Детали ошибки синхронизации:",{booking_id:o,service:"channex",error_message:c.message,error_stack:c.stack,occurred_at:new Date().toISOString()})}},1e3)}return e},Gy=async(n,e)=>Ta(Me.from("bookings").update(e).eq("id",n).select()),q8=async(n,e)=>Ta(Me.from("guests").update(e).eq("id",n)),K8=async n=>Ta(Me.from("bookings").delete().eq("id",n)),Y8=async(n,e)=>{try{console.log("🔄 Supabase: Adding services to booking",{bookingId:n,servicesCart:e});const{data:t,error:r}=await Me.rpc("add_services_to_booking",{booking_id_arg:n,services_data:e});if(r){console.warn("⚠️ RPC failed, trying direct insert:",r.message);const o=e.map(h=>({booking_id:n,service_id:h.service_id,quantity:h.quantity,price_at_booking:h.price_at_booking})),{data:c,error:d}=await Me.from("booking_services").insert(o).select();if(d)throw console.error("❌ Direct insert also failed:",d),d;return console.log("✅ Supabase: Services added via direct insert",c),{data:c,error:null}}return console.log("✅ Supabase: Services added via RPC successfully",t),{data:t,error:null}}catch(t){return console.error("❌ Error in addServicesToBooking:",t),{data:null,error:t}}},J8=async n=>{try{console.log("🔄 Supabase: Removing service from booking",n);const e=await Ta(Me.from("booking_services").delete().eq("id",n));return console.log("✅ Supabase: Service removed successfully"),e}catch(e){return console.error("❌ Error in removeServiceFromBooking:",e),{data:null,error:e}}},X8=async(n,e)=>{try{console.log("🔄 Supabase: Saving daily report",{reportDate:n,reportData:e});const{data:t,error:r}=await Me.from("daily_reports").select("*").eq("report_date",n).single(),o={report_date:n,income_data:e.manual.income,expenses_data:e.manual.expenses,auto_data:e.auto,updated_at:new Date().toISOString()};if(t&&!r){const{data:c,error:d}=await Me.from("daily_reports").update(o).eq("id",t.id).select().single();if(d)throw d;return await R1(t.id,t,o,"update"),console.log("✅ Daily report updated successfully"),{data:c,error:null}}else{o.created_at=new Date().toISOString();const{data:c,error:d}=await Me.from("daily_reports").insert(o).select().single();if(d)throw d;return await R1(c.id,null,o,"create"),console.log("✅ Daily report created successfully"),{data:c,error:null}}}catch(t){return console.error("❌ Error saving daily report:",t),{data:null,error:t}}},Q8=async n=>{try{const{data:e,error:t}=await Me.from("daily_reports").select("*").eq("report_date",n).single();if(t&&t.code!=="PGRST116")throw t;return{data:e||null,error:null}}catch(e){return console.error("❌ Error getting daily report:",e),{data:null,error:e}}},R1=async(n,e,t,r)=>{try{const o={report_id:n,action:r,old_data:e,new_data:t,changed_at:new Date().toISOString()},{error:c}=await Me.from("daily_reports_history").insert(o);if(c)throw c;console.log("✅ Report history saved")}catch(o){console.error("❌ Error saving report history:",o)}};var oh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Z8=oh.exports,T1;function ez(){return T1||(T1=1,function(n,e){(function(){var t,r="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",g=500,x="__lodash_placeholder__",y=1,b=2,C=4,P=1,E=2,k=1,R=2,j=4,T=8,A=16,D=32,H=64,F=128,$=256,G=512,X=30,ne="...",ae=800,pe=16,me=1,je=2,ge=3,be=1/0,B=9007199254740991,Y=17976931348623157e292,re=NaN,z=4294967295,U=z-1,q=z>>>1,ie=[["ary",F],["bind",k],["bindKey",R],["curry",T],["curryRight",A],["flip",G],["partial",D],["partialRight",H],["rearg",$]],ue="[object Arguments]",he="[object Array]",te="[object AsyncFunction]",fe="[object Boolean]",Ne="[object Date]",Ce="[object DOMException]",Be="[object Error]",Ie="[object Function]",Je="[object GeneratorFunction]",pt="[object Map]",fn="[object Number]",er="[object Null]",Kt="[object Object]",Zt="[object Promise]",Rr="[object Proxy]",Tr="[object RegExp]",Gt="[object Set]",Jr="[object String]",Mo="[object Symbol]",Bh="[object Undefined]",Ri="[object WeakMap]",Wh="[object WeakSet]",Ao="[object ArrayBuffer]",ys="[object DataView]",ec="[object Float32Array]",Io="[object Float64Array]",Do="[object Int8Array]",md="[object Int16Array]",tc="[object Int32Array]",nc="[object Uint8Array]",gd="[object Uint8ClampedArray]",Oa="[object Uint16Array]",Ma="[object Uint32Array]",vd=/\b__p \+= '';/g,xd=/\b(__p \+=) '' \+/g,yd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Lo=/&(?:amp|lt|gt|quot|#39);/g,$o=/[&<>"']/g,Hh=RegExp(Lo.source),Vh=RegExp($o.source),Gh=/<%-([\s\S]+?)%>/g,qh=/<%([\s\S]+?)%>/g,wd=/<%=([\s\S]+?)%>/g,_d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Kh=/^\w*$/,Aa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ia=/[\\^$.*+?()[\]{}|]/g,Da=RegExp(Ia.source),bd=/^\s+/,La=/\s/,rc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,sc=/\{\n\/\* \[wrapped with (.+)\] \*/,Sd=/,? & /,dv=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,fv=/[()=,{}\[\]\/\s]/,hv=/\\(\\)?/g,Fo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Nd=/\w*$/,Yh=/^[-+]0x[0-9a-f]+$/i,pv=/^0b[01]+$/i,Jh=/^\[object .+?Constructor\]$/,Xh=/^0o[0-7]+$/i,Qh=/^(?:0|[1-9]\d*)$/,Zh=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,oc=/($^)/,mv=/['\n\r\u2028\u2029\\]/g,$t="\\ud800-\\udfff",gv="\\u0300-\\u036f",kd="\\ufe20-\\ufe2f",ep="\\u20d0-\\u20ff",$a=gv+kd+ep,tp="\\u2700-\\u27bf",jd="a-z\\xdf-\\xf6\\xf8-\\xff",ic="\\xac\\xb1\\xd7\\xf7",Xr="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",vv="\\u2000-\\u206f",Or=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",np="A-Z\\xc0-\\xd6\\xd8-\\xde",rp="\\ufe0e\\ufe0f",sp=ic+Xr+vv+Or,Ti="['’]",ac="["+$t+"]",Oi="["+sp+"]",zo="["+$a+"]",op="\\d+",xv="["+tp+"]",lc="["+jd+"]",Cd="[^"+$t+sp+op+tp+jd+np+"]",Fa="\\ud83c[\\udffb-\\udfff]",za="(?:"+zo+"|"+Fa+")",ip="[^"+$t+"]",Ua="(?:\\ud83c[\\udde6-\\uddff]){2}",kt="[\\ud800-\\udbff][\\udc00-\\udfff]",Uo="["+np+"]",Ed="\\u200d",cc="(?:"+lc+"|"+Cd+")",ap="(?:"+Uo+"|"+Cd+")",Pd="(?:"+Ti+"(?:d|ll|m|re|s|t|ve))?",Rd="(?:"+Ti+"(?:D|LL|M|RE|S|T|VE))?",uc=za+"?",Ba="["+rp+"]?",qs="(?:"+Ed+"(?:"+[ip,Ua,kt].join("|")+")"+Ba+uc+")*",Ks="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ys="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Mi=Ba+uc+qs,Wa="(?:"+[xv,Ua,kt].join("|")+")"+Mi,Js="(?:"+[ip+zo+"?",zo,Ua,kt,ac].join("|")+")",yv=RegExp(Ti,"g"),lp=RegExp(zo,"g"),Bo=RegExp(Fa+"(?="+Fa+")|"+Js+Mi,"g"),wv=RegExp([Uo+"?"+lc+"+"+Pd+"(?="+[Oi,Uo,"$"].join("|")+")",ap+"+"+Rd+"(?="+[Oi,Uo+cc,"$"].join("|")+")",Uo+"?"+cc+"+"+Pd,Uo+"+"+Rd,Ys,Ks,op,Wa].join("|"),"g"),cp=RegExp("["+Ed+$t+$a+rp+"]"),dc=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,up=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],_v=-1,Ct={};Ct[ec]=Ct[Io]=Ct[Do]=Ct[md]=Ct[tc]=Ct[nc]=Ct[gd]=Ct[Oa]=Ct[Ma]=!0,Ct[ue]=Ct[he]=Ct[Ao]=Ct[fe]=Ct[ys]=Ct[Ne]=Ct[Be]=Ct[Ie]=Ct[pt]=Ct[fn]=Ct[Kt]=Ct[Tr]=Ct[Gt]=Ct[Jr]=Ct[Ri]=!1;var jt={};jt[ue]=jt[he]=jt[Ao]=jt[ys]=jt[fe]=jt[Ne]=jt[ec]=jt[Io]=jt[Do]=jt[md]=jt[tc]=jt[pt]=jt[fn]=jt[Kt]=jt[Tr]=jt[Gt]=jt[Jr]=jt[Mo]=jt[nc]=jt[gd]=jt[Oa]=jt[Ma]=!0,jt[Be]=jt[Ie]=jt[Ri]=!1;var Ai={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},fc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},bv={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Sv={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Td=parseFloat,hc=parseInt,pc=typeof Sm=="object"&&Sm&&Sm.Object===Object&&Sm,dp=typeof self=="object"&&self&&self.Object===Object&&self,Ft=pc||dp||Function("return this")(),Ha=e&&!e.nodeType&&e,Qr=Ha&&!0&&n&&!n.nodeType&&n,Od=Qr&&Qr.exports===Ha,Ii=Od&&pc.process,In=function(){try{var Z=Qr&&Qr.require&&Qr.require("util").types;return Z||Ii&&Ii.binding&&Ii.binding("util")}catch{}}(),Md=In&&In.isArrayBuffer,Hn=In&&In.isDate,Wo=In&&In.isMap,mc=In&&In.isRegExp,Di=In&&In.isSet,fp=In&&In.isTypedArray;function Dn(Z,de,le){switch(le.length){case 0:return Z.call(de);case 1:return Z.call(de,le[0]);case 2:return Z.call(de,le[0],le[1]);case 3:return Z.call(de,le[0],le[1],le[2])}return Z.apply(de,le)}function Ad(Z,de,le,Pe){for(var tt=-1,bt=Z==null?0:Z.length;++tt<bt;){var en=Z[tt];de(Pe,en,le(en),Z)}return Pe}function Nn(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe&&de(Z[le],le,Z)!==!1;);return Z}function gc(Z,de){for(var le=Z==null?0:Z.length;le--&&de(Z[le],le,Z)!==!1;);return Z}function Id(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(!de(Z[le],le,Z))return!1;return!0}function Xs(Z,de){for(var le=-1,Pe=Z==null?0:Z.length,tt=0,bt=[];++le<Pe;){var en=Z[le];de(en,le,Z)&&(bt[tt++]=en)}return bt}function vc(Z,de){var le=Z==null?0:Z.length;return!!le&&Li(Z,de,0)>-1}function Dd(Z,de,le){for(var Pe=-1,tt=Z==null?0:Z.length;++Pe<tt;)if(le(de,Z[Pe]))return!0;return!1}function Mt(Z,de){for(var le=-1,Pe=Z==null?0:Z.length,tt=Array(Pe);++le<Pe;)tt[le]=de(Z[le],le,Z);return tt}function Qs(Z,de){for(var le=-1,Pe=de.length,tt=Z.length;++le<Pe;)Z[tt+le]=de[le];return Z}function Ld(Z,de,le,Pe){var tt=-1,bt=Z==null?0:Z.length;for(Pe&&bt&&(le=Z[++tt]);++tt<bt;)le=de(le,Z[tt],tt,Z);return le}function Nv(Z,de,le,Pe){var tt=Z==null?0:Z.length;for(Pe&&tt&&(le=Z[--tt]);tt--;)le=de(le,Z[tt],tt,Z);return le}function $d(Z,de){for(var le=-1,Pe=Z==null?0:Z.length;++le<Pe;)if(de(Z[le],le,Z))return!0;return!1}var kv=zd("length");function hp(Z){return Z.split("")}function jv(Z){return Z.match(dv)||[]}function pp(Z,de,le){var Pe;return le(Z,function(tt,bt,en){if(de(tt,bt,en))return Pe=bt,!1}),Pe}function xc(Z,de,le,Pe){for(var tt=Z.length,bt=le+(Pe?1:-1);Pe?bt--:++bt<tt;)if(de(Z[bt],bt,Z))return bt;return-1}function Li(Z,de,le){return de===de?_c(Z,de,le):xc(Z,mp,le)}function Fd(Z,de,le,Pe){for(var tt=le-1,bt=Z.length;++tt<bt;)if(Pe(Z[tt],de))return tt;return-1}function mp(Z){return Z!==Z}function gp(Z,de){var le=Z==null?0:Z.length;return le?Ud(Z,de)/le:re}function zd(Z){return function(de){return de==null?t:de[Z]}}function yc(Z){return function(de){return Z==null?t:Z[de]}}function vp(Z,de,le,Pe,tt){return tt(Z,function(bt,en,Et){le=Pe?(Pe=!1,bt):de(le,bt,en,Et)}),le}function Cv(Z,de){var le=Z.length;for(Z.sort(de);le--;)Z[le]=Z[le].value;return Z}function Ud(Z,de){for(var le,Pe=-1,tt=Z.length;++Pe<tt;){var bt=de(Z[Pe]);bt!==t&&(le=le===t?bt:le+bt)}return le}function Bd(Z,de){for(var le=-1,Pe=Array(Z);++le<Z;)Pe[le]=de(le);return Pe}function Ev(Z,de){return Mt(de,function(le){return[le,Z[le]]})}function xp(Z){return Z&&Z.slice(0,bc(Z)+1).replace(bd,"")}function tr(Z){return function(de){return Z(de)}}function Va(Z,de){return Mt(de,function(le){return Z[le]})}function ws(Z,de){return Z.has(de)}function yp(Z,de){for(var le=-1,Pe=Z.length;++le<Pe&&Li(de,Z[le],0)>-1;);return le}function Wd(Z,de){for(var le=Z.length;le--&&Li(de,Z[le],0)>-1;);return le}function wp(Z,de){for(var le=Z.length,Pe=0;le--;)Z[le]===de&&++Pe;return Pe}var _p=yc(Ai),bp=yc(fc);function Sp(Z){return"\\"+Sv[Z]}function $i(Z,de){return Z==null?t:Z[de]}function Fi(Z){return cp.test(Z)}function Pv(Z){return dc.test(Z)}function Rv(Z){for(var de,le=[];!(de=Z.next()).done;)le.push(de.value);return le}function wc(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe,tt){le[++de]=[tt,Pe]}),le}function Hd(Z,de){return function(le){return Z(de(le))}}function hr(Z,de){for(var le=-1,Pe=Z.length,tt=0,bt=[];++le<Pe;){var en=Z[le];(en===de||en===x)&&(Z[le]=x,bt[tt++]=le)}return bt}function Zs(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++de]=Pe}),le}function Tv(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Pe){le[++de]=[Pe,Pe]}),le}function _c(Z,de,le){for(var Pe=le-1,tt=Z.length;++Pe<tt;)if(Z[Pe]===de)return Pe;return-1}function Ov(Z,de,le){for(var Pe=le+1;Pe--;)if(Z[Pe]===de)return Pe;return Pe}function Ho(Z){return Fi(Z)?kp(Z):kv(Z)}function nr(Z){return Fi(Z)?jp(Z):hp(Z)}function bc(Z){for(var de=Z.length;de--&&La.test(Z.charAt(de)););return de}var Np=yc(bv);function kp(Z){for(var de=Bo.lastIndex=0;Bo.test(Z);)++de;return de}function jp(Z){return Z.match(Bo)||[]}function Mv(Z){return Z.match(wv)||[]}var Av=function Z(de){de=de==null?Ft:zi.defaults(Ft.Object(),de,zi.pick(Ft,up));var le=de.Array,Pe=de.Date,tt=de.Error,bt=de.Function,en=de.Math,Et=de.Object,Ga=de.RegExp,Iv=de.String,pr=de.TypeError,_s=le.prototype,Vd=bt.prototype,Zr=Et.prototype,Ui=de["__core-js_shared__"],qa=Vd.toString,St=Zr.hasOwnProperty,Bi=0,Sc=function(){var a=/[^.]+$/.exec(Ui&&Ui.keys&&Ui.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Ka=Zr.toString,Nc=qa.call(Et),Cp=Ft._,Ep=Ga("^"+qa.call(St).replace(Ia,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ya=Od?de.Buffer:t,bs=de.Symbol,Ja=de.Uint8Array,Gd=Ya?Ya.allocUnsafe:t,Mr=Hd(Et.getPrototypeOf,Et),kc=Et.create,jc=Zr.propertyIsEnumerable,Cc=_s.splice,Pp=bs?bs.isConcatSpreadable:t,Ss=bs?bs.iterator:t,Vo=bs?bs.toStringTag:t,Xa=function(){try{var a=uo(Et,"defineProperty");return a({},"",{}),a}catch{}}(),Rp=de.clearTimeout!==Ft.clearTimeout&&de.clearTimeout,It=Pe&&Pe.now!==Ft.Date.now&&Pe.now,qd=de.setTimeout!==Ft.setTimeout&&de.setTimeout,Go=en.ceil,eo=en.floor,Ec=Et.getOwnPropertySymbols,Kd=Ya?Ya.isBuffer:t,Wi=de.isFinite,Pc=_s.join,Hi=Hd(Et.keys,Et),tn=en.max,kn=en.min,Dv=Pe.now,Tp=de.parseInt,Qa=en.random,Rc=_s.reverse,Za=uo(de,"DataView"),qo=uo(de,"Map"),el=uo(de,"Promise"),to=uo(de,"Set"),tl=uo(de,"WeakMap"),Vi=uo(Et,"create"),Tc=tl&&new tl,Gi={},Yd=fo(Za),no=fo(qo),Op=fo(el),qi=fo(to),es=fo(tl),ro=bs?bs.prototype:t,rr=ro?ro.valueOf:t,Oc=ro?ro.toString:t;function I(a){if(rn(a)&&!ot(a)&&!(a instanceof st)){if(a instanceof jn)return a;if(St.call(a,"__wrapped__"))return im(a)}return new jn(a)}var Ki=function(){function a(){}return function(u){if(!Xt(u))return{};if(kc)return kc(u);a.prototype=u;var v=new a;return a.prototype=t,v}}();function ts(){}function jn(a,u){this.__wrapped__=a,this.__actions__=[],this.__chain__=!!u,this.__index__=0,this.__values__=t}I.templateSettings={escape:Gh,evaluate:qh,interpolate:wd,variable:"",imports:{_:I}},I.prototype=ts.prototype,I.prototype.constructor=I,jn.prototype=Ki(ts.prototype),jn.prototype.constructor=jn;function st(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=z,this.__views__=[]}function Mc(){var a=new st(this.__wrapped__);return a.__actions__=$n(this.__actions__),a.__dir__=this.__dir__,a.__filtered__=this.__filtered__,a.__iteratees__=$n(this.__iteratees__),a.__takeCount__=this.__takeCount__,a.__views__=$n(this.__views__),a}function Jd(){if(this.__filtered__){var a=new st(this);a.__dir__=-1,a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a}function Yi(){var a=this.__wrapped__.value(),u=this.__dir__,v=ot(a),N=u<0,O=v?a.length:0,L=kf(0,O,this.__views__),V=L.start,J=L.end,ee=J-V,ve=N?J:V-1,xe=this.__iteratees__,_e=xe.length,Ee=0,He=kn(ee,this.__takeCount__);if(!v||!N&&O==ee&&He==ee)return ra(a,this.__actions__);var Qe=[];e:for(;ee--&&Ee<He;){ve+=u;for(var ct=-1,Ze=a[ve];++ct<_e;){var vt=xe[ct],_t=vt.iteratee,Wr=vt.type,lr=_t(Ze);if(Wr==je)Ze=lr;else if(!lr){if(Wr==me)continue e;break e}}Qe[Ee++]=Ze}return Qe}st.prototype=Ki(ts.prototype),st.prototype.constructor=st;function Vn(a){var u=-1,v=a==null?0:a.length;for(this.clear();++u<v;){var N=a[u];this.set(N[0],N[1])}}function Dt(){this.__data__=Vi?Vi(null):{},this.size=0}function At(a){var u=this.has(a)&&delete this.__data__[a];return this.size-=u?1:0,u}function so(a){var u=this.__data__;if(Vi){var v=u[a];return v===p?t:v}return St.call(u,a)?u[a]:t}function Cn(a){var u=this.__data__;return Vi?u[a]!==t:St.call(u,a)}function Gn(a,u){var v=this.__data__;return this.size+=this.has(a)?0:1,v[a]=Vi&&u===t?p:u,this}Vn.prototype.clear=Dt,Vn.prototype.delete=At,Vn.prototype.get=so,Vn.prototype.has=Cn,Vn.prototype.set=Gn;function Ln(a){var u=-1,v=a==null?0:a.length;for(this.clear();++u<v;){var N=a[u];this.set(N[0],N[1])}}function Ji(){this.__data__=[],this.size=0}function qn(a){var u=this.__data__,v=Pn(u,a);if(v<0)return!1;var N=u.length-1;return v==N?u.pop():Cc.call(u,v,1),--this.size,!0}function Ac(a){var u=this.__data__,v=Pn(u,a);return v<0?t:u[v][1]}function Mp(a){return Pn(this.__data__,a)>-1}function Ap(a,u){var v=this.__data__,N=Pn(v,a);return N<0?(++this.size,v.push([a,u])):v[N][1]=u,this}Ln.prototype.clear=Ji,Ln.prototype.delete=qn,Ln.prototype.get=Ac,Ln.prototype.has=Mp,Ln.prototype.set=Ap;function mr(a){var u=-1,v=a==null?0:a.length;for(this.clear();++u<v;){var N=a[u];this.set(N[0],N[1])}}function Ip(){this.size=0,this.__data__={hash:new Vn,map:new(qo||Ln),string:new Vn}}function Ns(a){var u=vl(this,a).delete(a);return this.size-=u?1:0,u}function Ic(a){return vl(this,a).get(a)}function Xd(a){return vl(this,a).has(a)}function Dp(a,u){var v=vl(this,a),N=v.size;return v.set(a,u),this.size+=v.size==N?0:1,this}mr.prototype.clear=Ip,mr.prototype.delete=Ns,mr.prototype.get=Ic,mr.prototype.has=Xd,mr.prototype.set=Dp;function Ko(a){var u=-1,v=a==null?0:a.length;for(this.__data__=new mr;++u<v;)this.add(a[u])}function oo(a){return this.__data__.set(a,p),this}function Xi(a){return this.__data__.has(a)}Ko.prototype.add=Ko.prototype.push=oo,Ko.prototype.has=Xi;function En(a){var u=this.__data__=new Ln(a);this.size=u.size}function Dc(){this.__data__=new Ln,this.size=0}function Lc(a){var u=this.__data__,v=u.delete(a);return this.size=u.size,v}function gr(a){return this.__data__.get(a)}function vr(a){return this.__data__.has(a)}function Yo(a,u){var v=this.__data__;if(v instanceof Ln){var N=v.__data__;if(!qo||N.length<o-1)return N.push([a,u]),this.size=++v.size,this;v=this.__data__=new mr(N)}return v.set(a,u),this.size=v.size,this}En.prototype.clear=Dc,En.prototype.delete=Lc,En.prototype.get=gr,En.prototype.has=vr,En.prototype.set=Yo;function ns(a,u){var v=ot(a),N=!v&&Pl(a),O=!v&&!N&&ha(a),L=!v&&!N&&!O&&ju(a),V=v||N||O||L,J=V?Bd(a.length,Iv):[],ee=J.length;for(var ve in a)(u||St.call(a,ve))&&!(V&&(ve=="length"||O&&(ve=="offset"||ve=="parent")||L&&(ve=="buffer"||ve=="byteLength"||ve=="byteOffset")||Ut(ve,ee)))&&J.push(ve);return J}function rs(a){var u=a.length;return u?a[ta(0,u-1)]:t}function Jo(a,u){return cu($n(a),ks(u,0,a.length))}function Lp(a){return cu($n(a))}function nl(a,u,v){(v!==t&&!Is(a[u],v)||v===t&&!(u in a))&&ss(a,u,v)}function Xo(a,u,v){var N=a[u];(!(St.call(a,u)&&Is(N,v))||v===t&&!(u in a))&&ss(a,u,v)}function Pn(a,u){for(var v=a.length;v--;)if(Is(a[v][0],u))return v;return-1}function sr(a,u,v,N){return is(a,function(O,L,V){u(N,O,v(O),V)}),N}function Lt(a,u){return a&&Ir(u,On(u),a)}function Ar(a,u){return a&&Ir(u,jr(u),a)}function ss(a,u,v){u=="__proto__"&&Xa?Xa(a,u,{configurable:!0,enumerable:!0,value:v,writable:!0}):a[u]=v}function $c(a,u){for(var v=-1,N=u.length,O=le(N),L=a==null;++v<N;)O[v]=L?t:ix(a,u[v]);return O}function ks(a,u,v){return a===a&&(v!==t&&(a=a<=v?a:v),u!==t&&(a=a>=u?a:u)),a}function Kn(a,u,v,N,O,L){var V,J=u&y,ee=u&b,ve=u&C;if(v&&(V=O?v(a,N,O,L):v(a)),V!==t)return V;if(!Xt(a))return a;var xe=ot(a);if(xe){if(V=yl(a),!J)return $n(a,V)}else{var _e=yn(a),Ee=_e==Ie||_e==Je;if(ha(a))return hf(a,J);if(_e==Kt||_e==ue||Ee&&!O){if(V=ee||Ee?{}:wn(a),!J)return ee?$v(a,Ar(V,a)):Xc(a,Lt(V,a))}else{if(!jt[_e])return O?a:{};V=Fv(a,_e,J)}}L||(L=new En);var He=L.get(a);if(He)return He;L.set(a,V),Zy(a)?a.forEach(function(Ze){V.add(Kn(Ze,u,v,Ze,a,L))}):Xy(a)&&a.forEach(function(Ze,vt){V.set(vt,Kn(Ze,u,v,vt,a,L))});var Qe=ve?ee?gl:ml:ee?jr:On,ct=xe?t:Qe(a);return Nn(ct||a,function(Ze,vt){ct&&(vt=Ze,Ze=a[vt]),Xo(V,vt,Kn(Ze,u,v,vt,a,L))}),V}function $p(a){var u=On(a);return function(v){return rl(v,a,u)}}function rl(a,u,v){var N=v.length;if(a==null)return!N;for(a=Et(a);N--;){var O=v[N],L=u[O],V=a[O];if(V===t&&!(O in a)||!L(V))return!1}return!0}function Qd(a,u,v){if(typeof a!="function")throw new pr(d);return ua(function(){a.apply(t,v)},u)}function os(a,u,v,N){var O=-1,L=vc,V=!0,J=a.length,ee=[],ve=u.length;if(!J)return ee;v&&(u=Mt(u,tr(v))),N?(L=Dd,V=!1):u.length>=o&&(L=ws,V=!1,u=new Ko(u));e:for(;++O<J;){var xe=a[O],_e=v==null?xe:v(xe);if(xe=N||xe!==0?xe:0,V&&_e===_e){for(var Ee=ve;Ee--;)if(u[Ee]===_e)continue e;ee.push(xe)}else L(u,_e,N)||ee.push(xe)}return ee}var is=br(or),Fp=br(io,!0);function sl(a,u){var v=!0;return is(a,function(N,O,L){return v=!!u(N,O,L),v}),v}function Qo(a,u,v){for(var N=-1,O=a.length;++N<O;){var L=a[N],V=u(L);if(V!=null&&(J===t?V===V&&!Br(V):v(V,J)))var J=V,ee=L}return ee}function zp(a,u,v,N){var O=a.length;for(v=lt(v),v<0&&(v=-v>O?0:O+v),N=N===t||N>O?O:lt(N),N<0&&(N+=O),N=v>N?0:tw(N);v<N;)a[v++]=u;return a}function Zd(a,u){var v=[];return is(a,function(N,O,L){u(N,O,L)&&v.push(N)}),v}function qt(a,u,v,N,O){var L=-1,V=a.length;for(v||(v=iu),O||(O=[]);++L<V;){var J=a[L];u>0&&v(J)?u>1?qt(J,u-1,v,N,O):Qs(O,J):N||(O[O.length]=J)}return O}var Fc=Zc(),ol=Zc(!0);function or(a,u){return a&&Fc(a,u,On)}function io(a,u){return a&&ol(a,u,On)}function Qi(a,u){return Xs(u,function(v){return di(a[v])})}function js(a,u){u=cs(u,a);for(var v=0,N=u.length;a!=null&&v<N;)a=a[Fr(u[v++])];return v&&v==N?a:t}function zc(a,u,v){var N=u(a);return ot(a)?N:Qs(N,v(a))}function vn(a){return a==null?a===t?Bh:er:Vo&&Vo in Et(a)?ou(a):Cf(a)}function ao(a,u){return a>u}function xr(a,u){return a!=null&&St.call(a,u)}function Zo(a,u){return a!=null&&u in Et(a)}function ef(a,u,v){return a>=kn(u,v)&&a<tn(u,v)}function Uc(a,u,v){for(var N=v?Dd:vc,O=a[0].length,L=a.length,V=L,J=le(L),ee=1/0,ve=[];V--;){var xe=a[V];V&&u&&(xe=Mt(xe,tr(u))),ee=kn(xe.length,ee),J[V]=!v&&(u||O>=120&&xe.length>=120)?new Ko(V&&xe):t}xe=a[0];var _e=-1,Ee=J[0];e:for(;++_e<O&&ve.length<ee;){var He=xe[_e],Qe=u?u(He):He;if(He=v||He!==0?He:0,!(Ee?ws(Ee,Qe):N(ve,Qe,v))){for(V=L;--V;){var ct=J[V];if(!(ct?ws(ct,Qe):N(a[V],Qe,v)))continue e}Ee&&Ee.push(Qe),ve.push(He)}}return ve}function Cs(a,u,v,N){return or(a,function(O,L,V){u(N,v(O),L,V)}),N}function yr(a,u,v){u=cs(u,a),a=hn(a,u);var N=a==null?a:a[Fr(Un(u))];return N==null?t:Dn(N,a,v)}function Bc(a){return rn(a)&&vn(a)==ue}function Up(a){return rn(a)&&vn(a)==Ao}function Es(a){return rn(a)&&vn(a)==Ne}function wr(a,u,v,N,O){return a===u?!0:a==null||u==null||!rn(a)&&!rn(u)?a!==a&&u!==u:Wc(a,u,v,N,wr,O)}function Wc(a,u,v,N,O,L){var V=ot(a),J=ot(u),ee=V?he:yn(a),ve=J?he:yn(u);ee=ee==ue?Kt:ee,ve=ve==ue?Kt:ve;var xe=ee==Kt,_e=ve==Kt,Ee=ee==ve;if(Ee&&ha(a)){if(!ha(u))return!1;V=!0,xe=!1}if(Ee&&!xe)return L||(L=new En),V||ju(a)?Sf(a,u,v,N,O,L):Nf(a,u,ee,v,N,O,L);if(!(v&P)){var He=xe&&St.call(a,"__wrapped__"),Qe=_e&&St.call(u,"__wrapped__");if(He||Qe){var ct=He?a.value():a,Ze=Qe?u.value():u;return L||(L=new En),O(ct,Ze,v,N,L)}}return Ee?(L||(L=new En),Qp(a,u,v,N,O,L)):!1}function Bp(a){return rn(a)&&yn(a)==pt}function Zi(a,u,v,N){var O=v.length,L=O,V=!N;if(a==null)return!L;for(a=Et(a);O--;){var J=v[O];if(V&&J[2]?J[1]!==a[J[0]]:!(J[0]in a))return!1}for(;++O<L;){J=v[O];var ee=J[0],ve=a[ee],xe=J[1];if(V&&J[2]){if(ve===t&&!(ee in a))return!1}else{var _e=new En;if(N)var Ee=N(ve,xe,ee,a,u,_e);if(!(Ee===t?wr(xe,ve,P|E,N,_e):Ee))return!1}}return!0}function tf(a){if(!Xt(a)||tm(a))return!1;var u=di(a)?Ep:Jh;return u.test(fo(a))}function il(a){return rn(a)&&vn(a)==Tr}function as(a){return rn(a)&&yn(a)==Gt}function al(a){return rn(a)&&wm(a.length)&&!!Ct[vn(a)]}function ea(a){return typeof a=="function"?a:a==null?Cr:typeof a=="object"?ot(a)?zt(a[0],a[1]):Hc(a):fw(a)}function Ps(a){if(!Ms(a))return Hi(a);var u=[];for(var v in Et(a))St.call(a,v)&&v!="constructor"&&u.push(v);return u}function nf(a){if(!Xt(a))return sm(a);var u=Ms(a),v=[];for(var N in a)N=="constructor"&&(u||!St.call(a,N))||v.push(N);return v}function lo(a,u){return a<u}function rf(a,u){var v=-1,N=kr(a)?le(a.length):[];return is(a,function(O,L,V){N[++v]=u(O,L,V)}),N}function Hc(a){var u=xl(a);return u.length==1&&u[0][2]?au(u[0][0],u[0][1]):function(v){return v===a||Zi(v,a,u)}}function zt(a,u){return Te(a)&&_l(u)?au(Fr(a),u):function(v){var N=ix(v,a);return N===t&&N===u?ax(v,a):wr(u,N,P|E)}}function ei(a,u,v,N,O){a!==u&&Fc(u,function(L,V){if(O||(O=new En),Xt(L))sf(a,u,V,v,ei,N,O);else{var J=N?N(fs(a,V),L,V+"",a,u,O):t;J===t&&(J=L),nl(a,V,J)}},jr)}function sf(a,u,v,N,O,L,V){var J=fs(a,v),ee=fs(u,v),ve=V.get(ee);if(ve){nl(a,v,ve);return}var xe=L?L(J,ee,v+"",a,u,V):t,_e=xe===t;if(_e){var Ee=ot(ee),He=!Ee&&ha(ee),Qe=!Ee&&!He&&ju(ee);xe=ee,Ee||He||Qe?ot(J)?xe=J:cn(J)?xe=$n(J):He?(_e=!1,xe=hf(ee,!0)):Qe?(_e=!1,xe=qp(ee,!0)):xe=[]:Vf(ee)||Pl(ee)?(xe=J,Pl(J)?xe=nw(J):(!Xt(J)||di(J))&&(xe=wn(ee))):_e=!1}_e&&(V.set(ee,xe),O(xe,ee,N,L,V),V.delete(ee)),nl(a,v,xe)}function Vc(a,u){var v=a.length;if(v)return u+=u<0?v:0,Ut(u,v)?a[u]:t}function ll(a,u,v){u.length?u=Mt(u,function(L){return ot(L)?function(V){return js(V,L.length===1?L[0]:L)}:L}):u=[Cr];var N=-1;u=Mt(u,tr(Ke()));var O=rf(a,function(L,V,J){var ee=Mt(u,function(ve){return ve(L)});return{criteria:ee,index:++N,value:L}});return Cv(O,function(L,V){return Lv(L,V,v)})}function of(a,u){return co(a,u,function(v,N){return ax(a,N)})}function co(a,u,v){for(var N=-1,O=u.length,L={};++N<O;){var V=u[N],J=js(a,V);v(J,V)&&ni(L,cs(V,a),J)}return L}function Ht(a){return function(u){return js(u,a)}}function Yt(a,u,v,N){var O=N?Fd:Li,L=-1,V=u.length,J=a;for(a===u&&(u=$n(u)),v&&(J=Mt(a,tr(v)));++L<V;)for(var ee=0,ve=u[L],xe=v?v(ve):ve;(ee=O(J,xe,ee,N))>-1;)J!==a&&Cc.call(J,ee,1),Cc.call(a,ee,1);return a}function an(a,u){for(var v=a?u.length:0,N=v-1;v--;){var O=u[v];if(v==N||O!==L){var L=O;Ut(O)?Cc.call(a,O,1):Kc(a,O)}}return a}function ta(a,u){return a+eo(Qa()*(u-a+1))}function cl(a,u,v,N){for(var O=-1,L=tn(Go((u-a)/(v||1)),0),V=le(L);L--;)V[N?L:++O]=a,a+=v;return V}function ti(a,u){var v="";if(!a||u<1||u>B)return v;do u%2&&(v+=a),u=eo(u/2),u&&(a+=a);while(u);return v}function at(a,u){return ir(lu(a,u,Cr),a+"")}function Rn(a){return rs(Cu(a))}function af(a,u){var v=Cu(a);return cu(v,ks(u,0,v.length))}function ni(a,u,v,N){if(!Xt(a))return a;u=cs(u,a);for(var O=-1,L=u.length,V=L-1,J=a;J!=null&&++O<L;){var ee=Fr(u[O]),ve=v;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return a;if(O!=V){var xe=J[ee];ve=N?N(xe,ee,J):t,ve===t&&(ve=Xt(xe)?xe:Ut(u[O+1])?[]:{})}Xo(J,ee,ve),J=J[ee]}return a}var Gc=Tc?function(a,u){return Tc.set(a,u),a}:Cr,ls=Xa?function(a,u){return Xa(a,"toString",{configurable:!0,enumerable:!1,value:cx(u),writable:!0})}:Cr;function _r(a){return cu(Cu(a))}function Tn(a,u,v){var N=-1,O=a.length;u<0&&(u=-u>O?0:O+u),v=v>O?O:v,v<0&&(v+=O),O=u>v?0:v-u>>>0,u>>>=0;for(var L=le(O);++N<O;)L[N]=a[N+u];return L}function lf(a,u){var v;return is(a,function(N,O,L){return v=u(N,O,L),!v}),!!v}function na(a,u,v){var N=0,O=a==null?N:a.length;if(typeof u=="number"&&u===u&&O<=q){for(;N<O;){var L=N+O>>>1,V=a[L];V!==null&&!Br(V)&&(v?V<=u:V<u)?N=L+1:O=L}return O}return qc(a,u,Cr,v)}function qc(a,u,v,N){var O=0,L=a==null?0:a.length;if(L===0)return 0;u=v(u);for(var V=u!==u,J=u===null,ee=Br(u),ve=u===t;O<L;){var xe=eo((O+L)/2),_e=v(a[xe]),Ee=_e!==t,He=_e===null,Qe=_e===_e,ct=Br(_e);if(V)var Ze=N||Qe;else ve?Ze=Qe&&(N||Ee):J?Ze=Qe&&Ee&&(N||!He):ee?Ze=Qe&&Ee&&!He&&(N||!ct):He||ct?Ze=!1:Ze=N?_e<=u:_e<u;Ze?O=xe+1:L=xe}return kn(L,U)}function cf(a,u){for(var v=-1,N=a.length,O=0,L=[];++v<N;){var V=a[v],J=u?u(V):V;if(!v||!Is(J,ee)){var ee=J;L[O++]=V===0?0:V}}return L}function uf(a){return typeof a=="number"?a:Br(a)?re:+a}function Yn(a){if(typeof a=="string")return a;if(ot(a))return Mt(a,Yn)+"";if(Br(a))return Oc?Oc.call(a):"";var u=a+"";return u=="0"&&1/a==-be?"-0":u}function Rs(a,u,v){var N=-1,O=vc,L=a.length,V=!0,J=[],ee=J;if(v)V=!1,O=Dd;else if(L>=o){var ve=u?null:Xp(a);if(ve)return Zs(ve);V=!1,O=ws,ee=new Ko}else ee=u?[]:J;e:for(;++N<L;){var xe=a[N],_e=u?u(xe):xe;if(xe=v||xe!==0?xe:0,V&&_e===_e){for(var Ee=ee.length;Ee--;)if(ee[Ee]===_e)continue e;u&&ee.push(_e),J.push(xe)}else O(ee,_e,v)||(ee!==J&&ee.push(_e),J.push(xe))}return J}function Kc(a,u){return u=cs(u,a),a=hn(a,u),a==null||delete a[Fr(Un(u))]}function df(a,u,v,N){return ni(a,u,v(js(a,u)),N)}function ul(a,u,v,N){for(var O=a.length,L=N?O:-1;(N?L--:++L<O)&&u(a[L],L,a););return v?Tn(a,N?0:L,N?L+1:O):Tn(a,N?L+1:0,N?O:L)}function ra(a,u){var v=a;return v instanceof st&&(v=v.value()),Ld(u,function(N,O){return O.func.apply(O.thisArg,Qs([N],O.args))},v)}function Yc(a,u,v){var N=a.length;if(N<2)return N?Rs(a[0]):[];for(var O=-1,L=le(N);++O<N;)for(var V=a[O],J=-1;++J<N;)J!=O&&(L[O]=os(L[O]||V,a[J],u,v));return Rs(qt(L,1),u,v)}function dl(a,u,v){for(var N=-1,O=a.length,L=u.length,V={};++N<O;){var J=N<L?u[N]:t;v(V,a[N],J)}return V}function sa(a){return cn(a)?a:[]}function Jc(a){return typeof a=="function"?a:Cr}function cs(a,u){return ot(a)?a:Te(a,u)?[a]:Rf(Pt(a))}var Wp=at;function Ts(a,u,v){var N=a.length;return v=v===t?N:v,!u&&v>=N?a:Tn(a,u,v)}var ff=Rp||function(a){return Ft.clearTimeout(a)};function hf(a,u){if(u)return a.slice();var v=a.length,N=Gd?Gd(v):new a.constructor(v);return a.copy(N),N}function fl(a){var u=new a.constructor(a.byteLength);return new Ja(u).set(new Ja(a)),u}function Hp(a,u){var v=u?fl(a.buffer):a.buffer;return new a.constructor(v,a.byteOffset,a.byteLength)}function Vp(a){var u=new a.constructor(a.source,Nd.exec(a));return u.lastIndex=a.lastIndex,u}function Gp(a){return rr?Et(rr.call(a)):{}}function qp(a,u){var v=u?fl(a.buffer):a.buffer;return new a.constructor(v,a.byteOffset,a.length)}function pf(a,u){if(a!==u){var v=a!==t,N=a===null,O=a===a,L=Br(a),V=u!==t,J=u===null,ee=u===u,ve=Br(u);if(!J&&!ve&&!L&&a>u||L&&V&&ee&&!J&&!ve||N&&V&&ee||!v&&ee||!O)return 1;if(!N&&!L&&!ve&&a<u||ve&&v&&O&&!N&&!L||J&&v&&O||!V&&O||!ee)return-1}return 0}function Lv(a,u,v){for(var N=-1,O=a.criteria,L=u.criteria,V=O.length,J=v.length;++N<V;){var ee=pf(O[N],L[N]);if(ee){if(N>=J)return ee;var ve=v[N];return ee*(ve=="desc"?-1:1)}}return a.index-u.index}function Kp(a,u,v,N){for(var O=-1,L=a.length,V=v.length,J=-1,ee=u.length,ve=tn(L-V,0),xe=le(ee+ve),_e=!N;++J<ee;)xe[J]=u[J];for(;++O<V;)(_e||O<L)&&(xe[v[O]]=a[O]);for(;ve--;)xe[J++]=a[O++];return xe}function mf(a,u,v,N){for(var O=-1,L=a.length,V=-1,J=v.length,ee=-1,ve=u.length,xe=tn(L-J,0),_e=le(xe+ve),Ee=!N;++O<xe;)_e[O]=a[O];for(var He=O;++ee<ve;)_e[He+ee]=u[ee];for(;++V<J;)(Ee||O<L)&&(_e[He+v[V]]=a[O++]);return _e}function $n(a,u){var v=-1,N=a.length;for(u||(u=le(N));++v<N;)u[v]=a[v];return u}function Ir(a,u,v,N){var O=!v;v||(v={});for(var L=-1,V=u.length;++L<V;){var J=u[L],ee=N?N(v[J],a[J],J,v,a):t;ee===t&&(ee=a[J]),O?ss(v,J,ee):Xo(v,J,ee)}return v}function Xc(a,u){return Ir(a,Dr(a),u)}function $v(a,u){return Ir(a,Zp(a),u)}function Qc(a,u){return function(v,N){var O=ot(v)?Ad:sr,L=u?u():{};return O(v,a,Ke(N,2),L)}}function oa(a){return at(function(u,v){var N=-1,O=v.length,L=O>1?v[O-1]:t,V=O>2?v[2]:t;for(L=a.length>3&&typeof L=="function"?(O--,L):t,V&&zn(v[0],v[1],V)&&(L=O<3?t:L,O=1),u=Et(u);++N<O;){var J=v[N];J&&a(u,J,N,L)}return u})}function br(a,u){return function(v,N){if(v==null)return v;if(!kr(v))return a(v,N);for(var O=v.length,L=u?O:-1,V=Et(v);(u?L--:++L<O)&&N(V[L],L,V)!==!1;);return v}}function Zc(a){return function(u,v,N){for(var O=-1,L=Et(u),V=N(u),J=V.length;J--;){var ee=V[a?J:++O];if(v(L[ee],ee,L)===!1)break}return u}}function eu(a,u,v){var N=u&k,O=ia(a);function L(){var V=this&&this!==Ft&&this instanceof L?O:a;return V.apply(N?v:this,arguments)}return L}function gf(a){return function(u){u=Pt(u);var v=Fi(u)?nr(u):t,N=v?v[0]:u.charAt(0),O=v?Ts(v,1).join(""):u.slice(1);return N[a]()+O}}function ri(a){return function(u){return Ld(uw(cw(u).replace(yv,"")),a,"")}}function ia(a){return function(){var u=arguments;switch(u.length){case 0:return new a;case 1:return new a(u[0]);case 2:return new a(u[0],u[1]);case 3:return new a(u[0],u[1],u[2]);case 4:return new a(u[0],u[1],u[2],u[3]);case 5:return new a(u[0],u[1],u[2],u[3],u[4]);case 6:return new a(u[0],u[1],u[2],u[3],u[4],u[5]);case 7:return new a(u[0],u[1],u[2],u[3],u[4],u[5],u[6])}var v=Ki(a.prototype),N=a.apply(v,u);return Xt(N)?N:v}}function vf(a,u,v){var N=ia(a);function O(){for(var L=arguments.length,V=le(L),J=L,ee=Os(O);J--;)V[J]=arguments[J];var ve=L<3&&V[0]!==ee&&V[L-1]!==ee?[]:hr(V,ee);if(L-=ve.length,L<v)return Fn(a,u,aa,O.placeholder,t,V,ve,t,t,v-L);var xe=this&&this!==Ft&&this instanceof O?N:a;return Dn(xe,this,V)}return O}function si(a){return function(u,v,N){var O=Et(u);if(!kr(u)){var L=Ke(v,3);u=On(u),v=function(J){return L(O[J],J,O)}}var V=a(u,v,N);return V>-1?O[L?u[V]:V]:t}}function tu(a){return ds(function(u){var v=u.length,N=v,O=jn.prototype.thru;for(a&&u.reverse();N--;){var L=u[N];if(typeof L!="function")throw new pr(d);if(O&&!V&&la(L)=="wrapper")var V=new jn([],!0)}for(N=V?N:v;++N<v;){L=u[N];var J=la(L),ee=J=="wrapper"?su(L):t;ee&&wl(ee[0])&&ee[1]==(F|T|D|$)&&!ee[4].length&&ee[9]==1?V=V[la(ee[0])].apply(V,ee[3]):V=L.length==1&&wl(L)?V[J]():V.thru(L)}return function(){var ve=arguments,xe=ve[0];if(V&&ve.length==1&&ot(xe))return V.plant(xe).value();for(var _e=0,Ee=v?u[_e].apply(this,ve):xe;++_e<v;)Ee=u[_e].call(this,Ee);return Ee}})}function aa(a,u,v,N,O,L,V,J,ee,ve){var xe=u&F,_e=u&k,Ee=u&R,He=u&(T|A),Qe=u&G,ct=Ee?t:ia(a);function Ze(){for(var vt=arguments.length,_t=le(vt),Wr=vt;Wr--;)_t[Wr]=arguments[Wr];if(He)var lr=Os(Ze),Hr=wp(_t,lr);if(N&&(_t=Kp(_t,N,O,He)),L&&(_t=mf(_t,L,V,He)),vt-=Hr,He&&vt<ve){var un=hr(_t,lr);return Fn(a,u,aa,Ze.placeholder,v,_t,un,J,ee,ve-vt)}var Ds=_e?v:this,hi=Ee?Ds[a]:a;return vt=_t.length,J?_t=Lr(_t,J):Qe&&vt>1&&_t.reverse(),xe&&ee<vt&&(_t.length=ee),this&&this!==Ft&&this instanceof Ze&&(hi=ct||ia(hi)),hi.apply(Ds,_t)}return Ze}function Yp(a,u){return function(v,N){return Cs(v,a,u(N),{})}}function hl(a,u){return function(v,N){var O;if(v===t&&N===t)return u;if(v!==t&&(O=v),N!==t){if(O===t)return N;typeof v=="string"||typeof N=="string"?(v=Yn(v),N=Yn(N)):(v=uf(v),N=uf(N)),O=a(v,N)}return O}}function nu(a){return ds(function(u){return u=Mt(u,tr(Ke())),at(function(v){var N=this;return a(u,function(O){return Dn(O,N,v)})})})}function pl(a,u){u=u===t?" ":Yn(u);var v=u.length;if(v<2)return v?ti(u,a):u;var N=ti(u,Go(a/Ho(u)));return Fi(u)?Ts(nr(N),0,a).join(""):N.slice(0,a)}function Jp(a,u,v,N){var O=u&k,L=ia(a);function V(){for(var J=-1,ee=arguments.length,ve=-1,xe=N.length,_e=le(xe+ee),Ee=this&&this!==Ft&&this instanceof V?L:a;++ve<xe;)_e[ve]=N[ve];for(;ee--;)_e[ve++]=arguments[++J];return Dn(Ee,O?v:this,_e)}return V}function xf(a){return function(u,v,N){return N&&typeof N!="number"&&zn(u,v,N)&&(v=N=t),u=fi(u),v===t?(v=u,u=0):v=fi(v),N=N===t?u<v?1:-1:fi(N),cl(u,v,N,a)}}function ru(a){return function(u,v){return typeof u=="string"&&typeof v=="string"||(u=hs(u),v=hs(v)),a(u,v)}}function Fn(a,u,v,N,O,L,V,J,ee,ve){var xe=u&T,_e=xe?V:t,Ee=xe?t:V,He=xe?L:t,Qe=xe?t:L;u|=xe?D:H,u&=~(xe?H:D),u&j||(u&=-4);var ct=[a,u,O,He,_e,Qe,Ee,J,ee,ve],Ze=v.apply(t,ct);return wl(a)&&Ef(Ze,ct),Ze.placeholder=N,Pf(Ze,a,u)}function xn(a){var u=en[a];return function(v,N){if(v=hs(v),N=N==null?0:kn(lt(N),292),N&&Wi(v)){var O=(Pt(v)+"e").split("e"),L=u(O[0]+"e"+(+O[1]+N));return O=(Pt(L)+"e").split("e"),+(O[0]+"e"+(+O[1]-N))}return u(v)}}var Xp=to&&1/Zs(new to([,-0]))[1]==be?function(a){return new to(a)}:fx;function yf(a){return function(u){var v=yn(u);return v==pt?wc(u):v==Gt?Tv(u):Ev(u,a(u))}}function us(a,u,v,N,O,L,V,J){var ee=u&R;if(!ee&&typeof a!="function")throw new pr(d);var ve=N?N.length:0;if(ve||(u&=-97,N=O=t),V=V===t?V:tn(lt(V),0),J=J===t?J:lt(J),ve-=O?O.length:0,u&H){var xe=N,_e=O;N=O=t}var Ee=ee?t:su(a),He=[a,u,v,N,O,xe,_e,L,V,J];if(Ee&&rm(He,Ee),a=He[0],u=He[1],v=He[2],N=He[3],O=He[4],J=He[9]=He[9]===t?ee?0:a.length:tn(He[9]-ve,0),!J&&u&(T|A)&&(u&=-25),!u||u==k)var Qe=eu(a,u,v);else u==T||u==A?Qe=vf(a,u,J):(u==D||u==(k|D))&&!O.length?Qe=Jp(a,u,v,N):Qe=aa.apply(t,He);var ct=Ee?Gc:Ef;return Pf(ct(Qe,He),a,u)}function wf(a,u,v,N){return a===t||Is(a,Zr[v])&&!St.call(N,v)?u:a}function _f(a,u,v,N,O,L){return Xt(a)&&Xt(u)&&(L.set(u,a),ei(a,u,t,_f,L),L.delete(u)),a}function bf(a){return Vf(a)?t:a}function Sf(a,u,v,N,O,L){var V=v&P,J=a.length,ee=u.length;if(J!=ee&&!(V&&ee>J))return!1;var ve=L.get(a),xe=L.get(u);if(ve&&xe)return ve==u&&xe==a;var _e=-1,Ee=!0,He=v&E?new Ko:t;for(L.set(a,u),L.set(u,a);++_e<J;){var Qe=a[_e],ct=u[_e];if(N)var Ze=V?N(ct,Qe,_e,u,a,L):N(Qe,ct,_e,a,u,L);if(Ze!==t){if(Ze)continue;Ee=!1;break}if(He){if(!$d(u,function(vt,_t){if(!ws(He,_t)&&(Qe===vt||O(Qe,vt,v,N,L)))return He.push(_t)})){Ee=!1;break}}else if(!(Qe===ct||O(Qe,ct,v,N,L))){Ee=!1;break}}return L.delete(a),L.delete(u),Ee}function Nf(a,u,v,N,O,L,V){switch(v){case ys:if(a.byteLength!=u.byteLength||a.byteOffset!=u.byteOffset)return!1;a=a.buffer,u=u.buffer;case Ao:return!(a.byteLength!=u.byteLength||!L(new Ja(a),new Ja(u)));case fe:case Ne:case fn:return Is(+a,+u);case Be:return a.name==u.name&&a.message==u.message;case Tr:case Jr:return a==u+"";case pt:var J=wc;case Gt:var ee=N&P;if(J||(J=Zs),a.size!=u.size&&!ee)return!1;var ve=V.get(a);if(ve)return ve==u;N|=E,V.set(a,u);var xe=Sf(J(a),J(u),N,O,L,V);return V.delete(a),xe;case Mo:if(rr)return rr.call(a)==rr.call(u)}return!1}function Qp(a,u,v,N,O,L){var V=v&P,J=ml(a),ee=J.length,ve=ml(u),xe=ve.length;if(ee!=xe&&!V)return!1;for(var _e=ee;_e--;){var Ee=J[_e];if(!(V?Ee in u:St.call(u,Ee)))return!1}var He=L.get(a),Qe=L.get(u);if(He&&Qe)return He==u&&Qe==a;var ct=!0;L.set(a,u),L.set(u,a);for(var Ze=V;++_e<ee;){Ee=J[_e];var vt=a[Ee],_t=u[Ee];if(N)var Wr=V?N(_t,vt,Ee,u,a,L):N(vt,_t,Ee,a,u,L);if(!(Wr===t?vt===_t||O(vt,_t,v,N,L):Wr)){ct=!1;break}Ze||(Ze=Ee=="constructor")}if(ct&&!Ze){var lr=a.constructor,Hr=u.constructor;lr!=Hr&&"constructor"in a&&"constructor"in u&&!(typeof lr=="function"&&lr instanceof lr&&typeof Hr=="function"&&Hr instanceof Hr)&&(ct=!1)}return L.delete(a),L.delete(u),ct}function ds(a){return ir(lu(a,t,du),a+"")}function ml(a){return zc(a,On,Dr)}function gl(a){return zc(a,jr,Zp)}var su=Tc?function(a){return Tc.get(a)}:fx;function la(a){for(var u=a.name+"",v=Gi[u],N=St.call(Gi,u)?v.length:0;N--;){var O=v[N],L=O.func;if(L==null||L==a)return O.name}return u}function Os(a){var u=St.call(I,"placeholder")?I:a;return u.placeholder}function Ke(){var a=I.iteratee||ux;return a=a===ux?ea:a,arguments.length?a(arguments[0],arguments[1]):a}function vl(a,u){var v=a.__data__;return ca(u)?v[typeof u=="string"?"string":"hash"]:v.map}function xl(a){for(var u=On(a),v=u.length;v--;){var N=u[v],O=a[N];u[v]=[N,O,_l(O)]}return u}function uo(a,u){var v=$i(a,u);return tf(v)?v:t}function ou(a){var u=St.call(a,Vo),v=a[Vo];try{a[Vo]=t;var N=!0}catch{}var O=Ka.call(a);return N&&(u?a[Vo]=v:delete a[Vo]),O}var Dr=Ec?function(a){return a==null?[]:(a=Et(a),Xs(Ec(a),function(u){return jc.call(a,u)}))}:hx,Zp=Ec?function(a){for(var u=[];a;)Qs(u,Dr(a)),a=Mr(a);return u}:hx,yn=vn;(Za&&yn(new Za(new ArrayBuffer(1)))!=ys||qo&&yn(new qo)!=pt||el&&yn(el.resolve())!=Zt||to&&yn(new to)!=Gt||tl&&yn(new tl)!=Ri)&&(yn=function(a){var u=vn(a),v=u==Kt?a.constructor:t,N=v?fo(v):"";if(N)switch(N){case Yd:return ys;case no:return pt;case Op:return Zt;case qi:return Gt;case es:return Ri}return u});function kf(a,u,v){for(var N=-1,O=v.length;++N<O;){var L=v[N],V=L.size;switch(L.type){case"drop":a+=V;break;case"dropRight":u-=V;break;case"take":u=kn(u,a+V);break;case"takeRight":a=tn(a,u-V);break}}return{start:a,end:u}}function em(a){var u=a.match(sc);return u?u[1].split(Sd):[]}function jf(a,u,v){u=cs(u,a);for(var N=-1,O=u.length,L=!1;++N<O;){var V=Fr(u[N]);if(!(L=a!=null&&v(a,V)))break;a=a[V]}return L||++N!=O?L:(O=a==null?0:a.length,!!O&&wm(O)&&Ut(V,O)&&(ot(a)||Pl(a)))}function yl(a){var u=a.length,v=new a.constructor(u);return u&&typeof a[0]=="string"&&St.call(a,"index")&&(v.index=a.index,v.input=a.input),v}function wn(a){return typeof a.constructor=="function"&&!Ms(a)?Ki(Mr(a)):{}}function Fv(a,u,v){var N=a.constructor;switch(u){case Ao:return fl(a);case fe:case Ne:return new N(+a);case ys:return Hp(a,v);case ec:case Io:case Do:case md:case tc:case nc:case gd:case Oa:case Ma:return qp(a,v);case pt:return new N;case fn:case Jr:return new N(a);case Tr:return Vp(a);case Gt:return new N;case Mo:return Gp(a)}}function zv(a,u){var v=u.length;if(!v)return a;var N=v-1;return u[N]=(v>1?"& ":"")+u[N],u=u.join(v>2?", ":" "),a.replace(rc,`{
/* [wrapped with `+u+`] */
`)}function iu(a){return ot(a)||Pl(a)||!!(Pp&&a&&a[Pp])}function Ut(a,u){var v=typeof a;return u=u??B,!!u&&(v=="number"||v!="symbol"&&Qh.test(a))&&a>-1&&a%1==0&&a<u}function zn(a,u,v){if(!Xt(v))return!1;var N=typeof u;return(N=="number"?kr(v)&&Ut(u,v.length):N=="string"&&u in v)?Is(v[u],a):!1}function Te(a,u){if(ot(a))return!1;var v=typeof a;return v=="number"||v=="symbol"||v=="boolean"||a==null||Br(a)?!0:Kh.test(a)||!_d.test(a)||u!=null&&a in Et(u)}function ca(a){var u=typeof a;return u=="string"||u=="number"||u=="symbol"||u=="boolean"?a!=="__proto__":a===null}function wl(a){var u=la(a),v=I[u];if(typeof v!="function"||!(u in st.prototype))return!1;if(a===v)return!0;var N=su(v);return!!N&&a===N[0]}function tm(a){return!!Sc&&Sc in a}var Uv=Ui?di:px;function Ms(a){var u=a&&a.constructor,v=typeof u=="function"&&u.prototype||Zr;return a===v}function _l(a){return a===a&&!Xt(a)}function au(a,u){return function(v){return v==null?!1:v[a]===u&&(u!==t||a in Et(v))}}function nm(a){var u=oe(a,function(N){return v.size===g&&v.clear(),N}),v=u.cache;return u}function rm(a,u){var v=a[1],N=u[1],O=v|N,L=O<(k|R|F),V=N==F&&v==T||N==F&&v==$&&a[7].length<=u[8]||N==(F|$)&&u[7].length<=u[8]&&v==T;if(!(L||V))return a;N&k&&(a[2]=u[2],O|=v&k?0:j);var J=u[3];if(J){var ee=a[3];a[3]=ee?Kp(ee,J,u[4]):J,a[4]=ee?hr(a[3],x):u[4]}return J=u[5],J&&(ee=a[5],a[5]=ee?mf(ee,J,u[6]):J,a[6]=ee?hr(a[5],x):u[6]),J=u[7],J&&(a[7]=J),N&F&&(a[8]=a[8]==null?u[8]:kn(a[8],u[8])),a[9]==null&&(a[9]=u[9]),a[0]=u[0],a[1]=O,a}function sm(a){var u=[];if(a!=null)for(var v in Et(a))u.push(v);return u}function Cf(a){return Ka.call(a)}function lu(a,u,v){return u=tn(u===t?a.length-1:u,0),function(){for(var N=arguments,O=-1,L=tn(N.length-u,0),V=le(L);++O<L;)V[O]=N[u+O];O=-1;for(var J=le(u+1);++O<u;)J[O]=N[O];return J[u]=v(V),Dn(a,this,J)}}function hn(a,u){return u.length<2?a:js(a,Tn(u,0,-1))}function Lr(a,u){for(var v=a.length,N=kn(u.length,v),O=$n(a);N--;){var L=u[N];a[N]=Ut(L,v)?O[L]:t}return a}function fs(a,u){if(!(u==="constructor"&&typeof a[u]=="function")&&u!="__proto__")return a[u]}var Ef=$r(Gc),ua=qd||function(a,u){return Ft.setTimeout(a,u)},ir=$r(ls);function Pf(a,u,v){var N=u+"";return ir(a,zv(N,om(em(N),v)))}function $r(a){var u=0,v=0;return function(){var N=Dv(),O=pe-(N-v);if(v=N,O>0){if(++u>=ae)return arguments[0]}else u=0;return a.apply(t,arguments)}}function cu(a,u){var v=-1,N=a.length,O=N-1;for(u=u===t?N:u;++v<u;){var L=ta(v,O),V=a[L];a[L]=a[v],a[v]=V}return a.length=u,a}var Rf=nm(function(a){var u=[];return a.charCodeAt(0)===46&&u.push(""),a.replace(Aa,function(v,N,O,L){u.push(O?L.replace(hv,"$1"):N||v)}),u});function Fr(a){if(typeof a=="string"||Br(a))return a;var u=a+"";return u=="0"&&1/a==-be?"-0":u}function fo(a){if(a!=null){try{return qa.call(a)}catch{}try{return a+""}catch{}}return""}function om(a,u){return Nn(ie,function(v){var N="_."+v[0];u&v[1]&&!vc(a,N)&&a.push(N)}),a.sort()}function im(a){if(a instanceof st)return a.clone();var u=new jn(a.__wrapped__,a.__chain__);return u.__actions__=$n(a.__actions__),u.__index__=a.__index__,u.__values__=a.__values__,u}function uu(a,u,v){(v?zn(a,u,v):u===t)?u=1:u=tn(lt(u),0);var N=a==null?0:a.length;if(!N||u<1)return[];for(var O=0,L=0,V=le(Go(N/u));O<N;)V[L++]=Tn(a,O,O+=u);return V}function Tf(a){for(var u=-1,v=a==null?0:a.length,N=0,O=[];++u<v;){var L=a[u];L&&(O[N++]=L)}return O}function Sr(){var a=arguments.length;if(!a)return[];for(var u=le(a-1),v=arguments[0],N=a;N--;)u[N-1]=arguments[N];return Qs(ot(v)?$n(v):[v],qt(u,1))}var wt=at(function(a,u){return cn(a)?os(a,qt(u,1,cn,!0)):[]}),pn=at(function(a,u){var v=Un(u);return cn(v)&&(v=t),cn(a)?os(a,qt(u,1,cn,!0),Ke(v,2)):[]}),nn=at(function(a,u){var v=Un(u);return cn(v)&&(v=t),cn(a)?os(a,qt(u,1,cn,!0),t,v):[]});function _n(a,u,v){var N=a==null?0:a.length;return N?(u=v||u===t?1:lt(u),Tn(a,u<0?0:u,N)):[]}function ar(a,u,v){var N=a==null?0:a.length;return N?(u=v||u===t?1:lt(u),u=N-u,Tn(a,0,u<0?0:u)):[]}function da(a,u){return a&&a.length?ul(a,Ke(u,3),!0,!0):[]}function ln(a,u){return a&&a.length?ul(a,Ke(u,3),!0):[]}function bl(a,u,v,N){var O=a==null?0:a.length;return O?(v&&typeof v!="number"&&zn(a,u,v)&&(v=0,N=O),zp(a,u,v,N)):[]}function ho(a,u,v){var N=a==null?0:a.length;if(!N)return-1;var O=v==null?0:lt(v);return O<0&&(O=tn(N+O,0)),xc(a,Ke(u,3),O)}function Sl(a,u,v){var N=a==null?0:a.length;if(!N)return-1;var O=N-1;return v!==t&&(O=lt(v),O=v<0?tn(N+O,0):kn(O,N-1)),xc(a,Ke(u,3),O,!0)}function du(a){var u=a==null?0:a.length;return u?qt(a,1):[]}function Nl(a){var u=a==null?0:a.length;return u?qt(a,be):[]}function Jn(a,u){var v=a==null?0:a.length;return v?(u=u===t?1:lt(u),qt(a,u)):[]}function Of(a){for(var u=-1,v=a==null?0:a.length,N={};++u<v;){var O=a[u];N[O[0]]=O[1]}return N}function oi(a){return a&&a.length?a[0]:t}function As(a,u,v){var N=a==null?0:a.length;if(!N)return-1;var O=v==null?0:lt(v);return O<0&&(O=tn(N+O,0)),Li(a,u,O)}function fu(a){var u=a==null?0:a.length;return u?Tn(a,0,-1):[]}var Mf=at(function(a){var u=Mt(a,sa);return u.length&&u[0]===a[0]?Uc(u):[]}),po=at(function(a){var u=Un(a),v=Mt(a,sa);return u===Un(v)?u=t:v.pop(),v.length&&v[0]===a[0]?Uc(v,Ke(u,2)):[]}),hu=at(function(a){var u=Un(a),v=Mt(a,sa);return u=typeof u=="function"?u:t,u&&v.pop(),v.length&&v[0]===a[0]?Uc(v,t,u):[]});function mo(a,u){return a==null?"":Pc.call(a,u)}function Un(a){var u=a==null?0:a.length;return u?a[u-1]:t}function kl(a,u,v){var N=a==null?0:a.length;if(!N)return-1;var O=N;return v!==t&&(O=lt(v),O=O<0?tn(N+O,0):kn(O,N-1)),u===u?Ov(a,u,O):xc(a,mp,O,!0)}function Af(a,u){return a&&a.length?Vc(a,lt(u)):t}var pu=at(jl);function jl(a,u){return a&&a.length&&u&&u.length?Yt(a,u):a}function Bn(a,u,v){return a&&a.length&&u&&u.length?Yt(a,u,Ke(v,2)):a}function go(a,u,v){return a&&a.length&&u&&u.length?Yt(a,u,t,v):a}var zr=ds(function(a,u){var v=a==null?0:a.length,N=$c(a,u);return an(a,Mt(u,function(O){return Ut(O,v)?+O:O}).sort(pf)),N});function Xn(a,u){var v=[];if(!(a&&a.length))return v;var N=-1,O=[],L=a.length;for(u=Ke(u,3);++N<L;){var V=a[N];u(V,N,a)&&(v.push(V),O.push(N))}return an(a,O),v}function mu(a){return a==null?a:Rc.call(a)}function If(a,u,v){var N=a==null?0:a.length;return N?(v&&typeof v!="number"&&zn(a,u,v)?(u=0,v=N):(u=u==null?0:lt(u),v=v===t?N:lt(v)),Tn(a,u,v)):[]}function Df(a,u){return na(a,u)}function Bv(a,u,v){return qc(a,u,Ke(v,2))}function vo(a,u){var v=a==null?0:a.length;if(v){var N=na(a,u);if(N<v&&Is(a[N],u))return N}return-1}function am(a,u){return na(a,u,!0)}function Lf(a,u,v){return qc(a,u,Ke(v,2),!0)}function ii(a,u){var v=a==null?0:a.length;if(v){var N=na(a,u,!0)-1;if(Is(a[N],u))return N}return-1}function $f(a){return a&&a.length?cf(a):[]}function ai(a,u){return a&&a.length?cf(a,Ke(u,2)):[]}function lm(a){var u=a==null?0:a.length;return u?Tn(a,1,u):[]}function cm(a,u,v){return a&&a.length?(u=v||u===t?1:lt(u),Tn(a,0,u<0?0:u)):[]}function Ff(a,u,v){var N=a==null?0:a.length;return N?(u=v||u===t?1:lt(u),u=N-u,Tn(a,u<0?0:u,N)):[]}function gu(a,u){return a&&a.length?ul(a,Ke(u,3),!1,!0):[]}function Wv(a,u){return a&&a.length?ul(a,Ke(u,3)):[]}var Hv=at(function(a){return Rs(qt(a,1,cn,!0))}),um=at(function(a){var u=Un(a);return cn(u)&&(u=t),Rs(qt(a,1,cn,!0),Ke(u,2))}),dm=at(function(a){var u=Un(a);return u=typeof u=="function"?u:t,Rs(qt(a,1,cn,!0),t,u)});function li(a){return a&&a.length?Rs(a):[]}function Vv(a,u){return a&&a.length?Rs(a,Ke(u,2)):[]}function fa(a,u){return u=typeof u=="function"?u:t,a&&a.length?Rs(a,t,u):[]}function vu(a){if(!(a&&a.length))return[];var u=0;return a=Xs(a,function(v){if(cn(v))return u=tn(v.length,u),!0}),Bd(u,function(v){return Mt(a,zd(v))})}function Vt(a,u){if(!(a&&a.length))return[];var v=vu(a);return u==null?v:Mt(v,function(N){return Dn(u,t,N)})}var Gv=at(function(a,u){return cn(a)?os(a,u):[]}),fm=at(function(a){return Yc(Xs(a,cn))}),qv=at(function(a){var u=Un(a);return cn(u)&&(u=t),Yc(Xs(a,cn),Ke(u,2))}),Kv=at(function(a){var u=Un(a);return u=typeof u=="function"?u:t,Yc(Xs(a,cn),t,u)}),hm=at(vu);function pm(a,u){return dl(a||[],u||[],Xo)}function Yv(a,u){return dl(a||[],u||[],ni)}var Nr=at(function(a){var u=a.length,v=u>1?a[u-1]:t;return v=typeof v=="function"?(a.pop(),v):t,Vt(a,v)});function xu(a){var u=I(a);return u.__chain__=!0,u}function Jv(a,u){return u(a),a}function Ur(a,u){return u(a)}var yu=ds(function(a){var u=a.length,v=u?a[0]:0,N=this.__wrapped__,O=function(L){return $c(L,a)};return u>1||this.__actions__.length||!(N instanceof st)||!Ut(v)?this.thru(O):(N=N.slice(v,+v+(u?1:0)),N.__actions__.push({func:Ur,args:[O],thisArg:t}),new jn(N,this.__chain__).thru(function(L){return u&&!L.length&&L.push(t),L}))});function ci(){return xu(this)}function wu(){return new jn(this.value(),this.__chain__)}function zf(){this.__values__===t&&(this.__values__=ew(this.value()));var a=this.__index__>=this.__values__.length,u=a?t:this.__values__[this.__index__++];return{done:a,value:u}}function Uf(){return this}function Xv(a){for(var u,v=this;v instanceof ts;){var N=im(v);N.__index__=0,N.__values__=t,u?O.__wrapped__=N:u=N;var O=N;v=v.__wrapped__}return O.__wrapped__=a,u}function Bf(){var a=this.__wrapped__;if(a instanceof st){var u=a;return this.__actions__.length&&(u=new st(this)),u=u.reverse(),u.__actions__.push({func:Ur,args:[mu],thisArg:t}),new jn(u,this.__chain__)}return this.thru(mu)}function Qv(){return ra(this.__wrapped__,this.__actions__)}var mm=Qc(function(a,u,v){St.call(a,v)?++a[v]:ss(a,v,1)});function gm(a,u,v){var N=ot(a)?Id:sl;return v&&zn(a,u,v)&&(u=t),N(a,Ke(u,3))}function _u(a,u){var v=ot(a)?Xs:Zd;return v(a,Ke(u,3))}var bu=si(ho),vm=si(Sl);function Wf(a,u){return qt(ui(a,u),1)}function Zv(a,u){return qt(ui(a,u),be)}function xm(a,u,v){return v=v===t?1:lt(v),qt(ui(a,u),v)}function Su(a,u){var v=ot(a)?Nn:is;return v(a,Ke(u,3))}function Cl(a,u){var v=ot(a)?gc:Fp;return v(a,Ke(u,3))}var Hf=Qc(function(a,u,v){St.call(a,v)?a[v].push(u):ss(a,v,[u])});function Nu(a,u,v,N){a=kr(a)?a:Cu(a),v=v&&!N?lt(v):0;var O=a.length;return v<0&&(v=tn(O+v,0)),_m(a)?v<=O&&a.indexOf(u,v)>-1:!!O&&Li(a,u,v)>-1}var ym=at(function(a,u,v){var N=-1,O=typeof u=="function",L=kr(a)?le(a.length):[];return is(a,function(V){L[++N]=O?Dn(u,V,v):yr(V,u,v)}),L}),ex=Qc(function(a,u,v){ss(a,v,u)});function ui(a,u){var v=ot(a)?Mt:rf;return v(a,Ke(u,3))}function tx(a,u,v,N){return a==null?[]:(ot(u)||(u=u==null?[]:[u]),v=N?t:v,ot(v)||(v=v==null?[]:[v]),ll(a,u,v))}var El=Qc(function(a,u,v){a[v?0:1].push(u)},function(){return[[],[]]});function nx(a,u,v){var N=ot(a)?Ld:vp,O=arguments.length<3;return N(a,Ke(u,4),v,O,is)}function ku(a,u,v){var N=ot(a)?Nv:vp,O=arguments.length<3;return N(a,Ke(u,4),v,O,Fp)}function s(a,u){var v=ot(a)?Xs:Zd;return v(a,ke(Ke(u,3)))}function i(a){var u=ot(a)?rs:Rn;return u(a)}function f(a,u,v){(v?zn(a,u,v):u===t)?u=1:u=lt(u);var N=ot(a)?Jo:af;return N(a,u)}function m(a){var u=ot(a)?Lp:_r;return u(a)}function _(a){if(a==null)return 0;if(kr(a))return _m(a)?Ho(a):a.length;var u=yn(a);return u==pt||u==Gt?a.size:Ps(a).length}function S(a,u,v){var N=ot(a)?$d:lf;return v&&zn(a,u,v)&&(u=t),N(a,Ke(u,3))}var M=at(function(a,u){if(a==null)return[];var v=u.length;return v>1&&zn(a,u[0],u[1])?u=[]:v>2&&zn(u[0],u[1],u[2])&&(u=[u[0]]),ll(a,qt(u,1),[])}),W=It||function(){return Ft.Date.now()};function K(a,u){if(typeof u!="function")throw new pr(d);return a=lt(a),function(){if(--a<1)return u.apply(this,arguments)}}function ce(a,u,v){return u=v?t:u,u=a&&u==null?a.length:u,us(a,F,t,t,t,t,u)}function we(a,u){var v;if(typeof u!="function")throw new pr(d);return a=lt(a),function(){return--a>0&&(v=u.apply(this,arguments)),a<=1&&(u=t),v}}var Se=at(function(a,u,v){var N=k;if(v.length){var O=hr(v,Os(Se));N|=D}return us(a,N,u,v,O)}),ye=at(function(a,u,v){var N=k|R;if(v.length){var O=hr(v,Os(ye));N|=D}return us(u,N,a,v,O)});function Re(a,u,v){u=v?t:u;var N=us(a,T,t,t,t,t,t,u);return N.placeholder=Re.placeholder,N}function Oe(a,u,v){u=v?t:u;var N=us(a,A,t,t,t,t,t,u);return N.placeholder=Oe.placeholder,N}function Ae(a,u,v){var N,O,L,V,J,ee,ve=0,xe=!1,_e=!1,Ee=!0;if(typeof a!="function")throw new pr(d);u=hs(u)||0,Xt(v)&&(xe=!!v.leading,_e="maxWait"in v,L=_e?tn(hs(v.maxWait)||0,u):L,Ee="trailing"in v?!!v.trailing:Ee);function He(un){var Ds=N,hi=O;return N=O=t,ve=un,V=a.apply(hi,Ds),V}function Qe(un){return ve=un,J=ua(vt,u),xe?He(un):V}function ct(un){var Ds=un-ee,hi=un-ve,hw=u-Ds;return _e?kn(hw,L-hi):hw}function Ze(un){var Ds=un-ee,hi=un-ve;return ee===t||Ds>=u||Ds<0||_e&&hi>=L}function vt(){var un=W();if(Ze(un))return _t(un);J=ua(vt,ct(un))}function _t(un){return J=t,Ee&&N?He(un):(N=O=t,V)}function Wr(){J!==t&&ff(J),ve=0,N=ee=O=J=t}function lr(){return J===t?V:_t(W())}function Hr(){var un=W(),Ds=Ze(un);if(N=arguments,O=this,ee=un,Ds){if(J===t)return Qe(ee);if(_e)return ff(J),J=ua(vt,u),He(ee)}return J===t&&(J=ua(vt,u)),V}return Hr.cancel=Wr,Hr.flush=lr,Hr}var Jt=at(function(a,u){return Qd(a,1,u)}),se=at(function(a,u,v){return Qd(a,hs(u)||0,v)});function Q(a){return us(a,G)}function oe(a,u){if(typeof a!="function"||u!=null&&typeof u!="function")throw new pr(d);var v=function(){var N=arguments,O=u?u.apply(this,N):N[0],L=v.cache;if(L.has(O))return L.get(O);var V=a.apply(this,N);return v.cache=L.set(O,V)||L,V};return v.cache=new(oe.Cache||mr),v}oe.Cache=mr;function ke(a){if(typeof a!="function")throw new pr(d);return function(){var u=arguments;switch(u.length){case 0:return!a.call(this);case 1:return!a.call(this,u[0]);case 2:return!a.call(this,u[0],u[1]);case 3:return!a.call(this,u[0],u[1],u[2])}return!a.apply(this,u)}}function ze(a){return we(2,a)}var qe=Wp(function(a,u){u=u.length==1&&ot(u[0])?Mt(u[0],tr(Ke())):Mt(qt(u,1),tr(Ke()));var v=u.length;return at(function(N){for(var O=-1,L=kn(N.length,v);++O<L;)N[O]=u[O].call(this,N[O]);return Dn(a,this,N)})}),Ge=at(function(a,u){var v=hr(u,Os(Ge));return us(a,D,t,u,v)}),Xe=at(function(a,u){var v=hr(u,Os(Xe));return us(a,H,t,u,v)}),mn=ds(function(a,u){return us(a,$,t,t,t,u)});function Nt(a,u){if(typeof a!="function")throw new pr(d);return u=u===t?u:lt(u),at(a,u)}function xo(a,u){if(typeof a!="function")throw new pr(d);return u=u==null?0:tn(lt(u),0),at(function(v){var N=v[u],O=Ts(v,0,u);return N&&Qs(O,N),Dn(a,this,O)})}function rx(a,u,v){var N=!0,O=!0;if(typeof a!="function")throw new pr(d);return Xt(v)&&(N="leading"in v?!!v.leading:N,O="trailing"in v?!!v.trailing:O),Ae(a,u,{leading:N,maxWait:u,trailing:O})}function FC(a){return ce(a,1)}function zC(a,u){return Ge(Jc(u),a)}function UC(){if(!arguments.length)return[];var a=arguments[0];return ot(a)?a:[a]}function BC(a){return Kn(a,C)}function WC(a,u){return u=typeof u=="function"?u:t,Kn(a,C,u)}function HC(a){return Kn(a,y|C)}function VC(a,u){return u=typeof u=="function"?u:t,Kn(a,y|C,u)}function GC(a,u){return u==null||rl(a,u,On(u))}function Is(a,u){return a===u||a!==a&&u!==u}var qC=ru(ao),KC=ru(function(a,u){return a>=u}),Pl=Bc(function(){return arguments}())?Bc:function(a){return rn(a)&&St.call(a,"callee")&&!jc.call(a,"callee")},ot=le.isArray,YC=Md?tr(Md):Up;function kr(a){return a!=null&&wm(a.length)&&!di(a)}function cn(a){return rn(a)&&kr(a)}function JC(a){return a===!0||a===!1||rn(a)&&vn(a)==fe}var ha=Kd||px,XC=Hn?tr(Hn):Es;function QC(a){return rn(a)&&a.nodeType===1&&!Vf(a)}function ZC(a){if(a==null)return!0;if(kr(a)&&(ot(a)||typeof a=="string"||typeof a.splice=="function"||ha(a)||ju(a)||Pl(a)))return!a.length;var u=yn(a);if(u==pt||u==Gt)return!a.size;if(Ms(a))return!Ps(a).length;for(var v in a)if(St.call(a,v))return!1;return!0}function e2(a,u){return wr(a,u)}function t2(a,u,v){v=typeof v=="function"?v:t;var N=v?v(a,u):t;return N===t?wr(a,u,t,v):!!N}function sx(a){if(!rn(a))return!1;var u=vn(a);return u==Be||u==Ce||typeof a.message=="string"&&typeof a.name=="string"&&!Vf(a)}function n2(a){return typeof a=="number"&&Wi(a)}function di(a){if(!Xt(a))return!1;var u=vn(a);return u==Ie||u==Je||u==te||u==Rr}function Jy(a){return typeof a=="number"&&a==lt(a)}function wm(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=B}function Xt(a){var u=typeof a;return a!=null&&(u=="object"||u=="function")}function rn(a){return a!=null&&typeof a=="object"}var Xy=Wo?tr(Wo):Bp;function r2(a,u){return a===u||Zi(a,u,xl(u))}function s2(a,u,v){return v=typeof v=="function"?v:t,Zi(a,u,xl(u),v)}function o2(a){return Qy(a)&&a!=+a}function i2(a){if(Uv(a))throw new tt(c);return tf(a)}function a2(a){return a===null}function l2(a){return a==null}function Qy(a){return typeof a=="number"||rn(a)&&vn(a)==fn}function Vf(a){if(!rn(a)||vn(a)!=Kt)return!1;var u=Mr(a);if(u===null)return!0;var v=St.call(u,"constructor")&&u.constructor;return typeof v=="function"&&v instanceof v&&qa.call(v)==Nc}var ox=mc?tr(mc):il;function c2(a){return Jy(a)&&a>=-B&&a<=B}var Zy=Di?tr(Di):as;function _m(a){return typeof a=="string"||!ot(a)&&rn(a)&&vn(a)==Jr}function Br(a){return typeof a=="symbol"||rn(a)&&vn(a)==Mo}var ju=fp?tr(fp):al;function u2(a){return a===t}function d2(a){return rn(a)&&yn(a)==Ri}function f2(a){return rn(a)&&vn(a)==Wh}var h2=ru(lo),p2=ru(function(a,u){return a<=u});function ew(a){if(!a)return[];if(kr(a))return _m(a)?nr(a):$n(a);if(Ss&&a[Ss])return Rv(a[Ss]());var u=yn(a),v=u==pt?wc:u==Gt?Zs:Cu;return v(a)}function fi(a){if(!a)return a===0?a:0;if(a=hs(a),a===be||a===-be){var u=a<0?-1:1;return u*Y}return a===a?a:0}function lt(a){var u=fi(a),v=u%1;return u===u?v?u-v:u:0}function tw(a){return a?ks(lt(a),0,z):0}function hs(a){if(typeof a=="number")return a;if(Br(a))return re;if(Xt(a)){var u=typeof a.valueOf=="function"?a.valueOf():a;a=Xt(u)?u+"":u}if(typeof a!="string")return a===0?a:+a;a=xp(a);var v=pv.test(a);return v||Xh.test(a)?hc(a.slice(2),v?2:8):Yh.test(a)?re:+a}function nw(a){return Ir(a,jr(a))}function m2(a){return a?ks(lt(a),-B,B):a===0?a:0}function Pt(a){return a==null?"":Yn(a)}var g2=oa(function(a,u){if(Ms(u)||kr(u)){Ir(u,On(u),a);return}for(var v in u)St.call(u,v)&&Xo(a,v,u[v])}),rw=oa(function(a,u){Ir(u,jr(u),a)}),bm=oa(function(a,u,v,N){Ir(u,jr(u),a,N)}),v2=oa(function(a,u,v,N){Ir(u,On(u),a,N)}),x2=ds($c);function y2(a,u){var v=Ki(a);return u==null?v:Lt(v,u)}var w2=at(function(a,u){a=Et(a);var v=-1,N=u.length,O=N>2?u[2]:t;for(O&&zn(u[0],u[1],O)&&(N=1);++v<N;)for(var L=u[v],V=jr(L),J=-1,ee=V.length;++J<ee;){var ve=V[J],xe=a[ve];(xe===t||Is(xe,Zr[ve])&&!St.call(a,ve))&&(a[ve]=L[ve])}return a}),_2=at(function(a){return a.push(t,_f),Dn(sw,t,a)});function b2(a,u){return pp(a,Ke(u,3),or)}function S2(a,u){return pp(a,Ke(u,3),io)}function N2(a,u){return a==null?a:Fc(a,Ke(u,3),jr)}function k2(a,u){return a==null?a:ol(a,Ke(u,3),jr)}function j2(a,u){return a&&or(a,Ke(u,3))}function C2(a,u){return a&&io(a,Ke(u,3))}function E2(a){return a==null?[]:Qi(a,On(a))}function P2(a){return a==null?[]:Qi(a,jr(a))}function ix(a,u,v){var N=a==null?t:js(a,u);return N===t?v:N}function R2(a,u){return a!=null&&jf(a,u,xr)}function ax(a,u){return a!=null&&jf(a,u,Zo)}var T2=Yp(function(a,u,v){u!=null&&typeof u.toString!="function"&&(u=Ka.call(u)),a[u]=v},cx(Cr)),O2=Yp(function(a,u,v){u!=null&&typeof u.toString!="function"&&(u=Ka.call(u)),St.call(a,u)?a[u].push(v):a[u]=[v]},Ke),M2=at(yr);function On(a){return kr(a)?ns(a):Ps(a)}function jr(a){return kr(a)?ns(a,!0):nf(a)}function A2(a,u){var v={};return u=Ke(u,3),or(a,function(N,O,L){ss(v,u(N,O,L),N)}),v}function I2(a,u){var v={};return u=Ke(u,3),or(a,function(N,O,L){ss(v,O,u(N,O,L))}),v}var D2=oa(function(a,u,v){ei(a,u,v)}),sw=oa(function(a,u,v,N){ei(a,u,v,N)}),L2=ds(function(a,u){var v={};if(a==null)return v;var N=!1;u=Mt(u,function(L){return L=cs(L,a),N||(N=L.length>1),L}),Ir(a,gl(a),v),N&&(v=Kn(v,y|b|C,bf));for(var O=u.length;O--;)Kc(v,u[O]);return v});function $2(a,u){return ow(a,ke(Ke(u)))}var F2=ds(function(a,u){return a==null?{}:of(a,u)});function ow(a,u){if(a==null)return{};var v=Mt(gl(a),function(N){return[N]});return u=Ke(u),co(a,v,function(N,O){return u(N,O[0])})}function z2(a,u,v){u=cs(u,a);var N=-1,O=u.length;for(O||(O=1,a=t);++N<O;){var L=a==null?t:a[Fr(u[N])];L===t&&(N=O,L=v),a=di(L)?L.call(a):L}return a}function U2(a,u,v){return a==null?a:ni(a,u,v)}function B2(a,u,v,N){return N=typeof N=="function"?N:t,a==null?a:ni(a,u,v,N)}var iw=yf(On),aw=yf(jr);function W2(a,u,v){var N=ot(a),O=N||ha(a)||ju(a);if(u=Ke(u,4),v==null){var L=a&&a.constructor;O?v=N?new L:[]:Xt(a)?v=di(L)?Ki(Mr(a)):{}:v={}}return(O?Nn:or)(a,function(V,J,ee){return u(v,V,J,ee)}),v}function H2(a,u){return a==null?!0:Kc(a,u)}function V2(a,u,v){return a==null?a:df(a,u,Jc(v))}function G2(a,u,v,N){return N=typeof N=="function"?N:t,a==null?a:df(a,u,Jc(v),N)}function Cu(a){return a==null?[]:Va(a,On(a))}function q2(a){return a==null?[]:Va(a,jr(a))}function K2(a,u,v){return v===t&&(v=u,u=t),v!==t&&(v=hs(v),v=v===v?v:0),u!==t&&(u=hs(u),u=u===u?u:0),ks(hs(a),u,v)}function Y2(a,u,v){return u=fi(u),v===t?(v=u,u=0):v=fi(v),a=hs(a),ef(a,u,v)}function J2(a,u,v){if(v&&typeof v!="boolean"&&zn(a,u,v)&&(u=v=t),v===t&&(typeof u=="boolean"?(v=u,u=t):typeof a=="boolean"&&(v=a,a=t)),a===t&&u===t?(a=0,u=1):(a=fi(a),u===t?(u=a,a=0):u=fi(u)),a>u){var N=a;a=u,u=N}if(v||a%1||u%1){var O=Qa();return kn(a+O*(u-a+Td("1e-"+((O+"").length-1))),u)}return ta(a,u)}var X2=ri(function(a,u,v){return u=u.toLowerCase(),a+(v?lw(u):u)});function lw(a){return lx(Pt(a).toLowerCase())}function cw(a){return a=Pt(a),a&&a.replace(Zh,_p).replace(lp,"")}function Q2(a,u,v){a=Pt(a),u=Yn(u);var N=a.length;v=v===t?N:ks(lt(v),0,N);var O=v;return v-=u.length,v>=0&&a.slice(v,O)==u}function Z2(a){return a=Pt(a),a&&Vh.test(a)?a.replace($o,bp):a}function eE(a){return a=Pt(a),a&&Da.test(a)?a.replace(Ia,"\\$&"):a}var tE=ri(function(a,u,v){return a+(v?"-":"")+u.toLowerCase()}),nE=ri(function(a,u,v){return a+(v?" ":"")+u.toLowerCase()}),rE=gf("toLowerCase");function sE(a,u,v){a=Pt(a),u=lt(u);var N=u?Ho(a):0;if(!u||N>=u)return a;var O=(u-N)/2;return pl(eo(O),v)+a+pl(Go(O),v)}function oE(a,u,v){a=Pt(a),u=lt(u);var N=u?Ho(a):0;return u&&N<u?a+pl(u-N,v):a}function iE(a,u,v){a=Pt(a),u=lt(u);var N=u?Ho(a):0;return u&&N<u?pl(u-N,v)+a:a}function aE(a,u,v){return v||u==null?u=0:u&&(u=+u),Tp(Pt(a).replace(bd,""),u||0)}function lE(a,u,v){return(v?zn(a,u,v):u===t)?u=1:u=lt(u),ti(Pt(a),u)}function cE(){var a=arguments,u=Pt(a[0]);return a.length<3?u:u.replace(a[1],a[2])}var uE=ri(function(a,u,v){return a+(v?"_":"")+u.toLowerCase()});function dE(a,u,v){return v&&typeof v!="number"&&zn(a,u,v)&&(u=v=t),v=v===t?z:v>>>0,v?(a=Pt(a),a&&(typeof u=="string"||u!=null&&!ox(u))&&(u=Yn(u),!u&&Fi(a))?Ts(nr(a),0,v):a.split(u,v)):[]}var fE=ri(function(a,u,v){return a+(v?" ":"")+lx(u)});function hE(a,u,v){return a=Pt(a),v=v==null?0:ks(lt(v),0,a.length),u=Yn(u),a.slice(v,v+u.length)==u}function pE(a,u,v){var N=I.templateSettings;v&&zn(a,u,v)&&(u=t),a=Pt(a),u=bm({},u,N,wf);var O=bm({},u.imports,N.imports,wf),L=On(O),V=Va(O,L),J,ee,ve=0,xe=u.interpolate||oc,_e="__p += '",Ee=Ga((u.escape||oc).source+"|"+xe.source+"|"+(xe===wd?Fo:oc).source+"|"+(u.evaluate||oc).source+"|$","g"),He="//# sourceURL="+(St.call(u,"sourceURL")?(u.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++_v+"]")+`
`;a.replace(Ee,function(Ze,vt,_t,Wr,lr,Hr){return _t||(_t=Wr),_e+=a.slice(ve,Hr).replace(mv,Sp),vt&&(J=!0,_e+=`' +
__e(`+vt+`) +
'`),lr&&(ee=!0,_e+=`';
`+lr+`;
__p += '`),_t&&(_e+=`' +
((__t = (`+_t+`)) == null ? '' : __t) +
'`),ve=Hr+Ze.length,Ze}),_e+=`';
`;var Qe=St.call(u,"variable")&&u.variable;if(!Qe)_e=`with (obj) {
`+_e+`
}
`;else if(fv.test(Qe))throw new tt(h);_e=(ee?_e.replace(vd,""):_e).replace(xd,"$1").replace(yd,"$1;"),_e="function("+(Qe||"obj")+`) {
`+(Qe?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var ct=dw(function(){return bt(L,He+"return "+_e).apply(t,V)});if(ct.source=_e,sx(ct))throw ct;return ct}function mE(a){return Pt(a).toLowerCase()}function gE(a){return Pt(a).toUpperCase()}function vE(a,u,v){if(a=Pt(a),a&&(v||u===t))return xp(a);if(!a||!(u=Yn(u)))return a;var N=nr(a),O=nr(u),L=yp(N,O),V=Wd(N,O)+1;return Ts(N,L,V).join("")}function xE(a,u,v){if(a=Pt(a),a&&(v||u===t))return a.slice(0,bc(a)+1);if(!a||!(u=Yn(u)))return a;var N=nr(a),O=Wd(N,nr(u))+1;return Ts(N,0,O).join("")}function yE(a,u,v){if(a=Pt(a),a&&(v||u===t))return a.replace(bd,"");if(!a||!(u=Yn(u)))return a;var N=nr(a),O=yp(N,nr(u));return Ts(N,O).join("")}function wE(a,u){var v=X,N=ne;if(Xt(u)){var O="separator"in u?u.separator:O;v="length"in u?lt(u.length):v,N="omission"in u?Yn(u.omission):N}a=Pt(a);var L=a.length;if(Fi(a)){var V=nr(a);L=V.length}if(v>=L)return a;var J=v-Ho(N);if(J<1)return N;var ee=V?Ts(V,0,J).join(""):a.slice(0,J);if(O===t)return ee+N;if(V&&(J+=ee.length-J),ox(O)){if(a.slice(J).search(O)){var ve,xe=ee;for(O.global||(O=Ga(O.source,Pt(Nd.exec(O))+"g")),O.lastIndex=0;ve=O.exec(xe);)var _e=ve.index;ee=ee.slice(0,_e===t?J:_e)}}else if(a.indexOf(Yn(O),J)!=J){var Ee=ee.lastIndexOf(O);Ee>-1&&(ee=ee.slice(0,Ee))}return ee+N}function _E(a){return a=Pt(a),a&&Hh.test(a)?a.replace(Lo,Np):a}var bE=ri(function(a,u,v){return a+(v?" ":"")+u.toUpperCase()}),lx=gf("toUpperCase");function uw(a,u,v){return a=Pt(a),u=v?t:u,u===t?Pv(a)?Mv(a):jv(a):a.match(u)||[]}var dw=at(function(a,u){try{return Dn(a,t,u)}catch(v){return sx(v)?v:new tt(v)}}),SE=ds(function(a,u){return Nn(u,function(v){v=Fr(v),ss(a,v,Se(a[v],a))}),a});function NE(a){var u=a==null?0:a.length,v=Ke();return a=u?Mt(a,function(N){if(typeof N[1]!="function")throw new pr(d);return[v(N[0]),N[1]]}):[],at(function(N){for(var O=-1;++O<u;){var L=a[O];if(Dn(L[0],this,N))return Dn(L[1],this,N)}})}function kE(a){return $p(Kn(a,y))}function cx(a){return function(){return a}}function jE(a,u){return a==null||a!==a?u:a}var CE=tu(),EE=tu(!0);function Cr(a){return a}function ux(a){return ea(typeof a=="function"?a:Kn(a,y))}function PE(a){return Hc(Kn(a,y))}function RE(a,u){return zt(a,Kn(u,y))}var TE=at(function(a,u){return function(v){return yr(v,a,u)}}),OE=at(function(a,u){return function(v){return yr(a,v,u)}});function dx(a,u,v){var N=On(u),O=Qi(u,N);v==null&&!(Xt(u)&&(O.length||!N.length))&&(v=u,u=a,a=this,O=Qi(u,On(u)));var L=!(Xt(v)&&"chain"in v)||!!v.chain,V=di(a);return Nn(O,function(J){var ee=u[J];a[J]=ee,V&&(a.prototype[J]=function(){var ve=this.__chain__;if(L||ve){var xe=a(this.__wrapped__),_e=xe.__actions__=$n(this.__actions__);return _e.push({func:ee,args:arguments,thisArg:a}),xe.__chain__=ve,xe}return ee.apply(a,Qs([this.value()],arguments))})}),a}function ME(){return Ft._===this&&(Ft._=Cp),this}function fx(){}function AE(a){return a=lt(a),at(function(u){return Vc(u,a)})}var IE=nu(Mt),DE=nu(Id),LE=nu($d);function fw(a){return Te(a)?zd(Fr(a)):Ht(a)}function $E(a){return function(u){return a==null?t:js(a,u)}}var FE=xf(),zE=xf(!0);function hx(){return[]}function px(){return!1}function UE(){return{}}function BE(){return""}function WE(){return!0}function HE(a,u){if(a=lt(a),a<1||a>B)return[];var v=z,N=kn(a,z);u=Ke(u),a-=z;for(var O=Bd(N,u);++v<a;)u(v);return O}function VE(a){return ot(a)?Mt(a,Fr):Br(a)?[a]:$n(Rf(Pt(a)))}function GE(a){var u=++Bi;return Pt(a)+u}var qE=hl(function(a,u){return a+u},0),KE=xn("ceil"),YE=hl(function(a,u){return a/u},1),JE=xn("floor");function XE(a){return a&&a.length?Qo(a,Cr,ao):t}function QE(a,u){return a&&a.length?Qo(a,Ke(u,2),ao):t}function ZE(a){return gp(a,Cr)}function eP(a,u){return gp(a,Ke(u,2))}function tP(a){return a&&a.length?Qo(a,Cr,lo):t}function nP(a,u){return a&&a.length?Qo(a,Ke(u,2),lo):t}var rP=hl(function(a,u){return a*u},1),sP=xn("round"),oP=hl(function(a,u){return a-u},0);function iP(a){return a&&a.length?Ud(a,Cr):0}function aP(a,u){return a&&a.length?Ud(a,Ke(u,2)):0}return I.after=K,I.ary=ce,I.assign=g2,I.assignIn=rw,I.assignInWith=bm,I.assignWith=v2,I.at=x2,I.before=we,I.bind=Se,I.bindAll=SE,I.bindKey=ye,I.castArray=UC,I.chain=xu,I.chunk=uu,I.compact=Tf,I.concat=Sr,I.cond=NE,I.conforms=kE,I.constant=cx,I.countBy=mm,I.create=y2,I.curry=Re,I.curryRight=Oe,I.debounce=Ae,I.defaults=w2,I.defaultsDeep=_2,I.defer=Jt,I.delay=se,I.difference=wt,I.differenceBy=pn,I.differenceWith=nn,I.drop=_n,I.dropRight=ar,I.dropRightWhile=da,I.dropWhile=ln,I.fill=bl,I.filter=_u,I.flatMap=Wf,I.flatMapDeep=Zv,I.flatMapDepth=xm,I.flatten=du,I.flattenDeep=Nl,I.flattenDepth=Jn,I.flip=Q,I.flow=CE,I.flowRight=EE,I.fromPairs=Of,I.functions=E2,I.functionsIn=P2,I.groupBy=Hf,I.initial=fu,I.intersection=Mf,I.intersectionBy=po,I.intersectionWith=hu,I.invert=T2,I.invertBy=O2,I.invokeMap=ym,I.iteratee=ux,I.keyBy=ex,I.keys=On,I.keysIn=jr,I.map=ui,I.mapKeys=A2,I.mapValues=I2,I.matches=PE,I.matchesProperty=RE,I.memoize=oe,I.merge=D2,I.mergeWith=sw,I.method=TE,I.methodOf=OE,I.mixin=dx,I.negate=ke,I.nthArg=AE,I.omit=L2,I.omitBy=$2,I.once=ze,I.orderBy=tx,I.over=IE,I.overArgs=qe,I.overEvery=DE,I.overSome=LE,I.partial=Ge,I.partialRight=Xe,I.partition=El,I.pick=F2,I.pickBy=ow,I.property=fw,I.propertyOf=$E,I.pull=pu,I.pullAll=jl,I.pullAllBy=Bn,I.pullAllWith=go,I.pullAt=zr,I.range=FE,I.rangeRight=zE,I.rearg=mn,I.reject=s,I.remove=Xn,I.rest=Nt,I.reverse=mu,I.sampleSize=f,I.set=U2,I.setWith=B2,I.shuffle=m,I.slice=If,I.sortBy=M,I.sortedUniq=$f,I.sortedUniqBy=ai,I.split=dE,I.spread=xo,I.tail=lm,I.take=cm,I.takeRight=Ff,I.takeRightWhile=gu,I.takeWhile=Wv,I.tap=Jv,I.throttle=rx,I.thru=Ur,I.toArray=ew,I.toPairs=iw,I.toPairsIn=aw,I.toPath=VE,I.toPlainObject=nw,I.transform=W2,I.unary=FC,I.union=Hv,I.unionBy=um,I.unionWith=dm,I.uniq=li,I.uniqBy=Vv,I.uniqWith=fa,I.unset=H2,I.unzip=vu,I.unzipWith=Vt,I.update=V2,I.updateWith=G2,I.values=Cu,I.valuesIn=q2,I.without=Gv,I.words=uw,I.wrap=zC,I.xor=fm,I.xorBy=qv,I.xorWith=Kv,I.zip=hm,I.zipObject=pm,I.zipObjectDeep=Yv,I.zipWith=Nr,I.entries=iw,I.entriesIn=aw,I.extend=rw,I.extendWith=bm,dx(I,I),I.add=qE,I.attempt=dw,I.camelCase=X2,I.capitalize=lw,I.ceil=KE,I.clamp=K2,I.clone=BC,I.cloneDeep=HC,I.cloneDeepWith=VC,I.cloneWith=WC,I.conformsTo=GC,I.deburr=cw,I.defaultTo=jE,I.divide=YE,I.endsWith=Q2,I.eq=Is,I.escape=Z2,I.escapeRegExp=eE,I.every=gm,I.find=bu,I.findIndex=ho,I.findKey=b2,I.findLast=vm,I.findLastIndex=Sl,I.findLastKey=S2,I.floor=JE,I.forEach=Su,I.forEachRight=Cl,I.forIn=N2,I.forInRight=k2,I.forOwn=j2,I.forOwnRight=C2,I.get=ix,I.gt=qC,I.gte=KC,I.has=R2,I.hasIn=ax,I.head=oi,I.identity=Cr,I.includes=Nu,I.indexOf=As,I.inRange=Y2,I.invoke=M2,I.isArguments=Pl,I.isArray=ot,I.isArrayBuffer=YC,I.isArrayLike=kr,I.isArrayLikeObject=cn,I.isBoolean=JC,I.isBuffer=ha,I.isDate=XC,I.isElement=QC,I.isEmpty=ZC,I.isEqual=e2,I.isEqualWith=t2,I.isError=sx,I.isFinite=n2,I.isFunction=di,I.isInteger=Jy,I.isLength=wm,I.isMap=Xy,I.isMatch=r2,I.isMatchWith=s2,I.isNaN=o2,I.isNative=i2,I.isNil=l2,I.isNull=a2,I.isNumber=Qy,I.isObject=Xt,I.isObjectLike=rn,I.isPlainObject=Vf,I.isRegExp=ox,I.isSafeInteger=c2,I.isSet=Zy,I.isString=_m,I.isSymbol=Br,I.isTypedArray=ju,I.isUndefined=u2,I.isWeakMap=d2,I.isWeakSet=f2,I.join=mo,I.kebabCase=tE,I.last=Un,I.lastIndexOf=kl,I.lowerCase=nE,I.lowerFirst=rE,I.lt=h2,I.lte=p2,I.max=XE,I.maxBy=QE,I.mean=ZE,I.meanBy=eP,I.min=tP,I.minBy=nP,I.stubArray=hx,I.stubFalse=px,I.stubObject=UE,I.stubString=BE,I.stubTrue=WE,I.multiply=rP,I.nth=Af,I.noConflict=ME,I.noop=fx,I.now=W,I.pad=sE,I.padEnd=oE,I.padStart=iE,I.parseInt=aE,I.random=J2,I.reduce=nx,I.reduceRight=ku,I.repeat=lE,I.replace=cE,I.result=z2,I.round=sP,I.runInContext=Z,I.sample=i,I.size=_,I.snakeCase=uE,I.some=S,I.sortedIndex=Df,I.sortedIndexBy=Bv,I.sortedIndexOf=vo,I.sortedLastIndex=am,I.sortedLastIndexBy=Lf,I.sortedLastIndexOf=ii,I.startCase=fE,I.startsWith=hE,I.subtract=oP,I.sum=iP,I.sumBy=aP,I.template=pE,I.times=HE,I.toFinite=fi,I.toInteger=lt,I.toLength=tw,I.toLower=mE,I.toNumber=hs,I.toSafeInteger=m2,I.toString=Pt,I.toUpper=gE,I.trim=vE,I.trimEnd=xE,I.trimStart=yE,I.truncate=wE,I.unescape=_E,I.uniqueId=GE,I.upperCase=bE,I.upperFirst=lx,I.each=Su,I.eachRight=Cl,I.first=oi,dx(I,function(){var a={};return or(I,function(u,v){St.call(I.prototype,v)||(a[v]=u)}),a}(),{chain:!1}),I.VERSION=r,Nn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(a){I[a].placeholder=I}),Nn(["drop","take"],function(a,u){st.prototype[a]=function(v){v=v===t?1:tn(lt(v),0);var N=this.__filtered__&&!u?new st(this):this.clone();return N.__filtered__?N.__takeCount__=kn(v,N.__takeCount__):N.__views__.push({size:kn(v,z),type:a+(N.__dir__<0?"Right":"")}),N},st.prototype[a+"Right"]=function(v){return this.reverse()[a](v).reverse()}}),Nn(["filter","map","takeWhile"],function(a,u){var v=u+1,N=v==me||v==ge;st.prototype[a]=function(O){var L=this.clone();return L.__iteratees__.push({iteratee:Ke(O,3),type:v}),L.__filtered__=L.__filtered__||N,L}}),Nn(["head","last"],function(a,u){var v="take"+(u?"Right":"");st.prototype[a]=function(){return this[v](1).value()[0]}}),Nn(["initial","tail"],function(a,u){var v="drop"+(u?"":"Right");st.prototype[a]=function(){return this.__filtered__?new st(this):this[v](1)}}),st.prototype.compact=function(){return this.filter(Cr)},st.prototype.find=function(a){return this.filter(a).head()},st.prototype.findLast=function(a){return this.reverse().find(a)},st.prototype.invokeMap=at(function(a,u){return typeof a=="function"?new st(this):this.map(function(v){return yr(v,a,u)})}),st.prototype.reject=function(a){return this.filter(ke(Ke(a)))},st.prototype.slice=function(a,u){a=lt(a);var v=this;return v.__filtered__&&(a>0||u<0)?new st(v):(a<0?v=v.takeRight(-a):a&&(v=v.drop(a)),u!==t&&(u=lt(u),v=u<0?v.dropRight(-u):v.take(u-a)),v)},st.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()},st.prototype.toArray=function(){return this.take(z)},or(st.prototype,function(a,u){var v=/^(?:filter|find|map|reject)|While$/.test(u),N=/^(?:head|last)$/.test(u),O=I[N?"take"+(u=="last"?"Right":""):u],L=N||/^find/.test(u);O&&(I.prototype[u]=function(){var V=this.__wrapped__,J=N?[1]:arguments,ee=V instanceof st,ve=J[0],xe=ee||ot(V),_e=function(vt){var _t=O.apply(I,Qs([vt],J));return N&&Ee?_t[0]:_t};xe&&v&&typeof ve=="function"&&ve.length!=1&&(ee=xe=!1);var Ee=this.__chain__,He=!!this.__actions__.length,Qe=L&&!Ee,ct=ee&&!He;if(!L&&xe){V=ct?V:new st(this);var Ze=a.apply(V,J);return Ze.__actions__.push({func:Ur,args:[_e],thisArg:t}),new jn(Ze,Ee)}return Qe&&ct?a.apply(this,J):(Ze=this.thru(_e),Qe?N?Ze.value()[0]:Ze.value():Ze)})}),Nn(["pop","push","shift","sort","splice","unshift"],function(a){var u=_s[a],v=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",N=/^(?:pop|shift)$/.test(a);I.prototype[a]=function(){var O=arguments;if(N&&!this.__chain__){var L=this.value();return u.apply(ot(L)?L:[],O)}return this[v](function(V){return u.apply(ot(V)?V:[],O)})}}),or(st.prototype,function(a,u){var v=I[u];if(v){var N=v.name+"";St.call(Gi,N)||(Gi[N]=[]),Gi[N].push({name:u,func:v})}}),Gi[aa(t,R).name]=[{name:"wrapper",func:t}],st.prototype.clone=Mc,st.prototype.reverse=Jd,st.prototype.value=Yi,I.prototype.at=yu,I.prototype.chain=ci,I.prototype.commit=wu,I.prototype.next=zf,I.prototype.plant=Xv,I.prototype.reverse=Bf,I.prototype.toJSON=I.prototype.valueOf=I.prototype.value=Qv,I.prototype.first=I.prototype.head,Ss&&(I.prototype[Ss]=Uf),I},zi=Av();Qr?((Qr.exports=zi)._=zi,Ha._=zi):Ft._=zi}).call(Z8)}(oh,oh.exports)),oh.exports}var tz=ez();function pd({bookingToEdit:n,selectedCell:e,allBookings:t,rooms:r,services:o,onClose:c,onBookingSaved:d}){var z;const{t:h,currentLanguage:p,formatCurrency:g}=Yr("booking"),x=[{value:"direct",label:h("sources.direct")},{value:"booking",label:"Booking.com"},{value:"airbnb",label:"Airbnb"},{value:"site",label:h("sources.website")},{value:"ai_agent",label:h("sources.aiAgent")},{value:"phone",label:h("sources.phone")},{value:"other",label:h("sources.other")}],y=[{value:"pending",label:h("status.pending")},{value:"confirmed",label:h("status.confirmed")},{value:"checked_in",label:h("status.checkedIn")},{value:"checked_out",label:h("status.checkedOut")},{value:"cancelled",label:h("status.cancelled")}],[b,C]=w.useState({}),[P,E]=w.useState([]),[k,R]=w.useState([]),[j,T]=w.useState(!1),[A,D]=w.useState("");w.useEffect(()=>{var q,ie,ue;console.log("🚀 Initializing modal with:",{bookingToEdit:n,selectedCell:e});const U=n?{...n,room_id:String(n.room_id),check_in:Ue(yt(n.check_in),"yyyy-MM-dd"),check_out:Ue(yt(n.check_out),"yyyy-MM-dd"),guest_name:((q=n.guests)==null?void 0:q.full_name)||"",guest_phone:((ie=n.guests)==null?void 0:ie.phone)||"",guest_email:((ue=n.guests)==null?void 0:ue.email)||"",guests_count:n.guests_count||n.guest_count||1}:{source:"direct",status:"pending",guests_count:1,amount_paid:0,notes:"",room_id:String((e==null?void 0:e.roomId)||(r.length>0?r[0].id:"")),check_in:Ue((e==null?void 0:e.checkIn)||new Date,"yyyy-MM-dd"),check_out:Ue((e==null?void 0:e.checkOut)||new Date,"yyyy-MM-dd"),guest_name:"",guest_phone:"",guest_email:""};C(U),n!=null&&n.booking_services?(console.log("📋 Loading existing services:",n.booking_services),R(n.booking_services)):R([]),E([]),D("")},[n,e,r]),w.useEffect(()=>{n&&b.booking_services&&JSON.stringify(b.booking_services)!==JSON.stringify(k)&&(console.log("🔄 Updating services from formData:",b.booking_services),R(b.booking_services))},[b.booking_services,n,k]);const{accommodationTotal:H,servicesTotal:F,totalAmount:$,nights:G}=w.useMemo(()=>{const U=r.find(Ie=>Ie.id===b.room_id),q=(U==null?void 0:U.price_per_night)||0,ie=b.check_in?new Date(b.check_in):null,ue=b.check_out?new Date(b.check_out):null,he=ie&&ue&&ue>ie?ky(ue,ie):0,te=he*q,fe=P.reduce((Ie,Je)=>Ie+(Je.price_at_booking||0)*Je.quantity,0),Ne=k.reduce((Ie,Je)=>Ie+(Je.price_at_booking||0)*Je.quantity,0),Ce=fe+Ne,Be=te+Ce;return{accommodationTotal:te,servicesTotal:Ce,totalAmount:Be,nights:he}},[b.check_in,b.check_out,b.room_id,P,k,r]),X=w.useMemo(()=>{if(!b.check_in||!b.check_out)return r;const U=new Date(b.check_in),q=new Date(b.check_out);if(q<=U)return r;const ie=(t||[]).filter(ue=>{if(n&&ue.id===n.id||ue.status==="cancelled"||!ue.check_in||!ue.check_out)return!1;const he=new Date(ue.check_in),te=new Date(ue.check_out);return U<te&&q>he}).map(ue=>ue.room_id);return r.filter(ue=>!ie.includes(ue.id))},[b.check_in,b.check_out,t,r,n]),ne=w.useMemo(()=>tz.groupBy(o,"category"),[o]),ae=(U,q)=>{console.log(`📝 Field changed: ${U} = ${q}`),C(ie=>({...ie,[U]:q}))},pe=async U=>{U.preventDefault(),T(!0),D("");try{if(!b.guest_name.trim())throw new Error(h("errors.guestNameRequired"));if(console.log("💾 Saving booking with data:",b),n){const q={full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},ie={source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:H,services_total:k.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0),total_amount:H+k.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0)};console.log("🔄 Updating guest:",q);const{error:ue}=await q8(n.guest_id,q);if(ue)throw ue;console.log("🔄 Updating booking:",ie);const{error:he}=await Gy(n.id,ie);if(he)throw he}else{const q={guest_details:{full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:H,services_total:0,total_amount:H};console.log("🆕 Creating booking:",q);const ie=await G8(q);if(ie.error)throw ie.error}console.log("✅ Booking saved successfully"),d()}catch(q){console.error("❌ Error saving booking:",q),D(q.message)}finally{T(!1)}},me=async()=>{if(window.confirm(h("messages.confirmDelete"))){T(!0),D("");try{console.log("🗑️ Deleting booking:",n.id);const{error:U}=await K8(n.id);if(U)throw U;console.log("✅ Booking deleted successfully"),d()}catch(U){console.error("❌ Error deleting booking:",U),D(U.message)}finally{T(!1)}}},je=U=>{if(console.log("🛒 Adding service to cart:",U),P.find(q=>q.service_id===U.id)){console.log("⚠️ Service already in cart");return}E(q=>[...q,{service_id:U.id,name:U.name,quantity:1,price_at_booking:U.price}])},ge=U=>{console.log("🗑️ Removing service from cart:",U),E(q=>q.filter(ie=>ie.service_id!==U))},be=(U,q,ie)=>{console.log(`📝 Cart service changed: ${U}.${q} = ${ie}`),E(ue=>ue.map(he=>he.service_id===U?{...he,[q]:ie}:he))},B=async()=>{if(!n||P.length===0){console.log("⚠️ No booking to edit or empty cart");return}T(!0),D("");try{console.log("💾 Adding services to booking:",{bookingId:n.id,services:P}),await Y8(n.id,P),console.log("✅ Services added successfully"),E([]),d()}catch(U){console.error("❌ Error adding services:",U),D(U.message||"Ошибка при добавлении услуг")}finally{T(!1)}},Y=async U=>{T(!0),D("");try{console.log("🗑️ Removing booked service:",U);const q=await J8(U);if(q.error)throw q.error;console.log("✅ Service removed successfully"),d()}catch(q){console.error("❌ Error removing service:",q),D(q.message||"Ошибка при удалении услуги")}finally{T(!1)}},re=p==="ru"?"RUB":"USD";return l.jsx(My,{open:!0,onOpenChange:c,children:l.jsxs(tv,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(nv,{children:[l.jsx(rv,{className:"text-xl font-semibold",children:n?`${h("editTitle")} №${(z=n.id)==null?void 0:z.substring(0,8)}`:h("title")}),l.jsx(Iy,{children:n?"Редактирование существующей брони":"Создание новой брони"})]}),l.jsxs(Ag,{defaultValue:"details",children:[l.jsxs(Ih,{className:"grid w-full grid-cols-2",children:[l.jsx(ps,{value:"details",children:h("tabs.details")}),l.jsx(ps,{value:"services",disabled:!n,children:h("tabs.services")})]}),l.jsx(ms,{value:"details",children:l.jsxs("form",{onSubmit:pe,className:"space-y-6 p-1",children:[A&&l.jsxs(Si,{variant:"destructive",children:[l.jsx(Sa,{className:"h-4 w-4"}),l.jsx(Ni,{children:A})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx("div",{className:"md:col-span-1 space-y-4",children:l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center",children:[l.jsx(Co,{className:"mr-2 h-5 w-5"}),h("guest.title")]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{children:h("guest.fullName")}),l.jsx(gt,{value:b.guest_name||"",onChange:U=>ae("guest_name",U.target.value),required:!0})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("guest.phone")}),l.jsx(gt,{value:b.guest_phone||"",onChange:U=>ae("guest_phone",U.target.value)})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("guest.email")}),l.jsx(gt,{type:"email",value:b.guest_email||"",onChange:U=>ae("guest_email",U.target.value)})]})]})]})}),l.jsx("div",{className:"md:col-span-1 space-y-4",children:l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center",children:[l.jsx(lg,{className:"mr-2 h-5 w-5"}),h("details.title")]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.room")}),l.jsxs(Xm,{value:b.room_id||"",onValueChange:U=>ae("room_id",U),children:[l.jsx(dh,{children:l.jsx(Qm,{placeholder:h("details.selectRoom")})}),l.jsxs(fh,{children:[X.map(U=>l.jsxs(Bl,{value:String(U.id),children:[U.room_number," (",U.room_type,")"]},U.id)),X.length===0&&l.jsx("div",{className:"p-2 text-sm text-slate-500",children:h("details.noAvailableRooms")})]})]})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.checkIn")}),l.jsx(gt,{type:"date",value:b.check_in||"",onChange:U=>ae("check_in",U.target.value)})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.checkOut")}),l.jsx(gt,{type:"date",value:b.check_out||"",onChange:U=>ae("check_out",U.target.value)})]})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.guestCount")}),l.jsx(gt,{type:"number",min:"1",value:b.guests_count||1,onChange:U=>ae("guests_count",U.target.value)})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.status")}),l.jsxs(Xm,{value:b.status||"pending",onValueChange:U=>ae("status",U),children:[l.jsx(dh,{children:l.jsx(Qm,{})}),l.jsx(fh,{children:y.map(U=>l.jsx(Bl,{value:U.value,children:U.label},U.value))})]})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.source")}),l.jsxs(Xm,{value:b.source||"direct",onValueChange:U=>ae("source",U),children:[l.jsx(dh,{children:l.jsx(Qm,{})}),l.jsx(fh,{children:x.map(U=>l.jsx(Bl,{value:U.value,children:U.label},U.value))})]})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("details.notes")}),l.jsx(Ly,{value:b.notes||"",onChange:U=>ae("notes",U.target.value),placeholder:h("details.notesPlaceholder")})]})]})]})}),l.jsx("div",{className:"md:col-span-1 space-y-4",children:l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:h("finance.title")})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2 text-sm",children:[l.jsxs("div",{className:"flex justify-between",children:[l.jsx("span",{children:h("finance.accommodation",{nights:G})}),l.jsx("span",{className:"font-medium",children:g(H,re)})]}),l.jsx("div",{className:"font-medium mt-2",children:h("finance.orderedServices")}),k.length>0?k.map(U=>{var q;return l.jsxs("div",{className:"flex justify-between pl-2",children:[l.jsxs("span",{children:[((q=U.services)==null?void 0:q.name)||U.name," x ",U.quantity]}),l.jsx("span",{children:g(U.price_at_booking*U.quantity,re)})]},U.id)}):null,P.length>0&&l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs text-blue-600 font-medium mt-2",children:"В корзине:"}),P.map(U=>l.jsxs("div",{className:"flex justify-between pl-2 text-blue-600",children:[l.jsxs("span",{children:[U.name," x ",U.quantity]}),l.jsx("span",{children:g(U.price_at_booking*U.quantity,re)})]},U.service_id))]}),k.length===0&&P.length===0&&l.jsx("p",{className:"text-slate-500 pl-2",children:h("finance.noServices")}),l.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 mt-2",children:[l.jsx("span",{children:h("finance.total")}),l.jsx("span",{children:g($,re)})]})]}),l.jsxs("div",{children:[l.jsx(Wt,{children:h("finance.paid")}),l.jsx(gt,{type:"number",value:b.amount_paid||0,onChange:U=>ae("amount_paid",U.target.value),placeholder:"0"})]}),l.jsx("div",{className:"p-4 bg-red-50 rounded-lg text-red-800",children:l.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[l.jsx("span",{children:h("finance.balance")}),l.jsx("span",{children:g($-(b.amount_paid||0),re)})]})})]})]})})]}),l.jsxs(Ay,{children:[n&&l.jsxs(nt,{type:"button",variant:"destructive",onClick:me,disabled:j,className:"mr-auto",children:[l.jsx(Mx,{className:"h-4 w-4 mr-2"}),h("actions.delete")]}),l.jsx(nt,{type:"button",variant:"ghost",onClick:c,children:h("actions.cancel")}),l.jsx(nt,{type:"submit",disabled:j,children:h(j?"actions.saving":"actions.save")})]})]})}),l.jsx(ms,{value:"services",children:l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:h("services.available")})}),l.jsx(Ye,{className:"space-y-2 max-h-96 overflow-y-auto",children:l.jsx(V8,{type:"multiple",defaultValue:Object.keys(ne),children:Object.entries(ne).map(([U,q])=>l.jsxs(vC,{value:U,children:[l.jsx(xC,{children:U}),l.jsx(yC,{children:q.map(ie=>l.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:ie.name}),l.jsx("p",{className:"text-sm text-slate-500",children:g(ie.price,re)})]}),l.jsxs(nt,{size:"sm",variant:"outline",onClick:()=>je(ie),disabled:j||P.find(ue=>ue.service_id===ie.id),children:[l.jsx(RI,{className:"h-4 w-4 mr-2"}),h("services.addToCart")]})]},ie.id))})]},U))})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:h("services.cart")})}),l.jsxs(Ye,{className:"space-y-2 max-h-96 overflow-y-auto",children:[P.length>0?P.map(U=>l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:U.name}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[l.jsx(gt,{type:"number",min:"1",value:U.quantity,onChange:q=>be(U.service_id,"quantity",parseInt(q.target.value)||1),className:"w-16 h-8"}),l.jsx(gt,{type:"number",min:"0",step:"0.01",value:U.price_at_booking,onChange:q=>be(U.service_id,"price_at_booking",parseFloat(q.target.value)||0),className:"w-24 h-8"})]})]}),l.jsx(nt,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>ge(U.service_id),children:l.jsx(Mx,{className:"h-4 w-4"})})]},U.service_id)):l.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.cartEmpty")}),P.length>0&&l.jsx(nt,{onClick:B,disabled:j,className:"w-full mt-4",children:h(j?"actions.saving":"services.addSelected")})]}),l.jsx(ft,{children:l.jsx(ht,{children:h("services.ordered")})}),l.jsx(Ye,{className:"space-y-2 max-h-96 overflow-y-auto",children:k.length>0?k.map(U=>{var q;return l.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[l.jsxs("div",{children:[l.jsxs("p",{children:[((q=U.services)==null?void 0:q.name)||U.name," x ",U.quantity]}),l.jsx("p",{className:"text-sm text-slate-500",children:g(U.price_at_booking*U.quantity,re)})]}),l.jsx(nt,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>Y(U.id),disabled:j,children:l.jsx(Mx,{className:"h-4 w-4"})})]},U.id)}):l.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.noOrdered")})})]})]})})]})]})})}function nz({bookings:n,onNavigate:e}){const t=w.useMemo(()=>{const o=new Date,c=Ue(o,"yyyy-MM-dd"),d=n.filter(k=>k.status!=="cancelled"),h=d.filter(k=>Ue(yt(k.check_in),"yyyy-MM-dd")===c),p=d.filter(k=>Ue(yt(k.check_out),"yyyy-MM-dd")===c),g=d.filter(k=>{const R=yt(k.check_in),j=yt(k.check_out);return R<=o&&j>o}),x=d.filter(k=>{var R;if((R=k.guests)!=null&&R.birthday){const j=yt(k.guests.birthday);return Ue(j,"MM-dd")===Ue(o,"MM-dd")}return!1}),y=0,b=21,C=g.length,P=b-C,E=b>0?Math.round(C/b*100):0;return{checkIns:h.length,checkOuts:p.length,currentStays:g.length,birthdays:x.length,tasks:y,totalRooms:b,freeRooms:P,occupiedRooms:C,occupancyRate:E}},[n]),r=o=>{const d={checkins:"/Arrivals",checkouts:"/Departures",stays:"/Stays",birthdays:"/Birthdays",tasks:"/Tasks"}[o];d&&e&&e(d)};return l.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm",children:[l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkins"),children:[l.jsx(Xu,{className:"h-4 w-4 text-green-500"}),l.jsx("span",{className:"text-slate-600",children:"Заезды"}),l.jsx("span",{className:"font-semibold text-green-500",children:t.checkIns})]}),l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkouts"),children:[l.jsx(_a,{className:"h-4 w-4 text-blue-500"}),l.jsx("span",{className:"text-slate-600",children:"Выезды"}),l.jsx("span",{className:"font-semibold text-blue-500",children:t.checkOuts})]}),l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("stays"),children:[l.jsx(rd,{className:"h-4 w-4 text-purple-500"}),l.jsx("span",{className:"text-slate-600",children:"Проживание"}),l.jsx("span",{className:"font-semibold text-purple-500",children:t.currentStays})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("birthdays"),children:[l.jsx(w0,{className:"h-4 w-4 text-pink-500"}),l.jsx("span",{className:"text-slate-600",children:"Дни рождения"}),l.jsx("span",{className:"font-semibold text-pink-500",children:t.birthdays})]}),l.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("tasks"),children:[l.jsx(_0,{className:"h-4 w-4 text-orange-500"}),l.jsx("span",{className:"text-slate-600",children:"Задачи"}),l.jsx("span",{className:"font-semibold text-orange-500",children:t.tasks})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-600",children:"Свободно номеров"}),l.jsxs("span",{className:"font-semibold text-green-500",children:[t.freeRooms," (0)"]})]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-600",children:"Занято номеров"}),l.jsxs("span",{className:"font-semibold text-red-500",children:[t.occupiedRooms," (",t.occupiedRooms,")"]})]}),l.jsxs("div",{className:"space-y-1",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"text-slate-600",children:"Загрузка"}),l.jsxs("span",{className:"font-semibold text-blue-500",children:[t.occupancyRate,"%"]})]}),l.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${Math.min(t.occupancyRate,100)}%`}})})]})]})]})}var rz="Separator",O1="horizontal",sz=["horizontal","vertical"],wC=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=O1,...o}=n,c=oz(r)?r:O1,h=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return l.jsx(et.div,{"data-orientation":c,...h,...o,ref:e})});wC.displayName=rz;function oz(n){return sz.includes(n)}var _C=wC;const hh=w.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>l.jsx(_C,{ref:o,decorative:t,orientation:e,className:Fe("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));hh.displayName=_C.displayName;function iz({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(Ue(new Date,"yyyy-MM-dd")),[c,d]=w.useState(!1),[h,p]=w.useState({auto:{bookingsCount:0,checkInsCount:0,checkOutsCount:0,currentOccupancy:0,totalRevenue:0,servicesRevenue:0},manual:{income:{hotel:130600,restaurant:2200,bank_account:582e3,expenses:24e3,currency_exchange_in:0,currency_exchange_out:0},expenses:{products:28019,laundry:4400,household_expenses:0,transport:500,gas:0,bottled_water:0,utilities_security:35e3,rent_yohan_house:15e3,electricity:0,gas_state:0,internet:0,workers:24e3,repair:0,equipment_pump:0,service:0,additional:{utilities_management:0,hotel_chemistry:0,pool_chemistry:0,booking_exely:632e3,bonuses_management:0,laundry_service:0}}}});w.useEffect(()=>{g()},[r]);const g=async()=>{d(!0);try{const k=new Date(r),R=ba(k),j=m5(k),T=await Uh(R,j);if(T.error)throw T.error;const A=T.data||[],D=A.filter(ae=>Ue(yt(ae.check_in),"yyyy-MM-dd")===r),H=A.filter(ae=>Ue(yt(ae.check_out),"yyyy-MM-dd")===r),F=A.filter(ae=>{const pe=yt(ae.check_in),me=yt(ae.check_out);return pe<=k&&me>k}),$=A.reduce((ae,pe)=>ae+(pe.total_amount||0),0),G=A.reduce((ae,pe)=>ae+(pe.services_total||0),0),ne=(await Q8(r)).data;p(ae=>({auto:{bookingsCount:A.length,checkInsCount:D.length,checkOutsCount:H.length,currentOccupancy:F.length,totalRevenue:$,servicesRevenue:G},manual:ne?{income:ne.income_data||ae.manual.income,expenses:ne.expenses_data||ae.manual.expenses}:ae.manual}))}catch(k){console.error("Error loading report data:",k)}finally{d(!1)}},x=w.useMemo(()=>{const k=Object.values(h.manual.income).reduce((j,T)=>j+(parseFloat(T)||0),0),R=Object.values(h.manual.expenses).reduce((j,T)=>typeof T=="object"?j+Object.values(T).reduce((A,D)=>A+(parseFloat(D)||0),0):j+(parseFloat(T)||0),0);return{income:k,expenses:R,profit:k-R,cashEnd:453165}},[h.manual]),y=(k,R,j)=>{p(T=>({...T,manual:{...T.manual,[k]:{...T.manual[k],[R]:parseFloat(j)||0}}}))},b=(k,R)=>{p(j=>({...j,manual:{...j.manual,expenses:{...j.manual.expenses,additional:{...j.manual.expenses.additional,[k]:parseFloat(R)||0}}}}))},C=async()=>{try{d(!0),console.log("💾 Saving daily report for date:",r);const k=await X8(r,h);if(k.error)throw k.error;console.log("✅ Daily report saved successfully"),alert("Отчет успешно сохранен!")}catch(k){console.error("❌ Error saving report:",k),alert(`Ошибка сохранения отчета: ${k.message}`)}finally{d(!1)}},P=()=>{window.print()},E=k=>{alert(`Экспорт в ${k} будет реализован в следующем обновлении`)};return l.jsx(My,{open:n,onOpenChange:e,children:l.jsxs(tv,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[l.jsx(nv,{children:l.jsxs(rv,{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(Dh,{className:"h-6 w-6 text-blue-600"}),"Ежедневный отчет"]})}),l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(Wt,{htmlFor:"report-date",className:"text-sm font-medium",children:"Дата отчета:"}),l.jsx(gt,{id:"report-date",type:"date",value:r,onChange:k=>o(k.target.value),className:"w-48"}),c&&l.jsx("span",{className:"text-sm text-slate-500",children:"Загрузка данных..."})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2 text-green-600",children:[l.jsx(vS,{className:"h-5 w-5"}),"Приход"]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"Отель"}),l.jsx(gt,{type:"number",value:h.manual.income.hotel,onChange:k=>y("income","hotel",k.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"Рестик"}),l.jsx(gt,{type:"number",value:h.manual.income.restaurant,onChange:k=>y("income","restaurant",k.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"С расчетного счета"}),l.jsx(gt,{type:"number",value:h.manual.income.bank_account,onChange:k=>y("income","bank_account",k.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"Затраки"}),l.jsx(gt,{type:"number",value:h.manual.income.expenses,onChange:k=>y("income","expenses",k.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"Обмен в рубли"}),l.jsx(gt,{type:"number",value:h.manual.income.currency_exchange_in,onChange:k=>y("income","currency_exchange_in",k.target.value),className:"mt-1"})]}),l.jsxs("div",{children:[l.jsx(Wt,{className:"text-xs text-slate-500",children:"Обмен из рублей"}),l.jsx(gt,{type:"number",value:h.manual.income.currency_exchange_out,onChange:k=>y("income","currency_exchange_out",k.target.value),className:"mt-1"})]})]}),l.jsx(hh,{}),l.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[l.jsx("span",{children:"Итого приход:"}),l.jsxs("span",{className:"text-green-600",children:[x.income.toLocaleString()," ₽"]})]})]})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2 text-red-600",children:[l.jsx(AD,{className:"h-5 w-5"}),"Расход"]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[Object.entries(h.manual.expenses).map(([k,R])=>{if(k==="additional")return null;const j={products:"Продукты",laundry:"Пани",household_expenses:"Хоз расход",transport:"Проезд",gas:"Газ",bottled_water:"Вода бутылированная",utilities_security:"З/п сотрудники самана охрана",rent_yohan_house:"Аренда жилья Йохан Дом",electricity:"Электричество",gas_state:"Вода гос",internet:"Интернет",workers:"Рабочие",repair:"Ремонт",equipment_pump:"Оборудование насос машинка",service:"Сервис"};return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Wt,{className:"text-xs text-slate-600 flex-1",children:j[k]}),l.jsx(gt,{type:"number",value:R,onChange:T=>y("expenses",k,T.target.value),className:"w-24 h-8 text-xs"})]},k)}),l.jsx(hh,{}),l.jsx("div",{className:"text-xs font-medium text-slate-700 mt-4",children:"Дополнительно"}),Object.entries(h.manual.expenses.additional).map(([k,R])=>{const j={utilities_management:"З/п управл",hotel_chemistry:"Химия отель",pool_chemistry:"Химия бассейн",booking_exely:"Букинг Exely",bonuses_management:"Бонусы Управляющие",laundry_service:"Прачедная"};return l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx(Wt,{className:"text-xs text-slate-600 flex-1",children:j[k]}),l.jsx(gt,{type:"number",value:R,onChange:T=>b(k,T.target.value),className:"w-24 h-8 text-xs"})]},k)})]}),l.jsx(hh,{}),l.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[l.jsx("span",{children:"Итого расход:"}),l.jsxs("span",{className:"text-red-600",children:[x.expenses.toLocaleString()," ₽"]})]})]})]})]}),l.jsx(Ve,{className:"bg-slate-50",children:l.jsx(Ye,{className:"p-6",children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-green-600",children:x.income.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Общий приход"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-red-600",children:x.expenses.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Общий расход"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:`text-2xl font-bold ${x.profit>=0?"text-green-600":"text-red-600"}`,children:x.profit.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Прибыль/Убыток"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-2xl font-bold text-blue-600",children:x.cashEnd.toLocaleString()}),l.jsx("div",{className:"text-sm text-slate-600",children:"Остаток в кассе"})]})]})})}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(hS,{className:"h-5 w-5 text-blue-600"}),"Данные из системы"]})}),l.jsx(Ye,{children:l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Общая выручка за день"}),l.jsxs("div",{className:"text-lg font-bold text-green-600",children:[h.auto.totalRevenue.toLocaleString()," ₽"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Выручка от услуг"}),l.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[h.auto.servicesRevenue.toLocaleString()," ₽"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Загрузка номеров"}),l.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[h.auto.currentOccupancy," номеров"]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Заезды за день"}),l.jsx("div",{className:"text-lg font-bold text-green-600",children:h.auto.checkInsCount})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Выезды за день"}),l.jsx("div",{className:"text-lg font-bold text-blue-600",children:h.auto.checkOutsCount})]}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium",children:"Всего броней"}),l.jsx("div",{className:"text-lg font-bold text-slate-600",children:h.auto.bookingsCount})]})]})})]})]}),l.jsxs(Ay,{className:"space-x-2",children:[l.jsx(nt,{variant:"outline",onClick:e,children:"Закрыть"}),l.jsxs(nt,{variant:"outline",onClick:()=>alert("История изменений пока не реализована"),children:[l.jsx(JI,{className:"h-4 w-4 mr-2"}),"История"]}),l.jsxs(nt,{variant:"outline",onClick:P,children:[l.jsx(vD,{className:"h-4 w-4 mr-2"}),"Печать"]}),l.jsxs("div",{className:"relative",children:[l.jsxs(nt,{variant:"outline",onClick:()=>{document.getElementById("export-menu").classList.toggle("hidden")},children:[l.jsx(pS,{className:"h-4 w-4 mr-2"}),"Сохранить"]}),l.jsxs("div",{id:"export-menu",className:"hidden absolute bottom-full left-0 mb-2 bg-white border rounded-lg shadow-lg z-50",children:[l.jsx("button",{onClick:()=>E("PDF"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"PDF"}),l.jsx("button",{onClick:()=>E("Word"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Word"}),l.jsx("button",{onClick:()=>E("Excel"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Excel"})]})]}),l.jsxs(nt,{onClick:C,disabled:c,children:[l.jsx(gS,{className:"h-4 w-4 mr-2"}),c?"Сохранение...":"Сохранить"]})]})]})})}const az=[{id:"daily",name:"Ежедневный отчет",description:"Детальный отчет за день: доходы, расходы, загрузка",icon:Dh,color:"from-blue-500 to-blue-600",available:!0},{id:"weekly",name:"Недельный отчет",description:"Сводка за неделю с анализом трендов",icon:xI,color:"from-green-500 to-green-600",available:!1},{id:"monthly",name:"Месячный отчет",description:"Полная финансовая отчетность за месяц",icon:vS,color:"from-purple-500 to-purple-600",available:!1},{id:"financial",name:"Финансовый отчет",description:"Подробный анализ доходов и расходов",icon:hS,color:"from-orange-500 to-orange-600",available:!1}];function lz({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(null),[c,d]=w.useState(!1),h=g=>{g.id==="daily"?d(!0):alert(`${g.name} будет доступен в следующих обновлениях`)},p=()=>{d(!1),e()};return c?l.jsx(iz,{isOpen:!0,onClose:p,bookings:t}):l.jsx(My,{open:n,onOpenChange:e,children:l.jsxs(tv,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsxs(nv,{children:[l.jsxs(rv,{className:"text-2xl font-bold flex items-center gap-2",children:[l.jsx(lg,{className:"h-6 w-6 text-blue-600"}),"Отчеты"]}),l.jsx(Iy,{children:"Выберите тип отчета для генерации"})]}),l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:az.map(g=>{const x=g.icon;return l.jsxs(Ve,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${g.available?"hover:scale-105 border-2 border-transparent hover:border-blue-200":"opacity-60 cursor-not-allowed"}`,onClick:()=>g.available&&h(g),children:[l.jsx(ft,{className:"pb-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${g.color} text-white`,children:l.jsx(x,{className:"h-6 w-6"})}),l.jsx("div",{className:"flex-1",children:l.jsxs(ht,{className:"text-lg font-semibold text-slate-800",children:[g.name,!g.available&&l.jsx("span",{className:"ml-2 text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded",children:"Скоро"})]})})]})}),l.jsxs(Ye,{children:[l.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:g.description}),g.available&&l.jsx("div",{className:"mt-4",children:l.jsx(nt,{size:"sm",className:`bg-gradient-to-r ${g.color} hover:opacity-90`,onClick:y=>{y.stopPropagation(),h(g)},children:"Создать отчет"})})]})]},g.id)})}),l.jsx("div",{className:"p-4 bg-slate-50 rounded-lg mx-4 mb-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:l.jsx(lg,{className:"h-5 w-5 text-blue-600"})}),l.jsxs("div",{children:[l.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Возможности отчетов:"}),l.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[l.jsx("li",{children:"• Автоматическая загрузка данных из системы"}),l.jsx("li",{children:"• Возможность ручного редактирования всех полей"}),l.jsx("li",{children:"• Сохранение истории изменений"}),l.jsx("li",{children:"• Экспорт в PDF, Word, Excel"}),l.jsx("li",{children:"• Печать готовых отчетов"})]})]})]})})]})})}function F0(){const[n,e]=w.useState([]),[t,r]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState(Um(new Date)),[p,g]=w.useState(!0),[x,y]=w.useState(""),[b,C]=w.useState(!1),[P,E]=w.useState(null),[k,R]=w.useState(null),[j,T]=w.useState(!1),{signOut:A}=Th(),{t:D,currentLanguage:H}=Yr("dashboard"),F=Z1(),$=H==="ru"?dr:Oo,G=async()=>{try{await A()}catch(Y){console.error("Error signing out:",Y)}},X=w.useCallback(async(Y,re)=>{g(!0),y("");try{console.log("🔄 Fetching bookings for range:",{startDate:Y,endDate:re});const z=await Uh(Y,re);if(z.error)throw z.error;const U=z.data||[];console.log("📊 Loaded bookings with services:",U.map(q=>{var ie,ue;return{id:q.id.substring(0,8),guest:(ie=q.guests)==null?void 0:ie.full_name,services:((ue=q.booking_services)==null?void 0:ue.length)||0}})),e(U)}catch(z){console.error("❌ Error loading bookings:",z),y(D("errors.loadingBookings",{error:z.message}))}finally{g(!1)}},[D]);w.useEffect(()=>{const Y=Um(d),re=Jx(d);X(Y,re)},[d,X]),w.useEffect(()=>{(async()=>{try{const[re,z]=await Promise.all([Hy(),Vy()]);if(re.error)throw re.error;if(z.error)throw z.error;const U=re.data||[],q=z.data||[];console.log("🏨 Loaded rooms:",U),console.log("🛎️ Loaded services:",q),r(U),c(q)}catch(re){console.error("Error loading static data:",re),y(D("errors.loadingData",{error:re.message}))}})()},[D]);const ne=async(Y,re,z)=>{var U;try{console.log(`🔄 Обновляем цену: комната ${Y}, дата ${re}, цена $${z}`);const q=t.find(te=>te.id===Y);if(!q)throw new Error(`Room with id ${Y} not found`);const ie=await Vr.getRatePlans();if(!ie.data||ie.data.length===0){console.warn("⚠️ No rate plans found in Channex, updating local price only");return}const ue=ie.data.find(te=>{var Be,Ie;const fe=((Be=te.attributes)==null?void 0:Be.title)||te.title||"",Ne=q.room_number||q.name||"",Ce=q.room_type||"";return fe.includes(Ne)||fe.includes(Ce)||((Ie=te.attributes)==null?void 0:Ie.room_type_id)&&te.attributes.room_type_id===q.channex_room_type_id});if(!ue){console.warn(`⚠️ Rate plan not found for room ${q.room_number}, updating local price only`);return}const he=((U=ue.attributes)==null?void 0:U.id)||ue.id;await Vr.setRates(he,re,re,[{occupancy:1,rate:z},{occupancy:2,rate:z}]),console.log(`✅ Цена успешно обновлена в Channex для rate plan ${he}`)}catch(q){console.error("❌ Ошибка обновления цены в Channex:",q);const ie=q.message||"Неизвестная ошибка";console.warn(`⚠️ Channex update failed: ${ie}. Price updated locally only.`)}},ae=w.useCallback(()=>{console.log("📝 Booking saved, refreshing data..."),C(!1),E(null),R(null);const Y=Um(d),re=Jx(d);X(Y,re)},[d,X]),pe=w.useCallback((Y,re)=>{console.log("🎯 Cell clicked:",{roomId:Y,date:re}),E({roomId:Y,checkIn:re,checkOut:m1(re,1)}),R(null),C(!0)},[]),me=w.useCallback(Y=>{console.log("📋 Booking clicked:",Y),R(Y),E(null),C(!0)},[]),je=w.useCallback((Y,re,z)=>{console.log("🎯 Selection ended:",{roomId:Y,checkIn:re,checkOut:z}),E({roomId:Y,checkIn:re,checkOut:z}),R(null),C(!0)},[]),ge=Y=>{h(re=>m1(re,Y))},be=Y=>{console.log("📊 Statistics navigation to:",Y),F(Y)},B=g5({start:Um(d),end:Jx(d)});return p&&t.length===0?l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(yi,{className:"h-8 w-32"}),l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(yi,{className:"h-10 w-10"}),l.jsx(yi,{className:"h-10 w-32"}),l.jsx(yi,{className:"h-10 w-10"})]})]}),l.jsx(Ve,{className:"p-6",children:l.jsx(yi,{className:"h-[60vh] w-full"})})]}):l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:D("title")}),l.jsx("p",{className:"text-slate-600 mt-1",children:D("subtitle")})]}),l.jsx(YN,{})]}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center space-x-4",children:[l.jsxs("div",{className:"flex items-center space-x-2",children:[l.jsx(nt,{variant:"outline",size:"icon",onClick:()=>ge(-1),title:D("navigation.previousMonth"),children:l.jsx(SI,{className:"h-4 w-4"})}),l.jsx("div",{className:"min-w-[160px] text-center",children:l.jsx("span",{className:"text-lg font-semibold text-slate-800",children:Ue(d,"LLLL yyyy",{locale:$})})}),l.jsx(nt,{variant:"outline",size:"icon",onClick:()=>ge(1),title:D("navigation.nextMonth"),children:l.jsx(dS,{className:"h-4 w-4"})})]}),l.jsxs(nt,{onClick:()=>{R(null),E(null),C(!0)},children:[l.jsx(ey,{className:"h-4 w-4 mr-2"}),D("actions.newReservation")]}),l.jsxs(nt,{variant:"outline",onClick:()=>T(!0),children:[l.jsx(lg,{className:"h-4 w-4 mr-2"}),"Отчет"]})]}),l.jsx(nz,{bookings:n,onNavigate:be}),l.jsx("div",{className:"flex items-center space-x-2",children:l.jsx(nt,{variant:"outline",size:"icon",onClick:G,title:D("actions.signOut"),children:l.jsx(_a,{className:"h-4 w-4 text-slate-600"})})})]}),x&&l.jsx(Si,{variant:"destructive",children:l.jsx(Ni,{children:x})}),l.jsx(Ve,{className:"booking-grid overflow-hidden",children:t.length>0?l.jsx(MF,{rooms:t,bookings:n,days:B,onCellClick:pe,onBookingClick:me,onSelectionEnd:je,onPriceChange:ne}):l.jsx("div",{className:"p-8 text-center text-slate-500",children:p?"Загрузка...":"Нет доступных комнат"})}),b&&l.jsx(pd,{bookingToEdit:k,selectedCell:P,allBookings:n,rooms:t,services:o,onClose:()=>{C(!1),E(null),R(null)},onBookingSaved:ae}),j&&l.jsx(lz,{isOpen:j,onClose:()=>T(!1),bookings:n})]})}const qy=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:t,className:Fe("w-full caption-bottom text-sm",n),...e})}));qy.displayName="Table";const Ky=w.forwardRef(({className:n,...e},t)=>l.jsx("thead",{ref:t,className:Fe("[&_tr]:border-b",n),...e}));Ky.displayName="TableHeader";const Yy=w.forwardRef(({className:n,...e},t)=>l.jsx("tbody",{ref:t,className:Fe("[&_tr:last-child]:border-0",n),...e}));Yy.displayName="TableBody";const cz=w.forwardRef(({className:n,...e},t)=>l.jsx("tfoot",{ref:t,className:Fe("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));cz.displayName="TableFooter";const Fl=w.forwardRef(({className:n,...e},t)=>l.jsx("tr",{ref:t,className:Fe("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));Fl.displayName="TableRow";const Wn=w.forwardRef(({className:n,...e},t)=>l.jsx("th",{ref:t,className:Fe("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Wn.displayName="TableHead";const Sn=w.forwardRef(({className:n,...e},t)=>l.jsx("td",{ref:t,className:Fe("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Sn.displayName="TableCell";const uz=w.forwardRef(({className:n,...e},t)=>l.jsx("caption",{ref:t,className:Fe("mt-4 text-sm text-muted-foreground",n),...e}));uz.displayName="TableCaption";function bC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(""),[d,h]=w.useState("all"),[p,g]=w.useState(!1),[x,y]=w.useState(null),[b,C]=w.useState([]),[P,E]=w.useState([]),{t:k,currentLanguage:R,formatCurrency:j}=Yr("bookings"),T=R==="ru"?dr:Oo,A={confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",checked_in:"bg-purple-100 text-purple-800",checked_out:"bg-blue-100 text-blue-800"};w.useEffect(()=>{H()},[]);const D=()=>{y(null),g(!0)},H=async()=>{r(!0);const[{data:ne},{data:ae},{data:pe}]=await Promise.all([uv(),Hy(),Vy()]);e((ne==null?void 0:ne.bookings)||[]),C((ae==null?void 0:ae.rooms)||[]),E((pe==null?void 0:pe.services)||[]),r(!1)},F=ne=>{y(ne),g(!0)},$=()=>{g(!1),y(null),H()},G=n.filter(ne=>{var ae,pe;return(((pe=(ae=ne.guests)==null?void 0:ae.full_name)==null?void 0:pe.toLowerCase())||"").includes(o.toLowerCase())&&(d==="all"||ne.status===d)}),X=ne=>(ne.total_amount||0)-(ne.services_total||0);return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx(Ve,{children:l.jsx(Ye,{className:"p-6",children:l.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(gt,{placeholder:k("search.placeholder"),value:o,onChange:ne=>c(ne.target.value),className:"pl-10"})]}),l.jsxs("select",{value:d,onChange:ne=>h(ne.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[l.jsx("option",{value:"all",children:k("filter.allStatuses")}),Object.entries(["confirmed","pending","cancelled","checked_in","checked_out"]).map(([ne,ae])=>l.jsx("option",{value:ae,children:k(`status.${ae}`)},ae))]})]})})}),l.jsxs(Ve,{children:[l.jsxs(ft,{className:"flex flex-row items-center justify-between",children:[l.jsxs(ht,{children:[k("title")," (",G.length,")"]}),l.jsxs(nt,{onClick:D,className:"bg-blue-600 hover:bg-blue-700",children:[l.jsx(ey,{className:"h-4 w-4 mr-2"}),k("actions.newBooking")]})]}),l.jsx(Ye,{children:l.jsxs(qy,{children:[l.jsx(Ky,{children:l.jsxs(Fl,{children:[l.jsx(Wn,{children:k("table.guest")}),l.jsx(Wn,{children:k("table.source")}),l.jsx(Wn,{children:k("table.room")}),l.jsx(Wn,{children:k("table.dates")}),l.jsx(Wn,{children:k("table.status")}),l.jsx(Wn,{children:k("table.accommodation")}),l.jsx(Wn,{children:k("table.services")}),l.jsx(Wn,{children:k("table.paid")}),l.jsx(Wn,{children:k("table.balance")})]})}),l.jsx(Yy,{children:t?Array.from({length:5}).map((ne,ae)=>l.jsx(Fl,{children:l.jsx(Sn,{colSpan:"9",children:l.jsx(yi,{className:"h-8 w-full"})})},ae)):G.length===0?l.jsx(Fl,{children:l.jsx(Sn,{colSpan:"9",className:"text-center text-slate-500 py-8",children:k("table.noResults")})}):G.map(ne=>{var je,ge;const ae=X(ne),pe=(ne.total_amount||0)-(ne.amount_paid||0),me=R==="ru"?"RUB":"USD";return l.jsxs(Fl,{onClick:()=>F(ne),className:"cursor-pointer hover:bg-slate-50",children:[l.jsx(Sn,{className:"font-medium",children:((je=ne.guests)==null?void 0:je.full_name)||k("table.unknownGuest")}),l.jsx(Sn,{children:l.jsx(Kk,{source:ne.source})}),l.jsx(Sn,{children:(ge=ne.rooms)==null?void 0:ge.room_number}),l.jsxs(Sn,{children:[Ue(yt(ne.check_in),"dd.MM",{locale:T})," -",Ue(yt(ne.check_out),"dd.MM.yy",{locale:T})]}),l.jsx(Sn,{children:l.jsx(Tt,{className:A[ne.status],children:k(`status.${ne.status}`)})}),l.jsx(Sn,{children:j(ae,me)}),l.jsx(Sn,{children:j(ne.services_total||0,me)}),l.jsx(Sn,{className:"text-green-600",children:j(ne.amount_paid||0,me)}),l.jsx(Sn,{className:`font-bold ${pe>0?"text-red-600":"text-green-600"}`,children:j(pe,me)})]},ne.id)})})]})})]}),p&&l.jsx(pd,{bookingToEdit:x,allBookings:n,rooms:b,services:P,onClose:$,onBookingSaved:$})]})}function SC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:d}=await uv(),h=((d==null?void 0:d.bookings)||[]).filter(p=>kh(yt(p.check_in))&&p.status==="confirmed");e(h),r(!1)},c=async d=>{await Gy(d,{status:"checked_in"}),o()};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды на сегодня"}),l.jsx("p",{className:"text-slate-600 mt-1",children:Ue(new Date,"dd MMMM yyyy",{locale:dr})})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-blue-600",children:[l.jsx(Xu,{className:"h-8 w-8"}),l.jsx("span",{children:n.length})]})]}),t?l.jsx(yi,{className:"h-96 w-full"}):n.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(d=>{var h,p,g,x;return l.jsxs(Ve,{children:[l.jsx(ft,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ht,{className:"text-lg",children:(h=d.guests)==null?void 0:h.full_name}),l.jsx(Tt,{className:"bg-green-100 text-green-800",children:"Подтверждено"})]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(uS,{className:"h-5 w-5"}),l.jsxs("p",{children:[(p=d.rooms)==null?void 0:p.room_number," (",(g=d.rooms)==null?void 0:g.room_type,")"]})]}),l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(Ea,{className:"h-5 w-5"}),l.jsx("p",{children:((x=d.guests)==null?void 0:x.phone)||"Не указан"})]}),l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(Co,{className:"h-5 w-5"}),l.jsxs("p",{children:[d.guests_count," гостя(ей)"]})]}),l.jsx("div",{className:"pt-4",children:l.jsxs(nt,{onClick:()=>c(d.id),className:"w-full bg-blue-600 hover:bg-blue-700",children:[l.jsx(Xu,{className:"h-4 w-4 mr-2"}),"Заселить гостя"]})})]})]},d.id)})}):l.jsx(Ve,{children:l.jsxs(Ye,{className:"p-12 text-center",children:[l.jsx(Xu,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет заездов на сегодня"})]})})]})}function NC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const{data:d}=await uv();console.log("Полученные данные в CheckOuts:",d);const h=(d==null?void 0:d.bookings)||d||[],p=Array.isArray(h)?h.filter(g=>kh(yt(g.check_out))&&g.status==="checked_in"):[];console.log("Выезды на сегодня:",p),e(p)}catch(d){console.error("Ошибка получения данных:",d),e([])}finally{r(!1)}},c=async d=>{try{await Gy(d,{status:"checked_out"}),o()}catch(h){console.error("Ошибка при выселении:",h)}};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("style",{children:`
        .checkout-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
          transition: all 0.3s ease;
        }
        .checkout-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
      `}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды на сегодня"}),l.jsx("p",{className:"text-slate-600 mt-1",children:Ue(new Date,"dd MMMM yyyy",{locale:dr})})]}),l.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-orange-600",children:[l.jsx(_a,{className:"h-8 w-8"}),l.jsx("span",{children:n.length})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[l.jsx(Ve,{className:"checkout-card",children:l.jsx(Ye,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Всего выездов"}),l.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.length})]}),l.jsx(_a,{className:"h-8 w-8 text-orange-500"})]})})}),l.jsx(Ve,{className:"checkout-card",children:l.jsx(Ye,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Заселены"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(d=>d.status==="checked_in").length})]}),l.jsx(Co,{className:"h-8 w-8 text-blue-500"})]})})}),l.jsx(Ve,{className:"checkout-card",children:l.jsx(Ye,{className:"p-6",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Общий доход"}),l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.reduce((d,h)=>d+(h.total_amount||0),0).toLocaleString()," ₽"]})]}),l.jsx(fS,{className:"h-8 w-8 text-green-500"})]})})})]}),t?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((d,h)=>l.jsx(Ve,{className:"checkout-card",children:l.jsx(Ye,{className:"p-6",children:l.jsx(yi,{className:"h-64 w-full"})})},h))}):n.length>0?l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(d=>{var h,p,g,x;return l.jsxs(Ve,{className:"checkout-card",children:[l.jsx(ft,{className:"pb-4",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx(ht,{className:"text-lg font-semibold text-slate-800",children:((h=d.guests)==null?void 0:h.full_name)||"Гость"}),l.jsx(Tt,{className:"bg-blue-100 text-blue-800",children:"Заселен"})]})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(uS,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:(p=d.rooms)==null?void 0:p.room_number}),l.jsx("p",{className:"text-sm",children:(g=d.rooms)==null?void 0:g.room_type})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(Ea,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:((x=d.guests)==null?void 0:x.phone)||"Не указан"}),l.jsx("p",{className:"text-sm",children:"Контактный телефон"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(Co,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium",children:[d.guests_count," гост",d.guests_count===1?"ь":"ей"]}),l.jsx("p",{className:"text-sm",children:"Количество гостей"})]})]}),l.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[l.jsx(uh,{className:"h-5 w-5"}),l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:Ue(yt(d.check_in),"dd MMM yyyy",{locale:dr})}),l.jsx("p",{className:"text-sm",children:"Дата заезда"})]})]}),d.notes&&l.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:l.jsx("p",{className:"text-sm text-slate-600",children:d.notes})}),l.jsxs("div",{className:"pt-4 space-y-2",children:[l.jsxs(nt,{onClick:()=>c(d.id),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white",children:[l.jsx(_a,{className:"h-4 w-4 mr-2"}),"Выселить гостя"]}),l.jsx(nt,{variant:"outline",className:"w-full",children:"Связаться с гостем"})]}),d.total_amount&&l.jsxs("div",{className:"text-center pt-2 border-t",children:[l.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[d.total_amount.toLocaleString()," ₽"]}),l.jsx("p",{className:"text-sm text-slate-500",children:"Оплачено"})]})]})]},d.id)})}):l.jsx(Ve,{className:"checkout-card",children:l.jsxs(Ye,{className:"p-12 text-center",children:[l.jsx(_a,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет выездов на сегодня"}),l.jsx("p",{className:"text-slate-500",children:"Все спокойно! Выездов на сегодня не запланировано."})]})})]})}function kC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(!1),[d,h]=w.useState(null),[p,g]=w.useState([]),[x,y]=w.useState([]);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0);const{data:R}=await uv();if(R!=null&&R.bookings){const A=R.bookings.filter(D=>(D.total_amount||0)>(D.amount_paid||0));e(A)}const[{data:j},{data:T}]=await Promise.all([Hy(),Vy()]);g((j==null?void 0:j.rooms)||[]),y((T==null?void 0:T.services)||[]),r(!1)},C=R=>{h(R),c(!0)},P=()=>{c(!1),h(null),b()},E=n.reduce((R,j)=>R+((j.total_amount||0)-(j.amount_paid||0)),0),k=R=>!R.booking_services||R.booking_services.length===0?"Нет":R.booking_services.map(j=>{var T;return(T=j.services)==null?void 0:T.name}).join(", ");return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:"Общая задолженность"})}),l.jsx(Ye,{children:l.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[E.toLocaleString()," ₽"]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:"Количество должников"})}),l.jsx(Ye,{children:l.jsx("p",{className:"text-3xl font-bold",children:n.length})})]})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center",children:[l.jsx(WI,{className:"mr-2 text-red-500"}),"Список задолженностей"]})}),l.jsx(Ye,{children:t?l.jsx(yi,{className:"h-64 w-full"}):l.jsxs(qy,{children:[l.jsx(Ky,{children:l.jsxs(Fl,{children:[l.jsx(Wn,{children:"Гость"}),l.jsx(Wn,{children:"Номер"}),l.jsx(Wn,{children:"Заезд/Выезд"}),l.jsx(Wn,{children:"Услуги"}),l.jsx(Wn,{children:"Общая сумма"}),l.jsx(Wn,{children:"Частичная оплата"}),l.jsx(Wn,{children:"Долг"})]})}),l.jsx(Yy,{children:n.map(R=>{var j,T;return l.jsxs(Fl,{className:"cursor-pointer hover:bg-slate-50",children:[l.jsx(Sn,{className:"font-medium text-blue-600 hover:underline cursor-pointer",onClick:()=>C(R),children:(j=R.guests)==null?void 0:j.full_name}),l.jsx(Sn,{children:(T=R.rooms)==null?void 0:T.room_number}),l.jsxs(Sn,{children:[Ue(yt(R.check_in),"dd.MM")," - ",Ue(yt(R.check_out),"dd.MM.yy")]}),l.jsx(Sn,{className:"max-w-xs truncate",title:k(R),children:k(R)}),l.jsxs(Sn,{children:[(R.total_amount||0).toLocaleString()," ₽"]}),l.jsxs(Sn,{className:"text-green-600",children:[(R.amount_paid||0).toLocaleString()," ₽"]}),l.jsxs(Sn,{className:"font-bold text-red-600",children:[((R.total_amount||0)-(R.amount_paid||0)).toLocaleString()," ₽"]})]},R.id)})})]})})]}),o&&l.jsx(pd,{bookingToEdit:d,rooms:p,services:x,onClose:P,onBookingSaved:P})]})}function jC({selectedConversation:n,onConversationSelect:e}){return l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsx("style",{children:`
        .chat-container {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
      `}),l.jsxs("div",{className:"p-6 pb-4",children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Чат с гостями"}),l.jsx("p",{className:"text-slate-600 mt-2",children:"Общайтесь с гостями в режиме реального времени"})]}),l.jsx("div",{className:"flex-1 mx-6 mb-6",children:l.jsx("div",{className:"chat-container rounded-2xl h-full overflow-hidden",children:l.jsx(O0,{selectedConversation:n,onConversationSelect:e})})})]})}const dz=async()=>{try{const{data:n,error:e}=await Me.from("webhook_settings").select("*");if(e)throw e;return{data:n,error:null}}catch(n){return console.error("Ошибка получения настроек вебхуков:",n),{data:null,error:{message:n.message}}}},fz=async n=>{try{const{data:e,error:t}=await Me.from("webhook_settings").upsert(n).select();if(t)throw t;return{data:e?e[0]:null,error:null}}catch(e){return console.error("Ошибка сохранения настроек вебхуков:",e),{data:null,error:{message:e.message}}}};function CC(){const[n,e]=w.useState(""),[t,r]=w.useState(!1),[o,c]=w.useState(""),[d,h]=w.useState("");w.useEffect(()=>{p()},[]);const p=async()=>{try{const{data:x,error:y}=await dz();if(y){console.error("Ошибка загрузки настроек:",y);return}x!=null&&x.webhook_url&&e(x.webhook_url)}catch(x){console.error("Ошибка при загрузке настроек:",x)}},g=async()=>{if(!n.trim()){c("Введите URL вебхука"),h("error");return}try{new URL(n)}catch{c("Введите корректный URL"),h("error");return}r(!0),c("");try{const{data:x,error:y}=await fz({webhook_url:n.trim()});if(y)throw new Error(y.message);c("Настройки вебхука успешно сохранены"),h("success")}catch(x){console.error("Ошибка при сохранении:",x),c(`Ошибка: ${x.message}`),h("error")}finally{r(!1)}};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsx("style",{children:`
        .integration-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        .webhook-section {
          background: linear-gradient(135deg, rgba(59,130,246,0.05) 0%, rgba(147,197,253,0.05) 100%);
          border: 1px solid rgba(59,130,246,0.1);
        }
      `}),l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[l.jsx(R_,{className:"mr-3 h-8 w-8"}),"Интеграции"]}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Управление внешними интеграциями и вебхуками"})]}),l.jsx(Tt,{variant:"outline",className:"text-blue-600 border-blue-200",children:"Настройки системы"})]}),l.jsxs(Ve,{className:"integration-card",children:[l.jsxs(ft,{children:[l.jsxs(ht,{className:"flex items-center text-xl",children:[l.jsx(yS,{className:"mr-3 h-6 w-6 text-blue-500"}),"Вебхуки"]}),l.jsx("p",{className:"text-slate-600",children:"Настройка автоматических уведомлений о событиях в системе"})]}),l.jsxs(Ye,{className:"space-y-6",children:[l.jsxs("div",{className:"webhook-section p-6 rounded-xl",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"New Message Webhook"}),l.jsx(Tt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Сообщения в чате"})]}),l.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Получайте уведомления каждый раз, когда в систему приходит новое сообщение от гостя или сотрудника."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx(Wt,{htmlFor:"webhook-url",className:"text-sm font-medium text-slate-700",children:"Webhook URL"}),l.jsx(gt,{id:"webhook-url",type:"url",placeholder:"https://example.com/webhook/messages",value:n,onChange:x=>e(x.target.value),className:"mt-1",disabled:t}),l.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL, на который будут отправляться POST запросы с данными новых сообщений"})]}),l.jsx(nt,{onClick:g,disabled:t||!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Сохранение..."]}):l.jsxs(l.Fragment,{children:[l.jsx(gS,{className:"mr-2 h-4 w-4"}),"Сохранить"]})})]}),o&&l.jsxs(Si,{variant:d==="success"?"default":"destructive",className:"mt-4",children:[d==="success"?l.jsx(ji,{className:"h-4 w-4"}):l.jsx(Sa,{className:"h-4 w-4"}),l.jsx(Ni,{children:o})]})]}),l.jsx(hh,{}),l.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[l.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Формат данных вебхука"}),l.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"При создании нового сообщения на указанный URL будет отправлен POST запрос с JSON данными:"}),l.jsx("pre",{className:"bg-slate-800 text-green-400 p-3 rounded text-xs overflow-x-auto",children:`{
  "id": "uuid",
  "conversation_id": "uuid", 
  "sender_type": "guest|staff",
  "sender_id": "uuid",
  "content": "Текст сообщения",
  "created_at": "2024-01-01T12:00:00Z",
  "sender_name": "Имя отправителя"
}`})]})]})]}),l.jsxs(Ve,{className:"integration-card opacity-60",children:[l.jsxs(ft,{children:[l.jsxs(ht,{className:"flex items-center text-xl text-slate-500",children:[l.jsx(R_,{className:"mr-3 h-6 w-6"}),"Другие интеграции"]}),l.jsx("p",{className:"text-slate-500",children:"Дополнительные интеграции будут добавлены в будущих версиях"})]}),l.jsx(Ye,{children:l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-slate-400",children:"Скоро появятся новые возможности"})})})]})]})}const hz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function EC(){const{t:n,currentLanguage:e,formatCurrency:t}=Yr("booking"),[r,o]=w.useState([]),[c,d]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(Ue(new Date,"yyyy-MM-dd")),[C,P]=w.useState(null),[E,k]=w.useState(!1),R=e==="ru"?dr:Oo,j=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())d(r);else{const $=r.filter(G=>{var me,je,ge,be,B,Y;const X=((je=(me=G.guests)==null?void 0:me.full_name)==null?void 0:je.toLowerCase())||"",ne=((be=(ge=G.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((Y=(B=G.guests)==null?void 0:B.phone)==null?void 0:Y.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||ne.includes(pe)||ae.includes(pe)});d($)}},[g,r]);const T=async()=>{p(!0);try{const $=new Date(y),G=new Date(y);G.setDate(G.getDate()+1);const X=await Uh($,G);if(X.error)throw X.error;const ne=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:Ue(yt(ae.check_in),"yyyy-MM-dd")===y);console.log("📅 Arrivals for",y,":",ne),o(ne)}catch($){console.error("Error loading arrivals:",$)}finally{p(!1)}},A=async $=>{var G;console.log("✅ Check-in:",(G=$.guests)==null?void 0:G.full_name)},D=$=>{P($),k(!0)},H=()=>{k(!1),P(null),T()},F=$=>{var G,X,ne,ae,pe;return l.jsx(Ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>D($),children:l.jsxs(Ye,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Xu,{className:"h-5 w-5 text-blue-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:((G=$.guests)==null?void 0:G.full_name)||"Неизвестный гость"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Заезд: ",Ue(yt($.check_in),"HH:mm")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{className:hz[$.status]||"bg-slate-100 text-slate-800",children:n(`status.${$.status}`)}),$.status==="confirmed"&&l.jsxs(nt,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:me=>{me.stopPropagation(),A($)},children:[l.jsx(ag,{className:"h-4 w-4 mr-1"}),"Отметить заезд"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Dg,{className:"h-3 w-3"}),l.jsxs("span",{children:["Номер ",((X=$.rooms)==null?void 0:X.room_number)||"N/A"," (",((ne=$.rooms)==null?void 0:ne.room_type)||"N/A",")"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Co,{className:"h-3 w-3"}),l.jsxs("span",{children:[$.guests_count||1," ",($.guests_count||1)===1?"гость":"гостя"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[((ae=$.guests)==null?void 0:ae.phone)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ea,{className:"h-3 w-3"}),l.jsx("span",{children:$.guests.phone})]}),((pe=$.guests)==null?void 0:pe.email)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ig,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:$.guests.email})]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(yt($.check_in),"dd MMM",{locale:R})," -",Ue(yt($.check_out),"dd MMM",{locale:R})]})]}),$.total_amount&&l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),l.jsx("span",{className:"font-semibold text-slate-800",children:t($.total_amount,j)})]})]}),$.notes&&l.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[l.jsx("strong",{children:"Комментарий:"})," ",$.notes]})]})},$.id)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды"}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Управление заездами гостей"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs(Tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(Lh,{className:"h-5 w-5"}),"Фильтры"]})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(gt,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:$=>x($.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"w-48",children:l.jsx(gt,{type:"date",value:y,onChange:$=>b($.target.value)})})]})})]}),h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка заездов..."})]}):c.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"text-center text-slate-500",children:[l.jsx(Xu,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет заездов"}),l.jsxs("p",{children:["На ",Ue(new Date(y),"dd MMMM yyyy",{locale:R})," заездов нет"]})]})}),E&&l.jsx(pd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{k(!1),P(null)},onBookingSaved:H})]})}const pz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function PC(){const{t:n,currentLanguage:e,formatCurrency:t}=Yr("booking"),[r,o]=w.useState([]),[c,d]=w.useState([]),[h,p]=w.useState(!0),[g,x]=w.useState(""),[y,b]=w.useState(Ue(new Date,"yyyy-MM-dd")),[C,P]=w.useState(null),[E,k]=w.useState(!1),R=e==="ru"?dr:Oo,j=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!g.trim())d(r);else{const $=r.filter(G=>{var me,je,ge,be,B,Y;const X=((je=(me=G.guests)==null?void 0:me.full_name)==null?void 0:je.toLowerCase())||"",ne=((be=(ge=G.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ae=((Y=(B=G.guests)==null?void 0:B.phone)==null?void 0:Y.toLowerCase())||"",pe=g.toLowerCase();return X.includes(pe)||ne.includes(pe)||ae.includes(pe)});d($)}},[g,r]);const T=async()=>{p(!0);try{const $=new Date(y),G=new Date(y);G.setDate(G.getDate()+1);const X=await Uh($,G);if(X.error)throw X.error;const ne=(X.data||[]).filter(ae=>ae.status==="cancelled"?!1:Ue(yt(ae.check_out),"yyyy-MM-dd")===y);console.log("📅 Departures for",y,":",ne),o(ne)}catch($){console.error("Error loading departures:",$)}finally{p(!1)}},A=async $=>{var G;console.log("✅ Check-out:",(G=$.guests)==null?void 0:G.full_name)},D=$=>{P($),k(!0)},H=()=>{k(!1),P(null),T()},F=$=>{var G,X,ne,ae,pe;return l.jsx(Ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>D($),children:l.jsxs(Ye,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(_a,{className:"h-5 w-5 text-orange-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:((G=$.guests)==null?void 0:G.full_name)||"Неизвестный гость"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["Выезд: ",Ue(yt($.check_out),"HH:mm")]})]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Tt,{className:pz[$.status]||"bg-slate-100 text-slate-800",children:n(`status.${$.status}`)}),$.status==="checked_in"&&l.jsxs(nt,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:me=>{me.stopPropagation(),A($)},children:[l.jsx(ag,{className:"h-4 w-4 mr-1"}),"Отметить выезд"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Dg,{className:"h-3 w-3"}),l.jsxs("span",{children:["Номер ",((X=$.rooms)==null?void 0:X.room_number)||"N/A"," (",((ne=$.rooms)==null?void 0:ne.room_type)||"N/A",")"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Co,{className:"h-3 w-3"}),l.jsxs("span",{children:[$.guests_count||1," ",($.guests_count||1)===1?"гость":"гостя"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[((ae=$.guests)==null?void 0:ae.phone)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ea,{className:"h-3 w-3"}),l.jsx("span",{children:$.guests.phone})]}),((pe=$.guests)==null?void 0:pe.email)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ig,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:$.guests.email})]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(yt($.check_in),"dd MMM",{locale:R})," -",Ue(yt($.check_out),"dd MMM",{locale:R})]})]}),$.total_amount&&l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),l.jsx("span",{className:"font-semibold text-slate-800",children:t($.total_amount,j)})]}),$.amount_paid<$.total_amount&&l.jsxs("div",{className:"flex justify-between items-center mt-1 text-red-600",children:[l.jsx("span",{className:"text-sm",children:"К доплате:"}),l.jsx("span",{className:"font-semibold",children:t($.total_amount-$.amount_paid,j)})]})]}),$.notes&&l.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[l.jsx("strong",{children:"Комментарий:"})," ",$.notes]})]})},$.id)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды"}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Управление выездами гостей"})]}),l.jsx("div",{className:"flex items-center gap-3",children:l.jsxs(Tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(Lh,{className:"h-5 w-5"}),"Фильтры"]})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(gt,{placeholder:"Поиск по имени, номеру или телефону...",value:g,onChange:$=>x($.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"w-48",children:l.jsx(gt,{type:"date",value:y,onChange:$=>b($.target.value)})})]})})]}),h?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка выездов..."})]}):c.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"text-center text-slate-500",children:[l.jsx(_a,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет выездов"}),l.jsxs("p",{children:["На ",Ue(new Date(y),"dd MMMM yyyy",{locale:R})," выездов нет"]})]})}),E&&l.jsx(pd,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{k(!1),P(null)},onBookingSaved:H})]})}const mz={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function RC(){const{t:n,currentLanguage:e}=Yr("booking"),[t,r]=w.useState([]),[o,c]=w.useState([]),[d,h]=w.useState(!0),[p,g]=w.useState(""),[x,y]=w.useState(Ue(new Date,"yyyy-MM-dd")),[b,C]=w.useState(null),[P,E]=w.useState(!1),k=e==="ru"?dr:Oo;w.useEffect(()=>{R()},[x]),w.useEffect(()=>{if(!p.trim())c(t);else{const D=t.filter(H=>{var ne,ae,pe,me,je,ge;const F=((ae=(ne=H.guests)==null?void 0:ne.full_name)==null?void 0:ae.toLowerCase())||"",$=((me=(pe=H.rooms)==null?void 0:pe.room_number)==null?void 0:me.toLowerCase())||"",G=((ge=(je=H.guests)==null?void 0:je.phone)==null?void 0:ge.toLowerCase())||"",X=p.toLowerCase();return F.includes(X)||$.includes(X)||G.includes(X)});c(D)}},[p,t]);const R=async()=>{h(!0);try{const D=new Date(x),H=new Date(x);H.setDate(H.getDate()+1);const F=await Uh(D,H);if(F.error)throw F.error;const $=(F.data||[]).filter(G=>{if(G.status==="cancelled")return!1;const X=new Date(G.check_in),ne=new Date(G.check_out),ae=new Date(x);return X<=ae&&ne>ae});console.log("🏠 Stays for",x,":",$),r($)}catch(D){console.error("Error loading stays:",D)}finally{h(!1)}},j=D=>{C(D),E(!0)},T=()=>{E(!1),C(null),R()},A=D=>{var $,G,X,ne,ae;const H=Math.ceil((new Date(D.check_out)-new Date(D.check_in))/864e5),F=Math.ceil((new Date(x)-new Date(D.check_in))/(1e3*60*60*24));return l.jsx(Ve,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>j(D),children:l.jsxs(Ye,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(rd,{className:"h-5 w-5 text-purple-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:(($=D.guests)==null?void 0:$.full_name)||"Неизвестный гость"}),l.jsxs("p",{className:"text-sm text-slate-500",children:["День ",F," из ",H]})]})]}),l.jsx(Tt,{className:mz[D.status]||"bg-slate-100 text-slate-800",children:n(`status.${D.status}`)})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Dg,{className:"h-3 w-3"}),l.jsxs("span",{children:["Номер ",((G=D.rooms)==null?void 0:G.room_number)||"N/A"," (",((X=D.rooms)==null?void 0:X.room_type)||"N/A",")"]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Co,{className:"h-3 w-3"}),l.jsxs("span",{children:[D.guests_count||1," ",(D.guests_count||1)===1?"гость":"гостя"]})]})]}),l.jsxs("div",{className:"space-y-2",children:[((ne=D.guests)==null?void 0:ne.phone)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ea,{className:"h-3 w-3"}),l.jsx("span",{children:D.guests.phone})]}),((ae=D.guests)==null?void 0:ae.email)&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ig,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:D.guests.email})]})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[l.jsxs("div",{className:"flex justify-between items-center",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[Ue(yt(D.check_in),"dd MMM",{locale:k})," -",Ue(yt(D.check_out),"dd MMM",{locale:k})]})]}),l.jsxs("div",{className:"flex justify-between items-center mt-1",children:[l.jsx("span",{className:"text-sm text-slate-600",children:"Выезд через:"}),l.jsxs("span",{className:"font-medium text-slate-800",children:[Math.ceil((new Date(D.check_out)-new Date(x))/(1e3*60*60*24))," дн."]})]})]}),D.booking_services&&D.booking_services.length>0&&l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[l.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Заказанные услуги:"}),l.jsxs("div",{className:"space-y-1",children:[D.booking_services.slice(0,3).map((pe,me)=>{var je;return l.jsxs("div",{className:"text-xs text-slate-500",children:["• ",(je=pe.services)==null?void 0:je.name," x",pe.quantity]},me)}),D.booking_services.length>3&&l.jsxs("div",{className:"text-xs text-slate-400",children:["+",D.booking_services.length-3," еще"]})]})]})]})},D.id)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Проживания"}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Гости, проживающие в отеле"})]}),l.jsxs(Tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",o.length]})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(Lh,{className:"h-5 w-5"}),"Фильтры"]})}),l.jsx(Ye,{children:l.jsxs("div",{className:"flex gap-4",children:[l.jsx("div",{className:"flex-1",children:l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(gt,{placeholder:"Поиск по имени, номеру или телефону...",value:p,onChange:D=>g(D.target.value),className:"pl-10"})]})}),l.jsx("div",{className:"w-48",children:l.jsx(gt,{type:"date",value:x,onChange:D=>y(D.target.value)})})]})})]}),d?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка проживаний..."})]}):o.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(A)}):l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"text-center text-slate-500",children:[l.jsx(rd,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет проживаний"}),l.jsxs("p",{children:["На ",Ue(new Date(x),"dd MMMM yyyy",{locale:k})," никто не проживает"]})]})}),P&&l.jsx(pd,{bookingToEdit:b,rooms:[],services:[],allBookings:t,onClose:()=>{E(!1),C(null)},onBookingSaved:T})]})}function TC(){const{currentLanguage:n}=Yr("booking"),[e,t]=w.useState([]),[r,o]=w.useState(!1),[c,d]=w.useState(Ue(new Date,"yyyy-MM-dd")),h=n==="ru"?dr:Oo;w.useEffect(()=>{t([])},[c]);const p=g=>l.jsx(Ve,{className:"cursor-pointer hover:shadow-md transition-shadow",children:l.jsxs(Ye,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(w0,{className:"h-5 w-5 text-pink-600"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-slate-800",children:g.guest_name}),l.jsx("p",{className:"text-sm text-slate-500",children:"День рождения сегодня"})]})]}),l.jsxs(Tt,{className:"bg-pink-100 text-pink-800",children:["🎂 ",g.age," лет"]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Dg,{className:"h-3 w-3"}),l.jsxs("span",{children:["Номер ",g.room_number]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Dh,{className:"h-3 w-3"}),l.jsxs("span",{children:["Проживает до ",g.check_out]})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ea,{className:"h-3 w-3"}),l.jsx("span",{children:g.phone})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Ig,{className:"h-3 w-3"}),l.jsx("span",{className:"truncate",children:g.email})]})]})]}),l.jsx("div",{className:"mt-3 p-3 bg-pink-50 rounded-lg",children:l.jsx("p",{className:"text-sm text-pink-700",children:"💡 Не забудьте поздравить с днем рождения и предложить комплимент от отеля!"})})]})},g.id);return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Дни рождения"}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Именинники среди гостей"})]}),l.jsxs(Tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",e.length]})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(Lh,{className:"h-5 w-5"}),"Фильтры"]})}),l.jsx(Ye,{children:l.jsx("div",{className:"w-48",children:l.jsx(gt,{type:"date",value:c,onChange:g=>d(g.target.value)})})})]}),r?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка дней рождения..."})]}):e.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(p)}):l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"text-center text-slate-500",children:[l.jsx(w0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет именинников"}),l.jsxs("p",{children:["На ",Ue(new Date(c),"dd MMMM yyyy",{locale:h})," дней рождения нет"]}),l.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:l.jsx("p",{className:"text-sm text-blue-700",children:"💡 Функция отслеживания дней рождения будет активирована после добавления даты рождения в профили гостей"})})]})})]})}const gz={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},vz={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"};function OC(){const{currentLanguage:n}=Yr("booking"),[e,t]=w.useState([]),[r,o]=w.useState([]),[c,d]=w.useState(!1),[h,p]=w.useState(""),[g,x]=w.useState(!1),[y,b]=w.useState({title:"",description:"",priority:"medium",assignedTo:"",dueDate:Ue(new Date,"yyyy-MM-dd")}),C=n==="ru"?dr:Oo;w.useEffect(()=>{const R=[{id:"1",title:"Подготовить номер 101 к заезду",description:"Провести генеральную уборку номера после ремонта",priority:"high",status:"pending",assignedTo:"Мария Иванова",dueDate:Ue(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()},{id:"2",title:"Проверить кондиционер в номере 205",description:"Гость жалуется на шум",priority:"medium",status:"in_progress",assignedTo:"Алексей Петров",dueDate:Ue(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()}];t(R)},[]),w.useEffect(()=>{if(!h.trim())o(e);else{const R=e.filter(j=>{var F,$,G;const T=((F=j.title)==null?void 0:F.toLowerCase())||"",A=(($=j.description)==null?void 0:$.toLowerCase())||"",D=((G=j.assignedTo)==null?void 0:G.toLowerCase())||"",H=h.toLowerCase();return T.includes(H)||A.includes(H)||D.includes(H)});o(R)}},[h,e]);const P=async()=>{if(!y.title.trim())return;const R={id:Date.now().toString(),...y,status:"pending",createdAt:new Date().toISOString()};t(j=>[...j,R]),b({title:"",description:"",priority:"medium",assignedTo:"",dueDate:Ue(new Date,"yyyy-MM-dd")}),x(!1)},E=(R,j)=>{t(T=>T.map(A=>A.id===R?{...A,status:j}:A))},k=R=>{const j=new Date(R.dueDate)<new Date&&R.status!=="completed";return l.jsx(Ve,{className:`cursor-pointer hover:shadow-md transition-shadow ${j?"border-red-200":""}`,children:l.jsxs(Ye,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between mb-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:R.title}),R.description&&l.jsx("p",{className:"text-sm text-slate-600 mb-2",children:R.description})]}),l.jsxs("div",{className:"flex flex-col gap-2 ml-3",children:[l.jsx(Tt,{className:gz[R.priority],children:R.priority==="high"?"Высокий":R.priority==="medium"?"Средний":"Низкий"}),l.jsx(Tt,{className:vz[R.status],children:R.status==="pending"?"Ожидает":R.status==="in_progress"?"В работе":"Завершено"})]})]}),l.jsxs("div",{className:"space-y-2 text-sm",children:[R.assignedTo&&l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(Co,{className:"h-3 w-3"}),l.jsxs("span",{children:["Ответственный: ",R.assignedTo]})]}),l.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[l.jsx(uh,{className:"h-3 w-3"}),l.jsxs("span",{children:["Срок: ",Ue(new Date(R.dueDate),"dd MMMM yyyy",{locale:C})]}),j&&l.jsx(Tt,{variant:"destructive",className:"ml-2",children:"Просрочено"})]})]}),l.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex gap-2",children:[R.status==="pending"&&l.jsx(nt,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),E(R.id,"in_progress")},children:"Начать работу"}),R.status==="in_progress"&&l.jsxs(nt,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:T=>{T.stopPropagation(),E(R.id,"completed")},children:[l.jsx(_0,{className:"h-4 w-4 mr-1"}),"Завершить"]})]})]})},R.id)};return l.jsxs("div",{className:"p-6 space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Задачи"}),l.jsx("p",{className:"text-slate-600 mt-1",children:"Управление рабочими задачами"})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(Tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",r.length]}),l.jsxs(nt,{onClick:()=>x(!g),children:[l.jsx(ey,{className:"h-4 w-4 mr-2"}),"Новая задача"]})]})]}),g&&l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsx(ht,{children:"Создать новую задачу"})}),l.jsxs(Ye,{className:"space-y-4",children:[l.jsx("div",{children:l.jsx(gt,{placeholder:"Название задачи",value:y.title,onChange:R=>b(j=>({...j,title:R.target.value}))})}),l.jsx("div",{children:l.jsx(Ly,{placeholder:"Описание задачи",value:y.description,onChange:R=>b(j=>({...j,description:R.target.value})),rows:3})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("div",{children:l.jsxs(Xm,{value:y.priority,onValueChange:R=>b(j=>({...j,priority:R})),children:[l.jsx(dh,{children:l.jsx(Qm,{placeholder:"Приоритет"})}),l.jsxs(fh,{children:[l.jsx(Bl,{value:"low",children:"Низкий"}),l.jsx(Bl,{value:"medium",children:"Средний"}),l.jsx(Bl,{value:"high",children:"Высокий"})]})]})}),l.jsx("div",{children:l.jsx(gt,{placeholder:"Ответственный",value:y.assignedTo,onChange:R=>b(j=>({...j,assignedTo:R.target.value}))})}),l.jsx("div",{children:l.jsx(gt,{type:"date",value:y.dueDate,onChange:R=>b(j=>({...j,dueDate:R.target.value}))})})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx(nt,{onClick:P,children:"Создать задачу"}),l.jsx(nt,{variant:"outline",onClick:()=>x(!1),children:"Отмена"})]})]})]}),l.jsxs(Ve,{children:[l.jsx(ft,{children:l.jsxs(ht,{className:"flex items-center gap-2",children:[l.jsx(Lh,{className:"h-5 w-5"}),"Фильтры"]})}),l.jsx(Ye,{children:l.jsxs("div",{className:"relative",children:[l.jsx(Hl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),l.jsx(gt,{placeholder:"Поиск по названию, описанию или ответственному...",value:h,onChange:R=>p(R.target.value),className:"pl-10"})]})})]}),c?l.jsxs("div",{className:"text-center py-8",children:[l.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),l.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка задач..."})]}):r.length>0?l.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(k)}):l.jsx(Ve,{className:"p-8",children:l.jsxs("div",{className:"text-center text-slate-500",children:[l.jsx(_0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),l.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет задач"}),l.jsx("p",{children:"Создайте первую задачу для команды"})]})})]})}const M1={Dashboard:F0,Bookings:bC,CheckIns:SC,CheckOuts:NC,Unpaid:kC,Chat:jC,Integrations:CC,ChannexIntegration:qk,Arrivals:EC,Departures:PC,Stays:RC,Birthdays:TC,Tasks:OC};function xz(n){n.endsWith("/")&&(n=n.slice(0,-1));let e=n.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(M1).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(M1)[0]}function yz(){const{user:n,loading:e}=Th(),t=ja();if(e)return l.jsx("div",{children:"Загрузка..."});if(!n)return l.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:l.jsx(JN,{})});const r=xz(t.pathname);return l.jsx(gF,{currentPageName:r,children:l.jsxs(iT,{children:[l.jsx(ur,{path:"/",element:l.jsx(F0,{})}),l.jsx(ur,{path:"/Dashboard",element:l.jsx(F0,{})}),l.jsx(ur,{path:"/Bookings",element:l.jsx(bC,{})}),l.jsx(ur,{path:"/CheckIns",element:l.jsx(SC,{})}),l.jsx(ur,{path:"/CheckOuts",element:l.jsx(NC,{})}),l.jsx(ur,{path:"/Unpaid",element:l.jsx(kC,{})}),l.jsx(ur,{path:"/Chat",element:l.jsx(jC,{})}),l.jsx(ur,{path:"/Integrations",element:l.jsx(CC,{})}),l.jsx(ur,{path:"/ChannexIntegration",element:l.jsx(qk,{})}),l.jsx(ur,{path:"/Arrivals",element:l.jsx(EC,{})}),l.jsx(ur,{path:"/Departures",element:l.jsx(PC,{})}),l.jsx(ur,{path:"/Stays",element:l.jsx(RC,{})}),l.jsx(ur,{path:"/Birthdays",element:l.jsx(TC,{})}),l.jsx(ur,{path:"/Tasks",element:l.jsx(OC,{})})]})})}function wz(){return l.jsx(HM,{children:l.jsx(PT,{children:l.jsx(yz,{})})})}const _z=20,bz=1e6,wi={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let Qx=0;function Sz(){return Qx=(Qx+1)%Number.MAX_VALUE,Qx.toString()}const Zx=new Map,A1=n=>{if(Zx.has(n))return;const e=setTimeout(()=>{Zx.delete(n),ph({type:wi.REMOVE_TOAST,toastId:n})},bz);Zx.set(n,e)},Nz=(n,e)=>{switch(e.type){case wi.ADD_TOAST:return{...n,toasts:[e.toast,...n.toasts].slice(0,_z)};case wi.UPDATE_TOAST:return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case wi.DISMISS_TOAST:{const{toastId:t}=e;return t?A1(t):n.toasts.forEach(r=>{A1(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case wi.REMOVE_TOAST:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},Zm=[];let eg={toasts:[]};function ph(n){eg=Nz(eg,n),Zm.forEach(e=>{e(eg)})}function kz({...n}){const e=Sz(),t=o=>ph({type:wi.UPDATE_TOAST,toast:{...o,id:e}}),r=()=>ph({type:wi.DISMISS_TOAST,toastId:e});return ph({type:wi.ADD_TOAST,toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function jz(){const[n,e]=w.useState(eg);return w.useEffect(()=>(Zm.push(e),()=>{const t=Zm.indexOf(e);t>-1&&Zm.splice(t,1)}),[n]),{...n,toast:kz,dismiss:t=>ph({type:wi.DISMISS_TOAST,toastId:t})}}const MC=w.forwardRef(({...n},e)=>l.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));MC.displayName="ToastProvider";const AC=w.forwardRef(({...n},e)=>l.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));AC.displayName="ToastViewport";const Cz=Oh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),IC=w.forwardRef(({className:n,variant:e,...t},r)=>l.jsx("div",{ref:r,className:Fe(Cz({variant:e}),n),...t}));IC.displayName="Toast";const Ez=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));Ez.displayName="ToastAction";const DC=w.forwardRef(({className:n,...e},t)=>l.jsx("button",{ref:t,className:Fe("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:l.jsx(ty,{className:"h-4 w-4"})}));DC.displayName="ToastClose";const LC=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("text-sm font-semibold",n),...e}));LC.displayName="ToastTitle";const $C=w.forwardRef(({className:n,...e},t)=>l.jsx("div",{ref:t,className:Fe("text-sm opacity-90",n),...e}));$C.displayName="ToastDescription";function Pz(){const{toasts:n}=jz();return l.jsxs(MC,{children:[n.map(function({id:e,title:t,description:r,action:o,...c}){return l.jsxs(IC,{...c,children:[l.jsxs("div",{className:"grid gap-1",children:[t&&l.jsx(LC,{children:t}),r&&l.jsx($C,{children:r})]}),o,l.jsx(DC,{})]},e)}),l.jsx(AC,{})]})}const Rz=()=>l.jsx("div",{className:"flex items-center justify-center h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function Tz(){const{i18n:n}=Yr();return w.useEffect(()=>{const e=localStorage.getItem("pms_language")||"en";e!==n.language&&n.changeLanguage(e)},[n]),l.jsxs(w.Suspense,{fallback:l.jsx(Rz,{}),children:[l.jsx(wz,{}),l.jsx(Pz,{})]})}const Oz=xP.createRoot(document.getElementById("root"));Oz.render(l.jsx(sn.StrictMode,{children:l.jsx(Tz,{})}));
