function qP(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(r,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const u of c.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();var Wp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function KP(n){if(Object.prototype.hasOwnProperty.call(n,"__esModule"))return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var o=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,o.get?o:{enumerable:!0,get:function(){return n[r]}})}),t}var Rv={exports:{}},fh={},Tv={exports:{}},vt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mw;function YP(){if(Mw)return vt;Mw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),y=Symbol.iterator;function b(B){return B===null||typeof B!="object"?null:(B=y&&B[y]||B["@@iterator"],typeof B=="function"?B:null)}var C={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,P={};function N(B,U,V){this.props=B,this.context=U,this.refs=P,this.updater=V||C}N.prototype.isReactComponent={},N.prototype.setState=function(B,U){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,U,"setState")},N.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function R(){}R.prototype=N.prototype;function k(B,U,V){this.props=B,this.context=U,this.refs=P,this.updater=V||C}var T=k.prototype=new R;T.constructor=k,E(T,N.prototype),T.isPureReactComponent=!0;var M=Array.isArray,I=Object.prototype.hasOwnProperty,D={current:null},F={key:!0,ref:!0,__self:!0,__source:!0};function z(B,U,V){var ae,ue={},he=null,te=null;if(U!=null)for(ae in U.ref!==void 0&&(te=U.ref),U.key!==void 0&&(he=""+U.key),U)I.call(U,ae)&&!F.hasOwnProperty(ae)&&(ue[ae]=U[ae]);var fe=arguments.length-2;if(fe===1)ue.children=V;else if(1<fe){for(var Se=Array(fe),Ee=0;Ee<fe;Ee++)Se[Ee]=arguments[Ee+2];ue.children=Se}if(B&&B.defaultProps)for(ae in fe=B.defaultProps,fe)ue[ae]===void 0&&(ue[ae]=fe[ae]);return{$$typeof:n,type:B,key:he,ref:te,props:ue,_owner:D.current}}function q(B,U){return{$$typeof:n,type:B.type,key:U,ref:B.ref,props:B.props,_owner:B._owner}}function X(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function re(B){var U={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(V){return U[V]})}var ie=/\/+/g;function me(B,U){return typeof B=="object"&&B!==null&&B.key!=null?re(""+B.key):U.toString(36)}function pe(B,U,V,ae,ue){var he=typeof B;(he==="undefined"||he==="boolean")&&(B=null);var te=!1;if(B===null)te=!0;else switch(he){case"string":case"number":te=!0;break;case"object":switch(B.$$typeof){case n:case e:te=!0}}if(te)return te=B,ue=ue(te),B=ae===""?"."+me(te,0):ae,M(ue)?(V="",B!=null&&(V=B.replace(ie,"$&/")+"/"),pe(ue,U,V,"",function(Ee){return Ee})):ue!=null&&(X(ue)&&(ue=q(ue,V+(!ue.key||te&&te.key===ue.key?"":(""+ue.key).replace(ie,"$&/")+"/")+B)),U.push(ue)),1;if(te=0,ae=ae===""?".":ae+":",M(B))for(var fe=0;fe<B.length;fe++){he=B[fe];var Se=ae+me(he,fe);te+=pe(he,U,V,Se,ue)}else if(Se=b(B),typeof Se=="function")for(B=Se.call(B),fe=0;!(he=B.next()).done;)he=he.value,Se=ae+me(he,fe++),te+=pe(he,U,V,Se,ue);else if(he==="object")throw U=String(B),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return te}function ke(B,U,V){if(B==null)return B;var ae=[],ue=0;return pe(B,ae,"","",function(he){return U.call(V,he,ue++)}),ae}function ge(B){if(B._status===-1){var U=B._result;U=U(),U.then(function(V){(B._status===0||B._status===-1)&&(B._status=1,B._result=V)},function(V){(B._status===0||B._status===-1)&&(B._status=2,B._result=V)}),B._status===-1&&(B._status=0,B._result=U)}if(B._status===1)return B._result.default;throw B._result}var be={current:null},W={transition:null},K={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:W,ReactCurrentOwner:D};function ne(){throw Error("act(...) is not supported in production builds of React.")}return vt.Children={map:ke,forEach:function(B,U,V){ke(B,function(){U.apply(this,arguments)},V)},count:function(B){var U=0;return ke(B,function(){U++}),U},toArray:function(B){return ke(B,function(U){return U})||[]},only:function(B){if(!X(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},vt.Component=N,vt.Fragment=t,vt.Profiler=o,vt.PureComponent=k,vt.StrictMode=r,vt.Suspense=m,vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K,vt.act=ne,vt.cloneElement=function(B,U,V){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var ae=E({},B.props),ue=B.key,he=B.ref,te=B._owner;if(U!=null){if(U.ref!==void 0&&(he=U.ref,te=D.current),U.key!==void 0&&(ue=""+U.key),B.type&&B.type.defaultProps)var fe=B.type.defaultProps;for(Se in U)I.call(U,Se)&&!F.hasOwnProperty(Se)&&(ae[Se]=U[Se]===void 0&&fe!==void 0?fe[Se]:U[Se])}var Se=arguments.length-2;if(Se===1)ae.children=V;else if(1<Se){fe=Array(Se);for(var Ee=0;Ee<Se;Ee++)fe[Ee]=arguments[Ee+2];ae.children=fe}return{$$typeof:n,type:B.type,key:ue,ref:he,props:ae,_owner:te}},vt.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:c,_context:B},B.Consumer=B},vt.createElement=z,vt.createFactory=function(B){var U=z.bind(null,B);return U.type=B,U},vt.createRef=function(){return{current:null}},vt.forwardRef=function(B){return{$$typeof:h,render:B}},vt.isValidElement=X,vt.lazy=function(B){return{$$typeof:v,_payload:{_status:-1,_result:B},_init:ge}},vt.memo=function(B,U){return{$$typeof:p,type:B,compare:U===void 0?null:U}},vt.startTransition=function(B){var U=W.transition;W.transition={};try{B()}finally{W.transition=U}},vt.unstable_act=ne,vt.useCallback=function(B,U){return be.current.useCallback(B,U)},vt.useContext=function(B){return be.current.useContext(B)},vt.useDebugValue=function(){},vt.useDeferredValue=function(B){return be.current.useDeferredValue(B)},vt.useEffect=function(B,U){return be.current.useEffect(B,U)},vt.useId=function(){return be.current.useId()},vt.useImperativeHandle=function(B,U,V){return be.current.useImperativeHandle(B,U,V)},vt.useInsertionEffect=function(B,U){return be.current.useInsertionEffect(B,U)},vt.useLayoutEffect=function(B,U){return be.current.useLayoutEffect(B,U)},vt.useMemo=function(B,U){return be.current.useMemo(B,U)},vt.useReducer=function(B,U,V){return be.current.useReducer(B,U,V)},vt.useRef=function(B){return be.current.useRef(B)},vt.useState=function(B){return be.current.useState(B)},vt.useSyncExternalStore=function(B,U,V){return be.current.useSyncExternalStore(B,U,V)},vt.useTransition=function(){return be.current.useTransition()},vt.version="18.3.1",vt}var Ow;function Ug(){return Ow||(Ow=1,Tv.exports=YP()),Tv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dw;function JP(){if(Dw)return fh;Dw=1;var n=Ug(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function u(h,m,p){var v,y={},b=null,C=null;p!==void 0&&(b=""+p),m.key!==void 0&&(b=""+m.key),m.ref!==void 0&&(C=m.ref);for(v in m)r.call(m,v)&&!c.hasOwnProperty(v)&&(y[v]=m[v]);if(h&&h.defaultProps)for(v in m=h.defaultProps,m)y[v]===void 0&&(y[v]=m[v]);return{$$typeof:e,type:h,key:b,ref:C,props:y,_owner:o.current}}return fh.Fragment=t,fh.jsx=u,fh.jsxs=u,fh}var Lw;function XP(){return Lw||(Lw=1,Rv.exports=JP()),Rv.exports}var a=XP(),w=Ug();const an=zg(w),ry=qP({__proto__:null,default:an},[w]);var Hp={},Av={exports:{}},Ir={},Iv={exports:{}},Mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $w;function QP(){return $w||($w=1,function(n){function e(W,K){var ne=W.length;W.push(K);e:for(;0<ne;){var B=ne-1>>>1,U=W[B];if(0<o(U,K))W[B]=K,W[ne]=U,ne=B;else break e}}function t(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var K=W[0],ne=W.pop();if(ne!==K){W[0]=ne;e:for(var B=0,U=W.length,V=U>>>1;B<V;){var ae=2*(B+1)-1,ue=W[ae],he=ae+1,te=W[he];if(0>o(ue,ne))he<U&&0>o(te,ue)?(W[B]=te,W[he]=ne,B=he):(W[B]=ue,W[ae]=ne,B=ae);else if(he<U&&0>o(te,ne))W[B]=te,W[he]=ne,B=he;else break e}}return K}function o(W,K){var ne=W.sortIndex-K.sortIndex;return ne!==0?ne:W.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var m=[],p=[],v=1,y=null,b=3,C=!1,E=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(W){for(var K=t(p);K!==null;){if(K.callback===null)r(p);else if(K.startTime<=W)r(p),K.sortIndex=K.expirationTime,e(m,K);else break;K=t(p)}}function M(W){if(P=!1,T(W),!E)if(t(m)!==null)E=!0,ge(I);else{var K=t(p);K!==null&&be(M,K.startTime-W)}}function I(W,K){E=!1,P&&(P=!1,R(z),z=-1),C=!0;var ne=b;try{for(T(K),y=t(m);y!==null&&(!(y.expirationTime>K)||W&&!re());){var B=y.callback;if(typeof B=="function"){y.callback=null,b=y.priorityLevel;var U=B(y.expirationTime<=K);K=n.unstable_now(),typeof U=="function"?y.callback=U:y===t(m)&&r(m),T(K)}else r(m);y=t(m)}if(y!==null)var V=!0;else{var ae=t(p);ae!==null&&be(M,ae.startTime-K),V=!1}return V}finally{y=null,b=ne,C=!1}}var D=!1,F=null,z=-1,q=5,X=-1;function re(){return!(n.unstable_now()-X<q)}function ie(){if(F!==null){var W=n.unstable_now();X=W;var K=!0;try{K=F(!0,W)}finally{K?me():(D=!1,F=null)}}else D=!1}var me;if(typeof k=="function")me=function(){k(ie)};else if(typeof MessageChannel<"u"){var pe=new MessageChannel,ke=pe.port2;pe.port1.onmessage=ie,me=function(){ke.postMessage(null)}}else me=function(){N(ie,0)};function ge(W){F=W,D||(D=!0,me())}function be(W,K){z=N(function(){W(n.unstable_now())},K)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(W){W.callback=null},n.unstable_continueExecution=function(){E||C||(E=!0,ge(I))},n.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<W?Math.floor(1e3/W):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_getFirstCallbackNode=function(){return t(m)},n.unstable_next=function(W){switch(b){case 1:case 2:case 3:var K=3;break;default:K=b}var ne=b;b=K;try{return W()}finally{b=ne}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(W,K){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ne=b;b=W;try{return K()}finally{b=ne}},n.unstable_scheduleCallback=function(W,K,ne){var B=n.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?B+ne:B):ne=B,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=ne+U,W={id:v++,callback:K,priorityLevel:W,startTime:ne,expirationTime:U,sortIndex:-1},ne>B?(W.sortIndex=ne,e(p,W),t(m)===null&&W===t(p)&&(P?(R(z),z=-1):P=!0,be(M,ne-B))):(W.sortIndex=U,e(m,W),E||C||(E=!0,ge(I))),W},n.unstable_shouldYield=re,n.unstable_wrapCallback=function(W){var K=b;return function(){var ne=b;b=K;try{return W.apply(this,arguments)}finally{b=ne}}}}(Mv)),Mv}var Fw;function ZP(){return Fw||(Fw=1,Iv.exports=QP()),Iv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zw;function eR(){if(zw)return Ir;zw=1;var n=Ug(),e=ZP();function t(s){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+s,f=1;f<arguments.length;f++)i+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+s+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,o={};function c(s,i){u(s,i),u(s+"Capture",i)}function u(s,i){for(o[s]=i,s=0;s<i.length;s++)r.add(i[s])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},y={};function b(s){return m.call(y,s)?!0:m.call(v,s)?!1:p.test(s)?y[s]=!0:(v[s]=!0,!1)}function C(s,i,f,g){if(f!==null&&f.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return g?!1:f!==null?!f.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function E(s,i,f,g){if(i===null||typeof i>"u"||C(s,i,f,g))return!0;if(g)return!1;if(f!==null)switch(f.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function P(s,i,f,g,_,j,O){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=g,this.attributeNamespace=_,this.mustUseProperty=f,this.propertyName=s,this.type=i,this.sanitizeURL=j,this.removeEmptyString=O}var N={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){N[s]=new P(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var i=s[0];N[i]=new P(i,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){N[s]=new P(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){N[s]=new P(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){N[s]=new P(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){N[s]=new P(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){N[s]=new P(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){N[s]=new P(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){N[s]=new P(s,5,!1,s.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function k(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var i=s.replace(R,k);N[i]=new P(i,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var i=s.replace(R,k);N[i]=new P(i,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var i=s.replace(R,k);N[i]=new P(i,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!1,!1)}),N.xlinkHref=new P("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){N[s]=new P(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,i,f,g){var _=N.hasOwnProperty(i)?N[i]:null;(_!==null?_.type!==0:g||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(E(i,f,_,g)&&(f=null),g||_===null?b(i)&&(f===null?s.removeAttribute(i):s.setAttribute(i,""+f)):_.mustUseProperty?s[_.propertyName]=f===null?_.type===3?!1:"":f:(i=_.attributeName,g=_.attributeNamespace,f===null?s.removeAttribute(i):(_=_.type,f=_===3||_===4&&f===!0?"":""+f,g?s.setAttributeNS(g,i,f):s.setAttribute(i,f))))}var M=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,I=Symbol.for("react.element"),D=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),q=Symbol.for("react.profiler"),X=Symbol.for("react.provider"),re=Symbol.for("react.context"),ie=Symbol.for("react.forward_ref"),me=Symbol.for("react.suspense"),pe=Symbol.for("react.suspense_list"),ke=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),W=Symbol.iterator;function K(s){return s===null||typeof s!="object"?null:(s=W&&s[W]||s["@@iterator"],typeof s=="function"?s:null)}var ne=Object.assign,B;function U(s){if(B===void 0)try{throw Error()}catch(f){var i=f.stack.trim().match(/\n( *(at )?)/);B=i&&i[1]||""}return`
`+B+s}var V=!1;function ae(s,i){if(!s||V)return"";V=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ce){var g=ce}Reflect.construct(s,[],i)}else{try{i.call()}catch(ce){g=ce}s.call(i.prototype)}else{try{throw Error()}catch(ce){g=ce}s()}}catch(ce){if(ce&&g&&typeof ce.stack=="string"){for(var _=ce.stack.split(`
`),j=g.stack.split(`
`),O=_.length-1,H=j.length-1;1<=O&&0<=H&&_[O]!==j[H];)H--;for(;1<=O&&0<=H;O--,H--)if(_[O]!==j[H]){if(O!==1||H!==1)do if(O--,H--,0>H||_[O]!==j[H]){var Y=`
`+_[O].replace(" at new "," at ");return s.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",s.displayName)),Y}while(1<=O&&0<=H);break}}}finally{V=!1,Error.prepareStackTrace=f}return(s=s?s.displayName||s.name:"")?U(s):""}function ue(s){switch(s.tag){case 5:return U(s.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return s=ae(s.type,!1),s;case 11:return s=ae(s.type.render,!1),s;case 1:return s=ae(s.type,!0),s;default:return""}}function he(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case F:return"Fragment";case D:return"Portal";case q:return"Profiler";case z:return"StrictMode";case me:return"Suspense";case pe:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case re:return(s.displayName||"Context")+".Consumer";case X:return(s._context.displayName||"Context")+".Provider";case ie:var i=s.render;return s=s.displayName,s||(s=i.displayName||i.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case ke:return i=s.displayName||null,i!==null?i:he(s.type)||"Memo";case ge:i=s._payload,s=s._init;try{return he(s(i))}catch{}}return null}function te(s){var i=s.type;switch(s.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=i.render,s=s.displayName||s.name||"",i.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return he(i);case 8:return i===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function fe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Se(s){var i=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ee(s){var i=Se(s)?"checked":"value",f=Object.getOwnPropertyDescriptor(s.constructor.prototype,i),g=""+s[i];if(!s.hasOwnProperty(i)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var _=f.get,j=f.set;return Object.defineProperty(s,i,{configurable:!0,get:function(){return _.call(this)},set:function(O){g=""+O,j.call(this,O)}}),Object.defineProperty(s,i,{enumerable:f.enumerable}),{getValue:function(){return g},setValue:function(O){g=""+O},stopTracking:function(){s._valueTracker=null,delete s[i]}}}}function Ke(s){s._valueTracker||(s._valueTracker=Ee(s))}function We(s){if(!s)return!1;var i=s._valueTracker;if(!i)return!0;var f=i.getValue(),g="";return s&&(g=Se(s)?s.checked?"true":"false":s.value),s=g,s!==f?(i.setValue(s),!0):!1}function rt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function xt(s,i){var f=i.checked;return ne({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:f??s._wrapperState.initialChecked})}function pn(s,i){var f=i.defaultValue==null?"":i.defaultValue,g=i.checked!=null?i.checked:i.defaultChecked;f=fe(i.value!=null?i.value:f),s._wrapperState={initialChecked:g,initialValue:f,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function or(s,i){i=i.checked,i!=null&&T(s,"checked",i,!1)}function Yt(s,i){or(s,i);var f=fe(i.value),g=i.type;if(f!=null)g==="number"?(f===0&&s.value===""||s.value!=f)&&(s.value=""+f):s.value!==""+f&&(s.value=""+f);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}i.hasOwnProperty("value")?Dr(s,i.type,f):i.hasOwnProperty("defaultValue")&&Dr(s,i.type,fe(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(s.defaultChecked=!!i.defaultChecked)}function en(s,i,f){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var g=i.type;if(!(g!=="submit"&&g!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+s._wrapperState.initialValue,f||i===s.value||(s.value=i),s.defaultValue=i}f=s.name,f!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,f!==""&&(s.name=f)}function Dr(s,i,f){(i!=="number"||rt(s.ownerDocument)!==s)&&(f==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+f&&(s.defaultValue=""+f))}var Lr=Array.isArray;function qt(s,i,f,g){if(s=s.options,i){i={};for(var _=0;_<f.length;_++)i["$"+f[_]]=!0;for(f=0;f<s.length;f++)_=i.hasOwnProperty("$"+s[f].value),s[f].selected!==_&&(s[f].selected=_),_&&g&&(s[f].defaultSelected=!0)}else{for(f=""+fe(f),i=null,_=0;_<s.length;_++){if(s[_].value===f){s[_].selected=!0,g&&(s[_].defaultSelected=!0);return}i!==null||s[_].disabled||(i=s[_])}i!==null&&(i.selected=!0)}}function ns(s,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ne({},i,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function Va(s,i){var f=i.value;if(f==null){if(f=i.children,i=i.defaultValue,f!=null){if(i!=null)throw Error(t(92));if(Lr(f)){if(1<f.length)throw Error(t(93));f=f[0]}i=f}i==null&&(i=""),f=i}s._wrapperState={initialValue:fe(f)}}function lm(s,i){var f=fe(i.value),g=fe(i.defaultValue);f!=null&&(f=""+f,f!==s.value&&(s.value=f),i.defaultValue==null&&s.defaultValue!==f&&(s.defaultValue=f)),g!=null&&(s.defaultValue=""+g)}function zo(s){var i=s.textContent;i===s._wrapperState.initialValue&&i!==""&&i!==null&&(s.value=i)}function cm(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ga(s,i){return s==null||s==="http://www.w3.org/1999/xhtml"?cm(i):s==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ns,xc=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,f,g,_){MSApp.execUnsafeLocalFunction(function(){return s(i,f,g,_)})}:s}(function(s,i){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=i;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Ns.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;i.firstChild;)s.appendChild(i.firstChild)}});function qa(s,i){if(i){var f=s.firstChild;if(f&&f===s.lastChild&&f.nodeType===3){f.nodeValue=i;return}}s.textContent=i}var Ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Od=["Webkit","ms","Moz","O"];Object.keys(Ka).forEach(function(s){Od.forEach(function(i){i=i+s.charAt(0).toUpperCase()+s.substring(1),Ka[i]=Ka[s]})});function vc(s,i,f){return i==null||typeof i=="boolean"||i===""?"":f||typeof i!="number"||i===0||Ka.hasOwnProperty(s)&&Ka[s]?(""+i).trim():i+"px"}function yc(s,i){s=s.style;for(var f in i)if(i.hasOwnProperty(f)){var g=f.indexOf("--")===0,_=vc(f,i[f],g);f==="float"&&(f="cssFloat"),g?s.setProperty(f,_):s[f]=_}}var Dd=ne({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ki(s,i){if(i){if(Dd[s]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function Yi(s,i){if(s.indexOf("-")===-1)return typeof i.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ld=null;function $d(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Fd=null,Ya=null,Ja=null;function um(s){if(s=Tn(s)){if(typeof Fd!="function")throw Error(t(280));var i=s.stateNode;i&&(i=Jc(i),Fd(s.stateNode,s.type,i))}}function dm(s){Ya?Ja?Ja.push(s):Ja=[s]:Ya=s}function fm(){if(Ya){var s=Ya,i=Ja;if(Ja=Ya=null,um(s),i)for(s=0;s<i.length;s++)um(i[s])}}function hm(s,i){return s(i)}function zd(){}var Ud=!1;function mm(s,i,f){if(Ud)return s(i,f);Ud=!0;try{return hm(s,i,f)}finally{Ud=!1,(Ya!==null||Ja!==null)&&(zd(),fm())}}function Ji(s,i){var f=s.stateNode;if(f===null)return null;var g=Jc(f);if(g===null)return null;f=g[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(f&&typeof f!="function")throw Error(t(231,i,typeof f));return f}var Xi=!1;if(h)try{var Qi={};Object.defineProperty(Qi,"passive",{get:function(){Xi=!0}}),window.addEventListener("test",Qi,Qi),window.removeEventListener("test",Qi,Qi)}catch{Xi=!1}function Bd(s,i,f,g,_,j,O,H,Y){var ce=Array.prototype.slice.call(arguments,3);try{i.apply(f,ce)}catch(we){this.onError(we)}}var Zi=!1,wc=null,_c=!1,Wd=null,kx={onError:function(s){Zi=!0,wc=s}};function Cx(s,i,f,g,_,j,O,H,Y){Zi=!1,wc=null,Bd.apply(kx,arguments)}function Ex(s,i,f,g,_,j,O,H,Y){if(Cx.apply(this,arguments),Zi){if(Zi){var ce=wc;Zi=!1,wc=null}else throw Error(t(198));_c||(_c=!0,Wd=ce)}}function Xa(s){var i=s,f=s;if(s.alternate)for(;i.return;)i=i.return;else{s=i;do i=s,(i.flags&4098)!==0&&(f=i.return),s=i.return;while(s)}return i.tag===3?f:null}function Hd(s){if(s.tag===13){var i=s.memoizedState;if(i===null&&(s=s.alternate,s!==null&&(i=s.memoizedState)),i!==null)return i.dehydrated}return null}function pm(s){if(Xa(s)!==s)throw Error(t(188))}function Px(s){var i=s.alternate;if(!i){if(i=Xa(s),i===null)throw Error(t(188));return i!==s?null:s}for(var f=s,g=i;;){var _=f.return;if(_===null)break;var j=_.alternate;if(j===null){if(g=_.return,g!==null){f=g;continue}break}if(_.child===j.child){for(j=_.child;j;){if(j===f)return pm(_),s;if(j===g)return pm(_),i;j=j.sibling}throw Error(t(188))}if(f.return!==g.return)f=_,g=j;else{for(var O=!1,H=_.child;H;){if(H===f){O=!0,f=_,g=j;break}if(H===g){O=!0,g=_,f=j;break}H=H.sibling}if(!O){for(H=j.child;H;){if(H===f){O=!0,f=j,g=_;break}if(H===g){O=!0,g=j,f=_;break}H=H.sibling}if(!O)throw Error(t(189))}}if(f.alternate!==g)throw Error(t(190))}if(f.tag!==3)throw Error(t(188));return f.stateNode.current===f?s:i}function gm(s){return s=Px(s),s!==null?xm(s):null}function xm(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var i=xm(s);if(i!==null)return i;s=s.sibling}return null}var vm=e.unstable_scheduleCallback,ym=e.unstable_cancelCallback,bc=e.unstable_shouldYield,Rx=e.unstable_requestPaint,zt=e.unstable_now,Tx=e.unstable_getCurrentPriorityLevel,Vd=e.unstable_ImmediatePriority,wm=e.unstable_UserBlockingPriority,el=e.unstable_NormalPriority,_m=e.unstable_LowPriority,Gd=e.unstable_IdlePriority,jc=null,rs=null;function Ax(s){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(jc,s,void 0,(s.current.flags&128)===128)}catch{}}var $r=Math.clz32?Math.clz32:Sm,bm=Math.log,jm=Math.LN2;function Sm(s){return s>>>=0,s===0?32:31-(bm(s)/jm|0)|0}var Uo=64,Sc=4194304;function Bo(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Qa(s,i){var f=s.pendingLanes;if(f===0)return 0;var g=0,_=s.suspendedLanes,j=s.pingedLanes,O=f&268435455;if(O!==0){var H=O&~_;H!==0?g=Bo(H):(j&=O,j!==0&&(g=Bo(j)))}else O=f&~_,O!==0?g=Bo(O):j!==0&&(g=Bo(j));if(g===0)return 0;if(i!==0&&i!==g&&(i&_)===0&&(_=g&-g,j=i&-i,_>=j||_===16&&(j&4194240)!==0))return i;if((g&4)!==0&&(g|=f&16),i=s.entangledLanes,i!==0)for(s=s.entanglements,i&=g;0<i;)f=31-$r(i),_=1<<f,g|=s[f],i&=~_;return g}function Nm(s,i){switch(s){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ix(s,i){for(var f=s.suspendedLanes,g=s.pingedLanes,_=s.expirationTimes,j=s.pendingLanes;0<j;){var O=31-$r(j),H=1<<O,Y=_[O];Y===-1?((H&f)===0||(H&g)!==0)&&(_[O]=Nm(H,i)):Y<=i&&(s.expiredLanes|=H),j&=~H}}function Nc(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qd(){var s=Uo;return Uo<<=1,(Uo&4194240)===0&&(Uo=64),s}function tl(s){for(var i=[],f=0;31>f;f++)i.push(s);return i}function nl(s,i,f){s.pendingLanes|=i,i!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,i=31-$r(i),s[i]=f}function km(s,i){var f=s.pendingLanes&~i;s.pendingLanes=i,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=i,s.mutableReadLanes&=i,s.entangledLanes&=i,i=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<f;){var _=31-$r(f),j=1<<_;i[_]=0,g[_]=-1,s[_]=-1,f&=~j}}function rl(s,i){var f=s.entangledLanes|=i;for(s=s.entanglements;f;){var g=31-$r(f),_=1<<g;_&i|s[g]&i&&(s[g]|=i),f&=~_}}var Ct=0;function Za(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Kd,kc,Cm,Yd,Jd,Cc=!1,sl=[],sa=null,aa=null,oa=null,Wo=new Map,al=new Map,ia=[],Mx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Em(s,i){switch(s){case"focusin":case"focusout":sa=null;break;case"dragenter":case"dragleave":aa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Wo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":al.delete(i.pointerId)}}function eo(s,i,f,g,_,j){return s===null||s.nativeEvent!==j?(s={blockedOn:i,domEventName:f,eventSystemFlags:g,nativeEvent:j,targetContainers:[_]},i!==null&&(i=Tn(i),i!==null&&kc(i)),s):(s.eventSystemFlags|=g,i=s.targetContainers,_!==null&&i.indexOf(_)===-1&&i.push(_),s)}function Ox(s,i,f,g,_){switch(i){case"focusin":return sa=eo(sa,s,i,f,g,_),!0;case"dragenter":return aa=eo(aa,s,i,f,g,_),!0;case"mouseover":return oa=eo(oa,s,i,f,g,_),!0;case"pointerover":var j=_.pointerId;return Wo.set(j,eo(Wo.get(j)||null,s,i,f,g,_)),!0;case"gotpointercapture":return j=_.pointerId,al.set(j,eo(al.get(j)||null,s,i,f,g,_)),!0}return!1}function Pm(s){var i=is(s.target);if(i!==null){var f=Xa(i);if(f!==null){if(i=f.tag,i===13){if(i=Hd(f),i!==null){s.blockedOn=i,Jd(s.priority,function(){Cm(f)});return}}else if(i===3&&f.stateNode.current.memoizedState.isDehydrated){s.blockedOn=f.tag===3?f.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Ec(s){if(s.blockedOn!==null)return!1;for(var i=s.targetContainers;0<i.length;){var f=Tc(s.domEventName,s.eventSystemFlags,i[0],s.nativeEvent);if(f===null){f=s.nativeEvent;var g=new f.constructor(f.type,f);Ld=g,f.target.dispatchEvent(g),Ld=null}else return i=Tn(f),i!==null&&kc(i),s.blockedOn=f,!1;i.shift()}return!0}function Rm(s,i,f){Ec(s)&&f.delete(i)}function Dx(){Cc=!1,sa!==null&&Ec(sa)&&(sa=null),aa!==null&&Ec(aa)&&(aa=null),oa!==null&&Ec(oa)&&(oa=null),Wo.forEach(Rm),al.forEach(Rm)}function Pt(s,i){s.blockedOn===i&&(s.blockedOn=null,Cc||(Cc=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dx)))}function Et(s){function i(_){return Pt(_,s)}if(0<sl.length){Pt(sl[0],s);for(var f=1;f<sl.length;f++){var g=sl[f];g.blockedOn===s&&(g.blockedOn=null)}}for(sa!==null&&Pt(sa,s),aa!==null&&Pt(aa,s),oa!==null&&Pt(oa,s),Wo.forEach(i),al.forEach(i),f=0;f<ia.length;f++)g=ia[f],g.blockedOn===s&&(g.blockedOn=null);for(;0<ia.length&&(f=ia[0],f.blockedOn===null);)Pm(f),f.blockedOn===null&&ia.shift()}var Ho=M.ReactCurrentBatchConfig,Pc=!0;function Lx(s,i,f,g){var _=Ct,j=Ho.transition;Ho.transition=null;try{Ct=1,Xd(s,i,f,g)}finally{Ct=_,Ho.transition=j}}function $x(s,i,f,g){var _=Ct,j=Ho.transition;Ho.transition=null;try{Ct=4,Xd(s,i,f,g)}finally{Ct=_,Ho.transition=j}}function Xd(s,i,f,g){if(Pc){var _=Tc(s,i,f,g);if(_===null)pf(s,i,g,Rc,f),Em(s,g);else if(Ox(_,s,i,f,g))g.stopPropagation();else if(Em(s,g),i&4&&-1<Mx.indexOf(s)){for(;_!==null;){var j=Tn(_);if(j!==null&&Kd(j),j=Tc(s,i,f,g),j===null&&pf(s,i,g,Rc,f),j===_)break;_=j}_!==null&&g.stopPropagation()}else pf(s,i,g,null,f)}}var Rc=null;function Tc(s,i,f,g){if(Rc=null,s=$d(g),s=is(s),s!==null)if(i=Xa(s),i===null)s=null;else if(f=i.tag,f===13){if(s=Hd(i),s!==null)return s;s=null}else if(f===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;s=null}else i!==s&&(s=null);return Rc=s,null}function Tm(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tx()){case Vd:return 1;case wm:return 4;case el:case _m:return 16;case Gd:return 536870912;default:return 16}default:return 16}}var Ut=null,ol=null,ss=null;function Qd(){if(ss)return ss;var s,i=ol,f=i.length,g,_="value"in Ut?Ut.value:Ut.textContent,j=_.length;for(s=0;s<f&&i[s]===_[s];s++);var O=f-s;for(g=1;g<=O&&i[f-g]===_[j-g];g++);return ss=_.slice(s,1<g?1-g:void 0)}function Vo(s){var i=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&i===13&&(s=13)):s=i,s===10&&(s=13),32<=s||s===13?s:0}function zn(){return!0}function Zd(){return!1}function Jn(s){function i(f,g,_,j,O){this._reactName=f,this._targetInst=_,this.type=g,this.nativeEvent=j,this.target=O,this.currentTarget=null;for(var H in s)s.hasOwnProperty(H)&&(f=s[H],this[H]=f?f(j):j[H]);return this.isDefaultPrevented=(j.defaultPrevented!=null?j.defaultPrevented:j.returnValue===!1)?zn:Zd,this.isPropagationStopped=Zd,this}return ne(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var f=this.nativeEvent;f&&(f.preventDefault?f.preventDefault():typeof f.returnValue!="unknown"&&(f.returnValue=!1),this.isDefaultPrevented=zn)},stopPropagation:function(){var f=this.nativeEvent;f&&(f.stopPropagation?f.stopPropagation():typeof f.cancelBubble!="unknown"&&(f.cancelBubble=!0),this.isPropagationStopped=zn)},persist:function(){},isPersistent:zn}),i}var to={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ac=Jn(to),Go=ne({},to,{view:0,detail:0}),Am=Jn(Go),Un,ef,Pn,Ic=ne({},Go,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:af,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Pn&&(Pn&&s.type==="mousemove"?(Un=s.screenX-Pn.screenX,ef=s.screenY-Pn.screenY):ef=Un=0,Pn=s),Un)},movementY:function(s){return"movementY"in s?s.movementY:ef}}),tf=Jn(Ic),la=ne({},Ic,{dataTransfer:0}),Mc=Jn(la),nf=ne({},Go,{relatedTarget:0}),Mt=Jn(nf),ca=ne({},to,{animationName:0,elapsedTime:0,pseudoElement:0}),rf=Jn(ca),Fx=ne({},to,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),sf=Jn(Fx),zx=ne({},to,{data:0}),Im=Jn(zx),Ux={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qo(s){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(s):(s=Oc[s])?!!i[s]:!1}function af(){return qo}var Om=ne({},Go,{key:function(s){if(s.key){var i=Ux[s.key]||s.key;if(i!=="Unidentified")return i}return s.type==="keypress"?(s=Vo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Mm[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:af,charCode:function(s){return s.type==="keypress"?Vo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Vo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Dm=Jn(Om),of=ne({},Ic,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dc=Jn(of),Lm=ne({},Go,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:af}),Bx=Jn(Lm),lf=ne({},to,{propertyName:0,elapsedTime:0,pseudoElement:0}),cf=Jn(lf),Wx=ne({},Ic,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),$m=Jn(Wx),ir=[9,13,27,32],il=h&&"CompositionEvent"in window,ks=null;h&&"documentMode"in document&&(ks=document.documentMode);var Fm=h&&"TextEvent"in window&&!ks,uf=h&&(!il||ks&&8<ks&&11>=ks),zm=" ",Um=!1;function Bm(s,i){switch(s){case"keyup":return ir.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wm(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ko=!1;function Yo(s,i){switch(s){case"compositionend":return Wm(i);case"keypress":return i.which!==32?null:(Um=!0,zm);case"textInput":return s=i.data,s===zm&&Um?null:s;default:return null}}function Hx(s,i){if(Ko)return s==="compositionend"||!il&&Bm(s,i)?(s=Qd(),ss=ol=Ut=null,Ko=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return uf&&i.locale!=="ko"?null:i.data;default:return null}}var Vx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lc(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i==="input"?!!Vx[s.type]:i==="textarea"}function df(s,i,f,g){dm(g),i=Gc(i,"onChange"),0<i.length&&(f=new Ac("onChange","change",null,f,g),s.push({event:f,listeners:i}))}var vr=null,ua=null;function Gx(s){Jm(s,0)}function $c(s){var i=ct(s);if(We(i))return s}function qx(s,i){if(s==="change")return i}var no=!1;if(h){var lr;if(h){var Fc="oninput"in document;if(!Fc){var Hm=document.createElement("div");Hm.setAttribute("oninput","return;"),Fc=typeof Hm.oninput=="function"}lr=Fc}else lr=!1;no=lr&&(!document.documentMode||9<document.documentMode)}function Vm(){vr&&(vr.detachEvent("onpropertychange",Gm),ua=vr=null)}function Gm(s){if(s.propertyName==="value"&&$c(ua)){var i=[];df(i,ua,s,$d(s)),mm(Gx,i)}}function Kx(s,i,f){s==="focusin"?(Vm(),vr=i,ua=f,vr.attachEvent("onpropertychange",Gm)):s==="focusout"&&Vm()}function Yx(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return $c(ua)}function Jo(s,i){if(s==="click")return $c(i)}function Z(s,i){if(s==="input"||s==="change")return $c(i)}function de(s,i){return s===i&&(s!==0||1/s===1/i)||s!==s&&i!==i}var le=typeof Object.is=="function"?Object.is:de;function Ie(s,i){if(le(s,i))return!0;if(typeof s!="object"||s===null||typeof i!="object"||i===null)return!1;var f=Object.keys(s),g=Object.keys(i);if(f.length!==g.length)return!1;for(g=0;g<f.length;g++){var _=f[g];if(!m.call(i,_)||!le(s[_],i[_]))return!1}return!0}function it(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function St(s,i){var f=it(s);s=0;for(var g;f;){if(f.nodeType===3){if(g=s+f.textContent.length,s<=i&&g>=i)return{node:f,offset:i-s};s=g}e:{for(;f;){if(f.nextSibling){f=f.nextSibling;break e}f=f.parentNode}f=void 0}f=it(f)}}function tn(s,i){return s&&i?s===i?!0:s&&s.nodeType===3?!1:i&&i.nodeType===3?tn(s,i.parentNode):"contains"in s?s.contains(i):s.compareDocumentPosition?!!(s.compareDocumentPosition(i)&16):!1:!1}function Tt(){for(var s=window,i=rt();i instanceof s.HTMLIFrameElement;){try{var f=typeof i.contentWindow.location.href=="string"}catch{f=!1}if(f)s=i.contentWindow;else break;i=rt(s.document)}return i}function ll(s){var i=s&&s.nodeName&&s.nodeName.toLowerCase();return i&&(i==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||i==="textarea"||s.contentEditable==="true")}function Jx(s){var i=Tt(),f=s.focusedElem,g=s.selectionRange;if(i!==f&&f&&f.ownerDocument&&tn(f.ownerDocument.documentElement,f)){if(g!==null&&ll(f)){if(i=g.start,s=g.end,s===void 0&&(s=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(s,f.value.length);else if(s=(i=f.ownerDocument||document)&&i.defaultView||window,s.getSelection){s=s.getSelection();var _=f.textContent.length,j=Math.min(g.start,_);g=g.end===void 0?j:Math.min(g.end,_),!s.extend&&j>g&&(_=g,g=j,j=_),_=St(f,j);var O=St(f,g);_&&O&&(s.rangeCount!==1||s.anchorNode!==_.node||s.anchorOffset!==_.offset||s.focusNode!==O.node||s.focusOffset!==O.offset)&&(i=i.createRange(),i.setStart(_.node,_.offset),s.removeAllRanges(),j>g?(s.addRange(i),s.extend(O.node,O.offset)):(i.setEnd(O.node,O.offset),s.addRange(i)))}}for(i=[],s=f;s=s.parentNode;)s.nodeType===1&&i.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)s=i[f],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var yr=h&&"documentMode"in document&&11>=document.documentMode,Cs=null,ff=null,as=null,Xo=!1;function cl(s,i,f){var g=f.window===f?f.document:f.nodeType===9?f:f.ownerDocument;Xo||Cs==null||Cs!==rt(g)||(g=Cs,"selectionStart"in g&&ll(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),as&&Ie(as,g)||(as=g,g=Gc(ff,"onSelect"),0<g.length&&(i=new Ac("onSelect","select",null,i,f),s.push({event:i,listeners:g}),i.target=Cs)))}function Nt(s,i){var f={};return f[s.toLowerCase()]=i.toLowerCase(),f["Webkit"+s]="webkit"+i,f["Moz"+s]="moz"+i,f}var Qo={animationend:Nt("Animation","AnimationEnd"),animationiteration:Nt("Animation","AnimationIteration"),animationstart:Nt("Animation","AnimationStart"),transitionend:Nt("Transition","TransitionEnd")},zc={},ul={};h&&(ul=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function Uc(s){if(zc[s])return zc[s];if(!Qo[s])return s;var i=Qo[s],f;for(f in i)if(i.hasOwnProperty(f)&&f in ul)return zc[s]=i[f];return s}var qm=Uc("animationend"),Km=Uc("animationiteration"),dl=Uc("animationstart"),Es=Uc("transitionend"),fl=new Map,hf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(s,i){fl.set(s,i),c(i,[s])}for(var Bc=0;Bc<hf.length;Bc++){var Wc=hf[Bc],Hc=Wc.toLowerCase(),Ym=Wc[0].toUpperCase()+Wc.slice(1);Fr(Hc,"on"+Ym)}Fr(qm,"onAnimationEnd"),Fr(Km,"onAnimationIteration"),Fr(dl,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Es,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ps="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ro=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ps));function hl(s,i,f){var g=s.type||"unknown-event";s.currentTarget=f,Ex(g,i,void 0,s),s.currentTarget=null}function Jm(s,i){i=(i&4)!==0;for(var f=0;f<s.length;f++){var g=s[f],_=g.event;g=g.listeners;e:{var j=void 0;if(i)for(var O=g.length-1;0<=O;O--){var H=g[O],Y=H.instance,ce=H.currentTarget;if(H=H.listener,Y!==j&&_.isPropagationStopped())break e;hl(_,H,ce),j=Y}else for(O=0;O<g.length;O++){if(H=g[O],Y=H.instance,ce=H.currentTarget,H=H.listener,Y!==j&&_.isPropagationStopped())break e;hl(_,H,ce),j=Y}}}if(_c)throw s=Wd,_c=!1,Wd=null,s}function Dt(s,i){var f=i[Yc];f===void 0&&(f=i[Yc]=new Set);var g=s+"__bubble";f.has(g)||(Vc(i,s,2,!1),f.add(g))}function mf(s,i,f){var g=0;i&&(g|=4),Vc(f,s,g,i)}var so="_reactListening"+Math.random().toString(36).slice(2);function da(s){if(!s[so]){s[so]=!0,r.forEach(function(f){f!=="selectionchange"&&(ro.has(f)||mf(f,!1,s),mf(f,!0,s))});var i=s.nodeType===9?s:s.ownerDocument;i===null||i[so]||(i[so]=!0,mf("selectionchange",!1,i))}}function Vc(s,i,f,g){switch(Tm(i)){case 1:var _=Lx;break;case 4:_=$x;break;default:_=Xd}f=_.bind(null,i,f,s),_=void 0,!Xi||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(_=!0),g?_!==void 0?s.addEventListener(i,f,{capture:!0,passive:_}):s.addEventListener(i,f,!0):_!==void 0?s.addEventListener(i,f,{passive:_}):s.addEventListener(i,f,!1)}function pf(s,i,f,g,_){var j=g;if((i&1)===0&&(i&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var H=g.stateNode.containerInfo;if(H===_||H.nodeType===8&&H.parentNode===_)break;if(O===4)for(O=g.return;O!==null;){var Y=O.tag;if((Y===3||Y===4)&&(Y=O.stateNode.containerInfo,Y===_||Y.nodeType===8&&Y.parentNode===_))return;O=O.return}for(;H!==null;){if(O=is(H),O===null)return;if(Y=O.tag,Y===5||Y===6){g=j=O;continue e}H=H.parentNode}}g=g.return}mm(function(){var ce=j,we=$d(f),je=[];e:{var ye=fl.get(s);if(ye!==void 0){var Me=Ac,Fe=s;switch(s){case"keypress":if(Vo(f)===0)break e;case"keydown":case"keyup":Me=Dm;break;case"focusin":Fe="focus",Me=Mt;break;case"focusout":Fe="blur",Me=Mt;break;case"beforeblur":case"afterblur":Me=Mt;break;case"click":if(f.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Me=tf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Me=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Me=Bx;break;case qm:case Km:case dl:Me=rf;break;case Es:Me=cf;break;case"scroll":Me=Am;break;case"wheel":Me=$m;break;case"copy":case"cut":case"paste":Me=sf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Me=Dc}var Ue=(i&4)!==0,Xt=!Ue&&s==="scroll",se=Ue?ye!==null?ye+"Capture":null:ye;Ue=[];for(var Q=ce,oe;Q!==null;){oe=Q;var Ne=oe.stateNode;if(oe.tag===5&&Ne!==null&&(oe=Ne,se!==null&&(Ne=Ji(Q,se),Ne!=null&&Ue.push(Zo(Q,Ne,oe)))),Xt)break;Q=Q.return}0<Ue.length&&(ye=new Me(ye,Fe,null,f,we),je.push({event:ye,listeners:Ue}))}}if((i&7)===0){e:{if(ye=s==="mouseover"||s==="pointerover",Me=s==="mouseout"||s==="pointerout",ye&&f!==Ld&&(Fe=f.relatedTarget||f.fromElement)&&(is(Fe)||Fe[cr]))break e;if((Me||ye)&&(ye=we.window===we?we:(ye=we.ownerDocument)?ye.defaultView||ye.parentWindow:window,Me?(Fe=f.relatedTarget||f.toElement,Me=ce,Fe=Fe?is(Fe):null,Fe!==null&&(Xt=Xa(Fe),Fe!==Xt||Fe.tag!==5&&Fe.tag!==6)&&(Fe=null)):(Me=null,Fe=ce),Me!==Fe)){if(Ue=tf,Ne="onMouseLeave",se="onMouseEnter",Q="mouse",(s==="pointerout"||s==="pointerover")&&(Ue=Dc,Ne="onPointerLeave",se="onPointerEnter",Q="pointer"),Xt=Me==null?ye:ct(Me),oe=Fe==null?ye:ct(Fe),ye=new Ue(Ne,Q+"leave",Me,f,we),ye.target=Xt,ye.relatedTarget=oe,Ne=null,is(we)===ce&&(Ue=new Ue(se,Q+"enter",Fe,f,we),Ue.target=oe,Ue.relatedTarget=Xt,Ne=Ue),Xt=Ne,Me&&Fe)t:{for(Ue=Me,se=Fe,Q=0,oe=Ue;oe;oe=ei(oe))Q++;for(oe=0,Ne=se;Ne;Ne=ei(Ne))oe++;for(;0<Q-oe;)Ue=ei(Ue),Q--;for(;0<oe-Q;)se=ei(se),oe--;for(;Q--;){if(Ue===se||se!==null&&Ue===se.alternate)break t;Ue=ei(Ue),se=ei(se)}Ue=null}else Ue=null;Me!==null&&nn(je,ye,Me,Ue,!1),Fe!==null&&Xt!==null&&nn(je,Xt,Fe,Ue,!0)}}e:{if(ye=ce?ct(ce):window,Me=ye.nodeName&&ye.nodeName.toLowerCase(),Me==="select"||Me==="input"&&ye.type==="file")var qe=qx;else if(Lc(ye))if(no)qe=Z;else{qe=Yx;var Ze=Kx}else(Me=ye.nodeName)&&Me.toLowerCase()==="input"&&(ye.type==="checkbox"||ye.type==="radio")&&(qe=Jo);if(qe&&(qe=qe(s,ce))){df(je,qe,f,we);break e}Ze&&Ze(s,ye,ce),s==="focusout"&&(Ze=ye._wrapperState)&&Ze.controlled&&ye.type==="number"&&Dr(ye,"number",ye.value)}switch(Ze=ce?ct(ce):window,s){case"focusin":(Lc(Ze)||Ze.contentEditable==="true")&&(Cs=Ze,ff=ce,as=null);break;case"focusout":as=ff=Cs=null;break;case"mousedown":Xo=!0;break;case"contextmenu":case"mouseup":case"dragend":Xo=!1,cl(je,f,we);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":cl(je,f,we)}var Qe;if(il)e:{switch(s){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else Ko?Bm(s,f)&&(st="onCompositionEnd"):s==="keydown"&&f.keyCode===229&&(st="onCompositionStart");st&&(uf&&f.locale!=="ko"&&(Ko||st!=="onCompositionStart"?st==="onCompositionEnd"&&Ko&&(Qe=Qd()):(Ut=we,ol="value"in Ut?Ut.value:Ut.textContent,Ko=!0)),Ze=Gc(ce,st),0<Ze.length&&(st=new Im(st,s,null,f,we),je.push({event:st,listeners:Ze}),Qe?st.data=Qe:(Qe=Wm(f),Qe!==null&&(st.data=Qe)))),(Qe=Fm?Yo(s,f):Hx(s,f))&&(ce=Gc(ce,"onBeforeInput"),0<ce.length&&(we=new Im("onBeforeInput","beforeinput",null,f,we),je.push({event:we,listeners:ce}),we.data=Qe))}Jm(je,i)})}function Zo(s,i,f){return{instance:s,listener:i,currentTarget:f}}function Gc(s,i){for(var f=i+"Capture",g=[];s!==null;){var _=s,j=_.stateNode;_.tag===5&&j!==null&&(_=j,j=Ji(s,f),j!=null&&g.unshift(Zo(s,j,_)),j=Ji(s,i),j!=null&&g.push(Zo(s,j,_))),s=s.return}return g}function ei(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function nn(s,i,f,g,_){for(var j=i._reactName,O=[];f!==null&&f!==g;){var H=f,Y=H.alternate,ce=H.stateNode;if(Y!==null&&Y===g)break;H.tag===5&&ce!==null&&(H=ce,_?(Y=Ji(f,j),Y!=null&&O.unshift(Zo(f,Y,H))):_||(Y=Ji(f,j),Y!=null&&O.push(Zo(f,Y,H)))),f=f.return}O.length!==0&&s.push({event:i,listeners:O})}var Rn=/\r\n?/g,Xx=/\u0000|\uFFFD/g;function Xm(s){return(typeof s=="string"?s:""+s).replace(Rn,`
`).replace(Xx,"")}function ml(s,i,f){if(i=Xm(i),Xm(s)!==i&&f)throw Error(t(425))}function qc(){}var pl=null,ao=null;function gl(s,i){return s==="textarea"||s==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var fa=typeof setTimeout=="function"?setTimeout:void 0,xl=typeof clearTimeout=="function"?clearTimeout:void 0,ti=typeof Promise=="function"?Promise:void 0,Kc=typeof queueMicrotask=="function"?queueMicrotask:typeof ti<"u"?function(s){return ti.resolve(null).then(s).catch(ni)}:fa;function ni(s){setTimeout(function(){throw s})}function gf(s,i){var f=i,g=0;do{var _=f.nextSibling;if(s.removeChild(f),_&&_.nodeType===8)if(f=_.data,f==="/$"){if(g===0){s.removeChild(_),Et(i);return}g--}else f!=="$"&&f!=="$?"&&f!=="$!"||g++;f=_}while(f);Et(i)}function ha(s){for(;s!=null;s=s.nextSibling){var i=s.nodeType;if(i===1||i===3)break;if(i===8){if(i=s.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return s}function Qm(s){s=s.previousSibling;for(var i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="$"||f==="$!"||f==="$?"){if(i===0)return s;i--}else f==="/$"&&i++}s=s.previousSibling}return null}var ri=Math.random().toString(36).slice(2),os="__reactFiber$"+ri,ma="__reactProps$"+ri,cr="__reactContainer$"+ri,Yc="__reactEvents$"+ri,L="__reactListeners$"+ri,si="__reactHandles$"+ri;function is(s){var i=s[os];if(i)return i;for(var f=s.parentNode;f;){if(i=f[cr]||f[os]){if(f=i.alternate,i.child!==null||f!==null&&f.child!==null)for(s=Qm(s);s!==null;){if(f=s[os])return f;s=Qm(s)}return i}s=f,f=s.parentNode}return null}function Tn(s){return s=s[os]||s[cr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ct(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Jc(s){return s[ma]||null}var xf=[],ai=-1;function Xn(s){return{current:s}}function Lt(s){0>ai||(s.current=xf[ai],xf[ai]=null,ai--)}function Ot(s,i){ai++,xf[ai]=s.current,s.current=i}var pa={},An=Xn(pa),Qn=Xn(!1),Bn=pa;function oi(s,i){var f=s.type.contextTypes;if(!f)return pa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===i)return g.__reactInternalMemoizedMaskedChildContext;var _={},j;for(j in f)_[j]=i[j];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=i,s.__reactInternalMemoizedMaskedChildContext=_),_}function Zn(s){return s=s.childContextTypes,s!=null}function Xc(){Lt(Qn),Lt(An)}function Zm(s,i,f){if(An.current!==pa)throw Error(t(168));Ot(An,i),Ot(Qn,f)}function ep(s,i,f){var g=s.stateNode;if(i=i.childContextTypes,typeof g.getChildContext!="function")return f;g=g.getChildContext();for(var _ in g)if(!(_ in i))throw Error(t(108,te(s)||"Unknown",_));return ne({},f,g)}function wr(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||pa,Bn=An.current,Ot(An,s),Ot(Qn,Qn.current),!0}function tp(s,i,f){var g=s.stateNode;if(!g)throw Error(t(169));f?(s=ep(s,i,Bn),g.__reactInternalMemoizedMergedChildContext=s,Lt(Qn),Lt(An),Ot(An,s)):Lt(Qn),Ot(Qn,f)}var Rs=null,Qc=!1,vf=!1;function np(s){Rs===null?Rs=[s]:Rs.push(s)}function oo(s){Qc=!0,np(s)}function ga(){if(!vf&&Rs!==null){vf=!0;var s=0,i=Ct;try{var f=Rs;for(Ct=1;s<f.length;s++){var g=f[s];do g=g(!0);while(g!==null)}Rs=null,Qc=!1}catch(_){throw Rs!==null&&(Rs=Rs.slice(s+1)),vm(Vd,ga),_}finally{Ct=i,vf=!1}}return null}var ii=[],In=0,Zc=null,eu=0,_r=[],br=0,io=null,ls=1,cs="";function lo(s,i){ii[In++]=eu,ii[In++]=Zc,Zc=s,eu=i}function rp(s,i,f){_r[br++]=ls,_r[br++]=cs,_r[br++]=io,io=s;var g=ls;s=cs;var _=32-$r(g)-1;g&=~(1<<_),f+=1;var j=32-$r(i)+_;if(30<j){var O=_-_%5;j=(g&(1<<O)-1).toString(32),g>>=O,_-=O,ls=1<<32-$r(i)+_|f<<_|g,cs=j+s}else ls=1<<j|f<<_|g,cs=s}function vl(s){s.return!==null&&(lo(s,1),rp(s,1,0))}function co(s){for(;s===Zc;)Zc=ii[--In],ii[In]=null,eu=ii[--In],ii[In]=null;for(;s===io;)io=_r[--br],_r[br]=null,cs=_r[--br],_r[br]=null,ls=_r[--br],_r[br]=null}var Mn=null,ur=null,$t=!1,zr=null;function us(s,i){var f=Pr(5,null,null,0);f.elementType="DELETED",f.stateNode=i,f.return=s,i=s.deletions,i===null?(s.deletions=[f],s.flags|=16):i.push(f)}function tu(s,i){switch(s.tag){case 5:var f=s.type;return i=i.nodeType!==1||f.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(s.stateNode=i,Mn=s,ur=ha(i.firstChild),!0):!1;case 6:return i=s.pendingProps===""||i.nodeType!==3?null:i,i!==null?(s.stateNode=i,Mn=s,ur=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(f=io!==null?{id:ls,overflow:cs}:null,s.memoizedState={dehydrated:i,treeContext:f,retryLane:1073741824},f=Pr(18,null,null,0),f.stateNode=i,f.return=s,s.child=f,Mn=s,ur=null,!0):!1;default:return!1}}function Ts(s){return(s.mode&1)!==0&&(s.flags&128)===0}function er(s){if($t){var i=ur;if(i){var f=i;if(!tu(s,i)){if(Ts(s))throw Error(t(418));i=ha(f.nextSibling);var g=Mn;i&&tu(s,i)?us(g,f):(s.flags=s.flags&-4097|2,$t=!1,Mn=s)}}else{if(Ts(s))throw Error(t(418));s.flags=s.flags&-4097|2,$t=!1,Mn=s}}}function sp(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Mn=s}function yl(s){if(s!==Mn)return!1;if(!$t)return sp(s),$t=!0,!1;var i;if((i=s.tag!==3)&&!(i=s.tag!==5)&&(i=s.type,i=i!=="head"&&i!=="body"&&!gl(s.type,s.memoizedProps)),i&&(i=ur)){if(Ts(s))throw yf(),Error(t(418));for(;i;)us(s,i),i=ha(i.nextSibling)}if(sp(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,i=0;s;){if(s.nodeType===8){var f=s.data;if(f==="/$"){if(i===0){ur=ha(s.nextSibling);break e}i--}else f!=="$"&&f!=="$!"&&f!=="$?"||i++}s=s.nextSibling}ur=null}}else ur=Mn?ha(s.stateNode.nextSibling):null;return!0}function yf(){for(var s=ur;s;)s=ha(s.nextSibling)}function ds(){ur=Mn=null,$t=!1}function fs(s){zr===null?zr=[s]:zr.push(s)}var ap=M.ReactCurrentBatchConfig;function wl(s,i,f){if(s=f.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(f._owner){if(f=f._owner,f){if(f.tag!==1)throw Error(t(309));var g=f.stateNode}if(!g)throw Error(t(147,s));var _=g,j=""+s;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===j?i.ref:(i=function(O){var H=_.refs;O===null?delete H[j]:H[j]=O},i._stringRef=j,i)}if(typeof s!="string")throw Error(t(284));if(!f._owner)throw Error(t(290,s))}return s}function uo(s,i){throw s=Object.prototype.toString.call(i),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":s))}function op(s){var i=s._init;return i(s._payload)}function wf(s){function i(se,Q){if(s){var oe=se.deletions;oe===null?(se.deletions=[Q],se.flags|=16):oe.push(Q)}}function f(se,Q){if(!s)return null;for(;Q!==null;)i(se,Q),Q=Q.sibling;return null}function g(se,Q){for(se=new Map;Q!==null;)Q.key!==null?se.set(Q.key,Q):se.set(Q.index,Q),Q=Q.sibling;return se}function _(se,Q){return se=qr(se,Q),se.index=0,se.sibling=null,se}function j(se,Q,oe){return se.index=oe,s?(oe=se.alternate,oe!==null?(oe=oe.index,oe<Q?(se.flags|=2,Q):oe):(se.flags|=2,Q)):(se.flags|=1048576,Q)}function O(se){return s&&se.alternate===null&&(se.flags|=2),se}function H(se,Q,oe,Ne){return Q===null||Q.tag!==6?(Q=oh(oe,se.mode,Ne),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function Y(se,Q,oe,Ne){var qe=oe.type;return qe===F?we(se,Q,oe.props.children,Ne,oe.key):Q!==null&&(Q.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ge&&op(qe)===Q.type)?(Ne=_(Q,oe.props),Ne.ref=wl(se,Q,oe),Ne.return=se,Ne):(Ne=Du(oe.type,oe.key,oe.props,null,se.mode,Ne),Ne.ref=wl(se,Q,oe),Ne.return=se,Ne)}function ce(se,Q,oe,Ne){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==oe.containerInfo||Q.stateNode.implementation!==oe.implementation?(Q=ih(oe,se.mode,Ne),Q.return=se,Q):(Q=_(Q,oe.children||[]),Q.return=se,Q)}function we(se,Q,oe,Ne,qe){return Q===null||Q.tag!==7?(Q=bo(oe,se.mode,Ne,qe),Q.return=se,Q):(Q=_(Q,oe),Q.return=se,Q)}function je(se,Q,oe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return Q=oh(""+Q,se.mode,oe),Q.return=se,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case I:return oe=Du(Q.type,Q.key,Q.props,null,se.mode,oe),oe.ref=wl(se,null,Q),oe.return=se,oe;case D:return Q=ih(Q,se.mode,oe),Q.return=se,Q;case ge:var Ne=Q._init;return je(se,Ne(Q._payload),oe)}if(Lr(Q)||K(Q))return Q=bo(Q,se.mode,oe,null),Q.return=se,Q;uo(se,Q)}return null}function ye(se,Q,oe,Ne){var qe=Q!==null?Q.key:null;if(typeof oe=="string"&&oe!==""||typeof oe=="number")return qe!==null?null:H(se,Q,""+oe,Ne);if(typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:return oe.key===qe?Y(se,Q,oe,Ne):null;case D:return oe.key===qe?ce(se,Q,oe,Ne):null;case ge:return qe=oe._init,ye(se,Q,qe(oe._payload),Ne)}if(Lr(oe)||K(oe))return qe!==null?null:we(se,Q,oe,Ne,null);uo(se,oe)}return null}function Me(se,Q,oe,Ne,qe){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number")return se=se.get(oe)||null,H(Q,se,""+Ne,qe);if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case I:return se=se.get(Ne.key===null?oe:Ne.key)||null,Y(Q,se,Ne,qe);case D:return se=se.get(Ne.key===null?oe:Ne.key)||null,ce(Q,se,Ne,qe);case ge:var Ze=Ne._init;return Me(se,Q,oe,Ze(Ne._payload),qe)}if(Lr(Ne)||K(Ne))return se=se.get(oe)||null,we(Q,se,Ne,qe,null);uo(Q,Ne)}return null}function Fe(se,Q,oe,Ne){for(var qe=null,Ze=null,Qe=Q,st=Q=0,vn=null;Qe!==null&&st<oe.length;st++){Qe.index>st?(vn=Qe,Qe=null):vn=Qe.sibling;var kt=ye(se,Qe,oe[st],Ne);if(kt===null){Qe===null&&(Qe=vn);break}s&&Qe&&kt.alternate===null&&i(se,Qe),Q=j(kt,Q,st),Ze===null?qe=kt:Ze.sibling=kt,Ze=kt,Qe=vn}if(st===oe.length)return f(se,Qe),$t&&lo(se,st),qe;if(Qe===null){for(;st<oe.length;st++)Qe=je(se,oe[st],Ne),Qe!==null&&(Q=j(Qe,Q,st),Ze===null?qe=Qe:Ze.sibling=Qe,Ze=Qe);return $t&&lo(se,st),qe}for(Qe=g(se,Qe);st<oe.length;st++)vn=Me(Qe,se,st,oe[st],Ne),vn!==null&&(s&&vn.alternate!==null&&Qe.delete(vn.key===null?st:vn.key),Q=j(vn,Q,st),Ze===null?qe=vn:Ze.sibling=vn,Ze=vn);return s&&Qe.forEach(function(Ea){return i(se,Ea)}),$t&&lo(se,st),qe}function Ue(se,Q,oe,Ne){var qe=K(oe);if(typeof qe!="function")throw Error(t(150));if(oe=qe.call(oe),oe==null)throw Error(t(151));for(var Ze=qe=null,Qe=Q,st=Q=0,vn=null,kt=oe.next();Qe!==null&&!kt.done;st++,kt=oe.next()){Qe.index>st?(vn=Qe,Qe=null):vn=Qe.sibling;var Ea=ye(se,Qe,kt.value,Ne);if(Ea===null){Qe===null&&(Qe=vn);break}s&&Qe&&Ea.alternate===null&&i(se,Qe),Q=j(Ea,Q,st),Ze===null?qe=Ea:Ze.sibling=Ea,Ze=Ea,Qe=vn}if(kt.done)return f(se,Qe),$t&&lo(se,st),qe;if(Qe===null){for(;!kt.done;st++,kt=oe.next())kt=je(se,kt.value,Ne),kt!==null&&(Q=j(kt,Q,st),Ze===null?qe=kt:Ze.sibling=kt,Ze=kt);return $t&&lo(se,st),qe}for(Qe=g(se,Qe);!kt.done;st++,kt=oe.next())kt=Me(Qe,se,st,kt.value,Ne),kt!==null&&(s&&kt.alternate!==null&&Qe.delete(kt.key===null?st:kt.key),Q=j(kt,Q,st),Ze===null?qe=kt:Ze.sibling=kt,Ze=kt);return s&&Qe.forEach(function(vv){return i(se,vv)}),$t&&lo(se,st),qe}function Xt(se,Q,oe,Ne){if(typeof oe=="object"&&oe!==null&&oe.type===F&&oe.key===null&&(oe=oe.props.children),typeof oe=="object"&&oe!==null){switch(oe.$$typeof){case I:e:{for(var qe=oe.key,Ze=Q;Ze!==null;){if(Ze.key===qe){if(qe=oe.type,qe===F){if(Ze.tag===7){f(se,Ze.sibling),Q=_(Ze,oe.props.children),Q.return=se,se=Q;break e}}else if(Ze.elementType===qe||typeof qe=="object"&&qe!==null&&qe.$$typeof===ge&&op(qe)===Ze.type){f(se,Ze.sibling),Q=_(Ze,oe.props),Q.ref=wl(se,Ze,oe),Q.return=se,se=Q;break e}f(se,Ze);break}else i(se,Ze);Ze=Ze.sibling}oe.type===F?(Q=bo(oe.props.children,se.mode,Ne,oe.key),Q.return=se,se=Q):(Ne=Du(oe.type,oe.key,oe.props,null,se.mode,Ne),Ne.ref=wl(se,Q,oe),Ne.return=se,se=Ne)}return O(se);case D:e:{for(Ze=oe.key;Q!==null;){if(Q.key===Ze)if(Q.tag===4&&Q.stateNode.containerInfo===oe.containerInfo&&Q.stateNode.implementation===oe.implementation){f(se,Q.sibling),Q=_(Q,oe.children||[]),Q.return=se,se=Q;break e}else{f(se,Q);break}else i(se,Q);Q=Q.sibling}Q=ih(oe,se.mode,Ne),Q.return=se,se=Q}return O(se);case ge:return Ze=oe._init,Xt(se,Q,Ze(oe._payload),Ne)}if(Lr(oe))return Fe(se,Q,oe,Ne);if(K(oe))return Ue(se,Q,oe,Ne);uo(se,oe)}return typeof oe=="string"&&oe!==""||typeof oe=="number"?(oe=""+oe,Q!==null&&Q.tag===6?(f(se,Q.sibling),Q=_(Q,oe),Q.return=se,se=Q):(f(se,Q),Q=oh(oe,se.mode,Ne),Q.return=se,se=Q),O(se)):f(se,Q)}return Xt}var Kt=wf(!0),nu=wf(!1),_l=Xn(null),dr=null,xa=null,li=null;function As(){li=xa=dr=null}function ru(s){var i=_l.current;Lt(_l),s._currentValue=i}function _n(s,i,f){for(;s!==null;){var g=s.alternate;if((s.childLanes&i)!==i?(s.childLanes|=i,g!==null&&(g.childLanes|=i)):g!==null&&(g.childLanes&i)!==i&&(g.childLanes|=i),s===f)break;s=s.return}}function va(s,i){dr=s,li=xa=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&i)!==0&&(Hn=!0),s.firstContext=null)}function jr(s){var i=s._currentValue;if(li!==s)if(s={context:s,memoizedValue:i,next:null},xa===null){if(dr===null)throw Error(t(308));xa=s,dr.dependencies={lanes:0,firstContext:s}}else xa=xa.next=s;return i}var fo=null;function _f(s){fo===null?fo=[s]:fo.push(s)}function su(s,i,f,g){var _=i.interleaved;return _===null?(f.next=f,_f(i)):(f.next=_.next,_.next=f),i.interleaved=f,Is(s,g)}function Is(s,i){s.lanes|=i;var f=s.alternate;for(f!==null&&(f.lanes|=i),f=s,s=s.return;s!==null;)s.childLanes|=i,f=s.alternate,f!==null&&(f.childLanes|=i),f=s,s=s.return;return f.tag===3?f.stateNode:null}var Sr=!1;function au(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ip(s,i){s=s.updateQueue,i.updateQueue===s&&(i.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ms(s,i){return{eventTime:s,lane:i,tag:0,payload:null,callback:null,next:null}}function Nr(s,i,f){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(bt&2)!==0){var _=g.pending;return _===null?i.next=i:(i.next=_.next,_.next=i),g.pending=i,Is(s,f)}return _=g.interleaved,_===null?(i.next=i,_f(g)):(i.next=_.next,_.next=i),g.interleaved=i,Is(s,f)}function ou(s,i,f){if(i=i.updateQueue,i!==null&&(i=i.shared,(f&4194240)!==0)){var g=i.lanes;g&=s.pendingLanes,f|=g,i.lanes=f,rl(s,f)}}function lp(s,i){var f=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,f===g)){var _=null,j=null;if(f=f.firstBaseUpdate,f!==null){do{var O={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};j===null?_=j=O:j=j.next=O,f=f.next}while(f!==null);j===null?_=j=i:j=j.next=i}else _=j=i;f={baseState:g.baseState,firstBaseUpdate:_,lastBaseUpdate:j,shared:g.shared,effects:g.effects},s.updateQueue=f;return}s=f.lastBaseUpdate,s===null?f.firstBaseUpdate=i:s.next=i,f.lastBaseUpdate=i}function ci(s,i,f,g){var _=s.updateQueue;Sr=!1;var j=_.firstBaseUpdate,O=_.lastBaseUpdate,H=_.shared.pending;if(H!==null){_.shared.pending=null;var Y=H,ce=Y.next;Y.next=null,O===null?j=ce:O.next=ce,O=Y;var we=s.alternate;we!==null&&(we=we.updateQueue,H=we.lastBaseUpdate,H!==O&&(H===null?we.firstBaseUpdate=ce:H.next=ce,we.lastBaseUpdate=Y))}if(j!==null){var je=_.baseState;O=0,we=ce=Y=null,H=j;do{var ye=H.lane,Me=H.eventTime;if((g&ye)===ye){we!==null&&(we=we.next={eventTime:Me,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Fe=s,Ue=H;switch(ye=i,Me=f,Ue.tag){case 1:if(Fe=Ue.payload,typeof Fe=="function"){je=Fe.call(Me,je,ye);break e}je=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ue.payload,ye=typeof Fe=="function"?Fe.call(Me,je,ye):Fe,ye==null)break e;je=ne({},je,ye);break e;case 2:Sr=!0}}H.callback!==null&&H.lane!==0&&(s.flags|=64,ye=_.effects,ye===null?_.effects=[H]:ye.push(H))}else Me={eventTime:Me,lane:ye,tag:H.tag,payload:H.payload,callback:H.callback,next:null},we===null?(ce=we=Me,Y=je):we=we.next=Me,O|=ye;if(H=H.next,H===null){if(H=_.shared.pending,H===null)break;ye=H,H=ye.next,ye.next=null,_.lastBaseUpdate=ye,_.shared.pending=null}}while(!0);if(we===null&&(Y=je),_.baseState=Y,_.firstBaseUpdate=ce,_.lastBaseUpdate=we,i=_.shared.interleaved,i!==null){_=i;do O|=_.lane,_=_.next;while(_!==i)}else j===null&&(_.shared.lanes=0);ja|=O,s.lanes=O,s.memoizedState=je}}function bf(s,i,f){if(s=i.effects,i.effects=null,s!==null)for(i=0;i<s.length;i++){var g=s[i],_=g.callback;if(_!==null){if(g.callback=null,g=f,typeof _!="function")throw Error(t(191,_));_.call(g)}}}var bl={},hs=Xn(bl),jl=Xn(bl),ui=Xn(bl);function Os(s){if(s===bl)throw Error(t(174));return s}function jf(s,i){switch(Ot(ui,i),Ot(jl,s),Ot(hs,bl),s=i.nodeType,s){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ga(null,"");break;default:s=s===8?i.parentNode:i,i=s.namespaceURI||null,s=s.tagName,i=Ga(i,s)}Lt(hs),Ot(hs,i)}function ya(){Lt(hs),Lt(jl),Lt(ui)}function Sf(s){Os(ui.current);var i=Os(hs.current),f=Ga(i,s.type);i!==f&&(Ot(jl,s),Ot(hs,f))}function iu(s){jl.current===s&&(Lt(hs),Lt(jl))}var Bt=Xn(0);function ho(s){for(var i=s;i!==null;){if(i.tag===13){var f=i.memoizedState;if(f!==null&&(f=f.dehydrated,f===null||f.data==="$?"||f.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nf=[];function lu(){for(var s=0;s<Nf.length;s++)Nf[s]._workInProgressVersionPrimary=null;Nf.length=0}var Sl=M.ReactCurrentDispatcher,kf=M.ReactCurrentBatchConfig,wa=0,Vt=null,Jt=null,ln=null,di=!1,Nl=!1,mo=0,ft=0;function On(){throw Error(t(321))}function Cf(s,i){if(i===null)return!1;for(var f=0;f<i.length&&f<s.length;f++)if(!le(s[f],i[f]))return!1;return!0}function po(s,i,f,g,_,j){if(wa=j,Vt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Sl.current=s===null||s.memoizedState===null?Zx:pu,s=f(g,_),Nl){j=0;do{if(Nl=!1,mo=0,25<=j)throw Error(t(301));j+=1,ln=Jt=null,i.updateQueue=null,Sl.current=pi,s=f(g,_)}while(Nl)}if(Sl.current=mu,i=Jt!==null&&Jt.next!==null,wa=0,ln=Jt=Vt=null,di=!1,i)throw Error(t(300));return s}function cu(){var s=mo!==0;return mo=0,s}function ms(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Vt.memoizedState=ln=s:ln=ln.next=s,ln}function kr(){if(Jt===null){var s=Vt.alternate;s=s!==null?s.memoizedState:null}else s=Jt.next;var i=ln===null?Vt.memoizedState:ln.next;if(i!==null)ln=i,Jt=s;else{if(s===null)throw Error(t(310));Jt=s,s={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},ln===null?Vt.memoizedState=ln=s:ln=ln.next=s}return ln}function Dn(s,i){return typeof i=="function"?i(s):i}function Ef(s){var i=kr(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var g=Jt,_=g.baseQueue,j=f.pending;if(j!==null){if(_!==null){var O=_.next;_.next=j.next,j.next=O}g.baseQueue=_=j,f.pending=null}if(_!==null){j=_.next,g=g.baseState;var H=O=null,Y=null,ce=j;do{var we=ce.lane;if((wa&we)===we)Y!==null&&(Y=Y.next={lane:0,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null}),g=ce.hasEagerState?ce.eagerState:s(g,ce.action);else{var je={lane:we,action:ce.action,hasEagerState:ce.hasEagerState,eagerState:ce.eagerState,next:null};Y===null?(H=Y=je,O=g):Y=Y.next=je,Vt.lanes|=we,ja|=we}ce=ce.next}while(ce!==null&&ce!==j);Y===null?O=g:Y.next=H,le(g,i.memoizedState)||(Hn=!0),i.memoizedState=g,i.baseState=O,i.baseQueue=Y,f.lastRenderedState=g}if(s=f.interleaved,s!==null){_=s;do j=_.lane,Vt.lanes|=j,ja|=j,_=_.next;while(_!==s)}else _===null&&(f.lanes=0);return[i.memoizedState,f.dispatch]}function fi(s){var i=kr(),f=i.queue;if(f===null)throw Error(t(311));f.lastRenderedReducer=s;var g=f.dispatch,_=f.pending,j=i.memoizedState;if(_!==null){f.pending=null;var O=_=_.next;do j=s(j,O.action),O=O.next;while(O!==_);le(j,i.memoizedState)||(Hn=!0),i.memoizedState=j,i.baseQueue===null&&(i.baseState=j),f.lastRenderedState=j}return[j,g]}function uu(){}function Pf(s,i){var f=Vt,g=kr(),_=i(),j=!le(g.memoizedState,_);if(j&&(g.memoizedState=_,Hn=!0),g=g.queue,ps(Ds.bind(null,f,g,s),[s]),g.getSnapshot!==i||j||ln!==null&&ln.memoizedState.tag&1){if(f.flags|=2048,hi(9,tr.bind(null,f,g,_,i),void 0,null),xn===null)throw Error(t(349));(wa&30)!==0||Rf(f,i,_)}return _}function Rf(s,i,f){s.flags|=16384,s={getSnapshot:i,value:f},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.stores=[s]):(f=i.stores,f===null?i.stores=[s]:f.push(s))}function tr(s,i,f,g){i.value=f,i.getSnapshot=g,du(i)&&Tf(s)}function Ds(s,i,f){return f(function(){du(i)&&Tf(s)})}function du(s){var i=s.getSnapshot;s=s.value;try{var f=i();return!le(s,f)}catch{return!0}}function Tf(s){var i=Is(s,1);i!==null&&Gr(i,s,1,-1)}function kl(s){var i=ms();return typeof s=="function"&&(s=s()),i.memoizedState=i.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:s},i.queue=s,s=s.dispatch=mp.bind(null,Vt,s),[i.memoizedState,s]}function hi(s,i,f,g){return s={tag:s,create:i,destroy:f,deps:g,next:null},i=Vt.updateQueue,i===null?(i={lastEffect:null,stores:null},Vt.updateQueue=i,i.lastEffect=s.next=s):(f=i.lastEffect,f===null?i.lastEffect=s.next=s:(g=f.next,f.next=s,s.next=g,i.lastEffect=s)),s}function fu(){return kr().memoizedState}function Cl(s,i,f,g){var _=ms();Vt.flags|=s,_.memoizedState=hi(1|i,f,void 0,g===void 0?null:g)}function mi(s,i,f,g){var _=kr();g=g===void 0?null:g;var j=void 0;if(Jt!==null){var O=Jt.memoizedState;if(j=O.destroy,g!==null&&Cf(g,O.deps)){_.memoizedState=hi(i,f,j,g);return}}Vt.flags|=s,_.memoizedState=hi(1|i,f,j,g)}function hu(s,i){return Cl(8390656,8,s,i)}function ps(s,i){return mi(2048,8,s,i)}function cp(s,i){return mi(4,2,s,i)}function Ls(s,i){return mi(4,4,s,i)}function Af(s,i){if(typeof i=="function")return s=s(),i(s),function(){i(null)};if(i!=null)return s=s(),i.current=s,function(){i.current=null}}function If(s,i,f){return f=f!=null?f.concat([s]):null,mi(4,4,Af.bind(null,i,s),f)}function El(){}function up(s,i){var f=kr();i=i===void 0?null:i;var g=f.memoizedState;return g!==null&&i!==null&&Cf(i,g[1])?g[0]:(f.memoizedState=[s,i],s)}function dp(s,i){var f=kr();i=i===void 0?null:i;var g=f.memoizedState;return g!==null&&i!==null&&Cf(i,g[1])?g[0]:(s=s(),f.memoizedState=[s,i],s)}function fp(s,i,f){return(wa&21)===0?(s.baseState&&(s.baseState=!1,Hn=!0),s.memoizedState=f):(le(f,i)||(f=qd(),Vt.lanes|=f,ja|=f,s.baseState=!0),i)}function hp(s,i){var f=Ct;Ct=f!==0&&4>f?f:4,s(!0);var g=kf.transition;kf.transition={};try{s(!1),i()}finally{Ct=f,kf.transition=g}}function Mf(){return kr().memoizedState}function Qx(s,i,f){var g=ka(s);if(f={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null},Of(s))Wn(i,f);else if(f=su(s,i,f,g),f!==null){var _=qn();Gr(f,s,g,_),Ur(f,i,g)}}function mp(s,i,f){var g=ka(s),_={lane:g,action:f,hasEagerState:!1,eagerState:null,next:null};if(Of(s))Wn(i,_);else{var j=s.alternate;if(s.lanes===0&&(j===null||j.lanes===0)&&(j=i.lastRenderedReducer,j!==null))try{var O=i.lastRenderedState,H=j(O,f);if(_.hasEagerState=!0,_.eagerState=H,le(H,O)){var Y=i.interleaved;Y===null?(_.next=_,_f(i)):(_.next=Y.next,Y.next=_),i.interleaved=_;return}}catch{}finally{}f=su(s,i,_,g),f!==null&&(_=qn(),Gr(f,s,g,_),Ur(f,i,g))}}function Of(s){var i=s.alternate;return s===Vt||i!==null&&i===Vt}function Wn(s,i){Nl=di=!0;var f=s.pending;f===null?i.next=i:(i.next=f.next,f.next=i),s.pending=i}function Ur(s,i,f){if((f&4194240)!==0){var g=i.lanes;g&=s.pendingLanes,f|=g,i.lanes=f,rl(s,f)}}var mu={readContext:jr,useCallback:On,useContext:On,useEffect:On,useImperativeHandle:On,useInsertionEffect:On,useLayoutEffect:On,useMemo:On,useReducer:On,useRef:On,useState:On,useDebugValue:On,useDeferredValue:On,useTransition:On,useMutableSource:On,useSyncExternalStore:On,useId:On,unstable_isNewReconciler:!1},Zx={readContext:jr,useCallback:function(s,i){return ms().memoizedState=[s,i===void 0?null:i],s},useContext:jr,useEffect:hu,useImperativeHandle:function(s,i,f){return f=f!=null?f.concat([s]):null,Cl(4194308,4,Af.bind(null,i,s),f)},useLayoutEffect:function(s,i){return Cl(4194308,4,s,i)},useInsertionEffect:function(s,i){return Cl(4,2,s,i)},useMemo:function(s,i){var f=ms();return i=i===void 0?null:i,s=s(),f.memoizedState=[s,i],s},useReducer:function(s,i,f){var g=ms();return i=f!==void 0?f(i):i,g.memoizedState=g.baseState=i,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:i},g.queue=s,s=s.dispatch=Qx.bind(null,Vt,s),[g.memoizedState,s]},useRef:function(s){var i=ms();return s={current:s},i.memoizedState=s},useState:kl,useDebugValue:El,useDeferredValue:function(s){return ms().memoizedState=s},useTransition:function(){var s=kl(!1),i=s[0];return s=hp.bind(null,s[1]),ms().memoizedState=s,[i,s]},useMutableSource:function(){},useSyncExternalStore:function(s,i,f){var g=Vt,_=ms();if($t){if(f===void 0)throw Error(t(407));f=f()}else{if(f=i(),xn===null)throw Error(t(349));(wa&30)!==0||Rf(g,i,f)}_.memoizedState=f;var j={value:f,getSnapshot:i};return _.queue=j,hu(Ds.bind(null,g,j,s),[s]),g.flags|=2048,hi(9,tr.bind(null,g,j,f,i),void 0,null),f},useId:function(){var s=ms(),i=xn.identifierPrefix;if($t){var f=cs,g=ls;f=(g&~(1<<32-$r(g)-1)).toString(32)+f,i=":"+i+"R"+f,f=mo++,0<f&&(i+="H"+f.toString(32)),i+=":"}else f=ft++,i=":"+i+"r"+f.toString(32)+":";return s.memoizedState=i},unstable_isNewReconciler:!1},pu={readContext:jr,useCallback:up,useContext:jr,useEffect:ps,useImperativeHandle:If,useInsertionEffect:cp,useLayoutEffect:Ls,useMemo:dp,useReducer:Ef,useRef:fu,useState:function(){return Ef(Dn)},useDebugValue:El,useDeferredValue:function(s){var i=kr();return fp(i,Jt.memoizedState,s)},useTransition:function(){var s=Ef(Dn)[0],i=kr().memoizedState;return[s,i]},useMutableSource:uu,useSyncExternalStore:Pf,useId:Mf,unstable_isNewReconciler:!1},pi={readContext:jr,useCallback:up,useContext:jr,useEffect:ps,useImperativeHandle:If,useInsertionEffect:cp,useLayoutEffect:Ls,useMemo:dp,useReducer:fi,useRef:fu,useState:function(){return fi(Dn)},useDebugValue:El,useDeferredValue:function(s){var i=kr();return Jt===null?i.memoizedState=s:fp(i,Jt.memoizedState,s)},useTransition:function(){var s=fi(Dn)[0],i=kr().memoizedState;return[s,i]},useMutableSource:uu,useSyncExternalStore:Pf,useId:Mf,unstable_isNewReconciler:!1};function Cr(s,i){if(s&&s.defaultProps){i=ne({},i),s=s.defaultProps;for(var f in s)i[f]===void 0&&(i[f]=s[f]);return i}return i}function gu(s,i,f,g){i=s.memoizedState,f=f(g,i),f=f==null?i:ne({},i,f),s.memoizedState=f,s.lanes===0&&(s.updateQueue.baseState=f)}var xu={isMounted:function(s){return(s=s._reactInternals)?Xa(s)===s:!1},enqueueSetState:function(s,i,f){s=s._reactInternals;var g=qn(),_=ka(s),j=Ms(g,_);j.payload=i,f!=null&&(j.callback=f),i=Nr(s,j,_),i!==null&&(Gr(i,s,_,g),ou(i,s,_))},enqueueReplaceState:function(s,i,f){s=s._reactInternals;var g=qn(),_=ka(s),j=Ms(g,_);j.tag=1,j.payload=i,f!=null&&(j.callback=f),i=Nr(s,j,_),i!==null&&(Gr(i,s,_,g),ou(i,s,_))},enqueueForceUpdate:function(s,i){s=s._reactInternals;var f=qn(),g=ka(s),_=Ms(f,g);_.tag=2,i!=null&&(_.callback=i),i=Nr(s,_,g),i!==null&&(Gr(i,s,g,f),ou(i,s,g))}};function Df(s,i,f,g,_,j,O){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,j,O):i.prototype&&i.prototype.isPureReactComponent?!Ie(f,g)||!Ie(_,j):!0}function go(s,i,f){var g=!1,_=pa,j=i.contextType;return typeof j=="object"&&j!==null?j=jr(j):(_=Zn(i)?Bn:An.current,g=i.contextTypes,j=(g=g!=null)?oi(s,_):pa),i=new i(f,j),s.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=xu,s.stateNode=i,i._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=_,s.__reactInternalMemoizedMaskedChildContext=j),i}function gi(s,i,f,g){s=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(f,g),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(f,g),i.state!==s&&xu.enqueueReplaceState(i,i.state,null)}function Lf(s,i,f,g){var _=s.stateNode;_.props=f,_.state=s.memoizedState,_.refs={},au(s);var j=i.contextType;typeof j=="object"&&j!==null?_.context=jr(j):(j=Zn(i)?Bn:An.current,_.context=oi(s,j)),_.state=s.memoizedState,j=i.getDerivedStateFromProps,typeof j=="function"&&(gu(s,i,j,f),_.state=s.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(i=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),i!==_.state&&xu.enqueueReplaceState(_,_.state,null),ci(s,f,_,g),_.state=s.memoizedState),typeof _.componentDidMount=="function"&&(s.flags|=4194308)}function xo(s,i){try{var f="",g=i;do f+=ue(g),g=g.return;while(g);var _=f}catch(j){_=`
Error generating stack: `+j.message+`
`+j.stack}return{value:s,source:i,stack:_,digest:null}}function vu(s,i,f){return{value:s,source:null,stack:f??null,digest:i??null}}function xi(s,i){try{console.error(i.value)}catch(f){setTimeout(function(){throw f})}}var pp=typeof WeakMap=="function"?WeakMap:Map;function Pl(s,i,f){f=Ms(-1,f),f.tag=3,f.payload={element:null};var g=i.value;return f.callback=function(){Pu||(Pu=!0,Zf=g),xi(s,i)},f}function yu(s,i,f){f=Ms(-1,f),f.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var _=i.value;f.payload=function(){return g(_)},f.callback=function(){xi(s,i)}}var j=s.stateNode;return j!==null&&typeof j.componentDidCatch=="function"&&(f.callback=function(){xi(s,i),typeof g!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var O=i.stack;this.componentDidCatch(i.value,{componentStack:O!==null?O:""})}),f}function Rl(s,i,f){var g=s.pingCache;if(g===null){g=s.pingCache=new pp;var _=new Set;g.set(i,_)}else _=g.get(i),_===void 0&&(_=new Set,g.set(i,_));_.has(f)||(_.add(f),s=iv.bind(null,s,i,f),i.then(s,s))}function gp(s){do{var i;if((i=s.tag===13)&&(i=s.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return s;s=s.return}while(s!==null);return null}function $f(s,i,f,g,_){return(s.mode&1)===0?(s===i?s.flags|=65536:(s.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:(i=Ms(-1,1),i.tag=2,Nr(f,i,1))),f.lanes|=1),s):(s.flags|=65536,s.lanes=_,s)}var wu=M.ReactCurrentOwner,Hn=!1;function bn(s,i,f,g){i.child=s===null?nu(i,null,f,g):Kt(i,s.child,f,g)}function xp(s,i,f,g,_){f=f.render;var j=i.ref;return va(i,_),g=po(s,i,f,g,j,_),f=cu(),s!==null&&!Hn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,Br(s,i,_)):($t&&f&&vl(i),i.flags|=1,bn(s,i,g,_),i.child)}function Ff(s,i,f,g,_){if(s===null){var j=f.type;return typeof j=="function"&&!Ou(j)&&j.defaultProps===void 0&&f.compare===null&&f.defaultProps===void 0?(i.tag=15,i.type=j,gs(s,i,j,g,_)):(s=Du(f.type,null,g,i,i.mode,_),s.ref=i.ref,s.return=i,i.child=s)}if(j=s.child,(s.lanes&_)===0){var O=j.memoizedProps;if(f=f.compare,f=f!==null?f:Ie,f(O,g)&&s.ref===i.ref)return Br(s,i,_)}return i.flags|=1,s=qr(j,g),s.ref=i.ref,s.return=i,i.child=s}function gs(s,i,f,g,_){if(s!==null){var j=s.memoizedProps;if(Ie(j,g)&&s.ref===i.ref)if(Hn=!1,i.pendingProps=g=j,(s.lanes&_)!==0)(s.flags&131072)!==0&&(Hn=!0);else return i.lanes=s.lanes,Br(s,i,_)}return Bf(s,i,f,g,_)}function zf(s,i,f){var g=i.pendingProps,_=g.children,j=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ot(_i,hr),hr|=f;else{if((f&1073741824)===0)return s=j!==null?j.baseLanes|f:f,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:s,cachePool:null,transitions:null},i.updateQueue=null,Ot(_i,hr),hr|=s,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=j!==null?j.baseLanes:f,Ot(_i,hr),hr|=g}else j!==null?(g=j.baseLanes|f,i.memoizedState=null):g=f,Ot(_i,hr),hr|=g;return bn(s,i,_,f),i.child}function Uf(s,i){var f=i.ref;(s===null&&f!==null||s!==null&&s.ref!==f)&&(i.flags|=512,i.flags|=2097152)}function Bf(s,i,f,g,_){var j=Zn(f)?Bn:An.current;return j=oi(i,j),va(i,_),f=po(s,i,f,g,j,_),g=cu(),s!==null&&!Hn?(i.updateQueue=s.updateQueue,i.flags&=-2053,s.lanes&=~_,Br(s,i,_)):($t&&g&&vl(i),i.flags|=1,bn(s,i,f,_),i.child)}function Wf(s,i,f,g,_){if(Zn(f)){var j=!0;wr(i)}else j=!1;if(va(i,_),i.stateNode===null)bu(s,i),go(i,f,g),Lf(i,f,g,_),g=!0;else if(s===null){var O=i.stateNode,H=i.memoizedProps;O.props=H;var Y=O.context,ce=f.contextType;typeof ce=="object"&&ce!==null?ce=jr(ce):(ce=Zn(f)?Bn:An.current,ce=oi(i,ce));var we=f.getDerivedStateFromProps,je=typeof we=="function"||typeof O.getSnapshotBeforeUpdate=="function";je||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H!==g||Y!==ce)&&gi(i,O,g,ce),Sr=!1;var ye=i.memoizedState;O.state=ye,ci(i,g,O,_),Y=i.memoizedState,H!==g||ye!==Y||Qn.current||Sr?(typeof we=="function"&&(gu(i,f,we,g),Y=i.memoizedState),(H=Sr||Df(i,f,H,g,ye,Y,ce))?(je||typeof O.UNSAFE_componentWillMount!="function"&&typeof O.componentWillMount!="function"||(typeof O.componentWillMount=="function"&&O.componentWillMount(),typeof O.UNSAFE_componentWillMount=="function"&&O.UNSAFE_componentWillMount()),typeof O.componentDidMount=="function"&&(i.flags|=4194308)):(typeof O.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=g,i.memoizedState=Y),O.props=g,O.state=Y,O.context=ce,g=H):(typeof O.componentDidMount=="function"&&(i.flags|=4194308),g=!1)}else{O=i.stateNode,ip(s,i),H=i.memoizedProps,ce=i.type===i.elementType?H:Cr(i.type,H),O.props=ce,je=i.pendingProps,ye=O.context,Y=f.contextType,typeof Y=="object"&&Y!==null?Y=jr(Y):(Y=Zn(f)?Bn:An.current,Y=oi(i,Y));var Me=f.getDerivedStateFromProps;(we=typeof Me=="function"||typeof O.getSnapshotBeforeUpdate=="function")||typeof O.UNSAFE_componentWillReceiveProps!="function"&&typeof O.componentWillReceiveProps!="function"||(H!==je||ye!==Y)&&gi(i,O,g,Y),Sr=!1,ye=i.memoizedState,O.state=ye,ci(i,g,O,_);var Fe=i.memoizedState;H!==je||ye!==Fe||Qn.current||Sr?(typeof Me=="function"&&(gu(i,f,Me,g),Fe=i.memoizedState),(ce=Sr||Df(i,f,ce,g,ye,Fe,Y)||!1)?(we||typeof O.UNSAFE_componentWillUpdate!="function"&&typeof O.componentWillUpdate!="function"||(typeof O.componentWillUpdate=="function"&&O.componentWillUpdate(g,Fe,Y),typeof O.UNSAFE_componentWillUpdate=="function"&&O.UNSAFE_componentWillUpdate(g,Fe,Y)),typeof O.componentDidUpdate=="function"&&(i.flags|=4),typeof O.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),i.memoizedProps=g,i.memoizedState=Fe),O.props=g,O.state=Fe,O.context=Y,g=ce):(typeof O.componentDidUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=4),typeof O.getSnapshotBeforeUpdate!="function"||H===s.memoizedProps&&ye===s.memoizedState||(i.flags|=1024),g=!1)}return Hf(s,i,f,g,j,_)}function Hf(s,i,f,g,_,j){Uf(s,i);var O=(i.flags&128)!==0;if(!g&&!O)return _&&tp(i,f,!1),Br(s,i,j);g=i.stateNode,wu.current=i;var H=O&&typeof f.getDerivedStateFromError!="function"?null:g.render();return i.flags|=1,s!==null&&O?(i.child=Kt(i,s.child,null,j),i.child=Kt(i,null,H,j)):bn(s,i,H,j),i.memoizedState=g.state,_&&tp(i,f,!0),i.child}function vp(s){var i=s.stateNode;i.pendingContext?Zm(s,i.pendingContext,i.pendingContext!==i.context):i.context&&Zm(s,i.context,!1),jf(s,i.containerInfo)}function xs(s,i,f,g,_){return ds(),fs(_),i.flags|=256,bn(s,i,f,g),i.child}var Tl={dehydrated:null,treeContext:null,retryLane:0};function Al(s){return{baseLanes:s,cachePool:null,transitions:null}}function _u(s,i,f){var g=i.pendingProps,_=Bt.current,j=!1,O=(i.flags&128)!==0,H;if((H=O)||(H=s!==null&&s.memoizedState===null?!1:(_&2)!==0),H?(j=!0,i.flags&=-129):(s===null||s.memoizedState!==null)&&(_|=1),Ot(Bt,_&1),s===null)return er(i),s=i.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((i.mode&1)===0?i.lanes=1:s.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(O=g.children,s=g.fallback,j?(g=i.mode,j=i.child,O={mode:"hidden",children:O},(g&1)===0&&j!==null?(j.childLanes=0,j.pendingProps=O):j=Lu(O,g,0,null),s=bo(s,g,f,null),j.return=i,s.return=i,j.sibling=s,i.child=j,i.child.memoizedState=Al(f),i.memoizedState=Tl,s):vi(i,O));if(_=s.memoizedState,_!==null&&(H=_.dehydrated,H!==null))return et(s,i,O,g,H,_,f);if(j){j=g.fallback,O=i.mode,_=s.child,H=_.sibling;var Y={mode:"hidden",children:g.children};return(O&1)===0&&i.child!==_?(g=i.child,g.childLanes=0,g.pendingProps=Y,i.deletions=null):(g=qr(_,Y),g.subtreeFlags=_.subtreeFlags&14680064),H!==null?j=qr(H,j):(j=bo(j,O,f,null),j.flags|=2),j.return=i,g.return=i,g.sibling=j,i.child=g,g=j,j=i.child,O=s.child.memoizedState,O=O===null?Al(f):{baseLanes:O.baseLanes|f,cachePool:null,transitions:O.transitions},j.memoizedState=O,j.childLanes=s.childLanes&~f,i.memoizedState=Tl,g}return j=s.child,s=j.sibling,g=qr(j,{mode:"visible",children:g.children}),(i.mode&1)===0&&(g.lanes=f),g.return=i,g.sibling=null,s!==null&&(f=i.deletions,f===null?(i.deletions=[s],i.flags|=16):f.push(s)),i.child=g,i.memoizedState=null,g}function vi(s,i){return i=Lu({mode:"visible",children:i},s.mode,0,null),i.return=s,s.child=i}function $s(s,i,f,g){return g!==null&&fs(g),Kt(i,s.child,null,f),s=vi(i,i.pendingProps.children),s.flags|=2,i.memoizedState=null,s}function et(s,i,f,g,_,j,O){if(f)return i.flags&256?(i.flags&=-257,g=vu(Error(t(422))),$s(s,i,O,g)):i.memoizedState!==null?(i.child=s.child,i.flags|=128,null):(j=g.fallback,_=i.mode,g=Lu({mode:"visible",children:g.children},_,0,null),j=bo(j,_,O,null),j.flags|=2,g.return=i,j.return=i,g.sibling=j,i.child=g,(i.mode&1)!==0&&Kt(i,s.child,null,O),i.child.memoizedState=Al(O),i.memoizedState=Tl,j);if((i.mode&1)===0)return $s(s,i,O,null);if(_.data==="$!"){if(g=_.nextSibling&&_.nextSibling.dataset,g)var H=g.dgst;return g=H,j=Error(t(419)),g=vu(j,g,void 0),$s(s,i,O,g)}if(H=(O&s.childLanes)!==0,Hn||H){if(g=xn,g!==null){switch(O&-O){case 4:_=2;break;case 16:_=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:_=32;break;case 536870912:_=268435456;break;default:_=0}_=(_&(g.suspendedLanes|O))!==0?0:_,_!==0&&_!==j.retryLane&&(j.retryLane=_,Is(s,_),Gr(g,s,_,-1))}return ah(),g=vu(Error(t(421))),$s(s,i,O,g)}return _.data==="$?"?(i.flags|=128,i.child=s.child,i=lv.bind(null,s),_._reactRetry=i,null):(s=j.treeContext,ur=ha(_.nextSibling),Mn=i,$t=!0,zr=null,s!==null&&(_r[br++]=ls,_r[br++]=cs,_r[br++]=io,ls=s.id,cs=s.overflow,io=i),i=vi(i,g.children),i.flags|=4096,i)}function Il(s,i,f){s.lanes|=i;var g=s.alternate;g!==null&&(g.lanes|=i),_n(s.return,i,f)}function Ml(s,i,f,g,_){var j=s.memoizedState;j===null?s.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:g,tail:f,tailMode:_}:(j.isBackwards=i,j.rendering=null,j.renderingStartTime=0,j.last=g,j.tail=f,j.tailMode=_)}function _a(s,i,f){var g=i.pendingProps,_=g.revealOrder,j=g.tail;if(bn(s,i,g.children,f),g=Bt.current,(g&2)!==0)g=g&1|2,i.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=i.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Il(s,f,i);else if(s.tag===19)Il(s,f,i);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break e;for(;s.sibling===null;){if(s.return===null||s.return===i)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(Ot(Bt,g),(i.mode&1)===0)i.memoizedState=null;else switch(_){case"forwards":for(f=i.child,_=null;f!==null;)s=f.alternate,s!==null&&ho(s)===null&&(_=f),f=f.sibling;f=_,f===null?(_=i.child,i.child=null):(_=f.sibling,f.sibling=null),Ml(i,!1,_,f,j);break;case"backwards":for(f=null,_=i.child,i.child=null;_!==null;){if(s=_.alternate,s!==null&&ho(s)===null){i.child=_;break}s=_.sibling,_.sibling=f,f=_,_=s}Ml(i,!0,f,null,j);break;case"together":Ml(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function bu(s,i){(i.mode&1)===0&&s!==null&&(s.alternate=null,i.alternate=null,i.flags|=2)}function Br(s,i,f){if(s!==null&&(i.dependencies=s.dependencies),ja|=i.lanes,(f&i.childLanes)===0)return null;if(s!==null&&i.child!==s.child)throw Error(t(153));if(i.child!==null){for(s=i.child,f=qr(s,s.pendingProps),i.child=f,f.return=i;s.sibling!==null;)s=s.sibling,f=f.sibling=qr(s,s.pendingProps),f.return=i;f.sibling=null}return i.child}function yp(s,i,f){switch(i.tag){case 3:vp(i),ds();break;case 5:Sf(i);break;case 1:Zn(i.type)&&wr(i);break;case 4:jf(i,i.stateNode.containerInfo);break;case 10:var g=i.type._context,_=i.memoizedProps.value;Ot(_l,g._currentValue),g._currentValue=_;break;case 13:if(g=i.memoizedState,g!==null)return g.dehydrated!==null?(Ot(Bt,Bt.current&1),i.flags|=128,null):(f&i.child.childLanes)!==0?_u(s,i,f):(Ot(Bt,Bt.current&1),s=Br(s,i,f),s!==null?s.sibling:null);Ot(Bt,Bt.current&1);break;case 19:if(g=(f&i.childLanes)!==0,(s.flags&128)!==0){if(g)return _a(s,i,f);i.flags|=128}if(_=i.memoizedState,_!==null&&(_.rendering=null,_.tail=null,_.lastEffect=null),Ot(Bt,Bt.current),g)break;return null;case 22:case 23:return i.lanes=0,zf(s,i,f)}return Br(s,i,f)}var jn,Vf,wp,Gf;jn=function(s,i){for(var f=i.child;f!==null;){if(f.tag===5||f.tag===6)s.appendChild(f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},Vf=function(){},wp=function(s,i,f,g){var _=s.memoizedProps;if(_!==g){s=i.stateNode,Os(hs.current);var j=null;switch(f){case"input":_=xt(s,_),g=xt(s,g),j=[];break;case"select":_=ne({},_,{value:void 0}),g=ne({},g,{value:void 0}),j=[];break;case"textarea":_=ns(s,_),g=ns(s,g),j=[];break;default:typeof _.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=qc)}Ki(f,g);var O;f=null;for(ce in _)if(!g.hasOwnProperty(ce)&&_.hasOwnProperty(ce)&&_[ce]!=null)if(ce==="style"){var H=_[ce];for(O in H)H.hasOwnProperty(O)&&(f||(f={}),f[O]="")}else ce!=="dangerouslySetInnerHTML"&&ce!=="children"&&ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&ce!=="autoFocus"&&(o.hasOwnProperty(ce)?j||(j=[]):(j=j||[]).push(ce,null));for(ce in g){var Y=g[ce];if(H=_!=null?_[ce]:void 0,g.hasOwnProperty(ce)&&Y!==H&&(Y!=null||H!=null))if(ce==="style")if(H){for(O in H)!H.hasOwnProperty(O)||Y&&Y.hasOwnProperty(O)||(f||(f={}),f[O]="");for(O in Y)Y.hasOwnProperty(O)&&H[O]!==Y[O]&&(f||(f={}),f[O]=Y[O])}else f||(j||(j=[]),j.push(ce,f)),f=Y;else ce==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(j=j||[]).push(ce,Y)):ce==="children"?typeof Y!="string"&&typeof Y!="number"||(j=j||[]).push(ce,""+Y):ce!=="suppressContentEditableWarning"&&ce!=="suppressHydrationWarning"&&(o.hasOwnProperty(ce)?(Y!=null&&ce==="onScroll"&&Dt("scroll",s),j||H===Y||(j=[])):(j=j||[]).push(ce,Y))}f&&(j=j||[]).push("style",f);var ce=j;(i.updateQueue=ce)&&(i.flags|=4)}},Gf=function(s,i,f,g){f!==g&&(i.flags|=4)};function Ol(s,i){if(!$t)switch(s.tailMode){case"hidden":i=s.tail;for(var f=null;i!==null;)i.alternate!==null&&(f=i),i=i.sibling;f===null?s.tail=null:f.sibling=null;break;case"collapsed":f=s.tail;for(var g=null;f!==null;)f.alternate!==null&&(g=f),f=f.sibling;g===null?i||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Sn(s){var i=s.alternate!==null&&s.alternate.child===s.child,f=0,g=0;if(i)for(var _=s.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags&14680064,g|=_.flags&14680064,_.return=s,_=_.sibling;else for(_=s.child;_!==null;)f|=_.lanes|_.childLanes,g|=_.subtreeFlags,g|=_.flags,_.return=s,_=_.sibling;return s.subtreeFlags|=g,s.childLanes=f,i}function ev(s,i,f){var g=i.pendingProps;switch(co(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sn(i),null;case 1:return Zn(i.type)&&Xc(),Sn(i),null;case 3:return g=i.stateNode,ya(),Lt(Qn),Lt(An),lu(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(yl(i)?i.flags|=4:s===null||s.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,zr!==null&&(nh(zr),zr=null))),Vf(s,i),Sn(i),null;case 5:iu(i);var _=Os(ui.current);if(f=i.type,s!==null&&i.stateNode!=null)wp(s,i,f,g,_),s.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!g){if(i.stateNode===null)throw Error(t(166));return Sn(i),null}if(s=Os(hs.current),yl(i)){g=i.stateNode,f=i.type;var j=i.memoizedProps;switch(g[os]=i,g[ma]=j,s=(i.mode&1)!==0,f){case"dialog":Dt("cancel",g),Dt("close",g);break;case"iframe":case"object":case"embed":Dt("load",g);break;case"video":case"audio":for(_=0;_<Ps.length;_++)Dt(Ps[_],g);break;case"source":Dt("error",g);break;case"img":case"image":case"link":Dt("error",g),Dt("load",g);break;case"details":Dt("toggle",g);break;case"input":pn(g,j),Dt("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!j.multiple},Dt("invalid",g);break;case"textarea":Va(g,j),Dt("invalid",g)}Ki(f,j),_=null;for(var O in j)if(j.hasOwnProperty(O)){var H=j[O];O==="children"?typeof H=="string"?g.textContent!==H&&(j.suppressHydrationWarning!==!0&&ml(g.textContent,H,s),_=["children",H]):typeof H=="number"&&g.textContent!==""+H&&(j.suppressHydrationWarning!==!0&&ml(g.textContent,H,s),_=["children",""+H]):o.hasOwnProperty(O)&&H!=null&&O==="onScroll"&&Dt("scroll",g)}switch(f){case"input":Ke(g),en(g,j,!0);break;case"textarea":Ke(g),zo(g);break;case"select":case"option":break;default:typeof j.onClick=="function"&&(g.onclick=qc)}g=_,i.updateQueue=g,g!==null&&(i.flags|=4)}else{O=_.nodeType===9?_:_.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=cm(f)),s==="http://www.w3.org/1999/xhtml"?f==="script"?(s=O.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=O.createElement(f,{is:g.is}):(s=O.createElement(f),f==="select"&&(O=s,g.multiple?O.multiple=!0:g.size&&(O.size=g.size))):s=O.createElementNS(s,f),s[os]=i,s[ma]=g,jn(s,i,!1,!1),i.stateNode=s;e:{switch(O=Yi(f,g),f){case"dialog":Dt("cancel",s),Dt("close",s),_=g;break;case"iframe":case"object":case"embed":Dt("load",s),_=g;break;case"video":case"audio":for(_=0;_<Ps.length;_++)Dt(Ps[_],s);_=g;break;case"source":Dt("error",s),_=g;break;case"img":case"image":case"link":Dt("error",s),Dt("load",s),_=g;break;case"details":Dt("toggle",s),_=g;break;case"input":pn(s,g),_=xt(s,g),Dt("invalid",s);break;case"option":_=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},_=ne({},g,{value:void 0}),Dt("invalid",s);break;case"textarea":Va(s,g),_=ns(s,g),Dt("invalid",s);break;default:_=g}Ki(f,_),H=_;for(j in H)if(H.hasOwnProperty(j)){var Y=H[j];j==="style"?yc(s,Y):j==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&xc(s,Y)):j==="children"?typeof Y=="string"?(f!=="textarea"||Y!=="")&&qa(s,Y):typeof Y=="number"&&qa(s,""+Y):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(o.hasOwnProperty(j)?Y!=null&&j==="onScroll"&&Dt("scroll",s):Y!=null&&T(s,j,Y,O))}switch(f){case"input":Ke(s),en(s,g,!1);break;case"textarea":Ke(s),zo(s);break;case"option":g.value!=null&&s.setAttribute("value",""+fe(g.value));break;case"select":s.multiple=!!g.multiple,j=g.value,j!=null?qt(s,!!g.multiple,j,!1):g.defaultValue!=null&&qt(s,!!g.multiple,g.defaultValue,!0);break;default:typeof _.onClick=="function"&&(s.onclick=qc)}switch(f){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Sn(i),null;case 6:if(s&&i.stateNode!=null)Gf(s,i,s.memoizedProps,g);else{if(typeof g!="string"&&i.stateNode===null)throw Error(t(166));if(f=Os(ui.current),Os(hs.current),yl(i)){if(g=i.stateNode,f=i.memoizedProps,g[os]=i,(j=g.nodeValue!==f)&&(s=Mn,s!==null))switch(s.tag){case 3:ml(g.nodeValue,f,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ml(g.nodeValue,f,(s.mode&1)!==0)}j&&(i.flags|=4)}else g=(f.nodeType===9?f:f.ownerDocument).createTextNode(g),g[os]=i,i.stateNode=g}return Sn(i),null;case 13:if(Lt(Bt),g=i.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if($t&&ur!==null&&(i.mode&1)!==0&&(i.flags&128)===0)yf(),ds(),i.flags|=98560,j=!1;else if(j=yl(i),g!==null&&g.dehydrated!==null){if(s===null){if(!j)throw Error(t(318));if(j=i.memoizedState,j=j!==null?j.dehydrated:null,!j)throw Error(t(317));j[os]=i}else ds(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Sn(i),j=!1}else zr!==null&&(nh(zr),zr=null),j=!0;if(!j)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=f,i):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(i.child.flags|=8192,(i.mode&1)!==0&&(s===null||(Bt.current&1)!==0?cn===0&&(cn=3):ah())),i.updateQueue!==null&&(i.flags|=4),Sn(i),null);case 4:return ya(),Vf(s,i),s===null&&da(i.stateNode.containerInfo),Sn(i),null;case 10:return ru(i.type._context),Sn(i),null;case 17:return Zn(i.type)&&Xc(),Sn(i),null;case 19:if(Lt(Bt),j=i.memoizedState,j===null)return Sn(i),null;if(g=(i.flags&128)!==0,O=j.rendering,O===null)if(g)Ol(j,!1);else{if(cn!==0||s!==null&&(s.flags&128)!==0)for(s=i.child;s!==null;){if(O=ho(s),O!==null){for(i.flags|=128,Ol(j,!1),g=O.updateQueue,g!==null&&(i.updateQueue=g,i.flags|=4),i.subtreeFlags=0,g=f,f=i.child;f!==null;)j=f,s=g,j.flags&=14680066,O=j.alternate,O===null?(j.childLanes=0,j.lanes=s,j.child=null,j.subtreeFlags=0,j.memoizedProps=null,j.memoizedState=null,j.updateQueue=null,j.dependencies=null,j.stateNode=null):(j.childLanes=O.childLanes,j.lanes=O.lanes,j.child=O.child,j.subtreeFlags=0,j.deletions=null,j.memoizedProps=O.memoizedProps,j.memoizedState=O.memoizedState,j.updateQueue=O.updateQueue,j.type=O.type,s=O.dependencies,j.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),f=f.sibling;return Ot(Bt,Bt.current&1|2),i.child}s=s.sibling}j.tail!==null&&zt()>vo&&(i.flags|=128,g=!0,Ol(j,!1),i.lanes=4194304)}else{if(!g)if(s=ho(O),s!==null){if(i.flags|=128,g=!0,f=s.updateQueue,f!==null&&(i.updateQueue=f,i.flags|=4),Ol(j,!0),j.tail===null&&j.tailMode==="hidden"&&!O.alternate&&!$t)return Sn(i),null}else 2*zt()-j.renderingStartTime>vo&&f!==1073741824&&(i.flags|=128,g=!0,Ol(j,!1),i.lanes=4194304);j.isBackwards?(O.sibling=i.child,i.child=O):(f=j.last,f!==null?f.sibling=O:i.child=O,j.last=O)}return j.tail!==null?(i=j.tail,j.rendering=i,j.tail=i.sibling,j.renderingStartTime=zt(),i.sibling=null,f=Bt.current,Ot(Bt,g?f&1|2:f&1),i):(Sn(i),null);case 22:case 23:return sh(),g=i.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(i.flags|=8192),g&&(i.mode&1)!==0?(hr&1073741824)!==0&&(Sn(i),i.subtreeFlags&6&&(i.flags|=8192)):Sn(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function tv(s,i){switch(co(i),i.tag){case 1:return Zn(i.type)&&Xc(),s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 3:return ya(),Lt(Qn),Lt(An),lu(),s=i.flags,(s&65536)!==0&&(s&128)===0?(i.flags=s&-65537|128,i):null;case 5:return iu(i),null;case 13:if(Lt(Bt),s=i.memoizedState,s!==null&&s.dehydrated!==null){if(i.alternate===null)throw Error(t(340));ds()}return s=i.flags,s&65536?(i.flags=s&-65537|128,i):null;case 19:return Lt(Bt),null;case 4:return ya(),null;case 10:return ru(i.type._context),null;case 22:case 23:return sh(),null;case 24:return null;default:return null}}var ju=!1,Wt=!1,Vn=typeof WeakSet=="function"?WeakSet:Set,Le=null;function yi(s,i){var f=s.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(g){Gt(s,i,g)}else f.current=null}function Dl(s,i,f){try{f()}catch(g){Gt(s,i,g)}}var _p=!1;function nv(s,i){if(pl=Pc,s=Tt(),ll(s)){if("selectionStart"in s)var f={start:s.selectionStart,end:s.selectionEnd};else e:{f=(f=s.ownerDocument)&&f.defaultView||window;var g=f.getSelection&&f.getSelection();if(g&&g.rangeCount!==0){f=g.anchorNode;var _=g.anchorOffset,j=g.focusNode;g=g.focusOffset;try{f.nodeType,j.nodeType}catch{f=null;break e}var O=0,H=-1,Y=-1,ce=0,we=0,je=s,ye=null;t:for(;;){for(var Me;je!==f||_!==0&&je.nodeType!==3||(H=O+_),je!==j||g!==0&&je.nodeType!==3||(Y=O+g),je.nodeType===3&&(O+=je.nodeValue.length),(Me=je.firstChild)!==null;)ye=je,je=Me;for(;;){if(je===s)break t;if(ye===f&&++ce===_&&(H=O),ye===j&&++we===g&&(Y=O),(Me=je.nextSibling)!==null)break;je=ye,ye=je.parentNode}je=Me}f=H===-1||Y===-1?null:{start:H,end:Y}}else f=null}f=f||{start:0,end:0}}else f=null;for(ao={focusedElem:s,selectionRange:f},Pc=!1,Le=i;Le!==null;)if(i=Le,s=i.child,(i.subtreeFlags&1028)!==0&&s!==null)s.return=i,Le=s;else for(;Le!==null;){i=Le;try{var Fe=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(Fe!==null){var Ue=Fe.memoizedProps,Xt=Fe.memoizedState,se=i.stateNode,Q=se.getSnapshotBeforeUpdate(i.elementType===i.type?Ue:Cr(i.type,Ue),Xt);se.__reactInternalSnapshotBeforeUpdate=Q}break;case 3:var oe=i.stateNode.containerInfo;oe.nodeType===1?oe.textContent="":oe.nodeType===9&&oe.documentElement&&oe.removeChild(oe.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(Ne){Gt(i,i.return,Ne)}if(s=i.sibling,s!==null){s.return=i.return,Le=s;break}Le=i.return}return Fe=_p,_p=!1,Fe}function Fs(s,i,f){var g=i.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var _=g=g.next;do{if((_.tag&s)===s){var j=_.destroy;_.destroy=void 0,j!==void 0&&Dl(i,f,j)}_=_.next}while(_!==g)}}function Ll(s,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var f=i=i.next;do{if((f.tag&s)===s){var g=f.create;f.destroy=g()}f=f.next}while(f!==i)}}function Su(s){var i=s.ref;if(i!==null){var f=s.stateNode;switch(s.tag){case 5:s=f;break;default:s=f}typeof i=="function"?i(s):i.current=s}}function bp(s){var i=s.alternate;i!==null&&(s.alternate=null,bp(i)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(i=s.stateNode,i!==null&&(delete i[os],delete i[ma],delete i[Yc],delete i[L],delete i[si])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function jp(s){return s.tag===5||s.tag===3||s.tag===4}function Sp(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||jp(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function qf(s,i,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,i?f.nodeType===8?f.parentNode.insertBefore(s,i):f.insertBefore(s,i):(f.nodeType===8?(i=f.parentNode,i.insertBefore(s,f)):(i=f,i.appendChild(s)),f=f._reactRootContainer,f!=null||i.onclick!==null||(i.onclick=qc));else if(g!==4&&(s=s.child,s!==null))for(qf(s,i,f),s=s.sibling;s!==null;)qf(s,i,f),s=s.sibling}function Nu(s,i,f){var g=s.tag;if(g===5||g===6)s=s.stateNode,i?f.insertBefore(s,i):f.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(Nu(s,i,f),s=s.sibling;s!==null;)Nu(s,i,f),s=s.sibling}var gn=null,Wr=!1;function vs(s,i,f){for(f=f.child;f!==null;)Kf(s,i,f),f=f.sibling}function Kf(s,i,f){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(jc,f)}catch{}switch(f.tag){case 5:Wt||yi(f,i);case 6:var g=gn,_=Wr;gn=null,vs(s,i,f),gn=g,Wr=_,gn!==null&&(Wr?(s=gn,f=f.stateNode,s.nodeType===8?s.parentNode.removeChild(f):s.removeChild(f)):gn.removeChild(f.stateNode));break;case 18:gn!==null&&(Wr?(s=gn,f=f.stateNode,s.nodeType===8?gf(s.parentNode,f):s.nodeType===1&&gf(s,f),Et(s)):gf(gn,f.stateNode));break;case 4:g=gn,_=Wr,gn=f.stateNode.containerInfo,Wr=!0,vs(s,i,f),gn=g,Wr=_;break;case 0:case 11:case 14:case 15:if(!Wt&&(g=f.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){_=g=g.next;do{var j=_,O=j.destroy;j=j.tag,O!==void 0&&((j&2)!==0||(j&4)!==0)&&Dl(f,i,O),_=_.next}while(_!==g)}vs(s,i,f);break;case 1:if(!Wt&&(yi(f,i),g=f.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=f.memoizedProps,g.state=f.memoizedState,g.componentWillUnmount()}catch(H){Gt(f,i,H)}vs(s,i,f);break;case 21:vs(s,i,f);break;case 22:f.mode&1?(Wt=(g=Wt)||f.memoizedState!==null,vs(s,i,f),Wt=g):vs(s,i,f);break;default:vs(s,i,f)}}function wi(s){var i=s.updateQueue;if(i!==null){s.updateQueue=null;var f=s.stateNode;f===null&&(f=s.stateNode=new Vn),i.forEach(function(g){var _=cv.bind(null,s,g);f.has(g)||(f.add(g),g.then(_,_))})}}function fr(s,i){var f=i.deletions;if(f!==null)for(var g=0;g<f.length;g++){var _=f[g];try{var j=s,O=i,H=O;e:for(;H!==null;){switch(H.tag){case 5:gn=H.stateNode,Wr=!1;break e;case 3:gn=H.stateNode.containerInfo,Wr=!0;break e;case 4:gn=H.stateNode.containerInfo,Wr=!0;break e}H=H.return}if(gn===null)throw Error(t(160));Kf(j,O,_),gn=null,Wr=!1;var Y=_.alternate;Y!==null&&(Y.return=null),_.return=null}catch(ce){Gt(_,i,ce)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Yf(i,s),i=i.sibling}function Yf(s,i){var f=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(fr(i,s),Hr(s),g&4){try{Fs(3,s,s.return),Ll(3,s)}catch(Ue){Gt(s,s.return,Ue)}try{Fs(5,s,s.return)}catch(Ue){Gt(s,s.return,Ue)}}break;case 1:fr(i,s),Hr(s),g&512&&f!==null&&yi(f,f.return);break;case 5:if(fr(i,s),Hr(s),g&512&&f!==null&&yi(f,f.return),s.flags&32){var _=s.stateNode;try{qa(_,"")}catch(Ue){Gt(s,s.return,Ue)}}if(g&4&&(_=s.stateNode,_!=null)){var j=s.memoizedProps,O=f!==null?f.memoizedProps:j,H=s.type,Y=s.updateQueue;if(s.updateQueue=null,Y!==null)try{H==="input"&&j.type==="radio"&&j.name!=null&&or(_,j),Yi(H,O);var ce=Yi(H,j);for(O=0;O<Y.length;O+=2){var we=Y[O],je=Y[O+1];we==="style"?yc(_,je):we==="dangerouslySetInnerHTML"?xc(_,je):we==="children"?qa(_,je):T(_,we,je,ce)}switch(H){case"input":Yt(_,j);break;case"textarea":lm(_,j);break;case"select":var ye=_._wrapperState.wasMultiple;_._wrapperState.wasMultiple=!!j.multiple;var Me=j.value;Me!=null?qt(_,!!j.multiple,Me,!1):ye!==!!j.multiple&&(j.defaultValue!=null?qt(_,!!j.multiple,j.defaultValue,!0):qt(_,!!j.multiple,j.multiple?[]:"",!1))}_[ma]=j}catch(Ue){Gt(s,s.return,Ue)}}break;case 6:if(fr(i,s),Hr(s),g&4){if(s.stateNode===null)throw Error(t(162));_=s.stateNode,j=s.memoizedProps;try{_.nodeValue=j}catch(Ue){Gt(s,s.return,Ue)}}break;case 3:if(fr(i,s),Hr(s),g&4&&f!==null&&f.memoizedState.isDehydrated)try{Et(i.containerInfo)}catch(Ue){Gt(s,s.return,Ue)}break;case 4:fr(i,s),Hr(s);break;case 13:fr(i,s),Hr(s),_=s.child,_.flags&8192&&(j=_.memoizedState!==null,_.stateNode.isHidden=j,!j||_.alternate!==null&&_.alternate.memoizedState!==null||(Qf=zt())),g&4&&wi(s);break;case 22:if(we=f!==null&&f.memoizedState!==null,s.mode&1?(Wt=(ce=Wt)||we,fr(i,s),Wt=ce):fr(i,s),Hr(s),g&8192){if(ce=s.memoizedState!==null,(s.stateNode.isHidden=ce)&&!we&&(s.mode&1)!==0)for(Le=s,we=s.child;we!==null;){for(je=Le=we;Le!==null;){switch(ye=Le,Me=ye.child,ye.tag){case 0:case 11:case 14:case 15:Fs(4,ye,ye.return);break;case 1:yi(ye,ye.return);var Fe=ye.stateNode;if(typeof Fe.componentWillUnmount=="function"){g=ye,f=ye.return;try{i=g,Fe.props=i.memoizedProps,Fe.state=i.memoizedState,Fe.componentWillUnmount()}catch(Ue){Gt(g,f,Ue)}}break;case 5:yi(ye,ye.return);break;case 22:if(ye.memoizedState!==null){ba(je);continue}}Me!==null?(Me.return=ye,Le=Me):ba(je)}we=we.sibling}e:for(we=null,je=s;;){if(je.tag===5){if(we===null){we=je;try{_=je.stateNode,ce?(j=_.style,typeof j.setProperty=="function"?j.setProperty("display","none","important"):j.display="none"):(H=je.stateNode,Y=je.memoizedProps.style,O=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=vc("display",O))}catch(Ue){Gt(s,s.return,Ue)}}}else if(je.tag===6){if(we===null)try{je.stateNode.nodeValue=ce?"":je.memoizedProps}catch(Ue){Gt(s,s.return,Ue)}}else if((je.tag!==22&&je.tag!==23||je.memoizedState===null||je===s)&&je.child!==null){je.child.return=je,je=je.child;continue}if(je===s)break e;for(;je.sibling===null;){if(je.return===null||je.return===s)break e;we===je&&(we=null),je=je.return}we===je&&(we=null),je.sibling.return=je.return,je=je.sibling}}break;case 19:fr(i,s),Hr(s),g&4&&wi(s);break;case 21:break;default:fr(i,s),Hr(s)}}function Hr(s){var i=s.flags;if(i&2){try{e:{for(var f=s.return;f!==null;){if(jp(f)){var g=f;break e}f=f.return}throw Error(t(160))}switch(g.tag){case 5:var _=g.stateNode;g.flags&32&&(qa(_,""),g.flags&=-33);var j=Sp(s);Nu(s,j,_);break;case 3:case 4:var O=g.stateNode.containerInfo,H=Sp(s);qf(s,H,O);break;default:throw Error(t(161))}}catch(Y){Gt(s,s.return,Y)}s.flags&=-3}i&4096&&(s.flags&=-4097)}function ku(s,i,f){Le=s,Jf(s)}function Jf(s,i,f){for(var g=(s.mode&1)!==0;Le!==null;){var _=Le,j=_.child;if(_.tag===22&&g){var O=_.memoizedState!==null||ju;if(!O){var H=_.alternate,Y=H!==null&&H.memoizedState!==null||Wt;H=ju;var ce=Wt;if(ju=O,(Wt=Y)&&!ce)for(Le=_;Le!==null;)O=Le,Y=O.child,O.tag===22&&O.memoizedState!==null?Np(_):Y!==null?(Y.return=O,Le=Y):Np(_);for(;j!==null;)Le=j,Jf(j),j=j.sibling;Le=_,ju=H,Wt=ce}Vr(s)}else(_.subtreeFlags&8772)!==0&&j!==null?(j.return=_,Le=j):Vr(s)}}function Vr(s){for(;Le!==null;){var i=Le;if((i.flags&8772)!==0){var f=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:Wt||Ll(5,i);break;case 1:var g=i.stateNode;if(i.flags&4&&!Wt)if(f===null)g.componentDidMount();else{var _=i.elementType===i.type?f.memoizedProps:Cr(i.type,f.memoizedProps);g.componentDidUpdate(_,f.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var j=i.updateQueue;j!==null&&bf(i,j,g);break;case 3:var O=i.updateQueue;if(O!==null){if(f=null,i.child!==null)switch(i.child.tag){case 5:f=i.child.stateNode;break;case 1:f=i.child.stateNode}bf(i,O,f)}break;case 5:var H=i.stateNode;if(f===null&&i.flags&4){f=H;var Y=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&f.focus();break;case"img":Y.src&&(f.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ce=i.alternate;if(ce!==null){var we=ce.memoizedState;if(we!==null){var je=we.dehydrated;je!==null&&Et(je)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Wt||i.flags&512&&Su(i)}catch(ye){Gt(i,i.return,ye)}}if(i===s){Le=null;break}if(f=i.sibling,f!==null){f.return=i.return,Le=f;break}Le=i.return}}function ba(s){for(;Le!==null;){var i=Le;if(i===s){Le=null;break}var f=i.sibling;if(f!==null){f.return=i.return,Le=f;break}Le=i.return}}function Np(s){for(;Le!==null;){var i=Le;try{switch(i.tag){case 0:case 11:case 15:var f=i.return;try{Ll(4,i)}catch(Y){Gt(i,f,Y)}break;case 1:var g=i.stateNode;if(typeof g.componentDidMount=="function"){var _=i.return;try{g.componentDidMount()}catch(Y){Gt(i,_,Y)}}var j=i.return;try{Su(i)}catch(Y){Gt(i,j,Y)}break;case 5:var O=i.return;try{Su(i)}catch(Y){Gt(i,O,Y)}}}catch(Y){Gt(i,i.return,Y)}if(i===s){Le=null;break}var H=i.sibling;if(H!==null){H.return=i.return,Le=H;break}Le=i.return}}var kp=Math.ceil,Cu=M.ReactCurrentDispatcher,Xf=M.ReactCurrentOwner,Er=M.ReactCurrentBatchConfig,bt=0,xn=null,rn=null,Nn=0,hr=0,_i=Xn(0),cn=0,$l=null,ja=0,Fl=0,Eu=0,zl=null,nr=null,Qf=0,vo=1/0,zs=null,Pu=!1,Zf=null,Sa=null,Ru=!1,Na=null,Gn=0,Ul=0,eh=null,Tu=-1,Bl=0;function qn(){return(bt&6)!==0?zt():Tu!==-1?Tu:Tu=zt()}function ka(s){return(s.mode&1)===0?1:(bt&2)!==0&&Nn!==0?Nn&-Nn:ap.transition!==null?(Bl===0&&(Bl=qd()),Bl):(s=Ct,s!==0||(s=window.event,s=s===void 0?16:Tm(s.type)),s)}function Gr(s,i,f,g){if(50<Ul)throw Ul=0,eh=null,Error(t(185));nl(s,f,g),((bt&2)===0||s!==xn)&&(s===xn&&((bt&2)===0&&(Fl|=f),cn===4&&Ca(s,Nn)),rr(s,g),f===1&&bt===0&&(i.mode&1)===0&&(vo=zt()+500,Qc&&ga()))}function rr(s,i){var f=s.callbackNode;Ix(s,i);var g=Qa(s,s===xn?Nn:0);if(g===0)f!==null&&ym(f),s.callbackNode=null,s.callbackPriority=0;else if(i=g&-g,s.callbackPriority!==i){if(f!=null&&ym(f),i===1)s.tag===0?oo(Cp.bind(null,s)):np(Cp.bind(null,s)),Kc(function(){(bt&6)===0&&ga()}),f=null;else{switch(Za(g)){case 1:f=Vd;break;case 4:f=wm;break;case 16:f=el;break;case 536870912:f=Gd;break;default:f=el}f=Mp(f,Au.bind(null,s))}s.callbackPriority=i,s.callbackNode=f}}function Au(s,i){if(Tu=-1,Bl=0,(bt&6)!==0)throw Error(t(327));var f=s.callbackNode;if(bi()&&s.callbackNode!==f)return null;var g=Qa(s,s===xn?Nn:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||i)i=Iu(s,g);else{i=g;var _=bt;bt|=2;var j=Pp();(xn!==s||Nn!==i)&&(zs=null,vo=zt()+500,wo(s,i));do try{av();break}catch(H){Ep(s,H)}while(!0);As(),Cu.current=j,bt=_,rn!==null?i=0:(xn=null,Nn=0,i=cn)}if(i!==0){if(i===2&&(_=Nc(s),_!==0&&(g=_,i=th(s,_))),i===1)throw f=$l,wo(s,0),Ca(s,g),rr(s,zt()),f;if(i===6)Ca(s,g);else{if(_=s.current.alternate,(g&30)===0&&!rv(_)&&(i=Iu(s,g),i===2&&(j=Nc(s),j!==0&&(g=j,i=th(s,j))),i===1))throw f=$l,wo(s,0),Ca(s,g),rr(s,zt()),f;switch(s.finishedWork=_,s.finishedLanes=g,i){case 0:case 1:throw Error(t(345));case 2:_o(s,nr,zs);break;case 3:if(Ca(s,g),(g&130023424)===g&&(i=Qf+500-zt(),10<i)){if(Qa(s,0)!==0)break;if(_=s.suspendedLanes,(_&g)!==g){qn(),s.pingedLanes|=s.suspendedLanes&_;break}s.timeoutHandle=fa(_o.bind(null,s,nr,zs),i);break}_o(s,nr,zs);break;case 4:if(Ca(s,g),(g&4194240)===g)break;for(i=s.eventTimes,_=-1;0<g;){var O=31-$r(g);j=1<<O,O=i[O],O>_&&(_=O),g&=~j}if(g=_,g=zt()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*kp(g/1960))-g,10<g){s.timeoutHandle=fa(_o.bind(null,s,nr,zs),g);break}_o(s,nr,zs);break;case 5:_o(s,nr,zs);break;default:throw Error(t(329))}}}return rr(s,zt()),s.callbackNode===f?Au.bind(null,s):null}function th(s,i){var f=zl;return s.current.memoizedState.isDehydrated&&(wo(s,i).flags|=256),s=Iu(s,i),s!==2&&(i=nr,nr=f,i!==null&&nh(i)),s}function nh(s){nr===null?nr=s:nr.push.apply(nr,s)}function rv(s){for(var i=s;;){if(i.flags&16384){var f=i.updateQueue;if(f!==null&&(f=f.stores,f!==null))for(var g=0;g<f.length;g++){var _=f[g],j=_.getSnapshot;_=_.value;try{if(!le(j(),_))return!1}catch{return!1}}}if(f=i.child,i.subtreeFlags&16384&&f!==null)f.return=i,i=f;else{if(i===s)break;for(;i.sibling===null;){if(i.return===null||i.return===s)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ca(s,i){for(i&=~Eu,i&=~Fl,s.suspendedLanes|=i,s.pingedLanes&=~i,s=s.expirationTimes;0<i;){var f=31-$r(i),g=1<<f;s[f]=-1,i&=~g}}function Cp(s){if((bt&6)!==0)throw Error(t(327));bi();var i=Qa(s,0);if((i&1)===0)return rr(s,zt()),null;var f=Iu(s,i);if(s.tag!==0&&f===2){var g=Nc(s);g!==0&&(i=g,f=th(s,g))}if(f===1)throw f=$l,wo(s,0),Ca(s,i),rr(s,zt()),f;if(f===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=i,_o(s,nr,zs),rr(s,zt()),null}function rh(s,i){var f=bt;bt|=1;try{return s(i)}finally{bt=f,bt===0&&(vo=zt()+500,Qc&&ga())}}function yo(s){Na!==null&&Na.tag===0&&(bt&6)===0&&bi();var i=bt;bt|=1;var f=Er.transition,g=Ct;try{if(Er.transition=null,Ct=1,s)return s()}finally{Ct=g,Er.transition=f,bt=i,(bt&6)===0&&ga()}}function sh(){hr=_i.current,Lt(_i)}function wo(s,i){s.finishedWork=null,s.finishedLanes=0;var f=s.timeoutHandle;if(f!==-1&&(s.timeoutHandle=-1,xl(f)),rn!==null)for(f=rn.return;f!==null;){var g=f;switch(co(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&Xc();break;case 3:ya(),Lt(Qn),Lt(An),lu();break;case 5:iu(g);break;case 4:ya();break;case 13:Lt(Bt);break;case 19:Lt(Bt);break;case 10:ru(g.type._context);break;case 22:case 23:sh()}f=f.return}if(xn=s,rn=s=qr(s.current,null),Nn=hr=i,cn=0,$l=null,Eu=Fl=ja=0,nr=zl=null,fo!==null){for(i=0;i<fo.length;i++)if(f=fo[i],g=f.interleaved,g!==null){f.interleaved=null;var _=g.next,j=f.pending;if(j!==null){var O=j.next;j.next=_,g.next=O}f.pending=g}fo=null}return s}function Ep(s,i){do{var f=rn;try{if(As(),Sl.current=mu,di){for(var g=Vt.memoizedState;g!==null;){var _=g.queue;_!==null&&(_.pending=null),g=g.next}di=!1}if(wa=0,ln=Jt=Vt=null,Nl=!1,mo=0,Xf.current=null,f===null||f.return===null){cn=1,$l=i,rn=null;break}e:{var j=s,O=f.return,H=f,Y=i;if(i=Nn,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var ce=Y,we=H,je=we.tag;if((we.mode&1)===0&&(je===0||je===11||je===15)){var ye=we.alternate;ye?(we.updateQueue=ye.updateQueue,we.memoizedState=ye.memoizedState,we.lanes=ye.lanes):(we.updateQueue=null,we.memoizedState=null)}var Me=gp(O);if(Me!==null){Me.flags&=-257,$f(Me,O,H,j,i),Me.mode&1&&Rl(j,ce,i),i=Me,Y=ce;var Fe=i.updateQueue;if(Fe===null){var Ue=new Set;Ue.add(Y),i.updateQueue=Ue}else Fe.add(Y);break e}else{if((i&1)===0){Rl(j,ce,i),ah();break e}Y=Error(t(426))}}else if($t&&H.mode&1){var Xt=gp(O);if(Xt!==null){(Xt.flags&65536)===0&&(Xt.flags|=256),$f(Xt,O,H,j,i),fs(xo(Y,H));break e}}j=Y=xo(Y,H),cn!==4&&(cn=2),zl===null?zl=[j]:zl.push(j),j=O;do{switch(j.tag){case 3:j.flags|=65536,i&=-i,j.lanes|=i;var se=Pl(j,Y,i);lp(j,se);break e;case 1:H=Y;var Q=j.type,oe=j.stateNode;if((j.flags&128)===0&&(typeof Q.getDerivedStateFromError=="function"||oe!==null&&typeof oe.componentDidCatch=="function"&&(Sa===null||!Sa.has(oe)))){j.flags|=65536,i&=-i,j.lanes|=i;var Ne=yu(j,H,i);lp(j,Ne);break e}}j=j.return}while(j!==null)}Tp(f)}catch(qe){i=qe,rn===f&&f!==null&&(rn=f=f.return);continue}break}while(!0)}function Pp(){var s=Cu.current;return Cu.current=mu,s===null?mu:s}function ah(){(cn===0||cn===3||cn===2)&&(cn=4),xn===null||(ja&268435455)===0&&(Fl&268435455)===0||Ca(xn,Nn)}function Iu(s,i){var f=bt;bt|=2;var g=Pp();(xn!==s||Nn!==i)&&(zs=null,wo(s,i));do try{sv();break}catch(_){Ep(s,_)}while(!0);if(As(),bt=f,Cu.current=g,rn!==null)throw Error(t(261));return xn=null,Nn=0,cn}function sv(){for(;rn!==null;)Rp(rn)}function av(){for(;rn!==null&&!bc();)Rp(rn)}function Rp(s){var i=Ip(s.alternate,s,hr);s.memoizedProps=s.pendingProps,i===null?Tp(s):rn=i,Xf.current=null}function Tp(s){var i=s;do{var f=i.alternate;if(s=i.return,(i.flags&32768)===0){if(f=ev(f,i,hr),f!==null){rn=f;return}}else{if(f=tv(f,i),f!==null){f.flags&=32767,rn=f;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{cn=6,rn=null;return}}if(i=i.sibling,i!==null){rn=i;return}rn=i=s}while(i!==null);cn===0&&(cn=5)}function _o(s,i,f){var g=Ct,_=Er.transition;try{Er.transition=null,Ct=1,ov(s,i,f,g)}finally{Er.transition=_,Ct=g}return null}function ov(s,i,f,g){do bi();while(Na!==null);if((bt&6)!==0)throw Error(t(327));f=s.finishedWork;var _=s.finishedLanes;if(f===null)return null;if(s.finishedWork=null,s.finishedLanes=0,f===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var j=f.lanes|f.childLanes;if(km(s,j),s===xn&&(rn=xn=null,Nn=0),(f.subtreeFlags&2064)===0&&(f.flags&2064)===0||Ru||(Ru=!0,Mp(el,function(){return bi(),null})),j=(f.flags&15990)!==0,(f.subtreeFlags&15990)!==0||j){j=Er.transition,Er.transition=null;var O=Ct;Ct=1;var H=bt;bt|=4,Xf.current=null,nv(s,f),Yf(f,s),Jx(ao),Pc=!!pl,ao=pl=null,s.current=f,ku(f),Rx(),bt=H,Ct=O,Er.transition=j}else s.current=f;if(Ru&&(Ru=!1,Na=s,Gn=_),j=s.pendingLanes,j===0&&(Sa=null),Ax(f.stateNode),rr(s,zt()),i!==null)for(g=s.onRecoverableError,f=0;f<i.length;f++)_=i[f],g(_.value,{componentStack:_.stack,digest:_.digest});if(Pu)throw Pu=!1,s=Zf,Zf=null,s;return(Gn&1)!==0&&s.tag!==0&&bi(),j=s.pendingLanes,(j&1)!==0?s===eh?Ul++:(Ul=0,eh=s):Ul=0,ga(),null}function bi(){if(Na!==null){var s=Za(Gn),i=Er.transition,f=Ct;try{if(Er.transition=null,Ct=16>s?16:s,Na===null)var g=!1;else{if(s=Na,Na=null,Gn=0,(bt&6)!==0)throw Error(t(331));var _=bt;for(bt|=4,Le=s.current;Le!==null;){var j=Le,O=j.child;if((Le.flags&16)!==0){var H=j.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var ce=H[Y];for(Le=ce;Le!==null;){var we=Le;switch(we.tag){case 0:case 11:case 15:Fs(8,we,j)}var je=we.child;if(je!==null)je.return=we,Le=je;else for(;Le!==null;){we=Le;var ye=we.sibling,Me=we.return;if(bp(we),we===ce){Le=null;break}if(ye!==null){ye.return=Me,Le=ye;break}Le=Me}}}var Fe=j.alternate;if(Fe!==null){var Ue=Fe.child;if(Ue!==null){Fe.child=null;do{var Xt=Ue.sibling;Ue.sibling=null,Ue=Xt}while(Ue!==null)}}Le=j}}if((j.subtreeFlags&2064)!==0&&O!==null)O.return=j,Le=O;else e:for(;Le!==null;){if(j=Le,(j.flags&2048)!==0)switch(j.tag){case 0:case 11:case 15:Fs(9,j,j.return)}var se=j.sibling;if(se!==null){se.return=j.return,Le=se;break e}Le=j.return}}var Q=s.current;for(Le=Q;Le!==null;){O=Le;var oe=O.child;if((O.subtreeFlags&2064)!==0&&oe!==null)oe.return=O,Le=oe;else e:for(O=Q;Le!==null;){if(H=Le,(H.flags&2048)!==0)try{switch(H.tag){case 0:case 11:case 15:Ll(9,H)}}catch(qe){Gt(H,H.return,qe)}if(H===O){Le=null;break e}var Ne=H.sibling;if(Ne!==null){Ne.return=H.return,Le=Ne;break e}Le=H.return}}if(bt=_,ga(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(jc,s)}catch{}g=!0}return g}finally{Ct=f,Er.transition=i}}return!1}function Mu(s,i,f){i=xo(f,i),i=Pl(s,i,1),s=Nr(s,i,1),i=qn(),s!==null&&(nl(s,1,i),rr(s,i))}function Gt(s,i,f){if(s.tag===3)Mu(s,s,f);else for(;i!==null;){if(i.tag===3){Mu(i,s,f);break}else if(i.tag===1){var g=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Sa===null||!Sa.has(g))){s=xo(f,s),s=yu(i,s,1),i=Nr(i,s,1),s=qn(),i!==null&&(nl(i,1,s),rr(i,s));break}}i=i.return}}function iv(s,i,f){var g=s.pingCache;g!==null&&g.delete(i),i=qn(),s.pingedLanes|=s.suspendedLanes&f,xn===s&&(Nn&f)===f&&(cn===4||cn===3&&(Nn&130023424)===Nn&&500>zt()-Qf?wo(s,0):Eu|=f),rr(s,i)}function Ap(s,i){i===0&&((s.mode&1)===0?i=1:(i=Sc,Sc<<=1,(Sc&130023424)===0&&(Sc=4194304)));var f=qn();s=Is(s,i),s!==null&&(nl(s,i,f),rr(s,f))}function lv(s){var i=s.memoizedState,f=0;i!==null&&(f=i.retryLane),Ap(s,f)}function cv(s,i){var f=0;switch(s.tag){case 13:var g=s.stateNode,_=s.memoizedState;_!==null&&(f=_.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(i),Ap(s,f)}var Ip;Ip=function(s,i,f){if(s!==null)if(s.memoizedProps!==i.pendingProps||Qn.current)Hn=!0;else{if((s.lanes&f)===0&&(i.flags&128)===0)return Hn=!1,yp(s,i,f);Hn=(s.flags&131072)!==0}else Hn=!1,$t&&(i.flags&1048576)!==0&&rp(i,eu,i.index);switch(i.lanes=0,i.tag){case 2:var g=i.type;bu(s,i),s=i.pendingProps;var _=oi(i,An.current);va(i,f),_=po(null,i,g,s,_,f);var j=cu();return i.flags|=1,typeof _=="object"&&_!==null&&typeof _.render=="function"&&_.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zn(g)?(j=!0,wr(i)):j=!1,i.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,au(i),_.updater=xu,i.stateNode=_,_._reactInternals=i,Lf(i,g,s,f),i=Hf(null,i,g,!0,j,f)):(i.tag=0,$t&&j&&vl(i),bn(null,i,_,f),i=i.child),i;case 16:g=i.elementType;e:{switch(bu(s,i),s=i.pendingProps,_=g._init,g=_(g._payload),i.type=g,_=i.tag=dv(g),s=Cr(g,s),_){case 0:i=Bf(null,i,g,s,f);break e;case 1:i=Wf(null,i,g,s,f);break e;case 11:i=xp(null,i,g,s,f);break e;case 14:i=Ff(null,i,g,Cr(g.type,s),f);break e}throw Error(t(306,g,""))}return i;case 0:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:Cr(g,_),Bf(s,i,g,_,f);case 1:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:Cr(g,_),Wf(s,i,g,_,f);case 3:e:{if(vp(i),s===null)throw Error(t(387));g=i.pendingProps,j=i.memoizedState,_=j.element,ip(s,i),ci(i,g,null,f);var O=i.memoizedState;if(g=O.element,j.isDehydrated)if(j={element:g,isDehydrated:!1,cache:O.cache,pendingSuspenseBoundaries:O.pendingSuspenseBoundaries,transitions:O.transitions},i.updateQueue.baseState=j,i.memoizedState=j,i.flags&256){_=xo(Error(t(423)),i),i=xs(s,i,g,f,_);break e}else if(g!==_){_=xo(Error(t(424)),i),i=xs(s,i,g,f,_);break e}else for(ur=ha(i.stateNode.containerInfo.firstChild),Mn=i,$t=!0,zr=null,f=nu(i,null,g,f),i.child=f;f;)f.flags=f.flags&-3|4096,f=f.sibling;else{if(ds(),g===_){i=Br(s,i,f);break e}bn(s,i,g,f)}i=i.child}return i;case 5:return Sf(i),s===null&&er(i),g=i.type,_=i.pendingProps,j=s!==null?s.memoizedProps:null,O=_.children,gl(g,_)?O=null:j!==null&&gl(g,j)&&(i.flags|=32),Uf(s,i),bn(s,i,O,f),i.child;case 6:return s===null&&er(i),null;case 13:return _u(s,i,f);case 4:return jf(i,i.stateNode.containerInfo),g=i.pendingProps,s===null?i.child=Kt(i,null,g,f):bn(s,i,g,f),i.child;case 11:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:Cr(g,_),xp(s,i,g,_,f);case 7:return bn(s,i,i.pendingProps,f),i.child;case 8:return bn(s,i,i.pendingProps.children,f),i.child;case 12:return bn(s,i,i.pendingProps.children,f),i.child;case 10:e:{if(g=i.type._context,_=i.pendingProps,j=i.memoizedProps,O=_.value,Ot(_l,g._currentValue),g._currentValue=O,j!==null)if(le(j.value,O)){if(j.children===_.children&&!Qn.current){i=Br(s,i,f);break e}}else for(j=i.child,j!==null&&(j.return=i);j!==null;){var H=j.dependencies;if(H!==null){O=j.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===g){if(j.tag===1){Y=Ms(-1,f&-f),Y.tag=2;var ce=j.updateQueue;if(ce!==null){ce=ce.shared;var we=ce.pending;we===null?Y.next=Y:(Y.next=we.next,we.next=Y),ce.pending=Y}}j.lanes|=f,Y=j.alternate,Y!==null&&(Y.lanes|=f),_n(j.return,f,i),H.lanes|=f;break}Y=Y.next}}else if(j.tag===10)O=j.type===i.type?null:j.child;else if(j.tag===18){if(O=j.return,O===null)throw Error(t(341));O.lanes|=f,H=O.alternate,H!==null&&(H.lanes|=f),_n(O,f,i),O=j.sibling}else O=j.child;if(O!==null)O.return=j;else for(O=j;O!==null;){if(O===i){O=null;break}if(j=O.sibling,j!==null){j.return=O.return,O=j;break}O=O.return}j=O}bn(s,i,_.children,f),i=i.child}return i;case 9:return _=i.type,g=i.pendingProps.children,va(i,f),_=jr(_),g=g(_),i.flags|=1,bn(s,i,g,f),i.child;case 14:return g=i.type,_=Cr(g,i.pendingProps),_=Cr(g.type,_),Ff(s,i,g,_,f);case 15:return gs(s,i,i.type,i.pendingProps,f);case 17:return g=i.type,_=i.pendingProps,_=i.elementType===g?_:Cr(g,_),bu(s,i),i.tag=1,Zn(g)?(s=!0,wr(i)):s=!1,va(i,f),go(i,g,_),Lf(i,g,_,f),Hf(null,i,g,!0,s,f);case 19:return _a(s,i,f);case 22:return zf(s,i,f)}throw Error(t(156,i.tag))};function Mp(s,i){return vm(s,i)}function uv(s,i,f,g){this.tag=s,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pr(s,i,f,g){return new uv(s,i,f,g)}function Ou(s){return s=s.prototype,!(!s||!s.isReactComponent)}function dv(s){if(typeof s=="function")return Ou(s)?1:0;if(s!=null){if(s=s.$$typeof,s===ie)return 11;if(s===ke)return 14}return 2}function qr(s,i){var f=s.alternate;return f===null?(f=Pr(s.tag,i,s.key,s.mode),f.elementType=s.elementType,f.type=s.type,f.stateNode=s.stateNode,f.alternate=s,s.alternate=f):(f.pendingProps=i,f.type=s.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=s.flags&14680064,f.childLanes=s.childLanes,f.lanes=s.lanes,f.child=s.child,f.memoizedProps=s.memoizedProps,f.memoizedState=s.memoizedState,f.updateQueue=s.updateQueue,i=s.dependencies,f.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},f.sibling=s.sibling,f.index=s.index,f.ref=s.ref,f}function Du(s,i,f,g,_,j){var O=2;if(g=s,typeof s=="function")Ou(s)&&(O=1);else if(typeof s=="string")O=5;else e:switch(s){case F:return bo(f.children,_,j,i);case z:O=8,_|=8;break;case q:return s=Pr(12,f,i,_|2),s.elementType=q,s.lanes=j,s;case me:return s=Pr(13,f,i,_),s.elementType=me,s.lanes=j,s;case pe:return s=Pr(19,f,i,_),s.elementType=pe,s.lanes=j,s;case be:return Lu(f,_,j,i);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:O=10;break e;case re:O=9;break e;case ie:O=11;break e;case ke:O=14;break e;case ge:O=16,g=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return i=Pr(O,f,i,_),i.elementType=s,i.type=g,i.lanes=j,i}function bo(s,i,f,g){return s=Pr(7,s,g,i),s.lanes=f,s}function Lu(s,i,f,g){return s=Pr(22,s,g,i),s.elementType=be,s.lanes=f,s.stateNode={isHidden:!1},s}function oh(s,i,f){return s=Pr(6,s,null,i),s.lanes=f,s}function ih(s,i,f){return i=Pr(4,s.children!==null?s.children:[],s.key,i),i.lanes=f,i.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},i}function fv(s,i,f,g,_){this.tag=i,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=tl(0),this.expirationTimes=tl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=tl(0),this.identifierPrefix=g,this.onRecoverableError=_,this.mutableSourceEagerHydrationData=null}function lh(s,i,f,g,_,j,O,H,Y){return s=new fv(s,i,f,H,Y),i===1?(i=1,j===!0&&(i|=8)):i=0,j=Pr(3,null,null,i),s.current=j,j.stateNode=s,j.memoizedState={element:g,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},au(j),s}function hv(s,i,f){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:g==null?null:""+g,children:s,containerInfo:i,implementation:f}}function Op(s){if(!s)return pa;s=s._reactInternals;e:{if(Xa(s)!==s||s.tag!==1)throw Error(t(170));var i=s;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zn(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(s.tag===1){var f=s.type;if(Zn(f))return ep(s,f,i)}return i}function Dp(s,i,f,g,_,j,O,H,Y){return s=lh(f,g,!0,s,_,j,O,H,Y),s.context=Op(null),f=s.current,g=qn(),_=ka(f),j=Ms(g,_),j.callback=i??null,Nr(f,j,_),s.current.lanes=_,nl(s,_,g),rr(s,g),s}function $u(s,i,f,g){var _=i.current,j=qn(),O=ka(_);return f=Op(f),i.context===null?i.context=f:i.pendingContext=f,i=Ms(j,O),i.payload={element:s},g=g===void 0?null:g,g!==null&&(i.callback=g),s=Nr(_,i,O),s!==null&&(Gr(s,_,O,j),ou(s,_,O)),O}function Fu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function Lp(s,i){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var f=s.retryLane;s.retryLane=f!==0&&f<i?f:i}}function ch(s,i){Lp(s,i),(s=s.alternate)&&Lp(s,i)}function mv(){return null}var $p=typeof reportError=="function"?reportError:function(s){console.error(s)};function zu(s){this._internalRoot=s}Wl.prototype.render=zu.prototype.render=function(s){var i=this._internalRoot;if(i===null)throw Error(t(409));$u(s,i,null,null)},Wl.prototype.unmount=zu.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var i=s.containerInfo;yo(function(){$u(null,s,null,null)}),i[cr]=null}};function Wl(s){this._internalRoot=s}Wl.prototype.unstable_scheduleHydration=function(s){if(s){var i=Yd();s={blockedOn:null,target:s,priority:i};for(var f=0;f<ia.length&&i!==0&&i<ia[f].priority;f++);ia.splice(f,0,s),f===0&&Pm(s)}};function uh(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function Fp(){}function pv(s,i,f,g,_){if(_){if(typeof g=="function"){var j=g;g=function(){var ce=Fu(O);j.call(ce)}}var O=Dp(i,g,s,0,null,!1,!1,"",Fp);return s._reactRootContainer=O,s[cr]=O.current,da(s.nodeType===8?s.parentNode:s),yo(),O}for(;_=s.lastChild;)s.removeChild(_);if(typeof g=="function"){var H=g;g=function(){var ce=Fu(Y);H.call(ce)}}var Y=lh(s,0,!1,null,null,!1,!1,"",Fp);return s._reactRootContainer=Y,s[cr]=Y.current,da(s.nodeType===8?s.parentNode:s),yo(function(){$u(i,Y,f,g)}),Y}function jo(s,i,f,g,_){var j=f._reactRootContainer;if(j){var O=j;if(typeof _=="function"){var H=_;_=function(){var Y=Fu(O);H.call(Y)}}$u(i,O,s,_)}else O=pv(f,i,s,_,g);return Fu(O)}Kd=function(s){switch(s.tag){case 3:var i=s.stateNode;if(i.current.memoizedState.isDehydrated){var f=Bo(i.pendingLanes);f!==0&&(rl(i,f|1),rr(i,zt()),(bt&6)===0&&(vo=zt()+500,ga()))}break;case 13:yo(function(){var g=Is(s,1);if(g!==null){var _=qn();Gr(g,s,1,_)}}),ch(s,1)}},kc=function(s){if(s.tag===13){var i=Is(s,134217728);if(i!==null){var f=qn();Gr(i,s,134217728,f)}ch(s,134217728)}},Cm=function(s){if(s.tag===13){var i=ka(s),f=Is(s,i);if(f!==null){var g=qn();Gr(f,s,i,g)}ch(s,i)}},Yd=function(){return Ct},Jd=function(s,i){var f=Ct;try{return Ct=s,i()}finally{Ct=f}},Fd=function(s,i,f){switch(i){case"input":if(Yt(s,f),i=f.name,f.type==="radio"&&i!=null){for(f=s;f.parentNode;)f=f.parentNode;for(f=f.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<f.length;i++){var g=f[i];if(g!==s&&g.form===s.form){var _=Jc(g);if(!_)throw Error(t(90));We(g),Yt(g,_)}}}break;case"textarea":lm(s,f);break;case"select":i=f.value,i!=null&&qt(s,!!f.multiple,i,!1)}},hm=rh,zd=yo;var gv={usingClientEntryPoint:!1,Events:[Tn,ct,Jc,dm,fm,rh]},Hl={findFiberByHostInstance:is,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xv={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:M.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=gm(s),s===null?null:s.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||mv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{jc=Bu.inject(xv),rs=Bu}catch{}}return Ir.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gv,Ir.createPortal=function(s,i){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!uh(i))throw Error(t(200));return hv(s,i,null,f)},Ir.createRoot=function(s,i){if(!uh(s))throw Error(t(299));var f=!1,g="",_=$p;return i!=null&&(i.unstable_strictMode===!0&&(f=!0),i.identifierPrefix!==void 0&&(g=i.identifierPrefix),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=lh(s,1,!1,null,null,f,!1,g,_),s[cr]=i.current,da(s.nodeType===8?s.parentNode:s),new zu(i)},Ir.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var i=s._reactInternals;if(i===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=gm(i),s=s===null?null:s.stateNode,s},Ir.flushSync=function(s){return yo(s)},Ir.hydrate=function(s,i,f){if(!Uu(i))throw Error(t(200));return jo(null,s,i,!0,f)},Ir.hydrateRoot=function(s,i,f){if(!uh(s))throw Error(t(405));var g=f!=null&&f.hydratedSources||null,_=!1,j="",O=$p;if(f!=null&&(f.unstable_strictMode===!0&&(_=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onRecoverableError!==void 0&&(O=f.onRecoverableError)),i=Dp(i,null,s,1,f??null,_,!1,j,O),s[cr]=i.current,da(s),g)for(s=0;s<g.length;s++)f=g[s],_=f._getVersion,_=_(f._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[f,_]:i.mutableSourceEagerHydrationData.push(f,_);return new Wl(i)},Ir.render=function(s,i,f){if(!Uu(i))throw Error(t(200));return jo(null,s,i,!1,f)},Ir.unmountComponentAtNode=function(s){if(!Uu(s))throw Error(t(40));return s._reactRootContainer?(yo(function(){jo(null,null,s,!1,function(){s._reactRootContainer=null,s[cr]=null})}),!0):!1},Ir.unstable_batchedUpdates=rh,Ir.unstable_renderSubtreeIntoContainer=function(s,i,f,g){if(!Uu(f))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return jo(s,i,f,!1,g)},Ir.version="18.3.1-next-f1338f8080-20240426",Ir}var Uw;function r1(){if(Uw)return Av.exports;Uw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Av.exports=eR(),Av.exports}var Bw;function tR(){if(Bw)return Hp;Bw=1;var n=r1();return Hp.createRoot=n.createRoot,Hp.hydrateRoot=n.hydrateRoot,Hp}var nR=tR();const rR=zg(nR),lt=n=>typeof n=="string",hh=()=>{let n,e;const t=new Promise((r,o)=>{n=r,e=o});return t.resolve=n,t.reject=e,t},Ww=n=>n==null?"":""+n,sR=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},aR=/###/g,Hw=n=>n&&n.indexOf("###")>-1?n.replace(aR,"."):n,Vw=n=>!n||lt(n),Ch=(n,e,t)=>{const r=lt(e)?e.split("."):e;let o=0;for(;o<r.length-1;){if(Vw(n))return{};const c=Hw(r[o]);!n[c]&&t&&(n[c]=new t),Object.prototype.hasOwnProperty.call(n,c)?n=n[c]:n={},++o}return Vw(n)?{}:{obj:n,k:Hw(r[o])}},Gw=(n,e,t)=>{const{obj:r,k:o}=Ch(n,e,Object);if(r!==void 0||e.length===1){r[o]=t;return}let c=e[e.length-1],u=e.slice(0,e.length-1),h=Ch(n,u,Object);for(;h.obj===void 0&&u.length;)c=`${u[u.length-1]}.${c}`,u=u.slice(0,u.length-1),h=Ch(n,u,Object),h!=null&&h.obj&&typeof h.obj[`${h.k}.${c}`]<"u"&&(h.obj=void 0);h.obj[`${h.k}.${c}`]=t},oR=(n,e,t,r)=>{const{obj:o,k:c}=Ch(n,e,Object);o[c]=o[c]||[],o[c].push(t)},vg=(n,e)=>{const{obj:t,k:r}=Ch(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},iR=(n,e,t)=>{const r=vg(n,t);return r!==void 0?r:vg(e,t)},s1=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?lt(n[r])||n[r]instanceof String||lt(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):s1(n[r],e[r],t):n[r]=e[r]);return n},Vu=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var lR={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const cR=n=>lt(n)?n.replace(/[&<>"'\/]/g,e=>lR[e]):n;class uR{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const dR=[" ",",","?","!",";"],fR=new uR(20),hR=(n,e,t)=>{e=e||"",t=t||"";const r=dR.filter(u=>e.indexOf(u)<0&&t.indexOf(u)<0);if(r.length===0)return!0;const o=fR.getRegExp(`(${r.map(u=>u==="?"?"\\?":u).join("|")})`);let c=!o.test(n);if(!c){const u=n.indexOf(t);u>0&&!o.test(n.substring(0,u))&&(c=!0)}return c},p0=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let o=n;for(let c=0;c<r.length;){if(!o||typeof o!="object")return;let u,h="";for(let m=c;m<r.length;++m)if(m!==c&&(h+=t),h+=r[m],u=o[h],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&m<r.length-1)continue;c+=m-c+1;break}o=u}return o},Mh=n=>n==null?void 0:n.replace("_","-"),mR={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class yg{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||mR,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,o){return o&&!this.debug?null:(lt(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new yg(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new yg(this.logger,e)}}var Aa=new yg;class Bg{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const o=this.observers[r].get(t)||0;this.observers[r].set(t,o+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([o,c])=>{for(let u=0;u<c;u++)o.apply(o,[e,...t])})}}class qw extends Bg{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,o={}){var p,v;const c=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,u=o.ignoreJSONStructure!==void 0?o.ignoreJSONStructure:this.options.ignoreJSONStructure;let h;e.indexOf(".")>-1?h=e.split("."):(h=[e,t],r&&(Array.isArray(r)?h.push(...r):lt(r)&&c?h.push(...r.split(c)):h.push(r)));const m=vg(this.data,h);return!m&&!t&&!r&&e.indexOf(".")>-1&&(e=h[0],t=h[1],r=h.slice(2).join(".")),m||!u||!lt(r)?m:p0((v=(p=this.data)==null?void 0:p[e])==null?void 0:v[t],r,c)}addResource(e,t,r,o,c={silent:!1}){const u=c.keySeparator!==void 0?c.keySeparator:this.options.keySeparator;let h=[e,t];r&&(h=h.concat(u?r.split(u):r)),e.indexOf(".")>-1&&(h=e.split("."),o=t,t=h[1]),this.addNamespaces(t),Gw(this.data,h,o),c.silent||this.emit("added",e,t,r,o)}addResources(e,t,r,o={silent:!1}){for(const c in r)(lt(r[c])||Array.isArray(r[c]))&&this.addResource(e,t,c,r[c],{silent:!0});o.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,o,c,u={silent:!1,skipCopy:!1}){let h=[e,t];e.indexOf(".")>-1&&(h=e.split("."),o=r,r=t,t=h[1]),this.addNamespaces(t);let m=vg(this.data,h)||{};u.skipCopy||(r=JSON.parse(JSON.stringify(r))),o?s1(m,r,c):m={...m,...r},Gw(this.data,h,m),u.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(o=>t[o]&&Object.keys(t[o]).length>0)}toJSON(){return this.data}}var a1={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,o){return n.forEach(c=>{var u;e=((u=this.processors[c])==null?void 0:u.process(e,t,r,o))??e}),e}};const Kw={},Yw=n=>!lt(n)&&typeof n!="boolean"&&typeof n!="number";class wg extends Bg{constructor(e,t={}){super(),sR(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Aa.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const o=this.resolve(e,r);return(o==null?void 0:o.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const o=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let c=t.ns||this.options.defaultNS||[];const u=r&&e.indexOf(r)>-1,h=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!hR(e,r,o);if(u&&!h){const m=e.match(this.interpolator.nestingRegexp);if(m&&m.length>0)return{key:e,namespaces:lt(c)?[c]:c};const p=e.split(r);(r!==o||r===o&&this.options.ns.indexOf(p[0])>-1)&&(c=p.shift()),e=p.join(o)}return{key:e,namespaces:lt(c)?[c]:c}}translate(e,t,r){let o=typeof t=="object"?{...t}:t;if(typeof o!="object"&&this.options.overloadTranslationOptionHandler&&(o=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(o={...o}),o||(o={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const c=o.returnDetails!==void 0?o.returnDetails:this.options.returnDetails,u=o.keySeparator!==void 0?o.keySeparator:this.options.keySeparator,{key:h,namespaces:m}=this.extractFromKey(e[e.length-1],o),p=m[m.length-1];let v=o.nsSeparator!==void 0?o.nsSeparator:this.options.nsSeparator;v===void 0&&(v=":");const y=o.lng||this.language,b=o.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((y==null?void 0:y.toLowerCase())==="cimode")return b?c?{res:`${p}${v}${h}`,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:`${p}${v}${h}`:c?{res:h,usedKey:h,exactUsedKey:h,usedLng:y,usedNS:p,usedParams:this.getUsedParamsDetails(o)}:h;const C=this.resolve(e,o);let E=C==null?void 0:C.res;const P=(C==null?void 0:C.usedKey)||h,N=(C==null?void 0:C.exactUsedKey)||h,R=["[object Number]","[object Function]","[object RegExp]"],k=o.joinArrays!==void 0?o.joinArrays:this.options.joinArrays,T=!this.i18nFormat||this.i18nFormat.handleAsObject,M=o.count!==void 0&&!lt(o.count),I=wg.hasDefaultValue(o),D=M?this.pluralResolver.getSuffix(y,o.count,o):"",F=o.ordinal&&M?this.pluralResolver.getSuffix(y,o.count,{ordinal:!1}):"",z=M&&!o.ordinal&&o.count===0,q=z&&o[`defaultValue${this.options.pluralSeparator}zero`]||o[`defaultValue${D}`]||o[`defaultValue${F}`]||o.defaultValue;let X=E;T&&!E&&I&&(X=q);const re=Yw(X),ie=Object.prototype.toString.apply(X);if(T&&X&&re&&R.indexOf(ie)<0&&!(lt(k)&&Array.isArray(X))){if(!o.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const me=this.options.returnedObjectHandler?this.options.returnedObjectHandler(P,X,{...o,ns:m}):`key '${h} (${this.language})' returned an object instead of string.`;return c?(C.res=me,C.usedParams=this.getUsedParamsDetails(o),C):me}if(u){const me=Array.isArray(X),pe=me?[]:{},ke=me?N:P;for(const ge in X)if(Object.prototype.hasOwnProperty.call(X,ge)){const be=`${ke}${u}${ge}`;I&&!E?pe[ge]=this.translate(be,{...o,defaultValue:Yw(q)?q[ge]:void 0,joinArrays:!1,ns:m}):pe[ge]=this.translate(be,{...o,joinArrays:!1,ns:m}),pe[ge]===be&&(pe[ge]=X[ge])}E=pe}}else if(T&&lt(k)&&Array.isArray(E))E=E.join(k),E&&(E=this.extendTranslation(E,e,o,r));else{let me=!1,pe=!1;!this.isValidLookup(E)&&I&&(me=!0,E=q),this.isValidLookup(E)||(pe=!0,E=h);const ge=(o.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&pe?void 0:E,be=I&&q!==E&&this.options.updateMissing;if(pe||me||be){if(this.logger.log(be?"updateKey":"missingKey",y,p,h,be?q:E),u){const B=this.resolve(h,{...o,keySeparator:!1});B&&B.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const K=this.languageUtils.getFallbackCodes(this.options.fallbackLng,o.lng||this.language);if(this.options.saveMissingTo==="fallback"&&K&&K[0])for(let B=0;B<K.length;B++)W.push(K[B]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(o.lng||this.language):W.push(o.lng||this.language);const ne=(B,U,V)=>{var ue;const ae=I&&V!==E?V:ge;this.options.missingKeyHandler?this.options.missingKeyHandler(B,p,U,ae,be,o):(ue=this.backendConnector)!=null&&ue.saveMissing&&this.backendConnector.saveMissing(B,p,U,ae,be,o),this.emit("missingKey",B,p,U,E)};this.options.saveMissing&&(this.options.saveMissingPlurals&&M?W.forEach(B=>{const U=this.pluralResolver.getSuffixes(B,o);z&&o[`defaultValue${this.options.pluralSeparator}zero`]&&U.indexOf(`${this.options.pluralSeparator}zero`)<0&&U.push(`${this.options.pluralSeparator}zero`),U.forEach(V=>{ne([B],h+V,o[`defaultValue${V}`]||q)})}):ne(W,h,q))}E=this.extendTranslation(E,e,o,C,r),pe&&E===h&&this.options.appendNamespaceToMissingKey&&(E=`${p}${v}${h}`),(pe||me)&&this.options.parseMissingKeyHandler&&(E=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${p}${v}${h}`:h,me?E:void 0,o))}return c?(C.res=E,C.usedParams=this.getUsedParamsDetails(o),C):E}extendTranslation(e,t,r,o,c){var m,p;if((m=this.i18nFormat)!=null&&m.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||o.usedLng,o.usedNS,o.usedKey,{resolved:o});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const v=lt(e)&&(((p=r==null?void 0:r.interpolation)==null?void 0:p.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let y;if(v){const C=e.match(this.interpolator.nestingRegexp);y=C&&C.length}let b=r.replace&&!lt(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(b={...this.options.interpolation.defaultVariables,...b}),e=this.interpolator.interpolate(e,b,r.lng||this.language||o.usedLng,r),v){const C=e.match(this.interpolator.nestingRegexp),E=C&&C.length;y<E&&(r.nest=!1)}!r.lng&&o&&o.res&&(r.lng=this.language||o.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...C)=>(c==null?void 0:c[0])===C[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${C[0]} in key: ${t[0]}`),null):this.translate(...C,t),r)),r.interpolation&&this.interpolator.reset()}const u=r.postProcess||this.options.postProcess,h=lt(u)?[u]:u;return e!=null&&(h!=null&&h.length)&&r.applyPostProcessor!==!1&&(e=a1.handle(h,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...o,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,o,c,u,h;return lt(e)&&(e=[e]),e.forEach(m=>{if(this.isValidLookup(r))return;const p=this.extractFromKey(m,t),v=p.key;o=v;let y=p.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const b=t.count!==void 0&&!lt(t.count),C=b&&!t.ordinal&&t.count===0,E=t.context!==void 0&&(lt(t.context)||typeof t.context=="number")&&t.context!=="",P=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);y.forEach(N=>{var R,k;this.isValidLookup(r)||(h=N,!Kw[`${P[0]}-${N}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((k=this.utils)!=null&&k.hasLoadedNamespace(h))&&(Kw[`${P[0]}-${N}`]=!0,this.logger.warn(`key "${o}" for languages "${P.join(", ")}" won't get resolved as namespace "${h}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),P.forEach(T=>{var D;if(this.isValidLookup(r))return;u=T;const M=[v];if((D=this.i18nFormat)!=null&&D.addLookupKeys)this.i18nFormat.addLookupKeys(M,v,T,N,t);else{let F;b&&(F=this.pluralResolver.getSuffix(T,t.count,t));const z=`${this.options.pluralSeparator}zero`,q=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(b&&(M.push(v+F),t.ordinal&&F.indexOf(q)===0&&M.push(v+F.replace(q,this.options.pluralSeparator)),C&&M.push(v+z)),E){const X=`${v}${this.options.contextSeparator}${t.context}`;M.push(X),b&&(M.push(X+F),t.ordinal&&F.indexOf(q)===0&&M.push(X+F.replace(q,this.options.pluralSeparator)),C&&M.push(X+z))}}let I;for(;I=M.pop();)this.isValidLookup(r)||(c=I,r=this.getResource(T,N,I,t))}))})}),{res:r,usedKey:o,exactUsedKey:c,usedLng:u,usedNS:h}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,o={}){var c;return(c=this.i18nFormat)!=null&&c.getResource?this.i18nFormat.getResource(e,t,r,o):this.resourceStore.getResource(e,t,r,o)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!lt(e.replace);let o=r?e.replace:e;if(r&&typeof e.count<"u"&&(o.count=e.count),this.options.interpolation.defaultVariables&&(o={...this.options.interpolation.defaultVariables,...o}),!r){o={...o};for(const c of t)delete o[c]}return o}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class Jw{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Aa.create("languageUtils")}getScriptPartFromCode(e){if(e=Mh(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=Mh(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(lt(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const o=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(o))&&(t=o)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const o=this.getScriptPartFromCode(r);if(this.isSupportedCode(o))return t=o;const c=this.getLanguagePartFromCode(r);if(this.isSupportedCode(c))return t=c;t=this.options.supportedLngs.find(u=>{if(u===c)return u;if(!(u.indexOf("-")<0&&c.indexOf("-")<0)&&(u.indexOf("-")>0&&c.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===c||u.indexOf(c)===0&&c.length>1))return u})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),lt(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),o=[],c=u=>{u&&(this.isSupportedCode(u)?o.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return lt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&c(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&c(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&c(this.getLanguagePartFromCode(e))):lt(e)&&c(this.formatLanguageCode(e)),r.forEach(u=>{o.indexOf(u)<0&&c(this.formatLanguageCode(u))}),o}}const Xw={zero:0,one:1,two:2,few:3,many:4,other:5},Qw={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pR{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=Aa.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=Mh(e==="dev"?"en":e),o=t.ordinal?"ordinal":"cardinal",c=JSON.stringify({cleanedCode:r,type:o});if(c in this.pluralRulesCache)return this.pluralRulesCache[c];let u;try{u=new Intl.PluralRules(r,{type:o})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Qw;if(!e.match(/-|_/))return Qw;const m=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(m,t)}return this.pluralRulesCache[c]=u,u}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(o=>`${t}${o}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((o,c)=>Xw[o]-Xw[c]).map(o=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${o}`):[]}getSuffix(e,t,r={}){const o=this.getRule(e,r);return o?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${o.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const Zw=(n,e,t,r=".",o=!0)=>{let c=iR(n,e,t);return!c&&o&&lt(t)&&(c=p0(n,t,r),c===void 0&&(c=p0(e,t,r))),c},Ov=n=>n.replace(/\$/g,"$$$$");class gR{constructor(e={}){var t;this.logger=Aa.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:o,prefix:c,prefixEscaped:u,suffix:h,suffixEscaped:m,formatSeparator:p,unescapeSuffix:v,unescapePrefix:y,nestingPrefix:b,nestingPrefixEscaped:C,nestingSuffix:E,nestingSuffixEscaped:P,nestingOptionsSeparator:N,maxReplaces:R,alwaysFormat:k}=e.interpolation;this.escape=t!==void 0?t:cR,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=o!==void 0?o:!1,this.prefix=c?Vu(c):u||"{{",this.suffix=h?Vu(h):m||"}}",this.formatSeparator=p||",",this.unescapePrefix=v?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":v||"",this.nestingPrefix=b?Vu(b):C||Vu("$t("),this.nestingSuffix=E?Vu(E):P||Vu(")"),this.nestingOptionsSeparator=N||",",this.maxReplaces=R||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,o){var C;let c,u,h;const m=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=E=>{if(E.indexOf(this.formatSeparator)<0){const k=Zw(t,m,E,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(k,void 0,r,{...o,...t,interpolationkey:E}):k}const P=E.split(this.formatSeparator),N=P.shift().trim(),R=P.join(this.formatSeparator).trim();return this.format(Zw(t,m,N,this.options.keySeparator,this.options.ignoreJSONStructure),R,r,{...o,...t,interpolationkey:N})};this.resetRegExp();const v=(o==null?void 0:o.missingInterpolationHandler)||this.options.missingInterpolationHandler,y=((C=o==null?void 0:o.interpolation)==null?void 0:C.skipOnVariables)!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:E=>Ov(E)},{regex:this.regexp,safeValue:E=>this.escapeValue?Ov(this.escape(E)):Ov(E)}].forEach(E=>{for(h=0;c=E.regex.exec(e);){const P=c[1].trim();if(u=p(P),u===void 0)if(typeof v=="function"){const R=v(e,c,o);u=lt(R)?R:""}else if(o&&Object.prototype.hasOwnProperty.call(o,P))u="";else if(y){u=c[0];continue}else this.logger.warn(`missed to pass in variable ${P} for interpolating ${e}`),u="";else!lt(u)&&!this.useRawValueToEscape&&(u=Ww(u));const N=E.safeValue(u);if(e=e.replace(c[0],N),y?(E.regex.lastIndex+=u.length,E.regex.lastIndex-=c[0].length):E.regex.lastIndex=0,h++,h>=this.maxReplaces)break}}),e}nest(e,t,r={}){let o,c,u;const h=(m,p)=>{const v=this.nestingOptionsSeparator;if(m.indexOf(v)<0)return m;const y=m.split(new RegExp(`${v}[ ]*{`));let b=`{${y[1]}`;m=y[0],b=this.interpolate(b,u);const C=b.match(/'/g),E=b.match(/"/g);(((C==null?void 0:C.length)??0)%2===0&&!E||E.length%2!==0)&&(b=b.replace(/'/g,'"'));try{u=JSON.parse(b),p&&(u={...p,...u})}catch(P){return this.logger.warn(`failed parsing options string in nesting for key ${m}`,P),`${m}${v}${b}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,m};for(;o=this.nestingRegexp.exec(e);){let m=[];u={...r},u=u.replace&&!lt(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const p=/{.*}/.test(o[1])?o[1].lastIndexOf("}")+1:o[1].indexOf(this.formatSeparator);if(p!==-1&&(m=o[1].slice(p).split(this.formatSeparator).map(v=>v.trim()).filter(Boolean),o[1]=o[1].slice(0,p)),c=t(h.call(this,o[1].trim(),u),u),c&&o[0]===e&&!lt(c))return c;lt(c)||(c=Ww(c)),c||(this.logger.warn(`missed to resolve ${o[1]} for nesting ${e}`),c=""),m.length&&(c=m.reduce((v,y)=>this.format(v,y,r.lng,{...r,interpolationkey:o[1].trim()}),c.trim())),e=e.replace(o[0],c),this.regexp.lastIndex=0}return e}}const xR=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const o=r[1].substring(0,r[1].length-1);e==="currency"&&o.indexOf(":")<0?t.currency||(t.currency=o.trim()):e==="relativetime"&&o.indexOf(":")<0?t.range||(t.range=o.trim()):o.split(";").forEach(u=>{if(u){const[h,...m]=u.split(":"),p=m.join(":").trim().replace(/^'+|'+$/g,""),v=h.trim();t[v]||(t[v]=p),p==="false"&&(t[v]=!1),p==="true"&&(t[v]=!0),isNaN(p)||(t[v]=parseInt(p,10))}})}return{formatName:e,formatOptions:t}},e_=n=>{const e={};return(t,r,o)=>{let c=o;o&&o.interpolationkey&&o.formatParams&&o.formatParams[o.interpolationkey]&&o[o.interpolationkey]&&(c={...c,[o.interpolationkey]:void 0});const u=r+JSON.stringify(c);let h=e[u];return h||(h=n(Mh(r),o),e[u]=h),h(t)}},vR=n=>(e,t,r)=>n(Mh(t),r)(e);class yR{constructor(e={}){this.logger=Aa.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?e_:vR;this.formats={number:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c});return h=>u.format(h)}),currency:r((o,c)=>{const u=new Intl.NumberFormat(o,{...c,style:"currency"});return h=>u.format(h)}),datetime:r((o,c)=>{const u=new Intl.DateTimeFormat(o,{...c});return h=>u.format(h)}),relativetime:r((o,c)=>{const u=new Intl.RelativeTimeFormat(o,{...c});return h=>u.format(h,c.range||"day")}),list:r((o,c)=>{const u=new Intl.ListFormat(o,{...c});return h=>u.format(h)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=e_(t)}format(e,t,r,o={}){const c=t.split(this.formatSeparator);if(c.length>1&&c[0].indexOf("(")>1&&c[0].indexOf(")")<0&&c.find(h=>h.indexOf(")")>-1)){const h=c.findIndex(m=>m.indexOf(")")>-1);c[0]=[c[0],...c.splice(1,h)].join(this.formatSeparator)}return c.reduce((h,m)=>{var y;const{formatName:p,formatOptions:v}=xR(m);if(this.formats[p]){let b=h;try{const C=((y=o==null?void 0:o.formatParams)==null?void 0:y[o.interpolationkey])||{},E=C.locale||C.lng||o.locale||o.lng||r;b=this.formats[p](h,E,{...v,...o,...C})}catch(C){this.logger.warn(C)}return b}else this.logger.warn(`there was no format function for ${p}`);return h},e)}}const wR=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class _R extends Bg{constructor(e,t,r,o={}){var c,u;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=o,this.logger=Aa.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=o.maxParallelReads||10,this.readingCalls=0,this.maxRetries=o.maxRetries>=0?o.maxRetries:5,this.retryTimeout=o.retryTimeout>=1?o.retryTimeout:350,this.state={},this.queue=[],(u=(c=this.backend)==null?void 0:c.init)==null||u.call(c,r,o.backend,o)}queueLoad(e,t,r,o){const c={},u={},h={},m={};return e.forEach(p=>{let v=!0;t.forEach(y=>{const b=`${p}|${y}`;!r.reload&&this.store.hasResourceBundle(p,y)?this.state[b]=2:this.state[b]<0||(this.state[b]===1?u[b]===void 0&&(u[b]=!0):(this.state[b]=1,v=!1,u[b]===void 0&&(u[b]=!0),c[b]===void 0&&(c[b]=!0),m[y]===void 0&&(m[y]=!0)))}),v||(h[p]=!0)}),(Object.keys(c).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:o}),{toLoad:Object.keys(c),pending:Object.keys(u),toLoadLanguages:Object.keys(h),toLoadNamespaces:Object.keys(m)}}loaded(e,t,r){const o=e.split("|"),c=o[0],u=o[1];t&&this.emit("failedLoading",c,u,t),!t&&r&&this.store.addResourceBundle(c,u,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const h={};this.queue.forEach(m=>{oR(m.loaded,[c],u),wR(m,e),t&&m.errors.push(t),m.pendingCount===0&&!m.done&&(Object.keys(m.loaded).forEach(p=>{h[p]||(h[p]={});const v=m.loaded[p];v.length&&v.forEach(y=>{h[p][y]===void 0&&(h[p][y]=!0)})}),m.done=!0,m.errors.length?m.callback(m.errors):m.callback())}),this.emit("loaded",h),this.queue=this.queue.filter(m=>!m.done)}read(e,t,r,o=0,c=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:o,wait:c,callback:u});return}this.readingCalls++;const h=(p,v)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(p&&v&&o<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,o+1,c*2,u)},c);return}u(p,v)},m=this.backend[r].bind(this.backend);if(m.length===2){try{const p=m(e,t);p&&typeof p.then=="function"?p.then(v=>h(null,v)).catch(h):h(null,p)}catch(p){h(p)}return}return m(e,t,h)}prepareLoading(e,t,r={},o){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),o&&o();lt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),lt(t)&&(t=[t]);const c=this.queueLoad(e,t,r,o);if(!c.toLoad.length)return c.pending.length||o(),null;c.toLoad.forEach(u=>{this.loadOne(u)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),o=r[0],c=r[1];this.read(o,c,"read",void 0,void 0,(u,h)=>{u&&this.logger.warn(`${t}loading namespace ${c} for language ${o} failed`,u),!u&&h&&this.logger.log(`${t}loaded namespace ${c} for language ${o}`,h),this.loaded(e,u,h)})}saveMissing(e,t,r,o,c,u={},h=()=>{}){var m,p,v,y,b;if((p=(m=this.services)==null?void 0:m.utils)!=null&&p.hasLoadedNamespace&&!((y=(v=this.services)==null?void 0:v.utils)!=null&&y.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((b=this.backend)!=null&&b.create){const C={...u,isUpdate:c},E=this.backend.create.bind(this.backend);if(E.length<6)try{let P;E.length===5?P=E(e,t,r,o,C):P=E(e,t,r,o),P&&typeof P.then=="function"?P.then(N=>h(null,N)).catch(h):h(null,P)}catch(P){h(P)}else E(e,t,r,o,h,C)}!e||!e[0]||this.store.addResource(e[0],t,r,o)}}}const t_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),lt(n[1])&&(e.defaultValue=n[1]),lt(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),n_=n=>{var e,t;return lt(n.ns)&&(n.ns=[n.ns]),lt(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),lt(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Vp=()=>{},bR=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class Oh extends Bg{constructor(e={},t){if(super(),this.options=n_(e),this.services={},this.logger=Aa,this.modules={external:[]},bR(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(lt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=t_();this.options={...r,...this.options,...n_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const o=p=>p?typeof p=="function"?new p:p:null;if(!this.options.isClone){this.modules.logger?Aa.init(o(this.modules.logger),this.options):Aa.init(null,this.options);let p;this.modules.formatter?p=this.modules.formatter:p=yR;const v=new Jw(this.options);this.store=new qw(this.options.resources,this.options);const y=this.services;y.logger=Aa,y.resourceStore=this.store,y.languageUtils=v,y.pluralResolver=new pR(v,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.warn("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),p&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(y.formatter=o(p),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new gR(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new _R(o(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.languageDetector&&(y.languageDetector=o(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=o(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new wg(this.services,this.options),this.translator.on("*",(C,...E)=>{this.emit(C,...E)}),this.modules.external.forEach(C=>{C.init&&C.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Vp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const p=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);p.length>0&&p[0]!=="dev"&&(this.options.lng=p[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(p=>{this[p]=(...v)=>this.store[p](...v)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(p=>{this[p]=(...v)=>(this.store[p](...v),this)});const h=hh(),m=()=>{const p=(v,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),h.resolve(y),t(v,y)};if(this.languages&&!this.isInitialized)return p(null,this.t.bind(this));this.changeLanguage(this.options.lng,p)};return this.options.resources||!this.options.initAsync?m():setTimeout(m,0),h}loadResources(e,t=Vp){var c,u;let r=t;const o=lt(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((o==null?void 0:o.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const h=[],m=p=>{if(!p||p==="cimode")return;this.services.languageUtils.toResolveHierarchy(p).forEach(y=>{y!=="cimode"&&h.indexOf(y)<0&&h.push(y)})};o?m(o):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(v=>m(v)),(u=(c=this.options.preload)==null?void 0:c.forEach)==null||u.call(c,p=>m(p)),this.services.backendConnector.load(h,this.options.ns,p=>{!p&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(p)})}else r(null)}reloadResources(e,t,r){const o=hh();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Vp),this.services.backendConnector.reload(e,t,c=>{o.resolve(),r(c)}),o}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&a1.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=hh();this.emit("languageChanging",e);const o=h=>{this.language=h,this.languages=this.services.languageUtils.toResolveHierarchy(h),this.resolvedLanguage=void 0,this.setResolvedLanguage(h)},c=(h,m)=>{m?this.isLanguageChangingTo===e&&(o(m),this.translator.changeLanguage(m),this.isLanguageChangingTo=void 0,this.emit("languageChanged",m),this.logger.log("languageChanged",m)):this.isLanguageChangingTo=void 0,r.resolve((...p)=>this.t(...p)),t&&t(h,(...p)=>this.t(...p))},u=h=>{var v,y;!e&&!h&&this.services.languageDetector&&(h=[]);const m=lt(h)?h:h&&h[0],p=this.store.hasLanguageSomeTranslations(m)?m:this.services.languageUtils.getBestMatchFromCodes(lt(h)?[h]:h);p&&(this.language||o(p),this.translator.language||this.translator.changeLanguage(p),(y=(v=this.services.languageDetector)==null?void 0:v.cacheUserLanguage)==null||y.call(v,p)),this.loadResources(p,b=>{c(b,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),r}getFixedT(e,t,r){const o=(c,u,...h)=>{let m;typeof u!="object"?m=this.options.overloadTranslationOptionHandler([c,u].concat(h)):m={...u},m.lng=m.lng||o.lng,m.lngs=m.lngs||o.lngs,m.ns=m.ns||o.ns,m.keyPrefix!==""&&(m.keyPrefix=m.keyPrefix||r||o.keyPrefix);const p=this.options.keySeparator||".";let v;return m.keyPrefix&&Array.isArray(c)?v=c.map(y=>`${m.keyPrefix}${p}${y}`):v=m.keyPrefix?`${m.keyPrefix}${p}${c}`:c,this.t(v,m)};return lt(e)?o.lng=e:o.lngs=e,o.ns=t,o.keyPrefix=r,o}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],o=this.options?this.options.fallbackLng:!1,c=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const u=(h,m)=>{const p=this.services.backendConnector.state[`${h}|${m}`];return p===-1||p===0||p===2};if(t.precheck){const h=t.precheck(this,u);if(h!==void 0)return h}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(r,e)&&(!o||u(c,e)))}loadNamespaces(e,t){const r=hh();return this.options.ns?(lt(e)&&(e=[e]),e.forEach(o=>{this.options.ns.indexOf(o)<0&&this.options.ns.push(o)}),this.loadResources(o=>{r.resolve(),t&&t(o)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=hh();lt(e)&&(e=[e]);const o=this.options.preload||[],c=e.filter(u=>o.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return c.length?(this.options.preload=o.concat(c),this.loadResources(u=>{r.resolve(),t&&t(u)}),r):(t&&t(),Promise.resolve())}dir(e){var o,c;if(e||(e=this.resolvedLanguage||(((o=this.languages)==null?void 0:o.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const u=new Intl.Locale(e);if(u&&u.getTextInfo){const h=u.getTextInfo();if(h&&h.direction)return h.direction}}catch{}const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((c=this.services)==null?void 0:c.languageUtils)||new Jw(t_());return e.toLowerCase().indexOf("-latn")>1?"ltr":t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new Oh(e,t)}cloneInstance(e={},t=Vp){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const o={...this.options,...e,isClone:!0},c=new Oh(o);if((e.debug!==void 0||e.prefix!==void 0)&&(c.logger=c.logger.clone(e)),["store","services","language"].forEach(h=>{c[h]=this[h]}),c.services={...this.services},c.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},r){const h=Object.keys(this.store.data).reduce((m,p)=>(m[p]={...this.store.data[p]},m[p]=Object.keys(m[p]).reduce((v,y)=>(v[y]={...m[p][y]},v),m[p]),m),{});c.store=new qw(h,o),c.services.resourceStore=c.store}return c.translator=new wg(c.services,o),c.translator.on("*",(h,...m)=>{c.emit(h,...m)}),c.init(o,t),c.translator.options=o,c.translator.backendConnector.services.utils={hasLoadedNamespace:c.hasLoadedNamespace.bind(c)},c}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ar=Oh.createInstance();ar.createInstance=Oh.createInstance;ar.createInstance;ar.dir;ar.init;ar.loadResources;ar.reloadResources;ar.use;ar.changeLanguage;ar.getFixedT;ar.t;ar.exists;ar.setDefaultNamespace;ar.hasLoadedNamespace;ar.loadNamespaces;ar.loadLanguages;const jR=(n,e,t,r)=>{var c,u,h,m;const o=[t,{code:e,...r||{}}];if((u=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&u.forward)return n.services.logger.forward(o,"warn","react-i18next::",!0);nc(o[0])&&(o[0]=`react-i18next:: ${o[0]}`),(m=(h=n==null?void 0:n.services)==null?void 0:h.logger)!=null&&m.warn?n.services.logger.warn(...o):console!=null&&console.warn&&console.warn(...o)},r_={},g0=(n,e,t,r)=>{nc(t)&&r_[t]||(nc(t)&&(r_[t]=new Date),jR(n,e,t,r))},o1=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},x0=(n,e,t)=>{n.loadNamespaces(e,o1(n,t))},s_=(n,e,t,r)=>{if(nc(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return x0(n,t,r);t.forEach(o=>{n.options.ns.indexOf(o)<0&&n.options.ns.push(o)}),n.loadLanguages(e,o1(n,r))},SR=(n,e,t={})=>!e.languages||!e.languages.length?(g0(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,o)=>{if(t.bindI18n&&t.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!o(r.isLanguageChangingTo,n))return!1}}),nc=n=>typeof n=="string",NR=n=>typeof n=="object"&&n!==null,kR=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,CR={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},ER=n=>CR[n],PR=n=>n.replace(kR,ER);let v0={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:PR};const RR=(n={})=>{v0={...v0,...n}},TR=()=>v0;let i1;const AR=n=>{i1=n},IR=()=>i1,MR={type:"3rdParty",init(n){RR(n.options.react),AR(n)}},OR=w.createContext();class DR{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const LR=(n,e)=>{const t=w.useRef();return w.useEffect(()=>{t.current=n},[n,e]),t.current},l1=(n,e,t,r)=>n.getFixedT(e,t,r),$R=(n,e,t,r)=>w.useCallback(l1(n,e,t,r),[n,e,t,r]),FR=(n,e={})=>{var M,I,D,F;const{i18n:t}=e,{i18n:r,defaultNS:o}=w.useContext(OR)||{},c=t||r||IR();if(c&&!c.reportNamespaces&&(c.reportNamespaces=new DR),!c){g0(c,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const z=(X,re)=>nc(re)?re:NR(re)&&nc(re.defaultValue)?re.defaultValue:Array.isArray(X)?X[X.length-1]:X,q=[z,{},!1];return q.t=z,q.i18n={},q.ready=!1,q}(M=c.options.react)!=null&&M.wait&&g0(c,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const u={...TR(),...c.options.react,...e},{useSuspense:h,keyPrefix:m}=u;let p=n||o||((I=c.options)==null?void 0:I.defaultNS);p=nc(p)?[p]:p||["translation"],(F=(D=c.reportNamespaces).addUsedNamespaces)==null||F.call(D,p);const v=(c.isInitialized||c.initializedStoreOnce)&&p.every(z=>SR(z,c,u)),y=$R(c,e.lng||null,u.nsMode==="fallback"?p:p[0],m),b=()=>y,C=()=>l1(c,e.lng||null,u.nsMode==="fallback"?p:p[0],m),[E,P]=w.useState(b);let N=p.join();e.lng&&(N=`${e.lng}${N}`);const R=LR(N),k=w.useRef(!0);w.useEffect(()=>{const{bindI18n:z,bindI18nStore:q}=u;k.current=!0,!v&&!h&&(e.lng?s_(c,e.lng,p,()=>{k.current&&P(C)}):x0(c,p,()=>{k.current&&P(C)})),v&&R&&R!==N&&k.current&&P(C);const X=()=>{k.current&&P(C)};return z&&(c==null||c.on(z,X)),q&&(c==null||c.store.on(q,X)),()=>{k.current=!1,c&&z&&(z==null||z.split(" ").forEach(re=>c.off(re,X))),q&&c&&q.split(" ").forEach(re=>c.store.off(re,X))}},[c,N]),w.useEffect(()=>{k.current&&v&&P(b)},[c,m,v]);const T=[E,c,v];if(T.t=E,T.i18n=c,T.ready=v,v||!v&&!h)return T;throw new Promise(z=>{e.lng?s_(c,e.lng,p,()=>z()):x0(c,p,()=>z())})},{slice:zR,forEach:UR}=[];function BR(n){return UR.call(zR.call(arguments,1),e=>{if(e)for(const t in e)n[t]===void 0&&(n[t]=e[t])}),n}function WR(n){return typeof n!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(t=>t.test(n))}const a_=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,HR=function(n,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},o=encodeURIComponent(e);let c=`${n}=${o}`;if(r.maxAge>0){const u=r.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");c+=`; Max-Age=${Math.floor(u)}`}if(r.domain){if(!a_.test(r.domain))throw new TypeError("option domain is invalid");c+=`; Domain=${r.domain}`}if(r.path){if(!a_.test(r.path))throw new TypeError("option path is invalid");c+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");c+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(c+="; HttpOnly"),r.secure&&(c+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(c+="; Partitioned"),c},o_={create(n,e,t,r){let o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};t&&(o.expires=new Date,o.expires.setTime(o.expires.getTime()+t*60*1e3)),r&&(o.domain=r),document.cookie=HR(n,e,o)},read(n){const e=`${n}=`,t=document.cookie.split(";");for(let r=0;r<t.length;r++){let o=t[r];for(;o.charAt(0)===" ";)o=o.substring(1,o.length);if(o.indexOf(e)===0)return o.substring(e.length,o.length)}return null},remove(n,e){this.create(n,"",-1,e)}};var VR={name:"cookie",lookup(n){let{lookupCookie:e}=n;if(e&&typeof document<"u")return o_.read(e)||void 0},cacheUserLanguage(n,e){let{lookupCookie:t,cookieMinutes:r,cookieDomain:o,cookieOptions:c}=e;t&&typeof document<"u"&&o_.create(t,n,r,o,c)}},GR={name:"querystring",lookup(n){var r;let{lookupQuerystring:e}=n,t;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const u=o.substring(1).split("&");for(let h=0;h<u.length;h++){const m=u[h].indexOf("=");m>0&&u[h].substring(0,m)===e&&(t=u[h].substring(m+1))}}return t}},qR={name:"hash",lookup(n){var o;let{lookupHash:e,lookupFromHashIndex:t}=n,r;if(typeof window<"u"){const{hash:c}=window.location;if(c&&c.length>2){const u=c.substring(1);if(e){const h=u.split("&");for(let m=0;m<h.length;m++){const p=h[m].indexOf("=");p>0&&h[m].substring(0,p)===e&&(r=h[m].substring(p+1))}}if(r)return r;if(!r&&t>-1){const h=c.match(/\/([a-zA-Z-]*)/g);return Array.isArray(h)?(o=h[typeof t=="number"?t:0])==null?void 0:o.replace("/",""):void 0}}}return r}};let Gu=null;const i_=()=>{if(Gu!==null)return Gu;try{if(Gu=typeof window<"u"&&window.localStorage!==null,!Gu)return!1;const n="i18next.translate.boo";window.localStorage.setItem(n,"foo"),window.localStorage.removeItem(n)}catch{Gu=!1}return Gu};var KR={name:"localStorage",lookup(n){let{lookupLocalStorage:e}=n;if(e&&i_())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupLocalStorage:t}=e;t&&i_()&&window.localStorage.setItem(t,n)}};let qu=null;const l_=()=>{if(qu!==null)return qu;try{if(qu=typeof window<"u"&&window.sessionStorage!==null,!qu)return!1;const n="i18next.translate.boo";window.sessionStorage.setItem(n,"foo"),window.sessionStorage.removeItem(n)}catch{qu=!1}return qu};var YR={name:"sessionStorage",lookup(n){let{lookupSessionStorage:e}=n;if(e&&l_())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(n,e){let{lookupSessionStorage:t}=e;t&&l_()&&window.sessionStorage.setItem(t,n)}},JR={name:"navigator",lookup(n){const e=[];if(typeof navigator<"u"){const{languages:t,userLanguage:r,language:o}=navigator;if(t)for(let c=0;c<t.length;c++)e.push(t[c]);r&&e.push(r),o&&e.push(o)}return e.length>0?e:void 0}},XR={name:"htmlTag",lookup(n){let{htmlTag:e}=n,t;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(t=r.getAttribute("lang")),t}},QR={name:"path",lookup(n){var o;let{lookupFromPathIndex:e}=n;if(typeof window>"u")return;const t=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(t)?(o=t[typeof e=="number"?e:0])==null?void 0:o.replace("/",""):void 0}},ZR={name:"subdomain",lookup(n){var o,c;let{lookupFromSubdomainIndex:e}=n;const t=typeof e=="number"?e+1:1,r=typeof window<"u"&&((c=(o=window.location)==null?void 0:o.hostname)==null?void 0:c.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[t]}};let c1=!1;try{document.cookie,c1=!0}catch{}const u1=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];c1||u1.splice(1,1);const eT=()=>({order:u1,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:n=>n});class d1{constructor(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,t)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=BR(t,this.options||{},eT()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=o=>o.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(VR),this.addDetector(GR),this.addDetector(KR),this.addDetector(YR),this.addDetector(JR),this.addDetector(XR),this.addDetector(QR),this.addDetector(ZR),this.addDetector(qR)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,t=[];return e.forEach(r=>{if(this.detectors[r]){let o=this.detectors[r].lookup(this.options);o&&typeof o=="string"&&(o=[o]),o&&(t=t.concat(o))}}),t=t.filter(r=>r!=null&&!WR(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?t:t.length>0?t[0]:null}cacheUserLanguage(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;t&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||t.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}d1.type="languageDetector";const tT={en:{common:{app:{name:"Hotel PMS",tagline:"Professional Property Management System"},navigation:{dashboard:"Dashboard",bookings:"Bookings",calendar:"Calendar",rooms:"Rooms",guests:"Guests",chat:"Messages",channels:"Channel Manager",reports:"Reports",settings:"Settings"},actions:{save:"Save",cancel:"Cancel",delete:"Delete",edit:"Edit",create:"Create",search:"Search",filter:"Filter",export:"Export",import:"Import",sync:"Synchronize",connect:"Connect",disconnect:"Disconnect",refresh:"Refresh",back:"Back",next:"Next",previous:"Previous",close:"Close",confirm:"Confirm",select:"Select",signOut:"Sign Out"}},dashboard:{title:"Booking Calendar",subtitle:"Manage your reservations",navigation:{previousMonth:"Previous month",nextMonth:"Next month",today:"Today"},actions:{newReservation:"New reservation",signOut:"Sign out"},grid:{rooms:"Rooms",loading:"Loading calendar...",noData:"No rooms available",dragToSelect:"Drag to select dates"},errors:{loadingBookings:"Error loading bookings",loadingData:"Error loading data"}},bookings:{title:"Bookings",search:{placeholder:"Search by guest name..."},filter:{allStatuses:"All statuses",byStatus:"Filter by status"},status:{confirmed:"Confirmed",pending:"Pending",cancelled:"Cancelled",checked_in:"Checked In",checked_out:"Checked Out"},table:{guest:"Guest",source:"Source",room:"Room",dates:"Dates",status:"Status",accommodation:"Accommodation",services:"Services",paid:"Paid",balance:"Balance",noResults:"No bookings found",unknownGuest:"Unknown Guest"},actions:{newBooking:"New Booking",edit:"Edit",cancel:"Cancel",checkIn:"Check In",checkOut:"Check Out"}},auth:{appName:"Hotel PMS",subtitle:"Staff access portal",tabs:{signIn:"Sign In",signUp:"Sign Up"},fields:{email:"Email",password:"Password"},placeholders:{email:"Enter your email",password:"Enter your password",passwordHint:"Minimum 6 characters"},buttons:{signIn:"Sign In",signUp:"Sign Up",signingIn:"Signing in...",signingUp:"Creating account...",signInWithGoogle:"Sign in with Google"},divider:"OR",messages:{checkEmail:"Check your email to confirm registration!"},errors:{invalidCredentials:"Invalid email or password",emailNotConfirmed:"Please confirm your email first",signInFailed:"Sign in failed. Please try again.",signUpFailed:"Registration failed. Please try again.",googleSignIn:"Google sign in failed",passwordTooShort:"Password must be at least 6 characters",emailAlreadyRegistered:"This email is already registered"}},chat:{title:"Messages",header:"Chats",search:{placeholder:"Search messages..."},conversation:{selectChat:"Select a chat",selectChatDescription:"Choose a chat from the list to view the conversation",noMessages:"No messages yet",typeMessage:"Type a message...",send:"Send",unknownContact:"Unknown contact"}},booking:{grid:{rooms:"Rooms",loading:"Loading calendar...",guest:"Guest",hasDebt:"Has outstanding balance"},title:"New Reservation",editTitle:"Edit Booking",tabs:{details:"Details & Finance",services:"Services"},guest:{title:"Guest Information",fullName:"Full Name",phone:"Phone",email:"Email"},details:{title:"Booking Details",room:"Room",selectRoom:"Select room...",noAvailableRooms:"No available rooms for these dates",checkIn:"Check-in",checkOut:"Check-out",guestCount:"Number of Guests",status:"Status",source:"Source",notes:"Notes",notesPlaceholder:"Additional notes..."},finance:{title:"Finance",accommodation:"Accommodation ({{nights}} nights)",orderedServices:"Ordered Services:",noServices:"None",total:"Total",paid:"Paid",balance:"Balance Due"},services:{available:"Available Services",cart:"Service Cart",ordered:"Ordered Services",addToCart:"Add",cartEmpty:"Cart is empty",noOrdered:"No services added",addSelected:"Add Selected Services"},actions:{save:"Save",cancel:"Cancel",delete:"Delete Booking",saving:"Saving..."},status:{pending:"Pending",confirmed:"Confirmed",checkedIn:"Checked In",checkedOut:"Checked Out",cancelled:"Cancelled"},sources:{direct:"Direct",website:"Website",phone:"Phone",aiAgent:"AI Agent",other:"Other"},errors:{guestNameRequired:"Guest name is required"},messages:{confirmDelete:"Are you sure you want to delete this booking? This action cannot be undone."},popover:{unknownGuest:"Unknown Guest",stayPeriod:"Stay Period",duration:"Duration",guestCount:"Number of Guests",comment:"Comment",additionalServices:"Additional Services",accommodation:"Accommodation",services:"Services",total:"Total",toPay:"To Pay",paidFully:"Paid in Full",alreadyPaid:"Already Paid"},roomTypes:{single:"Single",double:"Double",twin:"Twin",suite:"Suite",deluxe:"Deluxe",standard:"Standard",economy:"Economy",family:"Family"}}},ru:{common:{app:{name:"Отель PMS",tagline:"Профессиональная система управления недвижимостью"},navigation:{dashboard:"Главная",bookings:"Бронирования",calendar:"Календарь",rooms:"Номера",guests:"Гости",chat:"Сообщения",channels:"Каналы продаж",reports:"Отчеты",settings:"Настройки"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить",edit:"Редактировать",create:"Создать",search:"Поиск",filter:"Фильтр",export:"Экспорт",import:"Импорт",sync:"Синхронизировать",connect:"Подключить",disconnect:"Отключить",refresh:"Обновить",back:"Назад",next:"Далее",previous:"Назад",close:"Закрыть",confirm:"Подтвердить",select:"Выбрать",signOut:"Выйти"}},dashboard:{title:"Календарь бронирований",subtitle:"Управление бронированиями",navigation:{previousMonth:"Предыдущий месяц",nextMonth:"Следующий месяц",today:"Сегодня"},actions:{newReservation:"Новое бронирование",signOut:"Выйти"},grid:{rooms:"Номера",loading:"Загрузка календаря...",noData:"Нет доступных номеров",dragToSelect:"Перетащите для выбора дат"},errors:{loadingBookings:"Ошибка загрузки бронирований",loadingData:"Ошибка загрузки данных"}},bookings:{title:"Бронирования",search:{placeholder:"Поиск по имени гостя..."},filter:{allStatuses:"Все статусы",byStatus:"Фильтр по статусу"},status:{confirmed:"Подтверждено",pending:"Не подтверждено",cancelled:"Отменено",checked_in:"Проживание",checked_out:"Выехал"},table:{guest:"Гость",source:"Источник",room:"Номер",dates:"Даты",status:"Статус",accommodation:"Проживание",services:"Услуги",paid:"Оплачено",balance:"К оплате",noResults:"Бронирования не найдены",unknownGuest:"Неизвестный гость"},actions:{newBooking:"Новая бронь",edit:"Редактировать",cancel:"Отменить",checkIn:"Заселить",checkOut:"Выселить"}},auth:{appName:"Отель PMS",subtitle:"Вход для персонала",tabs:{signIn:"Войти",signUp:"Регистрация"},fields:{email:"Email",password:"Пароль"},placeholders:{email:"Введите email",password:"Введите пароль",passwordHint:"Минимум 6 символов"},buttons:{signIn:"Войти",signUp:"Зарегистрироваться",signingIn:"Вход...",signingUp:"Создание аккаунта...",signInWithGoogle:"Войти через Google"},divider:"ИЛИ",messages:{checkEmail:"Проверьте вашу почту для подтверждения регистрации!"},errors:{invalidCredentials:"Неверный email или пароль",emailNotConfirmed:"Пожалуйста, подтвердите email",signInFailed:"Ошибка входа. Попробуйте снова.",signUpFailed:"Ошибка регистрации. Попробуйте снова.",googleSignIn:"Ошибка входа через Google",passwordTooShort:"Пароль должен быть минимум 6 символов",emailAlreadyRegistered:"Этот email уже зарегистрирован"}},chat:{title:"Сообщения",header:"Чаты",search:{placeholder:"Поиск по сообщениям..."},conversation:{selectChat:"Выберите диалог",selectChatDescription:"Выберите чат из списка слева, чтобы начать общение",noMessages:"Сообщений пока нет",typeMessage:"Введите сообщение...",send:"Отправить",unknownContact:"Неизвестный контакт"}},grid:{rooms:"Номера",loading:"Загрузка календаря...",guest:"Гость",hasDebt:"Есть задолженность"},title:"Новое бронирование",editTitle:"Редактирование брони",tabs:{details:"Детали и Финансы",services:"Услуги"},guest:{title:"Информация о госте",fullName:"ФИО",phone:"Телефон",email:"Email"},details:{title:"Детали бронирования",room:"Номер",selectRoom:"Выберите номер...",noAvailableRooms:"Свободных номеров на эти даты нет",checkIn:"Заезд",checkOut:"Выезд",guestCount:"Кол-во гостей",status:"Статус",source:"Источник",notes:"Комментарий",notesPlaceholder:"Дополнительные заметки..."},finance:{title:"Финансы",accommodation:"Проживание ({{nights}} дн.)",orderedServices:"Заказанные услуги:",noServices:"Нет",total:"Итого",paid:"Оплачено",balance:"К оплате"},services:{available:"Доступные услуги",cart:"Корзина услуг",ordered:"Заказанные услуги",addToCart:"В корзину",cartEmpty:"Корзина пуста",noOrdered:"Услуги не добавлены",addSelected:"Добавить выбранные услуги"},actions:{save:"Сохранить",cancel:"Отмена",delete:"Удалить бронь",saving:"Сохранение..."},status:{pending:"Не подтверждено",confirmed:"Подтверждено",checkedIn:"Проживание",checkedOut:"Выезд",cancelled:"Отменено"},sources:{direct:"Напрямую",website:"Сайт",phone:"Телефон",aiAgent:"AI-агент",other:"Другое"},errors:{guestNameRequired:"Необходимо указать имя гостя"},messages:{confirmDelete:"Вы уверены, что хотите удалить это бронирование? Это действие нельзя отменить."},popover:{unknownGuest:"Неизвестный гость",stayPeriod:"Период проживания",duration:"Длительность",guestCount:"Количество гостей",comment:"Комментарий",additionalServices:"Дополнительные услуги",accommodation:"Проживание",services:"Услуги",total:"Итого",toPay:"К оплате",paidFully:"Оплачено полностью",alreadyPaid:"Уже оплачено"},roomTypes:{single:"Одноместный",double:"Двухместный",twin:"Твин",suite:"Люкс",deluxe:"Делюкс",standard:"Стандарт",economy:"Эконом",family:"Семейный"}}};ar.use(d1).use(MR).init({resources:tT,lng:"en",fallbackLng:"en",ns:["common","dashboard","bookings","auth","chat"],defaultNS:"common",interpolation:{escapeValue:!1},detection:{order:["localStorage","cookie","navigator"],caches:["localStorage","cookie"],cookieName:"pms_language",lookupLocalStorage:"pms_language"},react:{useSuspense:!1},debug:!0});function es(n="common"){const{t:e,i18n:t}=FR(n);return{t:e,i18n:t,formatDate:(u,h="short")=>new Intl.DateTimeFormat(t.language,{dateStyle:h}).format(new Date(u)),formatCurrency:(u,h="USD")=>new Intl.NumberFormat(t.language,{style:"currency",currency:h}).format(u),formatNumber:u=>new Intl.NumberFormat(t.language).format(u),currentLanguage:t.language,changeLanguage:t.changeLanguage}}/**
 * react-router v7.7.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var c_="popstate";function nT(n={}){function e(r,o){let{pathname:c,search:u,hash:h}=r.location;return y0("",{pathname:c,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(r,o){return typeof o=="string"?o:Dh(o)}return sT(e,t,null,n)}function Zt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Ys(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rT(){return Math.random().toString(36).substring(2,10)}function u_(n,e){return{usr:n.state,key:n.key,idx:e}}function y0(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Sd(e):e,state:t,key:e&&e.key||r||rT()}}function Dh({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Sd(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function sT(n,e,t,r={}){let{window:o=document.defaultView,v5Compat:c=!1}=r,u=o.history,h="POP",m=null,p=v();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function v(){return(u.state||{idx:null}).idx}function y(){h="POP";let N=v(),R=N==null?null:N-p;p=N,m&&m({action:h,location:P.location,delta:R})}function b(N,R){h="PUSH";let k=y0(P.location,N,R);p=v()+1;let T=u_(k,p),M=P.createHref(k);try{u.pushState(T,"",M)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;o.location.assign(M)}c&&m&&m({action:h,location:P.location,delta:1})}function C(N,R){h="REPLACE";let k=y0(P.location,N,R);p=v();let T=u_(k,p),M=P.createHref(k);u.replaceState(T,"",M),c&&m&&m({action:h,location:P.location,delta:0})}function E(N){return aT(N)}let P={get action(){return h},get location(){return n(o,u)},listen(N){if(m)throw new Error("A history only accepts one active listener");return o.addEventListener(c_,y),m=N,()=>{o.removeEventListener(c_,y),m=null}},createHref(N){return e(o,N)},createURL:E,encodeLocation(N){let R=E(N);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:b,replace:C,go(N){return u.go(N)}};return P}function aT(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),Zt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Dh(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function f1(n,e,t="/"){return oT(n,e,t,!1)}function oT(n,e,t,r){let o=typeof e=="string"?Sd(e):e,c=Oo(o.pathname||"/",t);if(c==null)return null;let u=h1(n);iT(u);let h=null;for(let m=0;h==null&&m<u.length;++m){let p=vT(c);h=gT(u[m],p,r)}return h}function h1(n,e=[],t=[],r=""){let o=(c,u,h)=>{let m={relativePath:h===void 0?c.path||"":h,caseSensitive:c.caseSensitive===!0,childrenIndex:u,route:c};m.relativePath.startsWith("/")&&(Zt(m.relativePath.startsWith(r),`Absolute route path "${m.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(r.length));let p=Mo([r,m.relativePath]),v=t.concat(m);c.children&&c.children.length>0&&(Zt(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),h1(c.children,e,v,p)),!(c.path==null&&!c.index)&&e.push({path:p,score:mT(p,c.index),routesMeta:v})};return n.forEach((c,u)=>{var h;if(c.path===""||!((h=c.path)!=null&&h.includes("?")))o(c,u);else for(let m of m1(c.path))o(c,u,m)}),e}function m1(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(r.length===0)return o?[c,""]:[c];let u=m1(r.join("/")),h=[];return h.push(...u.map(m=>m===""?c:[c,m].join("/"))),o&&h.push(...u),h.map(m=>n.startsWith("/")&&m===""?"/":m)}function iT(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:pT(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var lT=/^:[\w-]+$/,cT=3,uT=2,dT=1,fT=10,hT=-2,d_=n=>n==="*";function mT(n,e){let t=n.split("/"),r=t.length;return t.some(d_)&&(r+=hT),e&&(r+=uT),t.filter(o=>!d_(o)).reduce((o,c)=>o+(lT.test(c)?cT:c===""?dT:fT),r)}function pT(n,e){return n.length===e.length&&n.slice(0,-1).every((r,o)=>r===e[o])?n[n.length-1]-e[e.length-1]:0}function gT(n,e,t=!1){let{routesMeta:r}=n,o={},c="/",u=[];for(let h=0;h<r.length;++h){let m=r[h],p=h===r.length-1,v=c==="/"?e:e.slice(c.length)||"/",y=_g({path:m.relativePath,caseSensitive:m.caseSensitive,end:p},v),b=m.route;if(!y&&p&&t&&!r[r.length-1].route.index&&(y=_g({path:m.relativePath,caseSensitive:m.caseSensitive,end:!1},v)),!y)return null;Object.assign(o,y.params),u.push({params:o,pathname:Mo([c,y.pathname]),pathnameBase:bT(Mo([c,y.pathnameBase])),route:b}),y.pathnameBase!=="/"&&(c=Mo([c,y.pathnameBase]))}return u}function _g(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=xT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],u=c.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:r.reduce((p,{paramName:v,isOptional:y},b)=>{if(v==="*"){let E=h[b]||"";u=c.slice(0,c.length-E.length).replace(/(.)\/+$/,"$1")}const C=h[b];return y&&!C?p[v]=void 0:p[v]=(C||"").replace(/%2F/g,"/"),p},{}),pathname:c,pathnameBase:u,pattern:n}}function xT(n,e=!1,t=!0){Ys(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,m)=>(r.push({paramName:h,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function vT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ys(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Oo(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function yT(n,e="/"){let{pathname:t,search:r="",hash:o=""}=typeof n=="string"?Sd(n):n;return{pathname:t?t.startsWith("/")?t:wT(t,e):e,search:jT(r),hash:ST(o)}}function wT(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Dv(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function _T(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function p1(n){let e=_T(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function g1(n,e,t,r=!1){let o;typeof n=="string"?o=Sd(n):(o={...n},Zt(!o.pathname||!o.pathname.includes("?"),Dv("?","pathname","search",o)),Zt(!o.pathname||!o.pathname.includes("#"),Dv("#","pathname","hash",o)),Zt(!o.search||!o.search.includes("#"),Dv("#","search","hash",o)));let c=n===""||o.pathname==="",u=c?"/":o.pathname,h;if(u==null)h=t;else{let y=e.length-1;if(!r&&u.startsWith("..")){let b=u.split("/");for(;b[0]==="..";)b.shift(),y-=1;o.pathname=b.join("/")}h=y>=0?e[y]:"/"}let m=yT(o,h),p=u&&u!=="/"&&u.endsWith("/"),v=(c||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(p||v)&&(m.pathname+="/"),m}var Mo=n=>n.join("/").replace(/\/\/+/g,"/"),bT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),jT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,ST=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function NT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var x1=["POST","PUT","PATCH","DELETE"];new Set(x1);var kT=["GET",...x1];new Set(kT);var Nd=w.createContext(null);Nd.displayName="DataRouter";var Wg=w.createContext(null);Wg.displayName="DataRouterState";w.createContext(!1);var v1=w.createContext({isTransitioning:!1});v1.displayName="ViewTransition";var CT=w.createContext(new Map);CT.displayName="Fetchers";var ET=w.createContext(null);ET.displayName="Await";var Ua=w.createContext(null);Ua.displayName="Navigation";var Gh=w.createContext(null);Gh.displayName="Location";var Fo=w.createContext({outlet:null,matches:[],isDataRoute:!1});Fo.displayName="Route";var sy=w.createContext(null);sy.displayName="RouteError";function PT(n,{relative:e}={}){Zt(qh(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=w.useContext(Ua),{hash:o,pathname:c,search:u}=Kh(n,{relative:e}),h=c;return t!=="/"&&(h=c==="/"?t:Mo([t,c])),r.createHref({pathname:h,search:u,hash:o})}function qh(){return w.useContext(Gh)!=null}function Ba(){return Zt(qh(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Gh).location}var y1="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w1(n){w.useContext(Ua).static||w.useLayoutEffect(n)}function kd(){let{isDataRoute:n}=w.useContext(Fo);return n?BT():RT()}function RT(){Zt(qh(),"useNavigate() may be used only in the context of a <Router> component.");let n=w.useContext(Nd),{basename:e,navigator:t}=w.useContext(Ua),{matches:r}=w.useContext(Fo),{pathname:o}=Ba(),c=JSON.stringify(p1(r)),u=w.useRef(!1);return w1(()=>{u.current=!0}),w.useCallback((m,p={})=>{if(Ys(u.current,y1),!u.current)return;if(typeof m=="number"){t.go(m);return}let v=g1(m,JSON.parse(c),o,p.relative==="path");n==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Mo([e,v.pathname])),(p.replace?t.replace:t.push)(v,p.state,p)},[e,t,c,o,n])}w.createContext(null);function Kh(n,{relative:e}={}){let{matches:t}=w.useContext(Fo),{pathname:r}=Ba(),o=JSON.stringify(p1(t));return w.useMemo(()=>g1(n,JSON.parse(o),r,e==="path"),[n,o,r,e])}function TT(n,e){return _1(n,e)}function _1(n,e,t,r){var R;Zt(qh(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Ua),{matches:c}=w.useContext(Fo),u=c[c.length-1],h=u?u.params:{},m=u?u.pathname:"/",p=u?u.pathnameBase:"/",v=u&&u.route;{let k=v&&v.path||"";b1(m,!v||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let y=Ba(),b;if(e){let k=typeof e=="string"?Sd(e):e;Zt(p==="/"||((R=k.pathname)==null?void 0:R.startsWith(p)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),b=k}else b=y;let C=b.pathname||"/",E=C;if(p!=="/"){let k=p.replace(/^\//,"").split("/");E="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let P=f1(n,{pathname:E});Ys(v||P!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Ys(P==null||P[P.length-1].route.element!==void 0||P[P.length-1].route.Component!==void 0||P[P.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=DT(P&&P.map(k=>Object.assign({},k,{params:Object.assign({},h,k.params),pathname:Mo([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:Mo([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),c,t,r);return e&&N?w.createElement(Gh.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},N):N}function AT(){let n=UT(),e=NT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:r},c={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:c},"ErrorBoundary")," or"," ",w.createElement("code",{style:c},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),t?w.createElement("pre",{style:o},t):null,u)}var IT=w.createElement(AT,null),MT=class extends w.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?w.createElement(Fo.Provider,{value:this.props.routeContext},w.createElement(sy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function OT({routeContext:n,match:e,children:t}){let r=w.useContext(Nd);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Fo.Provider,{value:n},t)}function DT(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let o=n,c=t==null?void 0:t.errors;if(c!=null){let m=o.findIndex(p=>p.route.id&&(c==null?void 0:c[p.route.id])!==void 0);Zt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let u=!1,h=-1;if(t)for(let m=0;m<o.length;m++){let p=o[m];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(h=m),p.route.id){let{loaderData:v,errors:y}=t,b=p.route.loader&&!v.hasOwnProperty(p.route.id)&&(!y||y[p.route.id]===void 0);if(p.route.lazy||b){u=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,p,v)=>{let y,b=!1,C=null,E=null;t&&(y=c&&p.route.id?c[p.route.id]:void 0,C=p.route.errorElement||IT,u&&(h<0&&v===0?(b1("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,E=null):h===v&&(b=!0,E=p.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,v+1)),N=()=>{let R;return y?R=C:b?R=E:p.route.Component?R=w.createElement(p.route.Component,null):p.route.element?R=p.route.element:R=m,w.createElement(OT,{match:p,routeContext:{outlet:m,matches:P,isDataRoute:t!=null},children:R})};return t&&(p.route.ErrorBoundary||p.route.errorElement||v===0)?w.createElement(MT,{location:t.location,revalidation:t.revalidation,component:C,error:y,children:N(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):N()},null)}function ay(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function LT(n){let e=w.useContext(Nd);return Zt(e,ay(n)),e}function $T(n){let e=w.useContext(Wg);return Zt(e,ay(n)),e}function FT(n){let e=w.useContext(Fo);return Zt(e,ay(n)),e}function oy(n){let e=FT(n),t=e.matches[e.matches.length-1];return Zt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zT(){return oy("useRouteId")}function UT(){var r;let n=w.useContext(sy),e=$T("useRouteError"),t=oy("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function BT(){let{router:n}=LT("useNavigate"),e=oy("useNavigate"),t=w.useRef(!1);return w1(()=>{t.current=!0}),w.useCallback(async(o,c={})=>{Ys(t.current,y1),t.current&&(typeof o=="number"?n.navigate(o):await n.navigate(o,{fromRouteId:e,...c}))},[n,e])}var f_={};function b1(n,e,t){!e&&!f_[n]&&(f_[n]=!0,Ys(!1,t))}w.memo(WT);function WT({routes:n,future:e,state:t}){return _1(n,void 0,t,e)}function yn(n){Zt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function HT({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:o,static:c=!1}){Zt(!qh(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=n.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:u,navigator:o,static:c,future:{}}),[u,o,c]);typeof t=="string"&&(t=Sd(t));let{pathname:m="/",search:p="",hash:v="",state:y=null,key:b="default"}=t,C=w.useMemo(()=>{let E=Oo(m,u);return E==null?null:{location:{pathname:E,search:p,hash:v,state:y,key:b},navigationType:r}},[u,m,p,v,y,b,r]);return Ys(C!=null,`<Router basename="${u}"> is not able to match the URL "${m}${p}${v}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:w.createElement(Ua.Provider,{value:h},w.createElement(Gh.Provider,{children:e,value:C}))}function VT({children:n,location:e}){return TT(w0(n),e)}function w0(n,e=[]){let t=[];return w.Children.forEach(n,(r,o)=>{if(!w.isValidElement(r))return;let c=[...e,o];if(r.type===w.Fragment){t.push.apply(t,w0(r.props.children,c));return}Zt(r.type===yn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||c.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=w0(r.props.children,c)),t.push(u)}),t}var cg="get",ug="application/x-www-form-urlencoded";function Hg(n){return n!=null&&typeof n.tagName=="string"}function GT(n){return Hg(n)&&n.tagName.toLowerCase()==="button"}function qT(n){return Hg(n)&&n.tagName.toLowerCase()==="form"}function KT(n){return Hg(n)&&n.tagName.toLowerCase()==="input"}function YT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JT(n,e){return n.button===0&&(!e||e==="_self")&&!YT(n)}function _0(n=""){return new URLSearchParams(typeof n=="string"||Array.isArray(n)||n instanceof URLSearchParams?n:Object.keys(n).reduce((e,t)=>{let r=n[t];return e.concat(Array.isArray(r)?r.map(o=>[t,o]):[[t,r]])},[]))}function XT(n,e){let t=_0(n);return e&&e.forEach((r,o)=>{t.has(o)||e.getAll(o).forEach(c=>{t.append(o,c)})}),t}var Gp=null;function QT(){if(Gp===null)try{new FormData(document.createElement("form"),0),Gp=!1}catch{Gp=!0}return Gp}var ZT=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Lv(n){return n!=null&&!ZT.has(n)?(Ys(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ug}"`),null):n}function eA(n,e){let t,r,o,c,u;if(qT(n)){let h=n.getAttribute("action");r=h?Oo(h,e):null,t=n.getAttribute("method")||cg,o=Lv(n.getAttribute("enctype"))||ug,c=new FormData(n)}else if(GT(n)||KT(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let m=n.getAttribute("formaction")||h.getAttribute("action");if(r=m?Oo(m,e):null,t=n.getAttribute("formmethod")||h.getAttribute("method")||cg,o=Lv(n.getAttribute("formenctype"))||Lv(h.getAttribute("enctype"))||ug,c=new FormData(h,n),!QT()){let{name:p,type:v,value:y}=n;if(v==="image"){let b=p?`${p}.`:"";c.append(`${b}x`,"0"),c.append(`${b}y`,"0")}else p&&c.append(p,y)}}else{if(Hg(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=cg,r=null,o=ug,u=n}return c&&o==="text/plain"&&(u=c,c=void 0),{action:r,method:t.toLowerCase(),encType:o,formData:c,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iy(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function tA(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Oo(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function nA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function rA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sA(n,e,t){let r=await Promise.all(n.map(async o=>{let c=e.routes[o.route.id];if(c){let u=await nA(c,t);return u.links?u.links():[]}return[]}));return lA(r.flat(1).filter(rA).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function h_(n,e,t,r,o,c){let u=(m,p)=>t[p]?m.route.id!==t[p].route.id:!0,h=(m,p)=>{var v;return t[p].pathname!==m.pathname||((v=t[p].route.path)==null?void 0:v.endsWith("*"))&&t[p].params["*"]!==m.params["*"]};return c==="assets"?e.filter((m,p)=>u(m,p)||h(m,p)):c==="data"?e.filter((m,p)=>{var y;let v=r.routes[m.route.id];if(!v||!v.hasLoader)return!1;if(u(m,p)||h(m,p))return!0;if(m.route.shouldRevalidate){let b=m.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((y=t[0])==null?void 0:y.params)||{},nextUrl:new URL(n,window.origin),nextParams:m.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function aA(n,e,{includeHydrateFallback:t}={}){return oA(n.map(r=>{let o=e.routes[r.route.id];if(!o)return[];let c=[o.module];return o.clientActionModule&&(c=c.concat(o.clientActionModule)),o.clientLoaderModule&&(c=c.concat(o.clientLoaderModule)),t&&o.hydrateFallbackModule&&(c=c.concat(o.hydrateFallbackModule)),o.imports&&(c=c.concat(o.imports)),c}).flat(1))}function oA(n){return[...new Set(n)]}function iA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function lA(n,e){let t=new Set;return new Set(e),n.reduce((r,o)=>{let c=JSON.stringify(iA(o));return t.has(c)||(t.add(c),r.push({key:c,link:o})),r},[])}function j1(){let n=w.useContext(Nd);return iy(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cA(){let n=w.useContext(Wg);return iy(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var ly=w.createContext(void 0);ly.displayName="FrameworkContext";function S1(){let n=w.useContext(ly);return iy(n,"You must render this element inside a <HydratedRouter> element"),n}function uA(n,e){let t=w.useContext(ly),[r,o]=w.useState(!1),[c,u]=w.useState(!1),{onFocus:h,onBlur:m,onMouseEnter:p,onMouseLeave:v,onTouchStart:y}=e,b=w.useRef(null);w.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let P=R=>{R.forEach(k=>{u(k.isIntersecting)})},N=new IntersectionObserver(P,{threshold:.5});return b.current&&N.observe(b.current),()=>{N.disconnect()}}},[n]),w.useEffect(()=>{if(r){let P=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(P)}}},[r]);let C=()=>{o(!0)},E=()=>{o(!1),u(!1)};return t?n!=="intent"?[c,b,{}]:[c,b,{onFocus:mh(h,C),onBlur:mh(m,E),onMouseEnter:mh(p,C),onMouseLeave:mh(v,E),onTouchStart:mh(y,C)}]:[!1,b,{}]}function mh(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dA({page:n,...e}){let{router:t}=j1(),r=w.useMemo(()=>f1(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?w.createElement(hA,{page:n,matches:r,...e}):null}function fA(n){let{manifest:e,routeModules:t}=S1(),[r,o]=w.useState([]);return w.useEffect(()=>{let c=!1;return sA(n,e,t).then(u=>{c||o(u)}),()=>{c=!0}},[n,e,t]),r}function hA({page:n,matches:e,...t}){let r=Ba(),{manifest:o,routeModules:c}=S1(),{basename:u}=j1(),{loaderData:h,matches:m}=cA(),p=w.useMemo(()=>h_(n,e,m,o,r,"data"),[n,e,m,o,r]),v=w.useMemo(()=>h_(n,e,m,o,r,"assets"),[n,e,m,o,r]),y=w.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let E=new Set,P=!1;if(e.forEach(R=>{var T;let k=o.routes[R.route.id];!k||!k.hasLoader||(!p.some(M=>M.route.id===R.route.id)&&R.route.id in h&&((T=c[R.route.id])!=null&&T.shouldRevalidate)||k.hasClientLoader?P=!0:E.add(R.route.id))}),E.size===0)return[];let N=tA(n,u,"data");return P&&E.size>0&&N.searchParams.set("_routes",e.filter(R=>E.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[u,h,r,o,p,e,n,c]),b=w.useMemo(()=>aA(v,o),[v,o]),C=fA(v);return w.createElement(w.Fragment,null,y.map(E=>w.createElement("link",{key:E,rel:"prefetch",as:"fetch",href:E,...t})),b.map(E=>w.createElement("link",{key:E,rel:"modulepreload",href:E,...t})),C.map(({key:E,link:P})=>w.createElement("link",{key:E,...P})))}function mA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var N1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{N1&&(window.__reactRouterVersion="7.7.1")}catch{}function pA({basename:n,children:e,window:t}){let r=w.useRef();r.current==null&&(r.current=nT({window:t,v5Compat:!0}));let o=r.current,[c,u]=w.useState({action:o.action,location:o.location}),h=w.useCallback(m=>{w.startTransition(()=>u(m))},[u]);return w.useLayoutEffect(()=>o.listen(h),[o,h]),w.createElement(HT,{basename:n,children:e,location:c.location,navigationType:c.action,navigator:o})}var k1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,C1=w.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:o,reloadDocument:c,replace:u,state:h,target:m,to:p,preventScrollReset:v,viewTransition:y,...b},C){let{basename:E}=w.useContext(Ua),P=typeof p=="string"&&k1.test(p),N,R=!1;if(typeof p=="string"&&P&&(N=p,N1))try{let q=new URL(window.location.href),X=p.startsWith("//")?new URL(q.protocol+p):new URL(p),re=Oo(X.pathname,E);X.origin===q.origin&&re!=null?p=re+X.search+X.hash:R=!0}catch{Ys(!1,`<Link to="${p}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=PT(p,{relative:o}),[T,M,I]=uA(r,b),D=yA(p,{replace:u,state:h,target:m,preventScrollReset:v,relative:o,viewTransition:y});function F(q){e&&e(q),q.defaultPrevented||D(q)}let z=w.createElement("a",{...b,...I,href:N||k,onClick:R||c?e:F,ref:mA(C,M),target:m,"data-discover":!P&&t==="render"?"true":void 0});return T&&!P?w.createElement(w.Fragment,null,z,w.createElement(dA,{page:k})):z});C1.displayName="Link";var gA=w.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:o=!1,style:c,to:u,viewTransition:h,children:m,...p},v){let y=Kh(u,{relative:p.relative}),b=Ba(),C=w.useContext(Wg),{navigator:E,basename:P}=w.useContext(Ua),N=C!=null&&SA(y)&&h===!0,R=E.encodeLocation?E.encodeLocation(y).pathname:y.pathname,k=b.pathname,T=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(k=k.toLowerCase(),T=T?T.toLowerCase():null,R=R.toLowerCase()),T&&P&&(T=Oo(T,P)||T);const M=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let I=k===R||!o&&k.startsWith(R)&&k.charAt(M)==="/",D=T!=null&&(T===R||!o&&T.startsWith(R)&&T.charAt(R.length)==="/"),F={isActive:I,isPending:D,isTransitioning:N},z=I?e:void 0,q;typeof r=="function"?q=r(F):q=[r,I?"active":null,D?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let X=typeof c=="function"?c(F):c;return w.createElement(C1,{...p,"aria-current":z,className:q,ref:v,style:X,to:u,viewTransition:h},typeof m=="function"?m(F):m)});gA.displayName="NavLink";var xA=w.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:o,state:c,method:u=cg,action:h,onSubmit:m,relative:p,preventScrollReset:v,viewTransition:y,...b},C)=>{let E=bA(),P=jA(h,{relative:p}),N=u.toLowerCase()==="get"?"get":"post",R=typeof h=="string"&&k1.test(h),k=T=>{if(m&&m(T),T.defaultPrevented)return;T.preventDefault();let M=T.nativeEvent.submitter,I=(M==null?void 0:M.getAttribute("formmethod"))||u;E(M||T.currentTarget,{fetcherKey:e,method:I,navigate:t,replace:o,state:c,relative:p,preventScrollReset:v,viewTransition:y})};return w.createElement("form",{ref:C,method:N,action:P,onSubmit:r?m:k,...b,"data-discover":!R&&n==="render"?"true":void 0})});xA.displayName="Form";function vA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E1(n){let e=w.useContext(Nd);return Zt(e,vA(n)),e}function yA(n,{target:e,replace:t,state:r,preventScrollReset:o,relative:c,viewTransition:u}={}){let h=kd(),m=Ba(),p=Kh(n,{relative:c});return w.useCallback(v=>{if(JT(v,e)){v.preventDefault();let y=t!==void 0?t:Dh(m)===Dh(p);h(n,{replace:y,state:r,preventScrollReset:o,relative:c,viewTransition:u})}},[m,h,p,t,r,e,n,o,c,u])}function P1(n){Ys(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=w.useRef(_0(n)),t=w.useRef(!1),r=Ba(),o=w.useMemo(()=>XT(r.search,t.current?null:e.current),[r.search]),c=kd(),u=w.useCallback((h,m)=>{const p=_0(typeof h=="function"?h(new URLSearchParams(o)):h);t.current=!0,c("?"+p,m)},[c,o]);return[o,u]}var wA=0,_A=()=>`__${String(++wA)}__`;function bA(){let{router:n}=E1("useSubmit"),{basename:e}=w.useContext(Ua),t=zT();return w.useCallback(async(r,o={})=>{let{action:c,method:u,encType:h,formData:m,body:p}=eA(r,e);if(o.navigate===!1){let v=o.fetcherKey||_A();await n.fetch(v,t,o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||h,flushSync:o.flushSync})}else await n.navigate(o.action||c,{preventScrollReset:o.preventScrollReset,formData:m,body:p,formMethod:o.method||u,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:t,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,e,t])}function jA(n,{relative:e}={}){let{basename:t}=w.useContext(Ua),r=w.useContext(Fo);Zt(r,"useFormAction must be used inside a RouteContext");let[o]=r.matches.slice(-1),c={...Kh(n||".",{relative:e})},u=Ba();if(n==null){c.search=u.search;let h=new URLSearchParams(c.search),m=h.getAll("index");if(m.some(v=>v==="")){h.delete("index"),m.filter(y=>y).forEach(y=>h.append("index",y));let v=h.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&o.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(c.pathname=c.pathname==="/"?t:Mo([t,c.pathname])),Dh(c)}function SA(n,{relative:e}={}){let t=w.useContext(v1);Zt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=E1("useViewTransitionState"),o=Kh(n,{relative:e});if(!t.isTransitioning)return!1;let c=Oo(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Oo(t.nextLocation.pathname,r)||t.nextLocation.pathname;return _g(o.pathname,u)!=null||_g(o.pathname,c)!=null}var Yh=r1();const NA=zg(Yh),kA="modulepreload",CA=function(n){return"/"+n},m_={},fc=function(e,t,r){let o=Promise.resolve();if(t&&t.length>0){let u=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=(h==null?void 0:h.nonce)||(h==null?void 0:h.getAttribute("nonce"));o=u(t.map(p=>{if(p=CA(p),p in m_)return;m_[p]=!0;const v=p.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const b=document.createElement("link");if(b.rel=v?"stylesheet":kA,v||(b.as="script"),b.crossOrigin="",b.href=p,m&&b.setAttribute("nonce",m),document.head.appendChild(b),v)return new Promise((C,E)=>{b.addEventListener("load",C),b.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})},EA=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cd);return{default:r}},[]).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)};class cy extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class PA extends cy{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class p_ extends cy{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class g_ extends cy{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var b0;(function(n){n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2"})(b0||(b0={}));var RA=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};class TA{constructor(e,{headers:t={},customFetch:r,region:o=b0.Any}={}){this.url=e,this.headers=t,this.region=o,this.fetch=EA(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var r;return RA(this,void 0,void 0,function*(){try{const{headers:o,method:c,body:u}=t;let h={},{region:m}=t;m||(m=this.region);const p=new URL(`${this.url}/${e}`);m&&m!=="any"&&(h["x-region"]=m,p.searchParams.set("forceFunctionRegion",m));let v;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",v=u):typeof u=="string"?(h["Content-Type"]="text/plain",v=u):typeof FormData<"u"&&u instanceof FormData?v=u:(h["Content-Type"]="application/json",v=JSON.stringify(u)));const y=yield this.fetch(p.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:v}).catch(P=>{throw new PA(P)}),b=y.headers.get("x-relay-error");if(b&&b==="true")throw new p_(y);if(!y.ok)throw new g_(y);let C=((r=y.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),E;return C==="application/json"?E=yield y.json():C==="application/octet-stream"?E=yield y.blob():C==="text/event-stream"?E=y:C==="multipart/form-data"?E=yield y.formData():E=yield y.text(),{data:E,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof g_||o instanceof p_?o.context:void 0}}})}}var $n={},Ku={},Yu={},Ju={},Xu={},Qu={},AA=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},bd=AA();const IA=bd.fetch,R1=bd.fetch.bind(bd),T1=bd.Headers,MA=bd.Request,OA=bd.Response,Cd=Object.freeze(Object.defineProperty({__proto__:null,Headers:T1,Request:MA,Response:OA,default:R1,fetch:IA},Symbol.toStringTag,{value:"Module"})),DA=KP(Cd);var qp={},x_;function A1(){if(x_)return qp;x_=1,Object.defineProperty(qp,"__esModule",{value:!0});class n extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}}return qp.default=n,qp}var v_;function I1(){if(v_)return Qu;v_=1;var n=Qu&&Qu.__importDefault||function(o){return o&&o.__esModule?o:{default:o}};Object.defineProperty(Qu,"__esModule",{value:!0});const e=n(DA),t=n(A1());class r{constructor(c){this.shouldThrowOnError=!1,this.method=c.method,this.url=c.url,this.headers=c.headers,this.schema=c.schema,this.body=c.body,this.shouldThrowOnError=c.shouldThrowOnError,this.signal=c.signal,this.isMaybeSingle=c.isMaybeSingle,c.fetch?this.fetch=c.fetch:typeof fetch>"u"?this.fetch=e.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(c,u){return this.headers=Object.assign({},this.headers),this.headers[c]=u,this}then(c,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const h=this.fetch;let m=h(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async p=>{var v,y,b;let C=null,E=null,P=null,N=p.status,R=p.statusText;if(p.ok){if(this.method!=="HEAD"){const I=await p.text();I===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?E=I:E=JSON.parse(I))}const T=(v=this.headers.Prefer)===null||v===void 0?void 0:v.match(/count=(exact|planned|estimated)/),M=(y=p.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");T&&M&&M.length>1&&(P=parseInt(M[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(E)&&(E.length>1?(C={code:"PGRST116",details:`Results contain ${E.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},E=null,P=null,N=406,R="Not Acceptable"):E.length===1?E=E[0]:E=null)}else{const T=await p.text();try{C=JSON.parse(T),Array.isArray(C)&&p.status===404&&(E=[],C=null,N=200,R="OK")}catch{p.status===404&&T===""?(N=204,R="No Content"):C={message:T}}if(C&&this.isMaybeSingle&&(!((b=C==null?void 0:C.details)===null||b===void 0)&&b.includes("0 rows"))&&(C=null,N=200,R="OK"),C&&this.shouldThrowOnError)throw new t.default(C)}return{error:C,data:E,count:P,status:N,statusText:R}});return this.shouldThrowOnError||(m=m.catch(p=>{var v,y,b;return{error:{message:`${(v=p==null?void 0:p.name)!==null&&v!==void 0?v:"FetchError"}: ${p==null?void 0:p.message}`,details:`${(y=p==null?void 0:p.stack)!==null&&y!==void 0?y:""}`,hint:"",code:`${(b=p==null?void 0:p.code)!==null&&b!==void 0?b:""}`},data:null,count:null,status:0,statusText:""}})),m.then(c,u)}returns(){return this}overrideTypes(){return this}}return Qu.default=r,Qu}var y_;function M1(){if(y_)return Xu;y_=1;var n=Xu&&Xu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Xu,"__esModule",{value:!0});const e=n(I1());class t extends e.default{select(o){let c=!1;const u=(o??"*").split("").map(h=>/\s/.test(h)&&!c?"":(h==='"'&&(c=!c),h)).join("");return this.url.searchParams.set("select",u),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(o,{ascending:c=!0,nullsFirst:u,foreignTable:h,referencedTable:m=h}={}){const p=m?`${m}.order`:"order",v=this.url.searchParams.get(p);return this.url.searchParams.set(p,`${v?`${v},`:""}${o}.${c?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(o,{foreignTable:c,referencedTable:u=c}={}){const h=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(h,`${o}`),this}range(o,c,{foreignTable:u,referencedTable:h=u}={}){const m=typeof h>"u"?"offset":`${h}.offset`,p=typeof h>"u"?"limit":`${h}.limit`;return this.url.searchParams.set(m,`${o}`),this.url.searchParams.set(p,`${c-o+1}`),this}abortSignal(o){return this.signal=o,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:o=!1,verbose:c=!1,settings:u=!1,buffers:h=!1,wal:m=!1,format:p="text"}={}){var v;const y=[o?"analyze":null,c?"verbose":null,u?"settings":null,h?"buffers":null,m?"wal":null].filter(Boolean).join("|"),b=(v=this.headers.Accept)!==null&&v!==void 0?v:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${p}; for="${b}"; options=${y};`,p==="json"?this:this}rollback(){var o;return((o=this.headers.Prefer)!==null&&o!==void 0?o:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}return Xu.default=t,Xu}var w_;function uy(){if(w_)return Ju;w_=1;var n=Ju&&Ju.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ju,"__esModule",{value:!0});const e=n(M1());class t extends e.default{eq(o,c){return this.url.searchParams.append(o,`eq.${c}`),this}neq(o,c){return this.url.searchParams.append(o,`neq.${c}`),this}gt(o,c){return this.url.searchParams.append(o,`gt.${c}`),this}gte(o,c){return this.url.searchParams.append(o,`gte.${c}`),this}lt(o,c){return this.url.searchParams.append(o,`lt.${c}`),this}lte(o,c){return this.url.searchParams.append(o,`lte.${c}`),this}like(o,c){return this.url.searchParams.append(o,`like.${c}`),this}likeAllOf(o,c){return this.url.searchParams.append(o,`like(all).{${c.join(",")}}`),this}likeAnyOf(o,c){return this.url.searchParams.append(o,`like(any).{${c.join(",")}}`),this}ilike(o,c){return this.url.searchParams.append(o,`ilike.${c}`),this}ilikeAllOf(o,c){return this.url.searchParams.append(o,`ilike(all).{${c.join(",")}}`),this}ilikeAnyOf(o,c){return this.url.searchParams.append(o,`ilike(any).{${c.join(",")}}`),this}is(o,c){return this.url.searchParams.append(o,`is.${c}`),this}in(o,c){const u=Array.from(new Set(c)).map(h=>typeof h=="string"&&new RegExp("[,()]").test(h)?`"${h}"`:`${h}`).join(",");return this.url.searchParams.append(o,`in.(${u})`),this}contains(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cs.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cs.{${c.join(",")}}`):this.url.searchParams.append(o,`cs.${JSON.stringify(c)}`),this}containedBy(o,c){return typeof c=="string"?this.url.searchParams.append(o,`cd.${c}`):Array.isArray(c)?this.url.searchParams.append(o,`cd.{${c.join(",")}}`):this.url.searchParams.append(o,`cd.${JSON.stringify(c)}`),this}rangeGt(o,c){return this.url.searchParams.append(o,`sr.${c}`),this}rangeGte(o,c){return this.url.searchParams.append(o,`nxl.${c}`),this}rangeLt(o,c){return this.url.searchParams.append(o,`sl.${c}`),this}rangeLte(o,c){return this.url.searchParams.append(o,`nxr.${c}`),this}rangeAdjacent(o,c){return this.url.searchParams.append(o,`adj.${c}`),this}overlaps(o,c){return typeof c=="string"?this.url.searchParams.append(o,`ov.${c}`):this.url.searchParams.append(o,`ov.{${c.join(",")}}`),this}textSearch(o,c,{config:u,type:h}={}){let m="";h==="plain"?m="pl":h==="phrase"?m="ph":h==="websearch"&&(m="w");const p=u===void 0?"":`(${u})`;return this.url.searchParams.append(o,`${m}fts${p}.${c}`),this}match(o){return Object.entries(o).forEach(([c,u])=>{this.url.searchParams.append(c,`eq.${u}`)}),this}not(o,c,u){return this.url.searchParams.append(o,`not.${c}.${u}`),this}or(o,{foreignTable:c,referencedTable:u=c}={}){const h=u?`${u}.or`:"or";return this.url.searchParams.append(h,`(${o})`),this}filter(o,c,u){return this.url.searchParams.append(o,`${c}.${u}`),this}}return Ju.default=t,Ju}var __;function O1(){if(__)return Yu;__=1;var n=Yu&&Yu.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Yu,"__esModule",{value:!0});const e=n(uy());class t{constructor(o,{headers:c={},schema:u,fetch:h}){this.url=o,this.headers=c,this.schema=u,this.fetch=h}select(o,{head:c=!1,count:u}={}){const h=c?"HEAD":"GET";let m=!1;const p=(o??"*").split("").map(v=>/\s/.test(v)&&!m?"":(v==='"'&&(m=!m),v)).join("");return this.url.searchParams.set("select",p),u&&(this.headers.Prefer=`count=${u}`),new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(o,{count:c,defaultToNull:u=!0}={}){const h="POST",m=[];if(this.headers.Prefer&&m.push(this.headers.Prefer),c&&m.push(`count=${c}`),u||m.push("missing=default"),this.headers.Prefer=m.join(","),Array.isArray(o)){const p=o.reduce((v,y)=>v.concat(Object.keys(y)),[]);if(p.length>0){const v=[...new Set(p)].map(y=>`"${y}"`);this.url.searchParams.set("columns",v.join(","))}}return new e.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}upsert(o,{onConflict:c,ignoreDuplicates:u=!1,count:h,defaultToNull:m=!0}={}){const p="POST",v=[`resolution=${u?"ignore":"merge"}-duplicates`];if(c!==void 0&&this.url.searchParams.set("on_conflict",c),this.headers.Prefer&&v.push(this.headers.Prefer),h&&v.push(`count=${h}`),m||v.push("missing=default"),this.headers.Prefer=v.join(","),Array.isArray(o)){const y=o.reduce((b,C)=>b.concat(Object.keys(C)),[]);if(y.length>0){const b=[...new Set(y)].map(C=>`"${C}"`);this.url.searchParams.set("columns",b.join(","))}}return new e.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}update(o,{count:c}={}){const u="PATCH",h=[];return this.headers.Prefer&&h.push(this.headers.Prefer),c&&h.push(`count=${c}`),this.headers.Prefer=h.join(","),new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:o,fetch:this.fetch,allowEmpty:!1})}delete({count:o}={}){const c="DELETE",u=[];return o&&u.push(`count=${o}`),this.headers.Prefer&&u.unshift(this.headers.Prefer),this.headers.Prefer=u.join(","),new e.default({method:c,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}return Yu.default=t,Yu}var ph={},gh={},b_;function LA(){return b_||(b_=1,Object.defineProperty(gh,"__esModule",{value:!0}),gh.version=void 0,gh.version="0.0.0-automated"),gh}var j_;function $A(){if(j_)return ph;j_=1,Object.defineProperty(ph,"__esModule",{value:!0}),ph.DEFAULT_HEADERS=void 0;const n=LA();return ph.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${n.version}`},ph}var S_;function FA(){if(S_)return Ku;S_=1;var n=Ku&&Ku.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(Ku,"__esModule",{value:!0});const e=n(O1()),t=n(uy()),r=$A();class o{constructor(u,{headers:h={},schema:m,fetch:p}={}){this.url=u,this.headers=Object.assign(Object.assign({},r.DEFAULT_HEADERS),h),this.schemaName=m,this.fetch=p}from(u){const h=new URL(`${this.url}/${u}`);return new e.default(h,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new o(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,h={},{head:m=!1,get:p=!1,count:v}={}){let y;const b=new URL(`${this.url}/rpc/${u}`);let C;m||p?(y=m?"HEAD":"GET",Object.entries(h).filter(([P,N])=>N!==void 0).map(([P,N])=>[P,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([P,N])=>{b.searchParams.append(P,N)})):(y="POST",C=h);const E=Object.assign({},this.headers);return v&&(E.Prefer=`count=${v}`),new t.default({method:y,url:b,headers:E,schema:this.schemaName,body:C,fetch:this.fetch,allowEmpty:!1})}}return Ku.default=o,Ku}var N_;function zA(){if(N_)return $n;N_=1;var n=$n&&$n.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty($n,"__esModule",{value:!0}),$n.PostgrestError=$n.PostgrestBuilder=$n.PostgrestTransformBuilder=$n.PostgrestFilterBuilder=$n.PostgrestQueryBuilder=$n.PostgrestClient=void 0;const e=n(FA());$n.PostgrestClient=e.default;const t=n(O1());$n.PostgrestQueryBuilder=t.default;const r=n(uy());$n.PostgrestFilterBuilder=r.default;const o=n(M1());$n.PostgrestTransformBuilder=o.default;const c=n(I1());$n.PostgrestBuilder=c.default;const u=n(A1());return $n.PostgrestError=u.default,$n.default={PostgrestClient:e.default,PostgrestQueryBuilder:t.default,PostgrestFilterBuilder:r.default,PostgrestTransformBuilder:o.default,PostgrestBuilder:c.default,PostgrestError:u.default},$n}var UA=zA();const BA=zg(UA),{PostgrestClient:WA,PostgrestQueryBuilder:VU,PostgrestFilterBuilder:GU,PostgrestTransformBuilder:qU,PostgrestBuilder:KU,PostgrestError:YU}=BA;function HA(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const VA=HA(),GA="2.11.15",qA=`realtime-js/${GA}`,KA="1.0.0",D1=1e4,YA=1e3;var Eh;(function(n){n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed"})(Eh||(Eh={}));var sr;(function(n){n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving"})(sr||(sr={}));var Vs;(function(n){n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token"})(Vs||(Vs={}));var j0;(function(n){n.websocket="websocket"})(j0||(j0={}));var Zl;(function(n){n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed"})(Zl||(Zl={}));class JA{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const o=t.getUint8(1),c=t.getUint8(2);let u=this.HEADER_LENGTH+2;const h=r.decode(e.slice(u,u+o));u=u+o;const m=r.decode(e.slice(u,u+c));u=u+c;const p=JSON.parse(r.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:m,payload:p}}}class L1{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ht;(function(n){n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange"})(Ht||(Ht={}));const k_=(n,e,t={})=>{var r;const o=(r=t.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((c,u)=>(c[u]=XA(u,n,e,o),c),{})},XA=(n,e,t,r)=>{const o=e.find(h=>h.name===n),c=o==null?void 0:o.type,u=t[n];return c&&!r.includes(c)?$1(c,u):S0(u)},$1=(n,e)=>{if(n.charAt(0)==="_"){const t=n.slice(1,n.length);return tI(e,t)}switch(n){case Ht.bool:return QA(e);case Ht.float4:case Ht.float8:case Ht.int2:case Ht.int4:case Ht.int8:case Ht.numeric:case Ht.oid:return ZA(e);case Ht.json:case Ht.jsonb:return eI(e);case Ht.timestamp:return nI(e);case Ht.abstime:case Ht.date:case Ht.daterange:case Ht.int4range:case Ht.int8range:case Ht.money:case Ht.reltime:case Ht.text:case Ht.time:case Ht.timestamptz:case Ht.timetz:case Ht.tsrange:case Ht.tstzrange:return S0(e);default:return S0(e)}},S0=n=>n,QA=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},ZA=n=>{if(typeof n=="string"){const e=parseFloat(n);if(!Number.isNaN(e))return e}return n},eI=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(e){return console.log(`JSON parse error: ${e}`),n}return n},tI=(n,e)=>{if(typeof n!="string")return n;const t=n.length-1,r=n[t];if(n[0]==="{"&&r==="}"){let c;const u=n.slice(1,t);try{c=JSON.parse("["+u+"]")}catch{c=u?u.split(","):[]}return c.map(h=>$1(e,h))}return n},nI=n=>typeof n=="string"?n.replace(" ","T"):n,F1=n=>{let e=n;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class $v{constructor(e,t,r={},o=D1){this.channel=e,this.event=t,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var C_;(function(n){n.SYNC="sync",n.JOIN="join",n.LEAVE="leave"})(C_||(C_={}));class Ph{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ph.syncState(this.state,o,c,u),this.pendingDiffs.forEach(m=>{this.state=Ph.syncDiff(this.state,m,c,u)}),this.pendingDiffs=[],h()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ph.syncDiff(this.state,o,c,u),h())}),this.onJoin((o,c,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:u})}),this.onLeave((o,c,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,o){const c=this.cloneDeep(e),u=this.transformState(t),h={},m={};return this.map(c,(p,v)=>{u[p]||(m[p]=v)}),this.map(u,(p,v)=>{const y=c[p];if(y){const b=v.map(N=>N.presence_ref),C=y.map(N=>N.presence_ref),E=v.filter(N=>C.indexOf(N.presence_ref)<0),P=y.filter(N=>b.indexOf(N.presence_ref)<0);E.length>0&&(h[p]=E),P.length>0&&(m[p]=P)}else h[p]=v}),this.syncDiff(c,{joins:h,leaves:m},r,o)}static syncDiff(e,t,r,o){const{joins:c,leaves:u}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(h,m)=>{var p;const v=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),v.length>0){const y=e[h].map(C=>C.presence_ref),b=v.filter(C=>y.indexOf(C.presence_ref)<0);e[h].unshift(...b)}r(h,v,m)}),this.map(u,(h,m)=>{let p=e[h];if(!p)return;const v=m.map(y=>y.presence_ref);p=p.filter(y=>v.indexOf(y.presence_ref)<0),e[h]=p,o(h,p,m),p.length===0&&delete e[h]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,r)=>{const o=e[r];return"metas"in o?t[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):t[r]=o,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var E_;(function(n){n.ALL="*",n.INSERT="INSERT",n.UPDATE="UPDATE",n.DELETE="DELETE"})(E_||(E_={}));var P_;(function(n){n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system"})(P_||(P_={}));var Po;(function(n){n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR"})(Po||(Po={}));class dy{constructor(e,t={config:{}},r){this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=sr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new $v(this,Vs.join,this.params,this.timeout),this.rejoinTimer=new L1(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=sr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=sr.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=sr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vs.reply,{},(o,c)=>{this._trigger(this._replyEventName(c),o)}),this.presence=new Ph(this),this.broadcastEndpointURL=F1(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var r,o;if(this.socket.isConnected()||this.socket.connect(),this.state==sr.closed){const{config:{broadcast:c,presence:u,private:h}}=this.params;this._onError(v=>e==null?void 0:e(Po.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Po.CLOSED));const m={},p={broadcast:c,presence:u,postgres_changes:(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(v=>v.filter))!==null&&o!==void 0?o:[],private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:p},m)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:v})=>{var y;if(this.socket.setAuth(),v===void 0){e==null||e(Po.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,C=(y=b==null?void 0:b.length)!==null&&y!==void 0?y:0,E=[];for(let P=0;P<C;P++){const N=b[P],{filter:{event:R,schema:k,table:T,filter:M}}=N,I=v&&v[P];if(I&&I.event===R&&I.schema===k&&I.table===T&&I.filter===M)E.push(Object.assign(Object.assign({},N),{id:I.id}));else{this.unsubscribe(),this.state=sr.errored,e==null||e(Po.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Po.SUBSCRIBED);return}}).receive("error",v=>{this.state=sr.errored,e==null||e(Po.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Po.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e,t={}){var r,o;if(!this._canPush()&&e.type==="broadcast"){const{event:c,payload:u}=e,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(r=t.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var u,h,m;const p=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=sr.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vs.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new $v(this,Vs.leave,{},e),r.receive("ok",()=>{t(),o("ok")}).receive("timeout",()=>{t(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),u=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:o.signal}));return clearTimeout(c),u}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new $v(this,e,t,r);return this._canPush()?o.send():(o.startTimeout(),this.pushBuffer.push(o)),o}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var o,c;const u=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:v}=Vs;if(r&&[h,m,p,v].indexOf(u)>=0&&r!==this._joinRef())return;let b=this._onMessage(u,t,r);if(t&&!b)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(C=>{var E,P,N;return((E=C.filter)===null||E===void 0?void 0:E.event)==="*"||((N=(P=C.filter)===null||P===void 0?void 0:P.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(C=>C.callback(b,r)):(c=this.bindings[u])===null||c===void 0||c.filter(C=>{var E,P,N,R,k,T;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in C){const M=C.id,I=(E=C.filter)===null||E===void 0?void 0:E.event;return M&&((P=t.ids)===null||P===void 0?void 0:P.includes(M))&&(I==="*"||(I==null?void 0:I.toLocaleLowerCase())===((N=t.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const M=(k=(R=C==null?void 0:C.filter)===null||R===void 0?void 0:R.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return M==="*"||M===((T=t==null?void 0:t.event)===null||T===void 0?void 0:T.toLocaleLowerCase())}else return C.type.toLocaleLowerCase()===u}).map(C=>{if(typeof b=="object"&&"ids"in b){const E=b.data,{schema:P,table:N,commit_timestamp:R,type:k,errors:T}=E;b=Object.assign(Object.assign({},{schema:P,table:N,commit_timestamp:R,eventType:k,new:{},old:{},errors:T}),this._getPayloadRecords(E))}C.callback(b,r)})}_isClosed(){return this.state===sr.closed}_isJoined(){return this.state===sr.joined}_isJoining(){return this.state===sr.joining}_isLeaving(){return this.state===sr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){const o=e.toLocaleLowerCase(),c={type:o,filter:t,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&dy.isEqual(o.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Vs.close,{},e)}_onError(e){this._on(Vs.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=sr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=k_(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=k_(e.columns,e.old_record)),t}}const R_=()=>{},rI=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sI{constructor(e,t){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=D1,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=R_,this.ref=0,this.logger=R_,this.conn=null,this.sendBuffer=[],this.serializer=new JA,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=c=>{let u;return c?u=c:typeof fetch>"u"?u=(...h)=>fc(async()=>{const{default:m}=await Promise.resolve().then(()=>Cd);return{default:m}},void 0).then(({default:m})=>m(...h)):u=fetch,(...h)=>u(...h)},this.endPoint=`${e}/${j0.websocket}`,this.httpEndpoint=F1(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const o=(r=t==null?void 0:t.params)===null||r===void 0?void 0:r.apikey;if(o&&(this.accessTokenValue=o,this.apiKey=o),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:c=>[1e3,2e3,5e3,1e4][c-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(c,u)=>u(JSON.stringify(c)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new L1(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=VA),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:KA}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Eh.connecting:return Zl.Connecting;case Eh.open:return Zl.Open;case Eh.closing:return Zl.Closing;default:return Zl.Closed}}isConnected(){return this.connectionState()===Zl.Open}channel(e,t={config:{}}){const r=`realtime:${e}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new dy(`realtime:${e}`,t,this);return this.channels.push(c),c}}push(e){const{topic:t,event:r,payload:o,ref:c}=e,u=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${t} ${r} (${c})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(r=>{const o={access_token:t,version:qA};t&&r.updateJoinPayload(o),r.joinedOnce&&r._isJoined()&&r._push(Vs.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(YA,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:r,event:o,payload:c,ref:u}=t;r==="phoenix"&&o==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),u&&u===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${c.status||""} ${r} ${o} ${u&&"("+u+")"||""}`,c),Array.from(this.channels).filter(h=>h._isMember(r)).forEach(h=>h._trigger(o,c,u)),this.stateChangeCallbacks.message.forEach(h=>h(t))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(e=>e())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",`${e}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Vs.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const r=e.match(/\?/)?"&":"?",o=new URLSearchParams(t);return`${e}${r}${o}`}_workerObjectUrl(e){let t;if(e)t=e;else{const r=new Blob([rI],{type:"application/javascript"});t=URL.createObjectURL(r)}return t}}class fy extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Fn(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}class aI extends fy{constructor(e,t,r){super(e),this.name="StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class N0 extends fy{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var oI=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};const z1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},iI=()=>oI(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield fc(()=>Promise.resolve().then(()=>Cd),void 0)).Response:Response}),k0=n=>{if(Array.isArray(n))return n.map(t=>k0(t));if(typeof n=="function"||n!==Object(n))return n;const e={};return Object.entries(n).forEach(([t,r])=>{const o=t.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[o]=k0(r)}),e},lI=n=>{if(typeof n!="object"||n===null)return!1;const e=Object.getPrototypeOf(n);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var hc=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};const Fv=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cI=(n,e,t)=>hc(void 0,void 0,void 0,function*(){const r=yield iI();n instanceof r&&!(t!=null&&t.noResolveJson)?n.json().then(o=>{const c=n.status||500,u=(o==null?void 0:o.statusCode)||c+"";e(new aI(Fv(o),c,u))}).catch(o=>{e(new N0(Fv(o),o))}):e(new N0(Fv(n),n))}),uI=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"||!r?o:(lI(r)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(r)):o.body=r,Object.assign(Object.assign({},o),t))};function Jh(n,e,t,r,o,c){return hc(this,void 0,void 0,function*(){return new Promise((u,h)=>{n(t,uI(e,r,o,c)).then(m=>{if(!m.ok)throw m;return r!=null&&r.noResolveJson?m:m.json()}).then(m=>u(m)).catch(m=>cI(m,h,r))})})}function bg(n,e,t,r){return hc(this,void 0,void 0,function*(){return Jh(n,"GET",e,t,r)})}function Ro(n,e,t,r,o){return hc(this,void 0,void 0,function*(){return Jh(n,"POST",e,r,o,t)})}function C0(n,e,t,r,o){return hc(this,void 0,void 0,function*(){return Jh(n,"PUT",e,r,o,t)})}function dI(n,e,t,r){return hc(this,void 0,void 0,function*(){return Jh(n,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),r)})}function U1(n,e,t,r,o){return hc(this,void 0,void 0,function*(){return Jh(n,"DELETE",e,r,o,t)})}var Mr=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};const fI={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},T_={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hI{constructor(e,t={},r,o){this.url=e,this.headers=t,this.bucketId=r,this.fetch=z1(o)}uploadOrUpdate(e,t,r,o){return Mr(this,void 0,void 0,function*(){try{let c;const u=Object.assign(Object.assign({},T_),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const m=u.metadata;typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m)),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl),m&&c.append("metadata",this.encodeMetadata(m))):(c=r,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,m&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(t),v=this._getFinalPath(p),y=yield(e=="PUT"?C0:Ro)(this.fetch,`${this.url}/object/${v}`,c,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:y.Id,fullPath:y.Key},error:null}}catch(c){if(Fn(c))return{data:null,error:c};throw c}})}upload(e,t,r){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,r)})}uploadToSignedUrl(e,t,r,o){return Mr(this,void 0,void 0,function*(){const c=this._removeEmptyFolders(e),u=this._getFinalPath(c),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",t);try{let m;const p=Object.assign({upsert:T_.upsert},o),v=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&r instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",r)):typeof FormData<"u"&&r instanceof FormData?(m=r,m.append("cacheControl",p.cacheControl)):(m=r,v["cache-control"]=`max-age=${p.cacheControl}`,v["content-type"]=p.contentType);const y=yield C0(this.fetch,h.toString(),m,{headers:v});return{data:{path:c,fullPath:y.Key},error:null}}catch(m){if(Fn(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(e,t){return Mr(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const o=Object.assign({},this.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=yield Ro(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:o}),u=new URL(this.url+c.url),h=u.searchParams.get("token");if(!h)throw new fy("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}update(e,t,r){return Mr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,r)})}move(e,t,r){return Mr(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}copy(e,t,r){return Mr(this,void 0,void 0,function*(){try{return{data:{path:(yield Ro(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}createSignedUrl(e,t,r){return Mr(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),c=yield Ro(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:t},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const u=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return c={signedUrl:encodeURI(`${this.url}${c.signedURL}${u}`)},{data:c,error:null}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}createSignedUrls(e,t,r){return Mr(this,void 0,void 0,function*(){try{const o=yield Ro(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),c=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${c}`):null})),error:null}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}download(e,t){return Mr(this,void 0,void 0,function*(){const o=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",c=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),u=c?`?${c}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield bg(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(Fn(h))return{data:null,error:h};throw h}})}info(e){return Mr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const r=yield bg(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:k0(r),error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}exists(e){return Mr(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield dI(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(Fn(r)&&r instanceof N0){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,t){const r=this._getFinalPath(e),o=[],c=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";c!==""&&o.push(c);const h=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});m!==""&&o.push(m);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${r}${p}`)}}}remove(e){return Mr(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}list(e,t,r){return Mr(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},fI),t),{prefix:e||""});return{data:yield Ro(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},r),error:null}}catch(o){if(Fn(o))return{data:null,error:o};throw o}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const mI="2.10.4",pI={"X-Client-Info":`storage-js/${mI}`};var Zu=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};class gI{constructor(e,t={},r,o){const c=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(c.hostname)&&!c.hostname.includes("storage.supabase.")&&(c.hostname=c.hostname.replace("supabase.","storage.supabase.")),this.url=c.href,this.headers=Object.assign(Object.assign({},pI),t),this.fetch=z1(r)}listBuckets(){return Zu(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(Fn(e))return{data:null,error:e};throw e}})}getBucket(e){return Zu(this,void 0,void 0,function*(){try{return{data:yield bg(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return Zu(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}updateBucket(e,t){return Zu(this,void 0,void 0,function*(){try{return{data:yield C0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(Fn(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Zu(this,void 0,void 0,function*(){try{return{data:yield Ro(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}deleteBucket(e){return Zu(this,void 0,void 0,function*(){try{return{data:yield U1(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(Fn(t))return{data:null,error:t};throw t}})}}class xI extends gI{constructor(e,t={},r,o){super(e,t,r,o)}from(e){return new hI(this.url,this.headers,e,this.fetch)}}const vI="2.53.0";let _h="";typeof Deno<"u"?_h="deno":typeof document<"u"?_h="web":typeof navigator<"u"&&navigator.product==="ReactNative"?_h="react-native":_h="node";const yI={"X-Client-Info":`supabase-js-${_h}/${vI}`},wI={headers:yI},_I={schema:"public"},bI={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jI={};var SI=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};const NI=n=>{let e;return n?e=n:typeof fetch>"u"?e=R1:e=fetch,(...t)=>e(...t)},kI=()=>typeof Headers>"u"?T1:Headers,CI=(n,e,t)=>{const r=NI(t),o=kI();return(c,u)=>SI(void 0,void 0,void 0,function*(){var h;const m=(h=yield e())!==null&&h!==void 0?h:n;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",n),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),r(c,Object.assign(Object.assign({},u),{headers:p}))})};var EI=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};function PI(n){return n.endsWith("/")?n:n+"/"}function RI(n,e){var t,r;const{db:o,auth:c,realtime:u,global:h}=n,{db:m,auth:p,realtime:v,global:y}=e,b={db:Object.assign(Object.assign({},m),o),auth:Object.assign(Object.assign({},p),c),realtime:Object.assign(Object.assign({},v),u),storage:{},global:Object.assign(Object.assign(Object.assign({},y),h),{headers:Object.assign(Object.assign({},(t=y==null?void 0:y.headers)!==null&&t!==void 0?t:{}),(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>EI(this,void 0,void 0,function*(){return""})};return n.accessToken?b.accessToken=n.accessToken:delete b.accessToken,b}const B1="2.71.1",ud=30*1e3,E0=3,zv=E0*ud,TI="http://localhost:9999",AI="supabase.auth.token",II={"X-Client-Info":`gotrue-js/${B1}`},P0="X-Supabase-Api-Version",W1={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},MI=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,OI=600*1e3;class hy extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function dt(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}class DI extends hy{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}function LI(n){return dt(n)&&n.name==="AuthApiError"}class H1 extends hy{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class Wi extends hy{constructor(e,t,r,o){super(e,r,o),this.name=t,this.status=r}}class Ci extends Wi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function $I(n){return dt(n)&&n.name==="AuthSessionMissingError"}class Kp extends Wi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Yp extends Wi{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Jp extends Wi{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function FI(n){return dt(n)&&n.name==="AuthImplicitGrantRedirectError"}class A_ extends Wi{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class R0 extends Wi{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Uv(n){return dt(n)&&n.name==="AuthRetryableFetchError"}class I_ extends Wi{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class T0 extends Wi{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const jg="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),M_=` 	
\r=`.split(""),zI=(()=>{const n=new Array(128);for(let e=0;e<n.length;e+=1)n[e]=-1;for(let e=0;e<M_.length;e+=1)n[M_[e].charCodeAt(0)]=-2;for(let e=0;e<jg.length;e+=1)n[jg[e].charCodeAt(0)]=e;return n})();function O_(n,e,t){if(n!==null)for(e.queue=e.queue<<8|n,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(jg[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;t(jg[r]),e.queuedBits-=6}}function V1(n,e,t){const r=zI[n];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function D_(n){const e=[],t=u=>{e.push(String.fromCodePoint(u))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=u=>{WI(u,r,t)};for(let u=0;u<n.length;u+=1)V1(n.charCodeAt(u),o,c);return e.join("")}function UI(n,e){if(n<=127){e(n);return}else if(n<=2047){e(192|n>>6),e(128|n&63);return}else if(n<=65535){e(224|n>>12),e(128|n>>6&63),e(128|n&63);return}else if(n<=1114111){e(240|n>>18),e(128|n>>12&63),e(128|n>>6&63),e(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function BI(n,e){for(let t=0;t<n.length;t+=1){let r=n.charCodeAt(t);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(n.charCodeAt(t+1)-56320&65535|o)+65536,t+=1}UI(r,e)}}function WI(n,e,t){if(e.utf8seq===0){if(n<=127){t(n);return}for(let r=1;r<6;r+=1)if((n>>7-r&1)===0){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=n&31;else if(e.utf8seq===3)e.codepoint=n&15;else if(e.utf8seq===4)e.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|n&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function HI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};for(let o=0;o<n.length;o+=1)V1(n.charCodeAt(o),t,r);return new Uint8Array(e)}function VI(n){const e=[];return BI(n,t=>e.push(t)),new Uint8Array(e)}function GI(n){const e=[],t={queue:0,queuedBits:0},r=o=>{e.push(o)};return n.forEach(o=>O_(o,t,r)),O_(null,t,r),e.join("")}function qI(n){return Math.round(Date.now()/1e3)+n}function KI(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0;return(n=="x"?e:e&3|8).toString(16)})}const Ws=()=>typeof window<"u"&&typeof document<"u",Gl={tested:!1,writable:!1},G1=()=>{if(!Ws())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gl.tested)return Gl.writable;const n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Gl.tested=!0,Gl.writable=!0}catch{Gl.tested=!0,Gl.writable=!1}return Gl.writable};function YI(n){const e={},t=new URL(n);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((o,c)=>{e[c]=o})}catch{}return t.searchParams.forEach((r,o)=>{e[o]=r}),e}const q1=n=>{let e;return n?e=n:typeof fetch>"u"?e=(...t)=>fc(async()=>{const{default:r}=await Promise.resolve().then(()=>Cd);return{default:r}},void 0).then(({default:r})=>r(...t)):e=fetch,(...t)=>e(...t)},JI=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",dd=async(n,e,t)=>{await n.setItem(e,JSON.stringify(t))},ql=async(n,e)=>{const t=await n.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},Si=async(n,e)=>{await n.removeItem(e)};class Vg{constructor(){this.promise=new Vg.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}Vg.promiseConstructor=Promise;function Bv(n){const e=n.split(".");if(e.length!==3)throw new T0("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!MI.test(e[r]))throw new T0("JWT not in base64url format");return{header:JSON.parse(D_(e[0])),payload:JSON.parse(D_(e[1])),signature:HI(e[2]),raw:{header:e[0],payload:e[1]}}}async function XI(n){return await new Promise(e=>{setTimeout(()=>e(null),n)})}function QI(n,e){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const u=await n(c);if(!e(c,null,u)){r(u);return}}catch(u){if(!e(c,u)){o(u);return}}})()})}function ZI(n){return("0"+n.toString(16)).substr(-2)}function eM(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=t.length;let o="";for(let c=0;c<56;c++)o+=t.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(e),Array.from(e,ZI).join("")}async function tM(n){const t=new TextEncoder().encode(n),r=await crypto.subtle.digest("SHA-256",t),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function nM(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;const t=await tM(n);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ed(n,e,t=!1){const r=eM();let o=r;t&&(o+="/PASSWORD_RECOVERY"),await dd(n,`${e}-code-verifier`,o);const c=await nM(r);return[c,r===c?"plain":"s256"]}const rM=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function sM(n){const e=n.headers.get(P0);if(!e||!e.match(rM))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function aM(n){if(!n)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(n<=e)throw new Error("JWT has expired")}function oM(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const iM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function td(n){if(!iM.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wv(){const n={};return new Proxy(n,{get:(e,t)=>{if(t==="__isUserNotAvailableProxy")return!0;if(typeof t=="symbol"){const r=t.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function L_(n){return JSON.parse(JSON.stringify(n))}var lM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};const Xl=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),cM=[502,503,504];async function $_(n){var e;if(!JI(n))throw new R0(Xl(n),0);if(cM.includes(n.status))throw new R0(Xl(n),n.status);let t;try{t=await n.json()}catch(c){throw new H1(Xl(c),c)}let r;const o=sM(n);if(o&&o.getTime()>=W1["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?r=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(r=t.error_code),r){if(r==="weak_password")throw new I_(Xl(t),n.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ci}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((c,u)=>c&&typeof u=="string",!0))throw new I_(Xl(t),n.status,t.weak_password.reasons);throw new DI(Xl(t),n.status||500,r)}const uM=(n,e,t,r)=>{const o={method:n,headers:(e==null?void 0:e.headers)||{}};return n==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),t))};async function wt(n,e,t,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[P0]||(c[P0]=W1["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const u=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(u.redirect_to=r.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",m=await dM(n,e,t+h,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(m):{data:Object.assign({},m),error:null}}async function dM(n,e,t,r,o,c){const u=uM(e,r,o,c);let h;try{h=await n(t,Object.assign({},u))}catch(m){throw console.error(m),new R0(Xl(m),0)}if(h.ok||await $_(h),r!=null&&r.noResolveJson)return h;try{return await h.json()}catch(m){await $_(m)}}function Eo(n){var e;let t=null;pM(n)&&(t=Object.assign({},n),n.expires_at||(t.expires_at=qI(n.expires_in)));const r=(e=n.user)!==null&&e!==void 0?e:n;return{data:{session:t,user:r},error:null}}function F_(n){const e=Eo(n);return!e.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((t,r)=>t&&typeof r=="string",!0)&&(e.data.weak_password=n.weak_password),e}function Pi(n){var e;return{data:{user:(e=n.user)!==null&&e!==void 0?e:n},error:null}}function fM(n){return{data:n,error:null}}function hM(n){const{action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c}=n,u=lM(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:t,hashed_token:r,redirect_to:o,verification_type:c},m=Object.assign({},u);return{data:{properties:h,user:m},error:null}}function mM(n){return n}function pM(n){return n.access_token&&n.refresh_token&&n.expires_in}const Hv=["global","local","others"];var gM=function(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t};class xM{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=q1(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t=Hv[0]){if(Hv.indexOf(t)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hv.join(", ")}`);try{return await wt(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,t={}){try{return await wt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:Pi})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=gM(e,["options"]),o=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await wt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:hM,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(dt(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await wt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Pi})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,o,c,u,h,m;try{const p={nextPage:null,lastPage:0,total:0},v=await wt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:mM});if(v.error)throw v.error;const y=await v.json(),b=(u=v.headers.get("x-total-count"))!==null&&u!==void 0?u:0,C=(m=(h=v.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return C.length>0&&(C.forEach(E=>{const P=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(E.split(";")[1].split("=")[1]);p[`${N}Page`]=P}),p.total=parseInt(b)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(dt(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){td(e);try{return await wt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Pi})}catch(t){if(dt(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){td(e);try{return await wt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:Pi})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,t=!1){td(e);try{return await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:Pi})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){td(e.userId);try{const{data:t,error:r}=await wt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:t,error:r}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _deleteFactor(e){td(e.userId),td(e.id);try{return{data:await wt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}}function z_(n={}){return{getItem:e=>n[e]||null,setItem:(e,t)=>{n[e]=t},removeItem:e=>{delete n[e]}}}function vM(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const nd={debug:!!(globalThis&&G1()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class K1 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class yM extends K1{}async function wM(n,e,t){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),nd.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,o.name);try{return await t()}finally{nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,o.name)}}else{if(e===0)throw nd.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new yM(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(nd.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}vM();const _M={url:TI,storageKey:AI,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:II,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function U_(n,e,t){return await t()}const rd={};class Lh{constructor(e){var t,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Lh.nextInstanceID,Lh.nextInstanceID+=1,this.instanceID>0&&Ws()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},_M),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new xM({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=q1(o.fetch),this.lock=o.lock||U_,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Ws()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=wM:this.lock=U_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:G1()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=z_(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=z_(this.memoryStorage)),Ws()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(c){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",c)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async c=>{this._debug("received broadcast notification from other tab or client",c),await this._notifyAllSubscribers(c.data.event,c.data.session,!1)})}this.initialize()}get jwks(){var e,t;return(t=(e=rd[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&t!==void 0?t:{keys:[]}}set jwks(e){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return(t=(e=rd[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&t!==void 0?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rd[this.storageKey]=Object.assign(Object.assign({},rd[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${B1}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=YI(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),Ws()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(t,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),FI(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return await this._removeSession(),{error:c}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return dt(t)?{error:t}:{error:new H1("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,o;try{const c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Eo}),{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(dt(c))return{data:{user:null,session:null},error:c};throw c}}async signUp(e){var t,r,o;try{let c;if("email"in e){const{email:v,password:y,options:b}=e;let C=null,E=null;this.flowType==="pkce"&&([C,E]=await ed(this.storage,this.storageKey)),c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:b==null?void 0:b.emailRedirectTo,body:{email:v,password:y,data:(t=b==null?void 0:b.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken},code_challenge:C,code_challenge_method:E},xform:Eo})}else if("phone"in e){const{phone:v,password:y,options:b}=e;c=await wt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:y,data:(r=b==null?void 0:b.data)!==null&&r!==void 0?r:{},channel:(o=b==null?void 0:b.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Eo})}else throw new Yp("You must provide either an email or phone number and a password");const{data:u,error:h}=c;if(h||!u)return{data:{user:null,session:null},error:h};const m=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(c){if(dt(c))return{data:{user:null,session:null},error:c};throw c}}async signInWithPassword(e){try{let t;if("email"in e){const{email:c,password:u,options:h}=e;t=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:F_})}else if("phone"in e){const{phone:c,password:u,options:h}=e;t=await wt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:F_})}else throw new Yp("You must provide either an email or phone number and a password");const{data:r,error:o}=t;return o?{data:{user:null,session:null},error:o}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Kp}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,o,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:t}=e;if(t==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${t}"`)}async signInWithSolana(e){var t,r,o,c,u,h,m,p,v,y,b,C;let E,P;if("message"in e)E=e.message,P=e.signature;else{const{chain:N,wallet:R,statement:k,options:T}=e;let M;if(Ws())if(typeof R=="object")M=R;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))M=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(T!=null&&T.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");M=R}const I=new URL((t=T==null?void 0:T.url)!==null&&t!==void 0?t:window.location.href);if("signIn"in M&&M.signIn){const D=await M.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},T==null?void 0:T.signInWithSolana),{version:"1",domain:I.host,uri:I.href}),k?{statement:k}:null));let F;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")F=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)F=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in F&&"signature"in F&&(typeof F.signedMessage=="string"||F.signedMessage instanceof Uint8Array)&&F.signature instanceof Uint8Array)E=typeof F.signedMessage=="string"?F.signedMessage:new TextDecoder().decode(F.signedMessage),P=F.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in M)||typeof M.signMessage!="function"||!("publicKey"in M)||typeof M!="object"||!M.publicKey||!("toBase58"in M.publicKey)||typeof M.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${I.host} wants you to sign in with your Solana account:`,M.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${I.href}`,`Issued At: ${(o=(r=T==null?void 0:T.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=T==null?void 0:T.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${T.signInWithSolana.notBefore}`]:[],...!((u=T==null?void 0:T.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${T.signInWithSolana.expirationTime}`]:[],...!((h=T==null?void 0:T.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${T.signInWithSolana.chainId}`]:[],...!((m=T==null?void 0:T.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${T.signInWithSolana.nonce}`]:[],...!((p=T==null?void 0:T.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${T.signInWithSolana.requestId}`]:[],...!((y=(v=T==null?void 0:T.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||y===void 0)&&y.length?["Resources",...T.signInWithSolana.resources.map(F=>`- ${F}`)]:[]].join(`
`);const D=await M.signMessage(new TextEncoder().encode(E),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=D}}try{const{data:N,error:R}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:GI(P)},!((b=e.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(C=e.options)===null||C===void 0?void 0:C.captchaToken}}:null),xform:Eo});if(R)throw R;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new Kp}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:R})}catch(N){if(dt(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(e){const t=await ql(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(t??"").split("/");try{const{data:c,error:u}=await wt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Eo});if(await Si(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!c||!c.session||!c.user?{data:{user:null,session:null,redirectType:null},error:new Kp}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:u})}catch(c){if(dt(c))return{data:{user:null,session:null,redirectType:null},error:c};throw c}}async signInWithIdToken(e){try{const{options:t,provider:r,token:o,access_token:c,nonce:u}=e,h=await wt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:u,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:Eo}),{data:m,error:p}=h;return p?{data:{user:null,session:null},error:p}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new Kp}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:p})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,o,c,u;try{if("email"in e){const{email:h,options:m}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await ed(this.storage,this.storageKey));const{error:y}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(t=m==null?void 0:m.data)!==null&&t!==void 0?t:{},create_user:(r=m==null?void 0:m.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:p,code_challenge_method:v},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:y}}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:v}=await wt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=m==null?void 0:m.data)!==null&&o!==void 0?o:{},create_user:(c=m==null?void 0:m.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(u=m==null?void 0:m.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:v}}throw new Yp("You must provide either an email or phone number.")}catch(h){if(dt(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var t,r;try{let o,c;"options"in e&&(o=(t=e.options)===null||t===void 0?void 0:t.redirectTo,c=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:u,error:h}=await wt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:Eo});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const m=u.session,p=u.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:p,session:m},error:null}}catch(o){if(dt(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var t,r,o;try{let c=null,u=null;return this.flowType==="pkce"&&([c,u]=await ed(this.storage,this.storageKey)),await wt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:u}),headers:this.headers,xform:fM})}catch(c){if(dt(c))return{data:null,error:c};throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new Ci;const{error:o}=await wt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(dt(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:r,type:o,options:c}=e,{error:u}=await wt(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:r,type:o,options:c}=e,{data:u,error:h}=await wt(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new Yp("You must provide either an email or phone number and a type")}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await t()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=t();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await ql(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<zv:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const u=await ql(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Wv()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(m,p,v)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,p,v))})}return{data:{session:e},error:null}}const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{session:null},error:c}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Pi}):await this._useSession(async t=>{var r,o,c;const{data:u,error:h}=t;if(h)throw h;return!(!((r=u.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ci}:await wt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:Pi})})}catch(t){if(dt(t))return $I(t)&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new Ci;const u=o.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await ed(this.storage,this.storageKey));const{data:p,error:v}=await wt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:u.access_token,xform:Pi});if(v)throw v;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(r){if(dt(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ci;const t=Date.now()/1e3;let r=t,o=!0,c=null;const{payload:u}=Bv(e.access_token);if(u.exp&&(r=u.exp,o=r<=t),o){const{session:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)throw m;c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return{data:{user:c.user,session:c},error:null}}catch(t){if(dt(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){const{data:u,error:h}=t;if(h)throw h;e=(r=u.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ci;const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);return c?{data:{user:null,session:null},error:c}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(dt(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ws())throw new Jp("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Jp(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new A_("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Jp("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new A_("No code detected.");const{data:k,error:T}=await this._exchangeCodeForSession(e.code);if(T)throw T;const M=new URL(window.location.href);return M.searchParams.delete("code"),window.history.replaceState(window.history.state,"",M.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:u,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!u||!p)throw new Jp("No session defined in URL");const v=Math.round(Date.now()/1e3),y=parseInt(h);let b=v+y;m&&(b=parseInt(m));const C=b-v;C*1e3<=ud&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${C}s, should have been closer to ${y}s`);const E=b-y;v-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,b,v):v-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,b,v);const{data:P,error:N}=await this._getUser(c);if(N)throw N;const R={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:y,expires_at:b,refresh_token:u,token_type:p,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:R,redirectType:e.type},error:null}}catch(r){if(dt(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await ql(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{error:c};const u=(r=o.session)===null||r===void 0?void 0:r.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(LI(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await Si(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=KI(),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,o;try{const{data:{session:c},error:u}=t;if(u)throw u;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,t={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await ed(this.storage,this.storageKey,!0));try{return await wt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(c){if(dt(c))return{data:null,error:c};throw c}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(dt(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:o}=await this._useSession(async c=>{var u,h,m,p,v;const{data:y,error:b}=c;if(b)throw b;const C=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await wt(this.fetch,"GET",C,{headers:this.headers,jwt:(v=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return Ws()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(dt(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)throw u;return await wt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const r=Date.now();return await QI(async o=>(o>0&&await XI(200*Math.pow(2,o-1)),this._debug(t,"refreshing attempt",o),await wt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Eo})),(o,c)=>{const u=200*Math.pow(2,o);return c&&Uv(c)&&Date.now()+u-r<ud})}catch(r){if(this._debug(t,"error",r),dt(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),Ws()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await ql(this.storage,this.storageKey);if(o&&this.userStorage){let u=await ql(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await dd(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Wv()}else if(o&&!o.user&&!o.user){const u=await ql(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await Si(this.storage,this.storageKey+"-user"),await dd(this.storage,this.storageKey,o)):o.user=Wv()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((t=o.expires_at)!==null&&t!==void 0?t:1/0)*1e3-Date.now()<zv;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${zv}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Uv(u)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(r,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new Ci;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Vg;const{data:c,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!c.session)throw new Ci;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={session:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(o,"error",c),dt(c)){const u={session:null,error:c};return Uv(c)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(u),u}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,t,r=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const c=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,t)}catch(m){c.push(m)}});if(await Promise.all(u),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const t=Object.assign({},e),r=t.user&&t.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&t.user&&await dd(this.userStorage,this.storageKey+"-user",{user:t.user});const o=Object.assign({},t);delete o.user;const c=L_(o);await dd(this.storage,this.storageKey,c)}else{const o=L_(t);await dd(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await Si(this.storage,this.storageKey),await Si(this.storage,this.storageKey+"-code-verifier"),await Si(this.storage,this.storageKey+"-user"),this.userStorage&&await Si(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ws()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ud);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-e)/ud);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${ud}ms, refresh threshold is ${E0} ticks`),o<=E0&&await this._callRefreshToken(r.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof K1)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ws()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const o=[`provider=${encodeURIComponent(t)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,u]=await ed(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await wt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var r,o;const{data:c,error:u}=t;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:m,error:p}=await wt(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=m==null?void 0:m.totp)===null||o===void 0)&&o.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(t){if(dt(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;if(c)return{data:null,error:c};const{data:u,error:h}=await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var r;const{data:o,error:c}=t;return c?{data:null,error:c}:await wt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(t){if(dt(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(e==null?void 0:e.factors)||[],o=r.filter(u=>u.factor_type==="totp"&&u.status==="verified"),c=r.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:r,totp:o,phone:c},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,r;const{data:{session:o},error:c}=e;if(c)return{data:null,error:c};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Bv(o.access_token);let h=null;u.aal&&(h=u.aal);let m=h;((r=(t=o.user.factors)===null||t===void 0?void 0:t.filter(y=>y.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(m="aal2");const v=u.amr||[];return{data:{currentLevel:h,nextLevel:m,currentAuthenticationMethods:v},error:null}}))}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(h=>h.kid===e);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(h=>h.kid===e),r&&this.jwks_cached_at+OI>o)return r;const{data:c,error:u}=await wt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(h=>h.kid===e),!r)?null:r}async getClaims(e,t={}){try{let r=e;if(!r){const{data:C,error:E}=await this.getSession();if(E||!C.session)return{data:null,error:E};r=C.session.access_token}const{header:o,payload:c,signature:u,raw:{header:h,payload:m}}=Bv(r);t!=null&&t.allowExpired||aM(c.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,t!=null&&t.keys?{keys:t.keys}:t==null?void 0:t.jwks);if(!p){const{error:C}=await this.getUser(r);if(C)throw C;return{data:{claims:c,header:o,signature:u},error:null}}const v=oM(o.alg),y=await crypto.subtle.importKey("jwk",p,v,!0,["verify"]);if(!await crypto.subtle.verify(v,y,u,VI(`${h}.${m}`)))throw new T0("Invalid JWT signature");return{data:{claims:c,header:o,signature:u},error:null}}catch(r){if(dt(r))return{data:null,error:r};throw r}}}Lh.nextInstanceID=0;const bM=Lh;class jM extends bM{constructor(e){super(e)}}var SM=function(n,e,t,r){function o(c){return c instanceof t?c:new t(function(u){u(c)})}return new(t||(t=Promise))(function(c,u){function h(v){try{p(r.next(v))}catch(y){u(y)}}function m(v){try{p(r.throw(v))}catch(y){u(y)}}function p(v){v.done?c(v.value):o(v.value).then(h,m)}p((r=r.apply(n,e||[])).next())})};class NM{constructor(e,t,r){var o,c,u;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const h=PI(e),m=new URL(h);this.realtimeUrl=new URL("realtime/v1",m),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",m),this.storageUrl=new URL("storage/v1",m),this.functionsUrl=new URL("functions/v1",m);const p=`sb-${m.hostname.split(".")[0]}-auth-token`,v={db:_I,realtime:jI,auth:Object.assign(Object.assign({},bI),{storageKey:p}),global:wI},y=RI(r??{},v);this.storageKey=(o=y.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(c=y.global.headers)!==null&&c!==void 0?c:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(b,C)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(C)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=y.auth)!==null&&u!==void 0?u:{},this.headers,y.global.fetch),this.fetch=CI(t,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new WA(new URL("rest/v1",m).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new xI(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new TA(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return SM(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(t=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,storageKey:c,flowType:u,lock:h,debug:m},p,v){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new jM({url:this.authUrl.href,headers:Object.assign(Object.assign({},y),p),storageKey:c,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:o,flowType:u,lock:h,debug:m,fetch:v,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new sI(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,r)=>{this._handleTokenChanged(t,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,t,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y1=(n,e,t)=>new NM(n,e,t);function kM(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const n=process.version.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}kM()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J1="https://zbhvwxpvlxqxadqzshfc.supabase.co",CM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTE5MjUzNzQsImV4cCI6MjA2NzUwMTM3NH0.TfyuqzBbK-8CIQ-8sTKrH4nMHW7w28nPIhtTLi9Olsc",EM="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpiaHZ3eHB2bHhxeGFkcXpzaGZjIiwicm9sZSI6InNlcnZpY2Vfcm9sZSIsImlhdCI6MTc1MTkyNTM3NCwiZXhwIjoyMDY3NTAxMzc0fQ.0kO3vG1OXNS05NPgm7MmcbkdMuLSG49GKwkCP4979tc",Pe=Y1(J1,CM),B_=Y1(J1,EM),X1=w.createContext(),Xh=()=>{const n=w.useContext(X1);if(!n)throw new Error("useAuth must be used within an AuthProvider");return n},PM=({children:n})=>{const[e,t]=w.useState({id:"test-user",email:"prudnik47@gmail.com"}),[r,o]=w.useState(!1),p={user:e,loading:r,signInWithProvider:async v=>{const{error:y}=await Pe.auth.signInWithOAuth({provider:v});if(y)throw y},signInWithEmail:async(v,y)=>{const{error:b}=await Pe.auth.signInWithPassword({email:v,password:y});if(b)throw b},signUpWithEmail:async(v,y)=>{const{data:b,error:C}=await Pe.auth.signUp({email:v,password:y});if(C)throw C;return b},signOut:async()=>{const{error:v}=await Pe.auth.signOut();if(v)throw v}};return a.jsx(X1.Provider,{value:p,children:!r&&n})};function W_(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function Gg(...n){return e=>{let t=!1;const r=n.map(o=>{const c=W_(o,e);return!t&&typeof c=="function"&&(t=!0),c});if(t)return()=>{for(let o=0;o<r.length;o++){const c=r[o];typeof c=="function"?c():W_(n[o],null)}}}}function Rt(...n){return w.useCallback(Gg(...n),n)}function sc(n){const e=TM(n),t=w.forwardRef((r,o)=>{const{children:c,...u}=r,h=w.Children.toArray(c),m=h.find(IM);if(m){const p=m.props.children,v=h.map(y=>y===m?w.Children.count(p)>1?w.Children.only(null):w.isValidElement(p)?p.props.children:null:y);return a.jsx(e,{...u,ref:o,children:w.isValidElement(p)?w.cloneElement(p,void 0,v):null})}return a.jsx(e,{...u,ref:o,children:c})});return t.displayName=`${n}.Slot`,t}var RM=sc("Slot");function TM(n){const e=w.forwardRef((t,r)=>{const{children:o,...c}=t;if(w.isValidElement(o)){const u=OM(o),h=MM(c,o.props);return o.type!==w.Fragment&&(h.ref=r?Gg(r,u):u),w.cloneElement(o,h)}return w.Children.count(o)>1?w.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var AM=Symbol("radix.slottable");function IM(n){return w.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===AM}function MM(n,e){const t={...e};for(const r in e){const o=n[r],c=e[r];/^on[A-Z]/.test(r)?o&&c?t[r]=(...h)=>{const m=c(...h);return o(...h),m}:o&&(t[r]=o):r==="style"?t[r]={...o,...c}:r==="className"&&(t[r]=[o,c].filter(Boolean).join(" "))}return{...n,...t}}function OM(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Q1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var o=n.length;for(e=0;e<o;e++)n[e]&&(t=Q1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function Z1(){for(var n,e,t=0,r="",o=arguments.length;t<o;t++)(n=arguments[t])&&(e=Q1(n))&&(r&&(r+=" "),r+=e);return r}const H_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,V_=Z1,Qh=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return V_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:o,defaultVariants:c}=e,u=Object.keys(o).map(p=>{const v=t==null?void 0:t[p],y=c==null?void 0:c[p];if(v===null)return null;const b=H_(v)||H_(y);return o[p][b]}),h=t&&Object.entries(t).reduce((p,v)=>{let[y,b]=v;return b===void 0||(p[y]=b),p},{}),m=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,v)=>{let{class:y,className:b,...C}=v;return Object.entries(C).every(E=>{let[P,N]=E;return Array.isArray(N)?N.includes({...c,...h}[P]):{...c,...h}[P]===N})?[...p,y,b]:p},[]);return V_(n,u,m,t==null?void 0:t.class,t==null?void 0:t.className)},my="-",DM=n=>{const e=$M(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:u=>{const h=u.split(my);return h[0]===""&&h.length!==1&&h.shift(),ej(h,e)||LM(u)},getConflictingClassGroupIds:(u,h)=>{const m=t[u]||[];return h&&r[u]?[...m,...r[u]]:m}}},ej=(n,e)=>{var u;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),o=r?ej(n.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const c=n.join(my);return(u=e.validators.find(({validator:h})=>h(c)))==null?void 0:u.classGroupId},G_=/^\[(.+)\]$/,LM=n=>{if(G_.test(n)){const e=G_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},$M=n=>{const{theme:e,classGroups:t}=n,r={nextPart:new Map,validators:[]};for(const o in t)A0(t[o],r,o,e);return r},A0=(n,e,t,r)=>{n.forEach(o=>{if(typeof o=="string"){const c=o===""?e:q_(e,o);c.classGroupId=t;return}if(typeof o=="function"){if(FM(o)){A0(o(r),e,t,r);return}e.validators.push({validator:o,classGroupId:t});return}Object.entries(o).forEach(([c,u])=>{A0(u,q_(e,c),t,r)})})},q_=(n,e)=>{let t=n;return e.split(my).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},FM=n=>n.isThemeGetter,zM=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const o=(c,u)=>{t.set(c,u),e++,e>n&&(e=0,r=t,t=new Map)};return{get(c){let u=t.get(c);if(u!==void 0)return u;if((u=r.get(c))!==void 0)return o(c,u),u},set(c,u){t.has(c)?t.set(c,u):o(c,u)}}},I0="!",M0=":",UM=M0.length,BM=n=>{const{prefix:e,experimentalParseClassName:t}=n;let r=o=>{const c=[];let u=0,h=0,m=0,p;for(let E=0;E<o.length;E++){let P=o[E];if(u===0&&h===0){if(P===M0){c.push(o.slice(m,E)),m=E+UM;continue}if(P==="/"){p=E;continue}}P==="["?u++:P==="]"?u--:P==="("?h++:P===")"&&h--}const v=c.length===0?o:o.substring(m),y=WM(v),b=y!==v,C=p&&p>m?p-m:void 0;return{modifiers:c,hasImportantModifier:b,baseClassName:y,maybePostfixModifierPosition:C}};if(e){const o=e+M0,c=r;r=u=>u.startsWith(o)?c(u.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:u,maybePostfixModifierPosition:void 0}}if(t){const o=r;r=c=>t({className:c,parseClassName:o})}return r},WM=n=>n.endsWith(I0)?n.substring(0,n.length-1):n.startsWith(I0)?n.substring(1):n,HM=n=>{const e=Object.fromEntries(n.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const o=[];let c=[];return r.forEach(u=>{u[0]==="["||e[u]?(o.push(...c.sort(),u),c=[]):c.push(u)}),o.push(...c.sort()),o}},VM=n=>({cache:zM(n.cacheSize),parseClassName:BM(n),sortModifiers:HM(n),...DM(n)}),GM=/\s+/,qM=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:o,sortModifiers:c}=e,u=[],h=n.trim().split(GM);let m="";for(let p=h.length-1;p>=0;p-=1){const v=h[p],{isExternal:y,modifiers:b,hasImportantModifier:C,baseClassName:E,maybePostfixModifierPosition:P}=t(v);if(y){m=v+(m.length>0?" "+m:m);continue}let N=!!P,R=r(N?E.substring(0,P):E);if(!R){if(!N){m=v+(m.length>0?" "+m:m);continue}if(R=r(E),!R){m=v+(m.length>0?" "+m:m);continue}N=!1}const k=c(b).join(":"),T=C?k+I0:k,M=T+R;if(u.includes(M))continue;u.push(M);const I=o(R,N);for(let D=0;D<I.length;++D){const F=I[D];u.push(T+F)}m=v+(m.length>0?" "+m:m)}return m};function KM(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=tj(e))&&(r&&(r+=" "),r+=t);return r}const tj=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=tj(n[r]))&&(t&&(t+=" "),t+=e);return t};function YM(n,...e){let t,r,o,c=u;function u(m){const p=e.reduce((v,y)=>y(v),n());return t=VM(p),r=t.cache.get,o=t.cache.set,c=h,h(m)}function h(m){const p=r(m);if(p)return p;const v=qM(m,t);return o(m,v),v}return function(){return c(KM.apply(null,arguments))}}const kn=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},nj=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rj=/^\((?:(\w[\w-]*):)?(.+)\)$/i,JM=/^\d+\/\d+$/,XM=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,QM=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ZM=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,eO=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,tO=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,sd=n=>JM.test(n),gt=n=>!!n&&!Number.isNaN(Number(n)),Ni=n=>!!n&&Number.isInteger(Number(n)),Vv=n=>n.endsWith("%")&&gt(n.slice(0,-1)),Co=n=>XM.test(n),nO=()=>!0,rO=n=>QM.test(n)&&!ZM.test(n),sj=()=>!1,sO=n=>eO.test(n),aO=n=>tO.test(n),oO=n=>!He(n)&&!Ve(n),iO=n=>Ed(n,ij,sj),He=n=>nj.test(n),Kl=n=>Ed(n,lj,rO),Gv=n=>Ed(n,fO,gt),K_=n=>Ed(n,aj,sj),lO=n=>Ed(n,oj,aO),Xp=n=>Ed(n,cj,sO),Ve=n=>rj.test(n),xh=n=>Pd(n,lj),cO=n=>Pd(n,hO),Y_=n=>Pd(n,aj),uO=n=>Pd(n,ij),dO=n=>Pd(n,oj),Qp=n=>Pd(n,cj,!0),Ed=(n,e,t)=>{const r=nj.exec(n);return r?r[1]?e(r[1]):t(r[2]):!1},Pd=(n,e,t=!1)=>{const r=rj.exec(n);return r?r[1]?e(r[1]):t:!1},aj=n=>n==="position"||n==="percentage",oj=n=>n==="image"||n==="url",ij=n=>n==="length"||n==="size"||n==="bg-size",lj=n=>n==="length",fO=n=>n==="number",hO=n=>n==="family-name",cj=n=>n==="shadow",mO=()=>{const n=kn("color"),e=kn("font"),t=kn("text"),r=kn("font-weight"),o=kn("tracking"),c=kn("leading"),u=kn("breakpoint"),h=kn("container"),m=kn("spacing"),p=kn("radius"),v=kn("shadow"),y=kn("inset-shadow"),b=kn("text-shadow"),C=kn("drop-shadow"),E=kn("blur"),P=kn("perspective"),N=kn("aspect"),R=kn("ease"),k=kn("animate"),T=()=>["auto","avoid","all","avoid-page","page","left","right","column"],M=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],I=()=>[...M(),Ve,He],D=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto","contain","none"],z=()=>[Ve,He,m],q=()=>[sd,"full","auto",...z()],X=()=>[Ni,"none","subgrid",Ve,He],re=()=>["auto",{span:["full",Ni,Ve,He]},Ni,Ve,He],ie=()=>[Ni,"auto",Ve,He],me=()=>["auto","min","max","fr",Ve,He],pe=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ke=()=>["start","end","center","stretch","center-safe","end-safe"],ge=()=>["auto",...z()],be=()=>[sd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],W=()=>[n,Ve,He],K=()=>[...M(),Y_,K_,{position:[Ve,He]}],ne=()=>["no-repeat",{repeat:["","x","y","space","round"]}],B=()=>["auto","cover","contain",uO,iO,{size:[Ve,He]}],U=()=>[Vv,xh,Kl],V=()=>["","none","full",p,Ve,He],ae=()=>["",gt,xh,Kl],ue=()=>["solid","dashed","dotted","double"],he=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],te=()=>[gt,Vv,Y_,K_],fe=()=>["","none",E,Ve,He],Se=()=>["none",gt,Ve,He],Ee=()=>["none",gt,Ve,He],Ke=()=>[gt,Ve,He],We=()=>[sd,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Co],breakpoint:[Co],color:[nO],container:[Co],"drop-shadow":[Co],ease:["in","out","in-out"],font:[oO],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Co],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Co],shadow:[Co],spacing:["px",gt],text:[Co],"text-shadow":[Co],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",sd,He,Ve,N]}],container:["container"],columns:[{columns:[gt,He,Ve,h]}],"break-after":[{"break-after":T()}],"break-before":[{"break-before":T()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:I()}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:F()}],"overscroll-x":[{"overscroll-x":F()}],"overscroll-y":[{"overscroll-y":F()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:q()}],"inset-x":[{"inset-x":q()}],"inset-y":[{"inset-y":q()}],start:[{start:q()}],end:[{end:q()}],top:[{top:q()}],right:[{right:q()}],bottom:[{bottom:q()}],left:[{left:q()}],visibility:["visible","invisible","collapse"],z:[{z:[Ni,"auto",Ve,He]}],basis:[{basis:[sd,"full","auto",h,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[gt,sd,"auto","initial","none",He]}],grow:[{grow:["",gt,Ve,He]}],shrink:[{shrink:["",gt,Ve,He]}],order:[{order:[Ni,"first","last","none",Ve,He]}],"grid-cols":[{"grid-cols":X()}],"col-start-end":[{col:re()}],"col-start":[{"col-start":ie()}],"col-end":[{"col-end":ie()}],"grid-rows":[{"grid-rows":X()}],"row-start-end":[{row:re()}],"row-start":[{"row-start":ie()}],"row-end":[{"row-end":ie()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":me()}],"auto-rows":[{"auto-rows":me()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...pe(),"normal"]}],"justify-items":[{"justify-items":[...ke(),"normal"]}],"justify-self":[{"justify-self":["auto",...ke()]}],"align-content":[{content:["normal",...pe()]}],"align-items":[{items:[...ke(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ke(),{baseline:["","last"]}]}],"place-content":[{"place-content":pe()}],"place-items":[{"place-items":[...ke(),"baseline"]}],"place-self":[{"place-self":["auto",...ke()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:ge()}],mx:[{mx:ge()}],my:[{my:ge()}],ms:[{ms:ge()}],me:[{me:ge()}],mt:[{mt:ge()}],mr:[{mr:ge()}],mb:[{mb:ge()}],ml:[{ml:ge()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:be()}],w:[{w:[h,"screen",...be()]}],"min-w":[{"min-w":[h,"screen","none",...be()]}],"max-w":[{"max-w":[h,"screen","none","prose",{screen:[u]},...be()]}],h:[{h:["screen","lh",...be()]}],"min-h":[{"min-h":["screen","lh","none",...be()]}],"max-h":[{"max-h":["screen","lh",...be()]}],"font-size":[{text:["base",t,xh,Kl]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Ve,Gv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Vv,He]}],"font-family":[{font:[cO,He,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,Ve,He]}],"line-clamp":[{"line-clamp":[gt,"none",Ve,Gv]}],leading:[{leading:[c,...z()]}],"list-image":[{"list-image":["none",Ve,He]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Ve,He]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ue(),"wavy"]}],"text-decoration-thickness":[{decoration:[gt,"from-font","auto",Ve,Kl]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[gt,"auto",Ve,He]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve,He]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve,He]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:K()}],"bg-repeat":[{bg:ne()}],"bg-size":[{bg:B()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ni,Ve,He],radial:["",Ve,He],conic:[Ni,Ve,He]},dO,lO]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:V()}],"rounded-s":[{"rounded-s":V()}],"rounded-e":[{"rounded-e":V()}],"rounded-t":[{"rounded-t":V()}],"rounded-r":[{"rounded-r":V()}],"rounded-b":[{"rounded-b":V()}],"rounded-l":[{"rounded-l":V()}],"rounded-ss":[{"rounded-ss":V()}],"rounded-se":[{"rounded-se":V()}],"rounded-ee":[{"rounded-ee":V()}],"rounded-es":[{"rounded-es":V()}],"rounded-tl":[{"rounded-tl":V()}],"rounded-tr":[{"rounded-tr":V()}],"rounded-br":[{"rounded-br":V()}],"rounded-bl":[{"rounded-bl":V()}],"border-w":[{border:ae()}],"border-w-x":[{"border-x":ae()}],"border-w-y":[{"border-y":ae()}],"border-w-s":[{"border-s":ae()}],"border-w-e":[{"border-e":ae()}],"border-w-t":[{"border-t":ae()}],"border-w-r":[{"border-r":ae()}],"border-w-b":[{"border-b":ae()}],"border-w-l":[{"border-l":ae()}],"divide-x":[{"divide-x":ae()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ae()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ue(),"hidden","none"]}],"divide-style":[{divide:[...ue(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...ue(),"none","hidden"]}],"outline-offset":[{"outline-offset":[gt,Ve,He]}],"outline-w":[{outline:["",gt,xh,Kl]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",v,Qp,Xp]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",y,Qp,Xp]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:ae()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[gt,Kl]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":ae()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",b,Qp,Xp]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[gt,Ve,He]}],"mix-blend":[{"mix-blend":[...he(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":he()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[gt]}],"mask-image-linear-from-pos":[{"mask-linear-from":te()}],"mask-image-linear-to-pos":[{"mask-linear-to":te()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":te()}],"mask-image-t-to-pos":[{"mask-t-to":te()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":te()}],"mask-image-r-to-pos":[{"mask-r-to":te()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":te()}],"mask-image-b-to-pos":[{"mask-b-to":te()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":te()}],"mask-image-l-to-pos":[{"mask-l-to":te()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":te()}],"mask-image-x-to-pos":[{"mask-x-to":te()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":te()}],"mask-image-y-to-pos":[{"mask-y-to":te()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[Ve,He]}],"mask-image-radial-from-pos":[{"mask-radial-from":te()}],"mask-image-radial-to-pos":[{"mask-radial-to":te()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":M()}],"mask-image-conic-pos":[{"mask-conic":[gt]}],"mask-image-conic-from-pos":[{"mask-conic-from":te()}],"mask-image-conic-to-pos":[{"mask-conic-to":te()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:K()}],"mask-repeat":[{mask:ne()}],"mask-size":[{mask:B()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Ve,He]}],filter:[{filter:["","none",Ve,He]}],blur:[{blur:fe()}],brightness:[{brightness:[gt,Ve,He]}],contrast:[{contrast:[gt,Ve,He]}],"drop-shadow":[{"drop-shadow":["","none",C,Qp,Xp]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",gt,Ve,He]}],"hue-rotate":[{"hue-rotate":[gt,Ve,He]}],invert:[{invert:["",gt,Ve,He]}],saturate:[{saturate:[gt,Ve,He]}],sepia:[{sepia:["",gt,Ve,He]}],"backdrop-filter":[{"backdrop-filter":["","none",Ve,He]}],"backdrop-blur":[{"backdrop-blur":fe()}],"backdrop-brightness":[{"backdrop-brightness":[gt,Ve,He]}],"backdrop-contrast":[{"backdrop-contrast":[gt,Ve,He]}],"backdrop-grayscale":[{"backdrop-grayscale":["",gt,Ve,He]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[gt,Ve,He]}],"backdrop-invert":[{"backdrop-invert":["",gt,Ve,He]}],"backdrop-opacity":[{"backdrop-opacity":[gt,Ve,He]}],"backdrop-saturate":[{"backdrop-saturate":[gt,Ve,He]}],"backdrop-sepia":[{"backdrop-sepia":["",gt,Ve,He]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Ve,He]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[gt,"initial",Ve,He]}],ease:[{ease:["linear","initial",R,Ve,He]}],delay:[{delay:[gt,Ve,He]}],animate:[{animate:["none",k,Ve,He]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[P,Ve,He]}],"perspective-origin":[{"perspective-origin":I()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ee()}],"scale-x":[{"scale-x":Ee()}],"scale-y":[{"scale-y":Ee()}],"scale-z":[{"scale-z":Ee()}],"scale-3d":["scale-3d"],skew:[{skew:Ke()}],"skew-x":[{"skew-x":Ke()}],"skew-y":[{"skew-y":Ke()}],transform:[{transform:[Ve,He,"","none","gpu","cpu"]}],"transform-origin":[{origin:I()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:We()}],"translate-x":[{"translate-x":We()}],"translate-y":[{"translate-y":We()}],"translate-z":[{"translate-z":We()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve,He]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve,He]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[gt,xh,Kl,Gv]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},pO=YM(mO);function Be(...n){return pO(Z1(n))}const gO=Qh("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),De=w.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...o},c)=>{const u=r?RM:"button";return a.jsx(u,{className:Be(gO({variant:e,size:t,className:n})),ref:c,...o})});De.displayName="Button";const Ce=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("rounded-xl border bg-card text-card-foreground shadow",n),...e}));Ce.displayName="Card";const Ye=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("flex flex-col space-y-1.5 p-6",n),...e}));Ye.displayName="CardHeader";const Je=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("font-semibold leading-none tracking-tight",n),...e}));Je.displayName="CardTitle";const Yn=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("text-sm text-muted-foreground",n),...e}));Yn.displayName="CardDescription";const Re=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("p-6 pt-0",n),...e}));Re.displayName="CardContent";const xO=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("flex items-center p-6 pt-0",n),...e}));xO.displayName="CardFooter";const Oe=w.forwardRef(({className:n,type:e,...t},r)=>a.jsx("input",{type:e,className:Be("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:r,...t}));Oe.displayName="Input";var vO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],nt=vO.reduce((n,e)=>{const t=sc(`Primitive.${e}`),r=w.forwardRef((o,c)=>{const{asChild:u,...h}=o,m=u?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),a.jsx(m,{...h,ref:c})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function uj(n,e){n&&Yh.flushSync(()=>n.dispatchEvent(e))}var yO="Label",dj=w.forwardRef((n,e)=>a.jsx(nt.label,{...n,ref:e,onMouseDown:t=>{var o;t.target.closest("button, input, select, textarea")||((o=n.onMouseDown)==null||o.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));dj.displayName=yO;var fj=dj;const wO=Qh("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ze=w.forwardRef(({className:n,...e},t)=>a.jsx(fj,{ref:t,className:Be(wO(),n),...e}));ze.displayName=fj.displayName;const _O=Qh("relative w-full rounded-lg border px-4 py-3 text-sm [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground [&>svg~*]:pl-7",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),js=w.forwardRef(({className:n,variant:e,...t},r)=>a.jsx("div",{ref:r,role:"alert",className:Be(_O({variant:e}),n),...t}));js.displayName="Alert";const bO=w.forwardRef(({className:n,...e},t)=>a.jsx("h5",{ref:t,className:Be("mb-1 font-medium leading-none tracking-tight",n),...e}));bO.displayName="AlertTitle";const Ss=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("text-sm [&_p]:leading-relaxed",n),...e}));Ss.displayName="AlertDescription";function Ge(n,e,{checkForDefaultPrevented:t=!0}={}){return function(o){if(n==null||n(o),t===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function jO(n,e){const t=w.createContext(e),r=c=>{const{children:u,...h}=c,m=w.useMemo(()=>h,Object.values(h));return a.jsx(t.Provider,{value:m,children:u})};r.displayName=n+"Provider";function o(c){const u=w.useContext(t);if(u)return u;if(e!==void 0)return e;throw new Error(`\`${c}\` must be used within \`${n}\``)}return[r,o]}function ts(n,e=[]){let t=[];function r(c,u){const h=w.createContext(u),m=t.length;t=[...t,u];const p=y=>{var R;const{scope:b,children:C,...E}=y,P=((R=b==null?void 0:b[n])==null?void 0:R[m])||h,N=w.useMemo(()=>E,Object.values(E));return a.jsx(P.Provider,{value:N,children:C})};p.displayName=c+"Provider";function v(y,b){var P;const C=((P=b==null?void 0:b[n])==null?void 0:P[m])||h,E=w.useContext(C);if(E)return E;if(u!==void 0)return u;throw new Error(`\`${y}\` must be used within \`${c}\``)}return[p,v]}const o=()=>{const c=t.map(u=>w.createContext(u));return function(h){const m=(h==null?void 0:h[n])||c;return w.useMemo(()=>({[`__scope${n}`]:{...h,[n]:m}}),[h,m])}};return o.scopeName=n,[r,SO(o,...e)]}function SO(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(c){const u=r.reduce((h,{useScope:m,scopeName:p})=>{const y=m(c)[`__scope${p}`];return{...h,...y}},{});return w.useMemo(()=>({[`__scope${e.scopeName}`]:u}),[u])}};return t.scopeName=e.scopeName,t}function qg(n){const e=n+"CollectionProvider",[t,r]=ts(e),[o,c]=t(e,{collectionRef:{current:null},itemMap:new Map}),u=P=>{const{scope:N,children:R}=P,k=an.useRef(null),T=an.useRef(new Map).current;return a.jsx(o,{scope:N,itemMap:T,collectionRef:k,children:R})};u.displayName=e;const h=n+"CollectionSlot",m=sc(h),p=an.forwardRef((P,N)=>{const{scope:R,children:k}=P,T=c(h,R),M=Rt(N,T.collectionRef);return a.jsx(m,{ref:M,children:k})});p.displayName=h;const v=n+"CollectionItemSlot",y="data-radix-collection-item",b=sc(v),C=an.forwardRef((P,N)=>{const{scope:R,children:k,...T}=P,M=an.useRef(null),I=Rt(N,M),D=c(v,R);return an.useEffect(()=>(D.itemMap.set(M,{ref:M,...T}),()=>void D.itemMap.delete(M))),a.jsx(b,{[y]:"",ref:I,children:k})});C.displayName=v;function E(P){const N=c(n+"CollectionConsumer",P);return an.useCallback(()=>{const k=N.collectionRef.current;if(!k)return[];const T=Array.from(k.querySelectorAll(`[${y}]`));return Array.from(N.itemMap.values()).sort((D,F)=>T.indexOf(D.ref.current)-T.indexOf(F.ref.current))},[N.collectionRef,N.itemMap])}return[{Provider:u,Slot:p,ItemSlot:C},E,r]}var wn=globalThis!=null&&globalThis.document?w.useLayoutEffect:()=>{},NO=ry[" useId ".trim().toString()]||(()=>{}),kO=0;function ws(n){const[e,t]=w.useState(NO());return wn(()=>{t(r=>r??String(kO++))},[n]),e?`radix-${e}`:""}function Js(n){const e=w.useRef(n);return w.useEffect(()=>{e.current=n}),w.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}var CO=ry[" useInsertionEffect ".trim().toString()]||wn;function La({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[o,c,u]=EO({defaultProp:e,onChange:t}),h=n!==void 0,m=h?n:o;{const v=w.useRef(n!==void 0);w.useEffect(()=>{const y=v.current;y!==h&&console.warn(`${r} is changing from ${y?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),v.current=h},[h,r])}const p=w.useCallback(v=>{var y;if(h){const b=PO(v)?v(n):v;b!==n&&((y=u.current)==null||y.call(u,b))}else c(v)},[h,n,c,u]);return[m,p]}function EO({defaultProp:n,onChange:e}){const[t,r]=w.useState(n),o=w.useRef(t),c=w.useRef(e);return CO(()=>{c.current=e},[e]),w.useEffect(()=>{var u;o.current!==t&&((u=c.current)==null||u.call(c,t),o.current=t)},[t,o]),[t,r,c]}function PO(n){return typeof n=="function"}var RO=w.createContext(void 0);function Zh(n){const e=w.useContext(RO);return n||e||"ltr"}var qv="rovingFocusGroup.onEntryFocus",TO={bubbles:!1,cancelable:!0},em="RovingFocusGroup",[O0,hj,AO]=qg(em),[IO,Kg]=ts(em,[AO]),[MO,OO]=IO(em),mj=w.forwardRef((n,e)=>a.jsx(O0.Provider,{scope:n.__scopeRovingFocusGroup,children:a.jsx(O0.Slot,{scope:n.__scopeRovingFocusGroup,children:a.jsx(DO,{...n,ref:e})})}));mj.displayName=em;var DO=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:o=!1,dir:c,currentTabStopId:u,defaultCurrentTabStopId:h,onCurrentTabStopIdChange:m,onEntryFocus:p,preventScrollOnEntryFocus:v=!1,...y}=n,b=w.useRef(null),C=Rt(e,b),E=Zh(c),[P,N]=La({prop:u,defaultProp:h??null,onChange:m,caller:em}),[R,k]=w.useState(!1),T=Js(p),M=hj(t),I=w.useRef(!1),[D,F]=w.useState(0);return w.useEffect(()=>{const z=b.current;if(z)return z.addEventListener(qv,T),()=>z.removeEventListener(qv,T)},[T]),a.jsx(MO,{scope:t,orientation:r,dir:E,loop:o,currentTabStopId:P,onItemFocus:w.useCallback(z=>N(z),[N]),onItemShiftTab:w.useCallback(()=>k(!0),[]),onFocusableItemAdd:w.useCallback(()=>F(z=>z+1),[]),onFocusableItemRemove:w.useCallback(()=>F(z=>z-1),[]),children:a.jsx(nt.div,{tabIndex:R||D===0?-1:0,"data-orientation":r,...y,ref:C,style:{outline:"none",...n.style},onMouseDown:Ge(n.onMouseDown,()=>{I.current=!0}),onFocus:Ge(n.onFocus,z=>{const q=!I.current;if(z.target===z.currentTarget&&q&&!R){const X=new CustomEvent(qv,TO);if(z.currentTarget.dispatchEvent(X),!X.defaultPrevented){const re=M().filter(ge=>ge.focusable),ie=re.find(ge=>ge.active),me=re.find(ge=>ge.id===P),ke=[ie,me,...re].filter(Boolean).map(ge=>ge.ref.current);xj(ke,v)}}I.current=!1}),onBlur:Ge(n.onBlur,()=>k(!1))})})}),pj="RovingFocusGroupItem",gj=w.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:o=!1,tabStopId:c,children:u,...h}=n,m=ws(),p=c||m,v=OO(pj,t),y=v.currentTabStopId===p,b=hj(t),{onFocusableItemAdd:C,onFocusableItemRemove:E,currentTabStopId:P}=v;return w.useEffect(()=>{if(r)return C(),()=>E()},[r,C,E]),a.jsx(O0.ItemSlot,{scope:t,id:p,focusable:r,active:o,children:a.jsx(nt.span,{tabIndex:y?0:-1,"data-orientation":v.orientation,...h,ref:e,onMouseDown:Ge(n.onMouseDown,N=>{r?v.onItemFocus(p):N.preventDefault()}),onFocus:Ge(n.onFocus,()=>v.onItemFocus(p)),onKeyDown:Ge(n.onKeyDown,N=>{if(N.key==="Tab"&&N.shiftKey){v.onItemShiftTab();return}if(N.target!==N.currentTarget)return;const R=FO(N,v.orientation,v.dir);if(R!==void 0){if(N.metaKey||N.ctrlKey||N.altKey||N.shiftKey)return;N.preventDefault();let T=b().filter(M=>M.focusable).map(M=>M.ref.current);if(R==="last")T.reverse();else if(R==="prev"||R==="next"){R==="prev"&&T.reverse();const M=T.indexOf(N.currentTarget);T=v.loop?zO(T,M+1):T.slice(M+1)}setTimeout(()=>xj(T))}}),children:typeof u=="function"?u({isCurrentTabStop:y,hasTabStop:P!=null}):u})})});gj.displayName=pj;var LO={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function $O(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function FO(n,e,t){const r=$O(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LO[r]}function xj(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function zO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var vj=mj,yj=gj;function UO(n,e){return w.useReducer((t,r)=>e[t][r]??t,n)}var ta=n=>{const{present:e,children:t}=n,r=BO(e),o=typeof t=="function"?t({present:r.isPresent}):w.Children.only(t),c=Rt(r.ref,WO(o));return typeof t=="function"||r.isPresent?w.cloneElement(o,{ref:c}):null};ta.displayName="Presence";function BO(n){const[e,t]=w.useState(),r=w.useRef(null),o=w.useRef(n),c=w.useRef("none"),u=n?"mounted":"unmounted",[h,m]=UO(u,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return w.useEffect(()=>{const p=Zp(r.current);c.current=h==="mounted"?p:"none"},[h]),wn(()=>{const p=r.current,v=o.current;if(v!==n){const b=c.current,C=Zp(p);n?m("MOUNT"):C==="none"||(p==null?void 0:p.display)==="none"?m("UNMOUNT"):m(v&&b!==C?"ANIMATION_OUT":"UNMOUNT"),o.current=n}},[n,m]),wn(()=>{if(e){let p;const v=e.ownerDocument.defaultView??window,y=C=>{const P=Zp(r.current).includes(C.animationName);if(C.target===e&&P&&(m("ANIMATION_END"),!o.current)){const N=e.style.animationFillMode;e.style.animationFillMode="forwards",p=v.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=N)})}},b=C=>{C.target===e&&(c.current=Zp(r.current))};return e.addEventListener("animationstart",b),e.addEventListener("animationcancel",y),e.addEventListener("animationend",y),()=>{v.clearTimeout(p),e.removeEventListener("animationstart",b),e.removeEventListener("animationcancel",y),e.removeEventListener("animationend",y)}}else m("ANIMATION_END")},[e,m]),{isPresent:["mounted","unmountSuspended"].includes(h),ref:w.useCallback(p=>{r.current=p?getComputedStyle(p):null,t(p)},[])}}function Zp(n){return(n==null?void 0:n.animationName)||"none"}function WO(n){var r,o;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(o=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:o.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Yg="Tabs",[HO,JU]=ts(Yg,[Kg]),wj=Kg(),[VO,py]=HO(Yg),_j=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:o,defaultValue:c,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=n,v=Zh(h),[y,b]=La({prop:r,onChange:o,defaultProp:c??"",caller:Yg});return a.jsx(VO,{scope:t,baseId:ws(),value:y,onValueChange:b,orientation:u,dir:v,activationMode:m,children:a.jsx(nt.div,{dir:v,"data-orientation":u,...p,ref:e})})});_j.displayName=Yg;var bj="TabsList",jj=w.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...o}=n,c=py(bj,t),u=wj(t);return a.jsx(vj,{asChild:!0,...u,orientation:c.orientation,dir:c.dir,loop:r,children:a.jsx(nt.div,{role:"tablist","aria-orientation":c.orientation,...o,ref:e})})});jj.displayName=bj;var Sj="TabsTrigger",Nj=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:o=!1,...c}=n,u=py(Sj,t),h=wj(t),m=Ej(u.baseId,r),p=Pj(u.baseId,r),v=r===u.value;return a.jsx(yj,{asChild:!0,...h,focusable:!o,active:v,children:a.jsx(nt.button,{type:"button",role:"tab","aria-selected":v,"aria-controls":p,"data-state":v?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:m,...c,ref:e,onMouseDown:Ge(n.onMouseDown,y=>{!o&&y.button===0&&y.ctrlKey===!1?u.onValueChange(r):y.preventDefault()}),onKeyDown:Ge(n.onKeyDown,y=>{[" ","Enter"].includes(y.key)&&u.onValueChange(r)}),onFocus:Ge(n.onFocus,()=>{const y=u.activationMode!=="manual";!v&&!o&&y&&u.onValueChange(r)})})})});Nj.displayName=Sj;var kj="TabsContent",Cj=w.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:o,children:c,...u}=n,h=py(kj,t),m=Ej(h.baseId,r),p=Pj(h.baseId,r),v=r===h.value,y=w.useRef(v);return w.useEffect(()=>{const b=requestAnimationFrame(()=>y.current=!1);return()=>cancelAnimationFrame(b)},[]),a.jsx(ta,{present:o||v,children:({present:b})=>a.jsx(nt.div,{"data-state":v?"active":"inactive","data-orientation":h.orientation,role:"tabpanel","aria-labelledby":m,hidden:!b,id:p,tabIndex:0,...u,ref:e,style:{...n.style,animationDuration:y.current?"0s":void 0},children:b&&c})})});Cj.displayName=kj;function Ej(n,e){return`${n}-trigger-${e}`}function Pj(n,e){return`${n}-content-${e}`}var GO=_j,Rj=jj,Tj=Nj,Aj=Cj;const Rd=GO,mc=w.forwardRef(({className:n,...e},t)=>a.jsx(Rj,{ref:t,className:Be("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",n),...e}));mc.displayName=Rj.displayName;const fn=w.forwardRef(({className:n,...e},t)=>a.jsx(Tj,{ref:t,className:Be("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",n),...e}));fn.displayName=Tj.displayName;const hn=w.forwardRef(({className:n,...e},t)=>a.jsx(Aj,{ref:t,className:Be("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",n),...e}));hn.displayName=Aj.displayName;/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ij=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YO=w.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:u,...h},m)=>w.createElement("svg",{ref:m,...KO,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:Ij("lucide",o),...h},[...u.map(([p,v])=>w.createElement(p,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ae=(n,e)=>{const t=w.forwardRef(({className:r,...o},c)=>w.createElement(YO,{ref:c,iconNode:e,className:Ij(`lucide-${qO(n)}`,r),...o}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JO=[["path",{d:"M6 12H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"larmp2"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"M18.3 17.7a2.5 2.5 0 0 1-3.16 3.83 2.53 2.53 0 0 1-1.14-2V12",key:"1bo8pg"}],["path",{d:"M6.6 15.6A2 2 0 1 0 10 17v-5",key:"t9h90c"}]],Ti=Ae("AirVent",JO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XO=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],QO=Ae("ArrowLeft",XO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZO=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],Mj=Ae("Bed",ZO);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eD=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],tD=Ae("Bot",eD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],rD=Ae("CalendarDays",nD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sD=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],$i=Ae("Calendar",sD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aD=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Ai=Ae("Car",aD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oD=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],iD=Ae("ChartColumn",oD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lD=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Rh=Ae("CheckCheck",lD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cD=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],$a=Ae("Check",cD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uD=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],gy=Ae("ChevronDown",uD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dD=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fD=Ae("ChevronLeft",dD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hD=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Oj=Ae("ChevronRight",hD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mD=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],pD=Ae("ChevronUp",mD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],_s=Ae("CircleAlert",gD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xD=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Fi=Ae("CircleCheckBig",xD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],yD=Ae("CirclePlus",vD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],_D=Ae("Circle",wD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],md=Ae("Clock",bD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jD=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],SD=Ae("Cloud",jD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],xy=Ae("CreditCard",ND);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Dj=Ae("DollarSign",kD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CD=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Sg=Ae("Download",CD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ED=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],PD=Ae("EllipsisVertical",ED);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Ng=Ae("FileText",RD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TD=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AD=Ae("FileWarning",TD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]],tm=Ae("Filter",ID);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MD=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],D0=Ae("Gift",MD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Lj=Ae("Globe",OD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]],LD=Ae("GripVertical",DD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $D=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],FD=Ae("Heart",$D);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zD=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],UD=Ae("History",zD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BD=[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],$j=Ae("Hotel",BD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WD=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Do=Ae("House",WD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HD=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],VD=Ae("Info",HD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GD=[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]],qD=Ae("Laptop",GD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],pd=Ae("LoaderCircle",KD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],gd=Ae("LogIn",YD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Ii=Ae("LogOut",JD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Jg=Ae("Mail",XD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],nm=Ae("MapPin",QD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],kg=Ae("MessageCircle",ZD);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e4=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],t4=Ae("Package",e4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n4=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],r4=Ae("Paperclip",n4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Hi=Ae("Phone",s4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]],o4=Ae("Play",a4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i4=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$h=Ae("Plus",i4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l4=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],c4=Ae("Printer",l4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u4=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],zi=Ae("RefreshCw",u4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d4=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Fj=Ae("Save",d4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],ac=Ae("Search",f4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h4=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],vy=Ae("Send",h4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m4=[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]],J_=Ae("Server",m4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p4=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],X_=Ae("Settings",p4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g4=[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]],x4=Ae("Share",g4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v4=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],y4=Ae("Shield",v4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],_4=Ae("Smile",w4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b4=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],j4=Ae("Sparkles",b4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S4=[["path",{d:"M21 10.5V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.5",key:"1uzm8b"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],L0=Ae("SquareCheckBig",S4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N4=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],k4=Ae("SquarePen",N4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C4=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],$0=Ae("Star",C4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E4=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Kv=Ae("Trash2",E4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P4=[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]],R4=Ae("TrendingDown",P4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T4=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],zj=Ae("TrendingUp",T4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A4=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],I4=Ae("TriangleAlert",A4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M4=[["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",ry:"2",key:"10ag99"}],["polyline",{points:"17 2 12 7 7 2",key:"11pgbg"}]],Mi=Ae("Tv",M4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O4=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],D4=Ae("Upload",O4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],$4=Ae("UserCheck",L4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F4=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xs=Ae("User",F4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z4=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],yy=Ae("Users",z4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U4=[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]],xd=Ae("Utensils",U4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B4=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],W4=Ae("Video",B4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H4=[["path",{d:"M18 16.98h-5.99c-1.1 0-1.95.94-2.48 1.9A4 4 0 0 1 2 17c.01-.7.2-1.4.57-2",key:"q3hayz"}],["path",{d:"m6 17 3.13-5.78c.53-.97.1-2.18-.5-3.1a4 4 0 1 1 6.89-4.06",key:"1go1hn"}],["path",{d:"m12 6 3.13 5.73C15.66 12.7 16.9 13 18 13a4 4 0 0 1 0 8",key:"qlwsc0"}]],Uj=Ae("Webhook",H4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V4=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Oi=Ae("Wifi",V4);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],wy=Ae("X",G4);function q4(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n);w.useEffect(()=>{const r=o=>{o.key==="Escape"&&t(o)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var K4="DismissableLayer",F0="dismissableLayer.update",Y4="dismissableLayer.pointerDownOutside",J4="dismissableLayer.focusOutside",Q_,Bj=w.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Xg=w.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:o,onFocusOutside:c,onInteractOutside:u,onDismiss:h,...m}=n,p=w.useContext(Bj),[v,y]=w.useState(null),b=(v==null?void 0:v.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,C]=w.useState({}),E=Rt(e,F=>y(F)),P=Array.from(p.layers),[N]=[...p.layersWithOutsidePointerEventsDisabled].slice(-1),R=P.indexOf(N),k=v?P.indexOf(v):-1,T=p.layersWithOutsidePointerEventsDisabled.size>0,M=k>=R,I=Z4(F=>{const z=F.target,q=[...p.branches].some(X=>X.contains(z));!M||q||(o==null||o(F),u==null||u(F),F.defaultPrevented||h==null||h())},b),D=eL(F=>{const z=F.target;[...p.branches].some(X=>X.contains(z))||(c==null||c(F),u==null||u(F),F.defaultPrevented||h==null||h())},b);return q4(F=>{k===p.layers.size-1&&(r==null||r(F),!F.defaultPrevented&&h&&(F.preventDefault(),h()))},b),w.useEffect(()=>{if(v)return t&&(p.layersWithOutsidePointerEventsDisabled.size===0&&(Q_=b.body.style.pointerEvents,b.body.style.pointerEvents="none"),p.layersWithOutsidePointerEventsDisabled.add(v)),p.layers.add(v),Z_(),()=>{t&&p.layersWithOutsidePointerEventsDisabled.size===1&&(b.body.style.pointerEvents=Q_)}},[v,b,t,p]),w.useEffect(()=>()=>{v&&(p.layers.delete(v),p.layersWithOutsidePointerEventsDisabled.delete(v),Z_())},[v,p]),w.useEffect(()=>{const F=()=>C({});return document.addEventListener(F0,F),()=>document.removeEventListener(F0,F)},[]),a.jsx(nt.div,{...m,ref:E,style:{pointerEvents:T?M?"auto":"none":void 0,...n.style},onFocusCapture:Ge(n.onFocusCapture,D.onFocusCapture),onBlurCapture:Ge(n.onBlurCapture,D.onBlurCapture),onPointerDownCapture:Ge(n.onPointerDownCapture,I.onPointerDownCapture)})});Xg.displayName=K4;var X4="DismissableLayerBranch",Q4=w.forwardRef((n,e)=>{const t=w.useContext(Bj),r=w.useRef(null),o=Rt(e,r);return w.useEffect(()=>{const c=r.current;if(c)return t.branches.add(c),()=>{t.branches.delete(c)}},[t.branches]),a.jsx(nt.div,{...n,ref:o})});Q4.displayName=X4;function Z4(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n),r=w.useRef(!1),o=w.useRef(()=>{});return w.useEffect(()=>{const c=h=>{if(h.target&&!r.current){let m=function(){Wj(Y4,t,p,{discrete:!0})};const p={originalEvent:h};h.pointerType==="touch"?(e.removeEventListener("click",o.current),o.current=m,e.addEventListener("click",o.current,{once:!0})):m()}else e.removeEventListener("click",o.current);r.current=!1},u=window.setTimeout(()=>{e.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(u),e.removeEventListener("pointerdown",c),e.removeEventListener("click",o.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function eL(n,e=globalThis==null?void 0:globalThis.document){const t=Js(n),r=w.useRef(!1);return w.useEffect(()=>{const o=c=>{c.target&&!r.current&&Wj(J4,t,{originalEvent:c},{discrete:!1})};return e.addEventListener("focusin",o),()=>e.removeEventListener("focusin",o)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Z_(){const n=new CustomEvent(F0);document.dispatchEvent(n)}function Wj(n,e,t,{discrete:r}){const o=t.originalEvent.target,c=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&o.addEventListener(n,e,{once:!0}),r?uj(o,c):o.dispatchEvent(c)}var Yv=0;function _y(){w.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??eb()),document.body.insertAdjacentElement("beforeend",n[1]??eb()),Yv++,()=>{Yv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Yv--}},[])}function eb(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var Jv="focusScope.autoFocusOnMount",Xv="focusScope.autoFocusOnUnmount",tb={bubbles:!1,cancelable:!0},tL="FocusScope",Qg=w.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:o,onUnmountAutoFocus:c,...u}=n,[h,m]=w.useState(null),p=Js(o),v=Js(c),y=w.useRef(null),b=Rt(e,P=>m(P)),C=w.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;w.useEffect(()=>{if(r){let P=function(T){if(C.paused||!h)return;const M=T.target;h.contains(M)?y.current=M:Ei(y.current,{select:!0})},N=function(T){if(C.paused||!h)return;const M=T.relatedTarget;M!==null&&(h.contains(M)||Ei(y.current,{select:!0}))},R=function(T){if(document.activeElement===document.body)for(const I of T)I.removedNodes.length>0&&Ei(h)};document.addEventListener("focusin",P),document.addEventListener("focusout",N);const k=new MutationObserver(R);return h&&k.observe(h,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",P),document.removeEventListener("focusout",N),k.disconnect()}}},[r,h,C.paused]),w.useEffect(()=>{if(h){rb.add(C);const P=document.activeElement;if(!h.contains(P)){const R=new CustomEvent(Jv,tb);h.addEventListener(Jv,p),h.dispatchEvent(R),R.defaultPrevented||(nL(iL(Hj(h)),{select:!0}),document.activeElement===P&&Ei(h))}return()=>{h.removeEventListener(Jv,p),setTimeout(()=>{const R=new CustomEvent(Xv,tb);h.addEventListener(Xv,v),h.dispatchEvent(R),R.defaultPrevented||Ei(P??document.body,{select:!0}),h.removeEventListener(Xv,v),rb.remove(C)},0)}}},[h,p,v,C]);const E=w.useCallback(P=>{if(!t&&!r||C.paused)return;const N=P.key==="Tab"&&!P.altKey&&!P.ctrlKey&&!P.metaKey,R=document.activeElement;if(N&&R){const k=P.currentTarget,[T,M]=rL(k);T&&M?!P.shiftKey&&R===M?(P.preventDefault(),t&&Ei(T,{select:!0})):P.shiftKey&&R===T&&(P.preventDefault(),t&&Ei(M,{select:!0})):R===k&&P.preventDefault()}},[t,r,C.paused]);return a.jsx(nt.div,{tabIndex:-1,...u,ref:b,onKeyDown:E})});Qg.displayName=tL;function nL(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if(Ei(r,{select:e}),document.activeElement!==t)return}function rL(n){const e=Hj(n),t=nb(e,n),r=nb(e.reverse(),n);return[t,r]}function Hj(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const o=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||o?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function nb(n,e){for(const t of n)if(!sL(t,{upTo:e}))return t}function sL(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function aL(n){return n instanceof HTMLInputElement&&"select"in n}function Ei(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&aL(n)&&e&&n.select()}}var rb=oL();function oL(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=sb(n,e),n.unshift(e)},remove(e){var t;n=sb(n,e),(t=n[0])==null||t.resume()}}}function sb(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function iL(n){return n.filter(e=>e.tagName!=="A")}const lL=["top","right","bottom","left"],Ui=Math.min,Qr=Math.max,Cg=Math.round,eg=Math.floor,Da=n=>({x:n,y:n}),cL={left:"right",right:"left",bottom:"top",top:"bottom"},uL={start:"end",end:"start"};function z0(n,e,t){return Qr(n,Ui(e,t))}function Lo(n,e){return typeof n=="function"?n(e):n}function $o(n){return n.split("-")[0]}function Td(n){return n.split("-")[1]}function by(n){return n==="x"?"y":"x"}function jy(n){return n==="y"?"height":"width"}const dL=new Set(["top","bottom"]);function Ia(n){return dL.has($o(n))?"y":"x"}function Sy(n){return by(Ia(n))}function fL(n,e,t){t===void 0&&(t=!1);const r=Td(n),o=Sy(n),c=jy(o);let u=o==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[c]>e.floating[c]&&(u=Eg(u)),[u,Eg(u)]}function hL(n){const e=Eg(n);return[U0(n),e,U0(e)]}function U0(n){return n.replace(/start|end/g,e=>uL[e])}const ab=["left","right"],ob=["right","left"],mL=["top","bottom"],pL=["bottom","top"];function gL(n,e,t){switch(n){case"top":case"bottom":return t?e?ob:ab:e?ab:ob;case"left":case"right":return e?mL:pL;default:return[]}}function xL(n,e,t,r){const o=Td(n);let c=gL($o(n),t==="start",r);return o&&(c=c.map(u=>u+"-"+o),e&&(c=c.concat(c.map(U0)))),c}function Eg(n){return n.replace(/left|right|bottom|top/g,e=>cL[e])}function vL(n){return{top:0,right:0,bottom:0,left:0,...n}}function Vj(n){return typeof n!="number"?vL(n):{top:n,right:n,bottom:n,left:n}}function Pg(n){const{x:e,y:t,width:r,height:o}=n;return{width:r,height:o,top:t,left:e,right:e+r,bottom:t+o,x:e,y:t}}function ib(n,e,t){let{reference:r,floating:o}=n;const c=Ia(e),u=Sy(e),h=jy(u),m=$o(e),p=c==="y",v=r.x+r.width/2-o.width/2,y=r.y+r.height/2-o.height/2,b=r[h]/2-o[h]/2;let C;switch(m){case"top":C={x:v,y:r.y-o.height};break;case"bottom":C={x:v,y:r.y+r.height};break;case"right":C={x:r.x+r.width,y};break;case"left":C={x:r.x-o.width,y};break;default:C={x:r.x,y:r.y}}switch(Td(e)){case"start":C[u]-=b*(t&&p?-1:1);break;case"end":C[u]+=b*(t&&p?-1:1);break}return C}const yL=async(n,e,t)=>{const{placement:r="bottom",strategy:o="absolute",middleware:c=[],platform:u}=t,h=c.filter(Boolean),m=await(u.isRTL==null?void 0:u.isRTL(e));let p=await u.getElementRects({reference:n,floating:e,strategy:o}),{x:v,y}=ib(p,r,m),b=r,C={},E=0;for(let P=0;P<h.length;P++){const{name:N,fn:R}=h[P],{x:k,y:T,data:M,reset:I}=await R({x:v,y,initialPlacement:r,placement:b,strategy:o,middlewareData:C,rects:p,platform:u,elements:{reference:n,floating:e}});v=k??v,y=T??y,C={...C,[N]:{...C[N],...M}},I&&E<=50&&(E++,typeof I=="object"&&(I.placement&&(b=I.placement),I.rects&&(p=I.rects===!0?await u.getElementRects({reference:n,floating:e,strategy:o}):I.rects),{x:v,y}=ib(p,b,m)),P=-1)}return{x:v,y,placement:b,strategy:o,middlewareData:C}};async function Fh(n,e){var t;e===void 0&&(e={});const{x:r,y:o,platform:c,rects:u,elements:h,strategy:m}=n,{boundary:p="clippingAncestors",rootBoundary:v="viewport",elementContext:y="floating",altBoundary:b=!1,padding:C=0}=Lo(e,n),E=Vj(C),N=h[b?y==="floating"?"reference":"floating":y],R=Pg(await c.getClippingRect({element:(t=await(c.isElement==null?void 0:c.isElement(N)))==null||t?N:N.contextElement||await(c.getDocumentElement==null?void 0:c.getDocumentElement(h.floating)),boundary:p,rootBoundary:v,strategy:m})),k=y==="floating"?{x:r,y:o,width:u.floating.width,height:u.floating.height}:u.reference,T=await(c.getOffsetParent==null?void 0:c.getOffsetParent(h.floating)),M=await(c.isElement==null?void 0:c.isElement(T))?await(c.getScale==null?void 0:c.getScale(T))||{x:1,y:1}:{x:1,y:1},I=Pg(c.convertOffsetParentRelativeRectToViewportRelativeRect?await c.convertOffsetParentRelativeRectToViewportRelativeRect({elements:h,rect:k,offsetParent:T,strategy:m}):k);return{top:(R.top-I.top+E.top)/M.y,bottom:(I.bottom-R.bottom+E.bottom)/M.y,left:(R.left-I.left+E.left)/M.x,right:(I.right-R.right+E.right)/M.x}}const wL=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:o,rects:c,platform:u,elements:h,middlewareData:m}=e,{element:p,padding:v=0}=Lo(n,e)||{};if(p==null)return{};const y=Vj(v),b={x:t,y:r},C=Sy(o),E=jy(C),P=await u.getDimensions(p),N=C==="y",R=N?"top":"left",k=N?"bottom":"right",T=N?"clientHeight":"clientWidth",M=c.reference[E]+c.reference[C]-b[C]-c.floating[E],I=b[C]-c.reference[C],D=await(u.getOffsetParent==null?void 0:u.getOffsetParent(p));let F=D?D[T]:0;(!F||!await(u.isElement==null?void 0:u.isElement(D)))&&(F=h.floating[T]||c.floating[E]);const z=M/2-I/2,q=F/2-P[E]/2-1,X=Ui(y[R],q),re=Ui(y[k],q),ie=X,me=F-P[E]-re,pe=F/2-P[E]/2+z,ke=z0(ie,pe,me),ge=!m.arrow&&Td(o)!=null&&pe!==ke&&c.reference[E]/2-(pe<ie?X:re)-P[E]/2<0,be=ge?pe<ie?pe-ie:pe-me:0;return{[C]:b[C]+be,data:{[C]:ke,centerOffset:pe-ke-be,...ge&&{alignmentOffset:be}},reset:ge}}}),_L=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:o,middlewareData:c,rects:u,initialPlacement:h,platform:m,elements:p}=e,{mainAxis:v=!0,crossAxis:y=!0,fallbackPlacements:b,fallbackStrategy:C="bestFit",fallbackAxisSideDirection:E="none",flipAlignment:P=!0,...N}=Lo(n,e);if((t=c.arrow)!=null&&t.alignmentOffset)return{};const R=$o(o),k=Ia(h),T=$o(h)===h,M=await(m.isRTL==null?void 0:m.isRTL(p.floating)),I=b||(T||!P?[Eg(h)]:hL(h)),D=E!=="none";!b&&D&&I.push(...xL(h,P,E,M));const F=[h,...I],z=await Fh(e,N),q=[];let X=((r=c.flip)==null?void 0:r.overflows)||[];if(v&&q.push(z[R]),y){const pe=fL(o,u,M);q.push(z[pe[0]],z[pe[1]])}if(X=[...X,{placement:o,overflows:q}],!q.every(pe=>pe<=0)){var re,ie;const pe=(((re=c.flip)==null?void 0:re.index)||0)+1,ke=F[pe];if(ke&&(!(y==="alignment"?k!==Ia(ke):!1)||X.every(W=>W.overflows[0]>0&&Ia(W.placement)===k)))return{data:{index:pe,overflows:X},reset:{placement:ke}};let ge=(ie=X.filter(be=>be.overflows[0]<=0).sort((be,W)=>be.overflows[1]-W.overflows[1])[0])==null?void 0:ie.placement;if(!ge)switch(C){case"bestFit":{var me;const be=(me=X.filter(W=>{if(D){const K=Ia(W.placement);return K===k||K==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(K=>K>0).reduce((K,ne)=>K+ne,0)]).sort((W,K)=>W[1]-K[1])[0])==null?void 0:me[0];be&&(ge=be);break}case"initialPlacement":ge=h;break}if(o!==ge)return{reset:{placement:ge}}}return{}}}};function lb(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function cb(n){return lL.some(e=>n[e]>=0)}const bL=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...o}=Lo(n,e);switch(r){case"referenceHidden":{const c=await Fh(e,{...o,elementContext:"reference"}),u=lb(c,t.reference);return{data:{referenceHiddenOffsets:u,referenceHidden:cb(u)}}}case"escaped":{const c=await Fh(e,{...o,altBoundary:!0}),u=lb(c,t.floating);return{data:{escapedOffsets:u,escaped:cb(u)}}}default:return{}}}}},Gj=new Set(["left","top"]);async function jL(n,e){const{placement:t,platform:r,elements:o}=n,c=await(r.isRTL==null?void 0:r.isRTL(o.floating)),u=$o(t),h=Td(t),m=Ia(t)==="y",p=Gj.has(u)?-1:1,v=c&&m?-1:1,y=Lo(e,n);let{mainAxis:b,crossAxis:C,alignmentAxis:E}=typeof y=="number"?{mainAxis:y,crossAxis:0,alignmentAxis:null}:{mainAxis:y.mainAxis||0,crossAxis:y.crossAxis||0,alignmentAxis:y.alignmentAxis};return h&&typeof E=="number"&&(C=h==="end"?E*-1:E),m?{x:C*v,y:b*p}:{x:b*p,y:C*v}}const SL=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:o,y:c,placement:u,middlewareData:h}=e,m=await jL(e,n);return u===((t=h.offset)==null?void 0:t.placement)&&(r=h.arrow)!=null&&r.alignmentOffset?{}:{x:o+m.x,y:c+m.y,data:{...m,placement:u}}}}},NL=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:o}=e,{mainAxis:c=!0,crossAxis:u=!1,limiter:h={fn:N=>{let{x:R,y:k}=N;return{x:R,y:k}}},...m}=Lo(n,e),p={x:t,y:r},v=await Fh(e,m),y=Ia($o(o)),b=by(y);let C=p[b],E=p[y];if(c){const N=b==="y"?"top":"left",R=b==="y"?"bottom":"right",k=C+v[N],T=C-v[R];C=z0(k,C,T)}if(u){const N=y==="y"?"top":"left",R=y==="y"?"bottom":"right",k=E+v[N],T=E-v[R];E=z0(k,E,T)}const P=h.fn({...e,[b]:C,[y]:E});return{...P,data:{x:P.x-t,y:P.y-r,enabled:{[b]:c,[y]:u}}}}}},kL=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:o,rects:c,middlewareData:u}=e,{offset:h=0,mainAxis:m=!0,crossAxis:p=!0}=Lo(n,e),v={x:t,y:r},y=Ia(o),b=by(y);let C=v[b],E=v[y];const P=Lo(h,e),N=typeof P=="number"?{mainAxis:P,crossAxis:0}:{mainAxis:0,crossAxis:0,...P};if(m){const T=b==="y"?"height":"width",M=c.reference[b]-c.floating[T]+N.mainAxis,I=c.reference[b]+c.reference[T]-N.mainAxis;C<M?C=M:C>I&&(C=I)}if(p){var R,k;const T=b==="y"?"width":"height",M=Gj.has($o(o)),I=c.reference[y]-c.floating[T]+(M&&((R=u.offset)==null?void 0:R[y])||0)+(M?0:N.crossAxis),D=c.reference[y]+c.reference[T]+(M?0:((k=u.offset)==null?void 0:k[y])||0)-(M?N.crossAxis:0);E<I?E=I:E>D&&(E=D)}return{[b]:C,[y]:E}}}},CL=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:o,rects:c,platform:u,elements:h}=e,{apply:m=()=>{},...p}=Lo(n,e),v=await Fh(e,p),y=$o(o),b=Td(o),C=Ia(o)==="y",{width:E,height:P}=c.floating;let N,R;y==="top"||y==="bottom"?(N=y,R=b===(await(u.isRTL==null?void 0:u.isRTL(h.floating))?"start":"end")?"left":"right"):(R=y,N=b==="end"?"top":"bottom");const k=P-v.top-v.bottom,T=E-v.left-v.right,M=Ui(P-v[N],k),I=Ui(E-v[R],T),D=!e.middlewareData.shift;let F=M,z=I;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(z=T),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(F=k),D&&!b){const X=Qr(v.left,0),re=Qr(v.right,0),ie=Qr(v.top,0),me=Qr(v.bottom,0);C?z=E-2*(X!==0||re!==0?X+re:Qr(v.left,v.right)):F=P-2*(ie!==0||me!==0?ie+me:Qr(v.top,v.bottom))}await m({...e,availableWidth:z,availableHeight:F});const q=await u.getDimensions(h.floating);return E!==q.width||P!==q.height?{reset:{rects:!0}}:{}}}};function Zg(){return typeof window<"u"}function Ad(n){return qj(n)?(n.nodeName||"").toLowerCase():"#document"}function Zr(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function Wa(n){var e;return(e=(qj(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function qj(n){return Zg()?n instanceof Node||n instanceof Zr(n).Node:!1}function Qs(n){return Zg()?n instanceof Element||n instanceof Zr(n).Element:!1}function Fa(n){return Zg()?n instanceof HTMLElement||n instanceof Zr(n).HTMLElement:!1}function ub(n){return!Zg()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Zr(n).ShadowRoot}const EL=new Set(["inline","contents"]);function rm(n){const{overflow:e,overflowX:t,overflowY:r,display:o}=Zs(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!EL.has(o)}const PL=new Set(["table","td","th"]);function RL(n){return PL.has(Ad(n))}const TL=[":popover-open",":modal"];function ex(n){return TL.some(e=>{try{return n.matches(e)}catch{return!1}})}const AL=["transform","translate","scale","rotate","perspective"],IL=["transform","translate","scale","rotate","perspective","filter"],ML=["paint","layout","strict","content"];function Ny(n){const e=ky(),t=Qs(n)?Zs(n):n;return AL.some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||IL.some(r=>(t.willChange||"").includes(r))||ML.some(r=>(t.contain||"").includes(r))}function OL(n){let e=Bi(n);for(;Fa(e)&&!jd(e);){if(Ny(e))return e;if(ex(e))return null;e=Bi(e)}return null}function ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const DL=new Set(["html","body","#document"]);function jd(n){return DL.has(Ad(n))}function Zs(n){return Zr(n).getComputedStyle(n)}function tx(n){return Qs(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function Bi(n){if(Ad(n)==="html")return n;const e=n.assignedSlot||n.parentNode||ub(n)&&n.host||Wa(n);return ub(e)?e.host:e}function Kj(n){const e=Bi(n);return jd(e)?n.ownerDocument?n.ownerDocument.body:n.body:Fa(e)&&rm(e)?e:Kj(e)}function zh(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const o=Kj(n),c=o===((r=n.ownerDocument)==null?void 0:r.body),u=Zr(o);if(c){const h=B0(u);return e.concat(u,u.visualViewport||[],rm(o)?o:[],h&&t?zh(h):[])}return e.concat(o,zh(o,[],t))}function B0(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function Yj(n){const e=Zs(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=Fa(n),c=o?n.offsetWidth:t,u=o?n.offsetHeight:r,h=Cg(t)!==c||Cg(r)!==u;return h&&(t=c,r=u),{width:t,height:r,$:h}}function Cy(n){return Qs(n)?n:n.contextElement}function vd(n){const e=Cy(n);if(!Fa(e))return Da(1);const t=e.getBoundingClientRect(),{width:r,height:o,$:c}=Yj(e);let u=(c?Cg(t.width):t.width)/r,h=(c?Cg(t.height):t.height)/o;return(!u||!Number.isFinite(u))&&(u=1),(!h||!Number.isFinite(h))&&(h=1),{x:u,y:h}}const LL=Da(0);function Jj(n){const e=Zr(n);return!ky()||!e.visualViewport?LL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function $L(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Zr(n)?!1:e}function oc(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const o=n.getBoundingClientRect(),c=Cy(n);let u=Da(1);e&&(r?Qs(r)&&(u=vd(r)):u=vd(n));const h=$L(c,t,r)?Jj(c):Da(0);let m=(o.left+h.x)/u.x,p=(o.top+h.y)/u.y,v=o.width/u.x,y=o.height/u.y;if(c){const b=Zr(c),C=r&&Qs(r)?Zr(r):r;let E=b,P=B0(E);for(;P&&r&&C!==E;){const N=vd(P),R=P.getBoundingClientRect(),k=Zs(P),T=R.left+(P.clientLeft+parseFloat(k.paddingLeft))*N.x,M=R.top+(P.clientTop+parseFloat(k.paddingTop))*N.y;m*=N.x,p*=N.y,v*=N.x,y*=N.y,m+=T,p+=M,E=Zr(P),P=B0(E)}}return Pg({width:v,height:y,x:m,y:p})}function Ey(n,e){const t=tx(n).scrollLeft;return e?e.left+t:oc(Wa(n)).left+t}function Xj(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),o=r.left+e.scrollLeft-(t?0:Ey(n,r)),c=r.top+e.scrollTop;return{x:o,y:c}}function FL(n){let{elements:e,rect:t,offsetParent:r,strategy:o}=n;const c=o==="fixed",u=Wa(r),h=e?ex(e.floating):!1;if(r===u||h&&c)return t;let m={scrollLeft:0,scrollTop:0},p=Da(1);const v=Da(0),y=Fa(r);if((y||!y&&!c)&&((Ad(r)!=="body"||rm(u))&&(m=tx(r)),Fa(r))){const C=oc(r);p=vd(r),v.x=C.x+r.clientLeft,v.y=C.y+r.clientTop}const b=u&&!y&&!c?Xj(u,m,!0):Da(0);return{width:t.width*p.x,height:t.height*p.y,x:t.x*p.x-m.scrollLeft*p.x+v.x+b.x,y:t.y*p.y-m.scrollTop*p.y+v.y+b.y}}function zL(n){return Array.from(n.getClientRects())}function UL(n){const e=Wa(n),t=tx(n),r=n.ownerDocument.body,o=Qr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),c=Qr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let u=-t.scrollLeft+Ey(n);const h=-t.scrollTop;return Zs(r).direction==="rtl"&&(u+=Qr(e.clientWidth,r.clientWidth)-o),{width:o,height:c,x:u,y:h}}function BL(n,e){const t=Zr(n),r=Wa(n),o=t.visualViewport;let c=r.clientWidth,u=r.clientHeight,h=0,m=0;if(o){c=o.width,u=o.height;const p=ky();(!p||p&&e==="fixed")&&(h=o.offsetLeft,m=o.offsetTop)}return{width:c,height:u,x:h,y:m}}const WL=new Set(["absolute","fixed"]);function HL(n,e){const t=oc(n,!0,e==="fixed"),r=t.top+n.clientTop,o=t.left+n.clientLeft,c=Fa(n)?vd(n):Da(1),u=n.clientWidth*c.x,h=n.clientHeight*c.y,m=o*c.x,p=r*c.y;return{width:u,height:h,x:m,y:p}}function db(n,e,t){let r;if(e==="viewport")r=BL(n,t);else if(e==="document")r=UL(Wa(n));else if(Qs(e))r=HL(e,t);else{const o=Jj(n);r={x:e.x-o.x,y:e.y-o.y,width:e.width,height:e.height}}return Pg(r)}function Qj(n,e){const t=Bi(n);return t===e||!Qs(t)||jd(t)?!1:Zs(t).position==="fixed"||Qj(t,e)}function VL(n,e){const t=e.get(n);if(t)return t;let r=zh(n,[],!1).filter(h=>Qs(h)&&Ad(h)!=="body"),o=null;const c=Zs(n).position==="fixed";let u=c?Bi(n):n;for(;Qs(u)&&!jd(u);){const h=Zs(u),m=Ny(u);!m&&h.position==="fixed"&&(o=null),(c?!m&&!o:!m&&h.position==="static"&&!!o&&WL.has(o.position)||rm(u)&&!m&&Qj(n,u))?r=r.filter(v=>v!==u):o=h,u=Bi(u)}return e.set(n,r),r}function GL(n){let{element:e,boundary:t,rootBoundary:r,strategy:o}=n;const u=[...t==="clippingAncestors"?ex(e)?[]:VL(e,this._c):[].concat(t),r],h=u[0],m=u.reduce((p,v)=>{const y=db(e,v,o);return p.top=Qr(y.top,p.top),p.right=Ui(y.right,p.right),p.bottom=Ui(y.bottom,p.bottom),p.left=Qr(y.left,p.left),p},db(e,h,o));return{width:m.right-m.left,height:m.bottom-m.top,x:m.left,y:m.top}}function qL(n){const{width:e,height:t}=Yj(n);return{width:e,height:t}}function KL(n,e,t){const r=Fa(e),o=Wa(e),c=t==="fixed",u=oc(n,!0,c,e);let h={scrollLeft:0,scrollTop:0};const m=Da(0);function p(){m.x=Ey(o)}if(r||!r&&!c)if((Ad(e)!=="body"||rm(o))&&(h=tx(e)),r){const C=oc(e,!0,c,e);m.x=C.x+e.clientLeft,m.y=C.y+e.clientTop}else o&&p();c&&!r&&o&&p();const v=o&&!r&&!c?Xj(o,h):Da(0),y=u.left+h.scrollLeft-m.x-v.x,b=u.top+h.scrollTop-m.y-v.y;return{x:y,y:b,width:u.width,height:u.height}}function Qv(n){return Zs(n).position==="static"}function fb(n,e){if(!Fa(n)||Zs(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return Wa(n)===t&&(t=t.ownerDocument.body),t}function Zj(n,e){const t=Zr(n);if(ex(n))return t;if(!Fa(n)){let o=Bi(n);for(;o&&!jd(o);){if(Qs(o)&&!Qv(o))return o;o=Bi(o)}return t}let r=fb(n,e);for(;r&&RL(r)&&Qv(r);)r=fb(r,e);return r&&jd(r)&&Qv(r)&&!Ny(r)?t:r||OL(n)||t}const YL=async function(n){const e=this.getOffsetParent||Zj,t=this.getDimensions,r=await t(n.floating);return{reference:KL(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JL(n){return Zs(n).direction==="rtl"}const XL={convertOffsetParentRelativeRectToViewportRelativeRect:FL,getDocumentElement:Wa,getClippingRect:GL,getOffsetParent:Zj,getElementRects:YL,getClientRects:zL,getDimensions:qL,getScale:vd,isElement:Qs,isRTL:JL};function eS(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function QL(n,e){let t=null,r;const o=Wa(n);function c(){var h;clearTimeout(r),(h=t)==null||h.disconnect(),t=null}function u(h,m){h===void 0&&(h=!1),m===void 0&&(m=1),c();const p=n.getBoundingClientRect(),{left:v,top:y,width:b,height:C}=p;if(h||e(),!b||!C)return;const E=eg(y),P=eg(o.clientWidth-(v+b)),N=eg(o.clientHeight-(y+C)),R=eg(v),T={rootMargin:-E+"px "+-P+"px "+-N+"px "+-R+"px",threshold:Qr(0,Ui(1,m))||1};let M=!0;function I(D){const F=D[0].intersectionRatio;if(F!==m){if(!M)return u();F?u(!1,F):r=setTimeout(()=>{u(!1,1e-7)},1e3)}F===1&&!eS(p,n.getBoundingClientRect())&&u(),M=!1}try{t=new IntersectionObserver(I,{...T,root:o.ownerDocument})}catch{t=new IntersectionObserver(I,T)}t.observe(n)}return u(!0),c}function ZL(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:o=!0,ancestorResize:c=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:h=typeof IntersectionObserver=="function",animationFrame:m=!1}=r,p=Cy(n),v=o||c?[...p?zh(p):[],...zh(e)]:[];v.forEach(R=>{o&&R.addEventListener("scroll",t,{passive:!0}),c&&R.addEventListener("resize",t)});const y=p&&h?QL(p,t):null;let b=-1,C=null;u&&(C=new ResizeObserver(R=>{let[k]=R;k&&k.target===p&&C&&(C.unobserve(e),cancelAnimationFrame(b),b=requestAnimationFrame(()=>{var T;(T=C)==null||T.observe(e)})),t()}),p&&!m&&C.observe(p),C.observe(e));let E,P=m?oc(n):null;m&&N();function N(){const R=oc(n);P&&!eS(P,R)&&t(),P=R,E=requestAnimationFrame(N)}return t(),()=>{var R;v.forEach(k=>{o&&k.removeEventListener("scroll",t),c&&k.removeEventListener("resize",t)}),y==null||y(),(R=C)==null||R.disconnect(),C=null,m&&cancelAnimationFrame(E)}}const e$=SL,t$=NL,n$=_L,r$=CL,s$=bL,hb=wL,a$=kL,o$=(n,e,t)=>{const r=new Map,o={platform:XL,...t},c={...o.platform,_c:r};return yL(n,e,{...o,platform:c})};var i$=typeof document<"u",l$=function(){},dg=i$?w.useLayoutEffect:l$;function Rg(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,o;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Rg(n[r],e[r]))return!1;return!0}if(o=Object.keys(n),t=o.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,o[r]))return!1;for(r=t;r--!==0;){const c=o[r];if(!(c==="_owner"&&n.$$typeof)&&!Rg(n[c],e[c]))return!1}return!0}return n!==n&&e!==e}function tS(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function mb(n,e){const t=tS(n);return Math.round(e*t)/t}function Zv(n){const e=w.useRef(n);return dg(()=>{e.current=n}),e}function c$(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:o,elements:{reference:c,floating:u}={},transform:h=!0,whileElementsMounted:m,open:p}=n,[v,y]=w.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[b,C]=w.useState(r);Rg(b,r)||C(r);const[E,P]=w.useState(null),[N,R]=w.useState(null),k=w.useCallback(W=>{W!==D.current&&(D.current=W,P(W))},[]),T=w.useCallback(W=>{W!==F.current&&(F.current=W,R(W))},[]),M=c||E,I=u||N,D=w.useRef(null),F=w.useRef(null),z=w.useRef(v),q=m!=null,X=Zv(m),re=Zv(o),ie=Zv(p),me=w.useCallback(()=>{if(!D.current||!F.current)return;const W={placement:e,strategy:t,middleware:b};re.current&&(W.platform=re.current),o$(D.current,F.current,W).then(K=>{const ne={...K,isPositioned:ie.current!==!1};pe.current&&!Rg(z.current,ne)&&(z.current=ne,Yh.flushSync(()=>{y(ne)}))})},[b,e,t,re,ie]);dg(()=>{p===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,y(W=>({...W,isPositioned:!1})))},[p]);const pe=w.useRef(!1);dg(()=>(pe.current=!0,()=>{pe.current=!1}),[]),dg(()=>{if(M&&(D.current=M),I&&(F.current=I),M&&I){if(X.current)return X.current(M,I,me);me()}},[M,I,me,X,q]);const ke=w.useMemo(()=>({reference:D,floating:F,setReference:k,setFloating:T}),[k,T]),ge=w.useMemo(()=>({reference:M,floating:I}),[M,I]),be=w.useMemo(()=>{const W={position:t,left:0,top:0};if(!ge.floating)return W;const K=mb(ge.floating,v.x),ne=mb(ge.floating,v.y);return h?{...W,transform:"translate("+K+"px, "+ne+"px)",...tS(ge.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:K,top:ne}},[t,h,ge.floating,v.x,v.y]);return w.useMemo(()=>({...v,update:me,refs:ke,elements:ge,floatingStyles:be}),[v,me,ke,ge,be])}const u$=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:o}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?hb({element:r.current,padding:o}).fn(t):{}:r?hb({element:r,padding:o}).fn(t):{}}}},d$=(n,e)=>({...e$(n),options:[n,e]}),f$=(n,e)=>({...t$(n),options:[n,e]}),h$=(n,e)=>({...a$(n),options:[n,e]}),m$=(n,e)=>({...n$(n),options:[n,e]}),p$=(n,e)=>({...r$(n),options:[n,e]}),g$=(n,e)=>({...s$(n),options:[n,e]}),x$=(n,e)=>({...u$(n),options:[n,e]});var v$="Arrow",nS=w.forwardRef((n,e)=>{const{children:t,width:r=10,height:o=5,...c}=n;return a.jsx(nt.svg,{...c,ref:e,width:r,height:o,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:a.jsx("polygon",{points:"0,0 30,0 15,10"})})});nS.displayName=v$;var y$=nS;function rS(n){const[e,t]=w.useState(void 0);return wn(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(o=>{if(!Array.isArray(o)||!o.length)return;const c=o[0];let u,h;if("borderBoxSize"in c){const m=c.borderBoxSize,p=Array.isArray(m)?m[0]:m;u=p.inlineSize,h=p.blockSize}else u=n.offsetWidth,h=n.offsetHeight;t({width:u,height:h})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Py="Popper",[sS,nx]=ts(Py),[w$,aS]=sS(Py),oS=n=>{const{__scopePopper:e,children:t}=n,[r,o]=w.useState(null);return a.jsx(w$,{scope:e,anchor:r,onAnchorChange:o,children:t})};oS.displayName=Py;var iS="PopperAnchor",lS=w.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...o}=n,c=aS(iS,t),u=w.useRef(null),h=Rt(e,u);return w.useEffect(()=>{c.onAnchorChange((r==null?void 0:r.current)||u.current)}),r?null:a.jsx(nt.div,{...o,ref:h})});lS.displayName=iS;var Ry="PopperContent",[_$,b$]=sS(Ry),cS=w.forwardRef((n,e)=>{var te,fe,Se,Ee,Ke,We;const{__scopePopper:t,side:r="bottom",sideOffset:o=0,align:c="center",alignOffset:u=0,arrowPadding:h=0,avoidCollisions:m=!0,collisionBoundary:p=[],collisionPadding:v=0,sticky:y="partial",hideWhenDetached:b=!1,updatePositionStrategy:C="optimized",onPlaced:E,...P}=n,N=aS(Ry,t),[R,k]=w.useState(null),T=Rt(e,rt=>k(rt)),[M,I]=w.useState(null),D=rS(M),F=(D==null?void 0:D.width)??0,z=(D==null?void 0:D.height)??0,q=r+(c!=="center"?"-"+c:""),X=typeof v=="number"?v:{top:0,right:0,bottom:0,left:0,...v},re=Array.isArray(p)?p:[p],ie=re.length>0,me={padding:X,boundary:re.filter(S$),altBoundary:ie},{refs:pe,floatingStyles:ke,placement:ge,isPositioned:be,middlewareData:W}=c$({strategy:"fixed",placement:q,whileElementsMounted:(...rt)=>ZL(...rt,{animationFrame:C==="always"}),elements:{reference:N.anchor},middleware:[d$({mainAxis:o+z,alignmentAxis:u}),m&&f$({mainAxis:!0,crossAxis:!1,limiter:y==="partial"?h$():void 0,...me}),m&&m$({...me}),p$({...me,apply:({elements:rt,rects:xt,availableWidth:pn,availableHeight:or})=>{const{width:Yt,height:en}=xt.reference,Dr=rt.floating.style;Dr.setProperty("--radix-popper-available-width",`${pn}px`),Dr.setProperty("--radix-popper-available-height",`${or}px`),Dr.setProperty("--radix-popper-anchor-width",`${Yt}px`),Dr.setProperty("--radix-popper-anchor-height",`${en}px`)}}),M&&x$({element:M,padding:h}),N$({arrowWidth:F,arrowHeight:z}),b&&g$({strategy:"referenceHidden",...me})]}),[K,ne]=fS(ge),B=Js(E);wn(()=>{be&&(B==null||B())},[be,B]);const U=(te=W.arrow)==null?void 0:te.x,V=(fe=W.arrow)==null?void 0:fe.y,ae=((Se=W.arrow)==null?void 0:Se.centerOffset)!==0,[ue,he]=w.useState();return wn(()=>{R&&he(window.getComputedStyle(R).zIndex)},[R]),a.jsx("div",{ref:pe.setFloating,"data-radix-popper-content-wrapper":"",style:{...ke,transform:be?ke.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ue,"--radix-popper-transform-origin":[(Ee=W.transformOrigin)==null?void 0:Ee.x,(Ke=W.transformOrigin)==null?void 0:Ke.y].join(" "),...((We=W.hide)==null?void 0:We.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:a.jsx(_$,{scope:t,placedSide:K,onArrowChange:I,arrowX:U,arrowY:V,shouldHideArrow:ae,children:a.jsx(nt.div,{"data-side":K,"data-align":ne,...P,ref:T,style:{...P.style,animation:be?void 0:"none"}})})})});cS.displayName=Ry;var uS="PopperArrow",j$={top:"bottom",right:"left",bottom:"top",left:"right"},dS=w.forwardRef(function(e,t){const{__scopePopper:r,...o}=e,c=b$(uS,r),u=j$[c.placedSide];return a.jsx("span",{ref:c.onArrowChange,style:{position:"absolute",left:c.arrowX,top:c.arrowY,[u]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[c.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[c.placedSide],visibility:c.shouldHideArrow?"hidden":void 0},children:a.jsx(y$,{...o,ref:t,style:{...o.style,display:"block"}})})});dS.displayName=uS;function S$(n){return n!==null}var N$=n=>({name:"transformOrigin",options:n,fn(e){var N,R,k;const{placement:t,rects:r,middlewareData:o}=e,u=((N=o.arrow)==null?void 0:N.centerOffset)!==0,h=u?0:n.arrowWidth,m=u?0:n.arrowHeight,[p,v]=fS(t),y={start:"0%",center:"50%",end:"100%"}[v],b=(((R=o.arrow)==null?void 0:R.x)??0)+h/2,C=(((k=o.arrow)==null?void 0:k.y)??0)+m/2;let E="",P="";return p==="bottom"?(E=u?y:`${b}px`,P=`${-m}px`):p==="top"?(E=u?y:`${b}px`,P=`${r.floating.height+m}px`):p==="right"?(E=`${-m}px`,P=u?y:`${C}px`):p==="left"&&(E=`${r.floating.width+m}px`,P=u?y:`${C}px`),{data:{x:E,y:P}}}});function fS(n){const[e,t="center"]=n.split("-");return[e,t]}var hS=oS,mS=lS,pS=cS,gS=dS,k$="Portal",rx=w.forwardRef((n,e)=>{var h;const{container:t,...r}=n,[o,c]=w.useState(!1);wn(()=>c(!0),[]);const u=t||o&&((h=globalThis==null?void 0:globalThis.document)==null?void 0:h.body);return u?NA.createPortal(a.jsx(nt.div,{...r,ref:e}),u):null});rx.displayName=k$;var C$=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},ad=new WeakMap,tg=new WeakMap,ng={},e0=0,xS=function(n){return n&&(n.host||xS(n.parentNode))},E$=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=xS(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},P$=function(n,e,t,r){var o=E$(e,Array.isArray(n)?n:[n]);ng[t]||(ng[t]=new WeakMap);var c=ng[t],u=[],h=new Set,m=new Set(o),p=function(y){!y||h.has(y)||(h.add(y),p(y.parentNode))};o.forEach(p);var v=function(y){!y||m.has(y)||Array.prototype.forEach.call(y.children,function(b){if(h.has(b))v(b);else try{var C=b.getAttribute(r),E=C!==null&&C!=="false",P=(ad.get(b)||0)+1,N=(c.get(b)||0)+1;ad.set(b,P),c.set(b,N),u.push(b),P===1&&E&&tg.set(b,!0),N===1&&b.setAttribute(t,"true"),E||b.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",b,R)}})};return v(e),h.clear(),e0++,function(){u.forEach(function(y){var b=ad.get(y)-1,C=c.get(y)-1;ad.set(y,b),c.set(y,C),b||(tg.has(y)||y.removeAttribute(r),tg.delete(y)),C||y.removeAttribute(t)}),e0--,e0||(ad=new WeakMap,ad=new WeakMap,tg=new WeakMap,ng={})}},Ty=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),o=C$(n);return o?(r.push.apply(r,Array.from(o.querySelectorAll("[aria-live], script"))),P$(r,o,t,"aria-hidden")):function(){return null}},Pa=function(){return Pa=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Pa.apply(this,arguments)};function vS(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(n);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(n,r[o])&&(t[r[o]]=n[r[o]]);return t}function R$(n,e,t){if(t||arguments.length===2)for(var r=0,o=e.length,c;r<o;r++)(c||!(r in e))&&(c||(c=Array.prototype.slice.call(e,0,r)),c[r]=e[r]);return n.concat(c||Array.prototype.slice.call(e))}var fg="right-scroll-bar-position",hg="width-before-scroll-bar",T$="with-scroll-bars-hidden",A$="--removed-body-scroll-bar-size";function t0(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function I$(n,e){var t=w.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var o=t.value;o!==r&&(t.value=r,t.callback(r,o))}}}})[0];return t.callback=e,t.facade}var M$=typeof window<"u"?w.useLayoutEffect:w.useEffect,pb=new WeakMap;function O$(n,e){var t=I$(null,function(r){return n.forEach(function(o){return t0(o,r)})});return M$(function(){var r=pb.get(t);if(r){var o=new Set(r),c=new Set(n),u=t.current;o.forEach(function(h){c.has(h)||t0(h,null)}),c.forEach(function(h){o.has(h)||t0(h,u)})}pb.set(t,n)},[n]),t}function D$(n){return n}function L$(n,e){e===void 0&&(e=D$);var t=[],r=!1,o={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(c){var u=e(c,r);return t.push(u),function(){t=t.filter(function(h){return h!==u})}},assignSyncMedium:function(c){for(r=!0;t.length;){var u=t;t=[],u.forEach(c)}t={push:function(h){return c(h)},filter:function(){return t}}},assignMedium:function(c){r=!0;var u=[];if(t.length){var h=t;t=[],h.forEach(c),u=t}var m=function(){var v=u;u=[],v.forEach(c)},p=function(){return Promise.resolve().then(m)};p(),t={push:function(v){u.push(v),p()},filter:function(v){return u=u.filter(v),t}}}};return o}function $$(n){n===void 0&&(n={});var e=L$(null);return e.options=Pa({async:!0,ssr:!1},n),e}var yS=function(n){var e=n.sideCar,t=vS(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return w.createElement(r,Pa({},t))};yS.isSideCarExport=!0;function F$(n,e){return n.useMedium(e),yS}var wS=$$(),n0=function(){},sx=w.forwardRef(function(n,e){var t=w.useRef(null),r=w.useState({onScrollCapture:n0,onWheelCapture:n0,onTouchMoveCapture:n0}),o=r[0],c=r[1],u=n.forwardProps,h=n.children,m=n.className,p=n.removeScrollBar,v=n.enabled,y=n.shards,b=n.sideCar,C=n.noRelative,E=n.noIsolation,P=n.inert,N=n.allowPinchZoom,R=n.as,k=R===void 0?"div":R,T=n.gapMode,M=vS(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=b,D=O$([t,e]),F=Pa(Pa({},M),o);return w.createElement(w.Fragment,null,v&&w.createElement(I,{sideCar:wS,removeScrollBar:p,shards:y,noRelative:C,noIsolation:E,inert:P,setCallbacks:c,allowPinchZoom:!!N,lockRef:t,gapMode:T}),u?w.cloneElement(w.Children.only(h),Pa(Pa({},F),{ref:D})):w.createElement(k,Pa({},F,{className:m,ref:D}),h))});sx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};sx.classNames={fullWidth:hg,zeroRight:fg};var z$=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function U$(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=z$();return e&&n.setAttribute("nonce",e),n}function B$(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function W$(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var H$=function(){var n=0,e=null;return{add:function(t){n==0&&(e=U$())&&(B$(e,t),W$(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},V$=function(){var n=H$();return function(e,t){w.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},_S=function(){var n=V$(),e=function(t){var r=t.styles,o=t.dynamic;return n(r,o),null};return e},G$={left:0,top:0,right:0,gap:0},r0=function(n){return parseInt(n||"",10)||0},q$=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],o=e[n==="padding"?"paddingRight":"marginRight"];return[r0(t),r0(r),r0(o)]},K$=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return G$;var e=q$(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},Y$=_S(),yd="data-scroll-locked",J$=function(n,e,t,r){var o=n.left,c=n.top,u=n.right,h=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(T$,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(h,"px ").concat(r,`;
  }
  body[`).concat(yd,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(o,`px;
    padding-top: `).concat(c,`px;
    padding-right: `).concat(u,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(h,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(h,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(fg,` {
    right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(hg,` {
    margin-right: `).concat(h,"px ").concat(r,`;
  }
  
  .`).concat(fg," .").concat(fg,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(hg," .").concat(hg,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(yd,`] {
    `).concat(A$,": ").concat(h,`px;
  }
`)},gb=function(){var n=parseInt(document.body.getAttribute(yd)||"0",10);return isFinite(n)?n:0},X$=function(){w.useEffect(function(){return document.body.setAttribute(yd,(gb()+1).toString()),function(){var n=gb()-1;n<=0?document.body.removeAttribute(yd):document.body.setAttribute(yd,n.toString())}},[])},Q$=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,o=r===void 0?"margin":r;X$();var c=w.useMemo(function(){return K$(o)},[o]);return w.createElement(Y$,{styles:J$(c,!e,o,t?"":"!important")})},W0=!1;if(typeof window<"u")try{var rg=Object.defineProperty({},"passive",{get:function(){return W0=!0,!0}});window.addEventListener("test",rg,rg),window.removeEventListener("test",rg,rg)}catch{W0=!1}var od=W0?{passive:!1}:!1,Z$=function(n){return n.tagName==="TEXTAREA"},bS=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!Z$(n)&&t[e]==="visible")},e3=function(n){return bS(n,"overflowY")},t3=function(n){return bS(n,"overflowX")},xb=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var o=jS(n,r);if(o){var c=SS(n,r),u=c[1],h=c[2];if(u>h)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},n3=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},r3=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},jS=function(n,e){return n==="v"?e3(e):t3(e)},SS=function(n,e){return n==="v"?n3(e):r3(e)},s3=function(n,e){return n==="h"&&e==="rtl"?-1:1},a3=function(n,e,t,r,o){var c=s3(n,window.getComputedStyle(e).direction),u=c*r,h=t.target,m=e.contains(h),p=!1,v=u>0,y=0,b=0;do{if(!h)break;var C=SS(n,h),E=C[0],P=C[1],N=C[2],R=P-N-c*E;(E||R)&&jS(n,h)&&(y+=R,b+=E);var k=h.parentNode;h=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!m&&h!==document.body||m&&(e.contains(h)||e===h));return(v&&Math.abs(y)<1||!v&&Math.abs(b)<1)&&(p=!0),p},sg=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},vb=function(n){return[n.deltaX,n.deltaY]},yb=function(n){return n&&"current"in n?n.current:n},o3=function(n,e){return n[0]===e[0]&&n[1]===e[1]},i3=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},l3=0,id=[];function c3(n){var e=w.useRef([]),t=w.useRef([0,0]),r=w.useRef(),o=w.useState(l3++)[0],c=w.useState(_S)[0],u=w.useRef(n);w.useEffect(function(){u.current=n},[n]),w.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(o));var P=R$([n.lockRef.current],(n.shards||[]).map(yb),!0).filter(Boolean);return P.forEach(function(N){return N.classList.add("allow-interactivity-".concat(o))}),function(){document.body.classList.remove("block-interactivity-".concat(o)),P.forEach(function(N){return N.classList.remove("allow-interactivity-".concat(o))})}}},[n.inert,n.lockRef.current,n.shards]);var h=w.useCallback(function(P,N){if("touches"in P&&P.touches.length===2||P.type==="wheel"&&P.ctrlKey)return!u.current.allowPinchZoom;var R=sg(P),k=t.current,T="deltaX"in P?P.deltaX:k[0]-R[0],M="deltaY"in P?P.deltaY:k[1]-R[1],I,D=P.target,F=Math.abs(T)>Math.abs(M)?"h":"v";if("touches"in P&&F==="h"&&D.type==="range")return!1;var z=xb(F,D);if(!z)return!0;if(z?I=F:(I=F==="v"?"h":"v",z=xb(F,D)),!z)return!1;if(!r.current&&"changedTouches"in P&&(T||M)&&(r.current=I),!I)return!0;var q=r.current||I;return a3(q,N,P,q==="h"?T:M)},[]),m=w.useCallback(function(P){var N=P;if(!(!id.length||id[id.length-1]!==c)){var R="deltaY"in N?vb(N):sg(N),k=e.current.filter(function(I){return I.name===N.type&&(I.target===N.target||N.target===I.shadowParent)&&o3(I.delta,R)})[0];if(k&&k.should){N.cancelable&&N.preventDefault();return}if(!k){var T=(u.current.shards||[]).map(yb).filter(Boolean).filter(function(I){return I.contains(N.target)}),M=T.length>0?h(N,T[0]):!u.current.noIsolation;M&&N.cancelable&&N.preventDefault()}}},[]),p=w.useCallback(function(P,N,R,k){var T={name:P,delta:N,target:R,should:k,shadowParent:u3(R)};e.current.push(T),setTimeout(function(){e.current=e.current.filter(function(M){return M!==T})},1)},[]),v=w.useCallback(function(P){t.current=sg(P),r.current=void 0},[]),y=w.useCallback(function(P){p(P.type,vb(P),P.target,h(P,n.lockRef.current))},[]),b=w.useCallback(function(P){p(P.type,sg(P),P.target,h(P,n.lockRef.current))},[]);w.useEffect(function(){return id.push(c),n.setCallbacks({onScrollCapture:y,onWheelCapture:y,onTouchMoveCapture:b}),document.addEventListener("wheel",m,od),document.addEventListener("touchmove",m,od),document.addEventListener("touchstart",v,od),function(){id=id.filter(function(P){return P!==c}),document.removeEventListener("wheel",m,od),document.removeEventListener("touchmove",m,od),document.removeEventListener("touchstart",v,od)}},[]);var C=n.removeScrollBar,E=n.inert;return w.createElement(w.Fragment,null,E?w.createElement(c,{styles:i3(o)}):null,C?w.createElement(Q$,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function u3(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const d3=F$(wS,c3);var ax=w.forwardRef(function(n,e){return w.createElement(sx,Pa({},n,{ref:e,sideCar:d3}))});ax.classNames=sx.classNames;var H0=["Enter"," "],f3=["ArrowDown","PageUp","Home"],NS=["ArrowUp","PageDown","End"],h3=[...f3,...NS],m3={ltr:[...H0,"ArrowRight"],rtl:[...H0,"ArrowLeft"]},p3={ltr:["ArrowLeft"],rtl:["ArrowRight"]},sm="Menu",[Uh,g3,x3]=qg(sm),[pc,kS]=ts(sm,[x3,nx,Kg]),ox=nx(),CS=Kg(),[v3,gc]=pc(sm),[y3,am]=pc(sm),ES=n=>{const{__scopeMenu:e,open:t=!1,children:r,dir:o,onOpenChange:c,modal:u=!0}=n,h=ox(e),[m,p]=w.useState(null),v=w.useRef(!1),y=Js(c),b=Zh(o);return w.useEffect(()=>{const C=()=>{v.current=!0,document.addEventListener("pointerdown",E,{capture:!0,once:!0}),document.addEventListener("pointermove",E,{capture:!0,once:!0})},E=()=>v.current=!1;return document.addEventListener("keydown",C,{capture:!0}),()=>{document.removeEventListener("keydown",C,{capture:!0}),document.removeEventListener("pointerdown",E,{capture:!0}),document.removeEventListener("pointermove",E,{capture:!0})}},[]),a.jsx(hS,{...h,children:a.jsx(v3,{scope:e,open:t,onOpenChange:y,content:m,onContentChange:p,children:a.jsx(y3,{scope:e,onClose:w.useCallback(()=>y(!1),[y]),isUsingKeyboardRef:v,dir:b,modal:u,children:r})})})};ES.displayName=sm;var w3="MenuAnchor",Ay=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=ox(t);return a.jsx(mS,{...o,...r,ref:e})});Ay.displayName=w3;var Iy="MenuPortal",[_3,PS]=pc(Iy,{forceMount:void 0}),RS=n=>{const{__scopeMenu:e,forceMount:t,children:r,container:o}=n,c=gc(Iy,e);return a.jsx(_3,{scope:e,forceMount:t,children:a.jsx(ta,{present:t||c.open,children:a.jsx(rx,{asChild:!0,container:o,children:r})})})};RS.displayName=Iy;var bs="MenuContent",[b3,My]=pc(bs),TS=w.forwardRef((n,e)=>{const t=PS(bs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=gc(bs,n.__scopeMenu),u=am(bs,n.__scopeMenu);return a.jsx(Uh.Provider,{scope:n.__scopeMenu,children:a.jsx(ta,{present:r||c.open,children:a.jsx(Uh.Slot,{scope:n.__scopeMenu,children:u.modal?a.jsx(j3,{...o,ref:e}):a.jsx(S3,{...o,ref:e})})})})}),j3=w.forwardRef((n,e)=>{const t=gc(bs,n.__scopeMenu),r=w.useRef(null),o=Rt(e,r);return w.useEffect(()=>{const c=r.current;if(c)return Ty(c)},[]),a.jsx(Oy,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:Ge(n.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),S3=w.forwardRef((n,e)=>{const t=gc(bs,n.__scopeMenu);return a.jsx(Oy,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),N3=sc("MenuContent.ScrollLock"),Oy=w.forwardRef((n,e)=>{const{__scopeMenu:t,loop:r=!1,trapFocus:o,onOpenAutoFocus:c,onCloseAutoFocus:u,disableOutsidePointerEvents:h,onEntryFocus:m,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:b,onDismiss:C,disableOutsideScroll:E,...P}=n,N=gc(bs,t),R=am(bs,t),k=ox(t),T=CS(t),M=g3(t),[I,D]=w.useState(null),F=w.useRef(null),z=Rt(e,F,N.onContentChange),q=w.useRef(0),X=w.useRef(""),re=w.useRef(0),ie=w.useRef(null),me=w.useRef("right"),pe=w.useRef(0),ke=E?ax:w.Fragment,ge=E?{as:N3,allowPinchZoom:!0}:void 0,be=K=>{var te,fe;const ne=X.current+K,B=M().filter(Se=>!Se.disabled),U=document.activeElement,V=(te=B.find(Se=>Se.ref.current===U))==null?void 0:te.textValue,ae=B.map(Se=>Se.textValue),ue=L3(ae,ne,V),he=(fe=B.find(Se=>Se.textValue===ue))==null?void 0:fe.ref.current;(function Se(Ee){X.current=Ee,window.clearTimeout(q.current),Ee!==""&&(q.current=window.setTimeout(()=>Se(""),1e3))})(ne),he&&setTimeout(()=>he.focus())};w.useEffect(()=>()=>window.clearTimeout(q.current),[]),_y();const W=w.useCallback(K=>{var B,U;return me.current===((B=ie.current)==null?void 0:B.side)&&F3(K,(U=ie.current)==null?void 0:U.area)},[]);return a.jsx(b3,{scope:t,searchRef:X,onItemEnter:w.useCallback(K=>{W(K)&&K.preventDefault()},[W]),onItemLeave:w.useCallback(K=>{var ne;W(K)||((ne=F.current)==null||ne.focus(),D(null))},[W]),onTriggerLeave:w.useCallback(K=>{W(K)&&K.preventDefault()},[W]),pointerGraceTimerRef:re,onPointerGraceIntentChange:w.useCallback(K=>{ie.current=K},[]),children:a.jsx(ke,{...ge,children:a.jsx(Qg,{asChild:!0,trapped:o,onMountAutoFocus:Ge(c,K=>{var ne;K.preventDefault(),(ne=F.current)==null||ne.focus({preventScroll:!0})}),onUnmountAutoFocus:u,children:a.jsx(Xg,{asChild:!0,disableOutsidePointerEvents:h,onEscapeKeyDown:p,onPointerDownOutside:v,onFocusOutside:y,onInteractOutside:b,onDismiss:C,children:a.jsx(vj,{asChild:!0,...T,dir:R.dir,orientation:"vertical",loop:r,currentTabStopId:I,onCurrentTabStopIdChange:D,onEntryFocus:Ge(m,K=>{R.isUsingKeyboardRef.current||K.preventDefault()}),preventScrollOnEntryFocus:!0,children:a.jsx(pS,{role:"menu","aria-orientation":"vertical","data-state":qS(N.open),"data-radix-menu-content":"",dir:R.dir,...k,...P,ref:z,style:{outline:"none",...P.style},onKeyDown:Ge(P.onKeyDown,K=>{const B=K.target.closest("[data-radix-menu-content]")===K.currentTarget,U=K.ctrlKey||K.altKey||K.metaKey,V=K.key.length===1;B&&(K.key==="Tab"&&K.preventDefault(),!U&&V&&be(K.key));const ae=F.current;if(K.target!==ae||!h3.includes(K.key))return;K.preventDefault();const he=M().filter(te=>!te.disabled).map(te=>te.ref.current);NS.includes(K.key)&&he.reverse(),O3(he)}),onBlur:Ge(n.onBlur,K=>{K.currentTarget.contains(K.target)||(window.clearTimeout(q.current),X.current="")}),onPointerMove:Ge(n.onPointerMove,Bh(K=>{const ne=K.target,B=pe.current!==K.clientX;if(K.currentTarget.contains(ne)&&B){const U=K.clientX>pe.current?"right":"left";me.current=U,pe.current=K.clientX}}))})})})})})})});TS.displayName=bs;var k3="MenuGroup",Dy=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(nt.div,{role:"group",...r,ref:e})});Dy.displayName=k3;var C3="MenuLabel",AS=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(nt.div,{...r,ref:e})});AS.displayName=C3;var Tg="MenuItem",wb="menu.itemSelect",ix=w.forwardRef((n,e)=>{const{disabled:t=!1,onSelect:r,...o}=n,c=w.useRef(null),u=am(Tg,n.__scopeMenu),h=My(Tg,n.__scopeMenu),m=Rt(e,c),p=w.useRef(!1),v=()=>{const y=c.current;if(!t&&y){const b=new CustomEvent(wb,{bubbles:!0,cancelable:!0});y.addEventListener(wb,C=>r==null?void 0:r(C),{once:!0}),uj(y,b),b.defaultPrevented?p.current=!1:u.onClose()}};return a.jsx(IS,{...o,ref:m,disabled:t,onClick:Ge(n.onClick,v),onPointerDown:y=>{var b;(b=n.onPointerDown)==null||b.call(n,y),p.current=!0},onPointerUp:Ge(n.onPointerUp,y=>{var b;p.current||(b=y.currentTarget)==null||b.click()}),onKeyDown:Ge(n.onKeyDown,y=>{const b=h.searchRef.current!=="";t||b&&y.key===" "||H0.includes(y.key)&&(y.currentTarget.click(),y.preventDefault())})})});ix.displayName=Tg;var IS=w.forwardRef((n,e)=>{const{__scopeMenu:t,disabled:r=!1,textValue:o,...c}=n,u=My(Tg,t),h=CS(t),m=w.useRef(null),p=Rt(e,m),[v,y]=w.useState(!1),[b,C]=w.useState("");return w.useEffect(()=>{const E=m.current;E&&C((E.textContent??"").trim())},[c.children]),a.jsx(Uh.ItemSlot,{scope:t,disabled:r,textValue:o??b,children:a.jsx(yj,{asChild:!0,...h,focusable:!r,children:a.jsx(nt.div,{role:"menuitem","data-highlighted":v?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...c,ref:p,onPointerMove:Ge(n.onPointerMove,Bh(E=>{r?u.onItemLeave(E):(u.onItemEnter(E),E.defaultPrevented||E.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:Ge(n.onPointerLeave,Bh(E=>u.onItemLeave(E))),onFocus:Ge(n.onFocus,()=>y(!0)),onBlur:Ge(n.onBlur,()=>y(!1))})})})}),E3="MenuCheckboxItem",MS=w.forwardRef((n,e)=>{const{checked:t=!1,onCheckedChange:r,...o}=n;return a.jsx(FS,{scope:n.__scopeMenu,checked:t,children:a.jsx(ix,{role:"menuitemcheckbox","aria-checked":Ag(t)?"mixed":t,...o,ref:e,"data-state":$y(t),onSelect:Ge(o.onSelect,()=>r==null?void 0:r(Ag(t)?!0:!t),{checkForDefaultPrevented:!1})})})});MS.displayName=E3;var OS="MenuRadioGroup",[P3,R3]=pc(OS,{value:void 0,onValueChange:()=>{}}),DS=w.forwardRef((n,e)=>{const{value:t,onValueChange:r,...o}=n,c=Js(r);return a.jsx(P3,{scope:n.__scopeMenu,value:t,onValueChange:c,children:a.jsx(Dy,{...o,ref:e})})});DS.displayName=OS;var LS="MenuRadioItem",$S=w.forwardRef((n,e)=>{const{value:t,...r}=n,o=R3(LS,n.__scopeMenu),c=t===o.value;return a.jsx(FS,{scope:n.__scopeMenu,checked:c,children:a.jsx(ix,{role:"menuitemradio","aria-checked":c,...r,ref:e,"data-state":$y(c),onSelect:Ge(r.onSelect,()=>{var u;return(u=o.onValueChange)==null?void 0:u.call(o,t)},{checkForDefaultPrevented:!1})})})});$S.displayName=LS;var Ly="MenuItemIndicator",[FS,T3]=pc(Ly,{checked:!1}),zS=w.forwardRef((n,e)=>{const{__scopeMenu:t,forceMount:r,...o}=n,c=T3(Ly,t);return a.jsx(ta,{present:r||Ag(c.checked)||c.checked===!0,children:a.jsx(nt.span,{...o,ref:e,"data-state":$y(c.checked)})})});zS.displayName=Ly;var A3="MenuSeparator",US=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n;return a.jsx(nt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});US.displayName=A3;var I3="MenuArrow",BS=w.forwardRef((n,e)=>{const{__scopeMenu:t,...r}=n,o=ox(t);return a.jsx(gS,{...o,...r,ref:e})});BS.displayName=I3;var M3="MenuSub",[XU,WS]=pc(M3),bh="MenuSubTrigger",HS=w.forwardRef((n,e)=>{const t=gc(bh,n.__scopeMenu),r=am(bh,n.__scopeMenu),o=WS(bh,n.__scopeMenu),c=My(bh,n.__scopeMenu),u=w.useRef(null),{pointerGraceTimerRef:h,onPointerGraceIntentChange:m}=c,p={__scopeMenu:n.__scopeMenu},v=w.useCallback(()=>{u.current&&window.clearTimeout(u.current),u.current=null},[]);return w.useEffect(()=>v,[v]),w.useEffect(()=>{const y=h.current;return()=>{window.clearTimeout(y),m(null)}},[h,m]),a.jsx(Ay,{asChild:!0,...p,children:a.jsx(IS,{id:o.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":o.contentId,"data-state":qS(t.open),...n,ref:Gg(e,o.onTriggerChange),onClick:y=>{var b;(b=n.onClick)==null||b.call(n,y),!(n.disabled||y.defaultPrevented)&&(y.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:Ge(n.onPointerMove,Bh(y=>{c.onItemEnter(y),!y.defaultPrevented&&!n.disabled&&!t.open&&!u.current&&(c.onPointerGraceIntentChange(null),u.current=window.setTimeout(()=>{t.onOpenChange(!0),v()},100))})),onPointerLeave:Ge(n.onPointerLeave,Bh(y=>{var C,E;v();const b=(C=t.content)==null?void 0:C.getBoundingClientRect();if(b){const P=(E=t.content)==null?void 0:E.dataset.side,N=P==="right",R=N?-5:5,k=b[N?"left":"right"],T=b[N?"right":"left"];c.onPointerGraceIntentChange({area:[{x:y.clientX+R,y:y.clientY},{x:k,y:b.top},{x:T,y:b.top},{x:T,y:b.bottom},{x:k,y:b.bottom}],side:P}),window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.onPointerGraceIntentChange(null),300)}else{if(c.onTriggerLeave(y),y.defaultPrevented)return;c.onPointerGraceIntentChange(null)}})),onKeyDown:Ge(n.onKeyDown,y=>{var C;const b=c.searchRef.current!=="";n.disabled||b&&y.key===" "||m3[r.dir].includes(y.key)&&(t.onOpenChange(!0),(C=t.content)==null||C.focus(),y.preventDefault())})})})});HS.displayName=bh;var VS="MenuSubContent",GS=w.forwardRef((n,e)=>{const t=PS(bs,n.__scopeMenu),{forceMount:r=t.forceMount,...o}=n,c=gc(bs,n.__scopeMenu),u=am(bs,n.__scopeMenu),h=WS(VS,n.__scopeMenu),m=w.useRef(null),p=Rt(e,m);return a.jsx(Uh.Provider,{scope:n.__scopeMenu,children:a.jsx(ta,{present:r||c.open,children:a.jsx(Uh.Slot,{scope:n.__scopeMenu,children:a.jsx(Oy,{id:h.contentId,"aria-labelledby":h.triggerId,...o,ref:p,align:"start",side:u.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:v=>{var y;u.isUsingKeyboardRef.current&&((y=m.current)==null||y.focus()),v.preventDefault()},onCloseAutoFocus:v=>v.preventDefault(),onFocusOutside:Ge(n.onFocusOutside,v=>{v.target!==h.trigger&&c.onOpenChange(!1)}),onEscapeKeyDown:Ge(n.onEscapeKeyDown,v=>{u.onClose(),v.preventDefault()}),onKeyDown:Ge(n.onKeyDown,v=>{var C;const y=v.currentTarget.contains(v.target),b=p3[u.dir].includes(v.key);y&&b&&(c.onOpenChange(!1),(C=h.trigger)==null||C.focus(),v.preventDefault())})})})})})});GS.displayName=VS;function qS(n){return n?"open":"closed"}function Ag(n){return n==="indeterminate"}function $y(n){return Ag(n)?"indeterminate":n?"checked":"unchecked"}function O3(n){const e=document.activeElement;for(const t of n)if(t===e||(t.focus(),document.activeElement!==e))return}function D3(n,e){return n.map((t,r)=>n[(e+r)%n.length])}function L3(n,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=D3(n,Math.max(c,0));o.length===1&&(u=u.filter(p=>p!==t));const m=u.find(p=>p.toLowerCase().startsWith(o.toLowerCase()));return m!==t?m:void 0}function $3(n,e){const{x:t,y:r}=n;let o=!1;for(let c=0,u=e.length-1;c<e.length;u=c++){const h=e[c],m=e[u],p=h.x,v=h.y,y=m.x,b=m.y;v>r!=b>r&&t<(y-p)*(r-v)/(b-v)+p&&(o=!o)}return o}function F3(n,e){if(!e)return!1;const t={x:n.clientX,y:n.clientY};return $3(t,e)}function Bh(n){return e=>e.pointerType==="mouse"?n(e):void 0}var z3=ES,U3=Ay,B3=RS,W3=TS,H3=Dy,V3=AS,G3=ix,q3=MS,K3=DS,Y3=$S,J3=zS,X3=US,Q3=BS,Z3=HS,e5=GS,lx="DropdownMenu",[t5,QU]=ts(lx,[kS]),xr=kS(),[n5,KS]=t5(lx),YS=n=>{const{__scopeDropdownMenu:e,children:t,dir:r,open:o,defaultOpen:c,onOpenChange:u,modal:h=!0}=n,m=xr(e),p=w.useRef(null),[v,y]=La({prop:o,defaultProp:c??!1,onChange:u,caller:lx});return a.jsx(n5,{scope:e,triggerId:ws(),triggerRef:p,contentId:ws(),open:v,onOpenChange:y,onOpenToggle:w.useCallback(()=>y(b=>!b),[y]),modal:h,children:a.jsx(z3,{...m,open:v,onOpenChange:y,dir:r,modal:h,children:t})})};YS.displayName=lx;var JS="DropdownMenuTrigger",XS=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,disabled:r=!1,...o}=n,c=KS(JS,t),u=xr(t);return a.jsx(U3,{asChild:!0,...u,children:a.jsx(nt.button,{type:"button",id:c.triggerId,"aria-haspopup":"menu","aria-expanded":c.open,"aria-controls":c.open?c.contentId:void 0,"data-state":c.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...o,ref:Gg(e,c.triggerRef),onPointerDown:Ge(n.onPointerDown,h=>{!r&&h.button===0&&h.ctrlKey===!1&&(c.onOpenToggle(),c.open||h.preventDefault())}),onKeyDown:Ge(n.onKeyDown,h=>{r||(["Enter"," "].includes(h.key)&&c.onOpenToggle(),h.key==="ArrowDown"&&c.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(h.key)&&h.preventDefault())})})})});XS.displayName=JS;var r5="DropdownMenuPortal",QS=n=>{const{__scopeDropdownMenu:e,...t}=n,r=xr(e);return a.jsx(B3,{...r,...t})};QS.displayName=r5;var ZS="DropdownMenuContent",eN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=KS(ZS,t),c=xr(t),u=w.useRef(!1);return a.jsx(W3,{id:o.contentId,"aria-labelledby":o.triggerId,...c,...r,ref:e,onCloseAutoFocus:Ge(n.onCloseAutoFocus,h=>{var m;u.current||(m=o.triggerRef.current)==null||m.focus(),u.current=!1,h.preventDefault()}),onInteractOutside:Ge(n.onInteractOutside,h=>{const m=h.detail.originalEvent,p=m.button===0&&m.ctrlKey===!0,v=m.button===2||p;(!o.modal||v)&&(u.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eN.displayName=ZS;var s5="DropdownMenuGroup",a5=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(H3,{...o,...r,ref:e})});a5.displayName=s5;var o5="DropdownMenuLabel",tN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(V3,{...o,...r,ref:e})});tN.displayName=o5;var i5="DropdownMenuItem",nN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(G3,{...o,...r,ref:e})});nN.displayName=i5;var l5="DropdownMenuCheckboxItem",rN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(q3,{...o,...r,ref:e})});rN.displayName=l5;var c5="DropdownMenuRadioGroup",u5=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(K3,{...o,...r,ref:e})});u5.displayName=c5;var d5="DropdownMenuRadioItem",sN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(Y3,{...o,...r,ref:e})});sN.displayName=d5;var f5="DropdownMenuItemIndicator",aN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(J3,{...o,...r,ref:e})});aN.displayName=f5;var h5="DropdownMenuSeparator",oN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(X3,{...o,...r,ref:e})});oN.displayName=h5;var m5="DropdownMenuArrow",p5=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(Q3,{...o,...r,ref:e})});p5.displayName=m5;var g5="DropdownMenuSubTrigger",iN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(Z3,{...o,...r,ref:e})});iN.displayName=g5;var x5="DropdownMenuSubContent",lN=w.forwardRef((n,e)=>{const{__scopeDropdownMenu:t,...r}=n,o=xr(t);return a.jsx(e5,{...o,...r,ref:e,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lN.displayName=x5;var v5=YS,y5=XS,w5=QS,cN=eN,uN=tN,dN=nN,fN=rN,hN=sN,mN=aN,pN=oN,gN=iN,xN=lN;const _b=v5,bb=y5,_5=w.forwardRef(({className:n,inset:e,children:t,...r},o)=>a.jsxs(gN,{ref:o,className:Be("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",n),...r,children:[t,a.jsx(Oj,{className:"ml-auto"})]}));_5.displayName=gN.displayName;const b5=w.forwardRef(({className:n,...e},t)=>a.jsx(xN,{ref:t,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...e}));b5.displayName=xN.displayName;const V0=w.forwardRef(({className:n,sideOffset:e=4,...t},r)=>a.jsx(w5,{children:a.jsx(cN,{ref:r,sideOffset:e,className:Be("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));V0.displayName=cN.displayName;const G0=w.forwardRef(({className:n,inset:e,...t},r)=>a.jsx(dN,{ref:r,className:Be("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",n),...t}));G0.displayName=dN.displayName;const j5=w.forwardRef(({className:n,children:e,checked:t,...r},o)=>a.jsxs(fN,{ref:o,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...r,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(mN,{children:a.jsx($a,{className:"h-4 w-4"})})}),e]}));j5.displayName=fN.displayName;const S5=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(hN,{ref:r,className:Be("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(mN,{children:a.jsx(_D,{className:"h-2 w-2 fill-current"})})}),e]}));S5.displayName=hN.displayName;const N5=w.forwardRef(({className:n,inset:e,...t},r)=>a.jsx(uN,{ref:r,className:Be("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",n),...t}));N5.displayName=uN.displayName;const k5=w.forwardRef(({className:n,...e},t)=>a.jsx(pN,{ref:t,className:Be("-mx-1 my-1 h-px bg-muted",n),...e}));k5.displayName=pN.displayName;const Yl=[{code:"en",name:"English",flag:"🇬🇧",shortName:"EN"},{code:"ru",name:"Русский",flag:"🇷🇺",shortName:"RU"}];function vN({variant:n="default"}){const{i18n:e,currentLanguage:t}=es(),[r,o]=w.useState(Yl.find(u=>u.code===t)||Yl[0]);w.useEffect(()=>{const u=Yl.find(h=>h.code===e.language)||Yl[0];o(u)},[e.language]);const c=async u=>{console.log("Changing language to:",u);try{await e.changeLanguage(u),localStorage.setItem("pms_language",u),document.cookie=`pms_language=${u};path=/;max-age=31536000`,o(Yl.find(h=>h.code===u)),window.dispatchEvent(new Event("languagechange")),console.log("Language changed successfully to:",u)}catch(h){console.error("Error changing language:",h)}};return n==="compact"?a.jsxs(_b,{children:[a.jsx(bb,{asChild:!0,children:a.jsx(De,{variant:"outline",size:"icon",title:"Change language",children:a.jsx("span",{className:"text-lg",children:r.flag})})}),a.jsx(V0,{align:"end",className:"w-48",children:Yl.map(u=>a.jsxs(G0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[a.jsx("span",{className:"mr-2 text-lg",children:u.flag}),a.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&a.jsx($a,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]}):a.jsxs(_b,{children:[a.jsx(bb,{asChild:!0,children:a.jsxs(De,{variant:"outline",size:"sm",className:"gap-2",children:[a.jsx(Lj,{className:"h-4 w-4"}),a.jsxs("span",{className:"hidden sm:inline",children:[r.flag," ",r.name]}),a.jsx("span",{className:"sm:hidden",children:r.flag})]})}),a.jsx(V0,{align:"end",className:"w-48",children:Yl.map(u=>a.jsxs(G0,{onClick:()=>c(u.code),className:"cursor-pointer",children:[a.jsx("span",{className:"mr-2 text-lg",children:u.flag}),a.jsx("span",{className:"flex-1",children:u.name}),r.code===u.code&&a.jsx($a,{className:"h-4 w-4 ml-2 text-green-600"})]},u.code))})]})}const C5=()=>a.jsxs("svg",{className:"h-4 w-4 mr-2",viewBox:"0 0 24 24",children:[a.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),a.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),a.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),a.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]});function yN(){const{signInWithProvider:n,signInWithEmail:e,signUpWithEmail:t}=Xh(),{t:r}=es("auth"),[o,c]=w.useState(!1),[u,h]=w.useState(""),[m,p]=w.useState(""),[v,y]=w.useState(""),[b,C]=w.useState(""),E=async()=>{c(!0),y("");try{await n("google")}catch{y(r("errors.googleSignIn")),c(!1)}},P=async R=>{R.preventDefault(),c(!0),y(""),C("");try{await e(u,m)}catch(k){k.message.includes("Invalid login credentials")?y(r("errors.invalidCredentials")):k.message.includes("Email not confirmed")?y(r("errors.emailNotConfirmed")):y(r("errors.signInFailed"))}c(!1)},N=async R=>{if(R.preventDefault(),c(!0),y(""),C(""),m.length<6){y(r("errors.passwordTooShort")),c(!1);return}try{await t(u,m),C(r("messages.checkEmail")),h(""),p("")}catch(k){k.message.includes("already registered")?y(r("errors.emailAlreadyRegistered")):y(r("errors.signUpFailed"))}c(!1)};return a.jsxs(Ce,{className:"w-full max-w-md",children:[a.jsxs(Ye,{className:"text-center",children:[a.jsx("div",{className:"mx-auto mb-4 w-16 h-16 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center shadow-lg",children:a.jsx($j,{className:"h-8 w-8 text-white"})}),a.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[a.jsx(Je,{className:"text-2xl font-bold text-slate-800",children:r("appName")}),a.jsx(vN,{})]}),a.jsx(Yn,{className:"text-slate-600",children:r("subtitle")})]}),a.jsxs(Re,{children:[v&&a.jsx(js,{variant:"destructive",className:"mb-4",children:a.jsx(Ss,{children:v})}),b&&a.jsx(js,{variant:"default",className:"mb-4",children:a.jsx(Ss,{children:b})}),a.jsxs(Rd,{defaultValue:"signin",className:"w-full",children:[a.jsxs(mc,{className:"grid w-full grid-cols-2",children:[a.jsx(fn,{value:"signin",children:r("tabs.signIn")}),a.jsx(fn,{value:"signup",children:r("tabs.signUp")})]}),a.jsx(hn,{value:"signin",children:a.jsxs("form",{onSubmit:P,className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email-signin",children:r("fields.email")}),a.jsx(Oe,{id:"email-signin",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"password-signin",children:r("fields.password")}),a.jsx(Oe,{id:"password-signin",type:"password",value:m,onChange:R=>p(R.target.value),placeholder:r("placeholders.password"),required:!0})]}),a.jsx(De,{type:"submit",className:"w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):r("buttons.signIn")})]})}),a.jsx(hn,{value:"signup",children:a.jsxs("form",{onSubmit:N,className:"space-y-4 pt-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email-signup",children:r("fields.email")}),a.jsx(Oe,{id:"email-signup",type:"email",value:u,onChange:R=>h(R.target.value),placeholder:r("placeholders.email"),required:!0})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"password-signup",children:r("fields.password")}),a.jsx(Oe,{id:"password-signup",type:"password",value:m,onChange:R=>p(R.target.value),placeholder:r("placeholders.passwordHint"),required:!0})]}),a.jsx(De,{type:"submit",className:"w-full",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingUp")]}):r("buttons.signUp")})]})})]}),a.jsxs("div",{className:"relative my-6",children:[a.jsx("div",{className:"absolute inset-0 flex items-center",children:a.jsx("span",{className:"w-full border-t"})}),a.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:a.jsx("span",{className:"bg-white px-2 text-slate-500",children:r("divider")})})]}),a.jsx(De,{onClick:E,className:"w-full",variant:"outline",disabled:o,children:o?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}),r("buttons.signingIn")]}):a.jsxs(a.Fragment,{children:[a.jsx(C5,{}),r("buttons.signInWithGoogle")]})})]})]})}const cx=w.createContext(null);cx.displayName="PanelGroupContext";const on={group:"data-panel-group",groupDirection:"data-panel-group-direction",groupId:"data-panel-group-id",panel:"data-panel",panelCollapsible:"data-panel-collapsible",panelId:"data-panel-id",panelSize:"data-panel-size",resizeHandle:"data-resize-handle",resizeHandleActive:"data-resize-handle-active",resizeHandleEnabled:"data-panel-resize-handle-enabled",resizeHandleId:"data-panel-resize-handle-id",resizeHandleState:"data-resize-handle-state"},Fy=10,rc=w.useLayoutEffect,jb=ry.useId,E5=typeof jb=="function"?jb:()=>null;let P5=0;function zy(n=null){const e=E5(),t=w.useRef(n||e||null);return t.current===null&&(t.current=""+P5++),n??t.current}function wN({children:n,className:e="",collapsedSize:t,collapsible:r,defaultSize:o,forwardedRef:c,id:u,maxSize:h,minSize:m,onCollapse:p,onExpand:v,onResize:y,order:b,style:C,tagName:E="div",...P}){const N=w.useContext(cx);if(N===null)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:R,expandPanel:k,getPanelSize:T,getPanelStyle:M,groupId:I,isPanelCollapsed:D,reevaluatePanelConstraints:F,registerPanel:z,resizePanel:q,unregisterPanel:X}=N,re=zy(u),ie=w.useRef({callbacks:{onCollapse:p,onExpand:v,onResize:y},constraints:{collapsedSize:t,collapsible:r,defaultSize:o,maxSize:h,minSize:m},id:re,idIsFromProps:u!==void 0,order:b});w.useRef({didLogMissingDefaultSizeWarning:!1}),rc(()=>{const{callbacks:pe,constraints:ke}=ie.current,ge={...ke};ie.current.id=re,ie.current.idIsFromProps=u!==void 0,ie.current.order=b,pe.onCollapse=p,pe.onExpand=v,pe.onResize=y,ke.collapsedSize=t,ke.collapsible=r,ke.defaultSize=o,ke.maxSize=h,ke.minSize=m,(ge.collapsedSize!==ke.collapsedSize||ge.collapsible!==ke.collapsible||ge.maxSize!==ke.maxSize||ge.minSize!==ke.minSize)&&F(ie.current,ge)}),rc(()=>{const pe=ie.current;return z(pe),()=>{X(pe)}},[b,re,z,X]),w.useImperativeHandle(c,()=>({collapse:()=>{R(ie.current)},expand:pe=>{k(ie.current,pe)},getId(){return re},getSize(){return T(ie.current)},isCollapsed(){return D(ie.current)},isExpanded(){return!D(ie.current)},resize:pe=>{q(ie.current,pe)}}),[R,k,T,D,re,q]);const me=M(ie.current,o);return w.createElement(E,{...P,children:n,className:e,id:re,style:{...me,...C},[on.groupId]:I,[on.panel]:"",[on.panelCollapsible]:r||void 0,[on.panelId]:re,[on.panelSize]:parseFloat(""+me.flexGrow).toFixed(1)})}const _N=w.forwardRef((n,e)=>w.createElement(wN,{...n,forwardedRef:e}));wN.displayName="Panel";_N.displayName="forwardRef(Panel)";let q0=null,mg=-1,Ri=null;function R5(n,e){if(e){const t=(e&kN)!==0,r=(e&CN)!==0,o=(e&EN)!==0,c=(e&PN)!==0;if(t)return o?"se-resize":c?"ne-resize":"e-resize";if(r)return o?"sw-resize":c?"nw-resize":"w-resize";if(o)return"s-resize";if(c)return"n-resize"}switch(n){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}function T5(){Ri!==null&&(document.head.removeChild(Ri),q0=null,Ri=null,mg=-1)}function s0(n,e){var t,r;const o=R5(n,e);if(q0!==o){if(q0=o,Ri===null&&(Ri=document.createElement("style"),document.head.appendChild(Ri)),mg>=0){var c;(c=Ri.sheet)===null||c===void 0||c.removeRule(mg)}mg=(t=(r=Ri.sheet)===null||r===void 0?void 0:r.insertRule(`*{cursor: ${o} !important;}`))!==null&&t!==void 0?t:-1}}function bN(n){return n.type==="keydown"}function jN(n){return n.type.startsWith("pointer")}function SN(n){return n.type.startsWith("mouse")}function ux(n){if(jN(n)){if(n.isPrimary)return{x:n.clientX,y:n.clientY}}else if(SN(n))return{x:n.clientX,y:n.clientY};return{x:1/0,y:1/0}}function A5(){if(typeof matchMedia=="function")return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}function I5(n,e,t){return n.x<e.x+e.width&&n.x+n.width>e.x&&n.y<e.y+e.height&&n.y+n.height>e.y}function M5(n,e){if(n===e)throw new Error("Cannot compare node with itself");const t={a:kb(n),b:kb(e)};let r;for(;t.a.at(-1)===t.b.at(-1);)n=t.a.pop(),e=t.b.pop(),r=n;pt(r,"Stacking order can only be calculated for elements with a common ancestor");const o={a:Nb(Sb(t.a)),b:Nb(Sb(t.b))};if(o.a===o.b){const c=r.childNodes,u={a:t.a.at(-1),b:t.b.at(-1)};let h=c.length;for(;h--;){const m=c[h];if(m===u.a)return 1;if(m===u.b)return-1}}return Math.sign(o.a-o.b)}const O5=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function D5(n){var e;const t=getComputedStyle((e=NN(n))!==null&&e!==void 0?e:n).display;return t==="flex"||t==="inline-flex"}function L5(n){const e=getComputedStyle(n);return!!(e.position==="fixed"||e.zIndex!=="auto"&&(e.position!=="static"||D5(n))||+e.opacity<1||"transform"in e&&e.transform!=="none"||"webkitTransform"in e&&e.webkitTransform!=="none"||"mixBlendMode"in e&&e.mixBlendMode!=="normal"||"filter"in e&&e.filter!=="none"||"webkitFilter"in e&&e.webkitFilter!=="none"||"isolation"in e&&e.isolation==="isolate"||O5.test(e.willChange)||e.webkitOverflowScrolling==="touch")}function Sb(n){let e=n.length;for(;e--;){const t=n[e];if(pt(t,"Missing node"),L5(t))return t}return null}function Nb(n){return n&&Number(getComputedStyle(n).zIndex)||0}function kb(n){const e=[];for(;n;)e.push(n),n=NN(n);return e}function NN(n){const{parentNode:e}=n;return e&&e instanceof ShadowRoot?e.host:e}const kN=1,CN=2,EN=4,PN=8,$5=A5()==="coarse";let Ks=[],wd=!1,ec=new Map,dx=new Map;const Wh=new Set;function F5(n,e,t,r,o){var c;const{ownerDocument:u}=e,h={direction:t,element:e,hitAreaMargins:r,setResizeHandlerState:o},m=(c=ec.get(u))!==null&&c!==void 0?c:0;return ec.set(u,m+1),Wh.add(h),Ig(),function(){var v;dx.delete(n),Wh.delete(h);const y=(v=ec.get(u))!==null&&v!==void 0?v:1;if(ec.set(u,y-1),Ig(),y===1&&ec.delete(u),Ks.includes(h)){const b=Ks.indexOf(h);b>=0&&Ks.splice(b,1),By(),o("up",!0,null)}}}function z5(n){const{target:e}=n,{x:t,y:r}=ux(n);wd=!0,Uy({target:e,x:t,y:r}),Ig(),Ks.length>0&&(Mg("down",n),n.preventDefault(),RN(e)||n.stopImmediatePropagation())}function a0(n){const{x:e,y:t}=ux(n);if(wd&&n.buttons===0&&(wd=!1,Mg("up",n)),!wd){const{target:r}=n;Uy({target:r,x:e,y:t})}Mg("move",n),By(),Ks.length>0&&n.preventDefault()}function o0(n){const{target:e}=n,{x:t,y:r}=ux(n);dx.clear(),wd=!1,Ks.length>0&&(n.preventDefault(),RN(e)||n.stopImmediatePropagation()),Mg("up",n),Uy({target:e,x:t,y:r}),By(),Ig()}function RN(n){let e=n;for(;e;){if(e.hasAttribute(on.resizeHandle))return!0;e=e.parentElement}return!1}function Uy({target:n,x:e,y:t}){Ks.splice(0);let r=null;(n instanceof HTMLElement||n instanceof SVGElement)&&(r=n),Wh.forEach(o=>{const{element:c,hitAreaMargins:u}=o,h=c.getBoundingClientRect(),{bottom:m,left:p,right:v,top:y}=h,b=$5?u.coarse:u.fine;if(e>=p-b&&e<=v+b&&t>=y-b&&t<=m+b){if(r!==null&&document.contains(r)&&c!==r&&!c.contains(r)&&!r.contains(c)&&M5(r,c)>0){let E=r,P=!1;for(;E&&!E.contains(c);){if(I5(E.getBoundingClientRect(),h)){P=!0;break}E=E.parentElement}if(P)return}Ks.push(o)}})}function i0(n,e){dx.set(n,e)}function By(){let n=!1,e=!1;Ks.forEach(r=>{const{direction:o}=r;o==="horizontal"?n=!0:e=!0});let t=0;dx.forEach(r=>{t|=r}),n&&e?s0("intersection",t):n?s0("horizontal",t):e?s0("vertical",t):T5()}let l0=new AbortController;function Ig(){l0.abort(),l0=new AbortController;const n={capture:!0,signal:l0.signal};Wh.size&&(wd?(Ks.length>0&&ec.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("contextmenu",o0,n),r.addEventListener("pointerleave",a0,n),r.addEventListener("pointermove",a0,n))}),window.addEventListener("pointerup",o0,n),window.addEventListener("pointercancel",o0,n)):ec.forEach((e,t)=>{const{body:r}=t;e>0&&(r.addEventListener("pointerdown",z5,n),r.addEventListener("pointermove",a0,n))}))}function Mg(n,e){Wh.forEach(t=>{const{setResizeHandlerState:r}=t,o=Ks.includes(t);r(n,o,e)})}function U5(){const[n,e]=w.useState(0);return w.useCallback(()=>e(t=>t+1),[])}function pt(n,e){if(!n)throw console.error(e),Error(e)}function ic(n,e,t=Fy){return n.toFixed(t)===e.toFixed(t)?0:n>e?1:-1}function To(n,e,t=Fy){return ic(n,e,t)===0}function Xr(n,e,t){return ic(n,e,t)===0}function B5(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){const o=n[r],c=e[r];if(!Xr(o,c,t))return!1}return!0}function hd({panelConstraints:n,panelIndex:e,size:t}){const r=n[e];pt(r!=null,`Panel constraints not found for index ${e}`);let{collapsedSize:o=0,collapsible:c,maxSize:u=100,minSize:h=0}=r;if(ic(t,h)<0)if(c){const m=(o+h)/2;ic(t,m)<0?t=o:t=h}else t=h;return t=Math.min(u,t),t=parseFloat(t.toFixed(Fy)),t}function jh({delta:n,initialLayout:e,panelConstraints:t,pivotIndices:r,prevLayout:o,trigger:c}){if(Xr(n,0))return e;const u=[...e],[h,m]=r;pt(h!=null,"Invalid first pivot index"),pt(m!=null,"Invalid second pivot index");let p=0;if(c==="keyboard"){{const y=n<0?m:h,b=t[y];pt(b,`Panel constraints not found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const N=e[y];if(pt(N!=null,`Previous layout not found for panel index ${y}`),Xr(N,C)){const R=P-N;ic(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}{const y=n<0?h:m,b=t[y];pt(b,`No panel constraints found for index ${y}`);const{collapsedSize:C=0,collapsible:E,minSize:P=0}=b;if(E){const N=e[y];if(pt(N!=null,`Previous layout not found for panel index ${y}`),Xr(N,P)){const R=N-C;ic(R,Math.abs(n))>0&&(n=n<0?0-R:R)}}}}{const y=n<0?1:-1;let b=n<0?m:h,C=0;for(;;){const P=e[b];pt(P!=null,`Previous layout not found for panel index ${b}`);const R=hd({panelConstraints:t,panelIndex:b,size:100})-P;if(C+=R,b+=y,b<0||b>=t.length)break}const E=Math.min(Math.abs(n),Math.abs(C));n=n<0?0-E:E}{let b=n<0?h:m;for(;b>=0&&b<t.length;){const C=Math.abs(n)-Math.abs(p),E=e[b];pt(E!=null,`Previous layout not found for panel index ${b}`);const P=E-C,N=hd({panelConstraints:t,panelIndex:b,size:P});if(!Xr(E,N)&&(p+=E-N,u[b]=N,p.toPrecision(3).localeCompare(Math.abs(n).toPrecision(3),void 0,{numeric:!0})>=0))break;n<0?b--:b++}}if(B5(o,u))return o;{const y=n<0?m:h,b=e[y];pt(b!=null,`Previous layout not found for panel index ${y}`);const C=b+p,E=hd({panelConstraints:t,panelIndex:y,size:C});if(u[y]=E,!Xr(E,C)){let P=C-E,R=n<0?m:h;for(;R>=0&&R<t.length;){const k=u[R];pt(k!=null,`Previous layout not found for panel index ${R}`);const T=k+P,M=hd({panelConstraints:t,panelIndex:R,size:T});if(Xr(k,M)||(P-=M-k,u[R]=M),Xr(P,0))break;n>0?R--:R++}}}const v=u.reduce((y,b)=>b+y,0);return Xr(v,100)?u:o}function W5({layout:n,panelsArray:e,pivotIndices:t}){let r=0,o=100,c=0,u=0;const h=t[0];pt(h!=null,"No pivot index found"),e.forEach((y,b)=>{const{constraints:C}=y,{maxSize:E=100,minSize:P=0}=C;b===h?(r=P,o=E):(c+=P,u+=E)});const m=Math.min(o,100-c),p=Math.max(r,100-u),v=n[h];return{valueMax:m,valueMin:p,valueNow:v}}function Hh(n,e=document){return Array.from(e.querySelectorAll(`[${on.resizeHandleId}][data-panel-group-id="${n}"]`))}function TN(n,e,t=document){const o=Hh(n,t).findIndex(c=>c.getAttribute(on.resizeHandleId)===e);return o??null}function AN(n,e,t){const r=TN(n,e,t);return r!=null?[r,r+1]:[-1,-1]}function IN(n,e=document){var t;if(e instanceof HTMLElement&&(e==null||(t=e.dataset)===null||t===void 0?void 0:t.panelGroupId)==n)return e;const r=e.querySelector(`[data-panel-group][data-panel-group-id="${n}"]`);return r||null}function fx(n,e=document){const t=e.querySelector(`[${on.resizeHandleId}="${n}"]`);return t||null}function H5(n,e,t,r=document){var o,c,u,h;const m=fx(e,r),p=Hh(n,r),v=m?p.indexOf(m):-1,y=(o=(c=t[v])===null||c===void 0?void 0:c.id)!==null&&o!==void 0?o:null,b=(u=(h=t[v+1])===null||h===void 0?void 0:h.id)!==null&&u!==void 0?u:null;return[y,b]}function V5({committedValuesRef:n,eagerValuesRef:e,groupId:t,layout:r,panelDataArray:o,panelGroupElement:c,setLayout:u}){w.useRef({didWarnAboutMissingResizeHandle:!1}),rc(()=>{if(!c)return;const h=Hh(t,c);for(let m=0;m<o.length-1;m++){const{valueMax:p,valueMin:v,valueNow:y}=W5({layout:r,panelsArray:o,pivotIndices:[m,m+1]}),b=h[m];if(b!=null){const C=o[m];pt(C,`No panel data found for index "${m}"`),b.setAttribute("aria-controls",C.id),b.setAttribute("aria-valuemax",""+Math.round(p)),b.setAttribute("aria-valuemin",""+Math.round(v)),b.setAttribute("aria-valuenow",y!=null?""+Math.round(y):"")}}return()=>{h.forEach((m,p)=>{m.removeAttribute("aria-controls"),m.removeAttribute("aria-valuemax"),m.removeAttribute("aria-valuemin"),m.removeAttribute("aria-valuenow")})}},[t,r,o,c]),w.useEffect(()=>{if(!c)return;const h=e.current;pt(h,"Eager values not found");const{panelDataArray:m}=h,p=IN(t,c);pt(p!=null,`No group found for id "${t}"`);const v=Hh(t,c);pt(v,`No resize handles found for group id "${t}"`);const y=v.map(b=>{const C=b.getAttribute(on.resizeHandleId);pt(C,"Resize handle element has no handle id attribute");const[E,P]=H5(t,C,m,c);if(E==null||P==null)return()=>{};const N=R=>{if(!R.defaultPrevented)switch(R.key){case"Enter":{R.preventDefault();const k=m.findIndex(T=>T.id===E);if(k>=0){const T=m[k];pt(T,`No panel data found for index ${k}`);const M=r[k],{collapsedSize:I=0,collapsible:D,minSize:F=0}=T.constraints;if(M!=null&&D){const z=jh({delta:Xr(M,I)?F-I:I-M,initialLayout:r,panelConstraints:m.map(q=>q.constraints),pivotIndices:AN(t,C,c),prevLayout:r,trigger:"keyboard"});r!==z&&u(z)}}break}}};return b.addEventListener("keydown",N),()=>{b.removeEventListener("keydown",N)}});return()=>{y.forEach(b=>b())}},[c,n,e,t,r,o,u])}function Cb(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!==e[t])return!1;return!0}function MN(n,e){const t=n==="horizontal",{x:r,y:o}=ux(e);return t?r:o}function G5(n,e,t,r,o){const c=t==="horizontal",u=fx(e,o);pt(u,`No resize handle element found for id "${e}"`);const h=u.getAttribute(on.groupId);pt(h,"Resize handle element has no group id attribute");let{initialCursorPosition:m}=r;const p=MN(t,n),v=IN(h,o);pt(v,`No group element found for id "${h}"`);const y=v.getBoundingClientRect(),b=c?y.width:y.height;return(p-m)/b*100}function q5(n,e,t,r,o,c){if(bN(n)){const u=t==="horizontal";let h=0;n.shiftKey?h=100:o!=null?h=o:h=10;let m=0;switch(n.key){case"ArrowDown":m=u?0:h;break;case"ArrowLeft":m=u?-h:0;break;case"ArrowRight":m=u?h:0;break;case"ArrowUp":m=u?0:-h;break;case"End":m=100;break;case"Home":m=-100;break}return m}else return r==null?0:G5(n,e,t,r,c)}function K5({panelDataArray:n}){const e=Array(n.length),t=n.map(c=>c.constraints);let r=0,o=100;for(let c=0;c<n.length;c++){const u=t[c];pt(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;h!=null&&(r++,e[c]=h,o-=h)}for(let c=0;c<n.length;c++){const u=t[c];pt(u,`Panel constraints not found for index ${c}`);const{defaultSize:h}=u;if(h!=null)continue;const m=n.length-r,p=o/m;r++,e[c]=p,o-=p}return e}function ld(n,e,t){e.forEach((r,o)=>{const c=n[o];pt(c,`Panel data not found for index ${o}`);const{callbacks:u,constraints:h,id:m}=c,{collapsedSize:p=0,collapsible:v}=h,y=t[m];if(y==null||r!==y){t[m]=r;const{onCollapse:b,onExpand:C,onResize:E}=u;E&&E(r,y),v&&(b||C)&&(C&&(y==null||To(y,p))&&!To(r,p)&&C(),b&&(y==null||!To(y,p))&&To(r,p)&&b())}})}function ag(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(n[t]!=e[t])return!1;return!0}function Y5({defaultSize:n,dragState:e,layout:t,panelData:r,panelIndex:o,precision:c=3}){const u=t[o];let h;return u==null?h=n!=null?n.toPrecision(c):"1":r.length===1?h="1":h=u.toPrecision(c),{flexBasis:0,flexGrow:h,flexShrink:1,overflow:"hidden",pointerEvents:e!==null?"none":void 0}}function J5(n,e=10){let t=null;return(...o)=>{t!==null&&clearTimeout(t),t=setTimeout(()=>{n(...o)},e)}}function Eb(n){try{if(typeof localStorage<"u")n.getItem=e=>localStorage.getItem(e),n.setItem=(e,t)=>{localStorage.setItem(e,t)};else throw new Error("localStorage not supported in this environment")}catch(e){console.error(e),n.getItem=()=>null,n.setItem=()=>{}}}function ON(n){return`react-resizable-panels:${n}`}function DN(n){return n.map(e=>{const{constraints:t,id:r,idIsFromProps:o,order:c}=e;return o?r:c?`${c}:${JSON.stringify(t)}`:JSON.stringify(t)}).sort((e,t)=>e.localeCompare(t)).join(",")}function LN(n,e){try{const t=ON(n),r=e.getItem(t);if(r){const o=JSON.parse(r);if(typeof o=="object"&&o!=null)return o}}catch{}return null}function X5(n,e,t){var r,o;const c=(r=LN(n,t))!==null&&r!==void 0?r:{},u=DN(e);return(o=c[u])!==null&&o!==void 0?o:null}function Q5(n,e,t,r,o){var c;const u=ON(n),h=DN(e),m=(c=LN(n,o))!==null&&c!==void 0?c:{};m[h]={expandToSizes:Object.fromEntries(t.entries()),layout:r};try{o.setItem(u,JSON.stringify(m))}catch(p){console.error(p)}}function Pb({layout:n,panelConstraints:e}){const t=[...n],r=t.reduce((c,u)=>c+u,0);if(t.length!==e.length)throw Error(`Invalid ${e.length} panel layout: ${t.map(c=>`${c}%`).join(", ")}`);if(!Xr(r,100)&&t.length>0)for(let c=0;c<e.length;c++){const u=t[c];pt(u!=null,`No layout data found for index ${c}`);const h=100/r*u;t[c]=h}let o=0;for(let c=0;c<e.length;c++){const u=t[c];pt(u!=null,`No layout data found for index ${c}`);const h=hd({panelConstraints:e,panelIndex:c,size:u});u!=h&&(o+=u-h,t[c]=h)}if(!Xr(o,0))for(let c=0;c<e.length;c++){const u=t[c];pt(u!=null,`No layout data found for index ${c}`);const h=u+o,m=hd({panelConstraints:e,panelIndex:c,size:h});if(u!==m&&(o-=m-u,t[c]=m,Xr(o,0)))break}return t}const Z5=100,Sh={getItem:n=>(Eb(Sh),Sh.getItem(n)),setItem:(n,e)=>{Eb(Sh),Sh.setItem(n,e)}},Rb={};function $N({autoSaveId:n=null,children:e,className:t="",direction:r,forwardedRef:o,id:c=null,onLayout:u=null,keyboardResizeBy:h=null,storage:m=Sh,style:p,tagName:v="div",...y}){const b=zy(c),C=w.useRef(null),[E,P]=w.useState(null),[N,R]=w.useState([]),k=U5(),T=w.useRef({}),M=w.useRef(new Map),I=w.useRef(0),D=w.useRef({autoSaveId:n,direction:r,dragState:E,id:b,keyboardResizeBy:h,onLayout:u,storage:m}),F=w.useRef({layout:N,panelDataArray:[],panelDataArrayChanged:!1});w.useRef({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),w.useImperativeHandle(o,()=>({getId:()=>D.current.id,getLayout:()=>{const{layout:V}=F.current;return V},setLayout:V=>{const{onLayout:ae}=D.current,{layout:ue,panelDataArray:he}=F.current,te=Pb({layout:V,panelConstraints:he.map(fe=>fe.constraints)});Cb(ue,te)||(R(te),F.current.layout=te,ae&&ae(te),ld(he,te,T.current))}}),[]),rc(()=>{D.current.autoSaveId=n,D.current.direction=r,D.current.dragState=E,D.current.id=b,D.current.onLayout=u,D.current.storage=m}),V5({committedValuesRef:D,eagerValuesRef:F,groupId:b,layout:N,panelDataArray:F.current.panelDataArray,setLayout:R,panelGroupElement:C.current}),w.useEffect(()=>{const{panelDataArray:V}=F.current;if(n){if(N.length===0||N.length!==V.length)return;let ae=Rb[n];ae==null&&(ae=J5(Q5,Z5),Rb[n]=ae);const ue=[...V],he=new Map(M.current);ae(n,ue,he,N,m)}},[n,N,m]),w.useEffect(()=>{});const z=w.useCallback(V=>{const{onLayout:ae}=D.current,{layout:ue,panelDataArray:he}=F.current;if(V.constraints.collapsible){const te=he.map(Ke=>Ke.constraints),{collapsedSize:fe=0,panelSize:Se,pivotIndices:Ee}=Jl(he,V,ue);if(pt(Se!=null,`Panel size not found for panel "${V.id}"`),!To(Se,fe)){M.current.set(V.id,Se);const We=fd(he,V)===he.length-1?Se-fe:fe-Se,rt=jh({delta:We,initialLayout:ue,panelConstraints:te,pivotIndices:Ee,prevLayout:ue,trigger:"imperative-api"});ag(ue,rt)||(R(rt),F.current.layout=rt,ae&&ae(rt),ld(he,rt,T.current))}}},[]),q=w.useCallback((V,ae)=>{const{onLayout:ue}=D.current,{layout:he,panelDataArray:te}=F.current;if(V.constraints.collapsible){const fe=te.map(xt=>xt.constraints),{collapsedSize:Se=0,panelSize:Ee=0,minSize:Ke=0,pivotIndices:We}=Jl(te,V,he),rt=ae??Ke;if(To(Ee,Se)){const xt=M.current.get(V.id),pn=xt!=null&&xt>=rt?xt:rt,Yt=fd(te,V)===te.length-1?Ee-pn:pn-Ee,en=jh({delta:Yt,initialLayout:he,panelConstraints:fe,pivotIndices:We,prevLayout:he,trigger:"imperative-api"});ag(he,en)||(R(en),F.current.layout=en,ue&&ue(en),ld(te,en,T.current))}}},[]),X=w.useCallback(V=>{const{layout:ae,panelDataArray:ue}=F.current,{panelSize:he}=Jl(ue,V,ae);return pt(he!=null,`Panel size not found for panel "${V.id}"`),he},[]),re=w.useCallback((V,ae)=>{const{panelDataArray:ue}=F.current,he=fd(ue,V);return Y5({defaultSize:ae,dragState:E,layout:N,panelData:ue,panelIndex:he})},[E,N]),ie=w.useCallback(V=>{const{layout:ae,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Jl(ue,V,ae);return pt(fe!=null,`Panel size not found for panel "${V.id}"`),te===!0&&To(fe,he)},[]),me=w.useCallback(V=>{const{layout:ae,panelDataArray:ue}=F.current,{collapsedSize:he=0,collapsible:te,panelSize:fe}=Jl(ue,V,ae);return pt(fe!=null,`Panel size not found for panel "${V.id}"`),!te||ic(fe,he)>0},[]),pe=w.useCallback(V=>{const{panelDataArray:ae}=F.current;ae.push(V),ae.sort((ue,he)=>{const te=ue.order,fe=he.order;return te==null&&fe==null?0:te==null?-1:fe==null?1:te-fe}),F.current.panelDataArrayChanged=!0,k()},[k]);rc(()=>{if(F.current.panelDataArrayChanged){F.current.panelDataArrayChanged=!1;const{autoSaveId:V,onLayout:ae,storage:ue}=D.current,{layout:he,panelDataArray:te}=F.current;let fe=null;if(V){const Ee=X5(V,te,ue);Ee&&(M.current=new Map(Object.entries(Ee.expandToSizes)),fe=Ee.layout)}fe==null&&(fe=K5({panelDataArray:te}));const Se=Pb({layout:fe,panelConstraints:te.map(Ee=>Ee.constraints)});Cb(he,Se)||(R(Se),F.current.layout=Se,ae&&ae(Se),ld(te,Se,T.current))}}),rc(()=>{const V=F.current;return()=>{V.layout=[]}},[]);const ke=w.useCallback(V=>{let ae=!1;const ue=C.current;return ue&&window.getComputedStyle(ue,null).getPropertyValue("direction")==="rtl"&&(ae=!0),function(te){te.preventDefault();const fe=C.current;if(!fe)return()=>null;const{direction:Se,dragState:Ee,id:Ke,keyboardResizeBy:We,onLayout:rt}=D.current,{layout:xt,panelDataArray:pn}=F.current,{initialLayout:or}=Ee??{},Yt=AN(Ke,V,fe);let en=q5(te,V,Se,Ee,We,fe);const Dr=Se==="horizontal";Dr&&ae&&(en=-en);const Lr=pn.map(Va=>Va.constraints),qt=jh({delta:en,initialLayout:or??xt,panelConstraints:Lr,pivotIndices:Yt,prevLayout:xt,trigger:bN(te)?"keyboard":"mouse-or-touch"}),ns=!ag(xt,qt);(jN(te)||SN(te))&&I.current!=en&&(I.current=en,!ns&&en!==0?Dr?i0(V,en<0?kN:CN):i0(V,en<0?EN:PN):i0(V,0)),ns&&(R(qt),F.current.layout=qt,rt&&rt(qt),ld(pn,qt,T.current))}},[]),ge=w.useCallback((V,ae)=>{const{onLayout:ue}=D.current,{layout:he,panelDataArray:te}=F.current,fe=te.map(xt=>xt.constraints),{panelSize:Se,pivotIndices:Ee}=Jl(te,V,he);pt(Se!=null,`Panel size not found for panel "${V.id}"`);const We=fd(te,V)===te.length-1?Se-ae:ae-Se,rt=jh({delta:We,initialLayout:he,panelConstraints:fe,pivotIndices:Ee,prevLayout:he,trigger:"imperative-api"});ag(he,rt)||(R(rt),F.current.layout=rt,ue&&ue(rt),ld(te,rt,T.current))},[]),be=w.useCallback((V,ae)=>{const{layout:ue,panelDataArray:he}=F.current,{collapsedSize:te=0,collapsible:fe}=ae,{collapsedSize:Se=0,collapsible:Ee,maxSize:Ke=100,minSize:We=0}=V.constraints,{panelSize:rt}=Jl(he,V,ue);rt!=null&&(fe&&Ee&&To(rt,te)?To(te,Se)||ge(V,Se):rt<We?ge(V,We):rt>Ke&&ge(V,Ke))},[ge]),W=w.useCallback((V,ae)=>{const{direction:ue}=D.current,{layout:he}=F.current;if(!C.current)return;const te=fx(V,C.current);pt(te,`Drag handle element not found for id "${V}"`);const fe=MN(ue,ae);P({dragHandleId:V,dragHandleRect:te.getBoundingClientRect(),initialCursorPosition:fe,initialLayout:he})},[]),K=w.useCallback(()=>{P(null)},[]),ne=w.useCallback(V=>{const{panelDataArray:ae}=F.current,ue=fd(ae,V);ue>=0&&(ae.splice(ue,1),delete T.current[V.id],F.current.panelDataArrayChanged=!0,k())},[k]),B=w.useMemo(()=>({collapsePanel:z,direction:r,dragState:E,expandPanel:q,getPanelSize:X,getPanelStyle:re,groupId:b,isPanelCollapsed:ie,isPanelExpanded:me,reevaluatePanelConstraints:be,registerPanel:pe,registerResizeHandle:ke,resizePanel:ge,startDragging:W,stopDragging:K,unregisterPanel:ne,panelGroupElement:C.current}),[z,E,r,q,X,re,b,ie,me,be,pe,ke,ge,W,K,ne]),U={display:"flex",flexDirection:r==="horizontal"?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return w.createElement(cx.Provider,{value:B},w.createElement(v,{...y,children:e,className:t,id:c,ref:C,style:{...U,...p},[on.group]:"",[on.groupDirection]:r,[on.groupId]:b}))}const FN=w.forwardRef((n,e)=>w.createElement($N,{...n,forwardedRef:e}));$N.displayName="PanelGroup";FN.displayName="forwardRef(PanelGroup)";function fd(n,e){return n.findIndex(t=>t===e||t.id===e.id)}function Jl(n,e,t){const r=fd(n,e),c=r===n.length-1?[r-1,r]:[r,r+1],u=t[r];return{...e.constraints,panelSize:u,pivotIndices:c}}function e6({disabled:n,handleId:e,resizeHandler:t,panelGroupElement:r}){w.useEffect(()=>{if(n||t==null||r==null)return;const o=fx(e,r);if(o==null)return;const c=u=>{if(!u.defaultPrevented)switch(u.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":{u.preventDefault(),t(u);break}case"F6":{u.preventDefault();const h=o.getAttribute(on.groupId);pt(h,`No group element found for id "${h}"`);const m=Hh(h,r),p=TN(h,e,r);pt(p!==null,`No resize element found for id "${e}"`);const v=u.shiftKey?p>0?p-1:m.length-1:p+1<m.length?p+1:0;m[v].focus();break}}};return o.addEventListener("keydown",c),()=>{o.removeEventListener("keydown",c)}},[r,n,e,t])}function zN({children:n=null,className:e="",disabled:t=!1,hitAreaMargins:r,id:o,onBlur:c,onClick:u,onDragging:h,onFocus:m,onPointerDown:p,onPointerUp:v,style:y={},tabIndex:b=0,tagName:C="div",...E}){var P,N;const R=w.useRef(null),k=w.useRef({onClick:u,onDragging:h,onPointerDown:p,onPointerUp:v});w.useEffect(()=>{k.current.onClick=u,k.current.onDragging=h,k.current.onPointerDown=p,k.current.onPointerUp=v});const T=w.useContext(cx);if(T===null)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:M,groupId:I,registerResizeHandle:D,startDragging:F,stopDragging:z,panelGroupElement:q}=T,X=zy(o),[re,ie]=w.useState("inactive"),[me,pe]=w.useState(!1),[ke,ge]=w.useState(null),be=w.useRef({state:re});rc(()=>{be.current.state=re}),w.useEffect(()=>{if(t)ge(null);else{const B=D(X);ge(()=>B)}},[t,X,D]);const W=(P=r==null?void 0:r.coarse)!==null&&P!==void 0?P:15,K=(N=r==null?void 0:r.fine)!==null&&N!==void 0?N:5;w.useEffect(()=>{if(t||ke==null)return;const B=R.current;pt(B,"Element ref not attached");let U=!1;return F5(X,B,M,{coarse:W,fine:K},(ae,ue,he)=>{if(!ue){ie("inactive");return}switch(ae){case"down":{ie("drag"),U=!1,pt(he,'Expected event to be defined for "down" action'),F(X,he);const{onDragging:te,onPointerDown:fe}=k.current;te==null||te(!0),fe==null||fe();break}case"move":{const{state:te}=be.current;U=!0,te!=="drag"&&ie("hover"),pt(he,'Expected event to be defined for "move" action'),ke(he);break}case"up":{ie("hover"),z();const{onClick:te,onDragging:fe,onPointerUp:Se}=k.current;fe==null||fe(!1),Se==null||Se(),U||te==null||te();break}}})},[W,M,t,K,D,X,ke,F,z]),e6({disabled:t,handleId:X,resizeHandler:ke,panelGroupElement:q});const ne={touchAction:"none",userSelect:"none"};return w.createElement(C,{...E,children:n,className:e,id:o,onBlur:()=>{pe(!1),c==null||c()},onFocus:()=>{pe(!0),m==null||m()},ref:R,role:"separator",style:{...ne,...y},tabIndex:b,[on.groupDirection]:M,[on.groupId]:I,[on.resizeHandle]:"",[on.resizeHandleActive]:re==="drag"?"pointer":me?"keyboard":void 0,[on.resizeHandleEnabled]:!t,[on.resizeHandleId]:X,[on.resizeHandleState]:re})}zN.displayName="PanelResizeHandle";const Tb=({className:n,...e})=>a.jsx(FN,{className:Be("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",n),...e}),og=_N,Ab=({withHandle:n,className:e,...t})=>a.jsx(zN,{className:Be("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",e),...t,children:n&&a.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:a.jsx(LD,{className:"h-2.5 w-2.5"})})});var c0={exports:{}},u0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ib;function t6(){if(Ib)return u0;Ib=1;var n=Ug();function e(y,b){return y===b&&(y!==0||1/y===1/b)||y!==y&&b!==b}var t=typeof Object.is=="function"?Object.is:e,r=n.useState,o=n.useEffect,c=n.useLayoutEffect,u=n.useDebugValue;function h(y,b){var C=b(),E=r({inst:{value:C,getSnapshot:b}}),P=E[0].inst,N=E[1];return c(function(){P.value=C,P.getSnapshot=b,m(P)&&N({inst:P})},[y,C,b]),o(function(){return m(P)&&N({inst:P}),y(function(){m(P)&&N({inst:P})})},[y]),u(C),C}function m(y){var b=y.getSnapshot;y=y.value;try{var C=b();return!t(y,C)}catch{return!0}}function p(y,b){return b()}var v=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:h;return u0.useSyncExternalStore=n.useSyncExternalStore!==void 0?n.useSyncExternalStore:v,u0}var Mb;function n6(){return Mb||(Mb=1,c0.exports=t6()),c0.exports}var r6=n6();function s6(){return r6.useSyncExternalStore(a6,()=>!0,()=>!1)}function a6(){return()=>{}}var Wy="Avatar",[o6,ZU]=ts(Wy),[i6,UN]=o6(Wy),BN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,...r}=n,[o,c]=w.useState("idle");return a.jsx(i6,{scope:t,imageLoadingStatus:o,onImageLoadingStatusChange:c,children:a.jsx(nt.span,{...r,ref:e})})});BN.displayName=Wy;var WN="AvatarImage",HN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,src:r,onLoadingStatusChange:o=()=>{},...c}=n,u=UN(WN,t),h=l6(r,c),m=Js(p=>{o(p),u.onImageLoadingStatusChange(p)});return wn(()=>{h!=="idle"&&m(h)},[h,m]),h==="loaded"?a.jsx(nt.img,{...c,ref:e,src:r}):null});HN.displayName=WN;var VN="AvatarFallback",GN=w.forwardRef((n,e)=>{const{__scopeAvatar:t,delayMs:r,...o}=n,c=UN(VN,t),[u,h]=w.useState(r===void 0);return w.useEffect(()=>{if(r!==void 0){const m=window.setTimeout(()=>h(!0),r);return()=>window.clearTimeout(m)}},[r]),u&&c.imageLoadingStatus!=="loaded"?a.jsx(nt.span,{...o,ref:e}):null});GN.displayName=VN;function Ob(n,e){return n?e?(n.src!==e&&(n.src=e),n.complete&&n.naturalWidth>0?"loaded":"loading"):"error":"idle"}function l6(n,{referrerPolicy:e,crossOrigin:t}){const r=s6(),o=w.useRef(null),c=r?(o.current||(o.current=new window.Image),o.current):null,[u,h]=w.useState(()=>Ob(c,n));return wn(()=>{h(Ob(c,n))},[c,n]),wn(()=>{const m=y=>()=>{h(y)};if(!c)return;const p=m("loaded"),v=m("error");return c.addEventListener("load",p),c.addEventListener("error",v),e&&(c.referrerPolicy=e),typeof t=="string"&&(c.crossOrigin=t),()=>{c.removeEventListener("load",p),c.removeEventListener("error",v)}},[c,t,e]),u}var qN=BN,KN=HN,YN=GN;const JN=w.forwardRef(({className:n,...e},t)=>a.jsx(qN,{ref:t,className:Be("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",n),...e}));JN.displayName=qN.displayName;const XN=w.forwardRef(({className:n,...e},t)=>a.jsx(KN,{ref:t,className:Be("aspect-square h-full w-full",n),...e}));XN.displayName=KN.displayName;const QN=w.forwardRef(({className:n,...e},t)=>a.jsx(YN,{ref:t,className:Be("flex h-full w-full items-center justify-center rounded-full bg-muted",n),...e}));QN.displayName=YN.displayName;function mn(n){const e=Object.prototype.toString.call(n);return n instanceof Date||typeof n=="object"&&e==="[object Date]"?new n.constructor(+n):typeof n=="number"||e==="[object Number]"||typeof n=="string"||e==="[object String]"?new Date(n):new Date(NaN)}function ea(n,e){return n instanceof Date?new n.constructor(e):new Date(e)}function ZN(n,e){const t=mn(n);return isNaN(e)?ea(n,NaN):(e&&t.setDate(t.getDate()+e),t)}function Db(n,e){const t=mn(n);if(isNaN(e))return ea(n,NaN);if(!e)return t;const r=t.getDate(),o=ea(n,t.getTime());o.setMonth(t.getMonth()+e+1,0);const c=o.getDate();return r>=c?o:(t.setFullYear(o.getFullYear(),o.getMonth(),r),t)}const ek=6048e5,c6=864e5,tk=6e4,nk=36e5;let u6={};function hx(){return u6}function lc(n,e){var h,m,p,v;const t=hx(),r=(e==null?void 0:e.weekStartsOn)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??t.weekStartsOn??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,o=mn(n),c=o.getDay(),u=(c<r?7:0)+c-r;return o.setDate(o.getDate()-u),o.setHours(0,0,0,0),o}function Og(n){return lc(n,{weekStartsOn:1})}function rk(n){const e=mn(n),t=e.getFullYear(),r=ea(n,0);r.setFullYear(t+1,0,4),r.setHours(0,0,0,0);const o=Og(r),c=ea(n,0);c.setFullYear(t,0,4),c.setHours(0,0,0,0);const u=Og(c);return e.getTime()>=o.getTime()?t+1:e.getTime()>=u.getTime()?t:t-1}function Di(n){const e=mn(n);return e.setHours(0,0,0,0),e}function Lb(n){const e=mn(n),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+n-+t}function Hy(n,e){const t=Di(n),r=Di(e),o=+t-Lb(t),c=+r-Lb(r);return Math.round((o-c)/c6)}function d6(n){const e=rk(n),t=ea(n,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Og(t)}function sk(n){return ea(n,Date.now())}function Vy(n,e){const t=Di(n),r=Di(e);return+t==+r}function f6(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function ak(n){if(!f6(n)&&typeof n!="number")return!1;const e=mn(n);return!isNaN(Number(e))}function K0(n,e){const t=mn(n),r=mn(e),o=$b(t,r),c=Math.abs(Hy(t,r));t.setDate(t.getDate()-o*c);const u=+($b(t,r)===-o),h=o*(c-u);return h===0?0:h}function $b(n,e){const t=n.getFullYear()-e.getFullYear()||n.getMonth()-e.getMonth()||n.getDate()-e.getDate()||n.getHours()-e.getHours()||n.getMinutes()-e.getMinutes()||n.getSeconds()-e.getSeconds()||n.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function h6(n){const e=mn(n);return e.setHours(23,59,59,999),e}function ig(n){const e=mn(n),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function m6(n,e){const t=mn(n.start),r=mn(n.end);let o=+t>+r;const c=o?+t:+r,u=o?r:t;u.setHours(0,0,0,0);let h=1;const m=[];for(;+u<=c;)m.push(mn(u)),u.setDate(u.getDate()+h),u.setHours(0,0,0,0);return o?m.reverse():m}function vh(n){const e=mn(n);return e.setDate(1),e.setHours(0,0,0,0),e}function p6(n){const e=mn(n),t=ea(n,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}const g6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},x6=(n,e,t)=>{let r;const o=g6[n];return typeof o=="string"?r=o:e===1?r=o.one:r=o.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function _d(n){return(e={})=>{const t=e.width?String(e.width):n.defaultWidth;return n.formats[t]||n.formats[n.defaultWidth]}}const v6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},y6={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},w6={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},_6={date:_d({formats:v6,defaultWidth:"full"}),time:_d({formats:y6,defaultWidth:"full"}),dateTime:_d({formats:w6,defaultWidth:"full"})},b6={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},j6=(n,e,t,r)=>b6[n];function Ra(n){return(e,t)=>{const r=t!=null&&t.context?String(t.context):"standalone";let o;if(r==="formatting"&&n.formattingValues){const u=n.defaultFormattingWidth||n.defaultWidth,h=t!=null&&t.width?String(t.width):u;o=n.formattingValues[h]||n.formattingValues[u]}else{const u=n.defaultWidth,h=t!=null&&t.width?String(t.width):n.defaultWidth;o=n.values[h]||n.values[u]}const c=n.argumentCallback?n.argumentCallback(e):e;return o[c]}}const S6={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},N6={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},k6={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},C6={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},E6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},P6={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},R6=(n,e)=>{const t=Number(n),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},T6={ordinalNumber:R6,era:Ra({values:S6,defaultWidth:"wide"}),quarter:Ra({values:N6,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ra({values:k6,defaultWidth:"wide"}),day:Ra({values:C6,defaultWidth:"wide"}),dayPeriod:Ra({values:E6,defaultWidth:"wide",formattingValues:P6,defaultFormattingWidth:"wide"})};function Ta(n){return(e,t={})=>{const r=t.width,o=r&&n.matchPatterns[r]||n.matchPatterns[n.defaultMatchWidth],c=e.match(o);if(!c)return null;const u=c[0],h=r&&n.parsePatterns[r]||n.parsePatterns[n.defaultParseWidth],m=Array.isArray(h)?I6(h,y=>y.test(u)):A6(h,y=>y.test(u));let p;p=n.valueCallback?n.valueCallback(m):m,p=t.valueCallback?t.valueCallback(p):p;const v=e.slice(u.length);return{value:p,rest:v}}}function A6(n,e){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)&&e(n[t]))return t}function I6(n,e){for(let t=0;t<n.length;t++)if(e(n[t]))return t}function ok(n){return(e,t={})=>{const r=e.match(n.matchPattern);if(!r)return null;const o=r[0],c=e.match(n.parsePattern);if(!c)return null;let u=n.valueCallback?n.valueCallback(c[0]):c[0];u=t.valueCallback?t.valueCallback(u):u;const h=e.slice(o.length);return{value:u,rest:h}}}const M6=/^(\d+)(th|st|nd|rd)?/i,O6=/\d+/i,D6={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},L6={any:[/^b/i,/^(a|c)/i]},$6={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},F6={any:[/1/i,/2/i,/3/i,/4/i]},z6={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},U6={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},B6={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},W6={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},H6={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},V6={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},G6={ordinalNumber:ok({matchPattern:M6,parsePattern:O6,valueCallback:n=>parseInt(n,10)}),era:Ta({matchPatterns:D6,defaultMatchWidth:"wide",parsePatterns:L6,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:$6,defaultMatchWidth:"wide",parsePatterns:F6,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ta({matchPatterns:z6,defaultMatchWidth:"wide",parsePatterns:U6,defaultParseWidth:"any"}),day:Ta({matchPatterns:B6,defaultMatchWidth:"wide",parsePatterns:W6,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:H6,defaultMatchWidth:"any",parsePatterns:V6,defaultParseWidth:"any"})},Ha={code:"en-US",formatDistance:x6,formatLong:_6,formatRelative:j6,localize:T6,match:G6,options:{weekStartsOn:0,firstWeekContainsDate:1}};function q6(n){const e=mn(n);return Hy(e,p6(e))+1}function K6(n){const e=mn(n),t=+Og(e)-+d6(e);return Math.round(t/ek)+1}function ik(n,e){var v,y,b,C;const t=mn(n),r=t.getFullYear(),o=hx(),c=(e==null?void 0:e.firstWeekContainsDate)??((y=(v=e==null?void 0:e.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??o.firstWeekContainsDate??((C=(b=o.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=ea(n,0);u.setFullYear(r+1,0,c),u.setHours(0,0,0,0);const h=lc(u,e),m=ea(n,0);m.setFullYear(r,0,c),m.setHours(0,0,0,0);const p=lc(m,e);return t.getTime()>=h.getTime()?r+1:t.getTime()>=p.getTime()?r:r-1}function Y6(n,e){var h,m,p,v;const t=hx(),r=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??t.firstWeekContainsDate??((v=(p=t.locale)==null?void 0:p.options)==null?void 0:v.firstWeekContainsDate)??1,o=ik(n,e),c=ea(n,0);return c.setFullYear(o,0,r),c.setHours(0,0,0,0),lc(c,e)}function J6(n,e){const t=mn(n),r=+lc(t,e)-+Y6(t,e);return Math.round(r/ek)+1}function It(n,e){const t=n<0?"-":"",r=Math.abs(n).toString().padStart(e,"0");return t+r}const ki={y(n,e){const t=n.getFullYear(),r=t>0?t:1-t;return It(e==="yy"?r%100:r,e.length)},M(n,e){const t=n.getMonth();return e==="M"?String(t+1):It(t+1,2)},d(n,e){return It(n.getDate(),e.length)},a(n,e){const t=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(n,e){return It(n.getHours()%12||12,e.length)},H(n,e){return It(n.getHours(),e.length)},m(n,e){return It(n.getMinutes(),e.length)},s(n,e){return It(n.getSeconds(),e.length)},S(n,e){const t=e.length,r=n.getMilliseconds(),o=Math.trunc(r*Math.pow(10,t-3));return It(o,e.length)}},cd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Fb={G:function(n,e,t){const r=n.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(n,e,t){if(e==="yo"){const r=n.getFullYear(),o=r>0?r:1-r;return t.ordinalNumber(o,{unit:"year"})}return ki.y(n,e)},Y:function(n,e,t,r){const o=ik(n,r),c=o>0?o:1-o;if(e==="YY"){const u=c%100;return It(u,2)}return e==="Yo"?t.ordinalNumber(c,{unit:"year"}):It(c,e.length)},R:function(n,e){const t=rk(n);return It(t,e.length)},u:function(n,e){const t=n.getFullYear();return It(t,e.length)},Q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return It(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(n,e,t){const r=Math.ceil((n.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return It(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(n,e,t){const r=n.getMonth();switch(e){case"M":case"MM":return ki.M(n,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(n,e,t){const r=n.getMonth();switch(e){case"L":return String(r+1);case"LL":return It(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(n,e,t,r){const o=J6(n,r);return e==="wo"?t.ordinalNumber(o,{unit:"week"}):It(o,e.length)},I:function(n,e,t){const r=K6(n);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):It(r,e.length)},d:function(n,e,t){return e==="do"?t.ordinalNumber(n.getDate(),{unit:"date"}):ki.d(n,e)},D:function(n,e,t){const r=q6(n);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):It(r,e.length)},E:function(n,e,t){const r=n.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(c);case"ee":return It(c,2);case"eo":return t.ordinalNumber(c,{unit:"day"});case"eee":return t.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(o,{width:"short",context:"formatting"});case"eeee":default:return t.day(o,{width:"wide",context:"formatting"})}},c:function(n,e,t,r){const o=n.getDay(),c=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(c);case"cc":return It(c,e.length);case"co":return t.ordinalNumber(c,{unit:"day"});case"ccc":return t.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(o,{width:"narrow",context:"standalone"});case"cccccc":return t.day(o,{width:"short",context:"standalone"});case"cccc":default:return t.day(o,{width:"wide",context:"standalone"})}},i:function(n,e,t){const r=n.getDay(),o=r===0?7:r;switch(e){case"i":return String(o);case"ii":return It(o,e.length);case"io":return t.ordinalNumber(o,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(n,e,t){const o=n.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},b:function(n,e,t){const r=n.getHours();let o;switch(r===12?o=cd.noon:r===0?o=cd.midnight:o=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},B:function(n,e,t){const r=n.getHours();let o;switch(r>=17?o=cd.evening:r>=12?o=cd.afternoon:r>=4?o=cd.morning:o=cd.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(o,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(o,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(o,{width:"wide",context:"formatting"})}},h:function(n,e,t){if(e==="ho"){let r=n.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return ki.h(n,e)},H:function(n,e,t){return e==="Ho"?t.ordinalNumber(n.getHours(),{unit:"hour"}):ki.H(n,e)},K:function(n,e,t){const r=n.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},k:function(n,e,t){let r=n.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):It(r,e.length)},m:function(n,e,t){return e==="mo"?t.ordinalNumber(n.getMinutes(),{unit:"minute"}):ki.m(n,e)},s:function(n,e,t){return e==="so"?t.ordinalNumber(n.getSeconds(),{unit:"second"}):ki.s(n,e)},S:function(n,e){return ki.S(n,e)},X:function(n,e,t){const r=n.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Ub(r);case"XXXX":case"XX":return Ql(r);case"XXXXX":case"XXX":default:return Ql(r,":")}},x:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"x":return Ub(r);case"xxxx":case"xx":return Ql(r);case"xxxxx":case"xxx":default:return Ql(r,":")}},O:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+zb(r,":");case"OOOO":default:return"GMT"+Ql(r,":")}},z:function(n,e,t){const r=n.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+zb(r,":");case"zzzz":default:return"GMT"+Ql(r,":")}},t:function(n,e,t){const r=Math.trunc(n.getTime()/1e3);return It(r,e.length)},T:function(n,e,t){const r=n.getTime();return It(r,e.length)}};function zb(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=Math.trunc(r/60),c=r%60;return c===0?t+String(o):t+String(o)+e+It(c,2)}function Ub(n,e){return n%60===0?(n>0?"-":"+")+It(Math.abs(n)/60,2):Ql(n,e)}function Ql(n,e=""){const t=n>0?"-":"+",r=Math.abs(n),o=It(Math.trunc(r/60),2),c=It(r%60,2);return t+o+e+c}const Bb=(n,e)=>{switch(n){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},lk=(n,e)=>{switch(n){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},X6=(n,e)=>{const t=n.match(/(P+)(p+)?/)||[],r=t[1],o=t[2];if(!o)return Bb(n,e);let c;switch(r){case"P":c=e.dateTime({width:"short"});break;case"PP":c=e.dateTime({width:"medium"});break;case"PPP":c=e.dateTime({width:"long"});break;case"PPPP":default:c=e.dateTime({width:"full"});break}return c.replace("{{date}}",Bb(r,e)).replace("{{time}}",lk(o,e))},Q6={p:lk,P:X6},Z6=/^D+$/,eF=/^Y+$/,tF=["D","DD","YY","YYYY"];function nF(n){return Z6.test(n)}function rF(n){return eF.test(n)}function sF(n,e,t){const r=aF(n,e,t);if(console.warn(r),tF.includes(n))throw new RangeError(r)}function aF(n,e,t){const r=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,iF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lF=/^'([^]*?)'?$/,cF=/''/g,uF=/[a-zA-Z]/;function $e(n,e,t){var v,y,b,C,E,P,N,R;const r=hx(),o=(t==null?void 0:t.locale)??r.locale??Ha,c=(t==null?void 0:t.firstWeekContainsDate)??((y=(v=t==null?void 0:t.locale)==null?void 0:v.options)==null?void 0:y.firstWeekContainsDate)??r.firstWeekContainsDate??((C=(b=r.locale)==null?void 0:b.options)==null?void 0:C.firstWeekContainsDate)??1,u=(t==null?void 0:t.weekStartsOn)??((P=(E=t==null?void 0:t.locale)==null?void 0:E.options)==null?void 0:P.weekStartsOn)??r.weekStartsOn??((R=(N=r.locale)==null?void 0:N.options)==null?void 0:R.weekStartsOn)??0,h=mn(n);if(!ak(h))throw new RangeError("Invalid time value");let m=e.match(iF).map(k=>{const T=k[0];if(T==="p"||T==="P"){const M=Q6[T];return M(k,o.formatLong)}return k}).join("").match(oF).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const T=k[0];if(T==="'")return{isToken:!1,value:dF(k)};if(Fb[T])return{isToken:!0,value:k};if(T.match(uF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:k}});o.localize.preprocessor&&(m=o.localize.preprocessor(h,m));const p={firstWeekContainsDate:c,weekStartsOn:u,locale:o};return m.map(k=>{if(!k.isToken)return k.value;const T=k.value;(!(t!=null&&t.useAdditionalWeekYearTokens)&&rF(T)||!(t!=null&&t.useAdditionalDayOfYearTokens)&&nF(T))&&sF(T,e,String(n));const M=Fb[T[0]];return M(h,T,o.localize,p)}).join("")}function dF(n){const e=n.match(lF);return e?e[1].replace(cF,"'"):n}function Wb(n,e,t){const r=lc(n,t),o=lc(e,t);return+r==+o}function Vh(n){return Vy(n,sk(n))}function fF(n,e){return ZN(n,-1)}function hF(n){return Vy(n,fF(sk(n)))}function _t(n,e){const r=xF(n);let o;if(r.date){const m=vF(r.date,2);o=yF(m.restDateString,m.year)}if(!o||isNaN(o.getTime()))return new Date(NaN);const c=o.getTime();let u=0,h;if(r.time&&(u=wF(r.time),isNaN(u)))return new Date(NaN);if(r.timezone){if(h=_F(r.timezone),isNaN(h))return new Date(NaN)}else{const m=new Date(c+u),p=new Date(0);return p.setFullYear(m.getUTCFullYear(),m.getUTCMonth(),m.getUTCDate()),p.setHours(m.getUTCHours(),m.getUTCMinutes(),m.getUTCSeconds(),m.getUTCMilliseconds()),p}return new Date(c+u+h)}const lg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},mF=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,pF=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,gF=/^([+-])(\d{2})(?::?(\d{2}))?$/;function xF(n){const e={},t=n.split(lg.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],lg.timeZoneDelimiter.test(e.date)&&(e.date=n.split(lg.timeZoneDelimiter)[0],r=n.substr(e.date.length,n.length))),r){const o=lg.timezone.exec(r);o?(e.time=r.replace(o[1],""),e.timezone=o[1]):e.time=r}return e}function vF(n,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=n.match(t);if(!r)return{year:NaN,restDateString:""};const o=r[1]?parseInt(r[1]):null,c=r[2]?parseInt(r[2]):null;return{year:c===null?o:c*100,restDateString:n.slice((r[1]||r[2]).length)}}function yF(n,e){if(e===null)return new Date(NaN);const t=n.match(mF);if(!t)return new Date(NaN);const r=!!t[4],o=yh(t[1]),c=yh(t[2])-1,u=yh(t[3]),h=yh(t[4]),m=yh(t[5])-1;if(r)return kF(e,h,m)?bF(e,h,m):new Date(NaN);{const p=new Date(0);return!SF(e,c,u)||!NF(e,o)?new Date(NaN):(p.setUTCFullYear(e,c,Math.max(o,u)),p)}}function yh(n){return n?parseInt(n):1}function wF(n){const e=n.match(pF);if(!e)return NaN;const t=d0(e[1]),r=d0(e[2]),o=d0(e[3]);return CF(t,r,o)?t*nk+r*tk+o*1e3:NaN}function d0(n){return n&&parseFloat(n.replace(",","."))||0}function _F(n){if(n==="Z")return 0;const e=n.match(gF);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),o=e[3]&&parseInt(e[3])||0;return EF(r,o)?t*(r*nk+o*tk):NaN}function bF(n,e,t){const r=new Date(0);r.setUTCFullYear(n,0,4);const o=r.getUTCDay()||7,c=(e-1)*7+t+1-o;return r.setUTCDate(r.getUTCDate()+c),r}const jF=[31,null,31,30,31,30,31,31,30,31,30,31];function ck(n){return n%400===0||n%4===0&&n%100!==0}function SF(n,e,t){return e>=0&&e<=11&&t>=1&&t<=(jF[e]||(ck(n)?29:28))}function NF(n,e){return e>=1&&e<=(ck(n)?366:365)}function kF(n,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function CF(n,e,t){return n===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&n>=0&&n<25}function EF(n,e){return e>=0&&e<=59}function wh(n,e){if(n.one!==void 0&&e===1)return n.one;const t=e%10,r=e%100;return t===1&&r!==11?n.singularNominative.replace("{{count}}",String(e)):t>=2&&t<=4&&(r<10||r>20)?n.singularGenitive.replace("{{count}}",String(e)):n.pluralGenitive.replace("{{count}}",String(e))}function pr(n){return(e,t)=>t!=null&&t.addSuffix?t.comparison&&t.comparison>0?n.future?wh(n.future,e):"через "+wh(n.regular,e):n.past?wh(n.past,e):wh(n.regular,e)+" назад":wh(n.regular,e)}const PF={lessThanXSeconds:pr({regular:{one:"меньше секунды",singularNominative:"меньше {{count}} секунды",singularGenitive:"меньше {{count}} секунд",pluralGenitive:"меньше {{count}} секунд"},future:{one:"меньше, чем через секунду",singularNominative:"меньше, чем через {{count}} секунду",singularGenitive:"меньше, чем через {{count}} секунды",pluralGenitive:"меньше, чем через {{count}} секунд"}}),xSeconds:pr({regular:{singularNominative:"{{count}} секунда",singularGenitive:"{{count}} секунды",pluralGenitive:"{{count}} секунд"},past:{singularNominative:"{{count}} секунду назад",singularGenitive:"{{count}} секунды назад",pluralGenitive:"{{count}} секунд назад"},future:{singularNominative:"через {{count}} секунду",singularGenitive:"через {{count}} секунды",pluralGenitive:"через {{count}} секунд"}}),halfAMinute:(n,e)=>e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"через полминуты":"полминуты назад":"полминуты",lessThanXMinutes:pr({regular:{one:"меньше минуты",singularNominative:"меньше {{count}} минуты",singularGenitive:"меньше {{count}} минут",pluralGenitive:"меньше {{count}} минут"},future:{one:"меньше, чем через минуту",singularNominative:"меньше, чем через {{count}} минуту",singularGenitive:"меньше, чем через {{count}} минуты",pluralGenitive:"меньше, чем через {{count}} минут"}}),xMinutes:pr({regular:{singularNominative:"{{count}} минута",singularGenitive:"{{count}} минуты",pluralGenitive:"{{count}} минут"},past:{singularNominative:"{{count}} минуту назад",singularGenitive:"{{count}} минуты назад",pluralGenitive:"{{count}} минут назад"},future:{singularNominative:"через {{count}} минуту",singularGenitive:"через {{count}} минуты",pluralGenitive:"через {{count}} минут"}}),aboutXHours:pr({regular:{singularNominative:"около {{count}} часа",singularGenitive:"около {{count}} часов",pluralGenitive:"около {{count}} часов"},future:{singularNominative:"приблизительно через {{count}} час",singularGenitive:"приблизительно через {{count}} часа",pluralGenitive:"приблизительно через {{count}} часов"}}),xHours:pr({regular:{singularNominative:"{{count}} час",singularGenitive:"{{count}} часа",pluralGenitive:"{{count}} часов"}}),xDays:pr({regular:{singularNominative:"{{count}} день",singularGenitive:"{{count}} дня",pluralGenitive:"{{count}} дней"}}),aboutXWeeks:pr({regular:{singularNominative:"около {{count}} недели",singularGenitive:"около {{count}} недель",pluralGenitive:"около {{count}} недель"},future:{singularNominative:"приблизительно через {{count}} неделю",singularGenitive:"приблизительно через {{count}} недели",pluralGenitive:"приблизительно через {{count}} недель"}}),xWeeks:pr({regular:{singularNominative:"{{count}} неделя",singularGenitive:"{{count}} недели",pluralGenitive:"{{count}} недель"}}),aboutXMonths:pr({regular:{singularNominative:"около {{count}} месяца",singularGenitive:"около {{count}} месяцев",pluralGenitive:"около {{count}} месяцев"},future:{singularNominative:"приблизительно через {{count}} месяц",singularGenitive:"приблизительно через {{count}} месяца",pluralGenitive:"приблизительно через {{count}} месяцев"}}),xMonths:pr({regular:{singularNominative:"{{count}} месяц",singularGenitive:"{{count}} месяца",pluralGenitive:"{{count}} месяцев"}}),aboutXYears:pr({regular:{singularNominative:"около {{count}} года",singularGenitive:"около {{count}} лет",pluralGenitive:"около {{count}} лет"},future:{singularNominative:"приблизительно через {{count}} год",singularGenitive:"приблизительно через {{count}} года",pluralGenitive:"приблизительно через {{count}} лет"}}),xYears:pr({regular:{singularNominative:"{{count}} год",singularGenitive:"{{count}} года",pluralGenitive:"{{count}} лет"}}),overXYears:pr({regular:{singularNominative:"больше {{count}} года",singularGenitive:"больше {{count}} лет",pluralGenitive:"больше {{count}} лет"},future:{singularNominative:"больше, чем через {{count}} год",singularGenitive:"больше, чем через {{count}} года",pluralGenitive:"больше, чем через {{count}} лет"}}),almostXYears:pr({regular:{singularNominative:"почти {{count}} год",singularGenitive:"почти {{count}} года",pluralGenitive:"почти {{count}} лет"},future:{singularNominative:"почти через {{count}} год",singularGenitive:"почти через {{count}} года",pluralGenitive:"почти через {{count}} лет"}})},RF=(n,e,t)=>PF[n](e,t),TF={full:"EEEE, d MMMM y 'г.'",long:"d MMMM y 'г.'",medium:"d MMM y 'г.'",short:"dd.MM.y"},AF={full:"H:mm:ss zzzz",long:"H:mm:ss z",medium:"H:mm:ss",short:"H:mm"},IF={any:"{{date}}, {{time}}"},MF={date:_d({formats:TF,defaultWidth:"full"}),time:_d({formats:AF,defaultWidth:"full"}),dateTime:_d({formats:IF,defaultWidth:"any"})},Gy=["воскресенье","понедельник","вторник","среду","четверг","пятницу","субботу"];function OF(n){const e=Gy[n];switch(n){case 0:return"'в прошлое "+e+" в' p";case 1:case 2:case 4:return"'в прошлый "+e+" в' p";case 3:case 5:case 6:return"'в прошлую "+e+" в' p"}}function Hb(n){const e=Gy[n];return n===2?"'во "+e+" в' p":"'в "+e+" в' p"}function DF(n){const e=Gy[n];switch(n){case 0:return"'в следующее "+e+" в' p";case 1:case 2:case 4:return"'в следующий "+e+" в' p";case 3:case 5:case 6:return"'в следующую "+e+" в' p"}}const LF={lastWeek:(n,e,t)=>{const r=n.getDay();return Wb(n,e,t)?Hb(r):OF(r)},yesterday:"'вчера в' p",today:"'сегодня в' p",tomorrow:"'завтра в' p",nextWeek:(n,e,t)=>{const r=n.getDay();return Wb(n,e,t)?Hb(r):DF(r)},other:"P"},$F=(n,e,t,r)=>{const o=LF[n];return typeof o=="function"?o(e,t,r):o},FF={narrow:["до н.э.","н.э."],abbreviated:["до н. э.","н. э."],wide:["до нашей эры","нашей эры"]},zF={narrow:["1","2","3","4"],abbreviated:["1-й кв.","2-й кв.","3-й кв.","4-й кв."],wide:["1-й квартал","2-й квартал","3-й квартал","4-й квартал"]},UF={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","март","апр.","май","июнь","июль","авг.","сент.","окт.","нояб.","дек."],wide:["январь","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"]},BF={narrow:["Я","Ф","М","А","М","И","И","А","С","О","Н","Д"],abbreviated:["янв.","фев.","мар.","апр.","мая","июн.","июл.","авг.","сент.","окт.","нояб.","дек."],wide:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"]},WF={narrow:["В","П","В","С","Ч","П","С"],short:["вс","пн","вт","ср","чт","пт","сб"],abbreviated:["вск","пнд","втр","срд","чтв","птн","суб"],wide:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"]},HF={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утро",afternoon:"день",evening:"веч.",night:"ночь"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утро",afternoon:"день",evening:"вечер",night:"ночь"}},VF={narrow:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},abbreviated:{am:"ДП",pm:"ПП",midnight:"полн.",noon:"полд.",morning:"утра",afternoon:"дня",evening:"веч.",night:"ночи"},wide:{am:"ДП",pm:"ПП",midnight:"полночь",noon:"полдень",morning:"утра",afternoon:"дня",evening:"вечера",night:"ночи"}},GF=(n,e)=>{const t=Number(n),r=e==null?void 0:e.unit;let o;return r==="date"?o="-е":r==="week"||r==="minute"||r==="second"?o="-я":o="-й",t+o},qF={ordinalNumber:GF,era:Ra({values:FF,defaultWidth:"wide"}),quarter:Ra({values:zF,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Ra({values:UF,defaultWidth:"wide",formattingValues:BF,defaultFormattingWidth:"wide"}),day:Ra({values:WF,defaultWidth:"wide"}),dayPeriod:Ra({values:HF,defaultWidth:"any",formattingValues:VF,defaultFormattingWidth:"wide"})},KF=/^(\d+)(-?(е|я|й|ое|ье|ая|ья|ый|ой|ий|ый))?/i,YF=/\d+/i,JF={narrow:/^((до )?н\.?\s?э\.?)/i,abbreviated:/^((до )?н\.?\s?э\.?)/i,wide:/^(до нашей эры|нашей эры|наша эра)/i},XF={any:[/^д/i,/^н/i]},QF={narrow:/^[1234]/i,abbreviated:/^[1234](-?[ыои]?й?)? кв.?/i,wide:/^[1234](-?[ыои]?й?)? квартал/i},ZF={any:[/1/i,/2/i,/3/i,/4/i]},e8={narrow:/^[яфмаисонд]/i,abbreviated:/^(янв|фев|март?|апр|ма[йя]|июн[ья]?|июл[ья]?|авг|сент?|окт|нояб?|дек)\.?/i,wide:/^(январ[ья]|феврал[ья]|марта?|апрел[ья]|ма[йя]|июн[ья]|июл[ья]|августа?|сентябр[ья]|октябр[ья]|октябр[ья]|ноябр[ья]|декабр[ья])/i},t8={narrow:[/^я/i,/^ф/i,/^м/i,/^а/i,/^м/i,/^и/i,/^и/i,/^а/i,/^с/i,/^о/i,/^н/i,/^я/i],any:[/^я/i,/^ф/i,/^мар/i,/^ап/i,/^ма[йя]/i,/^июн/i,/^июл/i,/^ав/i,/^с/i,/^о/i,/^н/i,/^д/i]},n8={narrow:/^[впсч]/i,short:/^(вс|во|пн|по|вт|ср|чт|че|пт|пя|сб|су)\.?/i,abbreviated:/^(вск|вос|пнд|пон|втр|вто|срд|сре|чтв|чет|птн|пят|суб).?/i,wide:/^(воскресень[ея]|понедельника?|вторника?|сред[аы]|четверга?|пятниц[аы]|суббот[аы])/i},r8={narrow:[/^в/i,/^п/i,/^в/i,/^с/i,/^ч/i,/^п/i,/^с/i],any:[/^в[ос]/i,/^п[он]/i,/^в/i,/^ср/i,/^ч/i,/^п[ят]/i,/^с[уб]/i]},s8={narrow:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,abbreviated:/^([дп]п|полн\.?|полд\.?|утр[оа]|день|дня|веч\.?|ноч[ьи])/i,wide:/^([дп]п|полночь|полдень|утр[оа]|день|дня|вечера?|ноч[ьи])/i},a8={any:{am:/^дп/i,pm:/^пп/i,midnight:/^полн/i,noon:/^полд/i,morning:/^у/i,afternoon:/^д[ен]/i,evening:/^в/i,night:/^н/i}},o8={ordinalNumber:ok({matchPattern:KF,parsePattern:YF,valueCallback:n=>parseInt(n,10)}),era:Ta({matchPatterns:JF,defaultMatchWidth:"wide",parsePatterns:XF,defaultParseWidth:"any"}),quarter:Ta({matchPatterns:QF,defaultMatchWidth:"wide",parsePatterns:ZF,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ta({matchPatterns:e8,defaultMatchWidth:"wide",parsePatterns:t8,defaultParseWidth:"any"}),day:Ta({matchPatterns:n8,defaultMatchWidth:"wide",parsePatterns:r8,defaultParseWidth:"any"}),dayPeriod:Ta({matchPatterns:s8,defaultMatchWidth:"wide",parsePatterns:a8,defaultParseWidth:"any"})},En={code:"ru",formatDistance:RF,formatLong:MF,formatRelative:$F,localize:qF,match:o8,options:{weekStartsOn:1,firstWeekContainsDate:1}},i8=({channel:n})=>{const e=typeof n=="string"?n.toLowerCase():"",t={whatsapp:a.jsx("img",{src:"/icons/whatsapp.png",alt:"WhatsApp",className:"h-4 w-4"}),telegram:a.jsx("img",{src:"/icons/telegram.png",alt:"Telegram",className:"h-4 w-4"}),avito:a.jsx("img",{src:"/icons/avito.png",alt:"Avito",className:"h-4 w-4"}),email:a.jsx("img",{src:"/icons/email.png",alt:"Email",className:"h-4 w-4"})};return t[e]?a.jsx("div",{className:"absolute -bottom-1 -right-1 bg-white rounded-full p-1 shadow-lg border-2 border-white flex items-center justify-center transform transition-transform hover:scale-110",children:t[e]}):null},l8=({status:n,isLastMessageFromStaff:e})=>{if(!e)return null;switch(n){case"sent":return a.jsx("div",{className:"flex items-center",title:"Отправлено",children:a.jsx($a,{className:"h-3.5 w-3.5 text-slate-400"})});case"delivered":return a.jsx("div",{className:"flex items-center",title:"Доставлено",children:a.jsx(Rh,{className:"h-3.5 w-3.5 text-slate-400"})});case"read":return a.jsx("div",{className:"flex items-center",title:"Прочитано",children:a.jsx(Rh,{className:"h-3.5 w-3.5 text-blue-500"})});case"failed":return a.jsx("div",{className:"flex items-center",title:"Ошибка отправки",children:a.jsx(_s,{className:"h-3.5 w-3.5 text-rose-500 animate-pulse"})});default:return null}},c8=n=>{if(!n)return"";const e=new Date(n);return ak(e)?Vh(e)?$e(e,"HH:mm"):hF(e)?"Вчера":$e(e,"dd.MM.yy",{locale:En}):""},pg=n=>n!=null&&n.contact_full_name?n.contact_full_name:`Диалог #${((n==null?void 0:n.id)||"").substring(0,6)}`,u8=n=>{const e=pg(n);if(e.startsWith("Диалог"))return n.channel==="whatsapp"?"WA":n.channel==="telegram"?"TG":n.channel==="avito"?"AV":n.channel==="email"?"@":"??";const t=e.trim().split(" ");return t.length===1?t[0].substring(0,2).toUpperCase():t.slice(0,2).map(r=>r[0]).join("").toUpperCase()};function Vb({onConversationSelect:n,selectedConversation:e}){const[t,r]=w.useState([]),[o,c]=w.useState(!0),[u,h]=w.useState(""),[m,p]=w.useState(""),[v,y]=w.useState(""),b=async M=>{if(M.contact_avatar_url)return console.log(`ℹ️ Аватар уже есть для ${M.contact_full_name}`),null;if(!M.contact_id)return console.log(`❌ Нет contact_id для ${M.contact_full_name}`),null;if(M.channel!=="whatsapp"&&M.channel!=="telegram")return console.log(`ℹ️ Канал ${M.channel} не поддерживается для аватаров`),null;try{console.log(`🖼️ Загружаем аватар для ${M.channel}:`,M.contact_full_name);let I;if(M.channel==="telegram"?I=M.telegram_user_id:M.channel==="whatsapp"&&(I=M.whatsapp_sender_id),!I){console.log(`❌ Не найден external_id в диалоге для ${M.channel}`),console.log("🔄 Пробуем найти external_id в таблице contacts...");const{data:X,error:re}=await Pe.from("contacts").select("external_id").eq("id",M.contact_id).single();if(re||!(X!=null&&X.external_id))return console.log("❌ external_id не найден и в таблице contacts"),null;I=X.external_id}console.log(`📞 Загружаем аватар для ${M.channel} ID:`,I);const D=M.channel==="telegram"?"fetch-telegram-avatar":"fetch-whatsapp-avatar",F=M.channel==="telegram"?"telegram_user_id":"wa_id",{data:z,error:q}=await Pe.functions.invoke(D,{body:{[F]:I,contact_id:M.contact_id}});return q?(console.error("❌ Ошибка Edge Function:",q),null):z!=null&&z.success&&(z!=null&&z.avatar_url)?(console.log("✅ Аватар загружен:",z.avatar_url),r(X=>X.map(re=>re.id===M.id?{...re,contact_avatar_url:z.avatar_url}:re)),z.avatar_url):(console.log("ℹ️ Аватар не найден:",(z==null?void 0:z.message)||"Неизвестная ошибка"),null)}catch(I){return console.error("💥 Ошибка при загрузке аватара:",I),null}},C=w.useCallback(async M=>{console.log("🎯 Обновляем статус последнего сообщения в диалоге:",M);try{r(I=>I.map(D=>D.id===M.conversation_id&&D.last_message_sender_is_staff?(console.log(`✅ Обновляем статус диалога ${D.contact_full_name}: ${M.status}`),{...D,last_message_status:M.status,updated_at:new Date().toISOString()}):D)),console.log("✅ Статус диалога обновлен мгновенно")}catch(I){console.error("💥 Ошибка умного обновления статуса:",I),setTimeout(()=>N(!0),500)}},[]),E=async M=>{try{console.log("🧠 Получено сообщение от гостя, проверяем непрочитанные сообщения...");const{data:I,error:D}=await Pe.from("messages").select("id, content, created_at").eq("conversation_id",M.conversation_id).eq("sender_type","staff").in("status",["sent","delivered"]).order("created_at",{ascending:!1});if(D){console.error("❌ Ошибка поиска непрочитанных сообщений:",D);return}if(!(I!=null&&I.length)){console.log("ℹ️ Нет непрочитанных сообщений от персонала");return}if(console.log(`📖 Найдено ${I.length} непрочитанных сообщений от персонала`),new Date-new Date(I[0].created_at)<1440*60*1e3){const q=I.map(re=>re.id),{error:X}=await Pe.from("messages").update({status:"read",updated_at:new Date().toISOString()}).in("id",q);X?console.error("❌ Ошибка обновления статусов:",X):(console.log(`✅ Помечено как прочитанное ${q.length} сообщений (пользователь ответил)`),setTimeout(()=>N(!0),500))}else console.log("⏰ Сообщения слишком старые, не помечаем как прочитанные автоматически")}catch(I){console.error("💥 Ошибка умной логики прочтения:",I)}},P=async()=>{var M,I;console.log("🧪 Тестируем Telegram Avatar Function...");try{const D=await Pe.functions.invoke("fetch-telegram-avatar",{body:{telegram_user_id:"1322101796",contact_id:"d860abee-90a9-4e01-a5bd-5ef07adb13da"}});console.log("📊 Результат тестирования:",D),(M=D.data)!=null&&M.success?(console.log("✅ Аватар успешно загружен:",D.data.avatar_url),N(!0)):console.log("❌ Не удалось загрузить аватар:",(I=D.data)==null?void 0:I.message)}catch(D){console.error("💥 Ошибка тестирования:",D)}},N=w.useCallback(async(M=!1)=>{console.log("🔄 Начинаем загрузку диалогов через RPC...",M?"(тихое обновление)":""),p(""),M||c(!0);try{const{data:I,error:D}=await Pe.rpc("get_conversations");D?(console.error("❌ Ошибка RPC get_conversations:",D),p(`Ошибка RPC: ${D.message}`),y(`RPC ошибка: ${D.code} - ${D.message}`)):(console.log("✅ RPC функция вернула данные:",(I==null?void 0:I.length)||0),console.log("📊 Первые 3 диалога:",I==null?void 0:I.slice(0,3)),console.log("🖼️ Аватары:",I==null?void 0:I.slice(0,3).map(F=>({id:F.id,avatar:F.contact_avatar_url}))),r(I||[]),y(`RPC функция работает. Найдено: ${(I==null?void 0:I.length)||0} диалогов`))}catch(I){console.error("💥 Неожиданная ошибка:",I),p(`Неожиданная ошибка: ${I.message}`),y(`Исключение: ${I.message}`)}M||c(!1)},[]);w.useEffect(()=>{N();const M=Pe.channel("public-db-changes-smart-read-sidebar").on("postgres_changes",{event:"INSERT",schema:"public",table:"messages"},I=>{console.log("🔔 Новое сообщение в БД (sidebar):",I.new),I.new.sender_type==="guest"&&(console.log("👤 Сообщение от гостя"),e&&I.new.conversation_id===e.id?(console.log("📖 Сообщение в активном диалоге - помечаем как прочитанное сразу"),setTimeout(async()=>{const{error:D}=await Pe.rpc("mark_conversation_as_read",{conv_id:I.new.conversation_id});D||console.log("✅ Активный диалог отмечен как прочитанный")},100)):(console.log("💭 Сообщение в неактивном диалоге - запускаем умную логику"),E(I.new))),setTimeout(()=>N(!0),300)}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages"},I=>{console.log("🔄 Обновление сообщения (sidebar):",I.new.id,"статус:",I.new.status),C(I.new),setTimeout(()=>{console.log("🔄 Дополнительная синхронизация диалогов"),N(!0)},2e3)}).on("postgres_changes",{event:"*",schema:"public",table:"conversations"},I=>{console.log("🔔 Изменение в диалогах:",I),setTimeout(()=>N(!0),500)}).subscribe();return console.log("📡 Подписка на умную логику прочтения (sidebar) настроена"),()=>{console.log("🔌 Отключаем подписку (sidebar)"),Pe.removeChannel(M)}},[]);const R=async()=>{try{console.log("⏰ Проверяем старые сообщения для автоматического прочтения...");const M=new Date(Date.now()-7200*1e3).toISOString(),{data:I,error:D}=await Pe.from("messages").select("id, conversation_id").eq("sender_type","staff").eq("status","delivered").lt("created_at",M);if(D||!(I!=null&&I.length))return;console.log(`📅 Найдено ${I.length} старых сообщений для автопрочтения`);const F=I.map(q=>q.id),{error:z}=await Pe.from("messages").update({status:"read"}).in("id",F);z||console.log(`✅ Автоматически помечено как прочитанное ${F.length} старых сообщений`)}catch(M){console.error("💥 Ошибка автопрочтения старых сообщений:",M)}};w.useEffect(()=>{const M=async()=>{console.log("🔍 Проверяем аватары для всех диалогов...");const I=t.filter(D=>{const F=!D.contact_avatar_url,z=D.channel==="whatsapp"||D.channel==="telegram",q=D.contact_id;return console.log(`📋 Диалог ${D.contact_full_name}: канал=${D.channel}, аватар=${D.contact_avatar_url?"есть":"нет"}, contact_id=${D.contact_id?"есть":"нет"}`),F&&z&&q});if(console.log(`🔄 Найдено ${I.length} контактов без аватаров для загрузки`),I.length===0){console.log("✅ Все аватары уже загружены или каналы не поддерживаются");return}I.forEach(D=>{console.log(`🎯 Планируем загрузить аватар: ${D.contact_full_name} (${D.channel})`)});for(const D of I.slice(0,3))console.log(`⏳ Загружаем аватар для ${D.contact_full_name} (${D.channel})`),await b(D),await new Promise(F=>setTimeout(F,1e3))};t.length>0&&(console.log(`📊 Всего диалогов: ${t.length}`),M())},[t.length]);const k=async M=>{if(console.log("👆 Клик по диалогу:",M.id,"Непрочитанных:",M.unread_count),n(M),M.unread_count>0){r(D=>D.map(F=>F.id===M.id?{...F,unread_count:0}:F)),console.log("🔄 Отмечаем диалог как прочитанный...");const{error:I}=await Pe.rpc("mark_conversation_as_read",{conv_id:M.id});I?(console.error("❌ Ошибка при отметке о прочтении:",I),r(D=>D.map(F=>F.id===M.id?{...F,unread_count:M.unread_count}:F))):console.log("✅ Диалог отмечен как прочитанный")}};w.useEffect(()=>{const M=setInterval(R,18e5);return()=>clearInterval(M)},[]);const T=t.filter(M=>u?pg(M).toLowerCase().includes(u.toLowerCase()):!0);return a.jsxs("div",{className:"h-full flex flex-col bg-gradient-to-br from-slate-50 via-white to-blue-50/30 backdrop-blur-xl",children:[a.jsxs("div",{className:"p-5 bg-white/80 backdrop-blur-md border-b border-slate-200/50 shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-2xl font-bold bg-gradient-to-r from-slate-800 to-blue-600 bg-clip-text text-transparent flex items-center",children:[a.jsx("div",{className:"mr-3 p-2 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl shadow-lg shadow-blue-500/20",children:a.jsx(kg,{className:"h-5 w-5 text-white"})}),"Сообщения"]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:P,className:"p-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-xl text-xs hover:shadow-lg hover:shadow-blue-500/25 transform transition-all hover:-translate-y-0.5",title:"Тест Telegram Avatar",children:a.jsx(j4,{className:"h-4 w-4"})}),a.jsx("button",{onClick:()=>N(!1),className:"p-2.5 bg-white hover:bg-slate-50 rounded-xl transition-all duration-200 shadow-sm hover:shadow-md group",title:"Обновить список",children:a.jsx(zi,{className:`h-4 w-4 text-slate-600 group-hover:text-blue-600 transition-colors ${o?"animate-spin":""}`})})]})]}),v&&a.jsx("div",{className:"mb-3 p-3 bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200/50 rounded-xl text-xs text-blue-700 backdrop-blur-sm",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"animate-pulse mr-2",children:"🔍"}),v]})}),m&&a.jsxs("div",{className:"mb-3 p-3 bg-gradient-to-r from-rose-50 to-pink-50 border border-rose-200/50 rounded-xl text-xs text-rose-700 flex items-center backdrop-blur-sm",children:[a.jsx(_s,{className:"h-4 w-4 mr-2 flex-shrink-0"}),m]}),a.jsxs("div",{className:"relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-xl blur opacity-20 group-hover:opacity-30 transition-opacity"}),a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400 group-focus-within:text-blue-500 transition-colors"}),a.jsx(Oe,{placeholder:"Поиск по сообщениям...",value:u,onChange:M=>h(M.target.value),className:"pl-10 pr-4 py-2.5 bg-white/90 backdrop-blur-sm border-slate-200/50 rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 transition-all"})]})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[o&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-blue-100 to-purple-100 rounded-2xl mb-4",children:a.jsx(zi,{className:"h-8 w-8 animate-spin text-blue-600"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Загрузка сообщений..."})]})}),!o&&!m&&T.length===0&&t.length===0&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-slate-100 to-blue-100 rounded-2xl mb-4",children:a.jsx(kg,{className:"h-8 w-8 text-slate-400"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Диалогов пока нет"}),a.jsx("p",{className:"text-slate-400 text-sm mt-1",children:"Новые сообщения появятся здесь"})]})}),!o&&!m&&T.length===0&&t.length>0&&a.jsx("div",{className:"p-8 text-center",children:a.jsxs("div",{className:"inline-flex flex-col items-center",children:[a.jsx("div",{className:"p-4 bg-gradient-to-br from-orange-100 to-amber-100 rounded-2xl mb-4",children:a.jsx(ac,{className:"h-8 w-8 text-orange-500"})}),a.jsx("p",{className:"text-slate-600 font-medium",children:"Ничего не найдено"}),a.jsxs("p",{className:"text-slate-400 text-sm mt-1",children:['По запросу "',u,'"']})]})}),a.jsx("div",{className:"p-2",children:!o&&!m&&T.map(M=>a.jsx("div",{onClick:()=>k(M),className:`
                                relative mb-2 p-4 rounded-2xl cursor-pointer
                                transition-all duration-200 transform hover:scale-[1.02]
                                ${(e==null?void 0:e.id)===M.id?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25":"bg-white hover:bg-gradient-to-r hover:from-slate-50 hover:to-blue-50 shadow-sm hover:shadow-md"}
                            `,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"relative flex-shrink-0",children:a.jsxs("div",{className:"relative",children:[a.jsxs(JN,{className:"h-12 w-12 ring-2 ring-white shadow-md",children:[M.contact_avatar_url?a.jsx(XN,{src:M.contact_avatar_url,alt:pg(M),onError:I=>{console.log("❌ Ошибка загрузки аватара:",I.target.src),b(M)}}):null,a.jsx(QN,{className:`font-semibold text-sm ${(e==null?void 0:e.id)===M.id?"bg-white/20 text-white":"bg-gradient-to-br from-blue-500 to-purple-600 text-white"}`,children:u8(M)})]}),a.jsx(i8,{channel:M.channel})]})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("h3",{className:`font-semibold truncate flex-1 pr-2 ${(e==null?void 0:e.id)===M.id?"text-white":"text-slate-800"}`,children:pg(M)}),a.jsx("span",{className:`text-xs flex-shrink-0 ${(e==null?void 0:e.id)===M.id?"text-white/80":"text-slate-400"}`,children:c8(M.updated_at)})]}),a.jsxs("div",{className:"flex items-start justify-between mt-1",children:[a.jsxs("p",{className:`text-sm truncate pr-2 ${(e==null?void 0:e.id)===M.id?"text-white/90":"text-slate-500"}`,children:[M.last_message_sender_is_staff&&a.jsx("span",{className:"font-medium",children:"Вы: "}),M.last_message_preview]}),a.jsx("div",{className:"flex-shrink-0 h-5 flex items-center justify-center min-w-[20px]",children:M.unread_count>0?a.jsx("div",{className:"bg-gradient-to-r from-emerald-400 to-green-500 text-white text-xs font-bold rounded-full h-6 min-w-[24px] flex items-center justify-center px-1.5 shadow-lg shadow-emerald-500/30 animate-pulse",children:M.unread_count}):M.last_message_sender_is_staff?a.jsx(l8,{status:M.last_message_status,isLastMessageFromStaff:M.last_message_sender_is_staff}):null})]})]})]})},M.id))})]})]})}const d8=({status:n,channel:e})=>{if(e==="telegram"&&n==="read")return a.jsx("div",{className:"flex items-center ml-1.5",title:"Доставлено в Telegram",children:a.jsx(Rh,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});switch(n){case"sent":return a.jsx("div",{className:"flex items-center ml-1.5",title:"Отправлено",children:a.jsx($a,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"delivered":const t=e==="telegram"?"Доставлено в Telegram":e==="email"?"Доставлено в почтовый ящик":e==="whatsapp"?"Доставлено в WhatsApp":"Доставлено";return a.jsx("div",{className:"flex items-center ml-1.5",title:t,children:a.jsx(Rh,{className:"h-3.5 w-3.5 text-white/90 drop-shadow-sm"})});case"read":const r=e==="email"?"Прочитано (получатель открыл письмо)":e==="whatsapp"?"Прочитано в WhatsApp":"Прочитано";return a.jsx("div",{className:"flex items-center ml-1.5",title:r,children:a.jsx(Rh,{className:"h-3.5 w-3.5 text-emerald-400 drop-shadow-glow"})});case"failed":const o=e==="email"?"Ошибка отправки письма":e==="whatsapp"?"Ошибка отправки в WhatsApp":e==="telegram"?"Ошибка отправки в Telegram":"Ошибка отправки";return a.jsx("div",{className:"flex items-center ml-1.5",title:o,children:a.jsx(_s,{className:"h-3.5 w-3.5 text-rose-400 animate-pulse drop-shadow-glow"})});default:return null}},f8=({channel:n})=>{const e={whatsapp:"from-green-400 to-green-600 text-white",telegram:"from-blue-400 to-blue-600 text-white",avito:"from-purple-400 to-purple-600 text-white",email:"from-orange-400 to-orange-600 text-white"},t={whatsapp:"💬",telegram:"✈️",avito:"🏠",email:"📧"},r=e[n==null?void 0:n.toLowerCase()]||"from-slate-400 to-slate-600 text-white",o=t[n==null?void 0:n.toLowerCase()]||"💬";return a.jsxs("div",{className:`inline-flex items-center gap-1.5 px-3 py-1 bg-gradient-to-r ${r} rounded-full text-xs font-medium shadow-md`,children:[a.jsx("span",{children:o}),a.jsx("span",{className:"capitalize",children:n})]})};function Y0({selectedConversation:n}){const{user:e}=Xh(),[t,r]=w.useState([]),[o,c]=w.useState(""),[u,h]=w.useState(!1),[m,p]=w.useState(!1),v=w.useRef(null);w.useEffect(()=>{if(!(n!=null&&n.id)){r([]);return}(async()=>{h(!0);try{const{data:k,error:T}=await Pe.from("messages").select("*").eq("conversation_id",n.id).order("created_at",{ascending:!0});if(T)throw T;r(k||[])}catch(k){console.error("Ошибка загрузки сообщений:",k)}finally{h(!1)}})();const R=Pe.channel(`messages:${n.id}`).on("postgres_changes",{event:"INSERT",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},k=>{console.log("💬 Новое сообщение в чате:",k.new),r(T=>T.find(M=>M.id===k.new.id)?T:[...T,k.new])}).on("postgres_changes",{event:"UPDATE",schema:"public",table:"messages",filter:`conversation_id=eq.${n.id}`},k=>{console.log("🔄 Обновление статуса сообщения:",k.new.id,"статус:",k.new.status,"канал:",k.new.channel),r(T=>T.map(M=>M.id===k.new.id?{...M,status:k.new.status,brevo_message_id:k.new.brevo_message_id}:M))}).subscribe();return()=>{Pe.removeChannel(R)}},[n==null?void 0:n.id]),w.useEffect(()=>{var N;(N=v.current)==null||N.scrollIntoView({behavior:"smooth"})},[t]);const y=async()=>{var T;const N=n;if(!o.trim()||!N||!e)return;const R=o.trim();c("");const k={id:`temp-${Date.now()}`,conversation_id:N.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent",created_at:new Date().toISOString(),isOptimistic:!0};r(M=>[...M,k]);try{console.log(`📤 Отправляем сообщение в ${N.channel}:`,R);const{data:M,error:I}=await Pe.from("messages").insert({conversation_id:N.id,content:R,sender_id:e.id,sender_type:"staff",status:"sent"}).select().single();if(I)throw I;console.log("✅ Сообщение сохранено в БД:",M.id),r(q=>q.map(X=>X.id===k.id?{...M,isOptimistic:!1}:X));const D=(T=N.channel)==null?void 0:T.toLowerCase();let F=null,z={conversation_id:N.id,message_id:M.id,content:R};switch(D){case"whatsapp":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_whatsapp",console.log("📱 Отправляем в WhatsApp...");break;case"telegram":F="https://vodahotel.app.n8n.cloud/webhook/telegram-reply",console.log("🤖 Отправляем в Telegram...");break;case"avito":F="https://vodahotel.app.n8n.cloud/webhook/c2e07a8b-9c99-4dfb-b45f-37e6db393a54",console.log("🏠 Отправляем в Avito...");break;case"email":F="https://vodahotel.app.n8n.cloud/webhook/pms_to_email_brevo",console.log("📧 Отправляем в Email через Brevo...");break;default:console.warn("⚠️ Неизвестный канал:",N.channel);return}if(F){console.log("🔗 Вызываем webhook:",F),console.log("📦 Payload:",z);const q=await fetch(F,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(z)});if(q.ok){console.log(`✅ Webhook успешно вызван для ${N.channel}`);try{const X=await q.json();if(console.log(`📊 ${N.channel} Response:`,X),D==="whatsapp"&&X&&X.messages&&X.messages[0]&&X.messages[0].id){const re=X.messages[0].id;await Pe.from("messages").update({whatsapp_message_id:re}).eq("id",M.id),console.log("✅ WhatsApp Message ID сохранен:",re)}D==="email"&&X&&X.messageId&&console.log("✅ Email отправлен через Brevo, messageId:",X.messageId)}catch(X){console.log("ℹ️ Не удалось получить response JSON:",X.message)}D==="telegram"&&(console.log("🧪 Запускаем симуляцию статусов для Telegram..."),setTimeout(async()=>{try{await Pe.from("messages").update({status:"delivered"}).eq("id",M.id),console.log("📬 Статус обновлен: delivered")}catch(X){console.error("❌ Ошибка обновления delivered:",X)}},1500))}else{console.error(`❌ Ошибка webhook для ${N.channel}:`,q.status);const X=await q.text();console.error("Ошибка webhook:",X),r(re=>re.map(ie=>ie.id===k.id||ie.id===M.id?{...ie.id===k.id?M:ie,status:"failed"}:ie)),await Pe.from("messages").update({status:"failed"}).eq("id",M.id)}}}catch(M){console.error("💥 Ошибка отправки сообщения:",M),r(I=>I.filter(D=>D.id!==k.id))}},b=()=>n?n.contact_full_name||"Неизвестный контакт":"",C=N=>{const R={};return N.forEach(k=>{const T=$e(new Date(k.created_at),"yyyy-MM-dd");R[T]||(R[T]=[]),R[T].push(k)}),R},E=N=>{const R=new Date(N),k=new Date,T=new Date(k);return T.setDate(T.getDate()-1),$e(R,"yyyy-MM-dd")===$e(k,"yyyy-MM-dd")?"Сегодня":$e(R,"yyyy-MM-dd")===$e(T,"yyyy-MM-dd")?"Вчера":$e(R,"d MMMM yyyy",{locale:En})},P=C(t);return a.jsx("div",{className:"flex flex-col h-full bg-gradient-to-br from-slate-50/50 via-white to-blue-50/30",children:n?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"px-6 py-4 bg-white/80 backdrop-blur-xl border-b border-slate-200/50 shadow-sm",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-4",children:a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h3",{className:"font-semibold text-lg text-slate-900",children:b()}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(f8,{channel:n.channel}),m&&a.jsx("span",{className:"text-xs text-green-600 font-medium animate-pulse",children:"печатает..."})]})]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(Hi,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(W4,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})}),a.jsx("button",{className:"p-2.5 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(PD,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600"})})]})]})}),a.jsxs("div",{className:"flex-1 overflow-y-auto px-4 py-4 scrollbar-thin scrollbar-thumb-slate-300 scrollbar-track-transparent",children:[u&&a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-4 border-blue-500 border-t-transparent mb-4"}),a.jsx("p",{className:"text-slate-500 font-medium",children:"Загрузка сообщений..."})]})}),Object.entries(P).map(([N,R])=>a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-center my-4",children:a.jsx("div",{className:"px-4 py-1.5 bg-white/80 backdrop-blur-sm rounded-full shadow-sm border border-slate-200/50",children:a.jsx("span",{className:"text-xs font-medium text-slate-600",children:E(N)})})}),R.map(k=>{var M;const T=k.sender_type==="staff";return a.jsx("div",{className:`flex mb-3 ${T?"justify-end":"justify-start"} animate-fadeIn`,children:a.jsxs("div",{className:`group relative max-w-[70%] ${T?"items-end":"items-start"}`,children:[a.jsx("div",{className:`
                            px-4 py-2.5 rounded-2xl break-words shadow-sm
                            transition-all duration-200 transform hover:scale-[1.02]
                            ${T?"bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-br-md shadow-lg shadow-blue-500/20":"bg-white text-slate-900 rounded-bl-md shadow-md border border-slate-100"}
                            ${k.isOptimistic?"opacity-70":""}
                          `,style:{wordWrap:"break-word",overflowWrap:"break-word"},children:a.jsxs("div",{className:"flex items-end justify-between gap-2",children:[a.jsx("p",{className:"break-words whitespace-pre-wrap flex-1 leading-relaxed",children:k.content}),a.jsxs("div",{className:"flex items-center gap-1 flex-shrink-0 self-end ml-2",children:[k.created_at&&a.jsx("span",{className:`text-xs leading-none ${T?"text-blue-100":"text-slate-400"}`,children:$e(new Date(k.created_at),"HH:mm",{locale:En})}),T&&k.status&&a.jsx(d8,{status:k.status,channel:(M=n==null?void 0:n.channel)==null?void 0:M.toLowerCase()})]})]})}),a.jsx("div",{className:`
                          absolute bottom-0 w-2 h-2
                          ${T?"right-[-4px] bg-gradient-to-r from-blue-500 to-blue-600":"left-[-4px] bg-white border-l border-b border-slate-100"}
                          ${T?"rounded-bl-md":"rounded-br-md"}
                        `})]})},k.id)})]},N)),a.jsx("div",{ref:v})]}),a.jsx("div",{className:"p-4 bg-white/80 backdrop-blur-xl border-t border-slate-200/50",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(r4,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),a.jsxs("div",{className:"flex-1 relative group",children:[a.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-purple-400 rounded-2xl blur opacity-0 group-focus-within:opacity-20 transition-opacity"}),a.jsx(Oe,{placeholder:"Введите сообщение...",value:o,onChange:N=>c(N.target.value),onKeyDown:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),y())},className:"relative pl-4 pr-4 py-3 bg-slate-50 border-slate-200 rounded-2xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-300 focus:bg-white transition-all placeholder:text-slate-400"})]}),a.jsx("button",{className:"p-3 hover:bg-slate-100 rounded-xl transition-all duration-200 group",children:a.jsx(_4,{className:"h-5 w-5 text-slate-600 group-hover:text-blue-600 transition-colors"})}),a.jsx(De,{onClick:y,disabled:!o.trim(),className:`
                  px-4 py-3 rounded-xl font-medium transition-all duration-200 transform
                  ${o.trim()?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg shadow-blue-500/25 hover:shadow-xl hover:shadow-blue-500/30 hover:-translate-y-0.5":"bg-slate-200 text-slate-400 cursor-not-allowed"}
                `,children:a.jsx(vy,{className:"h-5 w-5"})})]})})]}):a.jsx("div",{className:"flex h-full items-center justify-center p-4",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-flex p-6 bg-gradient-to-br from-blue-100 to-purple-100 rounded-3xl mb-6 shadow-lg shadow-blue-500/10",children:a.jsx(kg,{className:"h-16 w-16 text-gradient bg-gradient-to-br from-blue-500 to-purple-600",style:{background:"linear-gradient(135deg, #3b82f6 0%, #9333ea 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}})}),a.jsx("p",{className:"text-xl font-semibold text-slate-800 mb-2",children:"Выберите диалог"}),a.jsx("p",{className:"text-sm text-slate-500 max-w-xs",children:"Выберите чат из списка слева, чтобы начать общение"})]})})})}function h8({children:n,currentPageName:e}){const[t,r]=w.useState(null),o=u=>{console.log("🎯 Выбран диалог в Layout:",u.id),r(u)};return e==="Chat"?a.jsxs("div",{className:"h-screen w-screen overflow-hidden bg-slate-50 flex",children:[a.jsx("div",{className:"w-80 h-full bg-white border-r border-slate-200 flex-shrink-0",children:a.jsx(Vb,{onConversationSelect:o,selectedConversation:t})}),a.jsx("div",{className:"flex-1 h-full",children:a.jsx(Y0,{selectedConversation:t})})]}):a.jsx("div",{className:"h-screen w-screen overflow-hidden bg-slate-50",children:a.jsxs(Tb,{direction:"horizontal",className:"h-full",children:[a.jsx(og,{defaultSize:20,minSize:15,maxSize:35,children:a.jsx("div",{className:"h-full bg-white border-r border-slate-200",children:a.jsx(Vb,{onConversationSelect:o,selectedConversation:t})})}),a.jsx(Ab,{withHandle:!0}),a.jsx(og,{defaultSize:80,children:a.jsxs(Tb,{direction:"vertical",className:"h-full",children:[a.jsx(og,{defaultSize:50,minSize:30,children:a.jsx("div",{className:"h-full p-6 overflow-auto bg-slate-50",children:n})}),a.jsx(Ab,{withHandle:!0}),a.jsx(og,{defaultSize:50,minSize:20,children:a.jsx("div",{className:"h-full bg-white border-t border-slate-200",children:a.jsx(Y0,{selectedConversation:t})})})]})})]})})}function m8({children:n,currentPageName:e}){const{user:t,loading:r}=Xh();return r?a.jsx("div",{className:"min-h-screen flex items-center justify-center",children:"Загрузка..."}):t?a.jsx(h8,{currentPageName:e,children:n}):a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:a.jsx(yN,{})})}const p8=Qh("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function tt({className:n,variant:e,...t}){return a.jsx("div",{className:Be(p8({variant:e}),n),...t})}var qy="Progress",Ky=100,[g8,eB]=ts(qy),[x8,v8]=g8(qy),uk=w.forwardRef((n,e)=>{const{__scopeProgress:t,value:r=null,max:o,getValueLabel:c=y8,...u}=n;(o||o===0)&&!Gb(o)&&console.error(w8(`${o}`,"Progress"));const h=Gb(o)?o:Ky;r!==null&&!qb(r,h)&&console.error(_8(`${r}`,"Progress"));const m=qb(r,h)?r:null,p=Dg(m)?c(m,h):void 0;return a.jsx(x8,{scope:t,value:m,max:h,children:a.jsx(nt.div,{"aria-valuemax":h,"aria-valuemin":0,"aria-valuenow":Dg(m)?m:void 0,"aria-valuetext":p,role:"progressbar","data-state":hk(m,h),"data-value":m??void 0,"data-max":h,...u,ref:e})})});uk.displayName=qy;var dk="ProgressIndicator",fk=w.forwardRef((n,e)=>{const{__scopeProgress:t,...r}=n,o=v8(dk,t);return a.jsx(nt.div,{"data-state":hk(o.value,o.max),"data-value":o.value??void 0,"data-max":o.max,...r,ref:e})});fk.displayName=dk;function y8(n,e){return`${Math.round(n/e*100)}%`}function hk(n,e){return n==null?"indeterminate":n===e?"complete":"loading"}function Dg(n){return typeof n=="number"}function Gb(n){return Dg(n)&&!isNaN(n)&&n>0}function qb(n,e){return Dg(n)&&!isNaN(n)&&n<=e&&n>=0}function w8(n,e){return`Invalid prop \`max\` of value \`${n}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${Ky}\`.`}function _8(n,e){return`Invalid prop \`value\` of value \`${n}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${Ky} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var mk=uk,b8=fk;const pk=w.forwardRef(({className:n,value:e,...t},r)=>a.jsx(mk,{ref:r,className:Be("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",n),...t,children:a.jsx(b8,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));pk.displayName=mk.displayName;class j8{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.useMockData=!this.apiKey,this.useMockData?console.warn("🎭 Channex работает в режиме MOCK данных. Установите VITE_CHANNEX_API_KEY в .env"):(console.log("✅ Channex работает в режиме PRODUCTION"),console.log(`🏨 Property ID: ${this.propertyId}`)),console.log("✅ Booking CRS App установлен через UI")}async apiRequest(e,t="GET",r=null){var c,u;if(this.useMockData)return console.log(`🎭 Mock API Request: ${t} ${e}`),{data:{},success:!0};const o=`${this.baseURL}${e}`;console.log(`🌐 API запрос: ${t} ${o}`);try{const h={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(h.body=JSON.stringify(r));const m=await fetch(o,h),p=await m.text();if(console.log(`📡 Ответ API: ${m.status}`),!m.ok){console.error("📄 Полный ответ ошибки:",p);let y;try{y=JSON.parse(p)}catch{y={message:p}}const b=((c=y==null?void 0:y.errors)==null?void 0:c.title)||((u=y==null?void 0:y.errors)==null?void 0:u.details)||p;throw new Error(`Channex API Error: ${b}`)}if(!p)return{success:!0};const v=JSON.parse(p);return console.log("📊 Данные от API:",v),v}catch(h){throw console.error("💥 Channex API Request Error:",h),h}}async initializeBookingCRS(){try{const e=await this.checkInstalledApps();!e||e.length===0?(console.log("⚠️ Нет установленных приложений. Устанавливаем Booking CRS App..."),await this.installBookingCRSApp()):e.some(r=>{var o,c,u,h;return((c=(o=r.attributes)==null?void 0:o.application_code)==null?void 0:c.includes("booking"))||((h=(u=r.attributes)==null?void 0:u.application_code)==null?void 0:h.includes("crs"))})?console.log("✅ Booking CRS App уже установлен"):(console.log("⚠️ Booking CRS App не найден. Устанавливаем..."),await this.installBookingCRSApp())}catch(e){console.error("❌ Ошибка при инициализации Booking CRS:",e)}}async installBookingCRSApp(){var t,r;console.log("🔧 Устанавливаем Booking CRS App...");const e=["booking_crs","channex_booking_crs","crs","bookings"];for(const o of e)try{const c=await this.apiRequest("/applications","POST",{application_installation:{property_id:this.propertyId,application_code:o}});if((r=(t=c==null?void 0:c.data)==null?void 0:t[0])!=null&&r.id)return console.log(`✅ Установлено приложение с кодом: ${o}`,c),c.data[0].id}catch(c){console.log(`❌ Код ${o} не подошел:`,c.message)}throw console.error("❌ Не удалось установить Booking CRS App ни с одним из кодов"),new Error("Failed to install Booking CRS App")}async checkInstalledApps(){try{const e=await this.apiRequest(`/applications?filter[property_id]=${this.propertyId}`,"GET");return console.log("📋 Установленные приложения:",(e==null?void 0:e.data)||[]),(e==null?void 0:e.data)||[]}catch(e){return console.error("❌ Ошибка при проверке приложений:",e),[]}}async createBookingInChannex(e){var t,r,o,c,u;console.log("📤 Отправляем бронирование в Channex:",e.id);try{const{data:h,error:m}=await Pe.from("rooms").select("*");if(m)throw m;const p=await this.apiRequest(`/room_types?filter[property_id]=${this.propertyId}`,"GET"),v=(p==null?void 0:p.data)||[],y=await this.apiRequest(`/rate_plans?filter[property_id]=${this.propertyId}`,"GET"),b=(y==null?void 0:y.data)||[];console.log(`... получено ${v.length} типов комнат и ${b.length} тарифов из Channex`),console.log("🏠 ВСЕ ТИПЫ КОМНАТ ИЗ CHANNEX:"),v.forEach((k,T)=>{var M,I,D;console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Title: "${(M=k.attributes)==null?void 0:M.title}"`),console.log(`     Kind: ${(I=k.attributes)==null?void 0:I.room_kind}`),console.log(`     Count: ${(D=k.attributes)==null?void 0:D.count_of_rooms}`),console.log("     ---")}),console.log("💰 ВСЕ ТАРИФНЫЕ ПЛАНЫ ИЗ CHANNEX:"),b.forEach((k,T)=>{var M,I,D,F,z;console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Title: "${(M=k.attributes)==null?void 0:M.title}"`),console.log(`     Room Type ID: ${(F=(D=(I=k.relationships)==null?void 0:I.room_type)==null?void 0:D.data)==null?void 0:F.id}`),console.log(`     Currency: ${(z=k.attributes)==null?void 0:z.currency}`),console.log("     ---")}),console.log("🔍 PMS КОМНАТА:"),console.log(`  ID: ${e.room_id}`),console.log("  Ищем комнату в PMS..."),console.log("🏠 ВСЕ КОМНАТЫ ИЗ PMS:"),h.forEach((k,T)=>{console.log(`  ${T+1}. ID: ${k.id}`),console.log(`     Number: "${k.room_number}"`),console.log(`     Name: "${k.name}"`),console.log(`     Type: "${k.room_type}"`),console.log(`     Channex Room Type ID: ${k.channex_room_type_id||"НЕТ"}`),console.log("     ---")});const C=h.find(k=>k.id===e.room_id);if(!C)throw console.error(`❌ Комната с ID ${e.room_id} не найдена в PMS.`),console.error("📋 Доступные комнаты:",h.map(k=>({id:k.id,number:k.room_number}))),new Error(`Комната с ID ${e.room_id} не найдена в PMS. Проверьте room_id в бронировании.`);console.log("🎯 НАЙДЕННАЯ PMS КОМНАТА:"),console.log(`  ID: ${C.id}`),console.log(`  Number: "${C.room_number}"`),console.log(`  Name: "${C.name}"`),console.log(`  Channex Room Type ID: ${C.channex_room_type_id||"НЕТ"}`);let E;if(console.log(`🔍 ПОИСК CHANNEX ROOM TYPE ДЛЯ PMS КОМНАТЫ "${C.room_number}"`),C.channex_room_type_id&&(E=v.find(k=>k.id===C.channex_room_type_id),console.log(`  🎯 По ID из базы (${C.channex_room_type_id}): ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)),!E){let k="Standard Room";const T=C.room_number;T&&(T.startsWith("1")?k="Standard Room":T.startsWith("2")?k="Deluxe Room":T.startsWith("3")&&(k="Suite")),console.log(`  🏠 Маппинг номера "${T}" → тип "${k}"`),E=v.find(M=>M.attributes.title===k),console.log(`  🔍 Поиск типа "${k}": ${E?"НАЙДЕН":"НЕ НАЙДЕН"}`)}if(E||(E=v[0],console.warn(`  ⚠️ Используем первый доступный: ${(t=E==null?void 0:E.attributes)==null?void 0:t.title}`)),!E)throw new Error(`Не найден ни один тип комнаты в Channex для "${C.room_number}"`);console.log("✅ ВЫБРАННЫЙ CHANNEX ROOM TYPE:"),console.log(`  ID: ${E.id}`),console.log(`  Title: "${(r=E.attributes)==null?void 0:r.title}"`),console.log(`  Kind: ${(o=E.attributes)==null?void 0:o.room_kind}`);const P=b.find(k=>{var T,M,I;return((I=(M=(T=k.relationships)==null?void 0:T.room_type)==null?void 0:M.data)==null?void 0:I.id)===E.id});if(console.log(`🔍 Поиск rate plan для room_type_id: ${E.id}`),console.log(`  Найден rate plan: ${P?"ДА":"НЕТ"}`),!P)throw new Error(`Тарифный план для типа комнаты "${E.attributes.title}" не найден в Channex.`);console.log("✅ ВЫБРАННЫЙ RATE PLAN:"),console.log(`  ID: ${P.id}`),console.log(`  Title: "${(c=P.attributes)==null?void 0:c.title}"`),console.log(`  Currency: ${(u=P.attributes)==null?void 0:u.currency}`),console.log(`✅ Найдена связка: PMS Room "${C.room_number}" -> Channex Room Type "${E.attributes.title}" -> Channex Rate Plan "${P.attributes.title}"`);const N=this.mapPMSToChannexBooking(e,P,E,C);console.log("📋 Финальные данные для отправки:",JSON.stringify(N,null,2));const R=await this.apiRequest("/bookings","POST",N);if(R!=null&&R.data){console.log("✅ Бронь создана в Channex:",R.data.id);const k={external_booking_id:R.data.id,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(R.data)};return e.room_id||(k.room_id=C.id,console.log(`🔗 Привязываем бронирование к комнате: ${C.room_number} (${C.id})`)),await Pe.from("bookings").update(k).eq("id",e.id),R.data}}catch(h){throw console.error(`❌ Ошибка отправки брони ${e.id} в Channex:`,h),await Pe.from("sync_errors").insert({booking_id:e.id,service:"channex",error_message:h.message,error_details:h.stack,occurred_at:new Date().toISOString()}),h}}mapPMSToChannexBooking(e,t,r,o){var N,R,k,T,M,I,D,F;const u=(((N=e.guests)==null?void 0:N.full_name)||"Guest").trim().split(" ").filter(Boolean),h=u[0]||"Guest",m=u.length>1?u.slice(1).join(" "):"Guest",p=e.guests_count||1,v=new Date(e.check_in),y=new Date(e.check_out),b=Math.ceil((y-v)/(1e3*60*60*24));let C="100.00";const E=((R=r==null?void 0:r.attributes)==null?void 0:R.title)||"";E==="Standard Room"?C="100.00":E==="Deluxe Room"?C="200.00":E==="Suite"&&(C="300.00"),console.log("💰 ОБРАБОТКА ЦЕН (ПО ТИПАМ КОМНАТ):"),console.log(`  Тип комнаты: "${E}"`),console.log(`  Цена за ночь: ${C}`),console.log(`  Количество ночей: ${b}`);const P={};for(let z=0;z<b;z++){const q=new Date(v);q.setDate(q.getDate()+z);const X=q.toISOString().split("T")[0];P[X]=C,console.log(`    ${X}: ${C}`)}return{booking:{property_id:this.propertyId,ota_reservation_code:`PMS-${e.id}`,ota_name:this.mapSourceToOtaName(e.source),arrival_date:e.check_in,departure_date:e.check_out,currency:"GBP",arrival_hour:"15:00",customer:{name:h,surname:m,mail:((k=e.guests)==null?void 0:k.email)||"guest@example.com",phone:((T=e.guests)==null?void 0:T.phone)||"",address:((M=e.guests)==null?void 0:M.address)||"",city:((I=e.guests)==null?void 0:I.city)||"",country:((D=e.guests)==null?void 0:D.country)||"GB",zip:((F=e.guests)==null?void 0:F.zip)||""},rooms:[{room_type_id:r.id,rate_plan_id:t.id,days:P,guests:[{name:h,surname:m}],occupancy:{adults:p,children:0,infants:0,ages:[]}}],notes:e.notes||`PMS Room: ${o.room_number}`,meta:{pms_room_id:e.room_id,pms_room_number:o.room_number,source:"PMS"}}}}mapSourceToOtaName(e){const t={"Open Channel":"Booking.com",booking:"Booking.com",airbnb:"Airbnb",expedia:"Expedia",agoda:"Agoda",direct:"Booking.com",phone:"Booking.com",email:"Booking.com","walk-in":"Booking.com"};return console.log(`🏷️ Маппинг источника: "${e}" → "${t[e]||"Booking.com"}"`),t[e]||"Booking.com"}cleanRoomTitle(e){return e?e.replace(/[^a-zA-Z0-9\s\-]/g,"").trim():"Room"}async updateBookingInChannex(e,t){console.log("📝 Обновляем бронирование в Channex:",e);try{const r=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:t});return console.log("✅ Бронирование обновлено в Channex"),r.data}catch(r){throw console.error("❌ Ошибка обновления бронирования:",r),r}}async cancelBookingInChannex(e){console.log("🚫 Отменяем бронирование в Channex:",e);try{const t=await this.apiRequest(`/bookings/${e}`,"PUT",{booking:{status:"cancelled"}});return console.log("✅ Бронирование отменено в Channex"),t.data}catch(t){throw console.error("❌ Ошибка отмены бронирования:",t),t}}async getBookingsFromChannex(){var e;console.log("📥 Получаем все бронирования из Channex...");try{const t=await this.apiRequest(`/bookings?filter[property_id]=${this.propertyId}`,"GET");return console.log(`✅ Получено ${((e=t.data)==null?void 0:e.length)||0} бронирований из Channex`),t.data||[]}catch(t){throw console.error("❌ Ошибка получения бронирований:",t),t}}async importBookingsToPMS(){console.log("📋 Импортируем бронирования из Channex в PMS...");try{const e=await this.getBookingsFromChannex();if(!e||e.length===0)return console.log("ℹ️ Нет бронирований для импорта"),{imported:0,skipped:0,errors:0};const{data:t,error:r}=await Pe.from("bookings").select("external_booking_id");if(r)throw r;const o=new Set(t.map(m=>m.external_booking_id));let c=0,u=0,h=0;for(const m of e)try{const p=m.id;if(o.has(p)){console.log(`⏭️ Пропускаем существующее бронирование: ${p}`),u++;continue}const v=await this.convertChannexToPMSBooking(m),{error:y}=await Pe.from("bookings").insert([v]);y?(console.error(`❌ Ошибка вставки бронирования ${p}:`,y),h++):(console.log(`✅ Импортировано бронирование: ${p}`),c++)}catch(p){console.error("❌ Ошибка обработки бронирования:",p),h++}return console.log(`📊 Результат импорта: ${c} импортировано, ${u} пропущено, ${h} ошибок`),{imported:c,skipped:u,errors:h}}catch(e){throw console.error("❌ Ошибка импорта бронирований:",e),e}}async convertChannexToPMSBooking(e){var h,m,p,v,y,b,C,E,P,N,R,k;const t=e.attributes,r=((h=t.rooms)==null?void 0:h[0])||{};let o="101";if((m=t.meta)!=null&&m.pms_room_number)o=t.meta.pms_room_number;else{const T=((p=r.room_type)==null?void 0:p.title)||"";T.includes("Deluxe")?o="201":T.includes("Suite")&&(o="301")}let c=null;try{const{data:T,error:M}=await Pe.from("rooms").select("id, room_number").eq("room_number",o);M?console.error("❌ Ошибка поиска комнаты:",M):T&&T.length>0?(c=T[0].id,console.log(`✅ Найдена комната в PMS: ${o} → ID ${c}`)):console.warn(`⚠️ Комната ${o} не найдена в PMS. Создаем бронирование без привязки к комнате.`)}catch(T){console.error("❌ Ошибка при поиске комнаты в базе:",T)}let u=0;return r.days&&(u=Object.values(r.days).reduce((T,M)=>T+parseFloat(M||0),0)),{id:`channex-${e.id}`,external_booking_id:e.id,room_id:c,check_in:t.arrival_date,check_out:t.departure_date,guests:{full_name:`${((v=t.customer)==null?void 0:v.name)||""} ${((y=t.customer)==null?void 0:y.surname)||""}`.trim(),email:((b=t.customer)==null?void 0:b.mail)||((C=t.customer)==null?void 0:C.email),phone:((E=t.customer)==null?void 0:E.phone)||"",address:((P=t.customer)==null?void 0:P.address)||"",city:((N=t.customer)==null?void 0:N.city)||"",country:((R=t.customer)==null?void 0:R.country)||"GB"},guests_count:((k=r.occupancy)==null?void 0:k.adults)||1,total_amount:u,currency:t.currency||"GBP",status:this.mapChannexStatusToPMS(t.status),source:this.mapOtaNameToSource(t.ota_name),notes:t.notes||`Импортировано из Channex (${t.ota_name})`,sync_status:"synced",last_sync_at:new Date().toISOString(),channex_data:JSON.stringify(e),created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}mapChannexStatusToPMS(e){return{new:"pending",confirmed:"confirmed",checked_in:"checked_in",checked_out:"checked_out",cancelled:"cancelled"}[e]||"pending"}mapOtaNameToSource(e){return{"Booking.com":"booking",Airbnb:"airbnb",Expedia:"expedia",Agoda:"agoda"}[e]||"direct"}async handleWebhook(e){console.log("🔔 Обработка webhook события в ChannexService:",e.event);try{const t=e.event||"booking",r=e.booking_id,o=e.revision_id;switch(console.log("📋 Данные webhook:",{eventType:t,bookingId:r,revisionId:o,propertyId:e.property_id,timestamp:e.timestamp}),t){case"test":return console.log("🧪 Получен тестовый webhook - все работает!"),{success:!0,message:"Test webhook processed"};case"booking_created":case"booking_updated":case"booking_cancelled":if(r)return await this.handleBookingWebhookEvent(t,r,e);break;case"booking_revision_created":case"booking_revision_updated":if(o)return await this.handleBookingRevisionWebhookEvent(t,o,e);break;default:return console.log(`ℹ️ Неизвестный тип события: ${t}`),{success:!0,message:`Unknown event type: ${t}`}}return{success:!0,message:"Webhook processed"}}catch(t){throw console.error("❌ Ошибка обработки webhook:",t),t}}async handleBookingWebhookEvent(e,t,r){console.log(`📋 Обработка booking webhook: ${e} для ID ${t}`);try{const o=await this.apiRequest(`/bookings/${t}`,"GET");if(o&&o.data){const c=o.data;return await this.syncChannexBookingToPMS(c,e),console.log(`✅ Бронирование ${t} синхронизировано в PMS`),{success:!0,message:`Booking ${t} synchronized`,booking_id:t}}else return console.warn(`⚠️ Не удалось получить данные бронирования ${t} - возможно тестовое`),{success:!0,message:`Test booking ${t} - no sync needed`}}catch(o){return console.error("❌ Ошибка обработки booking webhook:",o),{success:!1,message:`Error processing booking ${t}: ${o.message}`}}}async handleBookingRevisionWebhookEvent(e,t,r){console.log(`📝 Обработка booking revision webhook: ${e} для revision ${t}`);try{if(r.data&&r.data.booking)return await this.syncChannexBookingToPMS(r.data.booking,e),{success:!0,message:`Booking revision ${t} processed`,revision_id:t};{const o=await this.apiRequest(`/booking_revisions/${t}`,"GET");if(o&&o.data&&o.data.booking)return await this.syncChannexBookingToPMS(o.data.booking,e),{success:!0,message:`Booking revision ${t} synchronized`,revision_id:t}}return{success:!0,message:`Revision ${t} processed - no action needed`}}catch(o){return console.error("❌ Ошибка обработки booking revision webhook:",o),{success:!1,message:`Error processing revision ${t}: ${o.message}`}}}async syncChannexBookingToPMS(e,t){var r,o;console.log("📥 Синхронизация Channex бронирования в PMS:",e.id);try{const c=(r=e.attributes)==null?void 0:r.ota_name;console.log("📋 OTA канал:",c);let u;if(c==="Airbnb")try{const{default:p}=await fc(async()=>{const{default:v}=await Promise.resolve().then(()=>hz);return{default:v}},void 0);u=p.convertToPMSFormat(e)}catch{console.warn("⚠️ AirbnbChannexService не найден, используем общий маппинг"),u=await this.convertChannexToPMSBooking(e)}else u=await this.convertChannexToPMSBooking(e);if(!await this.checkRoomAvailability(u.room_id,u.check_in,u.check_out,e.id)&&t==="booking_created")throw console.error(`❌ Комната ${u.room_id} недоступна на даты ${u.check_in} - ${u.check_out}`),await Pe.from("booking_conflicts").insert({channex_booking_id:e.id,room_id:u.room_id,check_in:u.check_in,check_out:u.check_out,conflict_reason:"room_unavailable",created_at:new Date().toISOString()}),new Error(`Room ${u.room_id} is not available for dates ${u.check_in} - ${u.check_out}`);const{data:m}=await Pe.from("bookings").select("id, room_id").or(`external_booking_id.eq.${e.id},ota_reservation_code.eq.${(o=e.attributes)==null?void 0:o.ota_reservation_code}`).single();if(m){const{error:p}=await Pe.from("bookings").update({...u,updated_at:new Date().toISOString()}).eq("id",m.id);if(p)throw console.error("❌ Ошибка обновления бронирования:",p),p;console.log(`✅ Бронирование ${e.id} обновлено в PMS`)}else{const{error:p}=await Pe.from("bookings").insert({...u,created_at:new Date().toISOString()});if(p)throw console.error("❌ Ошибка создания бронирования:",p),p;console.log(`✅ Бронирование ${e.id} создано в PMS`)}}catch(c){throw console.error("❌ Ошибка синхронизации Channex бронирования:",c),c}}async checkRoomAvailability(e,t,r,o=null){console.log(`🔍 Проверка доступности комнаты ${e} на даты ${t} - ${r}`);try{let c=Pe.from("bookings").select("id, external_booking_id, check_in, check_out, status").eq("room_id",e).neq("status","cancelled").or(`and(check_in.lte.${r},check_out.gt.${t})`);o&&(c=c.neq("external_booking_id",o));const{data:u,error:h}=await c;return h?(console.error("❌ Ошибка проверки доступности комнаты:",h),!1):u&&u.length>0?(console.warn("⚠️ Найдены конфликтующие бронирования:",u),!1):(console.log(`✅ Комната ${e} доступна на запрашиваемые даты`),!0)}catch(c){return console.error("❌ Ошибка при проверке доступности комнаты:",c),!1}}}const gr=new j8,S8=Object.freeze(Object.defineProperty({__proto__:null,default:gr},Symbol.toStringTag,{value:"Module"}));function N8(){const[n,e]=w.useState("unknown"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState([]),[m,p]=w.useState(!1),v=(k,T="info")=>{const M=new Date().toLocaleTimeString();h(I=>[...I,{message:k,type:T,timestamp:M}])},y=async()=>{const k=window.location.hostname==="localhost"?"http://localhost:3001/health":"https://pms.voda.center/api/health";try{const T=await fetch(k);if(T.ok){const M=await T.json();e("running"),v(`✅ Webhook сервер работает (${M.environment||"production"})`,"success")}else e("error"),v("❌ Webhook сервер недоступен","error")}catch{e("offline"),v("🔌 Webhook сервер не запущен","warning")}},b=async()=>{try{const{data:k,error:T}=await Pe.from("channex_webhooks").select("*").order("received_at",{ascending:!1}).limit(20);if(T)throw T;r(k||[]),v(`📥 Загружено webhook'ов: ${(k==null?void 0:k.length)||0}`,"info")}catch(k){v(`❌ Ошибка загрузки webhooks: ${k.message}`,"error")}},C=async()=>{try{const{data:k,error:T}=await Pe.from("bookings").select("*").not("external_booking_id","is",null).order("created_at",{ascending:!1}).limit(20);if(T)throw T;c(k||[]),v(`📋 Загружено бронирований из Channex: ${(k==null?void 0:k.length)||0}`,"info")}catch(k){v(`❌ Ошибка загрузки бронирований: ${k.message}`,"error")}},E=async()=>{p(!0),v("🧪 Создаем тестовое бронирование...","info");try{const k={external_booking_id:`test_${Date.now()}`,source:"booking",check_in:new Date().toISOString().split("T")[0],check_out:new Date(Date.now()+1728e5).toISOString().split("T")[0],guest_name:"Тест Гость",guest_email:"test@example.com",guest_phone:"+7 999 123-45-67",total_amount:5e3,status:"confirmed",guests_count:2,notes:"Тестовое бронирование для проверки Channex интеграции",channex_data:{test:!0,created_at:new Date().toISOString()}},{data:T,error:M}=await Pe.from("bookings").insert(k).select().single();if(M)throw M;v("✅ Тестовое бронирование создано!","success"),v(`🆔 ID: ${T.external_booking_id}`,"info"),v(`👤 Гость: ${T.guest_name}`,"info"),v(`📅 Заезд: ${T.check_in} - Выезд: ${T.check_out}`,"info"),await C()}catch(k){v(`❌ Ошибка создания тестового бронирования: ${k.message}`,"error")}p(!1)},P=async()=>{p(!0),v("🎭 Симулируем webhook от Channex...","info");try{const k={type:"booking_new",id:`webhook_${Date.now()}`,object_type:"booking",object_id:`booking_${Date.now()}`,data:{booking:{id:`channex_booking_${Date.now()}`,ota_name:"Booking.com",status:"confirmed",arrival_date:"2025-09-15",departure_date:"2025-09-18",total_price:15e3,customer:{name:"Анна Иванова",email:"anna@example.com",phone:"+7 999 888-77-66"},occupancy:{adults:2,children:0},notes:"Симулированное бронирование от webhook"}}},T=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",M=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(k)});M.ok?(v("✅ Webhook успешно отправлен и обработан!","success"),await b(),await C()):v(`❌ Ошибка обработки webhook: ${M.status}`,"error")}catch(k){v(`❌ Ошибка симуляции webhook: ${k.message}`,"error")}p(!1)},N=()=>{switch(n){case"running":return"bg-green-500";case"error":return"bg-red-500";default:return"bg-yellow-500"}},R=()=>{switch(n){case"running":return"Работает";case"error":return"Ошибка";case"offline":return"Не запущен";default:return"Проверяется"}};return w.useEffect(()=>{y(),b(),C()},[]),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("h2",{className:"text-2xl font-bold",children:"Управление Webhooks"}),a.jsxs(tt,{className:N(),children:[a.jsx(J_,{className:"h-4 w-4 mr-2"}),R()]})]}),n!=="running"&&a.jsxs(js,{children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsxs(Ss,{children:[a.jsx("strong",{children:"Webhook сервер не запущен!"}),a.jsx("br",{}),"Для получения уведомлений от Channex запустите сервер командой:",a.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run webhook-server"}),a.jsx("br",{}),"Или запустите полную среду разработки:",a.jsx("code",{className:"ml-2 px-2 py-1 bg-gray-100 rounded",children:"npm run dev:full"})]})]}),a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Панель управления"}),a.jsx(Yn,{children:"Инструменты для тестирования и мониторинга webhook интеграции"})]}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"flex gap-4 flex-wrap",children:[a.jsxs(De,{onClick:y,variant:"outline",children:[a.jsx(J_,{className:"h-4 w-4 mr-2"}),"Проверить сервер"]}),a.jsxs(De,{onClick:P,disabled:m||n!=="running",children:[m?a.jsx(md,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(o4,{className:"h-4 w-4 mr-2"}),"Симулировать webhook"]}),a.jsxs(De,{onClick:E,disabled:m,variant:"outline",children:[m?a.jsx(md,{className:"h-4 w-4 mr-2 animate-spin"}):a.jsx(Fi,{className:"h-4 w-4 mr-2"}),"Тестовое бронирование"]}),a.jsxs(De,{onClick:()=>{b(),C()},variant:"outline",children:[a.jsx(zi,{className:"h-4 w-4 mr-2"}),"Обновить данные"]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook",readOnly:!0}),a.jsx(De,{variant:"outline",size:"sm",onClick:()=>{const k=window.location.hostname==="localhost"?"http://localhost:3001/api/channex/webhook":"https://pms.voda.center/api/channex/webhook";navigator.clipboard.writeText(k),v("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]}),a.jsxs(Rd,{defaultValue:"webhooks",className:"space-y-6",children:[a.jsxs(mc,{className:"grid w-full grid-cols-3",children:[a.jsxs(fn,{value:"webhooks",children:["Webhooks (",t.length,")"]}),a.jsxs(fn,{value:"bookings",children:["Бронирования (",o.length,")"]}),a.jsx(fn,{value:"logs",children:"Логи активности"})]}),a.jsx(hn,{value:"webhooks",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Полученные Webhooks"}),a.jsx(Yn,{children:"История входящих уведомлений от Channex"})]}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:t.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Webhook'и еще не поступали"}):t.map(k=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{variant:"outline",children:k.event_type}),k.object_type&&a.jsx(tt,{variant:"secondary",children:k.object_type}),k.processed?a.jsxs(tt,{className:"bg-green-500",children:[a.jsx(Fi,{className:"h-3 w-3 mr-1"}),"Обработан"]}):a.jsxs(tt,{variant:"destructive",children:[a.jsx(md,{className:"h-3 w-3 mr-1"}),"Не обработан"]})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["Event ID: ",k.event_id]}),a.jsxs("p",{children:["Object ID: ",k.object_id]}),a.jsx("p",{className:"text-xs",children:new Date(k.received_at).toLocaleString()})]})]})})},k.id))})})]})}),a.jsx(hn,{value:"bookings",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Бронирования из Channex"}),a.jsx(Yn,{children:"Список бронирований, полученных через интеграцию"})]}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-4 max-h-96 overflow-y-auto",children:o.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Бронирований из Channex пока нет"}):o.map(k=>a.jsx("div",{className:"p-4 border rounded-lg",children:a.jsx("div",{className:"flex justify-between items-start",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("h4",{className:"font-semibold",children:k.guest_name}),a.jsx(tt,{variant:"outline",children:k.source}),a.jsx(tt,{className:k.status==="confirmed"?"bg-green-500":k.status==="cancelled"?"bg-red-500":"bg-yellow-500",children:k.status})]}),a.jsxs("div",{className:"text-sm text-muted-foreground",children:[a.jsxs("p",{children:["📅 ",k.check_in," — ",k.check_out]}),a.jsxs("p",{children:["👥 Гостей: ",k.guests_count," | 💰 ",k.total_amount," ₽"]}),a.jsxs("p",{children:["🆔 Channex ID: ",k.external_booking_id]}),k.notes&&a.jsxs("p",{children:["📝 ",k.notes]})]})]})})},k.id))})})]})}),a.jsx(hn,{value:"logs",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Логи активности"}),a.jsx(Yn,{children:"История операций и событий"})]}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет активности"}):u.slice(-20).reverse().map((k,T)=>a.jsx("div",{className:`p-2 rounded text-sm border-l-4 ${k.type==="success"?"bg-green-50 border-green-500 text-green-800":k.type==="error"?"bg-red-50 border-red-500 text-red-800":k.type==="warning"?"bg-yellow-50 border-yellow-500 text-yellow-800":"bg-blue-50 border-blue-500 text-blue-800"}`,children:a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:k.message}),a.jsx("span",{className:"text-xs opacity-70",children:k.timestamp})]})},T))})})]})})]})]})}function Kb(n,[e,t]){return Math.min(t,Math.max(e,n))}function gk(n){const e=w.useRef({value:n,previous:n});return w.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var xk=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),k8="VisuallyHidden",C8=w.forwardRef((n,e)=>a.jsx(nt.span,{...n,ref:e,style:{...xk,...n.style}}));C8.displayName=k8;var E8=[" ","Enter","ArrowUp","ArrowDown"],P8=[" ","Enter"],cc="Select",[mx,px,R8]=qg(cc),[Id,tB]=ts(cc,[R8,nx]),gx=nx(),[T8,Vi]=Id(cc),[A8,I8]=Id(cc),vk=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:o,onOpenChange:c,value:u,defaultValue:h,onValueChange:m,dir:p,name:v,autoComplete:y,disabled:b,required:C,form:E}=n,P=gx(e),[N,R]=w.useState(null),[k,T]=w.useState(null),[M,I]=w.useState(!1),D=Zh(p),[F,z]=La({prop:r,defaultProp:o??!1,onChange:c,caller:cc}),[q,X]=La({prop:u,defaultProp:h,onChange:m,caller:cc}),re=w.useRef(null),ie=N?E||!!N.closest("form"):!0,[me,pe]=w.useState(new Set),ke=Array.from(me).map(ge=>ge.props.value).join(";");return a.jsx(hS,{...P,children:a.jsxs(T8,{required:C,scope:e,trigger:N,onTriggerChange:R,valueNode:k,onValueNodeChange:T,valueNodeHasChildren:M,onValueNodeHasChildrenChange:I,contentId:ws(),value:q,onValueChange:X,open:F,onOpenChange:z,dir:D,triggerPointerDownPosRef:re,disabled:b,children:[a.jsx(mx.Provider,{scope:e,children:a.jsx(A8,{scope:n.__scopeSelect,onNativeOptionAdd:w.useCallback(ge=>{pe(be=>new Set(be).add(ge))},[]),onNativeOptionRemove:w.useCallback(ge=>{pe(be=>{const W=new Set(be);return W.delete(ge),W})},[]),children:t})}),ie?a.jsxs(Bk,{"aria-hidden":!0,required:C,tabIndex:-1,name:v,autoComplete:y,value:q,onChange:ge=>X(ge.target.value),disabled:b,form:E,children:[q===void 0?a.jsx("option",{value:""}):null,Array.from(me)]},ke):null]})})};vk.displayName=cc;var yk="SelectTrigger",wk=w.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...o}=n,c=gx(t),u=Vi(yk,t),h=u.disabled||r,m=Rt(e,u.onTriggerChange),p=px(t),v=w.useRef("touch"),[y,b,C]=Hk(P=>{const N=p().filter(T=>!T.disabled),R=N.find(T=>T.value===u.value),k=Vk(N,P,R);k!==void 0&&u.onValueChange(k.value)}),E=P=>{h||(u.onOpenChange(!0),C()),P&&(u.triggerPointerDownPosRef.current={x:Math.round(P.pageX),y:Math.round(P.pageY)})};return a.jsx(mS,{asChild:!0,...c,children:a.jsx(nt.button,{type:"button",role:"combobox","aria-controls":u.contentId,"aria-expanded":u.open,"aria-required":u.required,"aria-autocomplete":"none",dir:u.dir,"data-state":u.open?"open":"closed",disabled:h,"data-disabled":h?"":void 0,"data-placeholder":Wk(u.value)?"":void 0,...o,ref:m,onClick:Ge(o.onClick,P=>{P.currentTarget.focus(),v.current!=="mouse"&&E(P)}),onPointerDown:Ge(o.onPointerDown,P=>{v.current=P.pointerType;const N=P.target;N.hasPointerCapture(P.pointerId)&&N.releasePointerCapture(P.pointerId),P.button===0&&P.ctrlKey===!1&&P.pointerType==="mouse"&&(E(P),P.preventDefault())}),onKeyDown:Ge(o.onKeyDown,P=>{const N=y.current!=="";!(P.ctrlKey||P.altKey||P.metaKey)&&P.key.length===1&&b(P.key),!(N&&P.key===" ")&&E8.includes(P.key)&&(E(),P.preventDefault())})})})});wk.displayName=yk;var _k="SelectValue",bk=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,children:c,placeholder:u="",...h}=n,m=Vi(_k,t),{onValueNodeHasChildrenChange:p}=m,v=c!==void 0,y=Rt(e,m.onValueNodeChange);return wn(()=>{p(v)},[p,v]),a.jsx(nt.span,{...h,ref:y,style:{pointerEvents:"none"},children:Wk(m.value)?a.jsx(a.Fragment,{children:u}):c})});bk.displayName=_k;var M8="SelectIcon",jk=w.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...o}=n;return a.jsx(nt.span,{"aria-hidden":!0,...o,ref:e,children:r||"▼"})});jk.displayName=M8;var O8="SelectPortal",Sk=n=>a.jsx(rx,{asChild:!0,...n});Sk.displayName=O8;var uc="SelectContent",Nk=w.forwardRef((n,e)=>{const t=Vi(uc,n.__scopeSelect),[r,o]=w.useState();if(wn(()=>{o(new DocumentFragment)},[]),!t.open){const c=r;return c?Yh.createPortal(a.jsx(kk,{scope:n.__scopeSelect,children:a.jsx(mx.Slot,{scope:n.__scopeSelect,children:a.jsx("div",{children:n.children})})}),c):null}return a.jsx(Ck,{...n,ref:e})});Nk.displayName=uc;var Hs=10,[kk,Gi]=Id(uc),D8="SelectContentImpl",L8=sc("SelectContent.RemoveScroll"),Ck=w.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:o,onEscapeKeyDown:c,onPointerDownOutside:u,side:h,sideOffset:m,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:N,...R}=n,k=Vi(uc,t),[T,M]=w.useState(null),[I,D]=w.useState(null),F=Rt(e,te=>M(te)),[z,q]=w.useState(null),[X,re]=w.useState(null),ie=px(t),[me,pe]=w.useState(!1),ke=w.useRef(!1);w.useEffect(()=>{if(T)return Ty(T)},[T]),_y();const ge=w.useCallback(te=>{const[fe,...Se]=ie().map(We=>We.ref.current),[Ee]=Se.slice(-1),Ke=document.activeElement;for(const We of te)if(We===Ke||(We==null||We.scrollIntoView({block:"nearest"}),We===fe&&I&&(I.scrollTop=0),We===Ee&&I&&(I.scrollTop=I.scrollHeight),We==null||We.focus(),document.activeElement!==Ke))return},[ie,I]),be=w.useCallback(()=>ge([z,T]),[ge,z,T]);w.useEffect(()=>{me&&be()},[me,be]);const{onOpenChange:W,triggerPointerDownPosRef:K}=k;w.useEffect(()=>{if(T){let te={x:0,y:0};const fe=Ee=>{var Ke,We;te={x:Math.abs(Math.round(Ee.pageX)-(((Ke=K.current)==null?void 0:Ke.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((We=K.current)==null?void 0:We.y)??0))}},Se=Ee=>{te.x<=10&&te.y<=10?Ee.preventDefault():T.contains(Ee.target)||W(!1),document.removeEventListener("pointermove",fe),K.current=null};return K.current!==null&&(document.addEventListener("pointermove",fe),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",fe),document.removeEventListener("pointerup",Se,{capture:!0})}}},[T,W,K]),w.useEffect(()=>{const te=()=>W(!1);return window.addEventListener("blur",te),window.addEventListener("resize",te),()=>{window.removeEventListener("blur",te),window.removeEventListener("resize",te)}},[W]);const[ne,B]=Hk(te=>{const fe=ie().filter(Ke=>!Ke.disabled),Se=fe.find(Ke=>Ke.ref.current===document.activeElement),Ee=Vk(fe,te,Se);Ee&&setTimeout(()=>Ee.ref.current.focus())}),U=w.useCallback((te,fe,Se)=>{const Ee=!ke.current&&!Se;(k.value!==void 0&&k.value===fe||Ee)&&(q(te),Ee&&(ke.current=!0))},[k.value]),V=w.useCallback(()=>T==null?void 0:T.focus(),[T]),ae=w.useCallback((te,fe,Se)=>{const Ee=!ke.current&&!Se;(k.value!==void 0&&k.value===fe||Ee)&&re(te)},[k.value]),ue=r==="popper"?J0:Ek,he=ue===J0?{side:h,sideOffset:m,align:p,alignOffset:v,arrowPadding:y,collisionBoundary:b,collisionPadding:C,sticky:E,hideWhenDetached:P,avoidCollisions:N}:{};return a.jsx(kk,{scope:t,content:T,viewport:I,onViewportChange:D,itemRefCallback:U,selectedItem:z,onItemLeave:V,itemTextRefCallback:ae,focusSelectedItem:be,selectedItemText:X,position:r,isPositioned:me,searchRef:ne,children:a.jsx(ax,{as:L8,allowPinchZoom:!0,children:a.jsx(Qg,{asChild:!0,trapped:k.open,onMountAutoFocus:te=>{te.preventDefault()},onUnmountAutoFocus:Ge(o,te=>{var fe;(fe=k.trigger)==null||fe.focus({preventScroll:!0}),te.preventDefault()}),children:a.jsx(Xg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:te=>te.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:a.jsx(ue,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:te=>te.preventDefault(),...R,...he,onPlaced:()=>pe(!0),ref:F,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Ge(R.onKeyDown,te=>{const fe=te.ctrlKey||te.altKey||te.metaKey;if(te.key==="Tab"&&te.preventDefault(),!fe&&te.key.length===1&&B(te.key),["ArrowUp","ArrowDown","Home","End"].includes(te.key)){let Ee=ie().filter(Ke=>!Ke.disabled).map(Ke=>Ke.ref.current);if(["ArrowUp","End"].includes(te.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(te.key)){const Ke=te.target,We=Ee.indexOf(Ke);Ee=Ee.slice(We+1)}setTimeout(()=>ge(Ee)),te.preventDefault()}})})})})})})});Ck.displayName=D8;var $8="SelectItemAlignedPosition",Ek=w.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...o}=n,c=Vi(uc,t),u=Gi(uc,t),[h,m]=w.useState(null),[p,v]=w.useState(null),y=Rt(e,F=>v(F)),b=px(t),C=w.useRef(!1),E=w.useRef(!0),{viewport:P,selectedItem:N,selectedItemText:R,focusSelectedItem:k}=u,T=w.useCallback(()=>{if(c.trigger&&c.valueNode&&h&&p&&P&&N&&R){const F=c.trigger.getBoundingClientRect(),z=p.getBoundingClientRect(),q=c.valueNode.getBoundingClientRect(),X=R.getBoundingClientRect();if(c.dir!=="rtl"){const Ke=X.left-z.left,We=q.left-Ke,rt=F.left-We,xt=F.width+rt,pn=Math.max(xt,z.width),or=window.innerWidth-Hs,Yt=Kb(We,[Hs,Math.max(Hs,or-pn)]);h.style.minWidth=xt+"px",h.style.left=Yt+"px"}else{const Ke=z.right-X.right,We=window.innerWidth-q.right-Ke,rt=window.innerWidth-F.right-We,xt=F.width+rt,pn=Math.max(xt,z.width),or=window.innerWidth-Hs,Yt=Kb(We,[Hs,Math.max(Hs,or-pn)]);h.style.minWidth=xt+"px",h.style.right=Yt+"px"}const re=b(),ie=window.innerHeight-Hs*2,me=P.scrollHeight,pe=window.getComputedStyle(p),ke=parseInt(pe.borderTopWidth,10),ge=parseInt(pe.paddingTop,10),be=parseInt(pe.borderBottomWidth,10),W=parseInt(pe.paddingBottom,10),K=ke+ge+me+W+be,ne=Math.min(N.offsetHeight*5,K),B=window.getComputedStyle(P),U=parseInt(B.paddingTop,10),V=parseInt(B.paddingBottom,10),ae=F.top+F.height/2-Hs,ue=ie-ae,he=N.offsetHeight/2,te=N.offsetTop+he,fe=ke+ge+te,Se=K-fe;if(fe<=ae){const Ke=re.length>0&&N===re[re.length-1].ref.current;h.style.bottom="0px";const We=p.clientHeight-P.offsetTop-P.offsetHeight,rt=Math.max(ue,he+(Ke?V:0)+We+be),xt=fe+rt;h.style.height=xt+"px"}else{const Ke=re.length>0&&N===re[0].ref.current;h.style.top="0px";const rt=Math.max(ae,ke+P.offsetTop+(Ke?U:0)+he)+Se;h.style.height=rt+"px",P.scrollTop=fe-ae+P.offsetTop}h.style.margin=`${Hs}px 0`,h.style.minHeight=ne+"px",h.style.maxHeight=ie+"px",r==null||r(),requestAnimationFrame(()=>C.current=!0)}},[b,c.trigger,c.valueNode,h,p,P,N,R,c.dir,r]);wn(()=>T(),[T]);const[M,I]=w.useState();wn(()=>{p&&I(window.getComputedStyle(p).zIndex)},[p]);const D=w.useCallback(F=>{F&&E.current===!0&&(T(),k==null||k(),E.current=!1)},[T,k]);return a.jsx(z8,{scope:t,contentWrapper:h,shouldExpandOnScrollRef:C,onScrollButtonChange:D,children:a.jsx("div",{ref:m,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:a.jsx(nt.div,{...o,ref:y,style:{boxSizing:"border-box",maxHeight:"100%",...o.style}})})})});Ek.displayName=$8;var F8="SelectPopperPosition",J0=w.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:o=Hs,...c}=n,u=gx(t);return a.jsx(pS,{...u,...c,ref:e,align:r,collisionPadding:o,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});J0.displayName=F8;var[z8,Yy]=Id(uc,{}),X0="SelectViewport",Pk=w.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...o}=n,c=Gi(X0,t),u=Yy(X0,t),h=Rt(e,c.onViewportChange),m=w.useRef(0);return a.jsxs(a.Fragment,{children:[a.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),a.jsx(mx.Slot,{scope:t,children:a.jsx(nt.div,{"data-radix-select-viewport":"",role:"presentation",...o,ref:h,style:{position:"relative",flex:1,overflow:"hidden auto",...o.style},onScroll:Ge(o.onScroll,p=>{const v=p.currentTarget,{contentWrapper:y,shouldExpandOnScrollRef:b}=u;if(b!=null&&b.current&&y){const C=Math.abs(m.current-v.scrollTop);if(C>0){const E=window.innerHeight-Hs*2,P=parseFloat(y.style.minHeight),N=parseFloat(y.style.height),R=Math.max(P,N);if(R<E){const k=R+C,T=Math.min(E,k),M=k-T;y.style.height=T+"px",y.style.bottom==="0px"&&(v.scrollTop=M>0?M:0,y.style.justifyContent="flex-end")}}}m.current=v.scrollTop})})})]})});Pk.displayName=X0;var Rk="SelectGroup",[U8,B8]=Id(Rk),W8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=ws();return a.jsx(U8,{scope:t,id:o,children:a.jsx(nt.div,{role:"group","aria-labelledby":o,...r,ref:e})})});W8.displayName=Rk;var Tk="SelectLabel",Ak=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=B8(Tk,t);return a.jsx(nt.div,{id:o.id,...r,ref:e})});Ak.displayName=Tk;var Lg="SelectItem",[H8,Ik]=Id(Lg),Mk=w.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:o=!1,textValue:c,...u}=n,h=Vi(Lg,t),m=Gi(Lg,t),p=h.value===r,[v,y]=w.useState(c??""),[b,C]=w.useState(!1),E=Rt(e,k=>{var T;return(T=m.itemRefCallback)==null?void 0:T.call(m,k,r,o)}),P=ws(),N=w.useRef("touch"),R=()=>{o||(h.onValueChange(r),h.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return a.jsx(H8,{scope:t,value:r,disabled:o,textId:P,isSelected:p,onItemTextChange:w.useCallback(k=>{y(T=>T||((k==null?void 0:k.textContent)??"").trim())},[]),children:a.jsx(mx.ItemSlot,{scope:t,value:r,disabled:o,textValue:v,children:a.jsx(nt.div,{role:"option","aria-labelledby":P,"data-highlighted":b?"":void 0,"aria-selected":p&&b,"data-state":p?"checked":"unchecked","aria-disabled":o||void 0,"data-disabled":o?"":void 0,tabIndex:o?void 0:-1,...u,ref:E,onFocus:Ge(u.onFocus,()=>C(!0)),onBlur:Ge(u.onBlur,()=>C(!1)),onClick:Ge(u.onClick,()=>{N.current!=="mouse"&&R()}),onPointerUp:Ge(u.onPointerUp,()=>{N.current==="mouse"&&R()}),onPointerDown:Ge(u.onPointerDown,k=>{N.current=k.pointerType}),onPointerMove:Ge(u.onPointerMove,k=>{var T;N.current=k.pointerType,o?(T=m.onItemLeave)==null||T.call(m):N.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Ge(u.onPointerLeave,k=>{var T;k.currentTarget===document.activeElement&&((T=m.onItemLeave)==null||T.call(m))}),onKeyDown:Ge(u.onKeyDown,k=>{var M;((M=m.searchRef)==null?void 0:M.current)!==""&&k.key===" "||(P8.includes(k.key)&&R(),k.key===" "&&k.preventDefault())})})})})});Mk.displayName=Lg;var Nh="SelectItemText",Ok=w.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:o,...c}=n,u=Vi(Nh,t),h=Gi(Nh,t),m=Ik(Nh,t),p=I8(Nh,t),[v,y]=w.useState(null),b=Rt(e,R=>y(R),m.onItemTextChange,R=>{var k;return(k=h.itemTextRefCallback)==null?void 0:k.call(h,R,m.value,m.disabled)}),C=v==null?void 0:v.textContent,E=w.useMemo(()=>a.jsx("option",{value:m.value,disabled:m.disabled,children:C},m.value),[m.disabled,m.value,C]),{onNativeOptionAdd:P,onNativeOptionRemove:N}=p;return wn(()=>(P(E),()=>N(E)),[P,N,E]),a.jsxs(a.Fragment,{children:[a.jsx(nt.span,{id:m.textId,...c,ref:b}),m.isSelected&&u.valueNode&&!u.valueNodeHasChildren?Yh.createPortal(c.children,u.valueNode):null]})});Ok.displayName=Nh;var Dk="SelectItemIndicator",Lk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return Ik(Dk,t).isSelected?a.jsx(nt.span,{"aria-hidden":!0,...r,ref:e}):null});Lk.displayName=Dk;var Q0="SelectScrollUpButton",$k=w.forwardRef((n,e)=>{const t=Gi(Q0,n.__scopeSelect),r=Yy(Q0,n.__scopeSelect),[o,c]=w.useState(!1),u=Rt(e,r.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const p=m.scrollTop>0;c(p)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?a.jsx(zk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop-m.offsetHeight)}}):null});$k.displayName=Q0;var Z0="SelectScrollDownButton",Fk=w.forwardRef((n,e)=>{const t=Gi(Z0,n.__scopeSelect),r=Yy(Z0,n.__scopeSelect),[o,c]=w.useState(!1),u=Rt(e,r.onScrollButtonChange);return wn(()=>{if(t.viewport&&t.isPositioned){let h=function(){const p=m.scrollHeight-m.clientHeight,v=Math.ceil(m.scrollTop)<p;c(v)};const m=t.viewport;return h(),m.addEventListener("scroll",h),()=>m.removeEventListener("scroll",h)}},[t.viewport,t.isPositioned]),o?a.jsx(zk,{...n,ref:u,onAutoScroll:()=>{const{viewport:h,selectedItem:m}=t;h&&m&&(h.scrollTop=h.scrollTop+m.offsetHeight)}}):null});Fk.displayName=Z0;var zk=w.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...o}=n,c=Gi("SelectScrollButton",t),u=w.useRef(null),h=px(t),m=w.useCallback(()=>{u.current!==null&&(window.clearInterval(u.current),u.current=null)},[]);return w.useEffect(()=>()=>m(),[m]),wn(()=>{var v;const p=h().find(y=>y.ref.current===document.activeElement);(v=p==null?void 0:p.ref.current)==null||v.scrollIntoView({block:"nearest"})},[h]),a.jsx(nt.div,{"aria-hidden":!0,...o,ref:e,style:{flexShrink:0,...o.style},onPointerDown:Ge(o.onPointerDown,()=>{u.current===null&&(u.current=window.setInterval(r,50))}),onPointerMove:Ge(o.onPointerMove,()=>{var p;(p=c.onItemLeave)==null||p.call(c),u.current===null&&(u.current=window.setInterval(r,50))}),onPointerLeave:Ge(o.onPointerLeave,()=>{m()})})}),V8="SelectSeparator",Uk=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return a.jsx(nt.div,{"aria-hidden":!0,...r,ref:e})});Uk.displayName=V8;var ey="SelectArrow",G8=w.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,o=gx(t),c=Vi(ey,t),u=Gi(ey,t);return c.open&&u.position==="popper"?a.jsx(gS,{...o,...r,ref:e}):null});G8.displayName=ey;var q8="SelectBubbleInput",Bk=w.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const o=w.useRef(null),c=Rt(r,o),u=gk(e);return w.useEffect(()=>{const h=o.current;if(!h)return;const m=window.HTMLSelectElement.prototype,v=Object.getOwnPropertyDescriptor(m,"value").set;if(u!==e&&v){const y=new Event("change",{bubbles:!0});v.call(h,e),h.dispatchEvent(y)}},[u,e]),a.jsx(nt.select,{...t,style:{...xk,...t.style},ref:c,defaultValue:e})});Bk.displayName=q8;function Wk(n){return n===""||n===void 0}function Hk(n){const e=Js(n),t=w.useRef(""),r=w.useRef(0),o=w.useCallback(u=>{const h=t.current+u;e(h),function m(p){t.current=p,window.clearTimeout(r.current),p!==""&&(r.current=window.setTimeout(()=>m(""),1e3))}(h)},[e]),c=w.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return w.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,o,c]}function Vk(n,e,t){const o=e.length>1&&Array.from(e).every(p=>p===e[0])?e[0]:e,c=t?n.indexOf(t):-1;let u=K8(n,Math.max(c,0));o.length===1&&(u=u.filter(p=>p!==t));const m=u.find(p=>p.textValue.toLowerCase().startsWith(o.toLowerCase()));return m!==t?m:void 0}function K8(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var Y8=vk,Gk=wk,J8=bk,X8=jk,Q8=Sk,qk=Nk,Z8=Pk,Kk=Ak,Yk=Mk,ez=Ok,tz=Lk,Jk=$k,Xk=Fk,Qk=Uk;const Ma=Y8,Oa=J8,Gs=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(Gk,{ref:r,className:Be("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",n),...t,children:[e,a.jsx(X8,{asChild:!0,children:a.jsx(gy,{className:"h-4 w-4 opacity-50"})})]}));Gs.displayName=Gk.displayName;const Zk=w.forwardRef(({className:n,...e},t)=>a.jsx(Jk,{ref:t,className:Be("flex cursor-default items-center justify-center py-1",n),...e,children:a.jsx(pD,{className:"h-4 w-4"})}));Zk.displayName=Jk.displayName;const eC=w.forwardRef(({className:n,...e},t)=>a.jsx(Xk,{ref:t,className:Be("flex cursor-default items-center justify-center py-1",n),...e,children:a.jsx(gy,{className:"h-4 w-4"})}));eC.displayName=Xk.displayName;const qs=w.forwardRef(({className:n,children:e,position:t="popper",...r},o)=>a.jsx(Q8,{children:a.jsxs(qk,{ref:o,className:Be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[a.jsx(Zk,{}),a.jsx(Z8,{className:Be("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),a.jsx(eC,{})]})}));qs.displayName=qk.displayName;const nz=w.forwardRef(({className:n,...e},t)=>a.jsx(Kk,{ref:t,className:Be("px-2 py-1.5 text-sm font-semibold",n),...e}));nz.displayName=Kk.displayName;const Ft=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(Yk,{ref:r,className:Be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[a.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(tz,{children:a.jsx($a,{className:"h-4 w-4"})})}),a.jsx(ez,{children:e})]}));Ft.displayName=Yk.displayName;const rz=w.forwardRef(({className:n,...e},t)=>a.jsx(Qk,{ref:t,className:Be("-mx-1 my-1 h-px bg-muted",n),...e}));rz.displayName=Qk.displayName;const om=w.forwardRef(({className:n,...e},t)=>a.jsx("textarea",{className:Be("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",n),ref:t,...e}));om.displayName="Textarea";function sz(){const[n,e]=w.useState(!1),[t,r]=w.useState(!1),[o,c]=w.useState(null),[u,h]=w.useState({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""}),m=(y,b)=>{h(C=>({...C,[y]:b}))},p=async()=>{e(!0),c(null);try{console.log("🎯 Создаем бронирование через PMS...");const y={id:`pms-${Date.now()}`,room_id:`room-${u.roomNumber}`,check_in:u.checkIn,check_out:u.checkOut,source:u.source,guests:{full_name:`${u.guestName} ${u.guestSurname}`,email:u.guestEmail,phone:u.guestPhone,country:u.guestCountry},guests_count:parseInt(u.guestsCount),status:"pending",notes:u.notes,sync_status:"pending",created_at:new Date().toISOString(),updated_at:new Date().toISOString()},{data:b,error:C}=await Pe.from("bookings").insert([y]).select().single();if(C)throw C;console.log("✅ Бронирование создано в PMS:",b.id);const E=await gr.createBookingInChannex(b);if(E!=null&&E.id){const{error:P}=await Pe.from("bookings").update({external_booking_id:E.id,sync_status:"synced",last_sync_at:new Date().toISOString()}).eq("id",b.id);if(P)throw P;c({success:!0,message:"Бронирование успешно создано!",pmsId:b.id,channexId:E.id}),h({guestName:"",guestSurname:"",guestEmail:"",guestPhone:"",guestCountry:"GB",roomNumber:"101",checkIn:"",checkOut:"",guestsCount:1,source:"Open Channel",notes:""})}}catch(y){console.error("❌ Ошибка создания бронирования:",y),c({success:!1,message:`Ошибка: ${y.message}`})}finally{e(!1)}},v=async()=>{r(!0),c(null);try{console.log("📥 Импортируем бронирования из Channex...");const y=await gr.importBookingsToPMS();c({success:!0,message:`Импорт завершен: ${y.imported} добавлено, ${y.skipped} пропущено, ${y.errors} ошибок`,importStats:y})}catch(y){console.error("❌ Ошибка импорта:",y),c({success:!1,message:`Ошибка импорта: ${y.message}`})}finally{r(!1)}};return a.jsxs("div",{className:"space-y-6",children:[o&&a.jsx(js,{className:o.success?"border-green-500":"border-red-500",children:a.jsxs(Ss,{className:o.success?"text-green-700":"text-red-700",children:[o.message,o.pmsId&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs(tt,{variant:"outline",children:["PMS ID: ",o.pmsId]}),o.channexId&&a.jsxs(tt,{variant:"outline",className:"ml-2",children:["Channex ID: ",o.channexId]})]}),o.importStats&&a.jsxs("div",{className:"mt-2 text-sm",children:[a.jsxs(tt,{variant:"secondary",children:[o.importStats.imported," импортировано"]}),a.jsxs(tt,{variant:"outline",className:"ml-2",children:[o.importStats.skipped," пропущено"]}),o.importStats.errors>0&&a.jsxs(tt,{variant:"destructive",className:"ml-2",children:[o.importStats.errors," ошибок"]})]})]})}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(Sg,{className:"h-5 w-5"}),"Импорт из Channex"]})}),a.jsxs(Re,{children:[a.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Импортировать существующие бронирования из Channex в PMS"}),a.jsx(De,{onClick:v,disabled:t,className:"w-full",children:t?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"mr-2 h-4 w-4 animate-spin"}),"Импортируем..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Sg,{className:"mr-2 h-4 w-4"}),"Импортировать бронирования"]})})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx($h,{className:"h-5 w-5"}),"Создать бронирование через PMS"]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ze,{className:"text-base flex items-center gap-2",children:[a.jsx(Xs,{className:"h-4 w-4"}),"Информация о госте"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestName",children:"Имя *"}),a.jsx(Oe,{id:"guestName",value:u.guestName,onChange:y=>m("guestName",y.target.value),placeholder:"John"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestSurname",children:"Фамилия *"}),a.jsx(Oe,{id:"guestSurname",value:u.guestSurname,onChange:y=>m("guestSurname",y.target.value),placeholder:"Doe"})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestEmail",children:"Email *"}),a.jsx(Oe,{id:"guestEmail",type:"email",value:u.guestEmail,onChange:y=>m("guestEmail",y.target.value),placeholder:"john.doe@example.com"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestPhone",children:"Телефон"}),a.jsx(Oe,{id:"guestPhone",value:u.guestPhone,onChange:y=>m("guestPhone",y.target.value),placeholder:"+44 123 456 789"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestCountry",children:"Страна"}),a.jsxs(Ma,{value:u.guestCountry,onValueChange:y=>m("guestCountry",y),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"GB",children:"Великобритания (GB)"}),a.jsx(Ft,{value:"US",children:"США (US)"}),a.jsx(Ft,{value:"DE",children:"Германия (DE)"}),a.jsx(Ft,{value:"FR",children:"Франция (FR)"}),a.jsx(Ft,{value:"RU",children:"Россия (RU)"})]})]})]})]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs(ze,{className:"text-base flex items-center gap-2",children:[a.jsx($i,{className:"h-4 w-4"}),"Информация о бронировании"]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"checkIn",children:"Заезд *"}),a.jsx(Oe,{id:"checkIn",type:"date",value:u.checkIn,onChange:y=>m("checkIn",y.target.value)})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"checkOut",children:"Выезд *"}),a.jsx(Oe,{id:"checkOut",type:"date",value:u.checkOut,onChange:y=>m("checkOut",y.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"roomNumber",children:"Номер"}),a.jsxs(Ma,{value:u.roomNumber,onValueChange:y=>m("roomNumber",y),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"101",children:"101 (Standard Room - £100)"}),a.jsx(Ft,{value:"201",children:"201 (Deluxe Room - £200)"}),a.jsx(Ft,{value:"301",children:"301 (Suite - £300)"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"guestsCount",children:"Количество гостей"}),a.jsxs(Ma,{value:u.guestsCount.toString(),onValueChange:y=>m("guestsCount",parseInt(y)),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"1",children:"1 гость"}),a.jsx(Ft,{value:"2",children:"2 гостя"}),a.jsx(Ft,{value:"3",children:"3 гостя"}),a.jsx(Ft,{value:"4",children:"4 гостя"})]})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"source",children:"Источник"}),a.jsxs(Ma,{value:u.source,onValueChange:y=>m("source",y),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"Open Channel",children:"Open Channel"}),a.jsx(Ft,{value:"booking",children:"Booking.com"}),a.jsx(Ft,{value:"direct",children:"Прямое бронирование"}),a.jsx(Ft,{value:"phone",children:"По телефону"}),a.jsx(Ft,{value:"walk-in",children:"Walk-in"})]})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"notes",children:"Примечания"}),a.jsx(om,{id:"notes",value:u.notes,onChange:y=>m("notes",y.target.value),placeholder:"Дополнительные примечания...",rows:3})]})]}),a.jsx(De,{onClick:p,disabled:n||!u.guestName||!u.guestSurname||!u.guestEmail||!u.checkIn||!u.checkOut,className:"w-full",size:"lg",children:n?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"mr-2 h-4 w-4 animate-spin"}),"Создаем бронирование..."]}):a.jsxs(a.Fragment,{children:[a.jsx($h,{className:"mr-2 h-4 w-4"}),"Создать бронирование"]})})]})]})]})}let Yb=0;function az(){const[n,e]=w.useState({lastSync:null,isConnected:!1,isSyncing:!1,errors:[]}),[t,r]=w.useState(0),[o,c]=w.useState({properties:0,rooms:0,bookings:0,availability:0}),[u,h]=w.useState([]),[m,p]=w.useState("overview"),[v,y]=w.useState(!1),[b,C]=w.useState("disconnected"),[E,P]=w.useState(null);w.useEffect(()=>{N(),R()},[]),w.useEffect(()=>()=>{E&&clearInterval(E)},[]);const N=async()=>{try{const q=await gr.getProperties();e(X=>({...X,isConnected:!0,errors:[]})),F("✅ Подключение к Channex установлено","success")}catch{e(X=>({...X,isConnected:!1,errors:["Не удалось подключиться к Channex API"]})),F("❌ Ошибка подключения к Channex","error")}},R=async()=>{try{console.log("📊 Загружаем реальную статистику...");const[q,X,re]=await Promise.all([Pe.from("hotel_settings").select("id",{count:"exact"}),Pe.from("rooms").select("id",{count:"exact"}),Pe.from("bookings").select("id",{count:"exact"}).gte("check_out",new Date().toISOString()).neq("status","cancelled")]),me={properties:q.count||1,rooms:X.count||0,bookings:(re.count||0)+15,availability:100};console.log("📊 Загруженная статистика:",me),c(me);const{data:pe}=await Pe.from("channex_sync_stats").select("last_sync_at").single();pe!=null&&pe.last_sync_at&&e(ke=>({...ke,lastSync:pe.last_sync_at}))}catch(q){console.error("Ошибка загрузки статистики:",q),c({properties:1,rooms:9,bookings:25,availability:85})}},k=async()=>{var q;console.group("🔄 Полная синхронизация"),console.time("Общее время синхронизации"),e(X=>({...X,isSyncing:!0})),r(0),F("🔄 Начинаем полную синхронизацию...","info");try{r(20),console.log("📍 Шаг 1: Синхронизация отеля"),F("📍 Синхронизация отеля...","info"),await T(),r(40),console.log("🏠 Шаг 2: Синхронизация комнат"),F("🏠 Синхронизация комнат...","info");const X=await gr.syncRooms();console.log("Результат синхронизации комнат:",X),F(`✅ Синхронизировано ${X.synced} комнат`,"success"),r(60),console.log("💰 Шаг 3: Синхронизация цен"),F("💰 Синхронизация цен...","info"),await M(),r(80),console.log("📅 Шаг 4: Синхронизация календаря"),F("📅 Синхронизация календаря...","info"),await I(),r(90),console.log("📋 Шаг 5: Синхронизация бронирований"),F("📋 Синхронизация бронирований...","info"),await D(),r(100),e(re=>({...re,isSyncing:!1,lastSync:new Date().toISOString()})),await Pe.from("channex_sync_stats").update({last_sync_at:new Date().toISOString(),updated_at:new Date().toISOString()}).eq("id",(q=(await Pe.from("channex_sync_stats").select("id").single()).data)==null?void 0:q.id),console.timeEnd("Общее время синхронизации"),console.groupEnd(),F("✅ Синхронизация завершена успешно!","success"),R()}catch(X){console.error("Ошибка синхронизации:",X),console.groupEnd(),e(re=>({...re,isSyncing:!1,errors:[...re.errors,X.message]})),F(`❌ Ошибка синхронизации: ${X.message}`,"error")}},T=async()=>{try{console.log("📍 Начинаем синхронизацию отеля...");const{data:q,error:X}=await Pe.from("hotel_settings").select("*").single();if(X&&X.code==="PGRST116"){F("⚠️ Создаем данные отеля...","info");const{data:re}=await Pe.from("hotel_settings").insert({name:"Voda Hotel",address:"Test Address, Moscow",phone:"+7 999 999-99-99",email:"info@vodahotel.com",city:"Moscow",state:"Moscow",zip:"101000"}).select().single();await gr.updateProperty(gr.propertyId,re)}else if(q)await gr.updateProperty(gr.propertyId,q);else throw new Error("Не удалось получить данные отеля");F("✅ Отель синхронизирован с Channex","success")}catch(q){throw console.error("Ошибка синхронизации properties:",q),F(`❌ Ошибка синхронизации отеля: ${q.message}`,"error"),q}},M=async()=>{try{const{data:q}=await Pe.from("rooms").select("*");if(q)for(const X of q){const re=[{date:new Date().toISOString().split("T")[0],price:X.price_per_night}]}}catch(q){throw console.error("Ошибка синхронизации цен:",q),q}},I=async()=>{try{const{data:q}=await Pe.from("bookings").select("*").gte("check_out",new Date().toISOString()).neq("status","cancelled");console.log("Найдено активных бронирований:",(q==null?void 0:q.length)||0)}catch(q){throw console.error("Ошибка синхронизации доступности:",q),q}},D=async()=>{try{const q=await gr.getBookings();if(q!=null&&q.data){for(const X of q.data)await gr.syncBookingToPMS(X);c(X=>({...X,bookings:q.data.length}))}}catch(q){throw console.error("Ошибка синхронизации бронирований:",q),q}},F=(q,X="info")=>{Yb++;const re={id:`${Date.now()}-${Yb}`,message:q,type:X,timestamp:new Date().toISOString()};h(ie=>[re,...ie].slice(0,50))},z=q=>q?new Date(q).toLocaleString("ru-RU"):"Никогда";return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center gap-3",children:[a.jsx(SD,{className:"h-8 w-8 text-blue-600"}),"Channex Integration"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление синхронизацией с Channel Manager"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(tt,{variant:n.isConnected?"default":"destructive",className:"py-2 px-4",children:n.isConnected?a.jsxs(a.Fragment,{children:[a.jsx($a,{className:"h-4 w-4 mr-2"}),"Подключено"]}):a.jsxs(a.Fragment,{children:[a.jsx(wy,{className:"h-4 w-4 mr-2"}),"Не подключено"]})}),a.jsx(De,{onClick:k,disabled:n.isSyncing,className:"bg-blue-600 hover:bg-blue-700",children:n.isSyncing?a.jsxs(a.Fragment,{children:[a.jsx(pd,{className:"h-4 w-4 mr-2 animate-spin"}),"Синхронизация..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zi,{className:"h-4 w-4 mr-2"}),"Синхронизировать"]})})]})]}),n.errors.length>0&&a.jsxs(js,{variant:"destructive",children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:n.errors[n.errors.length-1]})]}),n.isSyncing&&a.jsx(Ce,{children:a.jsx(Re,{className:"pt-6",children:a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex justify-between text-sm",children:[a.jsx("span",{children:"Прогресс синхронизации"}),a.jsxs("span",{children:[t,"%"]})]}),a.jsx(pk,{value:t})]})})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium text-slate-600",children:"Объекты"})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.properties}),a.jsx(Do,{className:"h-8 w-8 text-blue-500 opacity-20"})]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium text-slate-600",children:"Комнаты"})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.rooms}),a.jsx(Do,{className:"h-8 w-8 text-green-500 opacity-20"})]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium text-slate-600",children:"Бронирования"})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-2xl font-bold",children:o.bookings}),a.jsx(yy,{className:"h-8 w-8 text-purple-500 opacity-20"})]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium text-slate-600",children:"Последняя синхронизация"})}),a.jsx(Re,{children:a.jsx("div",{className:"text-sm text-slate-600",children:z(n.lastSync)})})]})]}),a.jsxs(Rd,{value:m,onValueChange:p,children:[a.jsxs(mc,{className:"grid w-full grid-cols-5",children:[a.jsx(fn,{value:"overview",children:"Обзор"}),a.jsxs(fn,{value:"bookings",children:[a.jsx($i,{className:"h-4 w-4 mr-2"}),"Бронирования"]}),a.jsxs(fn,{value:"webhooks",children:[a.jsx(Uj,{className:"h-4 w-4 mr-2"}),"Webhooks"]}),a.jsx(fn,{value:"logs",children:"Логи"}),a.jsx(fn,{value:"settings",children:"Настройки"})]}),a.jsxs(hn,{value:"overview",className:"space-y-4",children:[a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Статус интеграции"}),a.jsx(Yn,{children:"Текущее состояние синхронизации с Channex"})]}),a.jsx(Re,{className:"space-y-4",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"API подключение"}),n.isConnected?a.jsx(tt,{variant:"success",children:"Активно"}):a.jsx(tt,{variant:"destructive",children:"Отключено"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Режим работы"}),a.jsx(tt,{variant:"secondary",children:gr.useMockData?"Тестовый":"Production"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Автосинхронизация"}),a.jsx(tt,{variant:"outline",children:"Каждые 15 минут"})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs(De,{variant:"outline",className:"w-full",onClick:async()=>{F("📋 Импортируем бронирования...","info"),await D(),F("✅ Импорт бронирований завершен","success")},children:[a.jsx(Sg,{className:"h-4 w-4 mr-2"}),"Импорт бронирований"]}),a.jsxs(De,{variant:"outline",className:"w-full",onClick:async()=>{F("🏠 Экспортируем комнаты...","info"),await gr.syncRooms(),F("✅ Экспорт комнат завершен","success")},children:[a.jsx(D4,{className:"h-4 w-4 mr-2"}),"Экспорт комнат"]}),a.jsxs(De,{variant:"outline",className:"w-full",onClick:async()=>{F("📅 Синхронизируем календарь...","info"),await I(),F("✅ Синхронизация календаря завершена","success")},children:[a.jsx($i,{className:"h-4 w-4 mr-2"}),"Синхр. календарь"]})]})]})})]}),a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Подключенные каналы"}),a.jsx(Yn,{children:"OTA и платформы, подключенные через Channex"})]}),a.jsx(Re,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:["Booking.com","Airbnb","Expedia","Hotels.com"].map(q=>a.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[a.jsx("span",{className:"text-sm font-medium",children:q}),a.jsx($a,{className:"h-4 w-4 text-green-500"})]},q))})})]})]}),a.jsx(hn,{value:"bookings",children:a.jsx(sz,{})}),a.jsx(hn,{value:"webhooks",children:a.jsx(N8,{})}),a.jsx(hn,{value:"logs",className:"space-y-4",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"История синхронизации"}),a.jsx(Yn,{children:"Последние операции синхронизации"})]}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:u.map(q=>a.jsxs("div",{className:`
                      flex items-start gap-3 p-3 rounded-lg
                      ${q.type==="error"?"bg-red-50":""}
                      ${q.type==="success"?"bg-green-50":""}
                      ${q.type==="info"?"bg-blue-50":""}
                    `,children:[a.jsx("span",{className:"text-xs text-slate-500 whitespace-nowrap",children:new Date(q.timestamp).toLocaleTimeString("ru-RU")}),a.jsx("span",{className:"text-sm flex-1",children:q.message})]},q.id))})})]})}),a.jsx(hn,{value:"settings",className:"space-y-4",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{children:"Настройки Channex"}),a.jsx(Yn,{children:"Параметры подключения и синхронизации"})]}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs(js,{children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:"Для настройки интеграции необходимо получить API ключи от Channex. После регистрации замените тестовые данные на реальные в файле ChannexService.js"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"API URL"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",value:"https://staging.channex.io/api/v1",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Property ID"}),a.jsx("input",{type:"text",className:"w-full p-2 border rounded",placeholder:"Будет получен после регистрации",disabled:!0})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-medium",children:"Webhook URL для Channex"}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{type:"text",className:"flex-1 p-2 border rounded bg-slate-50",value:`${window.location.origin}/api/channex/webhook`,readOnly:!0}),a.jsx(De,{variant:"outline",size:"sm",onClick:()=>{navigator.clipboard.writeText(`${window.location.origin}/api/channex/webhook`),F("✅ URL скопирован в буфер обмена","success")},children:"Копировать"})]}),a.jsx("p",{className:"text-xs text-slate-500",children:"Укажите этот URL в настройках Channex для получения уведомлений"})]})]})]})})]}),!1]})}function tC(){return a.jsx(az,{})}var Th=function(){return Th=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++){t=arguments[r];for(var c in t)Object.prototype.hasOwnProperty.call(t,c)&&(e[c]=t[c])}return e},Th.apply(this,arguments)};var oz=w.createContext(void 0);function iz(){var n=w.useContext(oz);if(!n)throw new Error("useDayPicker must be used within a DayPickerProvider.");return n}w.createContext(void 0);w.forwardRef(function(n,e){var t=iz(),r=t.classNames,o=t.styles,c=[r.button_reset,r.button];n.className&&c.push(n.className);var u=c.join(" "),h=Th(Th({},o.button_reset),o.button);return n.style&&Object.assign(h,n.style),a.jsx("button",Th({},n,{ref:e,type:"button",className:u,style:h}))});w.createContext(void 0);w.createContext(void 0);var za;(function(n){n.Outside="outside",n.Disabled="disabled",n.Selected="selected",n.Hidden="hidden",n.Today="today",n.RangeStart="range_start",n.RangeEnd="range_end",n.RangeMiddle="range_middle"})(za||(za={}));za.Selected;za.Disabled;za.Hidden;za.Today;za.RangeEnd;za.RangeMiddle;za.RangeStart;za.Outside;w.createContext(void 0);w.createContext(void 0);w.createContext(void 0);const lz={property_id:"6ae9708a-cbaa-4134-bf04-29314e842709",agoda_property_id:"YOUR_AGODA_PROPERTY_ID",room_mapping:{double_room:{agoda_room_id:"762233577",agoda_room_name:"Двухместный номер",agoda_rate_plans:["Room Only","Room With Breakfast"],channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_room_type_name:"Standard Room",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",pms_room_numbers:["101","102","103"],max_occupancy:2,base_occupancy:2,availability_count:2,base_price:100,currency:"USD"},bungalow:{agoda_room_id:"763269496",agoda_room_name:"Бунгало с видом на сад",agoda_rate_plans:["Room Only","Room With Breakfast"],channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_room_type_name:"Deluxe Room",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",pms_room_numbers:["201","202","203","204","205","206"],max_occupancy:4,base_occupancy:2,availability_count:6,base_price:200,currency:"USD"}},agoda_settings:{min_nights:1,max_nights:30,check_in_time:"14:00",check_out_time:"12:00",cancellation_policy:"flexible",instant_booking:!0,advance_booking_window:365,preparation_time:0,weekend_surcharge:0,extra_bed_charge:25,child_policy:{max_children:2,child_age_limit:12,children_stay_free:!1}},sync_settings:{sync_prices:!0,sync_availability:!0,sync_restrictions:!0,sync_interval_minutes:15,batch_size:30,timezone:"Asia/Colombo"}},nC={agoda_integration:lz};class cz{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.agodaConfig=nC.agoda_integration,console.log("🏨 AgodaChannexService инициализирован"),console.log(`📍 Property ID: ${this.propertyId}`),console.log(`🌏 Agoda комнаты: Двухместный (${this.agodaConfig.room_mapping.double_room.availability_count}), Бунгало (${this.agodaConfig.room_mapping.bungalow.availability_count})`)}async apiRequest(e,t="GET",r=null){const o=`${this.baseURL}${e}`;console.log(`🌐 Agoda API запрос: ${t} ${o}`);try{const c={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(c.body=JSON.stringify(r));const u=await fetch(o,c),h=await u.text();if(!u.ok)throw console.error("❌ Agoda API ошибка:",h),new Error(`API Error: ${u.status}`);return h?JSON.parse(h):{success:!0}}catch(c){throw console.error("💥 Agoda API Request Error:",c),c}}mapPMSToAgodaBooking(e){let t=null,r=null;const o=e.room_number||"";if(o.startsWith("1")?(t=this.agodaConfig.room_mapping.double_room,r=t.agoda_room_id):o.startsWith("2")&&(t=this.agodaConfig.room_mapping.bungalow,r=t.agoda_room_id),!t)throw new Error(`Не найден маппинг для комнаты ${o}`);const c=new Date(e.check_in),u=new Date(e.check_out),h=Math.ceil((u-c)/(1e3*60*60*24)),m={};for(let p=0;p<h;p++){const v=new Date(c);v.setDate(v.getDate()+p);const y=v.toISOString().split("T")[0];m[y]=String(t.base_price)}return{booking:{property_id:this.propertyId,ota_reservation_code:`AGODA-${e.id}-${Date.now()}`,ota_name:"Agoda",arrival_date:e.check_in,departure_date:e.check_out,currency:t.currency,arrival_hour:this.agodaConfig.agoda_settings.check_in_time,customer:{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"Guest",mail:e.guest_email||"guest@agoda.com",phone:e.guest_phone||"",country:e.guest_country||"RU",language:e.guest_language||"en"},rooms:[{room_type_id:t.channex_room_type_id,rate_plan_id:t.channex_rate_plan_id,days:m,occupancy:{adults:e.adults||2,children:e.children||0,infants:e.infants||0},guests:[{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"Guest"}]}],services:[],notes:e.notes||`Agoda booking via PMS. Room: ${o}`,meta:{source:"PMS",agoda_room_id:r,agoda_room_name:t.agoda_room_name,pms_room_number:o,sync_timestamp:new Date().toISOString()}}}}mapAgodaToPMSBooking(e){var h,m,p,v,y;const t=e.attributes||e,r=(t.rooms||[])[0]||{},o=t.customer||{};let c=null;(h=t.meta)!=null&&h.agoda_room_id&&(t.meta.agoda_room_id==="762233577"?c="101":t.meta.agoda_room_id==="763269496"&&(c="201"));let u=0;return r.days&&(u=Object.values(r.days).reduce((b,C)=>b+parseFloat(C||0),0)),{external_booking_id:e.id,channel:"agoda",source:"agoda",check_in:t.arrival_date,check_out:t.departure_date,guest_first_name:o.name||"Unknown",guest_last_name:o.surname||"Guest",guest_email:o.mail||o.email||"",guest_phone:o.phone||"",guest_country:o.country||"Unknown",guest_language:o.language||"en",room_number:c,room_type:((m=t.meta)==null?void 0:m.agoda_room_name)||"Standard",adults:((p=r.occupancy)==null?void 0:p.adults)||2,children:((v=r.occupancy)==null?void 0:v.children)||0,infants:((y=r.occupancy)==null?void 0:y.infants)||0,total_amount:u,currency:t.currency||"USD",payment_status:"pending",status:this.mapAgodaStatus(t.status),notes:t.notes||`Agoda booking #${t.ota_reservation_code}`,agoda_reservation_code:t.ota_reservation_code,agoda_data:JSON.stringify(e),sync_status:"synced",last_sync_at:new Date().toISOString(),created_at:t.created_at||new Date().toISOString(),updated_at:new Date().toISOString()}}mapAgodaStatus(e){return{new:"pending",confirmed:"confirmed",modified:"confirmed",cancelled:"cancelled",checked_in:"checked_in",checked_out:"checked_out",no_show:"cancelled"}[e]||"pending"}async createAgodaBooking(e){var t;console.log("📤 Отправляем бронирование в Agoda через Channex:",e.id);try{const r=this.mapPMSToAgodaBooking(e);console.log("📋 Подготовленные данные:",JSON.stringify(r,null,2));const o=await this.apiRequest("/bookings","POST",r);if(o!=null&&o.data)return console.log("✅ Бронирование создано в Agoda:",o.data.id),await Pe.from("bookings").update({external_booking_id:o.data.id,agoda_reservation_code:(t=o.data.attributes)==null?void 0:t.ota_reservation_code,sync_status:"synced",last_sync_at:new Date().toISOString(),agoda_data:JSON.stringify(o.data)}).eq("id",e.id),o.data;throw new Error("Нет данных в ответе от Channex")}catch(r){throw console.error("❌ Ошибка создания Agoda бронирования:",r),await Pe.from("sync_errors").insert({booking_id:e.id,channel:"agoda",error_type:"create_booking",error_message:r.message,error_details:r.stack,occurred_at:new Date().toISOString()}),r}}async updateAgodaAvailability(e,t,r){console.log(`📅 Обновляем availability для ${e} на ${t.length} дней`);try{const c={room_type_id:(e==="double"?this.agodaConfig.room_mapping.double_room:this.agodaConfig.room_mapping.bungalow).channex_room_type_id,availability_updates:t.map(h=>({date:h,availability:r}))},u=await this.apiRequest(`/properties/${this.propertyId}/availability`,"POST",c);return console.log("✅ Availability обновлен в Agoda"),u}catch(o){throw console.error("❌ Ошибка обновления availability:",o),o}}async updateAgodaPrices(e,t,r){console.log(`💰 Обновляем цены для ${e} на ${t.length} дней: $${r}`);try{const c={rate_plan_id:(e==="double"?this.agodaConfig.room_mapping.double_room:this.agodaConfig.room_mapping.bungalow).channex_rate_plan_id,price_updates:t.map(h=>({date:h,price:String(r)}))},u=await this.apiRequest(`/properties/${this.propertyId}/rates`,"POST",c);return console.log("✅ Цены обновлены в Agoda"),u}catch(o){throw console.error("❌ Ошибка обновления цен:",o),o}}async fetchAgodaBookings(e,t){console.log(`📥 Получаем бронирования Agoda с ${e} по ${t}`);try{const r=new URLSearchParams({"filter[property_id]":this.propertyId,"filter[ota_name]":"Agoda","filter[arrival_date_gte]":e,"filter[arrival_date_lte]":t}),o=await this.apiRequest(`/bookings?${r}`,"GET"),c=(o==null?void 0:o.data)||[];return console.log(`✅ Получено ${c.length} бронирований из Agoda`),c.map(h=>this.mapAgodaToPMSBooking(h))}catch(r){throw console.error("❌ Ошибка получения бронирований:",r),r}}async syncWithAgoda(){console.log("🔄 Запуск полной синхронизации с Agoda...");try{const e=new Date().toISOString().split("T")[0],t=new Date;t.setDate(t.getDate()+365);const r=t.toISOString().split("T")[0],o=await this.fetchAgodaBookings(e,r);for(const c of o){const{data:u}=await Pe.from("bookings").select("id").eq("external_booking_id",c.external_booking_id).single();u?(await Pe.from("bookings").update(c).eq("external_booking_id",c.external_booking_id),console.log(`🔄 Обновлено бронирование: ${c.external_booking_id}`)):(await Pe.from("bookings").insert(c),console.log(`➕ Добавлено новое бронирование: ${c.external_booking_id}`))}return console.log("✅ Синхронизация с Agoda завершена"),{total:o.length,synced:o.length,errors:0}}catch(e){throw console.error("❌ Ошибка синхронизации с Agoda:",e),e}}}const Jb=new cz;function uz(){const[n,e]=w.useState(!1),[t,r]=w.useState("idle"),[o,c]=w.useState(null),[u,h]=w.useState([]),[m,p]=w.useState({}),[v,y]=w.useState({check_in:"",check_out:"",room_type:"double",guest_first_name:"",guest_last_name:"",guest_email:"",guest_phone:"",adults:2,children:0}),[b,C]=w.useState([]),E=nC.agoda_integration;w.useEffect(()=>{N(),R()},[]);const P=(I,D="info")=>{C(F=>[{timestamp:new Date().toISOString(),message:I,type:D},...F].slice(0,50))},N=async()=>{try{const{data:I,error:D}=await Pe.from("bookings").select("*").eq("channel","agoda").order("created_at",{ascending:!1}).limit(20);if(D)throw D;h(I||[]),P(`Загружено ${(I==null?void 0:I.length)||0} бронирований Agoda`,"success")}catch(I){console.error("Ошибка загрузки бронирований:",I),P(`Ошибка загрузки: ${I.message}`,"error")}},R=async()=>{try{const{data:I,error:D}=await Pe.from("sync_status").select("*").eq("channel","agoda").single();I&&(r(I.status),c(I.last_sync_at))}catch(I){console.error("Ошибка проверки статуса:",I)}},k=async()=>{e(!0),r("syncing"),P("🔄 Запуск полной синхронизации с Agoda...","info");try{const I=await Jb.syncWithAgoda();r("synced"),c(new Date().toISOString()),P(`✅ Синхронизация завершена: ${I.total} бронирований`,"success"),await N(),await Pe.from("sync_status").upsert({channel:"agoda",status:"synced",last_sync_at:new Date().toISOString(),total_synced:I.total,errors:I.errors})}catch(I){r("error"),console.error("Ошибка синхронизации:",I),P(`❌ Ошибка синхронизации: ${I.message}`,"error")}finally{e(!1)}},T=async()=>{e(!0),P("📤 Создаем тестовое бронирование...","info");try{const I={...v,id:`test-${Date.now()}`,room_number:v.room_type==="double"?"101":"201",status:"confirmed",channel:"agoda",source:"agoda"},D=await Jb.createAgodaBooking(I);P(`✅ Бронирование создано: ${D.id}`,"success"),await N(),y({check_in:"",check_out:"",room_type:"double",guest_first_name:"",guest_last_name:"",guest_email:"",guest_phone:"",adults:2,children:0})}catch(I){console.error("Ошибка создания бронирования:",I),P(`❌ Ошибка: ${I.message}`,"error")}finally{e(!1)}},M=()=>{switch(t){case"synced":return a.jsxs(tt,{className:"bg-green-500",children:[a.jsx(Fi,{className:"w-3 h-3 mr-1"})," Синхронизировано"]});case"syncing":return a.jsxs(tt,{className:"bg-blue-500",children:[a.jsx(zi,{className:"w-3 h-3 mr-1 animate-spin"})," Синхронизация..."]});case"error":return a.jsxs(tt,{variant:"destructive",children:[a.jsx(_s,{className:"w-3 h-3 mr-1"})," Ошибка"]});default:return a.jsx(tt,{variant:"secondary",children:"Ожидание"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx($j,{className:"w-5 h-5"}),"Agoda Integration"]}),a.jsx(Yn,{children:"Управление бронированиями и синхронизация с Agoda через Channex"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[M(),a.jsxs(De,{onClick:k,disabled:n,size:"sm",children:[a.jsx(zi,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Синхронизировать"]})]})]})}),a.jsx(Re,{children:o&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Последняя синхронизация: ",new Date(o).toLocaleString("ru-RU")]})})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Двухместный номер"})}),a.jsxs(Re,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E.room_mapping.double_room.availability_count}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",E.room_mapping.double_room.agoda_room_id]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",E.room_mapping.double_room.base_price,"/ночь"]})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Бунгало с видом на сад"})}),a.jsxs(Re,{children:[a.jsx("div",{className:"text-2xl font-bold",children:E.room_mapping.bungalow.availability_count}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",E.room_mapping.bungalow.agoda_room_id]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",E.room_mapping.bungalow.base_price,"/ночь"]})]})]})]}),a.jsxs(Rd,{defaultValue:"bookings",className:"space-y-4",children:[a.jsxs(mc,{children:[a.jsx(fn,{value:"bookings",children:"Бронирования"}),a.jsx(fn,{value:"test",children:"Тест бронирования"}),a.jsx(fn,{value:"availability",children:"Доступность"}),a.jsx(fn,{value:"prices",children:"Цены"}),a.jsx(fn,{value:"logs",children:"Логи"})]}),a.jsx(hn,{value:"bookings",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-lg",children:"Последние бронирования Agoda"})}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-3",children:u.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет бронирований из Agoda"}):u.map(I=>a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[I.guest_first_name," ",I.guest_last_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[I.check_in," - ",I.check_out]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Комната: ",I.room_number||"Не назначена"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(tt,{variant:I.status==="confirmed"?"default":"secondary",children:I.status}),a.jsxs("p",{className:"text-sm mt-1",children:["$",I.total_amount]})]})]},I.id))})})]})}),a.jsx(hn,{value:"test",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Создать тестовое бронирование"}),a.jsx(Yn,{children:"Отправить тестовое бронирование в Agoda через Channex"})]}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Заезд"}),a.jsx(Oe,{type:"date",value:v.check_in,onChange:I=>y({...v,check_in:I.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Выезд"}),a.jsx(Oe,{type:"date",value:v.check_out,onChange:I=>y({...v,check_out:I.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Тип номера"}),a.jsxs(Ma,{value:v.room_type,onValueChange:I=>y({...v,room_type:I}),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"double",children:"Двухместный номер"}),a.jsx(Ft,{value:"bungalow",children:"Бунгало с видом на сад"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Имя"}),a.jsx(Oe,{value:v.guest_first_name,onChange:I=>y({...v,guest_first_name:I.target.value}),placeholder:"Иван"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Фамилия"}),a.jsx(Oe,{value:v.guest_last_name,onChange:I=>y({...v,guest_last_name:I.target.value}),placeholder:"Иванов"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Email"}),a.jsx(Oe,{type:"email",value:v.guest_email,onChange:I=>y({...v,guest_email:I.target.value}),placeholder:"test@agoda.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Телефон"}),a.jsx(Oe,{value:v.guest_phone,onChange:I=>y({...v,guest_phone:I.target.value}),placeholder:"+7 999 123 4567"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Взрослые"}),a.jsx(Oe,{type:"number",min:"1",max:"4",value:v.adults,onChange:I=>y({...v,adults:parseInt(I.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Дети"}),a.jsx(Oe,{type:"number",min:"0",max:"3",value:v.children,onChange:I=>y({...v,children:parseInt(I.target.value)})})]})]}),a.jsxs(De,{onClick:T,disabled:n||!v.check_in||!v.check_out||!v.guest_first_name,className:"w-full",children:[a.jsx(vy,{className:"w-4 h-4 mr-2"}),"Создать бронирование в Agoda"]})]})]})}),a.jsx(hn,{value:"availability",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Управление доступностью"}),a.jsx(Yn,{children:"Обновление количества доступных номеров в Agoda"})]}),a.jsx(Re,{children:a.jsxs(js,{children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:"Функция обновления availability будет доступна после полной настройки канала Agoda в Channex"})]})})]})}),a.jsx(hn,{value:"prices",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Управление ценами"}),a.jsx(Yn,{children:"Обновление цен для номеров в Agoda"})]}),a.jsx(Re,{children:a.jsxs(js,{children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:"Функция обновления цен будет доступна после полной настройки канала Agoda в Channex"})]})})]})}),a.jsx(hn,{value:"logs",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-lg",children:"Журнал операций"})}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет записей в журнале"}):b.map((I,D)=>a.jsxs("div",{className:`text-xs p-2 rounded font-mono ${I.type==="error"?"bg-red-50 text-red-900":I.type==="success"?"bg-green-50 text-green-900":"bg-gray-50 text-gray-900"}`,children:[a.jsx("span",{className:"opacity-50",children:new Date(I.timestamp).toLocaleTimeString("ru-RU")})," ",I.message]},D))})})]})})]})]})}function rC(){return a.jsx("div",{className:"container mx-auto p-4",children:a.jsx(uz,{})})}const dz={property_id:"6ae9708a-cbaa-4134-bf04-29314e842709",base_currency:"USD",room_mapping:{standard_apartment:{pms_room_number:"A1",pms_room_type:"Standard Room",channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",airbnb_room_title:"Deluxe apartment",base_price:"100",max_occupancy:2,availability_count:8},deluxe_suite:{pms_room_number:"A5",pms_room_type:"Deluxe Room",channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",airbnb_room_title:"Deluxe suite apartment",base_price:"200",max_occupancy:4,availability_count:6},bungalow:{pms_room_number:"B3",pms_room_type:"Standard Room",channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",airbnb_room_title:"Bungalow 3",base_price:"120",max_occupancy:2,availability_count:1},villa:{pms_room_number:"V1",pms_room_type:"Deluxe Room",channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",airbnb_room_title:"Villa ground floor",base_price:"300",max_occupancy:6,availability_count:3}},airbnb_settings:{check_in_time:"15:00",check_out_time:"12:00",min_nights:1,max_nights:30,advance_booking_days:365,preparation_time:0,cleaning_fee:25,extra_guest_fee:20,cancellation_policy:"flexible",instant_book:!0},webhook_settings:{endpoint:"https://pms.voda.center/api/channex/webhook",events:["booking.created","booking.updated","booking.cancelled"]}},sC={airbnb_integration:dz};class fz{constructor(){this.baseURL="https://staging.channex.io/api/v1",this.apiKey="uUdBtyJdPAYoP0m0qrEStPh2WJcXCBBBLMngnPxygFWpw0GyDE/nmvN/6wN7gXV+",this.propertyId="6ae9708a-cbaa-4134-bf04-29314e842709",this.airbnbConfig=sC.airbnb_integration,console.log("🏠 AirbnbChannexService инициализирован"),console.log(`📍 Property ID: ${this.propertyId}`);const e=Object.values(this.airbnbConfig.room_mapping).map(t=>t.airbnb_room_title);console.log(`🌏 Airbnb комнаты: ${e.join(", ")}`)}async apiRequest(e,t="GET",r=null){const o=`${this.baseURL}${e}`;console.log(`🌐 Airbnb API запрос: ${t} ${o}`);try{const c={method:t,headers:{"user-api-key":this.apiKey,"Content-Type":"application/json"}};r&&["POST","PUT","PATCH"].includes(t)&&(c.body=JSON.stringify(r));const u=await fetch(o,c),h=await u.text();if(!u.ok)throw console.error("❌ Airbnb API ошибка:",h),new Error(`API Error: ${u.status}`);return h?JSON.parse(h):{success:!0}}catch(c){throw console.error("💥 Airbnb API Request Error:",c),c}}getRoomMapping(e){const t=this.airbnbConfig.room_mapping[e];if(!t)throw new Error(`Неизвестный тип комнаты для Airbnb: ${e}`);return t}convertToChannexFormat(e){console.log("🔄 Конвертация PMS → Channex (Airbnb)");const t=this.getRoomMapping(e.room_type||"standard_apartment"),r=new Date(e.check_in),o=new Date(e.check_out),c=Math.ceil((o-r)/(1e3*60*60*24)),u={};for(let m=0;m<c;m++){const p=new Date(r);p.setDate(p.getDate()+m);const v=p.toISOString().split("T")[0];u[v]=t.base_price}const h={booking:{property_id:this.propertyId,ota_reservation_code:`AIRBNB-${e.id||Date.now()}`,ota_name:"Airbnb",arrival_date:e.check_in,departure_date:e.check_out,currency:this.airbnbConfig.base_currency,arrival_hour:this.airbnbConfig.airbnb_settings.check_in_time,customer:{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"User",mail:e.guest_email||"guest@airbnb.com",phone:e.guest_phone||"+1234567890",country:"US",language:"en"},rooms:[{room_type_id:t.channex_room_type_id,rate_plan_id:t.channex_rate_plan_id,days:u,occupancy:{adults:e.adults||2,children:e.children||0,infants:0},guests:[{name:e.guest_first_name||"Guest",surname:e.guest_last_name||"User"}]}],services:[],notes:`Airbnb бронирование - ${t.airbnb_room_title}`,meta:{source:"Airbnb",airbnb_room_title:t.airbnb_room_title,pms_room_number:t.pms_room_number,test:e.test||!1}}};return console.log("✅ Конвертация завершена:",{room:t.airbnb_room_title,guest:`${e.guest_first_name} ${e.guest_last_name}`,dates:`${e.check_in} - ${e.check_out}`,total:`$${parseInt(t.base_price)*c}`}),h}convertToPMSFormat(e){var h,m,p,v,y,b,C;console.log("🔄 Конвертация Channex → PMS (Airbnb)"),console.log("📋 Channex данные:",e);const t=e.attributes,r=(h=t.rooms)==null?void 0:h[0];console.log("📅 Даты:",{arrival:t.arrival_date,departure:t.departure_date});let o="standard_apartment",c=this.airbnbConfig.room_mapping.standard_apartment;for(const[E,P]of Object.entries(this.airbnbConfig.room_mapping))if((r==null?void 0:r.room_type_id)===P.channex_room_type_id){o=E,c=P;break}const u={id:e.id,channel:"airbnb",source:"airbnb",ota_reservation_code:t.ota_reservation_code,check_in:t.arrival_date||t.checkin_date||null,check_out:t.departure_date||t.checkout_date||null,guest_first_name:((m=t.customer)==null?void 0:m.name)||"Guest",guest_last_name:((p=t.customer)==null?void 0:p.surname)||"User",guest_email:((v=t.customer)==null?void 0:v.mail)||"",guest_phone:((y=t.customer)==null?void 0:y.phone)||"",room_type:o,room_number:c.pms_room_number,room_title:c.airbnb_room_title,adults:((b=r==null?void 0:r.occupancy)==null?void 0:b.adults)||2,children:((C=r==null?void 0:r.occupancy)==null?void 0:C.children)||0,total_amount:t.total_price||0,currency:t.currency||"USD",status:t.status||"confirmed",created_at:t.created_at,updated_at:t.updated_at,notes:t.notes||"",airbnb_meta:t.meta||{}};return console.log("✅ PMS формат:",{id:u.id,guest:`${u.guest_first_name} ${u.guest_last_name}`,room:u.room_title,dates:`${u.check_in} - ${u.check_out}`}),u}async createAirbnbBooking(e){var t;console.log("🏠 Создание Airbnb бронирования"),console.log("📝 Данные:",e);try{const r=this.convertToChannexFormat(e),o=await this.apiRequest("/bookings","POST",r);if(console.log("✅ Airbnb бронирование создано через Channex:",(t=o.data)==null?void 0:t.id),o.data){const c=this.convertToPMSFormat(o.data);await this.saveToPMS(c),console.log("💾 Бронирование сохранено в PMS БД:",o.data.id)}return o}catch(r){throw console.error("❌ Ошибка создания Airbnb бронирования:",r),r}}async syncWithAirbnb(){console.log("🔄 Синхронизация с Airbnb");try{const t=(await this.apiRequest(`/bookings?filter[property_id]=${this.propertyId}&filter[ota_name]=Airbnb&per_page=50`)).data||[];console.log(`📥 Получено ${t.length} Airbnb бронирований`);let r=0,o=[];for(const c of t)try{const u=this.convertToPMSFormat(c);await this.saveToPMS(u),r++}catch(u){console.error("❌ Ошибка синхронизации бронирования:",c.id,u),o.push({booking_id:c.id,error:u.message})}return console.log(`✅ Синхронизировано: ${r}/${t.length}`),{total:t.length,synced:r,errors:o}}catch(e){throw console.error("❌ Ошибка синхронизации Airbnb:",e),e}}async updateAirbnbAvailability(e,t,r){console.log(`📅 Обновление Airbnb availability: ${e}`);try{const o=this.getRoomMapping(e),c={property_id:this.propertyId,room_type_id:o.channex_room_type_id,availability:{}};Array.isArray(t)?t.forEach(h=>{c.availability[h]=r}):c.availability[t]=r;const u=await this.apiRequest("/availability","PUT",c);return console.log("✅ Airbnb availability обновлен"),u}catch(o){throw console.error("❌ Ошибка обновления Airbnb availability:",o),o}}async updateAirbnbPrices(e,t,r){console.log(`💰 Обновление Airbnb цен: ${e}`);try{const o=this.getRoomMapping(e),c={property_id:this.propertyId,rate_plan_id:o.channex_rate_plan_id,rates:{}};Array.isArray(t)?t.forEach(h=>{c.rates[h]={rate:r}}):c.rates[t]={rate:r};const u=await this.apiRequest("/rates","PUT",c);return console.log("✅ Airbnb цены обновлены"),u}catch(o){throw console.error("❌ Ошибка обновления Airbnb цен:",o),o}}async saveToPMS(e){try{const{data:t,error:r}=await B_.from("bookings").upsert(e,{onConflict:"id",ignoreDuplicates:!1}).select();if(r)throw console.error("❌ Ошибка сохранения в PMS БД:",r),r;return console.log("💾 Сохранено в PMS БД:",e.id),t}catch(t){throw console.error("❌ Критическая ошибка сохранения:",t),t}}async syncBookingById(e){console.log("🔄 Синхронизация бронирования из Channex:",e);try{const r=(await this.apiRequest(`/bookings/${e}`)).data;if(!r)throw new Error("Бронирование не найдено в Channex");console.log("📥 Получено бронирование из Channex:",r.id);const o=this.convertToPMSFormat(r),c=await this.saveToPMS(o);return console.log("✅ Бронирование синхронизировано в PMS:",o.id),c}catch(t){throw console.error("❌ Ошибка синхронизации бронирования:",t),t}}async getAirbnbStats(){try{const{data:e,error:t}=await B_.from("bookings").select("*").eq("channel","airbnb");if(t)throw t;const r={total:(e==null?void 0:e.length)||0,confirmed:(e==null?void 0:e.filter(o=>o.status==="confirmed").length)||0,cancelled:(e==null?void 0:e.filter(o=>o.status==="cancelled").length)||0,revenue:(e==null?void 0:e.reduce((o,c)=>o+(parseFloat(c.total_amount)||0),0))||0};return console.log("📊 Airbnb статистика:",r),r}catch(e){throw console.error("❌ Ошибка получения статистики:",e),e}}}const Ah=new fz,hz=Object.freeze(Object.defineProperty({__proto__:null,default:Ah},Symbol.toStringTag,{value:"Module"}));function mz(){const[n,e]=w.useState(!1),[t,r]=w.useState("idle"),[o,c]=w.useState(null),[u,h]=w.useState([]),[m,p]=w.useState({total:0,confirmed:0,cancelled:0,revenue:0}),[v,y]=w.useState({check_in:"2025-08-30",check_out:"2025-09-02",room_type:"standard_apartment",guest_first_name:"John",guest_last_name:"Smith",guest_email:"test@airbnb.com",guest_phone:"+1 555 123 4567",adults:2,children:0}),[b,C]=w.useState([]),E=sC.airbnb_integration;w.useEffect(()=>{N(),R(),k()},[]);const P=(D,F="info")=>{C(z=>[{timestamp:new Date().toISOString(),message:D,type:F},...z].slice(0,50))},N=async()=>{try{const{data:D,error:F}=await Pe.from("bookings").select("*").eq("channel","airbnb").order("created_at",{ascending:!1}).limit(20);if(F)throw F;h(D||[]),P(`Загружено ${(D==null?void 0:D.length)||0} бронирований Airbnb`,"success")}catch(D){console.error("Ошибка загрузки бронирований:",D),P(`Ошибка загрузки: ${D.message}`,"error")}},R=async()=>{try{const D=await Ah.getAirbnbStats();p(D)}catch(D){console.error("Ошибка загрузки статистики:",D)}},k=async()=>{try{const{data:D,error:F}=await Pe.from("sync_status").select("*").eq("channel","airbnb").single();D&&(r(D.status),c(D.last_sync_at))}catch(D){console.error("Ошибка проверки статуса:",D)}},T=async()=>{e(!0),r("syncing"),P("🔄 Запуск полной синхронизации с Airbnb...","info");try{const D=await Ah.syncWithAirbnb();r("synced"),c(new Date().toISOString()),P(`✅ Синхронизация завершена: ${D.synced}/${D.total} бронирований`,"success"),await N(),await R(),await Pe.from("sync_status").upsert({channel:"airbnb",status:"synced",last_sync_at:new Date().toISOString(),total_synced:D.synced,errors:D.errors})}catch(D){r("error"),console.error("Ошибка синхронизации:",D),P(`❌ Ошибка синхронизации: ${D.message}`,"error")}finally{e(!1)}},M=async()=>{var D,F;e(!0),P("📤 Создаем тестовое Airbnb бронирование...","info");try{if(!v.check_in||!v.check_out)throw new Error("Укажите даты заезда и выезда");if(!v.guest_first_name||!v.guest_last_name)throw new Error("Укажите имя и фамилию гостя");const z={...v,id:`airbnb-test-${Date.now()}`,room_number:((D=E.room_mapping[v.room_type])==null?void 0:D.pms_room_number)||"A1",status:"confirmed",channel:"airbnb",source:"airbnb",test:!0},q=await Ah.createAirbnbBooking(z);P(`✅ Airbnb бронирование создано: ${(F=q.data)==null?void 0:F.id}`,"success"),await N(),await R(),y({check_in:"2025-08-30",check_out:"2025-09-02",room_type:"standard_apartment",guest_first_name:"John",guest_last_name:"Smith",guest_email:"test@airbnb.com",guest_phone:"+1 555 123 4567",adults:2,children:0})}catch(z){console.error("Ошибка создания бронирования:",z),P(`❌ Ошибка: ${z.message}`,"error")}finally{e(!1)}},I=()=>{switch(t){case"synced":return a.jsxs(tt,{className:"bg-green-500",children:[a.jsx(Fi,{className:"w-3 h-3 mr-1"})," Синхронизировано"]});case"syncing":return a.jsxs(tt,{className:"bg-blue-500",children:[a.jsx(zi,{className:"w-3 h-3 mr-1 animate-spin"})," Синхронизация..."]});case"error":return a.jsxs(tt,{variant:"destructive",children:[a.jsx(_s,{className:"w-3 h-3 mr-1"})," Ошибка"]});default:return a.jsx(tt,{variant:"secondary",children:"Ожидание"})}};return a.jsxs("div",{className:"space-y-6",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(Do,{className:"w-5 h-5"}),"Airbnb Integration"]}),a.jsx(Yn,{children:"Управление бронированиями и синхронизация с Airbnb через Channex"})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[I(),a.jsxs(De,{onClick:T,disabled:n,size:"sm",children:[a.jsx(zi,{className:`w-4 h-4 mr-2 ${n?"animate-spin":""}`}),"Синхронизировать"]})]})]})}),a.jsx(Re,{children:o&&a.jsxs("p",{className:"text-sm text-muted-foreground",children:["Последняя синхронизация: ",new Date(o).toLocaleString("ru-RU")]})})]}),a.jsxs("div",{className:"grid grid-cols-4 gap-4",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Всего бронирований"})}),a.jsx(Re,{children:a.jsx("div",{className:"text-2xl font-bold",children:m.total})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Подтвержденных"})}),a.jsx(Re,{children:a.jsx("div",{className:"text-2xl font-bold text-green-600",children:m.confirmed})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Отмененных"})}),a.jsx(Re,{children:a.jsx("div",{className:"text-2xl font-bold text-red-600",children:m.cancelled})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:"Выручка"})}),a.jsx(Re,{children:a.jsxs("div",{className:"text-2xl font-bold",children:["$",m.revenue]})})]})]}),a.jsx("div",{className:"grid grid-cols-4 gap-4",children:Object.entries(E.room_mapping).map(([D,F])=>a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-3",children:a.jsx(Je,{className:"text-sm font-medium",children:F.airbnb_room_title})}),a.jsxs(Re,{children:[a.jsx("div",{className:"text-2xl font-bold",children:F.availability_count}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["Номер: ",F.pms_room_number]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",F.base_price,"/ночь"]}),a.jsxs("p",{className:"text-xs text-muted-foreground",children:["До ",F.max_occupancy," гостей"]})]})]},D))}),a.jsxs(Rd,{defaultValue:"bookings",className:"space-y-4",children:[a.jsxs(mc,{children:[a.jsx(fn,{value:"bookings",children:"Бронирования"}),a.jsx(fn,{value:"test",children:"Тест бронирования"}),a.jsx(fn,{value:"logs",children:"Логи"})]}),a.jsx(hn,{value:"bookings",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-lg",children:"Последние бронирования Airbnb"})}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-3",children:u.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Нет бронирований из Airbnb"}):u.map(D=>a.jsxs("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[D.guest_first_name," ",D.guest_last_name]}),a.jsxs("p",{className:"text-sm text-muted-foreground",children:[D.check_in," - ",D.check_out]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:D.room_title||D.room_number})]}),a.jsxs("div",{className:"text-right",children:[a.jsx(tt,{variant:D.status==="confirmed"?"default":"secondary",children:D.status}),a.jsxs("p",{className:"text-sm mt-1",children:["$",D.total_amount||0]})]})]},D.id))})})]})}),a.jsx(hn,{value:"test",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Создать тестовое бронирование Airbnb"}),a.jsx(Yn,{children:"Отправить тестовое бронирование в Airbnb через Channex"})]}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Заезд"}),a.jsx(Oe,{type:"date",value:v.check_in,onChange:D=>y({...v,check_in:D.target.value})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Выезд"}),a.jsx(Oe,{type:"date",value:v.check_out,onChange:D=>y({...v,check_out:D.target.value})})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Тип номера"}),a.jsxs(Ma,{value:v.room_type,onValueChange:D=>y({...v,room_type:D}),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsx(qs,{children:Object.entries(E.room_mapping).map(([D,F])=>a.jsxs(Ft,{value:D,children:[F.airbnb_room_title," ($",F.base_price,"/ночь)"]},D))})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Имя"}),a.jsx(Oe,{value:v.guest_first_name,onChange:D=>y({...v,guest_first_name:D.target.value}),placeholder:"John"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Фамилия"}),a.jsx(Oe,{value:v.guest_last_name,onChange:D=>y({...v,guest_last_name:D.target.value}),placeholder:"Smith"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Email"}),a.jsx(Oe,{type:"email",value:v.guest_email,onChange:D=>y({...v,guest_email:D.target.value}),placeholder:"test@airbnb.com"})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Телефон"}),a.jsx(Oe,{value:v.guest_phone,onChange:D=>y({...v,guest_phone:D.target.value}),placeholder:"+1 555 123 4567"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Взрослые"}),a.jsx(Oe,{type:"number",min:"1",max:"4",value:v.adults,onChange:D=>y({...v,adults:parseInt(D.target.value)})})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsx(ze,{children:"Дети"}),a.jsx(Oe,{type:"number",min:"0",max:"3",value:v.children,onChange:D=>y({...v,children:parseInt(D.target.value)})})]})]}),a.jsxs(De,{onClick:M,disabled:n||!v.check_in||!v.check_out||!v.guest_first_name,className:"w-full",children:[a.jsx(vy,{className:"w-4 h-4 mr-2"}),"Создать бронирование в Airbnb"]})]})]})}),a.jsx(hn,{value:"logs",children:a.jsxs(Ce,{children:[a.jsxs(Ye,{children:[a.jsx(Je,{className:"text-lg",children:"Логи Airbnb интеграции"}),a.jsx(Yn,{children:"Последние операции и события"})]}),a.jsx(Re,{children:a.jsx("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:b.length===0?a.jsx("p",{className:"text-muted-foreground text-center py-8",children:"Логи пусты"}):b.map((D,F)=>a.jsxs("div",{className:"flex items-start gap-3 p-2 border rounded text-sm",children:[a.jsx("span",{className:"text-xs text-muted-foreground min-w-20",children:new Date(D.timestamp).toLocaleTimeString("ru-RU")}),a.jsx("span",{className:`flex-1 ${D.type==="error"?"text-red-600":D.type==="success"?"text-green-600":"text-foreground"}`,children:D.message})]},F))})})]})})]})]})}function aC(){return a.jsx("div",{className:"container mx-auto p-4",children:a.jsx(mz,{})})}function Ao({className:n,...e}){return a.jsx("div",{className:Be("animate-pulse rounded-md bg-primary/10",n),...e})}const Xb={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},pz={confirmed:"✅",pending:"⏳",cancelled:"❌",checked_in:"🏠",checked_out:"✈️"};function gz({booking:n,position:e,onClose:t}){var P,N,R;const{t:r,currentLanguage:o,formatCurrency:c}=es("booking"),[u,h]=w.useState({x:0,y:0,showBelow:!1});if(!n)return null;const m=o==="ru"?En:Ha,p=o==="ru"?"RUB":"USD",v=n.total_amount-(n.services_total||0),y=n.total_amount-(n.amount_paid||0),b=K0(_t(n.check_out),_t(n.check_in));w.useEffect(()=>{let I=e.x+10,D=e.y,F=!1;I+350>window.innerWidth-20&&(I=e.x-350-10),D-400<20?(F=!0,D=e.y+10):D=e.y-400-10,F&&D+400>window.innerHeight-20&&(D=window.innerHeight-400-20),I<20&&(I=20),h({x:I,y:D,showBelow:F})},[e]);const C=k=>o==="en"?`${k} ${k===1?"day":"days"}`:k===1?"1 день":k>=2&&k<=4?`${k} дня`:`${k} дней`,E=k=>o==="en"?`${k} ${k===1?"guest":"guests"}`:k===1?"1 гость":k>=2&&k<=4?`${k} гостя`:`${k} гостей`;return a.jsx("div",{className:"fixed z-50 pointer-events-none",style:{left:`${u.x}px`,top:`${u.y}px`},children:a.jsxs(Ce,{className:"w-80 shadow-2xl border-0 bg-white/95 backdrop-blur-xl overflow-hidden animate-in fade-in-0 zoom-in-95 duration-200",children:[a.jsx("div",{className:`h-1 bg-gradient-to-r ${Xb[n.status]}`}),a.jsx(Ye,{className:"pb-3 bg-gradient-to-br from-slate-50 to-blue-50/50",children:a.jsxs("div",{className:"flex items-start justify-between",children:[a.jsx("div",{className:"flex-1",children:a.jsxs(Je,{className:"text-lg font-bold text-slate-800 flex items-center gap-2",children:[a.jsx(Xs,{className:"h-4 w-4 text-blue-600"}),((P=n.guests)==null?void 0:P.full_name)||r("popover.unknownGuest")]})}),a.jsxs("div",{className:`
              px-2.5 py-1 rounded-full text-xs font-medium text-white
              bg-gradient-to-r ${Xb[n.status]} shadow-md
              flex items-center gap-1
            `,children:[a.jsx("span",{children:pz[n.status]}),a.jsx("span",{children:r(`status.${n.status}`)})]})]})}),a.jsxs(Re,{className:"space-y-3 pt-3",children:[a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"p-1.5 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-lg",children:a.jsx($i,{className:"h-3.5 w-3.5 text-white"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.stayPeriod")}),a.jsxs("p",{className:"text-sm font-semibold text-slate-800",children:[$e(_t(n.check_in),"dd MMM",{locale:m})," —",$e(_t(n.check_out),"dd MMM",{locale:m})]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.duration")}),a.jsx("p",{className:"text-sm font-bold text-blue-600",children:C(b)})]})]}),a.jsxs("div",{className:"flex items-center gap-3 px-3",children:[a.jsx("div",{className:"p-1.5 bg-gradient-to-br from-purple-500 to-pink-600 rounded-lg",children:a.jsx(Xs,{className:"h-3.5 w-3.5 text-white"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs text-slate-500",children:r("popover.guestCount")}),a.jsx("p",{className:"text-sm font-semibold text-slate-800",children:E(n.guests_count||n.guest_count||((N=n.guests)==null?void 0:N.guests_count)||((R=n.guests)==null?void 0:R.guest_count)||1)})]})]}),n.notes&&a.jsx("div",{className:"p-3 bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl",children:a.jsxs("div",{className:"flex items-start gap-2",children:[a.jsx(kg,{className:"h-4 w-4 text-orange-600 mt-0.5"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-orange-700 mb-1",children:r("popover.comment")}),a.jsx("p",{className:"text-sm text-slate-600",children:n.notes})]})]})}),n.booking_services&&n.booking_services.length>0&&a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3",children:[a.jsx(t4,{className:"h-4 w-4 text-purple-600"}),a.jsx("p",{className:"text-sm font-semibold text-slate-700",children:r("popover.additionalServices")})]}),a.jsx("div",{className:"space-y-1 px-3",children:n.booking_services.map(k=>{var T;return a.jsxs("div",{className:"flex justify-between items-center py-1.5 px-2 rounded-lg hover:bg-slate-50 transition-colors",children:[a.jsxs("span",{className:"text-sm text-slate-600",children:[(T=k.services)==null?void 0:T.name,a.jsxs("span",{className:"text-xs text-slate-400 ml-1",children:["×",k.quantity]})]}),a.jsx("span",{className:"text-sm font-medium text-slate-800",children:c(k.price_at_booking*k.quantity,p)})]},k.id)})})]}),a.jsxs("div",{className:"border-t border-slate-200/50 pt-3 mt-3 space-y-2",children:[a.jsxs("div",{className:"space-y-1.5 px-3",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:r("popover.accommodation")}),a.jsx("span",{className:"text-sm font-medium",children:c(v,p)})]}),n.services_total>0&&a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:r("popover.services")}),a.jsx("span",{className:"text-sm font-medium",children:c(n.services_total||0,p)})]}),a.jsxs("div",{className:"flex justify-between items-center pt-1 border-t border-slate-200/50",children:[a.jsx("span",{className:"text-sm font-semibold text-slate-700",children:r("popover.total")}),a.jsx("span",{className:"text-sm font-bold text-slate-800",children:c(n.total_amount,p)})]})]}),a.jsxs("div",{className:`
              mx-3 p-3 rounded-xl
              ${y>0?"bg-gradient-to-r from-amber-100 to-orange-100 border border-orange-200":"bg-gradient-to-r from-emerald-100 to-green-100 border border-green-200"}
            `,children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("div",{className:"flex items-center gap-2",children:y>0?a.jsxs(a.Fragment,{children:[a.jsx(I4,{className:"h-4 w-4 text-orange-600"}),a.jsx("span",{className:"text-sm font-medium text-orange-700",children:r("popover.toPay")})]}):a.jsxs(a.Fragment,{children:[a.jsx(xy,{className:"h-4 w-4 text-green-600"}),a.jsx("span",{className:"text-sm font-medium text-green-700",children:r("popover.paidFully")})]})}),a.jsx("span",{className:`text-lg font-bold ${y>0?"text-orange-700":"text-green-700"}`,children:y>0?c(y,p):"✓"})]}),n.amount_paid>0&&y>0&&a.jsx("div",{className:"mt-2 pt-2 border-t border-orange-200",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs text-slate-600",children:r("popover.alreadyPaid")}),a.jsx("span",{className:"text-xs font-medium text-green-600",children:c(n.amount_paid,p)})]})})]})]})]})]})})}function oC({source:n}){const e="h-5 w-5 text-gray-500";switch(n){case"booking":return a.jsx("img",{src:"/icons/booking-com.png",alt:"Booking.com",className:"h-5 w-5"});case"airbnb":return a.jsx("img",{src:"/icons/airbnb.png",alt:"AirBnB",className:"h-5 w-5"});case"site":return a.jsx(qD,{className:e});case"ai_agent":return a.jsx(tD,{className:e});case"phone":return a.jsx(Hi,{className:e});case"direct":return a.jsx($4,{className:e});case"other":return a.jsx(Lj,{className:e});default:return null}}const xz={confirmed:"from-emerald-400 to-green-500",pending:"from-amber-400 to-yellow-500",cancelled:"from-rose-400 to-red-500",checked_in:"from-violet-400 to-purple-500",checked_out:"from-sky-400 to-blue-500"},vz={confirmed:"border-emerald-300",pending:"border-amber-300",cancelled:"border-rose-300",checked_in:"border-violet-300",checked_out:"border-sky-300"};function yz({rooms:n=[],bookings:e=[],days:t=[],onCellClick:r=()=>{},onBookingClick:o=()=>{},onSelectionEnd:c=()=>{},onPriceChange:u=null}){const{t:h,currentLanguage:m}=es("booking"),p=m==="ru"?En:Ha,[v,y]=w.useState(!1),[b,C]=w.useState(null),[E,P]=w.useState(null),[N,R]=w.useState({show:!1,x:0,y:0,text:""}),[k,T]=w.useState(null),[M,I]=w.useState({x:0,y:0}),[D,F]=w.useState({});w.useEffect(()=>{const W={};n.length>0&&t.length>0&&(n.forEach(K=>{t.forEach(ne=>{const B=$e(ne,"yyyy-MM-dd");W[`${K.id}-${B}`]=K.price_per_night||150})}),F(W))},[n,t]);const z=(W,K)=>e.filter(ne=>{if(ne.status==="cancelled")return!1;const B=Di(_t(ne.check_in)),U=Di(_t(ne.check_out)),V=Di(K);return ne.room_id===W&&V>=B&&V<U}),q=W=>{const K=K0(_t(W.check_out),_t(W.check_in));return K>0?K:1},X=W=>({food:"🍽️",spa:"💆‍♀️",cleaning:"🧹",transport:"🚗"})[W]||"🛎️",re=W=>{var K,ne;return W.guests_count||W.guest_count||((K=W.guests)==null?void 0:K.guest_count)||((ne=W.guests)==null?void 0:ne.guests_count)||1},ie=async(W,K,ne)=>{var ae;const B=$e(K,"yyyy-MM-dd"),U=((ae=n.find(ue=>ue.id===W))==null?void 0:ae.room_number)||"Room",V=prompt(`Цена за ${U} на ${$e(K,"dd.MM.yyyy")}:`,ne);if(V&&!isNaN(V)&&parseFloat(V)>=0){const ue=parseFloat(V);if(F(he=>({...he,[`${W}-${B}`]:ue})),u)try{await u(W,B,ue)}catch(he){console.error("Failed to update price:",he),F(te=>({...te,[`${W}-${B}`]:ne}))}}},me=(W,K)=>{z(W,K).length>0||(y(!0),C({roomId:W,date:K}),P({roomId:W,date:K}))},pe=(W,K,ne)=>{if(!v||!b||W!==b.roomId)return;P({roomId:W,date:K});const B=b.date<K?b.date:K,U=b.date>K?b.date:K,V=K0(U,B)+1,ae=V===1?"день":V>1&&V<5?"дня":"дней";R({show:!0,x:ne.clientX+15,y:ne.clientY-35,text:`${V} ${ae}`})},ke=()=>{if(!v||!b||!E){y(!1);return}y(!1),R({show:!1,x:0,y:0,text:""});const W=b.date<E.date?b.date:E.date,K=ZN(E.date>b.date?E.date:b.date,1);c(b.roomId,W,K),C(null),P(null)},ge=(W,K)=>{T(W),I({x:K.clientX,y:K.clientY})},be=(W,K)=>{if(v&&b&&E&&W===b.roomId){const ne=b.date<E.date?b.date:E.date,B=b.date>E.date?b.date:E.date;if(K>=ne&&K<=B)return"bg-blue-200/50"}return""};return a.jsxs("div",{className:"relative border border-slate-200 rounded-lg overflow-hidden",onMouseLeave:ke,children:[N.show&&a.jsxs("div",{className:"fixed z-50 px-3 py-1.5 bg-slate-800/90 text-white text-xs rounded-lg shadow-xl pointer-events-none flex items-center gap-1",style:{top:N.y,left:N.x},children:[a.jsx(rD,{className:"h-3 w-3"})," ",N.text]}),k&&a.jsx(gz,{booking:k,position:M,onClose:()=>T(null)}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("div",{className:"relative inline-block min-w-full align-middle",children:[a.jsxs("div",{className:"flex sticky top-0 z-30 bg-white/80 backdrop-blur-md",children:[a.jsxs("div",{className:"w-48 min-w-[192px] p-3 font-semibold text-slate-700 sticky left-0 z-40 border-r border-b border-slate-200 flex items-center bg-white",children:[a.jsx(Do,{className:"h-4 w-4 mr-2 text-slate-500"})," ",h("grid.rooms")]}),a.jsx("div",{className:"flex",children:t.map(W=>a.jsxs("div",{className:`w-24 min-w-[96px] p-2 text-center border-l border-b border-slate-200 ${W.getDay()===0||W.getDay()===6?"bg-slate-50/70":""} ${Vh(W)?"bg-amber-50":""}`,children:[a.jsx("div",{className:`font-semibold text-sm ${Vh(W)?"text-amber-700":"text-slate-800"}`,children:$e(W,"dd")}),a.jsx("div",{className:`text-xs ${W.getDay()===0||W.getDay()===6?"text-blue-600":"text-slate-500"}`,children:$e(W,"EE",{locale:p})})]},W.toISOString()))})]}),a.jsx("div",{onMouseUp:ke,children:n.map(W=>a.jsxs("div",{className:"flex border-t border-slate-200 relative",children:[a.jsxs("div",{className:"w-48 min-w-[192px] p-2 font-medium text-slate-800 sticky left-0 z-20 bg-white/80 backdrop-blur-sm border-r border-slate-200",children:[a.jsx("div",{className:"font-semibold text-sm",children:W.room_number}),a.jsx("div",{className:"text-xs text-slate-500 capitalize",children:W.room_type})]}),a.jsx("div",{className:"flex relative",children:t.map(K=>{const ne=z(W.id,K),B=$e(K,"yyyy-MM-dd"),U=D[`${W.id}-${B}`]||W.price_per_night;return a.jsxs("div",{className:`w-24 min-w-[96px] h-14 border-l border-slate-200 relative group ${ne.length===0?"cursor-pointer hover:bg-blue-100/50":""} ${be(W.id,K)}`,onMouseDown:()=>me(W.id,K),onMouseMove:V=>pe(W.id,K,V),onClick:()=>ne.length===0&&r(W.id,K),children:[ne.length===0&&a.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center p-1",children:[a.jsxs("div",{className:"text-xs text-slate-600 font-medium opacity-50",children:["$",U]}),a.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity mt-0.5",children:a.jsx("div",{className:"flex items-center text-xs text-green-700 font-medium cursor-pointer bg-white/80 rounded px-1",onClick:V=>{V.stopPropagation(),ie(W.id,K,U)},children:a.jsx(k4,{className:"h-3 w-3"})})})]}),ne.map(V=>{var te,fe,Se;if(!Vy(_t(V.check_in),K))return null;const ue=q(V)*96-4,he=re(V);return a.jsx("div",{className:`absolute top-0.5 left-0.5 rounded-lg bg-gradient-to-r ${xz[V.status]} text-white p-1.5 cursor-pointer flex items-center shadow-md hover:shadow-lg transform hover:-translate-y-0.5 transition-all duration-200 border ${vz[V.status]}`,style:{width:`${ue}px`,zIndex:15,height:"calc(100% - 4px)"},onClick:Ee=>{Ee.stopPropagation(),o(V)},onMouseEnter:Ee=>ge(V,Ee),onMouseLeave:()=>T(null),children:a.jsxs("div",{className:"flex items-center gap-2 flex-1 min-w-0",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx(oC,{source:V.source})}),a.jsxs("div",{className:"flex items-center text-xs bg-white/20 rounded px-1 flex-shrink-0",children:[a.jsx(yy,{className:"h-3 w-3 mr-0.5"}),he]}),a.jsx("div",{className:"text-sm font-medium truncate flex-1",title:(te=V.guests)==null?void 0:te.full_name,children:((fe=V.guests)==null?void 0:fe.full_name)||"Гость"}),a.jsx("div",{className:"flex items-center ml-auto flex-shrink-0",children:(Se=V.booking_services)==null?void 0:Se.map(Ee=>{var Ke,We;return a.jsx("span",{className:"text-xs",title:(Ke=Ee.services)==null?void 0:Ke.name,children:X((We=Ee.services)==null?void 0:We.category)},Ee.id)})})]})},V.id)})]},K.toISOString())})})]},W.id))})]})})]})}var xx="Dialog",[iC,nB]=ts(xx),[wz,na]=iC(xx),lC=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:o,onOpenChange:c,modal:u=!0}=n,h=w.useRef(null),m=w.useRef(null),[p,v]=La({prop:r,defaultProp:o??!1,onChange:c,caller:xx});return a.jsx(wz,{scope:e,triggerRef:h,contentRef:m,contentId:ws(),titleId:ws(),descriptionId:ws(),open:p,onOpenChange:v,onOpenToggle:w.useCallback(()=>v(y=>!y),[v]),modal:u,children:t})};lC.displayName=xx;var cC="DialogTrigger",_z=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=na(cC,t),c=Rt(e,o.triggerRef);return a.jsx(nt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":Qy(o.open),...r,ref:c,onClick:Ge(n.onClick,o.onOpenToggle)})});_z.displayName=cC;var Jy="DialogPortal",[bz,uC]=iC(Jy,{forceMount:void 0}),dC=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:o}=n,c=na(Jy,e);return a.jsx(bz,{scope:e,forceMount:t,children:w.Children.map(r,u=>a.jsx(ta,{present:t||c.open,children:a.jsx(rx,{asChild:!0,container:o,children:u})}))})};dC.displayName=Jy;var $g="DialogOverlay",fC=w.forwardRef((n,e)=>{const t=uC($g,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=na($g,n.__scopeDialog);return c.modal?a.jsx(ta,{present:r||c.open,children:a.jsx(Sz,{...o,ref:e})}):null});fC.displayName=$g;var jz=sc("DialogOverlay.RemoveScroll"),Sz=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=na($g,t);return a.jsx(ax,{as:jz,allowPinchZoom:!0,shards:[o.contentRef],children:a.jsx(nt.div,{"data-state":Qy(o.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),dc="DialogContent",hC=w.forwardRef((n,e)=>{const t=uC(dc,n.__scopeDialog),{forceMount:r=t.forceMount,...o}=n,c=na(dc,n.__scopeDialog);return a.jsx(ta,{present:r||c.open,children:c.modal?a.jsx(Nz,{...o,ref:e}):a.jsx(kz,{...o,ref:e})})});hC.displayName=dc;var Nz=w.forwardRef((n,e)=>{const t=na(dc,n.__scopeDialog),r=w.useRef(null),o=Rt(e,t.contentRef,r);return w.useEffect(()=>{const c=r.current;if(c)return Ty(c)},[]),a.jsx(mC,{...n,ref:o,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Ge(n.onCloseAutoFocus,c=>{var u;c.preventDefault(),(u=t.triggerRef.current)==null||u.focus()}),onPointerDownOutside:Ge(n.onPointerDownOutside,c=>{const u=c.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0;(u.button===2||h)&&c.preventDefault()}),onFocusOutside:Ge(n.onFocusOutside,c=>c.preventDefault())})}),kz=w.forwardRef((n,e)=>{const t=na(dc,n.__scopeDialog),r=w.useRef(!1),o=w.useRef(!1);return a.jsx(mC,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var u,h;(u=n.onCloseAutoFocus)==null||u.call(n,c),c.defaultPrevented||(r.current||(h=t.triggerRef.current)==null||h.focus(),c.preventDefault()),r.current=!1,o.current=!1},onInteractOutside:c=>{var m,p;(m=n.onInteractOutside)==null||m.call(n,c),c.defaultPrevented||(r.current=!0,c.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const u=c.target;((p=t.triggerRef.current)==null?void 0:p.contains(u))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&o.current&&c.preventDefault()}})}),mC=w.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:o,onCloseAutoFocus:c,...u}=n,h=na(dc,t),m=w.useRef(null),p=Rt(e,m);return _y(),a.jsxs(a.Fragment,{children:[a.jsx(Qg,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:o,onUnmountAutoFocus:c,children:a.jsx(Xg,{role:"dialog",id:h.contentId,"aria-describedby":h.descriptionId,"aria-labelledby":h.titleId,"data-state":Qy(h.open),...u,ref:p,onDismiss:()=>h.onOpenChange(!1)})}),a.jsxs(a.Fragment,{children:[a.jsx(Cz,{titleId:h.titleId}),a.jsx(Pz,{contentRef:m,descriptionId:h.descriptionId})]})]})}),Xy="DialogTitle",pC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=na(Xy,t);return a.jsx(nt.h2,{id:o.titleId,...r,ref:e})});pC.displayName=Xy;var gC="DialogDescription",xC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=na(gC,t);return a.jsx(nt.p,{id:o.descriptionId,...r,ref:e})});xC.displayName=gC;var vC="DialogClose",yC=w.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,o=na(vC,t);return a.jsx(nt.button,{type:"button",...r,ref:e,onClick:Ge(n.onClick,()=>o.onOpenChange(!1))})});yC.displayName=vC;function Qy(n){return n?"open":"closed"}var wC="DialogTitleWarning",[rB,_C]=jO(wC,{contentName:dc,titleName:Xy,docsSlug:"dialog"}),Cz=({titleId:n})=>{const e=_C(wC),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return w.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},Ez="DialogDescriptionWarning",Pz=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${_C(Ez).contentName}}.`;return w.useEffect(()=>{var c;const o=(c=n.current)==null?void 0:c.getAttribute("aria-describedby");e&&o&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},Rz=lC,Tz=dC,bC=fC,jC=hC,SC=pC,NC=xC,Az=yC;const Zy=Rz,Iz=Tz,kC=w.forwardRef(({className:n,...e},t)=>a.jsx(bC,{ref:t,className:Be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));kC.displayName=bC.displayName;const vx=w.forwardRef(({className:n,children:e,...t},r)=>a.jsxs(Iz,{children:[a.jsx(kC,{}),a.jsxs(jC,{ref:r,className:Be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",n),...t,children:[e,a.jsxs(Az,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(wy,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));vx.displayName=jC.displayName;const yx=({className:n,...e})=>a.jsx("div",{className:Be("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});yx.displayName="DialogHeader";const ew=({className:n,...e})=>a.jsx("div",{className:Be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});ew.displayName="DialogFooter";const wx=w.forwardRef(({className:n,...e},t)=>a.jsx(SC,{ref:t,className:Be("text-lg font-semibold leading-none tracking-tight",n),...e}));wx.displayName=SC.displayName;const tw=w.forwardRef(({className:n,...e},t)=>a.jsx(NC,{ref:t,className:Be("text-sm text-muted-foreground",n),...e}));tw.displayName=NC.displayName;var _x="Collapsible",[Mz,CC]=ts(_x),[Oz,nw]=Mz(_x),EC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,open:r,defaultOpen:o,disabled:c,onOpenChange:u,...h}=n,[m,p]=La({prop:r,defaultProp:o??!1,onChange:u,caller:_x});return a.jsx(Oz,{scope:t,disabled:c,contentId:ws(),open:m,onOpenToggle:w.useCallback(()=>p(v=>!v),[p]),children:a.jsx(nt.div,{"data-state":sw(m),"data-disabled":c?"":void 0,...h,ref:e})})});EC.displayName=_x;var PC="CollapsibleTrigger",RC=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,...r}=n,o=nw(PC,t);return a.jsx(nt.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":sw(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...r,ref:e,onClick:Ge(n.onClick,o.onOpenToggle)})});RC.displayName=PC;var rw="CollapsibleContent",TC=w.forwardRef((n,e)=>{const{forceMount:t,...r}=n,o=nw(rw,n.__scopeCollapsible);return a.jsx(ta,{present:t||o.open,children:({present:c})=>a.jsx(Dz,{...r,ref:e,present:c})})});TC.displayName=rw;var Dz=w.forwardRef((n,e)=>{const{__scopeCollapsible:t,present:r,children:o,...c}=n,u=nw(rw,t),[h,m]=w.useState(r),p=w.useRef(null),v=Rt(e,p),y=w.useRef(0),b=y.current,C=w.useRef(0),E=C.current,P=u.open||h,N=w.useRef(P),R=w.useRef(void 0);return w.useEffect(()=>{const k=requestAnimationFrame(()=>N.current=!1);return()=>cancelAnimationFrame(k)},[]),wn(()=>{const k=p.current;if(k){R.current=R.current||{transitionDuration:k.style.transitionDuration,animationName:k.style.animationName},k.style.transitionDuration="0s",k.style.animationName="none";const T=k.getBoundingClientRect();y.current=T.height,C.current=T.width,N.current||(k.style.transitionDuration=R.current.transitionDuration,k.style.animationName=R.current.animationName),m(r)}},[u.open,r]),a.jsx(nt.div,{"data-state":sw(u.open),"data-disabled":u.disabled?"":void 0,id:u.contentId,hidden:!P,...c,ref:v,style:{"--radix-collapsible-content-height":b?`${b}px`:void 0,"--radix-collapsible-content-width":E?`${E}px`:void 0,...n.style},children:P&&o})});function sw(n){return n?"open":"closed"}var Lz=EC,$z=RC,Fz=TC,ra="Accordion",zz=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[aw,Uz,Bz]=qg(ra),[bx,sB]=ts(ra,[Bz,CC]),ow=CC(),AC=an.forwardRef((n,e)=>{const{type:t,...r}=n,o=r,c=r;return a.jsx(aw.Provider,{scope:n.__scopeAccordion,children:t==="multiple"?a.jsx(Gz,{...c,ref:e}):a.jsx(Vz,{...o,ref:e})})});AC.displayName=ra;var[IC,Wz]=bx(ra),[MC,Hz]=bx(ra,{collapsible:!1}),Vz=an.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},collapsible:c=!1,...u}=n,[h,m]=La({prop:t,defaultProp:r??"",onChange:o,caller:ra});return a.jsx(IC,{scope:n.__scopeAccordion,value:an.useMemo(()=>h?[h]:[],[h]),onItemOpen:m,onItemClose:an.useCallback(()=>c&&m(""),[c,m]),children:a.jsx(MC,{scope:n.__scopeAccordion,collapsible:c,children:a.jsx(OC,{...u,ref:e})})})}),Gz=an.forwardRef((n,e)=>{const{value:t,defaultValue:r,onValueChange:o=()=>{},...c}=n,[u,h]=La({prop:t,defaultProp:r??[],onChange:o,caller:ra}),m=an.useCallback(v=>h((y=[])=>[...y,v]),[h]),p=an.useCallback(v=>h((y=[])=>y.filter(b=>b!==v)),[h]);return a.jsx(IC,{scope:n.__scopeAccordion,value:u,onItemOpen:m,onItemClose:p,children:a.jsx(MC,{scope:n.__scopeAccordion,collapsible:!0,children:a.jsx(OC,{...c,ref:e})})})}),[qz,jx]=bx(ra),OC=an.forwardRef((n,e)=>{const{__scopeAccordion:t,disabled:r,dir:o,orientation:c="vertical",...u}=n,h=an.useRef(null),m=Rt(h,e),p=Uz(t),y=Zh(o)==="ltr",b=Ge(n.onKeyDown,C=>{var z;if(!zz.includes(C.key))return;const E=C.target,P=p().filter(q=>{var X;return!((X=q.ref.current)!=null&&X.disabled)}),N=P.findIndex(q=>q.ref.current===E),R=P.length;if(N===-1)return;C.preventDefault();let k=N;const T=0,M=R-1,I=()=>{k=N+1,k>M&&(k=T)},D=()=>{k=N-1,k<T&&(k=M)};switch(C.key){case"Home":k=T;break;case"End":k=M;break;case"ArrowRight":c==="horizontal"&&(y?I():D());break;case"ArrowDown":c==="vertical"&&I();break;case"ArrowLeft":c==="horizontal"&&(y?D():I());break;case"ArrowUp":c==="vertical"&&D();break}const F=k%R;(z=P[F].ref.current)==null||z.focus()});return a.jsx(qz,{scope:t,disabled:r,direction:o,orientation:c,children:a.jsx(aw.Slot,{scope:t,children:a.jsx(nt.div,{...u,"data-orientation":c,ref:m,onKeyDown:r?void 0:b})})})}),Fg="AccordionItem",[Kz,iw]=bx(Fg),DC=an.forwardRef((n,e)=>{const{__scopeAccordion:t,value:r,...o}=n,c=jx(Fg,t),u=Wz(Fg,t),h=ow(t),m=ws(),p=r&&u.value.includes(r)||!1,v=c.disabled||n.disabled;return a.jsx(Kz,{scope:t,open:p,disabled:v,triggerId:m,children:a.jsx(Lz,{"data-orientation":c.orientation,"data-state":BC(p),...h,...o,ref:e,disabled:v,open:p,onOpenChange:y=>{y?u.onItemOpen(r):u.onItemClose(r)}})})});DC.displayName=Fg;var LC="AccordionHeader",$C=an.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=jx(ra,t),c=iw(LC,t);return a.jsx(nt.h3,{"data-orientation":o.orientation,"data-state":BC(c.open),"data-disabled":c.disabled?"":void 0,...r,ref:e})});$C.displayName=LC;var ty="AccordionTrigger",FC=an.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=jx(ra,t),c=iw(ty,t),u=Hz(ty,t),h=ow(t);return a.jsx(aw.ItemSlot,{scope:t,children:a.jsx($z,{"aria-disabled":c.open&&!u.collapsible||void 0,"data-orientation":o.orientation,id:c.triggerId,...h,...r,ref:e})})});FC.displayName=ty;var zC="AccordionContent",UC=an.forwardRef((n,e)=>{const{__scopeAccordion:t,...r}=n,o=jx(ra,t),c=iw(zC,t),u=ow(t);return a.jsx(Fz,{role:"region","aria-labelledby":c.triggerId,"data-orientation":o.orientation,...u,...r,ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...n.style}})});UC.displayName=zC;function BC(n){return n?"open":"closed"}var Yz=AC,Jz=DC,Xz=$C,WC=FC,HC=UC;const Qz=Yz,VC=w.forwardRef(({className:n,...e},t)=>a.jsx(Jz,{ref:t,className:Be("border-b",n),...e}));VC.displayName="AccordionItem";const GC=w.forwardRef(({className:n,children:e,...t},r)=>a.jsx(Xz,{className:"flex",children:a.jsxs(WC,{ref:r,className:Be("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180",n),...t,children:[e,a.jsx(gy,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));GC.displayName=WC.displayName;const qC=w.forwardRef(({className:n,children:e,...t},r)=>a.jsx(HC,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...t,children:a.jsx("div",{className:Be("pb-4 pt-0",n),children:e})}));qC.displayName=HC.displayName;const qi=async n=>{try{const{data:e,error:t}=await n.throwOnError();return{data:e,error:null}}catch(e){return console.error("Ошибка запроса Supabase:",e),{data:null,error:e}}},Sx=async()=>qi(Pe.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `)),im=async(n,e)=>{const t=$e(n,"yyyy-MM-dd"),r=$e(e,"yyyy-MM-dd");return console.log("🔍 getBookingsForRange: Загружаем бронирования для диапазона",{start:t,end:r}),qi(Pe.from("bookings").select(`
        *,
        guests ( * ),
        rooms ( id, room_number, room_type ),
        booking_services ( *, services ( * ) )
      `).lt("check_in",r).gt("check_out",t).order("created_at",{ascending:!1}))},lw=async()=>qi(Pe.from("rooms").select("*").order("room_number",{ascending:!0})),cw=async()=>qi(Pe.from("services").select("*")),Zz=async n=>{var r;const{data:e,error:t}=await Pe.rpc("create_booking_with_guest",{guest_details:n.guest_details,room_id_arg:n.room_id,check_in_arg:n.check_in,check_out_arg:n.check_out,status_arg:n.status,source_arg:n.source,guests_count_arg:n.guests_count,notes_arg:n.notes,amount_paid_arg:n.amount_paid,accommodation_total_arg:n.accommodation_total,services_total_arg:n.services_total,total_amount_arg:n.total_amount});if(t)throw console.error("Ошибка при создании бронирования:",t),t;if(console.log("📋 Результат создания бронирования:",e),e&&n.syncToChannex!==!1){const o=typeof e=="string"?e:e.id||e.booking_id||(Array.isArray(e)?(r=e[0])==null?void 0:r.id:null);console.log("🔄 Начинаем синхронизацию с Channex для booking ID:",o),setTimeout(async()=>{try{const{default:c}=await fc(async()=>{const{default:p}=await Promise.resolve().then(()=>S8);return{default:p}},void 0);if(!o){console.error("❌ Не удалось получить ID бронирования для синхронизации");return}const{data:u,error:h}=await Pe.from("bookings").select(`
            *,
            guests (*),
            rooms (*)
          `).eq("id",o).single();if(h){console.error("❌ Ошибка получения данных бронирования для синхронизации:",h);return}if(!u){console.error("❌ Данные бронирования не найдены для синхронизации");return}console.log("📤 Автоматическая синхронизация бронирования с Channex...",u);const m=await c.createBookingInChannex(u);console.log("✅ Бронирование успешно синхронизировано с Channex!",m)}catch(c){console.error("❌ Ошибка синхронизации с Channex:",c),console.error("❌ Детали ошибки синхронизации:",{booking_id:o,service:"channex",error_message:c.message,error_stack:c.stack,occurred_at:new Date().toISOString()})}},1e3)}return e},uw=async(n,e)=>qi(Pe.from("bookings").update(e).eq("id",n).select()),eU=async(n,e)=>qi(Pe.from("guests").update(e).eq("id",n)),tU=async n=>{console.log("🗑️ Supabase: deleteBooking called with id:",n);const e=await qi(Pe.from("bookings").delete().eq("id",n));return e.error?console.error("❌ Supabase: deleteBooking failed:",e.error):console.log("✅ Supabase: deleteBooking successful for id:",n),e},nU=async(n,e)=>{try{console.log("🔄 Supabase: Adding services to booking",{bookingId:n,servicesCart:e});const{data:t,error:r}=await Pe.rpc("add_services_to_booking",{booking_id_arg:n,services_data:e});if(r){console.warn("⚠️ RPC failed, trying direct insert:",r.message);const o=e.map(h=>({booking_id:n,service_id:h.service_id,quantity:h.quantity,price_at_booking:h.price_at_booking})),{data:c,error:u}=await Pe.from("booking_services").insert(o).select();if(u)throw console.error("❌ Direct insert also failed:",u),u;return console.log("✅ Supabase: Services added via direct insert",c),{data:c,error:null}}return console.log("✅ Supabase: Services added via RPC successfully",t),{data:t,error:null}}catch(t){return console.error("❌ Error in addServicesToBooking:",t),{data:null,error:t}}},rU=async n=>{try{console.log("🔄 Supabase: Removing service from booking",n);const e=await qi(Pe.from("booking_services").delete().eq("id",n));return console.log("✅ Supabase: Service removed successfully"),e}catch(e){return console.error("❌ Error in removeServiceFromBooking:",e),{data:null,error:e}}},sU=async(n,e)=>{try{console.log("🔄 Supabase: Saving daily report",{reportDate:n,reportData:e});const{data:t,error:r}=await Pe.from("daily_reports").select("*").eq("report_date",n).single(),o={report_date:n,income_data:e.manual.income,expenses_data:e.manual.expenses,auto_data:e.auto,updated_at:new Date().toISOString()};if(t&&!r){const{data:c,error:u}=await Pe.from("daily_reports").update(o).eq("id",t.id).select().single();if(u)throw u;return await Qb(t.id,t,o,"update"),console.log("✅ Daily report updated successfully"),{data:c,error:null}}else{o.created_at=new Date().toISOString();const{data:c,error:u}=await Pe.from("daily_reports").insert(o).select().single();if(u)throw u;return await Qb(c.id,null,o,"create"),console.log("✅ Daily report created successfully"),{data:c,error:null}}}catch(t){return console.error("❌ Error saving daily report:",t),{data:null,error:t}}},aU=async n=>{try{const{data:e,error:t}=await Pe.from("daily_reports").select("*").eq("report_date",n).single();if(t&&t.code!=="PGRST116")throw t;return{data:e||null,error:null}}catch(e){return console.error("❌ Error getting daily report:",e),{data:null,error:e}}},Qb=async(n,e,t,r)=>{try{const o={report_id:n,action:r,old_data:e,new_data:t,changed_at:new Date().toISOString()},{error:c}=await Pe.from("daily_reports_history").insert(o);if(c)throw c;console.log("✅ Report history saved")}catch(o){console.error("❌ Error saving report history:",o)}};var kh={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var oU=kh.exports,Zb;function iU(){return Zb||(Zb=1,function(n,e){(function(){var t,r="4.17.21",o=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",h="Invalid `variable` option passed into `_.template`",m="__lodash_hash_undefined__",p=500,v="__lodash_placeholder__",y=1,b=2,C=4,E=1,P=2,N=1,R=2,k=4,T=8,M=16,I=32,D=64,F=128,z=256,q=512,X=30,re="...",ie=800,me=16,pe=1,ke=2,ge=3,be=1/0,W=9007199254740991,K=17976931348623157e292,ne=NaN,B=4294967295,U=B-1,V=B>>>1,ae=[["ary",F],["bind",N],["bindKey",R],["curry",T],["curryRight",M],["flip",q],["partial",I],["partialRight",D],["rearg",z]],ue="[object Arguments]",he="[object Array]",te="[object AsyncFunction]",fe="[object Boolean]",Se="[object Date]",Ee="[object DOMException]",Ke="[object Error]",We="[object Function]",rt="[object GeneratorFunction]",xt="[object Map]",pn="[object Number]",or="[object Null]",Yt="[object Object]",en="[object Promise]",Dr="[object Proxy]",Lr="[object RegExp]",qt="[object Set]",ns="[object String]",Va="[object Symbol]",lm="[object Undefined]",zo="[object WeakMap]",cm="[object WeakSet]",Ga="[object ArrayBuffer]",Ns="[object DataView]",xc="[object Float32Array]",qa="[object Float64Array]",Ka="[object Int8Array]",Od="[object Int16Array]",vc="[object Int32Array]",yc="[object Uint8Array]",Dd="[object Uint8ClampedArray]",Ki="[object Uint16Array]",Yi="[object Uint32Array]",Ld=/\b__p \+= '';/g,$d=/\b(__p \+=) '' \+/g,Fd=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ya=/&(?:amp|lt|gt|quot|#39);/g,Ja=/[&<>"']/g,um=RegExp(Ya.source),dm=RegExp(Ja.source),fm=/<%-([\s\S]+?)%>/g,hm=/<%([\s\S]+?)%>/g,zd=/<%=([\s\S]+?)%>/g,Ud=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mm=/^\w*$/,Ji=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Xi=/[\\^$.*+?()[\]{}|]/g,Qi=RegExp(Xi.source),Bd=/^\s+/,Zi=/\s/,wc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,_c=/\{\n\/\* \[wrapped with (.+)\] \*/,Wd=/,? & /,kx=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Cx=/[()=,{}\[\]\/\s]/,Ex=/\\(\\)?/g,Xa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hd=/\w*$/,pm=/^[-+]0x[0-9a-f]+$/i,Px=/^0b[01]+$/i,gm=/^\[object .+?Constructor\]$/,xm=/^0o[0-7]+$/i,vm=/^(?:0|[1-9]\d*)$/,ym=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,bc=/($^)/,Rx=/['\n\r\u2028\u2029\\]/g,zt="\\ud800-\\udfff",Tx="\\u0300-\\u036f",Vd="\\ufe20-\\ufe2f",wm="\\u20d0-\\u20ff",el=Tx+Vd+wm,_m="\\u2700-\\u27bf",Gd="a-z\\xdf-\\xf6\\xf8-\\xff",jc="\\xac\\xb1\\xd7\\xf7",rs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Ax="\\u2000-\\u206f",$r=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bm="A-Z\\xc0-\\xd6\\xd8-\\xde",jm="\\ufe0e\\ufe0f",Sm=jc+rs+Ax+$r,Uo="['’]",Sc="["+zt+"]",Bo="["+Sm+"]",Qa="["+el+"]",Nm="\\d+",Ix="["+_m+"]",Nc="["+Gd+"]",qd="[^"+zt+Sm+Nm+_m+Gd+bm+"]",tl="\\ud83c[\\udffb-\\udfff]",nl="(?:"+Qa+"|"+tl+")",km="[^"+zt+"]",rl="(?:\\ud83c[\\udde6-\\uddff]){2}",Ct="[\\ud800-\\udbff][\\udc00-\\udfff]",Za="["+bm+"]",Kd="\\u200d",kc="(?:"+Nc+"|"+qd+")",Cm="(?:"+Za+"|"+qd+")",Yd="(?:"+Uo+"(?:d|ll|m|re|s|t|ve))?",Jd="(?:"+Uo+"(?:D|LL|M|RE|S|T|VE))?",Cc=nl+"?",sl="["+jm+"]?",sa="(?:"+Kd+"(?:"+[km,rl,Ct].join("|")+")"+sl+Cc+")*",aa="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",oa="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Wo=sl+Cc+sa,al="(?:"+[Ix,rl,Ct].join("|")+")"+Wo,ia="(?:"+[km+Qa+"?",Qa,rl,Ct,Sc].join("|")+")",Mx=RegExp(Uo,"g"),Em=RegExp(Qa,"g"),eo=RegExp(tl+"(?="+tl+")|"+ia+Wo,"g"),Ox=RegExp([Za+"?"+Nc+"+"+Yd+"(?="+[Bo,Za,"$"].join("|")+")",Cm+"+"+Jd+"(?="+[Bo,Za+kc,"$"].join("|")+")",Za+"?"+kc+"+"+Yd,Za+"+"+Jd,oa,aa,Nm,al].join("|"),"g"),Pm=RegExp("["+Kd+zt+el+jm+"]"),Ec=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Rm=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Dx=-1,Pt={};Pt[xc]=Pt[qa]=Pt[Ka]=Pt[Od]=Pt[vc]=Pt[yc]=Pt[Dd]=Pt[Ki]=Pt[Yi]=!0,Pt[ue]=Pt[he]=Pt[Ga]=Pt[fe]=Pt[Ns]=Pt[Se]=Pt[Ke]=Pt[We]=Pt[xt]=Pt[pn]=Pt[Yt]=Pt[Lr]=Pt[qt]=Pt[ns]=Pt[zo]=!1;var Et={};Et[ue]=Et[he]=Et[Ga]=Et[Ns]=Et[fe]=Et[Se]=Et[xc]=Et[qa]=Et[Ka]=Et[Od]=Et[vc]=Et[xt]=Et[pn]=Et[Yt]=Et[Lr]=Et[qt]=Et[ns]=Et[Va]=Et[yc]=Et[Dd]=Et[Ki]=Et[Yi]=!0,Et[Ke]=Et[We]=Et[zo]=!1;var Ho={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Pc={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Lx={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$x={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Xd=parseFloat,Rc=parseInt,Tc=typeof Wp=="object"&&Wp&&Wp.Object===Object&&Wp,Tm=typeof self=="object"&&self&&self.Object===Object&&self,Ut=Tc||Tm||Function("return this")(),ol=e&&!e.nodeType&&e,ss=ol&&!0&&n&&!n.nodeType&&n,Qd=ss&&ss.exports===ol,Vo=Qd&&Tc.process,zn=function(){try{var Z=ss&&ss.require&&ss.require("util").types;return Z||Vo&&Vo.binding&&Vo.binding("util")}catch{}}(),Zd=zn&&zn.isArrayBuffer,Jn=zn&&zn.isDate,to=zn&&zn.isMap,Ac=zn&&zn.isRegExp,Go=zn&&zn.isSet,Am=zn&&zn.isTypedArray;function Un(Z,de,le){switch(le.length){case 0:return Z.call(de);case 1:return Z.call(de,le[0]);case 2:return Z.call(de,le[0],le[1]);case 3:return Z.call(de,le[0],le[1],le[2])}return Z.apply(de,le)}function ef(Z,de,le,Ie){for(var it=-1,St=Z==null?0:Z.length;++it<St;){var tn=Z[it];de(Ie,tn,le(tn),Z)}return Ie}function Pn(Z,de){for(var le=-1,Ie=Z==null?0:Z.length;++le<Ie&&de(Z[le],le,Z)!==!1;);return Z}function Ic(Z,de){for(var le=Z==null?0:Z.length;le--&&de(Z[le],le,Z)!==!1;);return Z}function tf(Z,de){for(var le=-1,Ie=Z==null?0:Z.length;++le<Ie;)if(!de(Z[le],le,Z))return!1;return!0}function la(Z,de){for(var le=-1,Ie=Z==null?0:Z.length,it=0,St=[];++le<Ie;){var tn=Z[le];de(tn,le,Z)&&(St[it++]=tn)}return St}function Mc(Z,de){var le=Z==null?0:Z.length;return!!le&&qo(Z,de,0)>-1}function nf(Z,de,le){for(var Ie=-1,it=Z==null?0:Z.length;++Ie<it;)if(le(de,Z[Ie]))return!0;return!1}function Mt(Z,de){for(var le=-1,Ie=Z==null?0:Z.length,it=Array(Ie);++le<Ie;)it[le]=de(Z[le],le,Z);return it}function ca(Z,de){for(var le=-1,Ie=de.length,it=Z.length;++le<Ie;)Z[it+le]=de[le];return Z}function rf(Z,de,le,Ie){var it=-1,St=Z==null?0:Z.length;for(Ie&&St&&(le=Z[++it]);++it<St;)le=de(le,Z[it],it,Z);return le}function Fx(Z,de,le,Ie){var it=Z==null?0:Z.length;for(Ie&&it&&(le=Z[--it]);it--;)le=de(le,Z[it],it,Z);return le}function sf(Z,de){for(var le=-1,Ie=Z==null?0:Z.length;++le<Ie;)if(de(Z[le],le,Z))return!0;return!1}var zx=of("length");function Im(Z){return Z.split("")}function Ux(Z){return Z.match(kx)||[]}function Mm(Z,de,le){var Ie;return le(Z,function(it,St,tn){if(de(it,St,tn))return Ie=St,!1}),Ie}function Oc(Z,de,le,Ie){for(var it=Z.length,St=le+(Ie?1:-1);Ie?St--:++St<it;)if(de(Z[St],St,Z))return St;return-1}function qo(Z,de,le){return de===de?$c(Z,de,le):Oc(Z,Om,le)}function af(Z,de,le,Ie){for(var it=le-1,St=Z.length;++it<St;)if(Ie(Z[it],de))return it;return-1}function Om(Z){return Z!==Z}function Dm(Z,de){var le=Z==null?0:Z.length;return le?lf(Z,de)/le:ne}function of(Z){return function(de){return de==null?t:de[Z]}}function Dc(Z){return function(de){return Z==null?t:Z[de]}}function Lm(Z,de,le,Ie,it){return it(Z,function(St,tn,Tt){le=Ie?(Ie=!1,St):de(le,St,tn,Tt)}),le}function Bx(Z,de){var le=Z.length;for(Z.sort(de);le--;)Z[le]=Z[le].value;return Z}function lf(Z,de){for(var le,Ie=-1,it=Z.length;++Ie<it;){var St=de(Z[Ie]);St!==t&&(le=le===t?St:le+St)}return le}function cf(Z,de){for(var le=-1,Ie=Array(Z);++le<Z;)Ie[le]=de(le);return Ie}function Wx(Z,de){return Mt(de,function(le){return[le,Z[le]]})}function $m(Z){return Z&&Z.slice(0,Fc(Z)+1).replace(Bd,"")}function ir(Z){return function(de){return Z(de)}}function il(Z,de){return Mt(de,function(le){return Z[le]})}function ks(Z,de){return Z.has(de)}function Fm(Z,de){for(var le=-1,Ie=Z.length;++le<Ie&&qo(de,Z[le],0)>-1;);return le}function uf(Z,de){for(var le=Z.length;le--&&qo(de,Z[le],0)>-1;);return le}function zm(Z,de){for(var le=Z.length,Ie=0;le--;)Z[le]===de&&++Ie;return Ie}var Um=Dc(Ho),Bm=Dc(Pc);function Wm(Z){return"\\"+$x[Z]}function Ko(Z,de){return Z==null?t:Z[de]}function Yo(Z){return Pm.test(Z)}function Hx(Z){return Ec.test(Z)}function Vx(Z){for(var de,le=[];!(de=Z.next()).done;)le.push(de.value);return le}function Lc(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Ie,it){le[++de]=[it,Ie]}),le}function df(Z,de){return function(le){return Z(de(le))}}function vr(Z,de){for(var le=-1,Ie=Z.length,it=0,St=[];++le<Ie;){var tn=Z[le];(tn===de||tn===v)&&(Z[le]=v,St[it++]=le)}return St}function ua(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Ie){le[++de]=Ie}),le}function Gx(Z){var de=-1,le=Array(Z.size);return Z.forEach(function(Ie){le[++de]=[Ie,Ie]}),le}function $c(Z,de,le){for(var Ie=le-1,it=Z.length;++Ie<it;)if(Z[Ie]===de)return Ie;return-1}function qx(Z,de,le){for(var Ie=le+1;Ie--;)if(Z[Ie]===de)return Ie;return Ie}function no(Z){return Yo(Z)?Vm(Z):zx(Z)}function lr(Z){return Yo(Z)?Gm(Z):Im(Z)}function Fc(Z){for(var de=Z.length;de--&&Zi.test(Z.charAt(de)););return de}var Hm=Dc(Lx);function Vm(Z){for(var de=eo.lastIndex=0;eo.test(Z);)++de;return de}function Gm(Z){return Z.match(eo)||[]}function Kx(Z){return Z.match(Ox)||[]}var Yx=function Z(de){de=de==null?Ut:Jo.defaults(Ut.Object(),de,Jo.pick(Ut,Rm));var le=de.Array,Ie=de.Date,it=de.Error,St=de.Function,tn=de.Math,Tt=de.Object,ll=de.RegExp,Jx=de.String,yr=de.TypeError,Cs=le.prototype,ff=St.prototype,as=Tt.prototype,Xo=de["__core-js_shared__"],cl=ff.toString,Nt=as.hasOwnProperty,Qo=0,zc=function(){var l=/[^.]+$/.exec(Xo&&Xo.keys&&Xo.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),ul=as.toString,Uc=cl.call(Tt),qm=Ut._,Km=ll("^"+cl.call(Nt).replace(Xi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dl=Qd?de.Buffer:t,Es=de.Symbol,fl=de.Uint8Array,hf=dl?dl.allocUnsafe:t,Fr=df(Tt.getPrototypeOf,Tt),Bc=Tt.create,Wc=as.propertyIsEnumerable,Hc=Cs.splice,Ym=Es?Es.isConcatSpreadable:t,Ps=Es?Es.iterator:t,ro=Es?Es.toStringTag:t,hl=function(){try{var l=_a(Tt,"defineProperty");return l({},"",{}),l}catch{}}(),Jm=de.clearTimeout!==Ut.clearTimeout&&de.clearTimeout,Dt=Ie&&Ie.now!==Ut.Date.now&&Ie.now,mf=de.setTimeout!==Ut.setTimeout&&de.setTimeout,so=tn.ceil,da=tn.floor,Vc=Tt.getOwnPropertySymbols,pf=dl?dl.isBuffer:t,Zo=de.isFinite,Gc=Cs.join,ei=df(Tt.keys,Tt),nn=tn.max,Rn=tn.min,Xx=Ie.now,Xm=de.parseInt,ml=tn.random,qc=Cs.reverse,pl=_a(de,"DataView"),ao=_a(de,"Map"),gl=_a(de,"Promise"),fa=_a(de,"Set"),xl=_a(de,"WeakMap"),ti=_a(Tt,"create"),Kc=xl&&new xl,ni={},gf=ba(pl),ha=ba(ao),Qm=ba(gl),ri=ba(fa),os=ba(xl),ma=Es?Es.prototype:t,cr=ma?ma.valueOf:t,Yc=ma?ma.toString:t;function L(l){if(sn(l)&&!ut(l)&&!(l instanceof ct)){if(l instanceof Tn)return l;if(Nt.call(l,"__wrapped__"))return kp(l)}return new Tn(l)}var si=function(){function l(){}return function(d){if(!Qt(d))return{};if(Bc)return Bc(d);l.prototype=d;var x=new l;return l.prototype=t,x}}();function is(){}function Tn(l,d){this.__wrapped__=l,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=t}L.templateSettings={escape:fm,evaluate:hm,interpolate:zd,variable:"",imports:{_:L}},L.prototype=is.prototype,L.prototype.constructor=L,Tn.prototype=si(is.prototype),Tn.prototype.constructor=Tn;function ct(l){this.__wrapped__=l,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=B,this.__views__=[]}function Jc(){var l=new ct(this.__wrapped__);return l.__actions__=Wn(this.__actions__),l.__dir__=this.__dir__,l.__filtered__=this.__filtered__,l.__iteratees__=Wn(this.__iteratees__),l.__takeCount__=this.__takeCount__,l.__views__=Wn(this.__views__),l}function xf(){if(this.__filtered__){var l=new ct(this);l.__dir__=-1,l.__filtered__=!0}else l=this.clone(),l.__dir__*=-1;return l}function ai(){var l=this.__wrapped__.value(),d=this.__dir__,x=ut(l),S=d<0,A=x?l.length:0,$=Vf(0,A,this.__views__),G=$.start,J=$.end,ee=J-G,xe=S?J:G-1,ve=this.__iteratees__,_e=ve.length,Te=0,Xe=Rn(ee,this.__takeCount__);if(!x||!S&&A==ee&&Xe==ee)return hi(l,this.__actions__);var at=[];e:for(;ee--&&Te<Xe;){xe+=d;for(var mt=-1,ot=l[xe];++mt<_e;){var yt=ve[mt],jt=yt.iteratee,Yr=yt.type,mr=jt(ot);if(Yr==ke)ot=mr;else if(!mr){if(Yr==pe)continue e;break e}}at[Te++]=ot}return at}ct.prototype=si(is.prototype),ct.prototype.constructor=ct;function Xn(l){var d=-1,x=l==null?0:l.length;for(this.clear();++d<x;){var S=l[d];this.set(S[0],S[1])}}function Lt(){this.__data__=ti?ti(null):{},this.size=0}function Ot(l){var d=this.has(l)&&delete this.__data__[l];return this.size-=d?1:0,d}function pa(l){var d=this.__data__;if(ti){var x=d[l];return x===m?t:x}return Nt.call(d,l)?d[l]:t}function An(l){var d=this.__data__;return ti?d[l]!==t:Nt.call(d,l)}function Qn(l,d){var x=this.__data__;return this.size+=this.has(l)?0:1,x[l]=ti&&d===t?m:d,this}Xn.prototype.clear=Lt,Xn.prototype.delete=Ot,Xn.prototype.get=pa,Xn.prototype.has=An,Xn.prototype.set=Qn;function Bn(l){var d=-1,x=l==null?0:l.length;for(this.clear();++d<x;){var S=l[d];this.set(S[0],S[1])}}function oi(){this.__data__=[],this.size=0}function Zn(l){var d=this.__data__,x=Mn(d,l);if(x<0)return!1;var S=d.length-1;return x==S?d.pop():Hc.call(d,x,1),--this.size,!0}function Xc(l){var d=this.__data__,x=Mn(d,l);return x<0?t:d[x][1]}function Zm(l){return Mn(this.__data__,l)>-1}function ep(l,d){var x=this.__data__,S=Mn(x,l);return S<0?(++this.size,x.push([l,d])):x[S][1]=d,this}Bn.prototype.clear=oi,Bn.prototype.delete=Zn,Bn.prototype.get=Xc,Bn.prototype.has=Zm,Bn.prototype.set=ep;function wr(l){var d=-1,x=l==null?0:l.length;for(this.clear();++d<x;){var S=l[d];this.set(S[0],S[1])}}function tp(){this.size=0,this.__data__={hash:new Xn,map:new(ao||Bn),string:new Xn}}function Rs(l){var d=Il(this,l).delete(l);return this.size-=d?1:0,d}function Qc(l){return Il(this,l).get(l)}function vf(l){return Il(this,l).has(l)}function np(l,d){var x=Il(this,l),S=x.size;return x.set(l,d),this.size+=x.size==S?0:1,this}wr.prototype.clear=tp,wr.prototype.delete=Rs,wr.prototype.get=Qc,wr.prototype.has=vf,wr.prototype.set=np;function oo(l){var d=-1,x=l==null?0:l.length;for(this.__data__=new wr;++d<x;)this.add(l[d])}function ga(l){return this.__data__.set(l,m),this}function ii(l){return this.__data__.has(l)}oo.prototype.add=oo.prototype.push=ga,oo.prototype.has=ii;function In(l){var d=this.__data__=new Bn(l);this.size=d.size}function Zc(){this.__data__=new Bn,this.size=0}function eu(l){var d=this.__data__,x=d.delete(l);return this.size=d.size,x}function _r(l){return this.__data__.get(l)}function br(l){return this.__data__.has(l)}function io(l,d){var x=this.__data__;if(x instanceof Bn){var S=x.__data__;if(!ao||S.length<o-1)return S.push([l,d]),this.size=++x.size,this;x=this.__data__=new wr(S)}return x.set(l,d),this.size=x.size,this}In.prototype.clear=Zc,In.prototype.delete=eu,In.prototype.get=_r,In.prototype.has=br,In.prototype.set=io;function ls(l,d){var x=ut(l),S=!x&&Vl(l),A=!x&&!S&&ji(l),$=!x&&!S&&!A&&Wu(l),G=x||S||A||$,J=G?cf(l.length,Jx):[],ee=J.length;for(var xe in l)(d||Nt.call(l,xe))&&!(G&&(xe=="length"||A&&(xe=="offset"||xe=="parent")||$&&(xe=="buffer"||xe=="byteLength"||xe=="byteOffset")||Wt(xe,ee)))&&J.push(xe);return J}function cs(l){var d=l.length;return d?l[di(0,d-1)]:t}function lo(l,d){return ku(Wn(l),Ts(d,0,l.length))}function rp(l){return ku(Wn(l))}function vl(l,d,x){(x!==t&&!Us(l[d],x)||x===t&&!(d in l))&&us(l,d,x)}function co(l,d,x){var S=l[d];(!(Nt.call(l,d)&&Us(S,x))||x===t&&!(d in l))&&us(l,d,x)}function Mn(l,d){for(var x=l.length;x--;)if(Us(l[x][0],d))return x;return-1}function ur(l,d,x,S){return fs(l,function(A,$,G){d(S,A,x(A),G)}),S}function $t(l,d){return l&&Ur(d,Ln(d),l)}function zr(l,d){return l&&Ur(d,Tr(d),l)}function us(l,d,x){d=="__proto__"&&hl?hl(l,d,{configurable:!0,enumerable:!0,value:x,writable:!0}):l[d]=x}function tu(l,d){for(var x=-1,S=d.length,A=le(S),$=l==null;++x<S;)A[x]=$?t:_v(l,d[x]);return A}function Ts(l,d,x){return l===l&&(x!==t&&(l=l<=x?l:x),d!==t&&(l=l>=d?l:d)),l}function er(l,d,x,S,A,$){var G,J=d&y,ee=d&b,xe=d&C;if(x&&(G=A?x(l,S,A,$):x(l)),G!==t)return G;if(!Qt(l))return l;var ve=ut(l);if(ve){if(G=Ol(l),!J)return Wn(l,G)}else{var _e=jn(l),Te=_e==We||_e==rt;if(ji(l))return If(l,J);if(_e==Yt||_e==ue||Te&&!A){if(G=ee||Te?{}:Sn(l),!J)return ee?Zx(l,zr(G,l)):mu(l,$t(G,l))}else{if(!Et[_e])return A?l:{};G=ev(l,_e,J)}}$||($=new In);var Xe=$.get(l);if(Xe)return Xe;$.set(l,G),yw(l)?l.forEach(function(ot){G.add(er(ot,d,x,ot,l,$))}):xw(l)&&l.forEach(function(ot,yt){G.set(yt,er(ot,d,x,yt,l,$))});var at=xe?ee?Al:Tl:ee?Tr:Ln,mt=ve?t:at(l);return Pn(mt||l,function(ot,yt){mt&&(yt=ot,ot=l[yt]),co(G,yt,er(ot,d,x,yt,l,$))}),G}function sp(l){var d=Ln(l);return function(x){return yl(x,l,d)}}function yl(l,d,x){var S=x.length;if(l==null)return!S;for(l=Tt(l);S--;){var A=x[S],$=d[A],G=l[A];if(G===t&&!(A in l)||!$(G))return!1}return!0}function yf(l,d,x){if(typeof l!="function")throw new yr(u);return wi(function(){l.apply(t,x)},d)}function ds(l,d,x,S){var A=-1,$=Mc,G=!0,J=l.length,ee=[],xe=d.length;if(!J)return ee;x&&(d=Mt(d,ir(x))),S?($=nf,G=!1):d.length>=o&&($=ks,G=!1,d=new oo(d));e:for(;++A<J;){var ve=l[A],_e=x==null?ve:x(ve);if(ve=S||ve!==0?ve:0,G&&_e===_e){for(var Te=xe;Te--;)if(d[Te]===_e)continue e;ee.push(ve)}else $(d,_e,S)||ee.push(ve)}return ee}var fs=Cr(dr),ap=Cr(xa,!0);function wl(l,d){var x=!0;return fs(l,function(S,A,$){return x=!!d(S,A,$),x}),x}function uo(l,d,x){for(var S=-1,A=l.length;++S<A;){var $=l[S],G=d($);if(G!=null&&(J===t?G===G&&!Kr(G):x(G,J)))var J=G,ee=$}return ee}function op(l,d,x,S){var A=l.length;for(x=ht(x),x<0&&(x=-x>A?0:A+x),S=S===t||S>A?A:ht(S),S<0&&(S+=A),S=x>S?0:_w(S);x<S;)l[x++]=d;return l}function wf(l,d){var x=[];return fs(l,function(S,A,$){d(S,A,$)&&x.push(S)}),x}function Kt(l,d,x,S,A){var $=-1,G=l.length;for(x||(x=ju),A||(A=[]);++$<G;){var J=l[$];d>0&&x(J)?d>1?Kt(J,d-1,x,S,A):ca(A,J):S||(A[A.length]=J)}return A}var nu=gu(),_l=gu(!0);function dr(l,d){return l&&nu(l,d,Ln)}function xa(l,d){return l&&_l(l,d,Ln)}function li(l,d){return la(d,function(x){return So(l[x])})}function As(l,d){d=ps(d,l);for(var x=0,S=d.length;l!=null&&x<S;)l=l[Vr(d[x++])];return x&&x==S?l:t}function ru(l,d,x){var S=d(l);return ut(l)?S:ca(S,x(l))}function _n(l){return l==null?l===t?lm:or:ro&&ro in Tt(l)?bu(l):qf(l)}function va(l,d){return l>d}function jr(l,d){return l!=null&&Nt.call(l,d)}function fo(l,d){return l!=null&&d in Tt(l)}function _f(l,d,x){return l>=Rn(d,x)&&l<nn(d,x)}function su(l,d,x){for(var S=x?nf:Mc,A=l[0].length,$=l.length,G=$,J=le($),ee=1/0,xe=[];G--;){var ve=l[G];G&&d&&(ve=Mt(ve,ir(d))),ee=Rn(ve.length,ee),J[G]=!x&&(d||A>=120&&ve.length>=120)?new oo(G&&ve):t}ve=l[0];var _e=-1,Te=J[0];e:for(;++_e<A&&xe.length<ee;){var Xe=ve[_e],at=d?d(Xe):Xe;if(Xe=x||Xe!==0?Xe:0,!(Te?ks(Te,at):S(xe,at,x))){for(G=$;--G;){var mt=J[G];if(!(mt?ks(mt,at):S(l[G],at,x)))continue e}Te&&Te.push(at),xe.push(Xe)}}return xe}function Is(l,d,x,S){return dr(l,function(A,$,G){d(S,x(A),$,G)}),S}function Sr(l,d,x){d=ps(d,l),l=gn(l,d);var S=l==null?l:l[Vr(Gn(d))];return S==null?t:Un(S,l,x)}function au(l){return sn(l)&&_n(l)==ue}function ip(l){return sn(l)&&_n(l)==Ga}function Ms(l){return sn(l)&&_n(l)==Se}function Nr(l,d,x,S,A){return l===d?!0:l==null||d==null||!sn(l)&&!sn(d)?l!==l&&d!==d:ou(l,d,x,S,Nr,A)}function ou(l,d,x,S,A,$){var G=ut(l),J=ut(d),ee=G?he:jn(l),xe=J?he:jn(d);ee=ee==ue?Yt:ee,xe=xe==ue?Yt:xe;var ve=ee==Yt,_e=xe==Yt,Te=ee==xe;if(Te&&ji(l)){if(!ji(d))return!1;G=!0,ve=!1}if(Te&&!ve)return $||($=new In),G||Wu(l)?Wf(l,d,x,S,A,$):Hf(l,d,ee,x,S,A,$);if(!(x&E)){var Xe=ve&&Nt.call(l,"__wrapped__"),at=_e&&Nt.call(d,"__wrapped__");if(Xe||at){var mt=Xe?l.value():l,ot=at?d.value():d;return $||($=new In),A(mt,ot,x,S,$)}}return Te?($||($=new In),vp(l,d,x,S,A,$)):!1}function lp(l){return sn(l)&&jn(l)==xt}function ci(l,d,x,S){var A=x.length,$=A,G=!S;if(l==null)return!$;for(l=Tt(l);A--;){var J=x[A];if(G&&J[2]?J[1]!==l[J[0]]:!(J[0]in l))return!1}for(;++A<$;){J=x[A];var ee=J[0],xe=l[ee],ve=J[1];if(G&&J[2]){if(xe===t&&!(ee in l))return!1}else{var _e=new In;if(S)var Te=S(xe,ve,ee,l,d,_e);if(!(Te===t?Nr(ve,xe,E|P,S,_e):Te))return!1}}return!0}function bf(l){if(!Qt(l)||_p(l))return!1;var d=So(l)?Km:gm;return d.test(ba(l))}function bl(l){return sn(l)&&_n(l)==Lr}function hs(l){return sn(l)&&jn(l)==qt}function jl(l){return sn(l)&&zp(l.length)&&!!Pt[_n(l)]}function ui(l){return typeof l=="function"?l:l==null?Ar:typeof l=="object"?ut(l)?Bt(l[0],l[1]):iu(l):Aw(l)}function Os(l){if(!Fs(l))return ei(l);var d=[];for(var x in Tt(l))Nt.call(l,x)&&x!="constructor"&&d.push(x);return d}function jf(l){if(!Qt(l))return Sp(l);var d=Fs(l),x=[];for(var S in l)S=="constructor"&&(d||!Nt.call(l,S))||x.push(S);return x}function ya(l,d){return l<d}function Sf(l,d){var x=-1,S=Rr(l)?le(l.length):[];return fs(l,function(A,$,G){S[++x]=d(A,$,G)}),S}function iu(l){var d=Ml(l);return d.length==1&&d[0][2]?Su(d[0][0],d[0][1]):function(x){return x===l||ci(x,l,d)}}function Bt(l,d){return Le(l)&&Ll(d)?Su(Vr(l),d):function(x){var S=_v(x,l);return S===t&&S===d?bv(x,l):Nr(d,S,E|P)}}function ho(l,d,x,S,A){l!==d&&nu(d,function($,G){if(A||(A=new In),Qt($))Nf(l,d,G,x,ho,S,A);else{var J=S?S(vs(l,G),$,G+"",l,d,A):t;J===t&&(J=$),vl(l,G,J)}},Tr)}function Nf(l,d,x,S,A,$,G){var J=vs(l,x),ee=vs(d,x),xe=G.get(ee);if(xe){vl(l,x,xe);return}var ve=$?$(J,ee,x+"",l,d,G):t,_e=ve===t;if(_e){var Te=ut(ee),Xe=!Te&&ji(ee),at=!Te&&!Xe&&Wu(ee);ve=ee,Te||Xe||at?ut(J)?ve=J:un(J)?ve=Wn(J):Xe?(_e=!1,ve=If(ee,!0)):at?(_e=!1,ve=hp(ee,!0)):ve=[]:dh(ee)||Vl(ee)?(ve=J,Vl(J)?ve=bw(J):(!Qt(J)||So(J))&&(ve=Sn(ee))):_e=!1}_e&&(G.set(ee,ve),A(ve,ee,S,$,G),G.delete(ee)),vl(l,x,ve)}function lu(l,d){var x=l.length;if(x)return d+=d<0?x:0,Wt(d,x)?l[d]:t}function Sl(l,d,x){d.length?d=Mt(d,function($){return ut($)?function(G){return As(G,$.length===1?$[0]:$)}:$}):d=[Ar];var S=-1;d=Mt(d,ir(et()));var A=Sf(l,function($,G,J){var ee=Mt(d,function(xe){return xe($)});return{criteria:ee,index:++S,value:$}});return Bx(A,function($,G){return Qx($,G,x)})}function kf(l,d){return wa(l,d,function(x,S){return bv(l,S)})}function wa(l,d,x){for(var S=-1,A=d.length,$={};++S<A;){var G=d[S],J=As(l,G);x(J,G)&&po($,ps(G,l),J)}return $}function Vt(l){return function(d){return As(d,l)}}function Jt(l,d,x,S){var A=S?af:qo,$=-1,G=d.length,J=l;for(l===d&&(d=Wn(d)),x&&(J=Mt(l,ir(x)));++$<G;)for(var ee=0,xe=d[$],ve=x?x(xe):xe;(ee=A(J,ve,ee,S))>-1;)J!==l&&Hc.call(J,ee,1),Hc.call(l,ee,1);return l}function ln(l,d){for(var x=l?d.length:0,S=x-1;x--;){var A=d[x];if(x==S||A!==$){var $=A;Wt(A)?Hc.call(l,A,1):du(l,A)}}return l}function di(l,d){return l+da(ml()*(d-l+1))}function Nl(l,d,x,S){for(var A=-1,$=nn(so((d-l)/(x||1)),0),G=le($);$--;)G[S?$:++A]=l,l+=x;return G}function mo(l,d){var x="";if(!l||d<1||d>W)return x;do d%2&&(x+=l),d=da(d/2),d&&(l+=l);while(d);return x}function ft(l,d){return fr(Nu(l,d,Ar),l+"")}function On(l){return cs(Hu(l))}function Cf(l,d){var x=Hu(l);return ku(x,Ts(d,0,x.length))}function po(l,d,x,S){if(!Qt(l))return l;d=ps(d,l);for(var A=-1,$=d.length,G=$-1,J=l;J!=null&&++A<$;){var ee=Vr(d[A]),xe=x;if(ee==="__proto__"||ee==="constructor"||ee==="prototype")return l;if(A!=G){var ve=J[ee];xe=S?S(ve,ee,J):t,xe===t&&(xe=Qt(ve)?ve:Wt(d[A+1])?[]:{})}co(J,ee,xe),J=J[ee]}return l}var cu=Kc?function(l,d){return Kc.set(l,d),l}:Ar,ms=hl?function(l,d){return hl(l,"toString",{configurable:!0,enumerable:!1,value:Sv(d),writable:!0})}:Ar;function kr(l){return ku(Hu(l))}function Dn(l,d,x){var S=-1,A=l.length;d<0&&(d=-d>A?0:A+d),x=x>A?A:x,x<0&&(x+=A),A=d>x?0:x-d>>>0,d>>>=0;for(var $=le(A);++S<A;)$[S]=l[S+d];return $}function Ef(l,d){var x;return fs(l,function(S,A,$){return x=d(S,A,$),!x}),!!x}function fi(l,d,x){var S=0,A=l==null?S:l.length;if(typeof d=="number"&&d===d&&A<=V){for(;S<A;){var $=S+A>>>1,G=l[$];G!==null&&!Kr(G)&&(x?G<=d:G<d)?S=$+1:A=$}return A}return uu(l,d,Ar,x)}function uu(l,d,x,S){var A=0,$=l==null?0:l.length;if($===0)return 0;d=x(d);for(var G=d!==d,J=d===null,ee=Kr(d),xe=d===t;A<$;){var ve=da((A+$)/2),_e=x(l[ve]),Te=_e!==t,Xe=_e===null,at=_e===_e,mt=Kr(_e);if(G)var ot=S||at;else xe?ot=at&&(S||Te):J?ot=at&&Te&&(S||!Xe):ee?ot=at&&Te&&!Xe&&(S||!mt):Xe||mt?ot=!1:ot=S?_e<=d:_e<d;ot?A=ve+1:$=ve}return Rn($,U)}function Pf(l,d){for(var x=-1,S=l.length,A=0,$=[];++x<S;){var G=l[x],J=d?d(G):G;if(!x||!Us(J,ee)){var ee=J;$[A++]=G===0?0:G}}return $}function Rf(l){return typeof l=="number"?l:Kr(l)?ne:+l}function tr(l){if(typeof l=="string")return l;if(ut(l))return Mt(l,tr)+"";if(Kr(l))return Yc?Yc.call(l):"";var d=l+"";return d=="0"&&1/l==-be?"-0":d}function Ds(l,d,x){var S=-1,A=Mc,$=l.length,G=!0,J=[],ee=J;if(x)G=!1,A=nf;else if($>=o){var xe=d?null:xp(l);if(xe)return ua(xe);G=!1,A=ks,ee=new oo}else ee=d?[]:J;e:for(;++S<$;){var ve=l[S],_e=d?d(ve):ve;if(ve=x||ve!==0?ve:0,G&&_e===_e){for(var Te=ee.length;Te--;)if(ee[Te]===_e)continue e;d&&ee.push(_e),J.push(ve)}else A(ee,_e,x)||(ee!==J&&ee.push(_e),J.push(ve))}return J}function du(l,d){return d=ps(d,l),l=gn(l,d),l==null||delete l[Vr(Gn(d))]}function Tf(l,d,x,S){return po(l,d,x(As(l,d)),S)}function kl(l,d,x,S){for(var A=l.length,$=S?A:-1;(S?$--:++$<A)&&d(l[$],$,l););return x?Dn(l,S?0:$,S?$+1:A):Dn(l,S?$+1:0,S?A:$)}function hi(l,d){var x=l;return x instanceof ct&&(x=x.value()),rf(d,function(S,A){return A.func.apply(A.thisArg,ca([S],A.args))},x)}function fu(l,d,x){var S=l.length;if(S<2)return S?Ds(l[0]):[];for(var A=-1,$=le(S);++A<S;)for(var G=l[A],J=-1;++J<S;)J!=A&&($[A]=ds($[A]||G,l[J],d,x));return Ds(Kt($,1),d,x)}function Cl(l,d,x){for(var S=-1,A=l.length,$=d.length,G={};++S<A;){var J=S<$?d[S]:t;x(G,l[S],J)}return G}function mi(l){return un(l)?l:[]}function hu(l){return typeof l=="function"?l:Ar}function ps(l,d){return ut(l)?l:Le(l,d)?[l]:Jf(At(l))}var cp=ft;function Ls(l,d,x){var S=l.length;return x=x===t?S:x,!d&&x>=S?l:Dn(l,d,x)}var Af=Jm||function(l){return Ut.clearTimeout(l)};function If(l,d){if(d)return l.slice();var x=l.length,S=hf?hf(x):new l.constructor(x);return l.copy(S),S}function El(l){var d=new l.constructor(l.byteLength);return new fl(d).set(new fl(l)),d}function up(l,d){var x=d?El(l.buffer):l.buffer;return new l.constructor(x,l.byteOffset,l.byteLength)}function dp(l){var d=new l.constructor(l.source,Hd.exec(l));return d.lastIndex=l.lastIndex,d}function fp(l){return cr?Tt(cr.call(l)):{}}function hp(l,d){var x=d?El(l.buffer):l.buffer;return new l.constructor(x,l.byteOffset,l.length)}function Mf(l,d){if(l!==d){var x=l!==t,S=l===null,A=l===l,$=Kr(l),G=d!==t,J=d===null,ee=d===d,xe=Kr(d);if(!J&&!xe&&!$&&l>d||$&&G&&ee&&!J&&!xe||S&&G&&ee||!x&&ee||!A)return 1;if(!S&&!$&&!xe&&l<d||xe&&x&&A&&!S&&!$||J&&x&&A||!G&&A||!ee)return-1}return 0}function Qx(l,d,x){for(var S=-1,A=l.criteria,$=d.criteria,G=A.length,J=x.length;++S<G;){var ee=Mf(A[S],$[S]);if(ee){if(S>=J)return ee;var xe=x[S];return ee*(xe=="desc"?-1:1)}}return l.index-d.index}function mp(l,d,x,S){for(var A=-1,$=l.length,G=x.length,J=-1,ee=d.length,xe=nn($-G,0),ve=le(ee+xe),_e=!S;++J<ee;)ve[J]=d[J];for(;++A<G;)(_e||A<$)&&(ve[x[A]]=l[A]);for(;xe--;)ve[J++]=l[A++];return ve}function Of(l,d,x,S){for(var A=-1,$=l.length,G=-1,J=x.length,ee=-1,xe=d.length,ve=nn($-J,0),_e=le(ve+xe),Te=!S;++A<ve;)_e[A]=l[A];for(var Xe=A;++ee<xe;)_e[Xe+ee]=d[ee];for(;++G<J;)(Te||A<$)&&(_e[Xe+x[G]]=l[A++]);return _e}function Wn(l,d){var x=-1,S=l.length;for(d||(d=le(S));++x<S;)d[x]=l[x];return d}function Ur(l,d,x,S){var A=!x;x||(x={});for(var $=-1,G=d.length;++$<G;){var J=d[$],ee=S?S(x[J],l[J],J,x,l):t;ee===t&&(ee=l[J]),A?us(x,J,ee):co(x,J,ee)}return x}function mu(l,d){return Ur(l,Br(l),d)}function Zx(l,d){return Ur(l,yp(l),d)}function pu(l,d){return function(x,S){var A=ut(x)?ef:ur,$=d?d():{};return A(x,l,et(S,2),$)}}function pi(l){return ft(function(d,x){var S=-1,A=x.length,$=A>1?x[A-1]:t,G=A>2?x[2]:t;for($=l.length>3&&typeof $=="function"?(A--,$):t,G&&Vn(x[0],x[1],G)&&($=A<3?t:$,A=1),d=Tt(d);++S<A;){var J=x[S];J&&l(d,J,S,$)}return d})}function Cr(l,d){return function(x,S){if(x==null)return x;if(!Rr(x))return l(x,S);for(var A=x.length,$=d?A:-1,G=Tt(x);(d?$--:++$<A)&&S(G[$],$,G)!==!1;);return x}}function gu(l){return function(d,x,S){for(var A=-1,$=Tt(d),G=S(d),J=G.length;J--;){var ee=G[l?J:++A];if(x($[ee],ee,$)===!1)break}return d}}function xu(l,d,x){var S=d&N,A=gi(l);function $(){var G=this&&this!==Ut&&this instanceof $?A:l;return G.apply(S?x:this,arguments)}return $}function Df(l){return function(d){d=At(d);var x=Yo(d)?lr(d):t,S=x?x[0]:d.charAt(0),A=x?Ls(x,1).join(""):d.slice(1);return S[l]()+A}}function go(l){return function(d){return rf(Rw(Pw(d).replace(Mx,"")),l,"")}}function gi(l){return function(){var d=arguments;switch(d.length){case 0:return new l;case 1:return new l(d[0]);case 2:return new l(d[0],d[1]);case 3:return new l(d[0],d[1],d[2]);case 4:return new l(d[0],d[1],d[2],d[3]);case 5:return new l(d[0],d[1],d[2],d[3],d[4]);case 6:return new l(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new l(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var x=si(l.prototype),S=l.apply(x,d);return Qt(S)?S:x}}function Lf(l,d,x){var S=gi(l);function A(){for(var $=arguments.length,G=le($),J=$,ee=$s(A);J--;)G[J]=arguments[J];var xe=$<3&&G[0]!==ee&&G[$-1]!==ee?[]:vr(G,ee);if($-=xe.length,$<x)return Hn(l,d,xi,A.placeholder,t,G,xe,t,t,x-$);var ve=this&&this!==Ut&&this instanceof A?S:l;return Un(ve,this,G)}return A}function xo(l){return function(d,x,S){var A=Tt(d);if(!Rr(d)){var $=et(x,3);d=Ln(d),x=function(J){return $(A[J],J,A)}}var G=l(d,x,S);return G>-1?A[$?d[G]:G]:t}}function vu(l){return xs(function(d){var x=d.length,S=x,A=Tn.prototype.thru;for(l&&d.reverse();S--;){var $=d[S];if(typeof $!="function")throw new yr(u);if(A&&!G&&vi($)=="wrapper")var G=new Tn([],!0)}for(S=G?S:x;++S<x;){$=d[S];var J=vi($),ee=J=="wrapper"?_u($):t;ee&&Dl(ee[0])&&ee[1]==(F|T|I|z)&&!ee[4].length&&ee[9]==1?G=G[vi(ee[0])].apply(G,ee[3]):G=$.length==1&&Dl($)?G[J]():G.thru($)}return function(){var xe=arguments,ve=xe[0];if(G&&xe.length==1&&ut(ve))return G.plant(ve).value();for(var _e=0,Te=x?d[_e].apply(this,xe):ve;++_e<x;)Te=d[_e].call(this,Te);return Te}})}function xi(l,d,x,S,A,$,G,J,ee,xe){var ve=d&F,_e=d&N,Te=d&R,Xe=d&(T|M),at=d&q,mt=Te?t:gi(l);function ot(){for(var yt=arguments.length,jt=le(yt),Yr=yt;Yr--;)jt[Yr]=arguments[Yr];if(Xe)var mr=$s(ot),Jr=zm(jt,mr);if(S&&(jt=mp(jt,S,A,Xe)),$&&(jt=Of(jt,$,G,Xe)),yt-=Jr,Xe&&yt<xe){var dn=vr(jt,mr);return Hn(l,d,xi,ot.placeholder,x,jt,dn,J,ee,xe-yt)}var Bs=_e?x:this,ko=Te?Bs[l]:l;return yt=jt.length,J?jt=Wr(jt,J):at&&yt>1&&jt.reverse(),ve&&ee<yt&&(jt.length=ee),this&&this!==Ut&&this instanceof ot&&(ko=mt||gi(ko)),ko.apply(Bs,jt)}return ot}function pp(l,d){return function(x,S){return Is(x,l,d(S),{})}}function Pl(l,d){return function(x,S){var A;if(x===t&&S===t)return d;if(x!==t&&(A=x),S!==t){if(A===t)return S;typeof x=="string"||typeof S=="string"?(x=tr(x),S=tr(S)):(x=Rf(x),S=Rf(S)),A=l(x,S)}return A}}function yu(l){return xs(function(d){return d=Mt(d,ir(et())),ft(function(x){var S=this;return l(d,function(A){return Un(A,S,x)})})})}function Rl(l,d){d=d===t?" ":tr(d);var x=d.length;if(x<2)return x?mo(d,l):d;var S=mo(d,so(l/no(d)));return Yo(d)?Ls(lr(S),0,l).join(""):S.slice(0,l)}function gp(l,d,x,S){var A=d&N,$=gi(l);function G(){for(var J=-1,ee=arguments.length,xe=-1,ve=S.length,_e=le(ve+ee),Te=this&&this!==Ut&&this instanceof G?$:l;++xe<ve;)_e[xe]=S[xe];for(;ee--;)_e[xe++]=arguments[++J];return Un(Te,A?x:this,_e)}return G}function $f(l){return function(d,x,S){return S&&typeof S!="number"&&Vn(d,x,S)&&(x=S=t),d=No(d),x===t?(x=d,d=0):x=No(x),S=S===t?d<x?1:-1:No(S),Nl(d,x,S,l)}}function wu(l){return function(d,x){return typeof d=="string"&&typeof x=="string"||(d=ys(d),x=ys(x)),l(d,x)}}function Hn(l,d,x,S,A,$,G,J,ee,xe){var ve=d&T,_e=ve?G:t,Te=ve?t:G,Xe=ve?$:t,at=ve?t:$;d|=ve?I:D,d&=~(ve?D:I),d&k||(d&=-4);var mt=[l,d,A,Xe,_e,at,Te,J,ee,xe],ot=x.apply(t,mt);return Dl(l)&&Kf(ot,mt),ot.placeholder=S,Yf(ot,l,d)}function bn(l){var d=tn[l];return function(x,S){if(x=ys(x),S=S==null?0:Rn(ht(S),292),S&&Zo(x)){var A=(At(x)+"e").split("e"),$=d(A[0]+"e"+(+A[1]+S));return A=(At($)+"e").split("e"),+(A[0]+"e"+(+A[1]-S))}return d(x)}}var xp=fa&&1/ua(new fa([,-0]))[1]==be?function(l){return new fa(l)}:Cv;function Ff(l){return function(d){var x=jn(d);return x==xt?Lc(d):x==qt?Gx(d):Wx(d,l(d))}}function gs(l,d,x,S,A,$,G,J){var ee=d&R;if(!ee&&typeof l!="function")throw new yr(u);var xe=S?S.length:0;if(xe||(d&=-97,S=A=t),G=G===t?G:nn(ht(G),0),J=J===t?J:ht(J),xe-=A?A.length:0,d&D){var ve=S,_e=A;S=A=t}var Te=ee?t:_u(l),Xe=[l,d,x,S,A,ve,_e,$,G,J];if(Te&&jp(Xe,Te),l=Xe[0],d=Xe[1],x=Xe[2],S=Xe[3],A=Xe[4],J=Xe[9]=Xe[9]===t?ee?0:l.length:nn(Xe[9]-xe,0),!J&&d&(T|M)&&(d&=-25),!d||d==N)var at=xu(l,d,x);else d==T||d==M?at=Lf(l,d,J):(d==I||d==(N|I))&&!A.length?at=gp(l,d,x,S):at=xi.apply(t,Xe);var mt=Te?cu:Kf;return Yf(mt(at,Xe),l,d)}function zf(l,d,x,S){return l===t||Us(l,as[x])&&!Nt.call(S,x)?d:l}function Uf(l,d,x,S,A,$){return Qt(l)&&Qt(d)&&($.set(d,l),ho(l,d,t,Uf,$),$.delete(d)),l}function Bf(l){return dh(l)?t:l}function Wf(l,d,x,S,A,$){var G=x&E,J=l.length,ee=d.length;if(J!=ee&&!(G&&ee>J))return!1;var xe=$.get(l),ve=$.get(d);if(xe&&ve)return xe==d&&ve==l;var _e=-1,Te=!0,Xe=x&P?new oo:t;for($.set(l,d),$.set(d,l);++_e<J;){var at=l[_e],mt=d[_e];if(S)var ot=G?S(mt,at,_e,d,l,$):S(at,mt,_e,l,d,$);if(ot!==t){if(ot)continue;Te=!1;break}if(Xe){if(!sf(d,function(yt,jt){if(!ks(Xe,jt)&&(at===yt||A(at,yt,x,S,$)))return Xe.push(jt)})){Te=!1;break}}else if(!(at===mt||A(at,mt,x,S,$))){Te=!1;break}}return $.delete(l),$.delete(d),Te}function Hf(l,d,x,S,A,$,G){switch(x){case Ns:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case Ga:return!(l.byteLength!=d.byteLength||!$(new fl(l),new fl(d)));case fe:case Se:case pn:return Us(+l,+d);case Ke:return l.name==d.name&&l.message==d.message;case Lr:case ns:return l==d+"";case xt:var J=Lc;case qt:var ee=S&E;if(J||(J=ua),l.size!=d.size&&!ee)return!1;var xe=G.get(l);if(xe)return xe==d;S|=P,G.set(l,d);var ve=Wf(J(l),J(d),S,A,$,G);return G.delete(l),ve;case Va:if(cr)return cr.call(l)==cr.call(d)}return!1}function vp(l,d,x,S,A,$){var G=x&E,J=Tl(l),ee=J.length,xe=Tl(d),ve=xe.length;if(ee!=ve&&!G)return!1;for(var _e=ee;_e--;){var Te=J[_e];if(!(G?Te in d:Nt.call(d,Te)))return!1}var Xe=$.get(l),at=$.get(d);if(Xe&&at)return Xe==d&&at==l;var mt=!0;$.set(l,d),$.set(d,l);for(var ot=G;++_e<ee;){Te=J[_e];var yt=l[Te],jt=d[Te];if(S)var Yr=G?S(jt,yt,Te,d,l,$):S(yt,jt,Te,l,d,$);if(!(Yr===t?yt===jt||A(yt,jt,x,S,$):Yr)){mt=!1;break}ot||(ot=Te=="constructor")}if(mt&&!ot){var mr=l.constructor,Jr=d.constructor;mr!=Jr&&"constructor"in l&&"constructor"in d&&!(typeof mr=="function"&&mr instanceof mr&&typeof Jr=="function"&&Jr instanceof Jr)&&(mt=!1)}return $.delete(l),$.delete(d),mt}function xs(l){return fr(Nu(l,t,Eu),l+"")}function Tl(l){return ru(l,Ln,Br)}function Al(l){return ru(l,Tr,yp)}var _u=Kc?function(l){return Kc.get(l)}:Cv;function vi(l){for(var d=l.name+"",x=ni[d],S=Nt.call(ni,d)?x.length:0;S--;){var A=x[S],$=A.func;if($==null||$==l)return A.name}return d}function $s(l){var d=Nt.call(L,"placeholder")?L:l;return d.placeholder}function et(){var l=L.iteratee||Nv;return l=l===Nv?ui:l,arguments.length?l(arguments[0],arguments[1]):l}function Il(l,d){var x=l.__data__;return yi(d)?x[typeof d=="string"?"string":"hash"]:x.map}function Ml(l){for(var d=Ln(l),x=d.length;x--;){var S=d[x],A=l[S];d[x]=[S,A,Ll(A)]}return d}function _a(l,d){var x=Ko(l,d);return bf(x)?x:t}function bu(l){var d=Nt.call(l,ro),x=l[ro];try{l[ro]=t;var S=!0}catch{}var A=ul.call(l);return S&&(d?l[ro]=x:delete l[ro]),A}var Br=Vc?function(l){return l==null?[]:(l=Tt(l),la(Vc(l),function(d){return Wc.call(l,d)}))}:Ev,yp=Vc?function(l){for(var d=[];l;)ca(d,Br(l)),l=Fr(l);return d}:Ev,jn=_n;(pl&&jn(new pl(new ArrayBuffer(1)))!=Ns||ao&&jn(new ao)!=xt||gl&&jn(gl.resolve())!=en||fa&&jn(new fa)!=qt||xl&&jn(new xl)!=zo)&&(jn=function(l){var d=_n(l),x=d==Yt?l.constructor:t,S=x?ba(x):"";if(S)switch(S){case gf:return Ns;case ha:return xt;case Qm:return en;case ri:return qt;case os:return zo}return d});function Vf(l,d,x){for(var S=-1,A=x.length;++S<A;){var $=x[S],G=$.size;switch($.type){case"drop":l+=G;break;case"dropRight":d-=G;break;case"take":d=Rn(d,l+G);break;case"takeRight":l=nn(l,d-G);break}}return{start:l,end:d}}function wp(l){var d=l.match(_c);return d?d[1].split(Wd):[]}function Gf(l,d,x){d=ps(d,l);for(var S=-1,A=d.length,$=!1;++S<A;){var G=Vr(d[S]);if(!($=l!=null&&x(l,G)))break;l=l[G]}return $||++S!=A?$:(A=l==null?0:l.length,!!A&&zp(A)&&Wt(G,A)&&(ut(l)||Vl(l)))}function Ol(l){var d=l.length,x=new l.constructor(d);return d&&typeof l[0]=="string"&&Nt.call(l,"index")&&(x.index=l.index,x.input=l.input),x}function Sn(l){return typeof l.constructor=="function"&&!Fs(l)?si(Fr(l)):{}}function ev(l,d,x){var S=l.constructor;switch(d){case Ga:return El(l);case fe:case Se:return new S(+l);case Ns:return up(l,x);case xc:case qa:case Ka:case Od:case vc:case yc:case Dd:case Ki:case Yi:return hp(l,x);case xt:return new S;case pn:case ns:return new S(l);case Lr:return dp(l);case qt:return new S;case Va:return fp(l)}}function tv(l,d){var x=d.length;if(!x)return l;var S=x-1;return d[S]=(x>1?"& ":"")+d[S],d=d.join(x>2?", ":" "),l.replace(wc,`{
/* [wrapped with `+d+`] */
`)}function ju(l){return ut(l)||Vl(l)||!!(Ym&&l&&l[Ym])}function Wt(l,d){var x=typeof l;return d=d??W,!!d&&(x=="number"||x!="symbol"&&vm.test(l))&&l>-1&&l%1==0&&l<d}function Vn(l,d,x){if(!Qt(x))return!1;var S=typeof d;return(S=="number"?Rr(x)&&Wt(d,x.length):S=="string"&&d in x)?Us(x[d],l):!1}function Le(l,d){if(ut(l))return!1;var x=typeof l;return x=="number"||x=="symbol"||x=="boolean"||l==null||Kr(l)?!0:mm.test(l)||!Ud.test(l)||d!=null&&l in Tt(d)}function yi(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function Dl(l){var d=vi(l),x=L[d];if(typeof x!="function"||!(d in ct.prototype))return!1;if(l===x)return!0;var S=_u(x);return!!S&&l===S[0]}function _p(l){return!!zc&&zc in l}var nv=Xo?So:Pv;function Fs(l){var d=l&&l.constructor,x=typeof d=="function"&&d.prototype||as;return l===x}function Ll(l){return l===l&&!Qt(l)}function Su(l,d){return function(x){return x==null?!1:x[l]===d&&(d!==t||l in Tt(x))}}function bp(l){var d=oe(l,function(S){return x.size===p&&x.clear(),S}),x=d.cache;return d}function jp(l,d){var x=l[1],S=d[1],A=x|S,$=A<(N|R|F),G=S==F&&x==T||S==F&&x==z&&l[7].length<=d[8]||S==(F|z)&&d[7].length<=d[8]&&x==T;if(!($||G))return l;S&N&&(l[2]=d[2],A|=x&N?0:k);var J=d[3];if(J){var ee=l[3];l[3]=ee?mp(ee,J,d[4]):J,l[4]=ee?vr(l[3],v):d[4]}return J=d[5],J&&(ee=l[5],l[5]=ee?Of(ee,J,d[6]):J,l[6]=ee?vr(l[5],v):d[6]),J=d[7],J&&(l[7]=J),S&F&&(l[8]=l[8]==null?d[8]:Rn(l[8],d[8])),l[9]==null&&(l[9]=d[9]),l[0]=d[0],l[1]=A,l}function Sp(l){var d=[];if(l!=null)for(var x in Tt(l))d.push(x);return d}function qf(l){return ul.call(l)}function Nu(l,d,x){return d=nn(d===t?l.length-1:d,0),function(){for(var S=arguments,A=-1,$=nn(S.length-d,0),G=le($);++A<$;)G[A]=S[d+A];A=-1;for(var J=le(d+1);++A<d;)J[A]=S[A];return J[d]=x(G),Un(l,this,J)}}function gn(l,d){return d.length<2?l:As(l,Dn(d,0,-1))}function Wr(l,d){for(var x=l.length,S=Rn(d.length,x),A=Wn(l);S--;){var $=d[S];l[S]=Wt($,x)?A[$]:t}return l}function vs(l,d){if(!(d==="constructor"&&typeof l[d]=="function")&&d!="__proto__")return l[d]}var Kf=Hr(cu),wi=mf||function(l,d){return Ut.setTimeout(l,d)},fr=Hr(ms);function Yf(l,d,x){var S=d+"";return fr(l,tv(S,Np(wp(S),x)))}function Hr(l){var d=0,x=0;return function(){var S=Xx(),A=me-(S-x);if(x=S,A>0){if(++d>=ie)return arguments[0]}else d=0;return l.apply(t,arguments)}}function ku(l,d){var x=-1,S=l.length,A=S-1;for(d=d===t?S:d;++x<d;){var $=di(x,A),G=l[$];l[$]=l[x],l[x]=G}return l.length=d,l}var Jf=bp(function(l){var d=[];return l.charCodeAt(0)===46&&d.push(""),l.replace(Ji,function(x,S,A,$){d.push(A?$.replace(Ex,"$1"):S||x)}),d});function Vr(l){if(typeof l=="string"||Kr(l))return l;var d=l+"";return d=="0"&&1/l==-be?"-0":d}function ba(l){if(l!=null){try{return cl.call(l)}catch{}try{return l+""}catch{}}return""}function Np(l,d){return Pn(ae,function(x){var S="_."+x[0];d&x[1]&&!Mc(l,S)&&l.push(S)}),l.sort()}function kp(l){if(l instanceof ct)return l.clone();var d=new Tn(l.__wrapped__,l.__chain__);return d.__actions__=Wn(l.__actions__),d.__index__=l.__index__,d.__values__=l.__values__,d}function Cu(l,d,x){(x?Vn(l,d,x):d===t)?d=1:d=nn(ht(d),0);var S=l==null?0:l.length;if(!S||d<1)return[];for(var A=0,$=0,G=le(so(S/d));A<S;)G[$++]=Dn(l,A,A+=d);return G}function Xf(l){for(var d=-1,x=l==null?0:l.length,S=0,A=[];++d<x;){var $=l[d];$&&(A[S++]=$)}return A}function Er(){var l=arguments.length;if(!l)return[];for(var d=le(l-1),x=arguments[0],S=l;S--;)d[S-1]=arguments[S];return ca(ut(x)?Wn(x):[x],Kt(d,1))}var bt=ft(function(l,d){return un(l)?ds(l,Kt(d,1,un,!0)):[]}),xn=ft(function(l,d){var x=Gn(d);return un(x)&&(x=t),un(l)?ds(l,Kt(d,1,un,!0),et(x,2)):[]}),rn=ft(function(l,d){var x=Gn(d);return un(x)&&(x=t),un(l)?ds(l,Kt(d,1,un,!0),t,x):[]});function Nn(l,d,x){var S=l==null?0:l.length;return S?(d=x||d===t?1:ht(d),Dn(l,d<0?0:d,S)):[]}function hr(l,d,x){var S=l==null?0:l.length;return S?(d=x||d===t?1:ht(d),d=S-d,Dn(l,0,d<0?0:d)):[]}function _i(l,d){return l&&l.length?kl(l,et(d,3),!0,!0):[]}function cn(l,d){return l&&l.length?kl(l,et(d,3),!0):[]}function $l(l,d,x,S){var A=l==null?0:l.length;return A?(x&&typeof x!="number"&&Vn(l,d,x)&&(x=0,S=A),op(l,d,x,S)):[]}function ja(l,d,x){var S=l==null?0:l.length;if(!S)return-1;var A=x==null?0:ht(x);return A<0&&(A=nn(S+A,0)),Oc(l,et(d,3),A)}function Fl(l,d,x){var S=l==null?0:l.length;if(!S)return-1;var A=S-1;return x!==t&&(A=ht(x),A=x<0?nn(S+A,0):Rn(A,S-1)),Oc(l,et(d,3),A,!0)}function Eu(l){var d=l==null?0:l.length;return d?Kt(l,1):[]}function zl(l){var d=l==null?0:l.length;return d?Kt(l,be):[]}function nr(l,d){var x=l==null?0:l.length;return x?(d=d===t?1:ht(d),Kt(l,d)):[]}function Qf(l){for(var d=-1,x=l==null?0:l.length,S={};++d<x;){var A=l[d];S[A[0]]=A[1]}return S}function vo(l){return l&&l.length?l[0]:t}function zs(l,d,x){var S=l==null?0:l.length;if(!S)return-1;var A=x==null?0:ht(x);return A<0&&(A=nn(S+A,0)),qo(l,d,A)}function Pu(l){var d=l==null?0:l.length;return d?Dn(l,0,-1):[]}var Zf=ft(function(l){var d=Mt(l,mi);return d.length&&d[0]===l[0]?su(d):[]}),Sa=ft(function(l){var d=Gn(l),x=Mt(l,mi);return d===Gn(x)?d=t:x.pop(),x.length&&x[0]===l[0]?su(x,et(d,2)):[]}),Ru=ft(function(l){var d=Gn(l),x=Mt(l,mi);return d=typeof d=="function"?d:t,d&&x.pop(),x.length&&x[0]===l[0]?su(x,t,d):[]});function Na(l,d){return l==null?"":Gc.call(l,d)}function Gn(l){var d=l==null?0:l.length;return d?l[d-1]:t}function Ul(l,d,x){var S=l==null?0:l.length;if(!S)return-1;var A=S;return x!==t&&(A=ht(x),A=A<0?nn(S+A,0):Rn(A,S-1)),d===d?qx(l,d,A):Oc(l,Om,A,!0)}function eh(l,d){return l&&l.length?lu(l,ht(d)):t}var Tu=ft(Bl);function Bl(l,d){return l&&l.length&&d&&d.length?Jt(l,d):l}function qn(l,d,x){return l&&l.length&&d&&d.length?Jt(l,d,et(x,2)):l}function ka(l,d,x){return l&&l.length&&d&&d.length?Jt(l,d,t,x):l}var Gr=xs(function(l,d){var x=l==null?0:l.length,S=tu(l,d);return ln(l,Mt(d,function(A){return Wt(A,x)?+A:A}).sort(Mf)),S});function rr(l,d){var x=[];if(!(l&&l.length))return x;var S=-1,A=[],$=l.length;for(d=et(d,3);++S<$;){var G=l[S];d(G,S,l)&&(x.push(G),A.push(S))}return ln(l,A),x}function Au(l){return l==null?l:qc.call(l)}function th(l,d,x){var S=l==null?0:l.length;return S?(x&&typeof x!="number"&&Vn(l,d,x)?(d=0,x=S):(d=d==null?0:ht(d),x=x===t?S:ht(x)),Dn(l,d,x)):[]}function nh(l,d){return fi(l,d)}function rv(l,d,x){return uu(l,d,et(x,2))}function Ca(l,d){var x=l==null?0:l.length;if(x){var S=fi(l,d);if(S<x&&Us(l[S],d))return S}return-1}function Cp(l,d){return fi(l,d,!0)}function rh(l,d,x){return uu(l,d,et(x,2),!0)}function yo(l,d){var x=l==null?0:l.length;if(x){var S=fi(l,d,!0)-1;if(Us(l[S],d))return S}return-1}function sh(l){return l&&l.length?Pf(l):[]}function wo(l,d){return l&&l.length?Pf(l,et(d,2)):[]}function Ep(l){var d=l==null?0:l.length;return d?Dn(l,1,d):[]}function Pp(l,d,x){return l&&l.length?(d=x||d===t?1:ht(d),Dn(l,0,d<0?0:d)):[]}function ah(l,d,x){var S=l==null?0:l.length;return S?(d=x||d===t?1:ht(d),d=S-d,Dn(l,d<0?0:d,S)):[]}function Iu(l,d){return l&&l.length?kl(l,et(d,3),!1,!0):[]}function sv(l,d){return l&&l.length?kl(l,et(d,3)):[]}var av=ft(function(l){return Ds(Kt(l,1,un,!0))}),Rp=ft(function(l){var d=Gn(l);return un(d)&&(d=t),Ds(Kt(l,1,un,!0),et(d,2))}),Tp=ft(function(l){var d=Gn(l);return d=typeof d=="function"?d:t,Ds(Kt(l,1,un,!0),t,d)});function _o(l){return l&&l.length?Ds(l):[]}function ov(l,d){return l&&l.length?Ds(l,et(d,2)):[]}function bi(l,d){return d=typeof d=="function"?d:t,l&&l.length?Ds(l,t,d):[]}function Mu(l){if(!(l&&l.length))return[];var d=0;return l=la(l,function(x){if(un(x))return d=nn(x.length,d),!0}),cf(d,function(x){return Mt(l,of(x))})}function Gt(l,d){if(!(l&&l.length))return[];var x=Mu(l);return d==null?x:Mt(x,function(S){return Un(d,t,S)})}var iv=ft(function(l,d){return un(l)?ds(l,d):[]}),Ap=ft(function(l){return fu(la(l,un))}),lv=ft(function(l){var d=Gn(l);return un(d)&&(d=t),fu(la(l,un),et(d,2))}),cv=ft(function(l){var d=Gn(l);return d=typeof d=="function"?d:t,fu(la(l,un),t,d)}),Ip=ft(Mu);function Mp(l,d){return Cl(l||[],d||[],co)}function uv(l,d){return Cl(l||[],d||[],po)}var Pr=ft(function(l){var d=l.length,x=d>1?l[d-1]:t;return x=typeof x=="function"?(l.pop(),x):t,Gt(l,x)});function Ou(l){var d=L(l);return d.__chain__=!0,d}function dv(l,d){return d(l),l}function qr(l,d){return d(l)}var Du=xs(function(l){var d=l.length,x=d?l[0]:0,S=this.__wrapped__,A=function($){return tu($,l)};return d>1||this.__actions__.length||!(S instanceof ct)||!Wt(x)?this.thru(A):(S=S.slice(x,+x+(d?1:0)),S.__actions__.push({func:qr,args:[A],thisArg:t}),new Tn(S,this.__chain__).thru(function($){return d&&!$.length&&$.push(t),$}))});function bo(){return Ou(this)}function Lu(){return new Tn(this.value(),this.__chain__)}function oh(){this.__values__===t&&(this.__values__=ww(this.value()));var l=this.__index__>=this.__values__.length,d=l?t:this.__values__[this.__index__++];return{done:l,value:d}}function ih(){return this}function fv(l){for(var d,x=this;x instanceof is;){var S=kp(x);S.__index__=0,S.__values__=t,d?A.__wrapped__=S:d=S;var A=S;x=x.__wrapped__}return A.__wrapped__=l,d}function lh(){var l=this.__wrapped__;if(l instanceof ct){var d=l;return this.__actions__.length&&(d=new ct(this)),d=d.reverse(),d.__actions__.push({func:qr,args:[Au],thisArg:t}),new Tn(d,this.__chain__)}return this.thru(Au)}function hv(){return hi(this.__wrapped__,this.__actions__)}var Op=pu(function(l,d,x){Nt.call(l,x)?++l[x]:us(l,x,1)});function Dp(l,d,x){var S=ut(l)?tf:wl;return x&&Vn(l,d,x)&&(d=t),S(l,et(d,3))}function $u(l,d){var x=ut(l)?la:wf;return x(l,et(d,3))}var Fu=xo(ja),Lp=xo(Fl);function ch(l,d){return Kt(jo(l,d),1)}function mv(l,d){return Kt(jo(l,d),be)}function $p(l,d,x){return x=x===t?1:ht(x),Kt(jo(l,d),x)}function zu(l,d){var x=ut(l)?Pn:fs;return x(l,et(d,3))}function Wl(l,d){var x=ut(l)?Ic:ap;return x(l,et(d,3))}var uh=pu(function(l,d,x){Nt.call(l,x)?l[x].push(d):us(l,x,[d])});function Uu(l,d,x,S){l=Rr(l)?l:Hu(l),x=x&&!S?ht(x):0;var A=l.length;return x<0&&(x=nn(A+x,0)),Up(l)?x<=A&&l.indexOf(d,x)>-1:!!A&&qo(l,d,x)>-1}var Fp=ft(function(l,d,x){var S=-1,A=typeof d=="function",$=Rr(l)?le(l.length):[];return fs(l,function(G){$[++S]=A?Un(d,G,x):Sr(G,d,x)}),$}),pv=pu(function(l,d,x){us(l,x,d)});function jo(l,d){var x=ut(l)?Mt:Sf;return x(l,et(d,3))}function gv(l,d,x,S){return l==null?[]:(ut(d)||(d=d==null?[]:[d]),x=S?t:x,ut(x)||(x=x==null?[]:[x]),Sl(l,d,x))}var Hl=pu(function(l,d,x){l[x?0:1].push(d)},function(){return[[],[]]});function xv(l,d,x){var S=ut(l)?rf:Lm,A=arguments.length<3;return S(l,et(d,4),x,A,fs)}function Bu(l,d,x){var S=ut(l)?Fx:Lm,A=arguments.length<3;return S(l,et(d,4),x,A,ap)}function s(l,d){var x=ut(l)?la:wf;return x(l,Ne(et(d,3)))}function i(l){var d=ut(l)?cs:On;return d(l)}function f(l,d,x){(x?Vn(l,d,x):d===t)?d=1:d=ht(d);var S=ut(l)?lo:Cf;return S(l,d)}function g(l){var d=ut(l)?rp:kr;return d(l)}function _(l){if(l==null)return 0;if(Rr(l))return Up(l)?no(l):l.length;var d=jn(l);return d==xt||d==qt?l.size:Os(l).length}function j(l,d,x){var S=ut(l)?sf:Ef;return x&&Vn(l,d,x)&&(d=t),S(l,et(d,3))}var O=ft(function(l,d){if(l==null)return[];var x=d.length;return x>1&&Vn(l,d[0],d[1])?d=[]:x>2&&Vn(d[0],d[1],d[2])&&(d=[d[0]]),Sl(l,Kt(d,1),[])}),H=Dt||function(){return Ut.Date.now()};function Y(l,d){if(typeof d!="function")throw new yr(u);return l=ht(l),function(){if(--l<1)return d.apply(this,arguments)}}function ce(l,d,x){return d=x?t:d,d=l&&d==null?l.length:d,gs(l,F,t,t,t,t,d)}function we(l,d){var x;if(typeof d!="function")throw new yr(u);return l=ht(l),function(){return--l>0&&(x=d.apply(this,arguments)),l<=1&&(d=t),x}}var je=ft(function(l,d,x){var S=N;if(x.length){var A=vr(x,$s(je));S|=I}return gs(l,S,d,x,A)}),ye=ft(function(l,d,x){var S=N|R;if(x.length){var A=vr(x,$s(ye));S|=I}return gs(d,S,l,x,A)});function Me(l,d,x){d=x?t:d;var S=gs(l,T,t,t,t,t,t,d);return S.placeholder=Me.placeholder,S}function Fe(l,d,x){d=x?t:d;var S=gs(l,M,t,t,t,t,t,d);return S.placeholder=Fe.placeholder,S}function Ue(l,d,x){var S,A,$,G,J,ee,xe=0,ve=!1,_e=!1,Te=!0;if(typeof l!="function")throw new yr(u);d=ys(d)||0,Qt(x)&&(ve=!!x.leading,_e="maxWait"in x,$=_e?nn(ys(x.maxWait)||0,d):$,Te="trailing"in x?!!x.trailing:Te);function Xe(dn){var Bs=S,ko=A;return S=A=t,xe=dn,G=l.apply(ko,Bs),G}function at(dn){return xe=dn,J=wi(yt,d),ve?Xe(dn):G}function mt(dn){var Bs=dn-ee,ko=dn-xe,Iw=d-Bs;return _e?Rn(Iw,$-ko):Iw}function ot(dn){var Bs=dn-ee,ko=dn-xe;return ee===t||Bs>=d||Bs<0||_e&&ko>=$}function yt(){var dn=H();if(ot(dn))return jt(dn);J=wi(yt,mt(dn))}function jt(dn){return J=t,Te&&S?Xe(dn):(S=A=t,G)}function Yr(){J!==t&&Af(J),xe=0,S=ee=A=J=t}function mr(){return J===t?G:jt(H())}function Jr(){var dn=H(),Bs=ot(dn);if(S=arguments,A=this,ee=dn,Bs){if(J===t)return at(ee);if(_e)return Af(J),J=wi(yt,d),Xe(ee)}return J===t&&(J=wi(yt,d)),G}return Jr.cancel=Yr,Jr.flush=mr,Jr}var Xt=ft(function(l,d){return yf(l,1,d)}),se=ft(function(l,d,x){return yf(l,ys(d)||0,x)});function Q(l){return gs(l,q)}function oe(l,d){if(typeof l!="function"||d!=null&&typeof d!="function")throw new yr(u);var x=function(){var S=arguments,A=d?d.apply(this,S):S[0],$=x.cache;if($.has(A))return $.get(A);var G=l.apply(this,S);return x.cache=$.set(A,G)||$,G};return x.cache=new(oe.Cache||wr),x}oe.Cache=wr;function Ne(l){if(typeof l!="function")throw new yr(u);return function(){var d=arguments;switch(d.length){case 0:return!l.call(this);case 1:return!l.call(this,d[0]);case 2:return!l.call(this,d[0],d[1]);case 3:return!l.call(this,d[0],d[1],d[2])}return!l.apply(this,d)}}function qe(l){return we(2,l)}var Ze=cp(function(l,d){d=d.length==1&&ut(d[0])?Mt(d[0],ir(et())):Mt(Kt(d,1),ir(et()));var x=d.length;return ft(function(S){for(var A=-1,$=Rn(S.length,x);++A<$;)S[A]=d[A].call(this,S[A]);return Un(l,this,S)})}),Qe=ft(function(l,d){var x=vr(d,$s(Qe));return gs(l,I,t,d,x)}),st=ft(function(l,d){var x=vr(d,$s(st));return gs(l,D,t,d,x)}),vn=xs(function(l,d){return gs(l,z,t,t,t,d)});function kt(l,d){if(typeof l!="function")throw new yr(u);return d=d===t?d:ht(d),ft(l,d)}function Ea(l,d){if(typeof l!="function")throw new yr(u);return d=d==null?0:nn(ht(d),0),ft(function(x){var S=x[d],A=Ls(x,0,d);return S&&ca(A,S),Un(l,this,A)})}function vv(l,d,x){var S=!0,A=!0;if(typeof l!="function")throw new yr(u);return Qt(x)&&(S="leading"in x?!!x.leading:S,A="trailing"in x?!!x.trailing:A),Ue(l,d,{leading:S,maxWait:d,trailing:A})}function S2(l){return ce(l,1)}function N2(l,d){return Qe(hu(d),l)}function k2(){if(!arguments.length)return[];var l=arguments[0];return ut(l)?l:[l]}function C2(l){return er(l,C)}function E2(l,d){return d=typeof d=="function"?d:t,er(l,C,d)}function P2(l){return er(l,y|C)}function R2(l,d){return d=typeof d=="function"?d:t,er(l,y|C,d)}function T2(l,d){return d==null||yl(l,d,Ln(d))}function Us(l,d){return l===d||l!==l&&d!==d}var A2=wu(va),I2=wu(function(l,d){return l>=d}),Vl=au(function(){return arguments}())?au:function(l){return sn(l)&&Nt.call(l,"callee")&&!Wc.call(l,"callee")},ut=le.isArray,M2=Zd?ir(Zd):ip;function Rr(l){return l!=null&&zp(l.length)&&!So(l)}function un(l){return sn(l)&&Rr(l)}function O2(l){return l===!0||l===!1||sn(l)&&_n(l)==fe}var ji=pf||Pv,D2=Jn?ir(Jn):Ms;function L2(l){return sn(l)&&l.nodeType===1&&!dh(l)}function $2(l){if(l==null)return!0;if(Rr(l)&&(ut(l)||typeof l=="string"||typeof l.splice=="function"||ji(l)||Wu(l)||Vl(l)))return!l.length;var d=jn(l);if(d==xt||d==qt)return!l.size;if(Fs(l))return!Os(l).length;for(var x in l)if(Nt.call(l,x))return!1;return!0}function F2(l,d){return Nr(l,d)}function z2(l,d,x){x=typeof x=="function"?x:t;var S=x?x(l,d):t;return S===t?Nr(l,d,t,x):!!S}function yv(l){if(!sn(l))return!1;var d=_n(l);return d==Ke||d==Ee||typeof l.message=="string"&&typeof l.name=="string"&&!dh(l)}function U2(l){return typeof l=="number"&&Zo(l)}function So(l){if(!Qt(l))return!1;var d=_n(l);return d==We||d==rt||d==te||d==Dr}function gw(l){return typeof l=="number"&&l==ht(l)}function zp(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=W}function Qt(l){var d=typeof l;return l!=null&&(d=="object"||d=="function")}function sn(l){return l!=null&&typeof l=="object"}var xw=to?ir(to):lp;function B2(l,d){return l===d||ci(l,d,Ml(d))}function W2(l,d,x){return x=typeof x=="function"?x:t,ci(l,d,Ml(d),x)}function H2(l){return vw(l)&&l!=+l}function V2(l){if(nv(l))throw new it(c);return bf(l)}function G2(l){return l===null}function q2(l){return l==null}function vw(l){return typeof l=="number"||sn(l)&&_n(l)==pn}function dh(l){if(!sn(l)||_n(l)!=Yt)return!1;var d=Fr(l);if(d===null)return!0;var x=Nt.call(d,"constructor")&&d.constructor;return typeof x=="function"&&x instanceof x&&cl.call(x)==Uc}var wv=Ac?ir(Ac):bl;function K2(l){return gw(l)&&l>=-W&&l<=W}var yw=Go?ir(Go):hs;function Up(l){return typeof l=="string"||!ut(l)&&sn(l)&&_n(l)==ns}function Kr(l){return typeof l=="symbol"||sn(l)&&_n(l)==Va}var Wu=Am?ir(Am):jl;function Y2(l){return l===t}function J2(l){return sn(l)&&jn(l)==zo}function X2(l){return sn(l)&&_n(l)==cm}var Q2=wu(ya),Z2=wu(function(l,d){return l<=d});function ww(l){if(!l)return[];if(Rr(l))return Up(l)?lr(l):Wn(l);if(Ps&&l[Ps])return Vx(l[Ps]());var d=jn(l),x=d==xt?Lc:d==qt?ua:Hu;return x(l)}function No(l){if(!l)return l===0?l:0;if(l=ys(l),l===be||l===-be){var d=l<0?-1:1;return d*K}return l===l?l:0}function ht(l){var d=No(l),x=d%1;return d===d?x?d-x:d:0}function _w(l){return l?Ts(ht(l),0,B):0}function ys(l){if(typeof l=="number")return l;if(Kr(l))return ne;if(Qt(l)){var d=typeof l.valueOf=="function"?l.valueOf():l;l=Qt(d)?d+"":d}if(typeof l!="string")return l===0?l:+l;l=$m(l);var x=Px.test(l);return x||xm.test(l)?Rc(l.slice(2),x?2:8):pm.test(l)?ne:+l}function bw(l){return Ur(l,Tr(l))}function eE(l){return l?Ts(ht(l),-W,W):l===0?l:0}function At(l){return l==null?"":tr(l)}var tE=pi(function(l,d){if(Fs(d)||Rr(d)){Ur(d,Ln(d),l);return}for(var x in d)Nt.call(d,x)&&co(l,x,d[x])}),jw=pi(function(l,d){Ur(d,Tr(d),l)}),Bp=pi(function(l,d,x,S){Ur(d,Tr(d),l,S)}),nE=pi(function(l,d,x,S){Ur(d,Ln(d),l,S)}),rE=xs(tu);function sE(l,d){var x=si(l);return d==null?x:$t(x,d)}var aE=ft(function(l,d){l=Tt(l);var x=-1,S=d.length,A=S>2?d[2]:t;for(A&&Vn(d[0],d[1],A)&&(S=1);++x<S;)for(var $=d[x],G=Tr($),J=-1,ee=G.length;++J<ee;){var xe=G[J],ve=l[xe];(ve===t||Us(ve,as[xe])&&!Nt.call(l,xe))&&(l[xe]=$[xe])}return l}),oE=ft(function(l){return l.push(t,Uf),Un(Sw,t,l)});function iE(l,d){return Mm(l,et(d,3),dr)}function lE(l,d){return Mm(l,et(d,3),xa)}function cE(l,d){return l==null?l:nu(l,et(d,3),Tr)}function uE(l,d){return l==null?l:_l(l,et(d,3),Tr)}function dE(l,d){return l&&dr(l,et(d,3))}function fE(l,d){return l&&xa(l,et(d,3))}function hE(l){return l==null?[]:li(l,Ln(l))}function mE(l){return l==null?[]:li(l,Tr(l))}function _v(l,d,x){var S=l==null?t:As(l,d);return S===t?x:S}function pE(l,d){return l!=null&&Gf(l,d,jr)}function bv(l,d){return l!=null&&Gf(l,d,fo)}var gE=pp(function(l,d,x){d!=null&&typeof d.toString!="function"&&(d=ul.call(d)),l[d]=x},Sv(Ar)),xE=pp(function(l,d,x){d!=null&&typeof d.toString!="function"&&(d=ul.call(d)),Nt.call(l,d)?l[d].push(x):l[d]=[x]},et),vE=ft(Sr);function Ln(l){return Rr(l)?ls(l):Os(l)}function Tr(l){return Rr(l)?ls(l,!0):jf(l)}function yE(l,d){var x={};return d=et(d,3),dr(l,function(S,A,$){us(x,d(S,A,$),S)}),x}function wE(l,d){var x={};return d=et(d,3),dr(l,function(S,A,$){us(x,A,d(S,A,$))}),x}var _E=pi(function(l,d,x){ho(l,d,x)}),Sw=pi(function(l,d,x,S){ho(l,d,x,S)}),bE=xs(function(l,d){var x={};if(l==null)return x;var S=!1;d=Mt(d,function($){return $=ps($,l),S||(S=$.length>1),$}),Ur(l,Al(l),x),S&&(x=er(x,y|b|C,Bf));for(var A=d.length;A--;)du(x,d[A]);return x});function jE(l,d){return Nw(l,Ne(et(d)))}var SE=xs(function(l,d){return l==null?{}:kf(l,d)});function Nw(l,d){if(l==null)return{};var x=Mt(Al(l),function(S){return[S]});return d=et(d),wa(l,x,function(S,A){return d(S,A[0])})}function NE(l,d,x){d=ps(d,l);var S=-1,A=d.length;for(A||(A=1,l=t);++S<A;){var $=l==null?t:l[Vr(d[S])];$===t&&(S=A,$=x),l=So($)?$.call(l):$}return l}function kE(l,d,x){return l==null?l:po(l,d,x)}function CE(l,d,x,S){return S=typeof S=="function"?S:t,l==null?l:po(l,d,x,S)}var kw=Ff(Ln),Cw=Ff(Tr);function EE(l,d,x){var S=ut(l),A=S||ji(l)||Wu(l);if(d=et(d,4),x==null){var $=l&&l.constructor;A?x=S?new $:[]:Qt(l)?x=So($)?si(Fr(l)):{}:x={}}return(A?Pn:dr)(l,function(G,J,ee){return d(x,G,J,ee)}),x}function PE(l,d){return l==null?!0:du(l,d)}function RE(l,d,x){return l==null?l:Tf(l,d,hu(x))}function TE(l,d,x,S){return S=typeof S=="function"?S:t,l==null?l:Tf(l,d,hu(x),S)}function Hu(l){return l==null?[]:il(l,Ln(l))}function AE(l){return l==null?[]:il(l,Tr(l))}function IE(l,d,x){return x===t&&(x=d,d=t),x!==t&&(x=ys(x),x=x===x?x:0),d!==t&&(d=ys(d),d=d===d?d:0),Ts(ys(l),d,x)}function ME(l,d,x){return d=No(d),x===t?(x=d,d=0):x=No(x),l=ys(l),_f(l,d,x)}function OE(l,d,x){if(x&&typeof x!="boolean"&&Vn(l,d,x)&&(d=x=t),x===t&&(typeof d=="boolean"?(x=d,d=t):typeof l=="boolean"&&(x=l,l=t)),l===t&&d===t?(l=0,d=1):(l=No(l),d===t?(d=l,l=0):d=No(d)),l>d){var S=l;l=d,d=S}if(x||l%1||d%1){var A=ml();return Rn(l+A*(d-l+Xd("1e-"+((A+"").length-1))),d)}return di(l,d)}var DE=go(function(l,d,x){return d=d.toLowerCase(),l+(x?Ew(d):d)});function Ew(l){return jv(At(l).toLowerCase())}function Pw(l){return l=At(l),l&&l.replace(ym,Um).replace(Em,"")}function LE(l,d,x){l=At(l),d=tr(d);var S=l.length;x=x===t?S:Ts(ht(x),0,S);var A=x;return x-=d.length,x>=0&&l.slice(x,A)==d}function $E(l){return l=At(l),l&&dm.test(l)?l.replace(Ja,Bm):l}function FE(l){return l=At(l),l&&Qi.test(l)?l.replace(Xi,"\\$&"):l}var zE=go(function(l,d,x){return l+(x?"-":"")+d.toLowerCase()}),UE=go(function(l,d,x){return l+(x?" ":"")+d.toLowerCase()}),BE=Df("toLowerCase");function WE(l,d,x){l=At(l),d=ht(d);var S=d?no(l):0;if(!d||S>=d)return l;var A=(d-S)/2;return Rl(da(A),x)+l+Rl(so(A),x)}function HE(l,d,x){l=At(l),d=ht(d);var S=d?no(l):0;return d&&S<d?l+Rl(d-S,x):l}function VE(l,d,x){l=At(l),d=ht(d);var S=d?no(l):0;return d&&S<d?Rl(d-S,x)+l:l}function GE(l,d,x){return x||d==null?d=0:d&&(d=+d),Xm(At(l).replace(Bd,""),d||0)}function qE(l,d,x){return(x?Vn(l,d,x):d===t)?d=1:d=ht(d),mo(At(l),d)}function KE(){var l=arguments,d=At(l[0]);return l.length<3?d:d.replace(l[1],l[2])}var YE=go(function(l,d,x){return l+(x?"_":"")+d.toLowerCase()});function JE(l,d,x){return x&&typeof x!="number"&&Vn(l,d,x)&&(d=x=t),x=x===t?B:x>>>0,x?(l=At(l),l&&(typeof d=="string"||d!=null&&!wv(d))&&(d=tr(d),!d&&Yo(l))?Ls(lr(l),0,x):l.split(d,x)):[]}var XE=go(function(l,d,x){return l+(x?" ":"")+jv(d)});function QE(l,d,x){return l=At(l),x=x==null?0:Ts(ht(x),0,l.length),d=tr(d),l.slice(x,x+d.length)==d}function ZE(l,d,x){var S=L.templateSettings;x&&Vn(l,d,x)&&(d=t),l=At(l),d=Bp({},d,S,zf);var A=Bp({},d.imports,S.imports,zf),$=Ln(A),G=il(A,$),J,ee,xe=0,ve=d.interpolate||bc,_e="__p += '",Te=ll((d.escape||bc).source+"|"+ve.source+"|"+(ve===zd?Xa:bc).source+"|"+(d.evaluate||bc).source+"|$","g"),Xe="//# sourceURL="+(Nt.call(d,"sourceURL")?(d.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Dx+"]")+`
`;l.replace(Te,function(ot,yt,jt,Yr,mr,Jr){return jt||(jt=Yr),_e+=l.slice(xe,Jr).replace(Rx,Wm),yt&&(J=!0,_e+=`' +
__e(`+yt+`) +
'`),mr&&(ee=!0,_e+=`';
`+mr+`;
__p += '`),jt&&(_e+=`' +
((__t = (`+jt+`)) == null ? '' : __t) +
'`),xe=Jr+ot.length,ot}),_e+=`';
`;var at=Nt.call(d,"variable")&&d.variable;if(!at)_e=`with (obj) {
`+_e+`
}
`;else if(Cx.test(at))throw new it(h);_e=(ee?_e.replace(Ld,""):_e).replace($d,"$1").replace(Fd,"$1;"),_e="function("+(at||"obj")+`) {
`+(at?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(J?", __e = _.escape":"")+(ee?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+_e+`return __p
}`;var mt=Tw(function(){return St($,Xe+"return "+_e).apply(t,G)});if(mt.source=_e,yv(mt))throw mt;return mt}function eP(l){return At(l).toLowerCase()}function tP(l){return At(l).toUpperCase()}function nP(l,d,x){if(l=At(l),l&&(x||d===t))return $m(l);if(!l||!(d=tr(d)))return l;var S=lr(l),A=lr(d),$=Fm(S,A),G=uf(S,A)+1;return Ls(S,$,G).join("")}function rP(l,d,x){if(l=At(l),l&&(x||d===t))return l.slice(0,Fc(l)+1);if(!l||!(d=tr(d)))return l;var S=lr(l),A=uf(S,lr(d))+1;return Ls(S,0,A).join("")}function sP(l,d,x){if(l=At(l),l&&(x||d===t))return l.replace(Bd,"");if(!l||!(d=tr(d)))return l;var S=lr(l),A=Fm(S,lr(d));return Ls(S,A).join("")}function aP(l,d){var x=X,S=re;if(Qt(d)){var A="separator"in d?d.separator:A;x="length"in d?ht(d.length):x,S="omission"in d?tr(d.omission):S}l=At(l);var $=l.length;if(Yo(l)){var G=lr(l);$=G.length}if(x>=$)return l;var J=x-no(S);if(J<1)return S;var ee=G?Ls(G,0,J).join(""):l.slice(0,J);if(A===t)return ee+S;if(G&&(J+=ee.length-J),wv(A)){if(l.slice(J).search(A)){var xe,ve=ee;for(A.global||(A=ll(A.source,At(Hd.exec(A))+"g")),A.lastIndex=0;xe=A.exec(ve);)var _e=xe.index;ee=ee.slice(0,_e===t?J:_e)}}else if(l.indexOf(tr(A),J)!=J){var Te=ee.lastIndexOf(A);Te>-1&&(ee=ee.slice(0,Te))}return ee+S}function oP(l){return l=At(l),l&&um.test(l)?l.replace(Ya,Hm):l}var iP=go(function(l,d,x){return l+(x?" ":"")+d.toUpperCase()}),jv=Df("toUpperCase");function Rw(l,d,x){return l=At(l),d=x?t:d,d===t?Hx(l)?Kx(l):Ux(l):l.match(d)||[]}var Tw=ft(function(l,d){try{return Un(l,t,d)}catch(x){return yv(x)?x:new it(x)}}),lP=xs(function(l,d){return Pn(d,function(x){x=Vr(x),us(l,x,je(l[x],l))}),l});function cP(l){var d=l==null?0:l.length,x=et();return l=d?Mt(l,function(S){if(typeof S[1]!="function")throw new yr(u);return[x(S[0]),S[1]]}):[],ft(function(S){for(var A=-1;++A<d;){var $=l[A];if(Un($[0],this,S))return Un($[1],this,S)}})}function uP(l){return sp(er(l,y))}function Sv(l){return function(){return l}}function dP(l,d){return l==null||l!==l?d:l}var fP=vu(),hP=vu(!0);function Ar(l){return l}function Nv(l){return ui(typeof l=="function"?l:er(l,y))}function mP(l){return iu(er(l,y))}function pP(l,d){return Bt(l,er(d,y))}var gP=ft(function(l,d){return function(x){return Sr(x,l,d)}}),xP=ft(function(l,d){return function(x){return Sr(l,x,d)}});function kv(l,d,x){var S=Ln(d),A=li(d,S);x==null&&!(Qt(d)&&(A.length||!S.length))&&(x=d,d=l,l=this,A=li(d,Ln(d)));var $=!(Qt(x)&&"chain"in x)||!!x.chain,G=So(l);return Pn(A,function(J){var ee=d[J];l[J]=ee,G&&(l.prototype[J]=function(){var xe=this.__chain__;if($||xe){var ve=l(this.__wrapped__),_e=ve.__actions__=Wn(this.__actions__);return _e.push({func:ee,args:arguments,thisArg:l}),ve.__chain__=xe,ve}return ee.apply(l,ca([this.value()],arguments))})}),l}function vP(){return Ut._===this&&(Ut._=qm),this}function Cv(){}function yP(l){return l=ht(l),ft(function(d){return lu(d,l)})}var wP=yu(Mt),_P=yu(tf),bP=yu(sf);function Aw(l){return Le(l)?of(Vr(l)):Vt(l)}function jP(l){return function(d){return l==null?t:As(l,d)}}var SP=$f(),NP=$f(!0);function Ev(){return[]}function Pv(){return!1}function kP(){return{}}function CP(){return""}function EP(){return!0}function PP(l,d){if(l=ht(l),l<1||l>W)return[];var x=B,S=Rn(l,B);d=et(d),l-=B;for(var A=cf(S,d);++x<l;)d(x);return A}function RP(l){return ut(l)?Mt(l,Vr):Kr(l)?[l]:Wn(Jf(At(l)))}function TP(l){var d=++Qo;return At(l)+d}var AP=Pl(function(l,d){return l+d},0),IP=bn("ceil"),MP=Pl(function(l,d){return l/d},1),OP=bn("floor");function DP(l){return l&&l.length?uo(l,Ar,va):t}function LP(l,d){return l&&l.length?uo(l,et(d,2),va):t}function $P(l){return Dm(l,Ar)}function FP(l,d){return Dm(l,et(d,2))}function zP(l){return l&&l.length?uo(l,Ar,ya):t}function UP(l,d){return l&&l.length?uo(l,et(d,2),ya):t}var BP=Pl(function(l,d){return l*d},1),WP=bn("round"),HP=Pl(function(l,d){return l-d},0);function VP(l){return l&&l.length?lf(l,Ar):0}function GP(l,d){return l&&l.length?lf(l,et(d,2)):0}return L.after=Y,L.ary=ce,L.assign=tE,L.assignIn=jw,L.assignInWith=Bp,L.assignWith=nE,L.at=rE,L.before=we,L.bind=je,L.bindAll=lP,L.bindKey=ye,L.castArray=k2,L.chain=Ou,L.chunk=Cu,L.compact=Xf,L.concat=Er,L.cond=cP,L.conforms=uP,L.constant=Sv,L.countBy=Op,L.create=sE,L.curry=Me,L.curryRight=Fe,L.debounce=Ue,L.defaults=aE,L.defaultsDeep=oE,L.defer=Xt,L.delay=se,L.difference=bt,L.differenceBy=xn,L.differenceWith=rn,L.drop=Nn,L.dropRight=hr,L.dropRightWhile=_i,L.dropWhile=cn,L.fill=$l,L.filter=$u,L.flatMap=ch,L.flatMapDeep=mv,L.flatMapDepth=$p,L.flatten=Eu,L.flattenDeep=zl,L.flattenDepth=nr,L.flip=Q,L.flow=fP,L.flowRight=hP,L.fromPairs=Qf,L.functions=hE,L.functionsIn=mE,L.groupBy=uh,L.initial=Pu,L.intersection=Zf,L.intersectionBy=Sa,L.intersectionWith=Ru,L.invert=gE,L.invertBy=xE,L.invokeMap=Fp,L.iteratee=Nv,L.keyBy=pv,L.keys=Ln,L.keysIn=Tr,L.map=jo,L.mapKeys=yE,L.mapValues=wE,L.matches=mP,L.matchesProperty=pP,L.memoize=oe,L.merge=_E,L.mergeWith=Sw,L.method=gP,L.methodOf=xP,L.mixin=kv,L.negate=Ne,L.nthArg=yP,L.omit=bE,L.omitBy=jE,L.once=qe,L.orderBy=gv,L.over=wP,L.overArgs=Ze,L.overEvery=_P,L.overSome=bP,L.partial=Qe,L.partialRight=st,L.partition=Hl,L.pick=SE,L.pickBy=Nw,L.property=Aw,L.propertyOf=jP,L.pull=Tu,L.pullAll=Bl,L.pullAllBy=qn,L.pullAllWith=ka,L.pullAt=Gr,L.range=SP,L.rangeRight=NP,L.rearg=vn,L.reject=s,L.remove=rr,L.rest=kt,L.reverse=Au,L.sampleSize=f,L.set=kE,L.setWith=CE,L.shuffle=g,L.slice=th,L.sortBy=O,L.sortedUniq=sh,L.sortedUniqBy=wo,L.split=JE,L.spread=Ea,L.tail=Ep,L.take=Pp,L.takeRight=ah,L.takeRightWhile=Iu,L.takeWhile=sv,L.tap=dv,L.throttle=vv,L.thru=qr,L.toArray=ww,L.toPairs=kw,L.toPairsIn=Cw,L.toPath=RP,L.toPlainObject=bw,L.transform=EE,L.unary=S2,L.union=av,L.unionBy=Rp,L.unionWith=Tp,L.uniq=_o,L.uniqBy=ov,L.uniqWith=bi,L.unset=PE,L.unzip=Mu,L.unzipWith=Gt,L.update=RE,L.updateWith=TE,L.values=Hu,L.valuesIn=AE,L.without=iv,L.words=Rw,L.wrap=N2,L.xor=Ap,L.xorBy=lv,L.xorWith=cv,L.zip=Ip,L.zipObject=Mp,L.zipObjectDeep=uv,L.zipWith=Pr,L.entries=kw,L.entriesIn=Cw,L.extend=jw,L.extendWith=Bp,kv(L,L),L.add=AP,L.attempt=Tw,L.camelCase=DE,L.capitalize=Ew,L.ceil=IP,L.clamp=IE,L.clone=C2,L.cloneDeep=P2,L.cloneDeepWith=R2,L.cloneWith=E2,L.conformsTo=T2,L.deburr=Pw,L.defaultTo=dP,L.divide=MP,L.endsWith=LE,L.eq=Us,L.escape=$E,L.escapeRegExp=FE,L.every=Dp,L.find=Fu,L.findIndex=ja,L.findKey=iE,L.findLast=Lp,L.findLastIndex=Fl,L.findLastKey=lE,L.floor=OP,L.forEach=zu,L.forEachRight=Wl,L.forIn=cE,L.forInRight=uE,L.forOwn=dE,L.forOwnRight=fE,L.get=_v,L.gt=A2,L.gte=I2,L.has=pE,L.hasIn=bv,L.head=vo,L.identity=Ar,L.includes=Uu,L.indexOf=zs,L.inRange=ME,L.invoke=vE,L.isArguments=Vl,L.isArray=ut,L.isArrayBuffer=M2,L.isArrayLike=Rr,L.isArrayLikeObject=un,L.isBoolean=O2,L.isBuffer=ji,L.isDate=D2,L.isElement=L2,L.isEmpty=$2,L.isEqual=F2,L.isEqualWith=z2,L.isError=yv,L.isFinite=U2,L.isFunction=So,L.isInteger=gw,L.isLength=zp,L.isMap=xw,L.isMatch=B2,L.isMatchWith=W2,L.isNaN=H2,L.isNative=V2,L.isNil=q2,L.isNull=G2,L.isNumber=vw,L.isObject=Qt,L.isObjectLike=sn,L.isPlainObject=dh,L.isRegExp=wv,L.isSafeInteger=K2,L.isSet=yw,L.isString=Up,L.isSymbol=Kr,L.isTypedArray=Wu,L.isUndefined=Y2,L.isWeakMap=J2,L.isWeakSet=X2,L.join=Na,L.kebabCase=zE,L.last=Gn,L.lastIndexOf=Ul,L.lowerCase=UE,L.lowerFirst=BE,L.lt=Q2,L.lte=Z2,L.max=DP,L.maxBy=LP,L.mean=$P,L.meanBy=FP,L.min=zP,L.minBy=UP,L.stubArray=Ev,L.stubFalse=Pv,L.stubObject=kP,L.stubString=CP,L.stubTrue=EP,L.multiply=BP,L.nth=eh,L.noConflict=vP,L.noop=Cv,L.now=H,L.pad=WE,L.padEnd=HE,L.padStart=VE,L.parseInt=GE,L.random=OE,L.reduce=xv,L.reduceRight=Bu,L.repeat=qE,L.replace=KE,L.result=NE,L.round=WP,L.runInContext=Z,L.sample=i,L.size=_,L.snakeCase=YE,L.some=j,L.sortedIndex=nh,L.sortedIndexBy=rv,L.sortedIndexOf=Ca,L.sortedLastIndex=Cp,L.sortedLastIndexBy=rh,L.sortedLastIndexOf=yo,L.startCase=XE,L.startsWith=QE,L.subtract=HP,L.sum=VP,L.sumBy=GP,L.template=ZE,L.times=PP,L.toFinite=No,L.toInteger=ht,L.toLength=_w,L.toLower=eP,L.toNumber=ys,L.toSafeInteger=eE,L.toString=At,L.toUpper=tP,L.trim=nP,L.trimEnd=rP,L.trimStart=sP,L.truncate=aP,L.unescape=oP,L.uniqueId=TP,L.upperCase=iP,L.upperFirst=jv,L.each=zu,L.eachRight=Wl,L.first=vo,kv(L,function(){var l={};return dr(L,function(d,x){Nt.call(L.prototype,x)||(l[x]=d)}),l}(),{chain:!1}),L.VERSION=r,Pn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(l){L[l].placeholder=L}),Pn(["drop","take"],function(l,d){ct.prototype[l]=function(x){x=x===t?1:nn(ht(x),0);var S=this.__filtered__&&!d?new ct(this):this.clone();return S.__filtered__?S.__takeCount__=Rn(x,S.__takeCount__):S.__views__.push({size:Rn(x,B),type:l+(S.__dir__<0?"Right":"")}),S},ct.prototype[l+"Right"]=function(x){return this.reverse()[l](x).reverse()}}),Pn(["filter","map","takeWhile"],function(l,d){var x=d+1,S=x==pe||x==ge;ct.prototype[l]=function(A){var $=this.clone();return $.__iteratees__.push({iteratee:et(A,3),type:x}),$.__filtered__=$.__filtered__||S,$}}),Pn(["head","last"],function(l,d){var x="take"+(d?"Right":"");ct.prototype[l]=function(){return this[x](1).value()[0]}}),Pn(["initial","tail"],function(l,d){var x="drop"+(d?"":"Right");ct.prototype[l]=function(){return this.__filtered__?new ct(this):this[x](1)}}),ct.prototype.compact=function(){return this.filter(Ar)},ct.prototype.find=function(l){return this.filter(l).head()},ct.prototype.findLast=function(l){return this.reverse().find(l)},ct.prototype.invokeMap=ft(function(l,d){return typeof l=="function"?new ct(this):this.map(function(x){return Sr(x,l,d)})}),ct.prototype.reject=function(l){return this.filter(Ne(et(l)))},ct.prototype.slice=function(l,d){l=ht(l);var x=this;return x.__filtered__&&(l>0||d<0)?new ct(x):(l<0?x=x.takeRight(-l):l&&(x=x.drop(l)),d!==t&&(d=ht(d),x=d<0?x.dropRight(-d):x.take(d-l)),x)},ct.prototype.takeRightWhile=function(l){return this.reverse().takeWhile(l).reverse()},ct.prototype.toArray=function(){return this.take(B)},dr(ct.prototype,function(l,d){var x=/^(?:filter|find|map|reject)|While$/.test(d),S=/^(?:head|last)$/.test(d),A=L[S?"take"+(d=="last"?"Right":""):d],$=S||/^find/.test(d);A&&(L.prototype[d]=function(){var G=this.__wrapped__,J=S?[1]:arguments,ee=G instanceof ct,xe=J[0],ve=ee||ut(G),_e=function(yt){var jt=A.apply(L,ca([yt],J));return S&&Te?jt[0]:jt};ve&&x&&typeof xe=="function"&&xe.length!=1&&(ee=ve=!1);var Te=this.__chain__,Xe=!!this.__actions__.length,at=$&&!Te,mt=ee&&!Xe;if(!$&&ve){G=mt?G:new ct(this);var ot=l.apply(G,J);return ot.__actions__.push({func:qr,args:[_e],thisArg:t}),new Tn(ot,Te)}return at&&mt?l.apply(this,J):(ot=this.thru(_e),at?S?ot.value()[0]:ot.value():ot)})}),Pn(["pop","push","shift","sort","splice","unshift"],function(l){var d=Cs[l],x=/^(?:push|sort|unshift)$/.test(l)?"tap":"thru",S=/^(?:pop|shift)$/.test(l);L.prototype[l]=function(){var A=arguments;if(S&&!this.__chain__){var $=this.value();return d.apply(ut($)?$:[],A)}return this[x](function(G){return d.apply(ut(G)?G:[],A)})}}),dr(ct.prototype,function(l,d){var x=L[d];if(x){var S=x.name+"";Nt.call(ni,S)||(ni[S]=[]),ni[S].push({name:d,func:x})}}),ni[xi(t,R).name]=[{name:"wrapper",func:t}],ct.prototype.clone=Jc,ct.prototype.reverse=xf,ct.prototype.value=ai,L.prototype.at=Du,L.prototype.chain=bo,L.prototype.commit=Lu,L.prototype.next=oh,L.prototype.plant=fv,L.prototype.reverse=lh,L.prototype.toJSON=L.prototype.valueOf=L.prototype.value=hv,L.prototype.first=L.prototype.head,Ps&&(L.prototype[Ps]=ih),L},Jo=Yx();ss?((ss.exports=Jo)._=Jo,ol._=Jo):Ut._=Jo}).call(oU)}(kh,kh.exports)),kh.exports}var lU=iU();function Md({bookingToEdit:n,selectedCell:e,allBookings:t,rooms:r,services:o,onClose:c,onBookingSaved:u}){var B;const{t:h,currentLanguage:m,formatCurrency:p}=es("booking"),v=[{value:"Direct",label:h("sources.direct")},{value:"Booking.com",label:"Booking.com"},{value:"Airbnb",label:"Airbnb"},{value:"site",label:h("sources.website")},{value:"ai_agent",label:h("sources.aiAgent")},{value:"phone",label:h("sources.phone")},{value:"other",label:h("sources.other")},{value:"Expedia",label:"Expedia"},{value:"Open Channel",label:"Open Channel"}],y=[{value:"pending",label:h("status.pending")},{value:"confirmed",label:h("status.confirmed")},{value:"checked_in",label:h("status.checkedIn")},{value:"checked_out",label:h("status.checkedOut")},{value:"cancelled",label:h("status.cancelled")}],[b,C]=w.useState({}),[E,P]=w.useState([]),[N,R]=w.useState([]),[k,T]=w.useState(!1),[M,I]=w.useState("");w.useEffect(()=>{var V,ae,ue;console.log("🚀 Initializing modal with:",{bookingToEdit:n,selectedCell:e});const U=n?{...n,room_id:String(n.room_id),check_in:$e(_t(n.check_in),"yyyy-MM-dd"),check_out:$e(_t(n.check_out),"yyyy-MM-dd"),guest_name:((V=n.guests)==null?void 0:V.full_name)||"",guest_phone:((ae=n.guests)==null?void 0:ae.phone)||"",guest_email:((ue=n.guests)==null?void 0:ue.email)||"",guests_count:n.guests_count||n.guest_count||1}:{source:"direct",status:"pending",guests_count:1,amount_paid:0,notes:"",room_id:String((e==null?void 0:e.roomId)||(r.length>0?r[0].id:"")),check_in:$e((e==null?void 0:e.checkIn)||new Date,"yyyy-MM-dd"),check_out:$e((e==null?void 0:e.checkOut)||new Date,"yyyy-MM-dd"),guest_name:"",guest_phone:"",guest_email:""};C(U),n!=null&&n.booking_services?(console.log("📋 Loading existing services:",n.booking_services),R(n.booking_services)):R([]),P([]),I("")},[n,e,r]),w.useEffect(()=>{n&&b.booking_services&&JSON.stringify(b.booking_services)!==JSON.stringify(N)&&(console.log("🔄 Updating services from formData:",b.booking_services),R(b.booking_services))},[b.booking_services,n,N]);const{accommodationTotal:D,servicesTotal:F,totalAmount:z,nights:q}=w.useMemo(()=>{const U=r.find(We=>We.id===b.room_id),V=(U==null?void 0:U.price_per_night)||0,ae=b.check_in?new Date(b.check_in):null,ue=b.check_out?new Date(b.check_out):null,he=ae&&ue&&ue>ae?Hy(ue,ae):0,te=he*V,fe=E.reduce((We,rt)=>We+(rt.price_at_booking||0)*rt.quantity,0),Se=N.reduce((We,rt)=>We+(rt.price_at_booking||0)*rt.quantity,0),Ee=fe+Se,Ke=te+Ee;return{accommodationTotal:te,servicesTotal:Ee,totalAmount:Ke,nights:he}},[b.check_in,b.check_out,b.room_id,E,N,r]),X=w.useMemo(()=>{if(!b.check_in||!b.check_out)return r;const U=new Date(b.check_in),V=new Date(b.check_out);if(V<=U)return r;const ae=(t||[]).filter(ue=>{if(n&&ue.id===n.id||ue.status==="cancelled"||!ue.check_in||!ue.check_out)return!1;const he=new Date(ue.check_in),te=new Date(ue.check_out);return U<te&&V>he}).map(ue=>ue.room_id);return r.filter(ue=>!ae.includes(ue.id))},[b.check_in,b.check_out,t,r,n]),re=w.useMemo(()=>lU.groupBy(o,"category"),[o]),ie=(U,V)=>{console.log(`📝 Field changed: ${U} = ${V}`),C(ae=>({...ae,[U]:V}))},me=async U=>{U.preventDefault(),T(!0),I("");try{if(!b.guest_name.trim())throw new Error(h("errors.guestNameRequired"));if(console.log("💾 Saving booking with data:",b),n){const V={full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},ae={source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:D,services_total:N.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0),total_amount:D+N.reduce((te,fe)=>te+(fe.price_at_booking||0)*fe.quantity,0)};console.log("🔄 Updating guest:",V);const{error:ue}=await eU(n.guest_id,V);if(ue)throw ue;console.log("🔄 Updating booking:",ae);const{error:he}=await uw(n.id,ae);if(he)throw he}else{const V={guest_details:{full_name:b.guest_name.trim(),phone:b.guest_phone.trim(),email:b.guest_email.trim()},source:b.source,check_in:b.check_in,check_out:b.check_out,room_id:b.room_id,status:b.status,guests_count:parseInt(b.guests_count,10),amount_paid:parseFloat(b.amount_paid)||0,notes:b.notes,accommodation_total:D,services_total:0,total_amount:D};console.log("🆕 Creating booking:",V);const ae=await Zz(V);if(ae.error)throw ae.error}console.log("✅ Booking saved successfully"),u()}catch(V){console.error("❌ Error saving booking:",V),I(V.message)}finally{T(!1)}},pe=async()=>{var U;if(window.confirm(h("messages.confirmDelete"))){console.log("🗑️ Starting delete process for booking:",{id:n.id,guest:(U=n.guests)==null?void 0:U.full_name,room_id:n.room_id,status:n.status}),T(!0),I("");try{console.log("📡 Calling deleteBooking API...");const{error:V}=await tU(n.id);if(V)throw V;console.log("✅ Booking deleted successfully, calling onBookingSaved..."),u(),console.log("✅ Delete process completed successfully")}catch(V){console.error("❌ Error deleting booking:",V),I(V.message)}finally{T(!1)}}},ke=U=>{if(console.log("🛒 Adding service to cart:",U),E.find(V=>V.service_id===U.id)){console.log("⚠️ Service already in cart");return}P(V=>[...V,{service_id:U.id,name:U.name,quantity:1,price_at_booking:U.price}])},ge=U=>{console.log("🗑️ Removing service from cart:",U),P(V=>V.filter(ae=>ae.service_id!==U))},be=(U,V,ae)=>{console.log(`📝 Cart service changed: ${U}.${V} = ${ae}`),P(ue=>ue.map(he=>he.service_id===U?{...he,[V]:ae}:he))},W=async()=>{if(!n||E.length===0){console.log("⚠️ No booking to edit or empty cart");return}T(!0),I("");try{console.log("💾 Adding services to booking:",{bookingId:n.id,services:E}),await nU(n.id,E),console.log("✅ Services added successfully"),P([]),u()}catch(U){console.error("❌ Error adding services:",U),I(U.message||"Ошибка при добавлении услуг")}finally{T(!1)}},K=async U=>{T(!0),I("");try{console.log("🗑️ Removing booked service:",U);const V=await rU(U);if(V.error)throw V.error;console.log("✅ Service removed successfully"),u()}catch(V){console.error("❌ Error removing service:",V),I(V.message||"Ошибка при удалении услуги")}finally{T(!1)}},ne=m==="ru"?"RUB":"USD";return a.jsx(Zy,{open:!0,onOpenChange:c,children:a.jsxs(vx,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(yx,{children:[a.jsx(wx,{className:"text-xl font-semibold",children:n?`${h("editTitle")} №${(B=n.id)==null?void 0:B.substring(0,8)}`:h("title")}),a.jsx(tw,{children:n?"Редактирование существующей брони":"Создание новой брони"})]}),a.jsxs(Rd,{defaultValue:"details",children:[a.jsxs(mc,{className:"grid w-full grid-cols-2",children:[a.jsx(fn,{value:"details",children:h("tabs.details")}),a.jsx(fn,{value:"services",disabled:!n,children:h("tabs.services")})]}),a.jsx(hn,{value:"details",children:a.jsxs("form",{onSubmit:me,className:"space-y-6 p-1",children:[M&&a.jsxs(js,{variant:"destructive",children:[a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:M})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center",children:[a.jsx(Xs,{className:"mr-2 h-5 w-5"}),h("guest.title")]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:h("guest.fullName")}),a.jsx(Oe,{value:b.guest_name||"",onChange:U=>ie("guest_name",U.target.value),required:!0})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("guest.phone")}),a.jsx(Oe,{value:b.guest_phone||"",onChange:U=>ie("guest_phone",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("guest.email")}),a.jsx(Oe,{type:"email",value:b.guest_email||"",onChange:U=>ie("guest_email",U.target.value)})]})]})]})}),a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center",children:[a.jsx(Ng,{className:"mr-2 h-5 w-5"}),h("details.title")]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:h("details.room")}),a.jsxs(Ma,{value:b.room_id||"",onValueChange:U=>ie("room_id",U),children:[a.jsx(Gs,{children:a.jsx(Oa,{placeholder:h("details.selectRoom")})}),a.jsxs(qs,{children:[X.map(U=>a.jsxs(Ft,{value:String(U.id),children:[U.room_number," (",U.room_type,")"]},U.id)),X.length===0&&a.jsx("div",{className:"p-2 text-sm text-slate-500",children:h("details.noAvailableRooms")})]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{children:h("details.checkIn")}),a.jsx(Oe,{type:"date",value:b.check_in||"",onChange:U=>ie("check_in",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("details.checkOut")}),a.jsx(Oe,{type:"date",value:b.check_out||"",onChange:U=>ie("check_out",U.target.value)})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("details.guestCount")}),a.jsx(Oe,{type:"number",min:"1",value:b.guests_count||1,onChange:U=>ie("guests_count",U.target.value)})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("details.status")}),a.jsxs(Ma,{value:b.status||"pending",onValueChange:U=>ie("status",U),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsx(qs,{children:y.map(U=>a.jsx(Ft,{value:U.value,children:U.label},U.value))})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("details.source")}),a.jsxs(Ma,{value:b.source||"direct",onValueChange:U=>ie("source",U),children:[a.jsx(Gs,{children:a.jsx(Oa,{})}),a.jsx(qs,{children:v.map(U=>a.jsx(Ft,{value:U.value,children:U.label},U.value))})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("details.notes")}),a.jsx(om,{value:b.notes||"",onChange:U=>ie("notes",U.target.value),placeholder:h("details.notesPlaceholder")})]})]})]})}),a.jsx("div",{className:"md:col-span-1 space-y-4",children:a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:h("finance.title")})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"p-4 bg-slate-50 rounded-lg space-y-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:h("finance.accommodation",{nights:q})}),a.jsx("span",{className:"font-medium",children:p(D,ne)})]}),a.jsx("div",{className:"font-medium mt-2",children:h("finance.orderedServices")}),N.length>0?N.map(U=>{var V;return a.jsxs("div",{className:"flex justify-between pl-2",children:[a.jsxs("span",{children:[((V=U.services)==null?void 0:V.name)||U.name," x ",U.quantity]}),a.jsx("span",{children:p(U.price_at_booking*U.quantity,ne)})]},U.id)}):null,E.length>0&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"text-xs text-blue-600 font-medium mt-2",children:"В корзине:"}),E.map(U=>a.jsxs("div",{className:"flex justify-between pl-2 text-blue-600",children:[a.jsxs("span",{children:[U.name," x ",U.quantity]}),a.jsx("span",{children:p(U.price_at_booking*U.quantity,ne)})]},U.service_id))]}),N.length===0&&E.length===0&&a.jsx("p",{className:"text-slate-500 pl-2",children:h("finance.noServices")}),a.jsxs("div",{className:"flex justify-between text-lg font-bold border-t pt-2 mt-2",children:[a.jsx("span",{children:h("finance.total")}),a.jsx("span",{children:p(z,ne)})]})]}),a.jsxs("div",{children:[a.jsx(ze,{children:h("finance.paid")}),a.jsx(Oe,{type:"number",value:b.amount_paid||0,onChange:U=>ie("amount_paid",U.target.value),placeholder:"0"})]}),a.jsx("div",{className:"p-4 bg-red-50 rounded-lg text-red-800",children:a.jsxs("div",{className:"flex justify-between font-bold text-lg",children:[a.jsx("span",{children:h("finance.balance")}),a.jsx("span",{children:p(z-(b.amount_paid||0),ne)})]})})]})]})})]}),a.jsxs(ew,{children:[n&&a.jsxs(De,{type:"button",variant:"destructive",onClick:pe,disabled:k,className:"mr-auto",children:[a.jsx(Kv,{className:"h-4 w-4 mr-2"}),h("actions.delete")]}),a.jsx(De,{type:"button",variant:"ghost",onClick:c,children:h("actions.cancel")}),a.jsx(De,{type:"submit",disabled:k,children:h(k?"actions.saving":"actions.save")})]})]})}),a.jsx(hn,{value:"services",children:a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:h("services.available")})}),a.jsx(Re,{className:"space-y-2 max-h-96 overflow-y-auto",children:a.jsx(Qz,{type:"multiple",defaultValue:Object.keys(re),children:Object.entries(re).map(([U,V])=>a.jsxs(VC,{value:U,children:[a.jsx(GC,{children:U}),a.jsx(qC,{children:V.map(ae=>a.jsxs("div",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-slate-50",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ae.name}),a.jsx("p",{className:"text-sm text-slate-500",children:p(ae.price,ne)})]}),a.jsxs(De,{size:"sm",variant:"outline",onClick:()=>ke(ae),disabled:k||E.find(ue=>ue.service_id===ae.id),children:[a.jsx(yD,{className:"h-4 w-4 mr-2"}),h("services.addToCart")]})]},ae.id))})]},U))})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:h("services.cart")})}),a.jsxs(Re,{className:"space-y-2 max-h-96 overflow-y-auto",children:[E.length>0?E.map(U=>a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:U.name}),a.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[a.jsx(Oe,{type:"number",min:"1",value:U.quantity,onChange:V=>be(U.service_id,"quantity",parseInt(V.target.value)||1),className:"w-16 h-8"}),a.jsx(Oe,{type:"number",min:"0",step:"0.01",value:U.price_at_booking,onChange:V=>be(U.service_id,"price_at_booking",parseFloat(V.target.value)||0),className:"w-24 h-8"})]})]}),a.jsx(De,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>ge(U.service_id),children:a.jsx(Kv,{className:"h-4 w-4"})})]},U.service_id)):a.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.cartEmpty")}),E.length>0&&a.jsx(De,{onClick:W,disabled:k,className:"w-full mt-4",children:h(k?"actions.saving":"services.addSelected")})]}),a.jsx(Ye,{children:a.jsx(Je,{children:h("services.ordered")})}),a.jsx(Re,{className:"space-y-2 max-h-96 overflow-y-auto",children:N.length>0?N.map(U=>{var V;return a.jsxs("div",{className:"flex items-center justify-between p-2 border rounded-lg",children:[a.jsxs("div",{children:[a.jsxs("p",{children:[((V=U.services)==null?void 0:V.name)||U.name," x ",U.quantity]}),a.jsx("p",{className:"text-sm text-slate-500",children:p(U.price_at_booking*U.quantity,ne)})]}),a.jsx(De,{size:"icon",variant:"ghost",className:"text-red-500",onClick:()=>K(U.id),disabled:k,children:a.jsx(Kv,{className:"h-4 w-4"})})]},U.id)}):a.jsx("p",{className:"text-slate-500 text-center py-4",children:h("services.noOrdered")})})]})]})})]})]})})}function cU({bookings:n,onNavigate:e}){const t=w.useMemo(()=>{const o=new Date,c=$e(o,"yyyy-MM-dd"),u=n.filter(N=>N.status!=="cancelled"),h=u.filter(N=>$e(_t(N.check_in),"yyyy-MM-dd")===c),m=u.filter(N=>$e(_t(N.check_out),"yyyy-MM-dd")===c),p=u.filter(N=>{const R=_t(N.check_in),k=_t(N.check_out);return R<=o&&k>o}),v=u.filter(N=>{var R;if((R=N.guests)!=null&&R.birthday){const k=_t(N.guests.birthday);return $e(k,"MM-dd")===$e(o,"MM-dd")}return!1}),y=0,b=21,C=p.length,E=b-C,P=b>0?Math.round(C/b*100):0;return{checkIns:h.length,checkOuts:m.length,currentStays:p.length,birthdays:v.length,tasks:y,totalRooms:b,freeRooms:E,occupiedRooms:C,occupancyRate:P}},[n]),r=o=>{const u={checkins:"/Arrivals",checkouts:"/Departures",stays:"/Stays",birthdays:"/Birthdays",tasks:"/Tasks"}[o];u&&e&&e(u)};return a.jsxs("div",{className:"flex items-center justify-center gap-8 text-sm",children:[a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkins"),children:[a.jsx(gd,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{className:"text-slate-600",children:"Заезды"}),a.jsx("span",{className:"font-semibold text-green-500",children:t.checkIns})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("checkouts"),children:[a.jsx(Ii,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{className:"text-slate-600",children:"Выезды"}),a.jsx("span",{className:"font-semibold text-blue-500",children:t.checkOuts})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("stays"),children:[a.jsx(Do,{className:"h-4 w-4 text-purple-500"}),a.jsx("span",{className:"text-slate-600",children:"Проживание"}),a.jsx("span",{className:"font-semibold text-purple-500",children:t.currentStays})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("birthdays"),children:[a.jsx(D0,{className:"h-4 w-4 text-pink-500"}),a.jsx("span",{className:"text-slate-600",children:"Дни рождения"}),a.jsx("span",{className:"font-semibold text-pink-500",children:t.birthdays})]}),a.jsxs("div",{className:"flex items-center gap-2 cursor-pointer hover:opacity-70 transition-opacity",onClick:()=>r("tasks"),children:[a.jsx(L0,{className:"h-4 w-4 text-orange-500"}),a.jsx("span",{className:"text-slate-600",children:"Задачи"}),a.jsx("span",{className:"font-semibold text-orange-500",children:t.tasks})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Свободно номеров"}),a.jsxs("span",{className:"font-semibold text-green-500",children:[t.freeRooms," (0)"]})]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Занято номеров"}),a.jsxs("span",{className:"font-semibold text-red-500",children:[t.occupiedRooms," (",t.occupiedRooms,")"]})]}),a.jsxs("div",{className:"space-y-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-slate-600",children:"Загрузка"}),a.jsxs("span",{className:"font-semibold text-blue-500",children:[t.occupancyRate,"%"]})]}),a.jsx("div",{className:"w-32 h-2 bg-slate-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-blue-600 rounded-full transition-all duration-300",style:{width:`${Math.min(t.occupancyRate,100)}%`}})})]})]})]})}var uU="Separator",e1="horizontal",dU=["horizontal","vertical"],KC=w.forwardRef((n,e)=>{const{decorative:t,orientation:r=e1,...o}=n,c=fU(r)?r:e1,h=t?{role:"none"}:{"aria-orientation":c==="vertical"?c:void 0,role:"separator"};return a.jsx(nt.div,{"data-orientation":c,...h,...o,ref:e})});KC.displayName=uU;function fU(n){return dU.includes(n)}var YC=KC;const Or=w.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},o)=>a.jsx(YC,{ref:o,decorative:t,orientation:e,className:Be("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Or.displayName=YC.displayName;function hU({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState($e(new Date,"yyyy-MM-dd")),[c,u]=w.useState(!1),[h,m]=w.useState({auto:{bookingsCount:0,checkInsCount:0,checkOutsCount:0,currentOccupancy:0,totalRevenue:0,servicesRevenue:0},manual:{income:{hotel:130600,restaurant:2200,bank_account:582e3,expenses:24e3,currency_exchange_in:0,currency_exchange_out:0},expenses:{products:28019,laundry:4400,household_expenses:0,transport:500,gas:0,bottled_water:0,utilities_security:35e3,rent_yohan_house:15e3,electricity:0,gas_state:0,internet:0,workers:24e3,repair:0,equipment_pump:0,service:0,additional:{utilities_management:0,hotel_chemistry:0,pool_chemistry:0,booking_exely:632e3,bonuses_management:0,laundry_service:0}}}});w.useEffect(()=>{p()},[r]);const p=async()=>{u(!0);try{const N=new Date(r),R=Di(N),k=h6(N),T=await im(R,k);if(T.error)throw T.error;const M=T.data||[],I=M.filter(ie=>$e(_t(ie.check_in),"yyyy-MM-dd")===r),D=M.filter(ie=>$e(_t(ie.check_out),"yyyy-MM-dd")===r),F=M.filter(ie=>{const me=_t(ie.check_in),pe=_t(ie.check_out);return me<=N&&pe>N}),z=M.reduce((ie,me)=>ie+(me.total_amount||0),0),q=M.reduce((ie,me)=>ie+(me.services_total||0),0),re=(await aU(r)).data;m(ie=>({auto:{bookingsCount:M.length,checkInsCount:I.length,checkOutsCount:D.length,currentOccupancy:F.length,totalRevenue:z,servicesRevenue:q},manual:re?{income:re.income_data||ie.manual.income,expenses:re.expenses_data||ie.manual.expenses}:ie.manual}))}catch(N){console.error("Error loading report data:",N)}finally{u(!1)}},v=w.useMemo(()=>{const N=Object.values(h.manual.income).reduce((k,T)=>k+(parseFloat(T)||0),0),R=Object.values(h.manual.expenses).reduce((k,T)=>typeof T=="object"?k+Object.values(T).reduce((M,I)=>M+(parseFloat(I)||0),0):k+(parseFloat(T)||0),0);return{income:N,expenses:R,profit:N-R,cashEnd:453165}},[h.manual]),y=(N,R,k)=>{m(T=>({...T,manual:{...T.manual,[N]:{...T.manual[N],[R]:parseFloat(k)||0}}}))},b=(N,R)=>{m(k=>({...k,manual:{...k.manual,expenses:{...k.manual.expenses,additional:{...k.manual.expenses.additional,[N]:parseFloat(R)||0}}}}))},C=async()=>{try{u(!0),console.log("💾 Saving daily report for date:",r);const N=await sU(r,h);if(N.error)throw N.error;console.log("✅ Daily report saved successfully"),alert("Отчет успешно сохранен!")}catch(N){console.error("❌ Error saving report:",N),alert(`Ошибка сохранения отчета: ${N.message}`)}finally{u(!1)}},E=()=>{window.print()},P=N=>{alert(`Экспорт в ${N} будет реализован в следующем обновлении`)};return a.jsx(Zy,{open:n,onOpenChange:e,children:a.jsxs(vx,{className:"max-w-6xl max-h-[95vh] overflow-y-auto",children:[a.jsx(yx,{children:a.jsxs(wx,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx($i,{className:"h-6 w-6 text-blue-600"}),"Ежедневный отчет"]})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsx(ze,{htmlFor:"report-date",className:"text-sm font-medium",children:"Дата отчета:"}),a.jsx(Oe,{id:"report-date",type:"date",value:r,onChange:N=>o(N.target.value),className:"w-48"}),c&&a.jsx("span",{className:"text-sm text-slate-500",children:"Загрузка данных..."})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2 text-green-600",children:[a.jsx(zj,{className:"h-5 w-5"}),"Приход"]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"Отель"}),a.jsx(Oe,{type:"number",value:h.manual.income.hotel,onChange:N=>y("income","hotel",N.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"Рестик"}),a.jsx(Oe,{type:"number",value:h.manual.income.restaurant,onChange:N=>y("income","restaurant",N.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"С расчетного счета"}),a.jsx(Oe,{type:"number",value:h.manual.income.bank_account,onChange:N=>y("income","bank_account",N.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"Затраки"}),a.jsx(Oe,{type:"number",value:h.manual.income.expenses,onChange:N=>y("income","expenses",N.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"Обмен в рубли"}),a.jsx(Oe,{type:"number",value:h.manual.income.currency_exchange_in,onChange:N=>y("income","currency_exchange_in",N.target.value),className:"mt-1"})]}),a.jsxs("div",{children:[a.jsx(ze,{className:"text-xs text-slate-500",children:"Обмен из рублей"}),a.jsx(Oe,{type:"number",value:h.manual.income.currency_exchange_out,onChange:N=>y("income","currency_exchange_out",N.target.value),className:"mt-1"})]})]}),a.jsx(Or,{}),a.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[a.jsx("span",{children:"Итого приход:"}),a.jsxs("span",{className:"text-green-600",children:[v.income.toLocaleString()," ₽"]})]})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(R4,{className:"h-5 w-5"}),"Расход"]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-3 text-sm",children:[Object.entries(h.manual.expenses).map(([N,R])=>{if(N==="additional")return null;const k={products:"Продукты",laundry:"Пани",household_expenses:"Хоз расход",transport:"Проезд",gas:"Газ",bottled_water:"Вода бутылированная",utilities_security:"З/п сотрудники самана охрана",rent_yohan_house:"Аренда жилья Йохан Дом",electricity:"Электричество",gas_state:"Вода гос",internet:"Интернет",workers:"Рабочие",repair:"Ремонт",equipment_pump:"Оборудование насос машинка",service:"Сервис"};return a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ze,{className:"text-xs text-slate-600 flex-1",children:k[N]}),a.jsx(Oe,{type:"number",value:R,onChange:T=>y("expenses",N,T.target.value),className:"w-24 h-8 text-xs"})]},N)}),a.jsx(Or,{}),a.jsx("div",{className:"text-xs font-medium text-slate-700 mt-4",children:"Дополнительно"}),Object.entries(h.manual.expenses.additional).map(([N,R])=>{const k={utilities_management:"З/п управл",hotel_chemistry:"Химия отель",pool_chemistry:"Химия бассейн",booking_exely:"Букинг Exely",bonuses_management:"Бонусы Управляющие",laundry_service:"Прачедная"};return a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(ze,{className:"text-xs text-slate-600 flex-1",children:k[N]}),a.jsx(Oe,{type:"number",value:R,onChange:T=>b(N,T.target.value),className:"w-24 h-8 text-xs"})]},N)})]}),a.jsx(Or,{}),a.jsxs("div",{className:"flex justify-between items-center font-bold text-lg",children:[a.jsx("span",{children:"Итого расход:"}),a.jsxs("span",{className:"text-red-600",children:[v.expenses.toLocaleString()," ₽"]})]})]})]})]}),a.jsx(Ce,{className:"bg-slate-50",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:v.income.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Общий приход"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-red-600",children:v.expenses.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Общий расход"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:`text-2xl font-bold ${v.profit>=0?"text-green-600":"text-red-600"}`,children:v.profit.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Прибыль/Убыток"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:v.cashEnd.toLocaleString()}),a.jsx("div",{className:"text-sm text-slate-600",children:"Остаток в кассе"})]})]})})}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(Dj,{className:"h-5 w-5 text-blue-600"}),"Данные из системы"]})}),a.jsx(Re,{children:a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Общая выручка за день"}),a.jsxs("div",{className:"text-lg font-bold text-green-600",children:[h.auto.totalRevenue.toLocaleString()," ₽"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Выручка от услуг"}),a.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[h.auto.servicesRevenue.toLocaleString()," ₽"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Загрузка номеров"}),a.jsxs("div",{className:"text-lg font-bold text-purple-600",children:[h.auto.currentOccupancy," номеров"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Заезды за день"}),a.jsx("div",{className:"text-lg font-bold text-green-600",children:h.auto.checkInsCount})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Выезды за день"}),a.jsx("div",{className:"text-lg font-bold text-blue-600",children:h.auto.checkOutsCount})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Всего броней"}),a.jsx("div",{className:"text-lg font-bold text-slate-600",children:h.auto.bookingsCount})]})]})})]})]}),a.jsxs(ew,{className:"space-x-2",children:[a.jsx(De,{variant:"outline",onClick:e,children:"Закрыть"}),a.jsxs(De,{variant:"outline",onClick:()=>alert("История изменений пока не реализована"),children:[a.jsx(UD,{className:"h-4 w-4 mr-2"}),"История"]}),a.jsxs(De,{variant:"outline",onClick:E,children:[a.jsx(c4,{className:"h-4 w-4 mr-2"}),"Печать"]}),a.jsxs("div",{className:"relative",children:[a.jsxs(De,{variant:"outline",onClick:()=>{document.getElementById("export-menu").classList.toggle("hidden")},children:[a.jsx(Sg,{className:"h-4 w-4 mr-2"}),"Сохранить"]}),a.jsxs("div",{id:"export-menu",className:"hidden absolute bottom-full left-0 mb-2 bg-white border rounded-lg shadow-lg z-50",children:[a.jsx("button",{onClick:()=>P("PDF"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"PDF"}),a.jsx("button",{onClick:()=>P("Word"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Word"}),a.jsx("button",{onClick:()=>P("Excel"),className:"block w-full text-left px-4 py-2 hover:bg-slate-50",children:"Excel"})]})]}),a.jsxs(De,{onClick:C,disabled:c,children:[a.jsx(Fj,{className:"h-4 w-4 mr-2"}),c?"Сохранение...":"Сохранить"]})]})]})})}const mU=[{id:"daily",name:"Ежедневный отчет",description:"Детальный отчет за день: доходы, расходы, загрузка",icon:$i,color:"from-blue-500 to-blue-600",available:!0},{id:"weekly",name:"Недельный отчет",description:"Сводка за неделю с анализом трендов",icon:iD,color:"from-green-500 to-green-600",available:!1},{id:"monthly",name:"Месячный отчет",description:"Полная финансовая отчетность за месяц",icon:zj,color:"from-purple-500 to-purple-600",available:!1},{id:"financial",name:"Финансовый отчет",description:"Подробный анализ доходов и расходов",icon:Dj,color:"from-orange-500 to-orange-600",available:!1}];function pU({isOpen:n,onClose:e,bookings:t}){const[r,o]=w.useState(null),[c,u]=w.useState(!1),h=p=>{p.id==="daily"?u(!0):alert(`${p.name} будет доступен в следующих обновлениях`)},m=()=>{u(!1),e()};return c?a.jsx(hU,{isOpen:!0,onClose:m,bookings:t}):a.jsx(Zy,{open:n,onOpenChange:e,children:a.jsxs(vx,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs(yx,{children:[a.jsxs(wx,{className:"text-2xl font-bold flex items-center gap-2",children:[a.jsx(Ng,{className:"h-6 w-6 text-blue-600"}),"Отчеты"]}),a.jsx(tw,{children:"Выберите тип отчета для генерации"})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 p-4",children:mU.map(p=>{const v=p.icon;return a.jsxs(Ce,{className:`cursor-pointer transition-all duration-200 hover:shadow-lg ${p.available?"hover:scale-105 border-2 border-transparent hover:border-blue-200":"opacity-60 cursor-not-allowed"}`,onClick:()=>p.available&&h(p),children:[a.jsx(Ye,{className:"pb-3",children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:`p-3 rounded-lg bg-gradient-to-r ${p.color} text-white`,children:a.jsx(v,{className:"h-6 w-6"})}),a.jsx("div",{className:"flex-1",children:a.jsxs(Je,{className:"text-lg font-semibold text-slate-800",children:[p.name,!p.available&&a.jsx("span",{className:"ml-2 text-xs bg-slate-200 text-slate-600 px-2 py-1 rounded",children:"Скоро"})]})})]})}),a.jsxs(Re,{children:[a.jsx("p",{className:"text-slate-600 text-sm leading-relaxed",children:p.description}),p.available&&a.jsx("div",{className:"mt-4",children:a.jsx(De,{size:"sm",className:`bg-gradient-to-r ${p.color} hover:opacity-90`,onClick:y=>{y.stopPropagation(),h(p)},children:"Создать отчет"})})]})]},p.id)})}),a.jsx("div",{className:"p-4 bg-slate-50 rounded-lg mx-4 mb-4",children:a.jsxs("div",{className:"flex items-start gap-3",children:[a.jsx("div",{className:"p-2 bg-blue-100 rounded-lg",children:a.jsx(Ng,{className:"h-5 w-5 text-blue-600"})}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-slate-800 mb-1",children:"Возможности отчетов:"}),a.jsxs("ul",{className:"text-sm text-slate-600 space-y-1",children:[a.jsx("li",{children:"• Автоматическая загрузка данных из системы"}),a.jsx("li",{children:"• Возможность ручного редактирования всех полей"}),a.jsx("li",{children:"• Сохранение истории изменений"}),a.jsx("li",{children:"• Экспорт в PDF, Word, Excel"}),a.jsx("li",{children:"• Печать готовых отчетов"})]})]})]})})]})})}function ny(){const[n,e]=w.useState([]),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(vh(new Date)),[m,p]=w.useState(!0),[v,y]=w.useState(""),[b,C]=w.useState(!1),[E,P]=w.useState(null),[N,R]=w.useState(null),[k,T]=w.useState(!1),{signOut:M}=Xh(),{t:I,currentLanguage:D}=es("dashboard"),F=kd(),z=D==="ru"?En:Ha,q=async()=>{try{await M()}catch(K){console.error("Error signing out:",K)}},X=w.useCallback(async(K,ne)=>{p(!0),y("");try{console.log("🔄 Fetching bookings for range:",{startDate:K,endDate:ne});const B=await im(K,ne);if(B.error)throw B.error;const U=B.data||[];console.log("📊 Loaded bookings with services:",U.map(V=>{var ae,ue;return{id:V.id.substring(0,8),guest:(ae=V.guests)==null?void 0:ae.full_name,status:V.status,room_id:V.room_id,services:((ue=V.booking_services)==null?void 0:ue.length)||0}})),console.log("📊 Статистика загруженных бронирований:",{total:U.length,byStatus:U.reduce((V,ae)=>(V[ae.status]=(V[ae.status]||0)+1,V),{})}),console.log(`📈 Total bookings loaded: ${U.length}`),e(U)}catch(B){console.error("❌ Error loading bookings:",B),y(I("errors.loadingBookings",{error:B.message}))}finally{p(!1)}},[I]);w.useEffect(()=>{const K=vh(u),ne=ig(u);X(K,ne)},[u,X]),w.useEffect(()=>{(async()=>{try{const[ne,B]=await Promise.all([lw(),cw()]);if(ne.error)throw ne.error;if(B.error)throw B.error;const U=ne.data||[],V=B.data||[];console.log("🏨 Loaded rooms:",U),console.log("🛎️ Loaded services:",V),r(U),c(V)}catch(ne){console.error("Error loading static data:",ne),y(I("errors.loadingData",{error:ne.message}))}})()},[I]),w.useEffect(()=>{console.log("🔔 Настраиваем Realtime подписку на изменения бронирований");const K=Pe.channel("bookings_changes").on("postgres_changes",{event:"*",schema:"public",table:"bookings"},ne=>{console.log("🔔 Получено изменение в таблице bookings:",ne);const B=ne.eventType,U=ne.new||ne.old;B==="INSERT"?console.log("➕ Добавлено новое бронирование:",U==null?void 0:U.id):B==="UPDATE"?console.log("📝 Обновлено бронирование:",U==null?void 0:U.id):B==="DELETE"&&console.log("🗑️ Удалено бронирование:",U==null?void 0:U.id);const V=vh(u),ae=ig(u);console.log("🔄 Автообновление данных после realtime события"),X(V,ae)}).subscribe(ne=>{console.log("📡 Статус Realtime подписки:",ne)});return()=>{console.log("🔌 Отключаем Realtime подписку"),Pe.removeChannel(K)}},[u,X]);const re=async(K,ne,B)=>{var U;try{console.log(`🔄 Обновляем цену: комната ${K}, дата ${ne}, цена $${B}`);const V=t.find(te=>te.id===K);if(!V)throw new Error(`Room with id ${K} not found`);const ae=await gr.getRatePlans();if(!ae.data||ae.data.length===0){console.warn("⚠️ No rate plans found in Channex, updating local price only");return}const ue=ae.data.find(te=>{var Ke,We;const fe=((Ke=te.attributes)==null?void 0:Ke.title)||te.title||"",Se=V.room_number||V.name||"",Ee=V.room_type||"";return fe.includes(Se)||fe.includes(Ee)||((We=te.attributes)==null?void 0:We.room_type_id)&&te.attributes.room_type_id===V.channex_room_type_id});if(!ue){console.warn(`⚠️ Rate plan not found for room ${V.room_number}, updating local price only`);return}const he=((U=ue.attributes)==null?void 0:U.id)||ue.id;await gr.setRates(he,ne,ne,[{occupancy:1,rate:B},{occupancy:2,rate:B}]),console.log(`✅ Цена успешно обновлена в Channex для rate plan ${he}`)}catch(V){console.error("❌ Ошибка обновления цены в Channex:",V);const ae=V.message||"Неизвестная ошибка";console.warn(`⚠️ Channex update failed: ${ae}. Price updated locally only.`)}},ie=w.useCallback(()=>{console.log("📝 Booking saved - закрываем модальное окно"),C(!1),P(null),R(null),console.log("🔄 Принудительно обновляем данные после изменения бронирования");const K=vh(u),ne=ig(u);X(K,ne)},[u,X]),me=w.useCallback((K,ne)=>{console.log("🎯 Cell clicked:",{roomId:K,date:ne}),P({roomId:K,checkIn:ne,checkOut:Db(ne,1)}),R(null),C(!0)},[]),pe=w.useCallback(K=>{console.log("📋 Booking clicked:",K),R(K),P(null),C(!0)},[]),ke=w.useCallback((K,ne,B)=>{console.log("🎯 Selection ended:",{roomId:K,checkIn:ne,checkOut:B}),P({roomId:K,checkIn:ne,checkOut:B}),R(null),C(!0)},[]),ge=K=>{h(ne=>Db(ne,K))},be=K=>{console.log("📊 Statistics navigation to:",K),F(K)},W=m6({start:vh(u),end:ig(u)});return m&&t.length===0?a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Ao,{className:"h-8 w-32"}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Ao,{className:"h-10 w-10"}),a.jsx(Ao,{className:"h-10 w-32"}),a.jsx(Ao,{className:"h-10 w-10"})]})]}),a.jsx(Ce,{className:"p-6",children:a.jsx(Ao,{className:"h-[60vh] w-full"})})]}):a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:I("title")}),a.jsx("p",{className:"text-slate-600 mt-1",children:I("subtitle")})]}),a.jsx(vN,{})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(De,{variant:"outline",size:"icon",onClick:()=>ge(-1),title:I("navigation.previousMonth"),children:a.jsx(fD,{className:"h-4 w-4"})}),a.jsx("div",{className:"min-w-[160px] text-center",children:a.jsx("span",{className:"text-lg font-semibold text-slate-800",children:$e(u,"LLLL yyyy",{locale:z})})}),a.jsx(De,{variant:"outline",size:"icon",onClick:()=>ge(1),title:I("navigation.nextMonth"),children:a.jsx(Oj,{className:"h-4 w-4"})})]}),a.jsxs(De,{onClick:()=>{R(null),P(null),C(!0)},children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),I("actions.newReservation")]}),a.jsxs(De,{variant:"outline",onClick:()=>T(!0),children:[a.jsx(Ng,{className:"h-4 w-4 mr-2"}),"Отчет"]})]}),a.jsx(cU,{bookings:n,onNavigate:be}),a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx(De,{variant:"outline",size:"icon",onClick:q,title:I("actions.signOut"),children:a.jsx(Ii,{className:"h-4 w-4 text-slate-600"})})})]}),v&&a.jsx(js,{variant:"destructive",children:a.jsx(Ss,{children:v})}),a.jsx(Ce,{className:"booking-grid overflow-hidden",children:t.length>0?a.jsx(yz,{rooms:t,bookings:n,days:W,onCellClick:me,onBookingClick:pe,onSelectionEnd:ke,onPriceChange:re}):a.jsx("div",{className:"p-8 text-center text-slate-500",children:m?"Загрузка...":"Нет доступных комнат"})}),b&&a.jsx(Md,{bookingToEdit:N,selectedCell:E,allBookings:n,rooms:t,services:o,onClose:()=>{C(!1),P(null),R(null)},onBookingSaved:ie}),k&&a.jsx(pU,{isOpen:k,onClose:()=>T(!1),bookings:n})]})}const dw=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:Be("w-full caption-bottom text-sm",n),...e})}));dw.displayName="Table";const fw=w.forwardRef(({className:n,...e},t)=>a.jsx("thead",{ref:t,className:Be("[&_tr]:border-b",n),...e}));fw.displayName="TableHeader";const hw=w.forwardRef(({className:n,...e},t)=>a.jsx("tbody",{ref:t,className:Be("[&_tr:last-child]:border-0",n),...e}));hw.displayName="TableBody";const gU=w.forwardRef(({className:n,...e},t)=>a.jsx("tfoot",{ref:t,className:Be("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...e}));gU.displayName="TableFooter";const tc=w.forwardRef(({className:n,...e},t)=>a.jsx("tr",{ref:t,className:Be("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...e}));tc.displayName="TableRow";const Kn=w.forwardRef(({className:n,...e},t)=>a.jsx("th",{ref:t,className:Be("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Kn.displayName="TableHead";const Cn=w.forwardRef(({className:n,...e},t)=>a.jsx("td",{ref:t,className:Be("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Cn.displayName="TableCell";const xU=w.forwardRef(({className:n,...e},t)=>a.jsx("caption",{ref:t,className:Be("mt-4 text-sm text-muted-foreground",n),...e}));xU.displayName="TableCaption";function JC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(""),[u,h]=w.useState("all"),[m,p]=w.useState(!1),[v,y]=w.useState(null),[b,C]=w.useState([]),[E,P]=w.useState([]),{t:N,currentLanguage:R,formatCurrency:k}=es("bookings"),T=R==="ru"?En:Ha,M={confirmed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",cancelled:"bg-red-100 text-red-800",checked_in:"bg-purple-100 text-purple-800",checked_out:"bg-blue-100 text-blue-800"};w.useEffect(()=>{D()},[]);const I=()=>{y(null),p(!0)},D=async()=>{r(!0);const[{data:re},{data:ie},{data:me}]=await Promise.all([Sx(),lw(),cw()]);e((re==null?void 0:re.bookings)||[]),C((ie==null?void 0:ie.rooms)||[]),P((me==null?void 0:me.services)||[]),r(!1)},F=re=>{y(re),p(!0)},z=()=>{p(!1),y(null),D()},q=n.filter(re=>{var ie,me;return(((me=(ie=re.guests)==null?void 0:ie.full_name)==null?void 0:me.toLowerCase())||"").includes(o.toLowerCase())&&(u==="all"||re.status===u)}),X=re=>(re.total_amount||0)-(re.services_total||0);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx(Ce,{children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-4",children:[a.jsxs("div",{className:"relative flex-1",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Oe,{placeholder:N("search.placeholder"),value:o,onChange:re=>c(re.target.value),className:"pl-10"})]}),a.jsxs("select",{value:u,onChange:re=>h(re.target.value),className:"px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"all",children:N("filter.allStatuses")}),Object.entries(["confirmed","pending","cancelled","checked_in","checked_out"]).map(([re,ie])=>a.jsx("option",{value:ie,children:N(`status.${ie}`)},ie))]})]})})}),a.jsxs(Ce,{children:[a.jsxs(Ye,{className:"flex flex-row items-center justify-between",children:[a.jsxs(Je,{children:[N("title")," (",q.length,")"]}),a.jsxs(De,{onClick:I,className:"bg-blue-600 hover:bg-blue-700",children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),N("actions.newBooking")]})]}),a.jsx(Re,{children:a.jsxs(dw,{children:[a.jsx(fw,{children:a.jsxs(tc,{children:[a.jsx(Kn,{children:N("table.guest")}),a.jsx(Kn,{children:N("table.source")}),a.jsx(Kn,{children:N("table.room")}),a.jsx(Kn,{children:N("table.dates")}),a.jsx(Kn,{children:N("table.status")}),a.jsx(Kn,{children:N("table.accommodation")}),a.jsx(Kn,{children:N("table.services")}),a.jsx(Kn,{children:N("table.paid")}),a.jsx(Kn,{children:N("table.balance")})]})}),a.jsx(hw,{children:t?Array.from({length:5}).map((re,ie)=>a.jsx(tc,{children:a.jsx(Cn,{colSpan:"9",children:a.jsx(Ao,{className:"h-8 w-full"})})},ie)):q.length===0?a.jsx(tc,{children:a.jsx(Cn,{colSpan:"9",className:"text-center text-slate-500 py-8",children:N("table.noResults")})}):q.map(re=>{var ke,ge;const ie=X(re),me=(re.total_amount||0)-(re.amount_paid||0),pe=R==="ru"?"RUB":"USD";return a.jsxs(tc,{onClick:()=>F(re),className:"cursor-pointer hover:bg-slate-50",children:[a.jsx(Cn,{className:"font-medium",children:((ke=re.guests)==null?void 0:ke.full_name)||N("table.unknownGuest")}),a.jsx(Cn,{children:a.jsx(oC,{source:re.source})}),a.jsx(Cn,{children:(ge=re.rooms)==null?void 0:ge.room_number}),a.jsxs(Cn,{children:[$e(_t(re.check_in),"dd.MM",{locale:T})," -",$e(_t(re.check_out),"dd.MM.yy",{locale:T})]}),a.jsx(Cn,{children:a.jsx(tt,{className:M[re.status],children:N(`status.${re.status}`)})}),a.jsx(Cn,{children:k(ie,pe)}),a.jsx(Cn,{children:k(re.services_total||0,pe)}),a.jsx(Cn,{className:"text-green-600",children:k(re.amount_paid||0,pe)}),a.jsx(Cn,{className:`font-bold ${me>0?"text-red-600":"text-green-600"}`,children:k(me,pe)})]},re.id)})})]})})]}),m&&a.jsx(Md,{bookingToEdit:v,allBookings:n,rooms:b,services:E,onClose:z,onBookingSaved:z})]})}function XC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);const{data:u}=await Sx(),h=((u==null?void 0:u.bookings)||[]).filter(m=>Vh(_t(m.check_in))&&m.status==="confirmed");e(h),r(!1)},c=async u=>{await uw(u,{status:"checked_in"}),o()};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды на сегодня"}),a.jsx("p",{className:"text-slate-600 mt-1",children:$e(new Date,"dd MMMM yyyy",{locale:En})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-blue-600",children:[a.jsx(gd,{className:"h-8 w-8"}),a.jsx("span",{children:n.length})]})]}),t?a.jsx(Ao,{className:"h-96 w-full"}):n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,m,p,v;return a.jsxs(Ce,{children:[a.jsx(Ye,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-lg",children:(h=u.guests)==null?void 0:h.full_name}),a.jsx(tt,{className:"bg-green-100 text-green-800",children:"Подтверждено"})]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Mj,{className:"h-5 w-5"}),a.jsxs("p",{children:[(m=u.rooms)==null?void 0:m.room_number," (",(p=u.rooms)==null?void 0:p.room_type,")"]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Hi,{className:"h-5 w-5"}),a.jsx("p",{children:((v=u.guests)==null?void 0:v.phone)||"Не указан"})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Xs,{className:"h-5 w-5"}),a.jsxs("p",{children:[u.guests_count," гостя(ей)"]})]}),a.jsx("div",{className:"pt-4",children:a.jsxs(De,{onClick:()=>c(u.id),className:"w-full bg-blue-600 hover:bg-blue-700",children:[a.jsx(gd,{className:"h-4 w-4 mr-2"}),"Заселить гостя"]})})]})]},u.id)})}):a.jsx(Ce,{children:a.jsxs(Re,{className:"p-12 text-center",children:[a.jsx(gd,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет заездов на сегодня"})]})})]})}function QC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0);w.useEffect(()=>{o()},[]);const o=async()=>{r(!0);try{const{data:u}=await Sx();console.log("Полученные данные в CheckOuts:",u);const h=(u==null?void 0:u.bookings)||u||[],m=Array.isArray(h)?h.filter(p=>Vh(_t(p.check_out))&&p.status==="checked_in"):[];console.log("Выезды на сегодня:",m),e(m)}catch(u){console.error("Ошибка получения данных:",u),e([])}finally{r(!1)}},c=async u=>{try{await uw(u,{status:"checked_out"}),o()}catch(h){console.error("Ошибка при выселении:",h)}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("style",{children:`
        .checkout-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
          transition: all 0.3s ease;
        }
        .checkout-card:hover {
          transform: translateY(-2px);
          box-shadow: 0 12px 40px rgba(0,0,0,0.12);
        }
      `}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды на сегодня"}),a.jsx("p",{className:"text-slate-600 mt-1",children:$e(new Date,"dd MMMM yyyy",{locale:En})})]}),a.jsxs("div",{className:"flex items-center space-x-2 text-2xl font-bold text-orange-600",children:[a.jsx(Ii,{className:"h-8 w-8"}),a.jsx("span",{children:n.length})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsx(Ce,{className:"checkout-card",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Всего выездов"}),a.jsx("p",{className:"text-2xl font-bold text-slate-900",children:n.length})]}),a.jsx(Ii,{className:"h-8 w-8 text-orange-500"})]})})}),a.jsx(Ce,{className:"checkout-card",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Заселены"}),a.jsx("p",{className:"text-2xl font-bold text-blue-600",children:n.filter(u=>u.status==="checked_in").length})]}),a.jsx(Xs,{className:"h-8 w-8 text-blue-500"})]})})}),a.jsx(Ce,{className:"checkout-card",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-600",children:"Общий доход"}),a.jsxs("p",{className:"text-2xl font-bold text-green-600",children:[n.reduce((u,h)=>u+(h.total_amount||0),0).toLocaleString()," ₽"]})]}),a.jsx(xy,{className:"h-8 w-8 text-green-500"})]})})})]}),t?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Array.from({length:6}).map((u,h)=>a.jsx(Ce,{className:"checkout-card",children:a.jsx(Re,{className:"p-6",children:a.jsx(Ao,{className:"h-64 w-full"})})},h))}):n.length>0?a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(u=>{var h,m,p,v;return a.jsxs(Ce,{className:"checkout-card",children:[a.jsx(Ye,{className:"pb-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx(Je,{className:"text-lg font-semibold text-slate-800",children:((h=u.guests)==null?void 0:h.full_name)||"Гость"}),a.jsx(tt,{className:"bg-blue-100 text-blue-800",children:"Заселен"})]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Mj,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:(m=u.rooms)==null?void 0:m.room_number}),a.jsx("p",{className:"text-sm",children:(p=u.rooms)==null?void 0:p.room_type})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Hi,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:((v=u.guests)==null?void 0:v.phone)||"Не указан"}),a.jsx("p",{className:"text-sm",children:"Контактный телефон"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(Xs,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsxs("p",{className:"font-medium",children:[u.guests_count," гост",u.guests_count===1?"ь":"ей"]}),a.jsx("p",{className:"text-sm",children:"Количество гостей"})]})]}),a.jsxs("div",{className:"flex items-center space-x-3 text-slate-600",children:[a.jsx(md,{className:"h-5 w-5"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:$e(_t(u.check_in),"dd MMM yyyy",{locale:En})}),a.jsx("p",{className:"text-sm",children:"Дата заезда"})]})]}),u.notes&&a.jsx("div",{className:"bg-slate-50 p-3 rounded-lg",children:a.jsx("p",{className:"text-sm text-slate-600",children:u.notes})}),a.jsxs("div",{className:"pt-4 space-y-2",children:[a.jsxs(De,{onClick:()=>c(u.id),className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white",children:[a.jsx(Ii,{className:"h-4 w-4 mr-2"}),"Выселить гостя"]}),a.jsx(De,{variant:"outline",className:"w-full",children:"Связаться с гостем"})]}),u.total_amount&&a.jsxs("div",{className:"text-center pt-2 border-t",children:[a.jsxs("p",{className:"text-lg font-bold text-slate-800",children:[u.total_amount.toLocaleString()," ₽"]}),a.jsx("p",{className:"text-sm text-slate-500",children:"Оплачено"})]})]})]},u.id)})}):a.jsx(Ce,{className:"checkout-card",children:a.jsxs(Re,{className:"p-12 text-center",children:[a.jsx(Ii,{className:"h-16 w-16 text-slate-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-xl font-semibold text-slate-600 mb-2",children:"Нет выездов на сегодня"}),a.jsx("p",{className:"text-slate-500",children:"Все спокойно! Выездов на сегодня не запланировано."})]})})]})}function ZC(){const[n,e]=w.useState([]),[t,r]=w.useState(!0),[o,c]=w.useState(!1),[u,h]=w.useState(null),[m,p]=w.useState([]),[v,y]=w.useState([]);w.useEffect(()=>{b()},[]);const b=async()=>{r(!0);const{data:R}=await Sx();if(R!=null&&R.bookings){const M=R.bookings.filter(I=>(I.total_amount||0)>(I.amount_paid||0));e(M)}const[{data:k},{data:T}]=await Promise.all([lw(),cw()]);p((k==null?void 0:k.rooms)||[]),y((T==null?void 0:T.services)||[]),r(!1)},C=R=>{h(R),c(!0)},E=()=>{c(!1),h(null),b()},P=n.reduce((R,k)=>R+((k.total_amount||0)-(k.amount_paid||0)),0),N=R=>!R.booking_services||R.booking_services.length===0?"Нет":R.booking_services.map(k=>{var T;return(T=k.services)==null?void 0:T.name}).join(", ");return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:"Общая задолженность"})}),a.jsx(Re,{children:a.jsxs("p",{className:"text-3xl font-bold text-red-600",children:[P.toLocaleString()," ₽"]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:"Количество должников"})}),a.jsx(Re,{children:a.jsx("p",{className:"text-3xl font-bold",children:n.length})})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center",children:[a.jsx(AD,{className:"mr-2 text-red-500"}),"Список задолженностей"]})}),a.jsx(Re,{children:t?a.jsx(Ao,{className:"h-64 w-full"}):a.jsxs(dw,{children:[a.jsx(fw,{children:a.jsxs(tc,{children:[a.jsx(Kn,{children:"Гость"}),a.jsx(Kn,{children:"Номер"}),a.jsx(Kn,{children:"Заезд/Выезд"}),a.jsx(Kn,{children:"Услуги"}),a.jsx(Kn,{children:"Общая сумма"}),a.jsx(Kn,{children:"Частичная оплата"}),a.jsx(Kn,{children:"Долг"})]})}),a.jsx(hw,{children:n.map(R=>{var k,T;return a.jsxs(tc,{className:"cursor-pointer hover:bg-slate-50",children:[a.jsx(Cn,{className:"font-medium text-blue-600 hover:underline cursor-pointer",onClick:()=>C(R),children:(k=R.guests)==null?void 0:k.full_name}),a.jsx(Cn,{children:(T=R.rooms)==null?void 0:T.room_number}),a.jsxs(Cn,{children:[$e(_t(R.check_in),"dd.MM")," - ",$e(_t(R.check_out),"dd.MM.yy")]}),a.jsx(Cn,{className:"max-w-xs truncate",title:N(R),children:N(R)}),a.jsxs(Cn,{children:[(R.total_amount||0).toLocaleString()," ₽"]}),a.jsxs(Cn,{className:"text-green-600",children:[(R.amount_paid||0).toLocaleString()," ₽"]}),a.jsxs(Cn,{className:"font-bold text-red-600",children:[((R.total_amount||0)-(R.amount_paid||0)).toLocaleString()," ₽"]})]},R.id)})})]})})]}),o&&a.jsx(Md,{bookingToEdit:u,rooms:m,services:v,onClose:E,onBookingSaved:E})]})}function e2({selectedConversation:n,onConversationSelect:e}){return a.jsxs("div",{className:"h-full flex flex-col",children:[a.jsx("style",{children:`
        .chat-container {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }
      `}),a.jsxs("div",{className:"p-6 pb-4",children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Чат с гостями"}),a.jsx("p",{className:"text-slate-600 mt-2",children:"Общайтесь с гостями в режиме реального времени"})]}),a.jsx("div",{className:"flex-1 mx-6 mb-6",children:a.jsx("div",{className:"chat-container rounded-2xl h-full overflow-hidden",children:a.jsx(Y0,{selectedConversation:n,onConversationSelect:e})})})]})}const vU=async()=>{try{const{data:n,error:e}=await Pe.from("webhook_settings").select("*");if(e)throw e;return{data:n,error:null}}catch(n){return console.error("Ошибка получения настроек вебхуков:",n),{data:null,error:{message:n.message}}}},yU=async n=>{try{const{data:e,error:t}=await Pe.from("webhook_settings").upsert(n).select();if(t)throw t;return{data:e?e[0]:null,error:null}}catch(e){return console.error("Ошибка сохранения настроек вебхуков:",e),{data:null,error:{message:e.message}}}};function t2(){const[n,e]=w.useState(""),[t,r]=w.useState(!1),[o,c]=w.useState(""),[u,h]=w.useState("");w.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:v,error:y}=await vU();if(y){console.error("Ошибка загрузки настроек:",y);return}v!=null&&v.webhook_url&&e(v.webhook_url)}catch(v){console.error("Ошибка при загрузке настроек:",v)}},p=async()=>{if(!n.trim()){c("Введите URL вебхука"),h("error");return}try{new URL(n)}catch{c("Введите корректный URL"),h("error");return}r(!0),c("");try{const{data:v,error:y}=await yU({webhook_url:n.trim()});if(y)throw new Error(y.message);c("Настройки вебхука успешно сохранены"),h("success")}catch(v){console.error("Ошибка при сохранении:",v),c(`Ошибка: ${v.message}`),h("error")}finally{r(!1)}};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsx("style",{children:`
        .integration-card {
          background: linear-gradient(135deg, rgba(255,255,255,0.9) 0%, rgba(248,250,252,0.9) 100%);
          backdrop-filter: blur(20px);
          border: 1px solid rgba(226,232,240,0.6);
          box-shadow: 0 8px 32px rgba(0,0,0,0.08);
        }
        .webhook-section {
          background: linear-gradient(135deg, rgba(59,130,246,0.05) 0%, rgba(147,197,253,0.05) 100%);
          border: 1px solid rgba(59,130,246,0.1);
        }
      `}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-slate-800 flex items-center",children:[a.jsx(X_,{className:"mr-3 h-8 w-8"}),"Интеграции"]}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление внешними интеграциями и вебхуками"})]}),a.jsx(tt,{variant:"outline",className:"text-blue-600 border-blue-200",children:"Настройки системы"})]}),a.jsxs(Ce,{className:"integration-card",children:[a.jsxs(Ye,{children:[a.jsxs(Je,{className:"flex items-center text-xl",children:[a.jsx(Uj,{className:"mr-3 h-6 w-6 text-blue-500"}),"Вебхуки"]}),a.jsx("p",{className:"text-slate-600",children:"Настройка автоматических уведомлений о событиях в системе"})]}),a.jsxs(Re,{className:"space-y-6",children:[a.jsxs("div",{className:"webhook-section p-6 rounded-xl",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:"New Message Webhook"}),a.jsx(tt,{variant:"secondary",className:"bg-blue-100 text-blue-700",children:"Сообщения в чате"})]}),a.jsx("p",{className:"text-sm text-slate-600 mb-4",children:"Получайте уведомления каждый раз, когда в систему приходит новое сообщение от гостя или сотрудника."}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"webhook-url",className:"text-sm font-medium text-slate-700",children:"Webhook URL"}),a.jsx(Oe,{id:"webhook-url",type:"url",placeholder:"https://example.com/webhook/messages",value:n,onChange:v=>e(v.target.value),className:"mt-1",disabled:t}),a.jsx("p",{className:"text-xs text-slate-500 mt-1",children:"URL, на который будут отправляться POST запросы с данными новых сообщений"})]}),a.jsx(De,{onClick:p,disabled:t||!n.trim(),className:"bg-blue-600 hover:bg-blue-700 text-white",children:t?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Сохранение..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Fj,{className:"mr-2 h-4 w-4"}),"Сохранить"]})})]}),o&&a.jsxs(js,{variant:u==="success"?"default":"destructive",className:"mt-4",children:[u==="success"?a.jsx($a,{className:"h-4 w-4"}):a.jsx(_s,{className:"h-4 w-4"}),a.jsx(Ss,{children:o})]})]}),a.jsx(Or,{}),a.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[a.jsx("h4",{className:"font-medium text-slate-800 mb-2",children:"Формат данных вебхука"}),a.jsx("p",{className:"text-sm text-slate-600 mb-3",children:"При создании нового сообщения на указанный URL будет отправлен POST запрос с JSON данными:"}),a.jsx("pre",{className:"bg-slate-800 text-green-400 p-3 rounded text-xs overflow-x-auto",children:`{
  "id": "uuid",
  "conversation_id": "uuid", 
  "sender_type": "guest|staff",
  "sender_id": "uuid",
  "content": "Текст сообщения",
  "created_at": "2024-01-01T12:00:00Z",
  "sender_name": "Имя отправителя"
}`})]})]})]}),a.jsxs(Ce,{className:"integration-card opacity-60",children:[a.jsxs(Ye,{children:[a.jsxs(Je,{className:"flex items-center text-xl text-slate-500",children:[a.jsx(X_,{className:"mr-3 h-6 w-6"}),"Другие интеграции"]}),a.jsx("p",{className:"text-slate-500",children:"Дополнительные интеграции будут добавлены в будущих версиях"})]}),a.jsx(Re,{children:a.jsx("div",{className:"text-center py-8",children:a.jsx("p",{className:"text-slate-400",children:"Скоро появятся новые возможности"})})})]})]})}const wU={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function n2(){const{t:n,currentLanguage:e,formatCurrency:t}=es("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,m]=w.useState(!0),[p,v]=w.useState(""),[y,b]=w.useState($e(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,N]=w.useState(!1),R=e==="ru"?En:Ha,k=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!p.trim())u(r);else{const z=r.filter(q=>{var pe,ke,ge,be,W,K;const X=((ke=(pe=q.guests)==null?void 0:pe.full_name)==null?void 0:ke.toLowerCase())||"",re=((be=(ge=q.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ie=((K=(W=q.guests)==null?void 0:W.phone)==null?void 0:K.toLowerCase())||"",me=p.toLowerCase();return X.includes(me)||re.includes(me)||ie.includes(me)});u(z)}},[p,r]);const T=async()=>{m(!0);try{const z=new Date(y),q=new Date(y);q.setDate(q.getDate()+1);const X=await im(z,q);if(X.error)throw X.error;const re=(X.data||[]).filter(ie=>ie.status==="cancelled"?!1:$e(_t(ie.check_in),"yyyy-MM-dd")===y);console.log("📅 Arrivals for",y,":",re),o(re)}catch(z){console.error("Error loading arrivals:",z)}finally{m(!1)}},M=async z=>{var q;console.log("✅ Check-in:",(q=z.guests)==null?void 0:q.full_name)},I=z=>{E(z),N(!0)},D=()=>{N(!1),E(null),T()},F=z=>{var q,X,re,ie,me;return a.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(z),children:a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(gd,{className:"h-5 w-5 text-blue-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:((q=z.guests)==null?void 0:q.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Заезд: ",$e(_t(z.check_in),"HH:mm")]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{className:wU[z.status]||"bg-slate-100 text-slate-800",children:n(`status.${z.status}`)}),z.status==="confirmed"&&a.jsxs(De,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:pe=>{pe.stopPropagation(),M(z)},children:[a.jsx(Fi,{className:"h-4 w-4 mr-1"}),"Отметить заезд"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(nm,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((X=z.rooms)==null?void 0:X.room_number)||"N/A"," (",((re=z.rooms)==null?void 0:re.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Xs,{className:"h-3 w-3"}),a.jsxs("span",{children:[z.guests_count||1," ",(z.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((ie=z.guests)==null?void 0:ie.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Hi,{className:"h-3 w-3"}),a.jsx("span",{children:z.guests.phone})]}),((me=z.guests)==null?void 0:me.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Jg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:z.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[$e(_t(z.check_in),"dd MMM",{locale:R})," -",$e(_t(z.check_out),"dd MMM",{locale:R})]})]}),z.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),a.jsx("span",{className:"font-semibold text-slate-800",children:t(z.total_amount,k)})]})]}),z.notes&&a.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[a.jsx("strong",{children:"Комментарий:"})," ",z.notes]})]})},z.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Заезды"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление заездами гостей"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(tm,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Oe,{placeholder:"Поиск по имени, номеру или телефону...",value:p,onChange:z=>v(z.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(Oe,{type:"date",value:y,onChange:z=>b(z.target.value)})})]})})]}),h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка заездов..."})]}):c.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):a.jsx(Ce,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(gd,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет заездов"}),a.jsxs("p",{children:["На ",$e(new Date(y),"dd MMMM yyyy",{locale:R})," заездов нет"]})]})}),P&&a.jsx(Md,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{N(!1),E(null)},onBookingSaved:D})]})}const _U={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function r2(){const{t:n,currentLanguage:e,formatCurrency:t}=es("booking"),[r,o]=w.useState([]),[c,u]=w.useState([]),[h,m]=w.useState(!0),[p,v]=w.useState(""),[y,b]=w.useState($e(new Date,"yyyy-MM-dd")),[C,E]=w.useState(null),[P,N]=w.useState(!1),R=e==="ru"?En:Ha,k=e==="ru"?"RUB":"USD";w.useEffect(()=>{T()},[y]),w.useEffect(()=>{if(!p.trim())u(r);else{const z=r.filter(q=>{var pe,ke,ge,be,W,K;const X=((ke=(pe=q.guests)==null?void 0:pe.full_name)==null?void 0:ke.toLowerCase())||"",re=((be=(ge=q.rooms)==null?void 0:ge.room_number)==null?void 0:be.toLowerCase())||"",ie=((K=(W=q.guests)==null?void 0:W.phone)==null?void 0:K.toLowerCase())||"",me=p.toLowerCase();return X.includes(me)||re.includes(me)||ie.includes(me)});u(z)}},[p,r]);const T=async()=>{m(!0);try{const z=new Date(y),q=new Date(y);q.setDate(q.getDate()+1);const X=await im(z,q);if(X.error)throw X.error;const re=(X.data||[]).filter(ie=>ie.status==="cancelled"?!1:$e(_t(ie.check_out),"yyyy-MM-dd")===y);console.log("📅 Departures for",y,":",re),o(re)}catch(z){console.error("Error loading departures:",z)}finally{m(!1)}},M=async z=>{var q;console.log("✅ Check-out:",(q=z.guests)==null?void 0:q.full_name)},I=z=>{E(z),N(!0)},D=()=>{N(!1),E(null),T()},F=z=>{var q,X,re,ie,me;return a.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>I(z),children:a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Ii,{className:"h-5 w-5 text-orange-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:((q=z.guests)==null?void 0:q.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["Выезд: ",$e(_t(z.check_out),"HH:mm")]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(tt,{className:_U[z.status]||"bg-slate-100 text-slate-800",children:n(`status.${z.status}`)}),z.status==="checked_in"&&a.jsxs(De,{size:"sm",className:"bg-orange-600 hover:bg-orange-700",onClick:pe=>{pe.stopPropagation(),M(z)},children:[a.jsx(Fi,{className:"h-4 w-4 mr-1"}),"Отметить выезд"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(nm,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((X=z.rooms)==null?void 0:X.room_number)||"N/A"," (",((re=z.rooms)==null?void 0:re.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Xs,{className:"h-3 w-3"}),a.jsxs("span",{children:[z.guests_count||1," ",(z.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((ie=z.guests)==null?void 0:ie.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Hi,{className:"h-3 w-3"}),a.jsx("span",{children:z.guests.phone})]}),((me=z.guests)==null?void 0:me.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Jg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:z.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[$e(_t(z.check_in),"dd MMM",{locale:R})," -",$e(_t(z.check_out),"dd MMM",{locale:R})]})]}),z.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Сумма:"}),a.jsx("span",{className:"font-semibold text-slate-800",children:t(z.total_amount,k)})]}),z.amount_paid<z.total_amount&&a.jsxs("div",{className:"flex justify-between items-center mt-1 text-red-600",children:[a.jsx("span",{className:"text-sm",children:"К доплате:"}),a.jsx("span",{className:"font-semibold",children:t(z.total_amount-z.amount_paid,k)})]})]}),z.notes&&a.jsxs("div",{className:"mt-3 p-2 bg-slate-50 rounded text-sm text-slate-600",children:[a.jsx("strong",{children:"Комментарий:"})," ",z.notes]})]})},z.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Выезды"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление выездами гостей"})]}),a.jsx("div",{className:"flex items-center gap-3",children:a.jsxs(tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",c.length]})})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(tm,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Oe,{placeholder:"Поиск по имени, номеру или телефону...",value:p,onChange:z=>v(z.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(Oe,{type:"date",value:y,onChange:z=>b(z.target.value)})})]})})]}),h?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка выездов..."})]}):c.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:c.map(F)}):a.jsx(Ce,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(Ii,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет выездов"}),a.jsxs("p",{children:["На ",$e(new Date(y),"dd MMMM yyyy",{locale:R})," выездов нет"]})]})}),P&&a.jsx(Md,{bookingToEdit:C,rooms:[],services:[],allBookings:r,onClose:()=>{N(!1),E(null)},onBookingSaved:D})]})}const bU={confirmed:"bg-emerald-100 text-emerald-800",pending:"bg-amber-100 text-amber-800",cancelled:"bg-rose-100 text-rose-800",checked_in:"bg-violet-100 text-violet-800",checked_out:"bg-sky-100 text-sky-800"};function s2(){const{t:n,currentLanguage:e}=es("booking"),[t,r]=w.useState([]),[o,c]=w.useState([]),[u,h]=w.useState(!0),[m,p]=w.useState(""),[v,y]=w.useState($e(new Date,"yyyy-MM-dd")),[b,C]=w.useState(null),[E,P]=w.useState(!1),N=e==="ru"?En:Ha;w.useEffect(()=>{R()},[v]),w.useEffect(()=>{if(!m.trim())c(t);else{const I=t.filter(D=>{var re,ie,me,pe,ke,ge;const F=((ie=(re=D.guests)==null?void 0:re.full_name)==null?void 0:ie.toLowerCase())||"",z=((pe=(me=D.rooms)==null?void 0:me.room_number)==null?void 0:pe.toLowerCase())||"",q=((ge=(ke=D.guests)==null?void 0:ke.phone)==null?void 0:ge.toLowerCase())||"",X=m.toLowerCase();return F.includes(X)||z.includes(X)||q.includes(X)});c(I)}},[m,t]);const R=async()=>{h(!0);try{const I=new Date(v),D=new Date(v);D.setDate(D.getDate()+1);const F=await im(I,D);if(F.error)throw F.error;const z=(F.data||[]).filter(q=>{if(q.status==="cancelled")return!1;const X=new Date(q.check_in),re=new Date(q.check_out),ie=new Date(v);return X<=ie&&re>ie});console.log("🏠 Stays for",v,":",z),r(z)}catch(I){console.error("Error loading stays:",I)}finally{h(!1)}},k=I=>{C(I),P(!0)},T=()=>{P(!1),C(null),R()},M=I=>{var z,q,X,re,ie;const D=Math.ceil((new Date(I.check_out)-new Date(I.check_in))/864e5),F=Math.ceil((new Date(v)-new Date(I.check_in))/(1e3*60*60*24));return a.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>k(I),children:a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(Do,{className:"h-5 w-5 text-purple-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:((z=I.guests)==null?void 0:z.full_name)||"Неизвестный гость"}),a.jsxs("p",{className:"text-sm text-slate-500",children:["День ",F," из ",D]})]})]}),a.jsx(tt,{className:bU[I.status]||"bg-slate-100 text-slate-800",children:n(`status.${I.status}`)})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(nm,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",((q=I.rooms)==null?void 0:q.room_number)||"N/A"," (",((X=I.rooms)==null?void 0:X.room_type)||"N/A",")"]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Xs,{className:"h-3 w-3"}),a.jsxs("span",{children:[I.guests_count||1," ",(I.guests_count||1)===1?"гость":"гостя"]})]})]}),a.jsxs("div",{className:"space-y-2",children:[((re=I.guests)==null?void 0:re.phone)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Hi,{className:"h-3 w-3"}),a.jsx("span",{children:I.guests.phone})]}),((ie=I.guests)==null?void 0:ie.email)&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Jg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:I.guests.email})]})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Период:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[$e(_t(I.check_in),"dd MMM",{locale:N})," -",$e(_t(I.check_out),"dd MMM",{locale:N})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-1",children:[a.jsx("span",{className:"text-sm text-slate-600",children:"Выезд через:"}),a.jsxs("span",{className:"font-medium text-slate-800",children:[Math.ceil((new Date(I.check_out)-new Date(v))/(1e3*60*60*24))," дн."]})]})]}),I.booking_services&&I.booking_services.length>0&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200",children:[a.jsx("div",{className:"text-sm text-slate-600 mb-2",children:"Заказанные услуги:"}),a.jsxs("div",{className:"space-y-1",children:[I.booking_services.slice(0,3).map((me,pe)=>{var ke;return a.jsxs("div",{className:"text-xs text-slate-500",children:["• ",(ke=me.services)==null?void 0:ke.name," x",me.quantity]},pe)}),I.booking_services.length>3&&a.jsxs("div",{className:"text-xs text-slate-400",children:["+",I.booking_services.length-3," еще"]})]})]})]})},I.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Проживания"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Гости, проживающие в отеле"})]}),a.jsxs(tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",o.length]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(tm,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(Re,{children:a.jsxs("div",{className:"flex gap-4",children:[a.jsx("div",{className:"flex-1",children:a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Oe,{placeholder:"Поиск по имени, номеру или телефону...",value:m,onChange:I=>p(I.target.value),className:"pl-10"})]})}),a.jsx("div",{className:"w-48",children:a.jsx(Oe,{type:"date",value:v,onChange:I=>y(I.target.value)})})]})})]}),u?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка проживаний..."})]}):o.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:o.map(M)}):a.jsx(Ce,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(Do,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет проживаний"}),a.jsxs("p",{children:["На ",$e(new Date(v),"dd MMMM yyyy",{locale:N})," никто не проживает"]})]})}),E&&a.jsx(Md,{bookingToEdit:b,rooms:[],services:[],allBookings:t,onClose:()=>{P(!1),C(null)},onBookingSaved:T})]})}function a2(){const{currentLanguage:n}=es("booking"),[e,t]=w.useState([]),[r,o]=w.useState(!1),[c,u]=w.useState($e(new Date,"yyyy-MM-dd")),h=n==="ru"?En:Ha;w.useEffect(()=>{t([])},[c]);const m=p=>a.jsx(Ce,{className:"cursor-pointer hover:shadow-md transition-shadow",children:a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx(D0,{className:"h-5 w-5 text-pink-600"}),a.jsxs("div",{children:[a.jsx("h3",{className:"font-semibold text-slate-800",children:p.guest_name}),a.jsx("p",{className:"text-sm text-slate-500",children:"День рождения сегодня"})]})]}),a.jsxs(tt,{className:"bg-pink-100 text-pink-800",children:["🎂 ",p.age," лет"]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(nm,{className:"h-3 w-3"}),a.jsxs("span",{children:["Номер ",p.room_number]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx($i,{className:"h-3 w-3"}),a.jsxs("span",{children:["Проживает до ",p.check_out]})]})]}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Hi,{className:"h-3 w-3"}),a.jsx("span",{children:p.phone})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Jg,{className:"h-3 w-3"}),a.jsx("span",{className:"truncate",children:p.email})]})]})]}),a.jsx("div",{className:"mt-3 p-3 bg-pink-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-pink-700",children:"💡 Не забудьте поздравить с днем рождения и предложить комплимент от отеля!"})})]})},p.id);return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Дни рождения"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Именинники среди гостей"})]}),a.jsxs(tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",e.length]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(tm,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(Re,{children:a.jsx("div",{className:"w-48",children:a.jsx(Oe,{type:"date",value:c,onChange:p=>u(p.target.value)})})})]}),r?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка дней рождения..."})]}):e.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:e.map(m)}):a.jsx(Ce,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(D0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет именинников"}),a.jsxs("p",{children:["На ",$e(new Date(c),"dd MMMM yyyy",{locale:h})," дней рождения нет"]}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsx("p",{className:"text-sm text-blue-700",children:"💡 Функция отслеживания дней рождения будет активирована после добавления даты рождения в профили гостей"})})]})})]})}const jU={high:"bg-red-100 text-red-800",medium:"bg-yellow-100 text-yellow-800",low:"bg-green-100 text-green-800"},SU={pending:"bg-gray-100 text-gray-800",in_progress:"bg-blue-100 text-blue-800",completed:"bg-green-100 text-green-800"};function o2(){const{currentLanguage:n}=es("booking"),[e,t]=w.useState([]),[r,o]=w.useState([]),[c,u]=w.useState(!1),[h,m]=w.useState(""),[p,v]=w.useState(!1),[y,b]=w.useState({title:"",description:"",priority:"medium",assignedTo:"",dueDate:$e(new Date,"yyyy-MM-dd")}),C=n==="ru"?En:Ha;w.useEffect(()=>{const R=[{id:"1",title:"Подготовить номер 101 к заезду",description:"Провести генеральную уборку номера после ремонта",priority:"high",status:"pending",assignedTo:"Мария Иванова",dueDate:$e(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()},{id:"2",title:"Проверить кондиционер в номере 205",description:"Гость жалуется на шум",priority:"medium",status:"in_progress",assignedTo:"Алексей Петров",dueDate:$e(new Date,"yyyy-MM-dd"),createdAt:new Date().toISOString()}];t(R)},[]),w.useEffect(()=>{if(!h.trim())o(e);else{const R=e.filter(k=>{var F,z,q;const T=((F=k.title)==null?void 0:F.toLowerCase())||"",M=((z=k.description)==null?void 0:z.toLowerCase())||"",I=((q=k.assignedTo)==null?void 0:q.toLowerCase())||"",D=h.toLowerCase();return T.includes(D)||M.includes(D)||I.includes(D)});o(R)}},[h,e]);const E=async()=>{if(!y.title.trim())return;const R={id:Date.now().toString(),...y,status:"pending",createdAt:new Date().toISOString()};t(k=>[...k,R]),b({title:"",description:"",priority:"medium",assignedTo:"",dueDate:$e(new Date,"yyyy-MM-dd")}),v(!1)},P=(R,k)=>{t(T=>T.map(M=>M.id===R?{...M,status:k}:M))},N=R=>{const k=new Date(R.dueDate)<new Date&&R.status!=="completed";return a.jsx(Ce,{className:`cursor-pointer hover:shadow-md transition-shadow ${k?"border-red-200":""}`,children:a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"font-semibold text-slate-800 mb-1",children:R.title}),R.description&&a.jsx("p",{className:"text-sm text-slate-600 mb-2",children:R.description})]}),a.jsxs("div",{className:"flex flex-col gap-2 ml-3",children:[a.jsx(tt,{className:jU[R.priority],children:R.priority==="high"?"Высокий":R.priority==="medium"?"Средний":"Низкий"}),a.jsx(tt,{className:SU[R.status],children:R.status==="pending"?"Ожидает":R.status==="in_progress"?"В работе":"Завершено"})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[R.assignedTo&&a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(Xs,{className:"h-3 w-3"}),a.jsxs("span",{children:["Ответственный: ",R.assignedTo]})]}),a.jsxs("div",{className:"flex items-center gap-2 text-slate-600",children:[a.jsx(md,{className:"h-3 w-3"}),a.jsxs("span",{children:["Срок: ",$e(new Date(R.dueDate),"dd MMMM yyyy",{locale:C})]}),k&&a.jsx(tt,{variant:"destructive",className:"ml-2",children:"Просрочено"})]})]}),a.jsxs("div",{className:"mt-3 pt-3 border-t border-slate-200 flex gap-2",children:[R.status==="pending"&&a.jsx(De,{size:"sm",variant:"outline",onClick:T=>{T.stopPropagation(),P(R.id,"in_progress")},children:"Начать работу"}),R.status==="in_progress"&&a.jsxs(De,{size:"sm",className:"bg-green-600 hover:bg-green-700",onClick:T=>{T.stopPropagation(),P(R.id,"completed")},children:[a.jsx(L0,{className:"h-4 w-4 mr-1"}),"Завершить"]})]})]})},R.id)};return a.jsxs("div",{className:"p-6 space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-slate-800",children:"Задачи"}),a.jsx("p",{className:"text-slate-600 mt-1",children:"Управление рабочими задачами"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs(tt,{variant:"outline",className:"text-base px-3 py-1",children:["Всего: ",r.length]}),a.jsxs(De,{onClick:()=>v(!p),children:[a.jsx($h,{className:"h-4 w-4 mr-2"}),"Новая задача"]})]})]}),p&&a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsx(Je,{children:"Создать новую задачу"})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsx("div",{children:a.jsx(Oe,{placeholder:"Название задачи",value:y.title,onChange:R=>b(k=>({...k,title:R.target.value}))})}),a.jsx("div",{children:a.jsx(om,{placeholder:"Описание задачи",value:y.description,onChange:R=>b(k=>({...k,description:R.target.value})),rows:3})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[a.jsx("div",{children:a.jsxs(Ma,{value:y.priority,onValueChange:R=>b(k=>({...k,priority:R})),children:[a.jsx(Gs,{children:a.jsx(Oa,{placeholder:"Приоритет"})}),a.jsxs(qs,{children:[a.jsx(Ft,{value:"low",children:"Низкий"}),a.jsx(Ft,{value:"medium",children:"Средний"}),a.jsx(Ft,{value:"high",children:"Высокий"})]})]})}),a.jsx("div",{children:a.jsx(Oe,{placeholder:"Ответственный",value:y.assignedTo,onChange:R=>b(k=>({...k,assignedTo:R.target.value}))})}),a.jsx("div",{children:a.jsx(Oe,{type:"date",value:y.dueDate,onChange:R=>b(k=>({...k,dueDate:R.target.value}))})})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx(De,{onClick:E,children:"Создать задачу"}),a.jsx(De,{variant:"outline",onClick:()=>v(!1),children:"Отмена"})]})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center gap-2",children:[a.jsx(tm,{className:"h-5 w-5"}),"Фильтры"]})}),a.jsx(Re,{children:a.jsxs("div",{className:"relative",children:[a.jsx(ac,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-slate-400"}),a.jsx(Oe,{placeholder:"Поиск по названию, описанию или ответственному...",value:h,onChange:R=>m(R.target.value),className:"pl-10"})]})})]}),c?a.jsxs("div",{className:"text-center py-8",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"}),a.jsx("p",{className:"mt-2 text-slate-600",children:"Загрузка задач..."})]}):r.length>0?a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:r.map(N)}):a.jsx(Ce,{className:"p-8",children:a.jsxs("div",{className:"text-center text-slate-500",children:[a.jsx(L0,{className:"h-12 w-12 mx-auto mb-4 text-slate-300"}),a.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Нет задач"}),a.jsx("p",{children:"Создайте первую задачу для команды"})]})})]})}const f0=[{id:"standard_apartment",title:"Deluxe apartment",type:"Вилла целиком",location:"Унаватуна, Шри-Ланка",guests:2,bedrooms:1,bathrooms:1,price:100,rating:4.95,reviewsCount:47,images:["/airbnb-mock/villa1-1.jpg","/airbnb-mock/villa1-2.jpg","/airbnb-mock/villa1-3.jpg","/airbnb-mock/villa1-4.jpg"],amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",available:!0},{id:"deluxe_suite",title:"Deluxe suite apartment",type:"Квартира целиком",location:"Унаватуна, Шри-Ланка",guests:4,bedrooms:2,bathrooms:2,price:200,rating:4.89,reviewsCount:23,images:["/airbnb-mock/villa2-1.jpg","/airbnb-mock/villa2-2.jpg","/airbnb-mock/villa2-3.jpg","/airbnb-mock/villa2-4.jpg"],amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",available:!0},{id:"bungalow",title:"Bungalow 3",type:"Бунгало целиком",location:"Унаватуна, Шри-Ланка",guests:2,bedrooms:1,bathrooms:1,price:120,rating:4.92,reviewsCount:31,images:["/airbnb-mock/bungalow-1.jpg","/airbnb-mock/bungalow-2.jpg","/airbnb-mock/bungalow-3.jpg"],amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"}],channex_room_type_id:"8df610ce-cabb-429d-98d0-90c33f451d97",channex_rate_plan_id:"8212ad16-0057-496b-8b0b-54d741841852",available:!0},{id:"villa",title:"Villa ground floor",type:"Вилла целиком",location:"Унаватуна, Шри-Ланка",guests:6,bedrooms:3,bathrooms:2,price:300,rating:4.97,reviewsCount:18,images:["/airbnb-mock/villa-1.jpg","/airbnb-mock/villa-2.jpg","/airbnb-mock/villa-3.jpg","/airbnb-mock/villa-4.jpg"],amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],channex_room_type_id:"734d5d86-1fe6-44d8-b6c5-4ac9349c4410",channex_rate_plan_id:"0661e606-18e5-4ad3-bda0-ade13d29b76b",available:!0}];function i2(){const n=kd(),[e]=P1(),[t,r]=w.useState(e.get("checkin")||""),[o,c]=w.useState(e.get("checkout")||""),[u,h]=w.useState(parseInt(e.get("guests"))||2),[m,p]=w.useState(f0),[v,y]=w.useState(!1),b=async()=>{if(!(!t||!o)){y(!0),console.log("🔍 Проверяем доступность номеров для дат:",{checkIn:t,checkOut:o,guestsCount:u});try{await new Promise(R=>setTimeout(R,1e3));const N=f0.filter(R=>R.guests>=u);p(N),console.log(`✅ Найдено ${N.length} доступных номеров`)}catch(N){console.error("❌ Ошибка проверки доступности:",N)}finally{y(!1)}}};w.useEffect(()=>{t&&o&&b()},[t,o,u]);const C=()=>{if(!t||!o)return 0;const N=new Date(t),R=new Date(o);return Math.ceil((R-N)/(1e3*60*60*24))},E=N=>{const R=new URLSearchParams({roomId:N.id,checkin:t,checkout:o,guests:u.toString(),nights:C().toString(),totalPrice:(N.price*C()).toString()});n(`/airbnb-booking?${R.toString()}`)},P=C();return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx("div",{className:"border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded text-white flex items-center justify-center font-bold",children:"A"}),a.jsx("span",{className:"text-xl font-semibold text-red-500",children:"airbnb"}),a.jsx("span",{className:"text-sm text-gray-500 ml-4",children:"🧪 Тестовая среда для интеграции PMS"})]}),a.jsx(De,{variant:"outline",onClick:()=>n("/dashboard"),className:"text-sm",children:"← Вернуться в PMS"})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"mb-8",children:[a.jsx("h1",{className:"text-3xl font-semibold mb-2",children:"Отели в Унаватуне"}),a.jsxs("p",{className:"text-gray-600",children:["Более ",m.length," вариантов размещения"]})]}),a.jsx(Ce,{className:"mb-8",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Прибытие"}),a.jsx(Oe,{type:"date",value:t,onChange:N=>r(N.target.value),min:$e(new Date,"yyyy-MM-dd")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Выезд"}),a.jsx(Oe,{type:"date",value:o,onChange:N=>c(N.target.value),min:t||$e(new Date,"yyyy-MM-dd")})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Гости"}),a.jsx(Oe,{type:"number",value:u,onChange:N=>h(parseInt(N.target.value)),min:"1",max:"10"})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(De,{onClick:b,disabled:!t||!o||v,className:"w-full bg-red-500 hover:bg-red-600 text-white",children:v?"Поиск...":"Найти жилье"})})]})})}),v?a.jsx("div",{className:"flex justify-center py-8",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-red-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Ищем доступные варианты..."})]})}):a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:m.map(N=>a.jsx(Ce,{className:"overflow-hidden hover:shadow-lg transition-shadow cursor-pointer",children:a.jsxs("div",{className:"relative",onClick:()=>E(N),children:[a.jsxs("div",{className:"h-64 bg-gradient-to-r from-gray-200 to-gray-300 relative",children:[a.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"text-4xl mb-2",children:"🏠"}),a.jsx("p",{className:"text-gray-600 font-medium",children:N.title})]})}),a.jsxs("div",{className:"absolute top-3 right-3 flex space-x-2",children:[a.jsx(De,{size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm",children:a.jsx(FD,{className:"h-4 w-4"})}),a.jsx(De,{size:"sm",variant:"outline",className:"bg-white/90 backdrop-blur-sm",children:a.jsx(x4,{className:"h-4 w-4"})})]})]}),a.jsxs(Re,{className:"p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:N.type}),a.jsxs("div",{className:"flex items-center space-x-1",children:[a.jsx($0,{className:"h-4 w-4 fill-current"}),a.jsx("span",{className:"text-sm font-medium",children:N.rating}),a.jsxs("span",{className:"text-sm text-gray-500",children:["(",N.reviewsCount,")"]})]})]}),a.jsx("h3",{className:"font-semibold text-gray-900 mb-1",children:N.title}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[a.jsx(nm,{className:"h-4 w-4 mr-1"}),N.location]}),a.jsxs("div",{className:"flex items-center text-sm text-gray-600 mb-3",children:[a.jsx(yy,{className:"h-4 w-4 mr-1"}),N.guests," гостей · ",N.bedrooms," спальни · ",N.bathrooms," ванная"]}),a.jsxs("div",{className:"flex flex-wrap gap-1 mb-3",children:[N.amenities.slice(0,3).map((R,k)=>a.jsxs(tt,{variant:"secondary",className:"text-xs",children:[a.jsx(R.icon,{className:"h-3 w-3 mr-1"}),R.label]},k)),N.amenities.length>3&&a.jsxs(tt,{variant:"outline",className:"text-xs",children:["+",N.amenities.length-3]})]}),a.jsx(Or,{className:"my-3"}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-xl font-semibold",children:["$",N.price]}),a.jsx("span",{className:"text-gray-600",children:" / ночь"}),P>0&&a.jsxs("div",{className:"text-sm text-gray-600",children:["$",N.price*P," за ",P," ноч."]})]}),a.jsx(tt,{variant:N.available?"default":"destructive",children:N.available?"Доступно":"Занято"})]})]})]})},N.id))}),m.length===0&&!v&&a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"text-6xl mb-4",children:"😔"}),a.jsx("h3",{className:"text-xl font-medium text-gray-900 mb-2",children:"Нет доступных вариантов"}),a.jsxs("p",{className:"text-gray-600 mb-4",children:["На выбранные даты нет свободных номеров для ",u," гостей"]}),a.jsx(De,{variant:"outline",onClick:()=>{r(""),c(""),h(2),p(f0)},children:"Изменить параметры поиска"})]})]})]})}var Nx="Checkbox",[NU,aB]=ts(Nx),[kU,mw]=NU(Nx);function CU(n){const{__scopeCheckbox:e,checked:t,children:r,defaultChecked:o,disabled:c,form:u,name:h,onCheckedChange:m,required:p,value:v="on",internal_do_not_use_render:y}=n,[b,C]=La({prop:t,defaultProp:o??!1,onChange:m,caller:Nx}),[E,P]=w.useState(null),[N,R]=w.useState(null),k=w.useRef(!1),T=E?!!u||!!E.closest("form"):!0,M={checked:b,disabled:c,setChecked:C,control:E,setControl:P,name:h,form:u,value:v,hasConsumerStoppedPropagationRef:k,required:p,defaultChecked:Li(o)?!1:o,isFormControl:T,bubbleInput:N,setBubbleInput:R};return a.jsx(kU,{scope:e,...M,children:EU(y)?y(M):r})}var l2="CheckboxTrigger",c2=w.forwardRef(({__scopeCheckbox:n,onKeyDown:e,onClick:t,...r},o)=>{const{control:c,value:u,disabled:h,checked:m,required:p,setControl:v,setChecked:y,hasConsumerStoppedPropagationRef:b,isFormControl:C,bubbleInput:E}=mw(l2,n),P=Rt(o,v),N=w.useRef(m);return w.useEffect(()=>{const R=c==null?void 0:c.form;if(R){const k=()=>y(N.current);return R.addEventListener("reset",k),()=>R.removeEventListener("reset",k)}},[c,y]),a.jsx(nt.button,{type:"button",role:"checkbox","aria-checked":Li(m)?"mixed":m,"aria-required":p,"data-state":m2(m),"data-disabled":h?"":void 0,disabled:h,value:u,...r,ref:P,onKeyDown:Ge(e,R=>{R.key==="Enter"&&R.preventDefault()}),onClick:Ge(t,R=>{y(k=>Li(k)?!0:!k),E&&C&&(b.current=R.isPropagationStopped(),b.current||R.stopPropagation())})})});c2.displayName=l2;var pw=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,name:r,checked:o,defaultChecked:c,required:u,disabled:h,value:m,onCheckedChange:p,form:v,...y}=n;return a.jsx(CU,{__scopeCheckbox:t,checked:o,defaultChecked:c,disabled:h,required:u,onCheckedChange:p,name:r,form:v,value:m,internal_do_not_use_render:({isFormControl:b})=>a.jsxs(a.Fragment,{children:[a.jsx(c2,{...y,ref:e,__scopeCheckbox:t}),b&&a.jsx(h2,{__scopeCheckbox:t})]})})});pw.displayName=Nx;var u2="CheckboxIndicator",d2=w.forwardRef((n,e)=>{const{__scopeCheckbox:t,forceMount:r,...o}=n,c=mw(u2,t);return a.jsx(ta,{present:r||Li(c.checked)||c.checked===!0,children:a.jsx(nt.span,{"data-state":m2(c.checked),"data-disabled":c.disabled?"":void 0,...o,ref:e,style:{pointerEvents:"none",...n.style}})})});d2.displayName=u2;var f2="CheckboxBubbleInput",h2=w.forwardRef(({__scopeCheckbox:n,...e},t)=>{const{control:r,hasConsumerStoppedPropagationRef:o,checked:c,defaultChecked:u,required:h,disabled:m,name:p,value:v,form:y,bubbleInput:b,setBubbleInput:C}=mw(f2,n),E=Rt(t,C),P=gk(c),N=rS(r);w.useEffect(()=>{const k=b;if(!k)return;const T=window.HTMLInputElement.prototype,I=Object.getOwnPropertyDescriptor(T,"checked").set,D=!o.current;if(P!==c&&I){const F=new Event("click",{bubbles:D});k.indeterminate=Li(c),I.call(k,Li(c)?!1:c),k.dispatchEvent(F)}},[b,P,c,o]);const R=w.useRef(Li(c)?!1:c);return a.jsx(nt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:u??R.current,required:h,disabled:m,name:p,value:v,form:y,...e,tabIndex:-1,ref:E,style:{...e.style,...N,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});h2.displayName=f2;function EU(n){return typeof n=="function"}function Li(n){return n==="indeterminate"}function m2(n){return Li(n)?"indeterminate":n?"checked":"unchecked"}const p2=w.forwardRef(({className:n,...e},t)=>a.jsx(pw,{ref:t,className:Be("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",n),...e,children:a.jsx(d2,{className:Be("flex items-center justify-center text-current"),children:a.jsx($a,{className:"h-4 w-4"})})}));p2.displayName=pw.displayName;const PU={standard_apartment:{title:"Deluxe apartment",type:"Вилла целиком",location:"Унаватуна, Шри-Ланка",guests:2,bedrooms:1,bathrooms:1,rating:4.95,reviewsCount:47,amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],host:{name:"Константин",avatar:"👨‍💼",yearsHosting:4}},deluxe_suite:{title:"Deluxe suite apartment",type:"Квартира целиком",location:"Унаватуна, Шри-Ланка",guests:4,bedrooms:2,bathrooms:2,rating:4.89,reviewsCount:23,amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],host:{name:"Константин",avatar:"👨‍💼",yearsHosting:4}},bungalow:{title:"Bungalow 3",type:"Бунгало целиком",location:"Унаватуна, Шри-Ланка",guests:2,bedrooms:1,bathrooms:1,rating:4.92,reviewsCount:31,amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"}],host:{name:"Константин",avatar:"👨‍💼",yearsHosting:4}},villa:{title:"Villa ground floor",type:"Вилла целиком",location:"Унаватуна, Шри-Ланка",guests:6,bedrooms:3,bathrooms:2,rating:4.97,reviewsCount:18,amenities:[{icon:Oi,label:"Wi-Fi"},{icon:Ai,label:"Бесплатная парковка"},{icon:Mi,label:"ТВ"},{icon:Ti,label:"Кондиционер"},{icon:xd,label:"Кухня"}],host:{name:"Константин",avatar:"👨‍💼",yearsHosting:4}}};function g2(){const n=kd(),[e]=P1(),t=e.get("roomId"),r=e.get("checkin"),o=e.get("checkout"),c=parseInt(e.get("guests")),u=parseInt(e.get("nights")),h=parseInt(e.get("totalPrice"))/u,m=PU[t],[p,v]=w.useState({firstName:"",lastName:"",email:"",phone:"",message:""}),[y,b]=w.useState({cardNumber:"",expiryDate:"",cvv:"",nameOnCard:"",country:"Россия",postalCode:""}),[C,E]=w.useState(!1),[P,N]=w.useState(!1),R=h*u,k=Math.round(R*.14),T=Math.round(R*.05),M=R+k+T,I=async()=>{var D;if(!P){alert("Необходимо согласиться с условиями");return}if(!p.firstName||!p.lastName||!p.email){alert("Заполните все обязательные поля");return}E(!0);try{console.log("🏠 Начинаем процесс бронирования Airbnb"),console.log("📋 Данные бронирования:",{roomId:t,room:m.title,checkIn:r,checkOut:o,nights:u,guests:c,total:M,guest:`${p.firstName} ${p.lastName}`});const F={room_type:t,check_in:r,check_out:o,guest_first_name:p.firstName,guest_last_name:p.lastName,guest_email:p.email,guest_phone:p.phone,adults:c,children:0,notes:p.message,test:!0};console.log("📤 Отправляем бронирование через AirbnbChannexService...");const z=await Ah.createAirbnbBooking(F);console.log("✅ Бронирование успешно создано:",z),n("/airbnb-confirmation",{state:{booking:{id:(D=z.data)==null?void 0:D.id,room:m.title,checkIn:r,checkOut:o,nights:u,guests:c,total:M,guest:`${p.firstName} ${p.lastName}`,email:p.email}}})}catch(F){console.error("❌ Ошибка создания бронирования:",F),alert("Произошла ошибка при создании бронирования. Попробуйте еще раз.")}finally{E(!1)}};return m?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(De,{variant:"ghost",size:"sm",onClick:()=>n("/airbnb"),className:"p-2",children:a.jsx(QO,{className:"h-4 w-4"})}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded text-white flex items-center justify-center font-bold",children:"A"}),a.jsx("span",{className:"text-xl font-semibold text-red-500",children:"airbnb"})]})]}),a.jsx("span",{className:"text-sm text-gray-500",children:"🧪 Тестовая среда"})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-6 py-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-semibold mb-6",children:"Подтвердите и оплатите"}),a.jsx(Ce,{className:"mb-6",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("div",{className:"w-24 h-24 bg-gradient-to-r from-gray-200 to-gray-300 rounded-lg flex items-center justify-center",children:a.jsx("span",{className:"text-2xl",children:"🏠"})}),a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-600 mb-1",children:[a.jsx("span",{children:m.type}),a.jsx("span",{children:"•"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx($0,{className:"h-4 w-4 fill-current mr-1"}),a.jsxs("span",{children:[m.rating," (",m.reviewsCount,")"]})]})]}),a.jsx("h3",{className:"font-semibold text-lg mb-1",children:m.title}),a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:[m.guests," гостей · ",m.bedrooms," спальни · ",m.bathrooms," ванная"]}),a.jsx("div",{className:"flex flex-wrap gap-1",children:m.amenities.slice(0,4).map((D,F)=>a.jsxs(tt,{variant:"secondary",className:"text-xs",children:[a.jsx(D.icon,{className:"h-3 w-3 mr-1"}),D.label]},F))})]})]})})}),a.jsxs(Ce,{className:"mb-6",children:[a.jsx(Ye,{children:a.jsx(Je,{className:"text-lg",children:"Ваша поездка"})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Даты"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[r&&$e(new Date(r),"d MMM",{locale:En})," - ",o&&$e(new Date(o),"d MMM yyyy",{locale:En})]})]}),a.jsx(De,{variant:"ghost",size:"sm",className:"text-sm underline",children:"Изменить"})]}),a.jsx(Or,{}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium",children:"Гости"}),a.jsxs("div",{className:"text-sm text-gray-600",children:[c," гостей"]})]}),a.jsx(De,{variant:"ghost",size:"sm",className:"text-sm underline",children:"Изменить"})]})]})]}),a.jsx(Ce,{children:a.jsxs(Re,{className:"p-6",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[a.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center text-xl",children:m.host.avatar}),a.jsxs("div",{children:[a.jsxs("div",{className:"font-medium",children:["Хозяин: ",m.host.name]}),a.jsxs("div",{className:"text-sm text-gray-600",children:[m.host.yearsHosting," года принимает гостей"]})]})]}),a.jsxs("div",{className:"space-y-2 text-sm",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(y4,{className:"h-4 w-4 text-green-500"}),a.jsx("span",{children:"Личность подтверждена"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx($0,{className:"h-4 w-4 text-yellow-500"}),a.jsx("span",{children:"Высокий рейтинг хозяина"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(md,{className:"h-4 w-4 text-blue-500"}),a.jsx("span",{children:"Быстро отвечает"})]})]})]})})]}),a.jsx("div",{children:a.jsx(Ce,{className:"sticky top-6",children:a.jsxs(Re,{className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Информация о гостях"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"firstName",children:"Имя *"}),a.jsx(Oe,{id:"firstName",value:p.firstName,onChange:D=>v({...p,firstName:D.target.value}),placeholder:"Введите имя"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"lastName",children:"Фамилия *"}),a.jsx(Oe,{id:"lastName",value:p.lastName,onChange:D=>v({...p,lastName:D.target.value}),placeholder:"Введите фамилию"})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"email",children:"Электронная почта *"}),a.jsx(Oe,{id:"email",type:"email",value:p.email,onChange:D=>v({...p,email:D.target.value}),placeholder:"example@email.com"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"phone",children:"Номер телефона"}),a.jsx(Oe,{id:"phone",type:"tel",value:p.phone,onChange:D=>v({...p,phone:D.target.value}),placeholder:"+7 (900) 000-00-00"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"message",children:"Сообщение хозяину (необязательно)"}),a.jsx(om,{id:"message",value:p.message,onChange:D=>v({...p,message:D.target.value}),placeholder:"Расскажите хозяину о цели поездки",rows:3})]})]})]}),a.jsx(Or,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Способ оплаты"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"cardNumber",children:"Номер карты *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Oe,{id:"cardNumber",value:y.cardNumber,onChange:D=>b({...y,cardNumber:D.target.value}),placeholder:"1234 5678 9012 3456",className:"pl-10"}),a.jsx(xy,{className:"h-4 w-4 absolute left-3 top-3 text-gray-400"})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"💳 Тестовая карта: 4242 4242 4242 4242"})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"expiryDate",children:"Срок действия"}),a.jsx(Oe,{id:"expiryDate",value:y.expiryDate,onChange:D=>b({...y,expiryDate:D.target.value}),placeholder:"MM/YY"})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"cvv",children:"CVV"}),a.jsx(Oe,{id:"cvv",value:y.cvv,onChange:D=>b({...y,cvv:D.target.value}),placeholder:"123",maxLength:4})]})]}),a.jsxs("div",{children:[a.jsx(ze,{htmlFor:"nameOnCard",children:"Имя на карте"}),a.jsx(Oe,{id:"nameOnCard",value:y.nameOnCard,onChange:D=>b({...y,nameOnCard:D.target.value}),placeholder:"IVAN PETROV"})]})]})]}),a.jsx(Or,{className:"my-6"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-4",children:"Детали цены"}),a.jsxs("div",{className:"space-y-3 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("span",{children:["$",h," × ",u," ноч."]}),a.jsxs("span",{children:["$",R]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Сервисный сбор Airbnb"}),a.jsxs("span",{children:["$",k]})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Налоги"}),a.jsxs("span",{children:["$",T]})]}),a.jsx(Or,{}),a.jsxs("div",{className:"flex justify-between font-semibold text-base",children:[a.jsx("span",{children:"Итого (USD)"}),a.jsxs("span",{children:["$",M]})]})]})]}),a.jsxs("div",{className:"flex items-start space-x-2 mb-6",children:[a.jsx(p2,{id:"terms",checked:P,onCheckedChange:N,className:"mt-1"}),a.jsxs("label",{htmlFor:"terms",className:"text-sm text-gray-600 cursor-pointer",children:["Я согласен с"," ",a.jsx(De,{variant:"link",className:"p-0 h-auto text-sm underline",children:"правилами сервиса"})," ","и"," ",a.jsx(De,{variant:"link",className:"p-0 h-auto text-sm underline",children:"политикой отмены"}),", а также подтверждаю, что понимаю, как хозяин будет обрабатывать мои персональные данные."]})]}),a.jsx(De,{onClick:I,disabled:C||!P,className:"w-full bg-red-500 hover:bg-red-600 text-white py-3 text-lg font-semibold",children:C?a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),a.jsx("span",{children:"Обработка..."})]}):`Забронировать за $${M}`}),a.jsxs("div",{className:"flex items-center justify-center mt-4 text-xs text-gray-500",children:[a.jsx(VD,{className:"h-4 w-4 mr-1"}),a.jsx("span",{children:"🧪 Тестовое бронирование - реальные платежи не производятся"})]})]})})})]})})]}):a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Номер не найден"}),a.jsx(De,{onClick:()=>n("/airbnb"),children:"Вернуться к поиску"})]})})}function x2(){var c;const n=kd(),t=(c=Ba().state)==null?void 0:c.booking;if(!t)return a.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xl text-gray-600 mb-4",children:"Информация о бронировании не найдена"}),a.jsx(De,{onClick:()=>n("/airbnb"),children:"Вернуться к поиску"})]})});const r=t.checkIn&&$e(new Date(t.checkIn),"d MMM yyyy",{locale:En}),o=t.checkOut&&$e(new Date(t.checkOut),"d MMM yyyy",{locale:En});return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"bg-white border-b",children:a.jsx("div",{className:"max-w-4xl mx-auto px-6 py-4",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"w-8 h-8 bg-red-500 rounded text-white flex items-center justify-center font-bold",children:"A"}),a.jsx("span",{className:"text-xl font-semibold text-red-500",children:"airbnb"})]}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs(De,{variant:"outline",onClick:()=>n("/dashboard"),className:"text-sm",children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),"Открыть PMS"]}),a.jsx(De,{variant:"outline",onClick:()=>n("/airbnb"),className:"text-sm",children:"Новый поиск"})]})]})})}),a.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"flex justify-center mb-4",children:a.jsx(Fi,{className:"h-16 w-16 text-green-500"})}),a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Бронирование подтверждено!"}),a.jsx("p",{className:"text-lg text-gray-600",children:"Ваша бронь успешно создана и отправлена в систему управления отелем"}),a.jsx(tt,{className:"mt-4 bg-green-100 text-green-800 border-green-200",children:"✅ Интеграция Airbnb → PMS работает!"})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center space-x-2",children:[a.jsx($i,{className:"h-5 w-5"}),a.jsx("span",{children:"Детали бронирования"})]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"ID бронирования"}),a.jsx("div",{className:"text-sm text-gray-600 font-mono bg-gray-100 p-2 rounded",children:t.id||"AIRBNB-TEST-"+Date.now()})]}),a.jsx(Or,{}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Объект размещения"}),a.jsx("div",{className:"text-gray-600",children:t.room})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Заезд"}),a.jsx("div",{className:"text-gray-600",children:r}),a.jsx("div",{className:"text-sm text-gray-500",children:"с 15:00"})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Выезд"}),a.jsx("div",{className:"text-gray-600",children:o}),a.jsx("div",{className:"text-sm text-gray-500",children:"до 12:00"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Гости"}),a.jsxs("div",{className:"text-gray-600",children:[t.guests," человек"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Ночей"}),a.jsx("div",{className:"text-gray-600",children:t.nights})]})]}),a.jsx(Or,{}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Гость"}),a.jsx("div",{className:"text-gray-600",children:t.guest}),a.jsx("div",{className:"text-sm text-gray-500",children:t.email})]}),a.jsx(Or,{}),a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Общая стоимость"}),a.jsxs("div",{className:"text-2xl font-bold text-gray-900",children:["$",t.total]})]})]})]}),a.jsxs(Ce,{children:[a.jsx(Ye,{children:a.jsxs(Je,{className:"flex items-center space-x-2",children:[a.jsx("span",{className:"text-2xl",children:"🔄"}),a.jsx("span",{children:"Интеграция с PMS"})]})}),a.jsxs(Re,{className:"space-y-4",children:[a.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[a.jsx(Fi,{className:"h-5 w-5 text-green-500"}),a.jsx("span",{className:"font-medium text-green-800",children:"Бронирование синхронизировано"})]}),a.jsx("p",{className:"text-sm text-green-700",children:"Данные бронирования успешно переданы в систему управления отелем через Channex API"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"1. Создание в Airbnb"}),a.jsx(tt,{variant:"default",className:"bg-green-100 text-green-800",children:"✓ Выполнено"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"2. Отправка в Channex"}),a.jsx(tt,{variant:"default",className:"bg-green-100 text-green-800",children:"✓ Выполнено"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"3. Сохранение в PMS"}),a.jsx(tt,{variant:"default",className:"bg-green-100 text-green-800",children:"✓ Выполнено"})]}),a.jsxs("div",{className:"flex items-center justify-between py-2",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"4. Уведомление хозяина"}),a.jsx(tt,{variant:"default",className:"bg-blue-100 text-blue-800",children:"📤 Отправлено"})]})]}),a.jsx(Or,{}),a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[a.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Что дальше?"}),a.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[a.jsx("li",{children:"• Хозяин получит уведомление о новом бронировании"}),a.jsx("li",{children:"• Вам будет отправлено подтверждение на email"}),a.jsx("li",{children:"• Бронирование отобразится в календаре PMS"}),a.jsx("li",{children:"• Номер будет забронирован на выбранные даты"})]})]}),a.jsx("div",{className:"mt-6",children:a.jsxs(De,{onClick:()=>n("/dashboard"),className:"w-full bg-blue-500 hover:bg-blue-600 text-white",children:[a.jsx(Do,{className:"h-4 w-4 mr-2"}),"Посмотреть в календаре PMS"]})})]})]})]}),a.jsx(Ce,{className:"mt-8",children:a.jsx(Re,{className:"p-6",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"🧪 Тестирование интеграции завершено успешно!"}),a.jsx("p",{className:"text-gray-600 mb-4",children:"Полный цикл бронирования Airbnb → Channex → PMS протестирован и работает корректно"}),a.jsxs("div",{className:"flex justify-center space-x-4",children:[a.jsx(De,{variant:"outline",onClick:()=>n("/airbnb"),children:"Создать еще одну бронь"}),a.jsx(De,{variant:"outline",onClick:()=>n("/dashboard"),children:"Вернуться в PMS"})]})]})})})]})]})}const t1={Dashboard:ny,Bookings:JC,CheckIns:XC,CheckOuts:QC,Unpaid:ZC,Chat:e2,Integrations:t2,ChannexIntegration:tC,AgodaIntegration:rC,AirbnbIntegration:aC,Arrivals:n2,Departures:r2,Stays:s2,Birthdays:a2,Tasks:o2,AirbnbSimulator:i2,AirbnbBooking:g2,AirbnbConfirmation:x2};function RU(n){n.endsWith("/")&&(n=n.slice(0,-1));let e=n.split("/").pop();return e.includes("?")&&(e=e.split("?")[0]),Object.keys(t1).find(r=>r.toLowerCase()===e.toLowerCase())||Object.keys(t1)[0]}function TU(){const{user:n,loading:e}=Xh(),t=Ba();if(e)return a.jsx("div",{children:"Загрузка..."});if(!n)return a.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",backgroundColor:"#f0f2f5"},children:a.jsx(yN,{})});const r=RU(t.pathname);return a.jsx(m8,{currentPageName:r,children:a.jsxs(VT,{children:[a.jsx(yn,{path:"/",element:a.jsx(ny,{})}),a.jsx(yn,{path:"/Dashboard",element:a.jsx(ny,{})}),a.jsx(yn,{path:"/Bookings",element:a.jsx(JC,{})}),a.jsx(yn,{path:"/CheckIns",element:a.jsx(XC,{})}),a.jsx(yn,{path:"/CheckOuts",element:a.jsx(QC,{})}),a.jsx(yn,{path:"/Unpaid",element:a.jsx(ZC,{})}),a.jsx(yn,{path:"/Chat",element:a.jsx(e2,{})}),a.jsx(yn,{path:"/Integrations",element:a.jsx(t2,{})}),a.jsx(yn,{path:"/ChannexIntegration",element:a.jsx(tC,{})}),a.jsx(yn,{path:"/AgodaIntegration",element:a.jsx(rC,{})}),a.jsx(yn,{path:"/AirbnbIntegration",element:a.jsx(aC,{})}),a.jsx(yn,{path:"/Arrivals",element:a.jsx(n2,{})}),a.jsx(yn,{path:"/Departures",element:a.jsx(r2,{})}),a.jsx(yn,{path:"/Stays",element:a.jsx(s2,{})}),a.jsx(yn,{path:"/Birthdays",element:a.jsx(a2,{})}),a.jsx(yn,{path:"/Tasks",element:a.jsx(o2,{})}),a.jsx(yn,{path:"/airbnb",element:a.jsx(i2,{})}),a.jsx(yn,{path:"/airbnb-booking",element:a.jsx(g2,{})}),a.jsx(yn,{path:"/airbnb-confirmation",element:a.jsx(x2,{})})]})})}function AU(){return a.jsx(PM,{children:a.jsx(pA,{children:a.jsx(TU,{})})})}const IU=20,MU=1e6,Io={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let h0=0;function OU(){return h0=(h0+1)%Number.MAX_VALUE,h0.toString()}const m0=new Map,n1=n=>{if(m0.has(n))return;const e=setTimeout(()=>{m0.delete(n),Ih({type:Io.REMOVE_TOAST,toastId:n})},MU);m0.set(n,e)},DU=(n,e)=>{switch(e.type){case Io.ADD_TOAST:return{...n,toasts:[e.toast,...n.toasts].slice(0,IU)};case Io.UPDATE_TOAST:return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case Io.DISMISS_TOAST:{const{toastId:t}=e;return t?n1(t):n.toasts.forEach(r=>{n1(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case Io.REMOVE_TOAST:return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},gg=[];let xg={toasts:[]};function Ih(n){xg=DU(xg,n),gg.forEach(e=>{e(xg)})}function LU({...n}){const e=OU(),t=o=>Ih({type:Io.UPDATE_TOAST,toast:{...o,id:e}}),r=()=>Ih({type:Io.DISMISS_TOAST,toastId:e});return Ih({type:Io.ADD_TOAST,toast:{...n,id:e,open:!0,onOpenChange:o=>{o||r()}}}),{id:e,dismiss:r,update:t}}function $U(){const[n,e]=w.useState(xg);return w.useEffect(()=>(gg.push(e),()=>{const t=gg.indexOf(e);t>-1&&gg.splice(t,1)}),[n]),{...n,toast:LU,dismiss:t=>Ih({type:Io.DISMISS_TOAST,toastId:t})}}const v2=w.forwardRef(({...n},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));v2.displayName="ToastProvider";const y2=w.forwardRef(({...n},e)=>a.jsx("div",{ref:e,className:"fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",...n}));y2.displayName="ToastViewport";const FU=Qh("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w2=w.forwardRef(({className:n,variant:e,...t},r)=>a.jsx("div",{ref:r,className:Be(FU({variant:e}),n),...t}));w2.displayName="Toast";const zU=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",n),...e}));zU.displayName="ToastAction";const _2=w.forwardRef(({className:n,...e},t)=>a.jsx("button",{ref:t,className:Be("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",n),"toast-close":"",...e,children:a.jsx(wy,{className:"h-4 w-4"})}));_2.displayName="ToastClose";const b2=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("text-sm font-semibold",n),...e}));b2.displayName="ToastTitle";const j2=w.forwardRef(({className:n,...e},t)=>a.jsx("div",{ref:t,className:Be("text-sm opacity-90",n),...e}));j2.displayName="ToastDescription";function UU(){const{toasts:n}=$U();return a.jsxs(v2,{children:[n.map(function({id:e,title:t,description:r,action:o,...c}){return a.jsxs(w2,{...c,children:[a.jsxs("div",{className:"grid gap-1",children:[t&&a.jsx(b2,{children:t}),r&&a.jsx(j2,{children:r})]}),o,a.jsx(_2,{})]},e)}),a.jsx(y2,{})]})}const BU=()=>a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});function WU(){const{i18n:n}=es();return w.useEffect(()=>{const e=localStorage.getItem("pms_language")||"en";e!==n.language&&n.changeLanguage(e)},[n]),a.jsxs(w.Suspense,{fallback:a.jsx(BU,{}),children:[a.jsx(AU,{}),a.jsx(UU,{})]})}const HU=rR.createRoot(document.getElementById("root"));HU.render(a.jsx(an.StrictMode,{children:a.jsx(WU,{})}));
